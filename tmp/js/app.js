!function t(e,i,r){function n(a,s){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!s&&h)return h(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return n(i?i:t)},u,u.exports,t,e,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(t,e,i){(function(t){!function(t,r){"use strict";"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof i?e.exports=r():t.DeepDiff=r()}(this,function(e){"use strict";function i(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function n(t,e,i){n.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:i,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,i){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:i,enumerable:!0})}function h(t,e,i){var r=t.slice((i||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function c(t){var e=typeof t;return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"undefined"!=typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function u(t,i,r,l,f,p,_){f=f||[];var d=f.slice(0);if("undefined"!=typeof p){if(l){if("function"==typeof l&&l(d,p))return;if("object"==typeof l){if(l.prefilter&&l.prefilter(d,p))return;if(l.normalize){var g=l.normalize(d,p,t,i);g&&(t=g[0],i=g[1])}}}d.push(p)}"regexp"===c(t)&&"regexp"===c(i)&&(t=t.toString(),i=i.toString());var v=typeof t,y=typeof i;if("undefined"===v)"undefined"!==y&&r(new o(d,i));else if("undefined"===y)r(new a(d,t));else if(c(t)!==c(i))r(new n(d,t,i));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(i)&&t-i!==0)r(new n(d,t,i));else if("object"===v&&null!==t&&null!==i){if(_=_||[],_.indexOf(t)<0){if(_.push(t),Array.isArray(t)){var m;t.length;for(m=0;m<t.length;m++)m>=i.length?r(new s(d,m,new a(e,t[m]))):u(t[m],i[m],r,l,d,m,_);for(;m<i.length;)r(new s(d,m,new o(e,i[m++])))}else{var b=Object.keys(t),w=Object.keys(i);b.forEach(function(n,o){var a=w.indexOf(n);a>=0?(u(t[n],i[n],r,l,d,n,_),w=h(w,a)):u(t[n],e,r,l,d,n,_)}),w.forEach(function(t){u(e,i[t],r,l,d,t,_)})}_.length=_.length-1}}else t!==i&&("number"===v&&isNaN(t)&&isNaN(i)||r(new n(d,t,i)))}function l(t,i,r,n){return n=n||[],u(t,i,function(t){t&&n.push(t)},r),n.length?n:e}function f(t,e,i){if(i.path&&i.path.length){var r,n=t[e],o=i.path.length-1;for(r=0;r<o;r++)n=n[i.path[r]];switch(i.kind){case"A":f(n[i.path[r]],i.index,i.item);break;case"D":delete n[i.path[r]];break;case"E":case"N":n[i.path[r]]=i.rhs}}else switch(i.kind){case"A":f(t[e],i.index,i.item);break;case"D":t=h(t,e);break;case"E":case"N":t[e]=i.rhs}return t}function p(t,e,i){if(t&&e&&i&&i.kind){for(var r=t,n=-1,o=i.path?i.path.length-1:0;++n<o;)"undefined"==typeof r[i.path[n]]&&(r[i.path[n]]="number"==typeof i.path[n]?[]:{}),r=r[i.path[n]];switch(i.kind){case"A":f(i.path?r[i.path[n]]:r,i.index,i.item);break;case"D":delete r[i.path[n]];break;case"E":case"N":r[i.path[n]]=i.rhs}}}function _(t,e,i){if(i.path&&i.path.length){var r,n=t[e],o=i.path.length-1;for(r=0;r<o;r++)n=n[i.path[r]];switch(i.kind){case"A":_(n[i.path[r]],i.index,i.item);break;case"D":n[i.path[r]]=i.lhs;break;case"E":n[i.path[r]]=i.lhs;break;case"N":delete n[i.path[r]]}}else switch(i.kind){case"A":_(t[e],i.index,i.item);break;case"D":t[e]=i.lhs;break;case"E":t[e]=i.lhs;break;case"N":t=h(t,e)}return t}function d(t,e,i){if(t&&e&&i&&i.kind){var r,n,o=t;for(n=i.path.length-1,r=0;r<n;r++)"undefined"==typeof o[i.path[r]]&&(o[i.path[r]]={}),o=o[i.path[r]];switch(i.kind){case"A":_(o[i.path[r]],i.index,i.item);break;case"D":o[i.path[r]]=i.lhs;break;case"E":o[i.path[r]]=i.lhs;break;case"N":delete o[i.path[r]]}}}function g(t,e,i){if(t&&e){var r=function(r){i&&!i(t,e,r)||p(t,e,r)};u(t,e,r)}}var v,y,m=[];return v="object"==typeof t&&t?t:"undefined"!=typeof window?window:{},y=v.DeepDiff,y&&m.push(function(){"undefined"!=typeof y&&v.DeepDiff===l&&(v.DeepDiff=y,y=e)}),i(n,r),i(o,r),i(a,r),i(s,r),Object.defineProperties(l,{diff:{value:l,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:d,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof y},enumerable:!0},noConflict:{value:function(){return m&&(m.forEach(function(t){t()}),m=null),l},enumerable:!0}}),l})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,i){var r=t("./_root"),n=r.Symbol;e.exports=n},{"./_root":9}],3:[function(t,e,i){function r(t){return null==t?void 0===t?h:s:c&&c in Object(t)?o(t):a(t)}var n=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),s="[object Null]",h="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=r},{"./_Symbol":2,"./_getRawTag":6,"./_objectToString":7}],4:[function(t,e,i){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,i){var r=t("./_overArg"),n=r(Object.getPrototypeOf,Object);e.exports=n},{"./_overArg":8}],6:[function(t,e,i){function r(t){var e=a.call(t,h),i=t[h];try{t[h]=void 0;var r=!0}catch(n){}var o=s.call(t);return r&&(e?t[h]=i:delete t[h]),o}var n=t("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,h=n?n.toStringTag:void 0;e.exports=r},{"./_Symbol":2}],7:[function(t,e,i){function r(t){return o.call(t)}var n=Object.prototype,o=n.toString;e.exports=r},{}],8:[function(t,e,i){function r(t,e){return function(i){return t(e(i))}}e.exports=r},{}],9:[function(t,e,i){var r=t("./_freeGlobal"),n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();e.exports=o},{"./_freeGlobal":4}],10:[function(t,e,i){function r(t){return null!=t&&"object"==typeof t}e.exports=r},{}],11:[function(t,e,i){function r(t){if(!a(t)||n(t)!=s)return!1;var e=o(t);if(null===e)return!0;var i=l.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&u.call(i)==f}var n=t("./_baseGetTag"),o=t("./_getPrototype"),a=t("./isObjectLike"),s="[object Object]",h=Function.prototype,c=Object.prototype,u=h.toString,l=c.hasOwnProperty,f=u.call(Object);e.exports=r},{"./_baseGetTag":3,"./_getPrototype":5,"./isObjectLike":10}],12:[function(t,e,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){g&&_&&(g=!1,_.length?d=_.concat(d):v=-1,d.length&&h())}function h(){if(!g){var t=o(s);g=!0;for(var e=d.length;e;){for(_=d,d=[];++v<e;)_&&_[v].run();v=-1,e=d.length}_=null,g=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(t){f=n}}();var _,d=[],g=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new c(t,e)),1!==d.length||g||o(h)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],13:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function a(t,e,i,r){switch("undefined"==typeof t?"undefined":o(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,n(i)):t[r];case"function":return t(e);default:return t}}function s(t){var e=t.timestamp,i=t.duration;return function(t,r,n){var o=["action"];return e&&o.push("@ "+r),o.push(t.type),i&&o.push("(in "+n.toFixed(2)+" ms)"),o.join(" ")}}function h(t,e){var i=e.logger,r=e.actionTransformer,n=e.titleFormatter,o=void 0===n?s(e):n,h=e.collapsed,u=e.colors,f=e.level,p=e.diff;t.forEach(function(e,n){var s=e.started,_=e.startedTime,d=e.action,g=e.prevState,v=e.error,y=e.took,m=e.nextState,b=t[n+1];b&&(m=b.prevState,y=b.started-s);var w=r(d),M="function"==typeof h?h(function(){return m},d):h,x=(0,c.formatTime)(_),S=u.title?"color: "+u.title(w)+";":null,T=o(w,x,y);try{M?u.title?i.groupCollapsed("%c "+T,S):i.groupCollapsed(T):u.title?i.group("%c "+T,S):i.group(T)}catch(k){i.log(T)}var E=a(f,w,[g],"prevState"),D=a(f,w,[w],"action"),R=a(f,w,[v,g],"error"),C=a(f,w,[m],"nextState");E&&(u.prevState?i[E]("%c prev state","color: "+u.prevState(g)+"; font-weight: bold",g):i[E]("prev state",g)),D&&(u.action?i[D]("%c action","color: "+u.action(w)+"; font-weight: bold",w):i[D]("action",w)),v&&R&&(u.error?i[R]("%c error","color: "+u.error(v,g)+"; font-weight: bold",v):i[R]("error",v)),C&&(u.nextState?i[C]("%c next state","color: "+u.nextState(m)+"; font-weight: bold",m):i[C]("next state",m)),p&&(0,l["default"])(g,m,i,M);try{i.groupEnd()}catch(k){i.log("—— log end ——")}})}Object.defineProperty(i,"__esModule",{value:!0}),i.printBuffer=h;var c=t("./helpers"),u=t("./diff"),l=r(u)},{"./diff":15,"./helpers":16}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=i["default"]},{}],15:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t){return"color: "+c[t].color+"; font-weight: bold"}function o(t){var e=t.kind,i=t.path,r=t.lhs,n=t.rhs,o=t.index,a=t.item;switch(e){case"E":return i.join(".")+" "+r+" → "+n;case"N":return i.join(".")+" "+n;case"D":return""+i.join(".");case"A":return[i.join(".")+"["+o+"]",a];default:return null}}function a(t,e,i,r){var a=(0,h["default"])(t,e);try{r?i.groupCollapsed("diff"):i.group("diff")}catch(s){i.log("diff")}a?a.forEach(function(t){var e=t.kind,r=o(t);i.log("%c "+c[e].text,n(e),r)}):i.log("—— no diff ——");try{i.groupEnd()}catch(s){i.log("—— diff end —— ")}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=a;var s=t("deep-diff"),h=r(s),c={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=i["default"]},{"deep-diff":1}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=i.repeat=function(t,e){return new Array(e+1).join(t)},n=i.pad=function(t,e){return r("0",e-t.toString().length)+t};i.formatTime=function(t){return n(t.getHours(),2)+":"+n(t.getMinutes(),2)+":"+n(t.getSeconds(),2)+"."+n(t.getMilliseconds(),3)},i.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},{}],17:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=o({},c["default"],t),i=e.logger,r=e.transformer,n=e.stateTransformer,h=e.errorTransformer,u=e.predicate,l=e.logErrors,f=e.diffPredicate;if("undefined"==typeof i)return function(){return function(t){return function(e){return t(e)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var p=[];return function(t){var i=t.getState;return function(t){return function(r){if("function"==typeof u&&!u(i,r))return t(r);var c={};p.push(c),c.started=s.timer.now(),c.startedTime=new Date,c.prevState=n(i()),c.action=r;var _=void 0;if(l)try{_=t(r)}catch(d){c.error=h(d)}else _=t(r);c.took=s.timer.now()-c.started,c.nextState=n(i());var g=e.diff&&"function"==typeof f?f(i,r):e.diff;if((0,a.printBuffer)(p,o({},e,{diff:g})),p.length=0,c.error)throw c.error;return _}}}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};Object.defineProperty(i,"__esModule",{value:!0});var a=t("./core"),s=t("./helpers"),h=t("./defaults"),c=r(h);i["default"]=n,e.exports=i["default"]},{"./core":13,"./defaults":14,"./helpers":16}],18:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return function(i,r,n){var a=t(i,r,n),h=a.dispatch,c=[],u={getState:a.getState,dispatch:function(t){return h(t)}};return c=e.map(function(t){return t(u)}),h=s["default"].apply(void 0,c)(a.dispatch),o({},a,{dispatch:h})}}}i.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};i["default"]=n;var a=t("./compose"),s=r(a)},{"./compose":21}],19:[function(t,e,i){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function n(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(t),n={},o=0;o<i.length;o++){var a=i[o],s=t[a];"function"==typeof s&&(n[a]=r(s,e))}return n}i.__esModule=!0,i["default"]=n},{}],20:[function(t,e,i){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){var i=e&&e.type,r=i&&'"'+i.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t,e,i,r){var n=Object.keys(e),o=i&&i.type===h.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===n.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,u["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+n.join('", "')+'"');var a=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)&&!r[t]});return a.forEach(function(t){r[t]=!0}),a.length>0?"Unexpected "+(a.length>1?"keys":"key")+" "+('"'+a.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+n.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var i=t[e],r=i(void 0,{type:h.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var n="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof i(void 0,{type:n}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+h.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(t){for(var i=Object.keys(t),r={},s=0;s<i.length;s++){var h=i[s];"production"!==e.env.NODE_ENV&&"undefined"==typeof t[h]&&(0,f["default"])('No reducer provided for key "'+h+'"'),"function"==typeof t[h]&&(r[h]=t[h])}var c=Object.keys(r);if("production"!==e.env.NODE_ENV)var u={};var l;try{a(r)}catch(p){l=p}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments[1];if(l)throw l;if("production"!==e.env.NODE_ENV){var a=o(t,r,i,u);a&&(0,f["default"])(a)}for(var s=!1,h={},p=0;p<c.length;p++){var _=c[p],d=r[_],g=t[_],v=d(g,i);if("undefined"==typeof v){var y=n(_,i);throw new Error(y)}h[_]=v,s=s||v!==g}return s?h:t}}i.__esModule=!0,i["default"]=s;var h=t("./createStore"),c=t("lodash/isPlainObject"),u=r(c),l=t("./utils/warning"),f=r(l)}).call(this,t("_process"))},{"./createStore":22,"./utils/warning":24,_process:12,"lodash/isPlainObject":11}],21:[function(t,e,i){"use strict";function r(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1],n=e.slice(0,-1);return function(){return n.reduceRight(function(t,e){return e(t)},r.apply(void 0,arguments))}}i.__esModule=!0,i["default"]=r},{}],22:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i){function r(){v===g&&(v=g.slice())}function o(){return d}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),v.push(t),function(){if(e){e=!1,r();var i=v.indexOf(t);v.splice(i,1)}}}function u(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,d=_(d,t)}finally{y=!1}for(var e=g=v,i=0;i<e.length;i++)e[i]();return t}function l(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");_=t,u({type:c.INIT})}function f(){var t,e=s;return t={subscribe:function(t){function i(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");i();var r=e(i);return{unsubscribe:r}}},t[h["default"]]=function(){return this},t}var p;if("function"==typeof e&&"undefined"==typeof i&&(i=e,e=void 0),"undefined"!=typeof i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(n)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var _=t,d=e,g=[],v=g,y=!1;return u({type:c.INIT}),p={dispatch:u,subscribe:s,getState:o,replaceReducer:l},p[h["default"]]=f,p}i.__esModule=!0,i.ActionTypes=void 0,i["default"]=n;var o=t("lodash/isPlainObject"),a=r(o),s=t("symbol-observable"),h=r(s),c=i.ActionTypes={INIT:"@@redux/INIT"}},{"lodash/isPlainObject":11,"symbol-observable":26}],23:[function(t,e,i){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(){}i.__esModule=!0,i.compose=i.applyMiddleware=i.bindActionCreators=i.combineReducers=i.createStore=void 0;var o=t("./createStore"),a=r(o),s=t("./combineReducers"),h=r(s),c=t("./bindActionCreators"),u=r(c),l=t("./applyMiddleware"),f=r(l),p=t("./compose"),_=r(p),d=t("./utils/warning"),g=r(d);"production"!==e.env.NODE_ENV&&"string"==typeof n.name&&"isCrushed"!==n.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),i.createStore=a["default"],i.combineReducers=h["default"],i.bindActionCreators=u["default"],i.applyMiddleware=f["default"],i.compose=_["default"]}).call(this,t("_process"))},{"./applyMiddleware":18,"./bindActionCreators":19,"./combineReducers":20,"./compose":21,"./createStore":22,"./utils/warning":24,_process:12}],24:[function(t,e,i){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}i.__esModule=!0,i["default"]=r},{}],25:[function(t,e,i){(function(t,e){e.requestAnimationFrame=function(t){return setTimeout(t,1e3/60)},e.document={body:{appendChild:function(t){},scrollLeft:0,scrollTop:0},createElement:function(e){var i;return i={getBoundingClientRect:function(){var t;return t={left:0,top:0}},getContext:function(e){var r;return r={_termcolor:null,beginPath:function(){},canvas:i,clearRect:function(e,i,r,n){if(null!==this._termcolor){var o=this._termcolor.clearToAnsi(this.fillStyle);t.stdout.write(o)}},drawImage:function(t,e,i,r,n,o,a,s,h){},fill:function(){},fillRect:function(e,i,r,n){if(null!==this._termcolor){var o=this._termcolor.clearToAnsi(this.fillStyle);t.stdout.write(o)}},fillStyle:"#000",fillText:function(t,e,i){},font:"monospace",lineTo:function(t,e){},measureText:function(t){var e;return e={width:12}},moveTo:function(t,e){},textAlign:"center",textBaseline:"middle"}},height:0,style:{left:"100px",position:"absolute",top:"100px",visibility:"hidden"},width:0}},documentElement:{scrollLeft:0,scrollTop:0}};var r={isSupported:function(){return!(!document.createElement("canvas").getContext||!Function.prototype.bind)},DEFAULT_WIDTH:80,DEFAULT_HEIGHT:25,DIRS:{4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},VK_CANCEL:3,VK_HELP:6,VK_BACK_SPACE:8,VK_TAB:9,VK_CLEAR:12,VK_RETURN:13,VK_ENTER:14,VK_SHIFT:16,VK_CONTROL:17,VK_ALT:18,VK_PAUSE:19,VK_CAPS_LOCK:20,VK_ESCAPE:27,VK_SPACE:32,VK_PAGE_UP:33,VK_PAGE_DOWN:34,VK_END:35,VK_HOME:36,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40,VK_PRINTSCREEN:44,VK_INSERT:45,VK_DELETE:46,VK_0:48,VK_1:49,VK_2:50,VK_3:51,VK_4:52,VK_5:53,VK_6:54,VK_7:55,VK_8:56,VK_9:57,VK_COLON:58,VK_SEMICOLON:59,VK_LESS_THAN:60,VK_EQUALS:61,VK_GREATER_THAN:62,VK_QUESTION_MARK:63,VK_AT:64,VK_A:65,VK_B:66,VK_C:67,VK_D:68,VK_E:69,VK_F:70,VK_G:71,VK_H:72,VK_I:73,VK_J:74,VK_K:75,VK_L:76,VK_M:77,VK_N:78,VK_O:79,VK_P:80,VK_Q:81,VK_R:82,VK_S:83,VK_T:84,VK_U:85,VK_V:86,VK_W:87,VK_X:88,VK_Y:89,VK_Z:90,VK_CONTEXT_MENU:93,VK_NUMPAD0:96,VK_NUMPAD1:97,VK_NUMPAD2:98,VK_NUMPAD3:99,VK_NUMPAD4:100,VK_NUMPAD5:101,VK_NUMPAD6:102,VK_NUMPAD7:103,VK_NUMPAD8:104,VK_NUMPAD9:105,VK_MULTIPLY:106,VK_ADD:107,VK_SEPARATOR:108,VK_SUBTRACT:109,VK_DECIMAL:110,VK_DIVIDE:111,VK_F1:112,VK_F2:113,VK_F3:114,VK_F4:115,VK_F5:116,VK_F6:117,VK_F7:118,VK_F8:119,VK_F9:120,VK_F10:121,VK_F11:122,VK_F12:123,VK_F13:124,VK_F14:125,VK_F15:126,VK_F16:127,VK_F17:128,VK_F18:129,VK_F19:130,VK_F20:131,VK_F21:132,VK_F22:133,VK_F23:134,VK_F24:135,VK_NUM_LOCK:144,VK_SCROLL_LOCK:145,VK_CIRCUMFLEX:160,VK_EXCLAMATION:161,VK_DOUBLE_QUOTE:162,VK_HASH:163,VK_DOLLAR:164,VK_PERCENT:165,VK_AMPERSAND:166,VK_UNDERSCORE:167,VK_OPEN_PAREN:168,VK_CLOSE_PAREN:169,VK_ASTERISK:170,VK_PLUS:171,VK_PIPE:172,VK_HYPHEN_MINUS:173,VK_OPEN_CURLY_BRACKET:174,VK_CLOSE_CURLY_BRACKET:175,VK_TILDE:176,VK_COMMA:188,VK_PERIOD:190,VK_SLASH:191,VK_BACK_QUOTE:192,VK_OPEN_BRACKET:219,VK_BACK_SLASH:220,VK_CLOSE_BRACKET:221,VK_QUOTE:222,VK_META:224,VK_ALTGR:225,VK_WIN:91,VK_KANA:21,VK_HANGUL:21,VK_EISU:22,VK_JUNJA:23,VK_FINAL:24,VK_HANJA:25,VK_KANJI:25,VK_CONVERT:28,VK_NONCONVERT:29,VK_ACCEPT:30,VK_MODECHANGE:31,VK_SELECT:41,VK_PRINT:42,VK_EXECUTE:43,VK_SLEEP:95};r.Text={RE_COLORS:/%([bc]){([^}]*)}/g,TYPE_TEXT:0,TYPE_NEWLINE:1,TYPE_FG:2,TYPE_BG:3,measure:function(t,e){for(var i={width:0,height:1},r=this.tokenize(t,e),n=0,o=0;o<r.length;o++){var a=r[o];switch(a.type){case this.TYPE_TEXT:n+=a.value.length;break;case this.TYPE_NEWLINE:i.height++,i.width=Math.max(i.width,n),n=0}}return i.width=Math.max(i.width,n),i},tokenize:function(t,e){var i=[],n=0;t.replace(this.RE_COLORS,function(e,o,a,s){var h=t.substring(n,s);return h.length&&i.push({type:r.Text.TYPE_TEXT,value:h}),i.push({type:"c"==o?r.Text.TYPE_FG:r.Text.TYPE_BG,value:a.trim()}),n=s+e.length,""});var o=t.substring(n);return o.length&&i.push({type:r.Text.TYPE_TEXT,value:o}),this._breakLines(i,e)},_breakLines:function(t,e){e||(e=1/0);for(var i=0,n=0,o=-1;i<t.length;){var a=t[i];if(a.type==r.Text.TYPE_NEWLINE&&(n=0,o=-1),a.type==r.Text.TYPE_TEXT){for(;0==n&&" "==a.value.charAt(0);)a.value=a.value.substring(1);var s=a.value.indexOf("\n");if(s!=-1){a.value=this._breakInsideToken(t,i,s,!0);for(var h=a.value.split("");h.length&&" "==h[h.length-1];)h.pop();a.value=h.join("")}if(a.value.length){if(n+a.value.length>e){for(var s=-1;;){var c=a.value.indexOf(" ",s+1);if(c==-1)break;if(n+c>e)break;s=c}if(s!=-1)a.value=this._breakInsideToken(t,i,s,!0);else if(o!=-1){var a=t[o],u=a.value.lastIndexOf(" ");a.value=this._breakInsideToken(t,o,u,!0),i=o}else a.value=this._breakInsideToken(t,i,e-n,!1)}else n+=a.value.length,a.value.indexOf(" ")!=-1&&(o=i);i++}else t.splice(i,1)}else i++}t.push({type:r.Text.TYPE_NEWLINE});for(var l=null,i=0;i<t.length;i++){var a=t[i];switch(a.type){case r.Text.TYPE_TEXT:l=a;break;case r.Text.TYPE_NEWLINE:if(l){for(var h=l.value.split("");h.length&&" "==h[h.length-1];)h.pop();l.value=h.join("")}l=null}}return t.pop(),t},_breakInsideToken:function(t,e,i,n){var o={type:r.Text.TYPE_NEWLINE},a={type:r.Text.TYPE_TEXT,value:t[e].value.substring(i+(n?1:0))};return t.splice(e+1,0,o,a),t[e].value.substring(0,i)}},Array.prototype.random=Array.prototype.random||function(){return this.length?this[Math.floor(r.RNG.getUniform()*this.length)]:null},Array.prototype.randomize=Array.prototype.randomize||function(){for(var t=[];this.length;){var e=this.indexOf(this.random());t.push(this.splice(e,1)[0])}return t},Number.prototype.mod=Number.prototype.mod||function(t){return(this%t+t)%t},String.prototype.capitalize=String.prototype.capitalize||function(){return this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.lpad=String.prototype.lpad||function(t,e){for(var i=t||"0",r=e||2,n="";n.length<r-this.length;)n+=i;return n=n.substring(0,r-this.length),n+this},String.prototype.rpad=String.prototype.rpad||function(t,e){for(var i=t||"0",r=e||2,n="";n.length<r-this.length;)n+=i;return n=n.substring(0,r-this.length),this+n},String.format=String.format||function(t){var e=String.format.map,i=Array.prototype.slice.call(arguments,1),r=function(r,n,o,a){if("%"==t.charAt(a-1))return r.substring(1);if(!i.length)return r;var s=i[0],h=n||o,c=h.split(","),u=c.shift(),l=e[u.toLowerCase()];if(!l)return r;var s=i.shift(),f=s[l].apply(s,c),p=u.charAt(0);return p!=p.toLowerCase()&&(f=f.capitalize()),f};return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,r)},String.format.map=String.format.map||{s:"toString"},String.prototype.format=String.prototype.format||function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),String.format.apply(String,t)},Object.create||(Object.create=function(t){var e=function(){};return e.prototype=t,new e}),Function.prototype.extend=Function.prototype.extend||function(t){return this.prototype=Object.create(t.prototype),this.prototype.constructor=this,this},"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)}),r.Display=function(t){var e=document.createElement("canvas");this._context=e.getContext("2d"),this._data={},this._dirty=!1,this._options={},this._backend=null;var i={width:r.DEFAULT_WIDTH,height:r.DEFAULT_HEIGHT,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1,termColor:"xterm"};for(var n in t)i[n]=t[n];this.setOptions(i),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),requestAnimationFrame(this._tick)},r.Display.prototype.DEBUG=function(t,e,i){var r=[this._options.bg,this._options.fg];this.draw(t,e,null,null,r[i%r.length])},r.Display.prototype.clear=function(){this._data={},this._dirty=!0},r.Display.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e];if(t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){t.layout&&(this._backend=new(r.Display[t.layout.capitalize()])(this._context));var i=(this._options.fontStyle?this._options.fontStyle+" ":"")+this._options.fontSize+"px "+this._options.fontFamily;this._context.font=i,this._backend.compute(this._options),this._context.font=i,this._context.textAlign="center",this._context.textBaseline="middle",this._dirty=!0}return this},r.Display.prototype.getOptions=function(){return this._options},r.Display.prototype.getContainer=function(){return this._context.canvas},r.Display.prototype.computeSize=function(t,e){return this._backend.computeSize(t,e,this._options)},r.Display.prototype.computeFontSize=function(t,e){return this._backend.computeFontSize(t,e,this._options)},r.Display.prototype.eventToPosition=function(t){if(t.touches)var e=t.touches[0].clientX,i=t.touches[0].clientY;else var e=t.clientX,i=t.clientY;var r=this._context.canvas.getBoundingClientRect();return e-=r.left,i-=r.top,e<0||i<0||e>=this._context.canvas.width||i>=this._context.canvas.height?[-1,-1]:this._backend.eventToPosition(e,i)},r.Display.prototype.draw=function(t,e,i,r,n){r||(r=this._options.fg),n||(n=this._options.bg),this._data[t+","+e]=[t,e,i,r,n],this._dirty!==!0&&(this._dirty||(this._dirty={}),this._dirty[t+","+e]=!0)},r.Display.prototype.drawText=function(t,e,i,n){var o=null,a=null,s=t,h=e,c=1;n||(n=this._options.width-t);for(var u=r.Text.tokenize(i,n);u.length;){var l=u.shift();switch(l.type){case r.Text.TYPE_TEXT:for(var f=!1,p=!1,_=!1,d=!1,g=0;g<l.value.length;g++){var v=l.value.charCodeAt(g),y=l.value.charAt(g);_=v>255&&v<65377||v>65500&&v<65512&&v>65518,f=32==y.charCodeAt(0)||12288==y.charCodeAt(0),!d||_||f||s++,_&&!p&&s++,this.draw(s++,h,y,o,a),p=f,d=_}break;case r.Text.TYPE_FG:o=l.value||null;break;case r.Text.TYPE_BG:a=l.value||null;break;case r.Text.TYPE_NEWLINE:s=t,h++,c++}}return c},r.Display.prototype._tick=function(){if(requestAnimationFrame(this._tick),this._dirty){if(this._dirty===!0){this._context.fillStyle=this._options.bg,this._context.fillRect(0,0,this._context.canvas.width,this._context.canvas.height);for(var t in this._data)this._draw(t,!1)}else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}},r.Display.prototype._draw=function(t,e){var i=this._data[t];i[4]!=this._options.bg&&(e=!0),this._backend.draw(i,e)},r.Display.Backend=function(t){
this._context=t},r.Display.Backend.prototype.compute=function(t){},r.Display.Backend.prototype.draw=function(t,e){},r.Display.Backend.prototype.computeSize=function(t,e){},r.Display.Backend.prototype.computeFontSize=function(t,e){},r.Display.Backend.prototype.eventToPosition=function(t,e){},r.Display.Rect=function(t){r.Display.Backend.call(this,t),this._spacingX=0,this._spacingY=0,this._canvasCache={},this._options={}},r.Display.Rect.extend(r.Display.Backend),r.Display.Rect.cache=!1,r.Display.Rect.prototype.compute=function(t){this._canvasCache={},this._options=t;var e=Math.ceil(this._context.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),this._options.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._context.canvas.width=t.width*this._spacingX,this._context.canvas.height=t.height*this._spacingY},r.Display.Rect.prototype.draw=function(t,e){this.constructor.cache?this._drawWithCache(t,e):this._drawNoCache(t,e)},r.Display.Rect.prototype._drawWithCache=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=""+n+o+a;if(s in this._canvasCache)var h=this._canvasCache[s];else{var c=this._options.border,h=document.createElement("canvas"),u=h.getContext("2d");if(h.width=this._spacingX,h.height=this._spacingY,u.fillStyle=a,u.fillRect(c,c,h.width-c,h.height-c),n){u.fillStyle=o,u.font=this._context.font,u.textAlign="center",u.textBaseline="middle";for(var l=[].concat(n),f=0;f<l.length;f++)u.fillText(l[f],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[s]=h}this._context.drawImage(h,i*this._spacingX,r*this._spacingY)},r.Display.Rect.prototype._drawNoCache=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4];if(e){var s=this._options.border;this._context.fillStyle=a,this._context.fillRect(i*this._spacingX+s,r*this._spacingY+s,this._spacingX-s,this._spacingY-s)}if(n){this._context.fillStyle=o;for(var h=[].concat(n),c=0;c<h.length;c++)this._context.fillText(h[c],(i+.5)*this._spacingX,Math.ceil((r+.5)*this._spacingY))}},r.Display.Rect.prototype.computeSize=function(t,e){var i=Math.floor(t/this._spacingX),r=Math.floor(e/this._spacingY);return[i,r]},r.Display.Rect.prototype.computeFontSize=function(t,e){var i=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height),n=this._context.font;this._context.font="100px "+this._options.fontFamily;var o=Math.ceil(this._context.measureText("W").width);this._context.font=n;var a=o/100,s=a*r/i;return s>1&&(r=Math.floor(r/s)),Math.floor(r/this._options.spacing)},r.Display.Rect.prototype.eventToPosition=function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]},r.Display.Hex=function(t){r.Display.Backend.call(this,t),this._spacingX=0,this._spacingY=0,this._hexSize=0,this._options={}},r.Display.Hex.extend(r.Display.Backend),r.Display.Hex.prototype.compute=function(t){this._options=t;var e=Math.ceil(this._context.measureText("W").width);if(this._hexSize=Math.floor(t.spacing*(t.fontSize+e/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,t.transpose)var i="height",r="width";else var i="width",r="height";this._context.canvas[i]=Math.ceil((t.width+1)*this._spacingX),this._context.canvas[r]=Math.ceil((t.height-1)*this._spacingY+2*this._hexSize)},r.Display.Hex.prototype.draw=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=[(i+1)*this._spacingX,r*this._spacingY+this._hexSize];if(this._options.transpose&&s.reverse(),e&&(this._context.fillStyle=a,this._fill(s[0],s[1])),n){this._context.fillStyle=o;for(var h=[].concat(n),c=0;c<h.length;c++)this._context.fillText(h[c],s[0],Math.ceil(s[1]))}},r.Display.Hex.prototype.computeSize=function(t,e){this._options.transpose&&(t+=e,e=t-e,t-=e);var i=Math.floor(t/this._spacingX)-1,r=Math.floor((e-2*this._hexSize)/this._spacingY+1);return[i,r]},r.Display.Hex.prototype.computeFontSize=function(t,e){this._options.transpose&&(t+=e,e=t-e,t-=e);var i=2*t/((this._options.width+1)*Math.sqrt(3))-1,r=e/(2+1.5*(this._options.height-1)),n=Math.min(i,r),o=this._context.font;this._context.font="100px "+this._options.fontFamily;var a=Math.ceil(this._context.measureText("W").width);this._context.font=o;var s=a/100;n=Math.floor(n)+1;var h=2*n/(this._options.spacing*(1+s/Math.sqrt(3)));return Math.ceil(h)-1},r.Display.Hex.prototype.eventToPosition=function(t,e){if(this._options.transpose){t+=e,e=t-e,t-=e;var i="width"}else var i="height";var r=this._context.canvas[i]/this._options[i];return e=Math.floor(e/r),e.mod(2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]},r.Display.Hex.prototype._fill=function(t,e){var i=this._hexSize,r=this._options.border;this._context.beginPath(),this._options.transpose?(this._context.moveTo(t-i+r,e),this._context.lineTo(t-i/2+r,e+this._spacingX-r),this._context.lineTo(t+i/2-r,e+this._spacingX-r),this._context.lineTo(t+i-r,e),this._context.lineTo(t+i/2-r,e-this._spacingX+r),this._context.lineTo(t-i/2+r,e-this._spacingX+r),this._context.lineTo(t-i+r,e)):(this._context.moveTo(t,e-i+r),this._context.lineTo(t+this._spacingX-r,e-i/2+r),this._context.lineTo(t+this._spacingX-r,e+i/2-r),this._context.lineTo(t,e+i-r),this._context.lineTo(t-this._spacingX+r,e+i/2-r),this._context.lineTo(t-this._spacingX+r,e-i/2+r),this._context.lineTo(t,e-i+r)),this._context.fill()},r.Display.Tile=function(t){r.Display.Rect.call(this,t),this._options={},this._colorCanvas=document.createElement("canvas")},r.Display.Tile.extend(r.Display.Rect),r.Display.Tile.prototype.compute=function(t){this._options=t,this._context.canvas.width=t.width*t.tileWidth,this._context.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight},r.Display.Tile.prototype.draw=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=this._options.tileWidth,h=this._options.tileHeight;if(e&&(this._options.tileColorize?this._context.clearRect(i*s,r*h,s,h):(this._context.fillStyle=a,this._context.fillRect(i*s,r*h,s,h))),n)for(var c=[].concat(n),u=0;u<c.length;u++){var l=this._options.tileMap[c[u]];if(!l)throw new Error("Char '"+c[u]+"' not found in tileMap");if(this._options.tileColorize){var f=this._colorCanvas,p=f.getContext("2d");p.clearRect(0,0,s,h),p.drawImage(this._options.tileSet,l[0],l[1],s,h,0,0,s,h),"transparent"!=o&&(p.fillStyle=o,p.globalCompositeOperation="source-atop",p.fillRect(0,0,s,h)),"transparent"!=a&&(p.fillStyle=a,p.globalCompositeOperation="destination-over",p.fillRect(0,0,s,h)),this._context.drawImage(f,i*s,r*h,s,h)}else this._context.drawImage(this._options.tileSet,l[0],l[1],s,h,i*s,r*h,s,h)}},r.Display.Tile.prototype.computeSize=function(t,e){var i=Math.floor(t/this._options.tileWidth),r=Math.floor(e/this._options.tileHeight);return[i,r]},r.Display.Tile.prototype.computeFontSize=function(t,e){var i=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height);return[i,r]},r.Display.Tile.prototype.eventToPosition=function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]},r.RNG={getSeed:function(){return this._seed},setSeed:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*this._frac,t=69069*t+1>>>0,this._s1=t*this._frac,t=69069*t+1>>>0,this._s2=t*this._frac,this._c=1,this},getUniform:function(){var t=2091639*this._s0+this._c*this._frac;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2},getUniformInt:function(t,e){var i=Math.max(t,e),r=Math.min(t,e);return Math.floor(this.getUniform()*(i-r+1))+r},getNormal:function(t,e){do var i=2*this.getUniform()-1,r=2*this.getUniform()-1,n=i*i+r*r;while(n>1||0==n);var o=i*Math.sqrt(-2*Math.log(n)/n);return(t||0)+o*(e||1)},getPercentage:function(){return 1+Math.floor(100*this.getUniform())},getWeightedValue:function(t){var e=0;for(var i in t)e+=t[i];var r=this.getUniform()*e,n=0;for(var i in t)if(n+=t[i],r<n)return i;return i},getState:function(){return[this._s0,this._s1,this._s2,this._c]},setState:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this},clone:function(){var t=Object.create(this);return t.setState(this.getState()),t},_s0:0,_s1:0,_s2:0,_c:0,_frac:2.3283064365386963e-10},r.RNG.setSeed(Date.now()),r.StringGenerator=function(t){this._options={words:!1,order:3,prior:.001};for(var e in t)this._options[e]=t[e];this._boundary=String.fromCharCode(0),this._suffix=this._boundary,this._prefix=[];for(var i=0;i<this._options.order;i++)this._prefix.push(this._boundary);this._priorValues={},this._priorValues[this._boundary]=this._options.prior,this._data={}},r.StringGenerator.prototype.clear=function(){this._data={},this._priorValues={}},r.StringGenerator.prototype.generate=function(){for(var t=[this._sample(this._prefix)];t[t.length-1]!=this._boundary;)t.push(this._sample(t));return this._join(t.slice(0,-1))},r.StringGenerator.prototype.observe=function(t){for(var e=this._split(t),i=0;i<e.length;i++)this._priorValues[e[i]]=this._options.prior;e=this._prefix.concat(e).concat(this._suffix);for(var i=this._options.order;i<e.length;i++)for(var r=e.slice(i-this._options.order,i),n=e[i],o=0;o<r.length;o++){var a=r.slice(o);this._observeEvent(a,n)}},r.StringGenerator.prototype.getStats=function(){var t=[],e=0;for(var i in this._priorValues)e++;e--,t.push("distinct samples: "+e);var r=0,n=0;for(var i in this._data){r++;for(var o in this._data[i])n++}return t.push("dictionary size (contexts): "+r),t.push("dictionary size (events): "+n),t.join(", ")},r.StringGenerator.prototype._split=function(t){return t.split(this._options.words?/\s+/:"")},r.StringGenerator.prototype._join=function(t){return t.join(this._options.words?" ":"")},r.StringGenerator.prototype._observeEvent=function(t,e){var i=this._join(t);i in this._data||(this._data[i]={});var r=this._data[i];e in r||(r[e]=0),r[e]++},r.StringGenerator.prototype._sample=function(t){t=this._backoff(t);var e=this._join(t),i=this._data[e],n={};if(this._options.prior){for(var o in this._priorValues)n[o]=this._priorValues[o];for(var o in i)n[o]+=i[o]}else n=i;return r.RNG.getWeightedValue(n)},r.StringGenerator.prototype._backoff=function(t){for(t.length>this._options.order?t=t.slice(-this._options.order):t.length<this._options.order&&(t=this._prefix.slice(0,this._options.order-t.length).concat(t));!(this._join(t)in this._data)&&t.length>0;)t=t.slice(1);return t},r.EventQueue=function(){this._time=0,this._events=[],this._eventTimes=[]},r.EventQueue.prototype.getTime=function(){return this._time},r.EventQueue.prototype.clear=function(){return this._events=[],this._eventTimes=[],this},r.EventQueue.prototype.add=function(t,e){for(var i=this._events.length,r=0;r<this._eventTimes.length;r++)if(this._eventTimes[r]>e){i=r;break}this._events.splice(i,0,t),this._eventTimes.splice(i,0,e)},r.EventQueue.prototype.get=function(){if(!this._events.length)return null;var t=this._eventTimes.splice(0,1)[0];if(t>0){this._time+=t;for(var e=0;e<this._eventTimes.length;e++)this._eventTimes[e]-=t}return this._events.splice(0,1)[0]},r.EventQueue.prototype.remove=function(t){var e=this._events.indexOf(t);return e!=-1&&(this._remove(e),!0)},r.EventQueue.prototype._remove=function(t){this._events.splice(t,1),this._eventTimes.splice(t,1)},r.Scheduler=function(){this._queue=new r.EventQueue,this._repeat=[],this._current=null},r.Scheduler.prototype.getTime=function(){return this._queue.getTime()},r.Scheduler.prototype.add=function(t,e){return e&&this._repeat.push(t),this},r.Scheduler.prototype.clear=function(){return this._queue.clear(),this._repeat=[],this._current=null,this},r.Scheduler.prototype.remove=function(t){var e=this._queue.remove(t),i=this._repeat.indexOf(t);return i!=-1&&this._repeat.splice(i,1),this._current==t&&(this._current=null),e},r.Scheduler.prototype.next=function(){return this._current=this._queue.get(),this._current},r.Scheduler.Simple=function(){r.Scheduler.call(this)},r.Scheduler.Simple.extend(r.Scheduler),r.Scheduler.Simple.prototype.add=function(t,e){return this._queue.add(t,0),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Simple.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&this._queue.add(this._current,0),r.Scheduler.prototype.next.call(this)},r.Scheduler.Speed=function(){r.Scheduler.call(this)},r.Scheduler.Speed.extend(r.Scheduler),r.Scheduler.Speed.prototype.add=function(t,e){return this._queue.add(t,1/t.getSpeed()),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Speed.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&this._queue.add(this._current,1/this._current.getSpeed()),r.Scheduler.prototype.next.call(this)},r.Scheduler.Action=function(){r.Scheduler.call(this),this._defaultDuration=1,this._duration=this._defaultDuration},r.Scheduler.Action.extend(r.Scheduler),r.Scheduler.Action.prototype.add=function(t,e,i){return this._queue.add(t,i||this._defaultDuration),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Action.prototype.clear=function(){return this._duration=this._defaultDuration,r.Scheduler.prototype.clear.call(this)},r.Scheduler.Action.prototype.remove=function(t){return t==this._current&&(this._duration=this._defaultDuration),r.Scheduler.prototype.remove.call(this,t)},r.Scheduler.Action.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&(this._queue.add(this._current,this._duration||this._defaultDuration),this._duration=this._defaultDuration),r.Scheduler.prototype.next.call(this)},r.Scheduler.Action.prototype.setDuration=function(t){return this._current&&(this._duration=t),this},r.Engine=function(t){this._scheduler=t,this._lock=1},r.Engine.prototype.start=function(){return this.unlock()},r.Engine.prototype.lock=function(){return this._lock++,this},r.Engine.prototype.unlock=function(){if(!this._lock)throw new Error("Cannot unlock unlocked engine");for(this._lock--;!this._lock;){var t=this._scheduler.next();if(!t)return this.lock();var e=t.act();e&&e.then&&(this.lock(),e.then(this.unlock.bind(this)))}return this},r.Map=function(t,e){this._width=t||r.DEFAULT_WIDTH,this._height=e||r.DEFAULT_HEIGHT},r.Map.prototype.create=function(t){},r.Map.prototype._fillMap=function(t){for(var e=[],i=0;i<this._width;i++){e.push([]);for(var r=0;r<this._height;r++)e[i].push(t)}return e},r.Map.Arena=function(t,e){r.Map.call(this,t,e)},r.Map.Arena.extend(r.Map),r.Map.Arena.prototype.create=function(t){for(var e=this._width-1,i=this._height-1,r=0;r<=e;r++)for(var n=0;n<=i;n++){var o=r&&n&&r<e&&n<i;t(r,n,o?0:1)}return this},r.Map.DividedMaze=function(t,e){r.Map.call(this,t,e),this._stack=[]},r.Map.DividedMaze.extend(r.Map),r.Map.DividedMaze.prototype.create=function(t){var e=this._width,i=this._height;this._map=[];for(var r=0;r<e;r++){this._map.push([]);for(var n=0;n<i;n++){var o=0==r||0==n||r+1==e||n+1==i;this._map[r].push(o?1:0)}}this._stack=[[1,1,e-2,i-2]],this._process();for(var r=0;r<e;r++)for(var n=0;n<i;n++)t(r,n,this._map[r][n]);return this._map=null,this},r.Map.DividedMaze.prototype._process=function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}},r.Map.DividedMaze.prototype._partitionRoom=function(t){for(var e=[],i=[],r=t[0]+1;r<t[2];r++){var n=this._map[r][t[1]-1],o=this._map[r][t[3]+1];!n||!o||r%2||e.push(r)}for(var a=t[1]+1;a<t[3];a++){var s=this._map[t[0]-1][a],h=this._map[t[2]+1][a];!s||!h||a%2||i.push(a)}if(e.length&&i.length){var c=e.random(),u=i.random();this._map[c][u]=1;var l=[],f=[];l.push(f);for(var r=t[0];r<c;r++)this._map[r][u]=1,f.push([r,u]);var f=[];l.push(f);for(var r=c+1;r<=t[2];r++)this._map[r][u]=1,f.push([r,u]);var f=[];l.push(f);for(var a=t[1];a<u;a++)this._map[c][a]=1,f.push([c,a]);var f=[];l.push(f);for(var a=u+1;a<=t[3];a++)this._map[c][a]=1,f.push([c,a]);for(var p=l.random(),r=0;r<l.length;r++){var f=l[r];if(f!=p){var _=f.random();this._map[_[0]][_[1]]=0}}this._stack.push([t[0],t[1],c-1,u-1]),this._stack.push([c+1,t[1],t[2],u-1]),this._stack.push([t[0],u+1,c-1,t[3]]),this._stack.push([c+1,u+1,t[2],t[3]])}},r.Map.IceyMaze=function(t,e,i){r.Map.call(this,t,e),this._regularity=i||0},r.Map.IceyMaze.extend(r.Map),r.Map.IceyMaze.prototype.create=function(t){var e=this._width,i=this._height,n=this._fillMap(1);e-=e%2?1:2,i-=i%2?1:2;var o=0,a=0,s=0,h=0,c=0,u=!1,l=[[0,0],[0,0],[0,0],[0,0]];do if(o=1+2*Math.floor(r.RNG.getUniform()*(e-1)/2),a=1+2*Math.floor(r.RNG.getUniform()*(i-1)/2),c||(n[o][a]=0),!n[o][a]){this._randomize(l);do{0==Math.floor(r.RNG.getUniform()*(this._regularity+1))&&this._randomize(l),u=!0;for(var f=0;f<4;f++)if(s=o+2*l[f][0],h=a+2*l[f][1],this._isFree(n,s,h,e,i)){n[s][h]=0,n[o+l[f][0]][a+l[f][1]]=0,o=s,a=h,u=!1,c++;break}}while(!u)}while(c+1<e*i/4);for(var f=0;f<this._width;f++)for(var p=0;p<this._height;p++)t(f,p,n[f][p]);return this._map=null,this},r.Map.IceyMaze.prototype._randomize=function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*r.RNG.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}},r.Map.IceyMaze.prototype._isFree=function(t,e,i,r,n){return!(e<1||i<1||e>=r||i>=n)&&t[e][i]},r.Map.EllerMaze=function(t,e){r.Map.call(this,t,e)},r.Map.EllerMaze.extend(r.Map),r.Map.EllerMaze.prototype.create=function(t){for(var e=this._fillMap(1),i=Math.ceil((this._width-2)/2),n=.375,o=[],a=[],s=0;s<i;s++)o.push(s),a.push(s);o.push(i-1);for(var h=1;h+3<this._height;h+=2)for(var s=0;s<i;s++){var c=2*s+1,u=h;e[c][u]=0,s!=o[s+1]&&r.RNG.getUniform()>n&&(this._addToList(s,o,a),e[c+1][u]=0),s!=o[s]&&r.RNG.getUniform()>n?this._removeFromList(s,o,a):e[c][u+1]=0}for(var s=0;s<i;s++){var c=2*s+1,u=h;e[c][u]=0,s!=o[s+1]&&(s==o[s]||r.RNG.getUniform()>n)&&(this._addToList(s,o,a),e[c+1][u]=0),this._removeFromList(s,o,a)}for(var s=0;s<this._width;s++)for(var h=0;h<this._height;h++)t(s,h,e[s][h]);return this},r.Map.EllerMaze.prototype._removeFromList=function(t,e,i){i[e[t]]=i[t],e[i[t]]=e[t],i[t]=t,e[t]=t},r.Map.EllerMaze.prototype._addToList=function(t,e,i){i[e[t+1]]=i[t],e[i[t]]=e[t+1],i[t]=t+1,e[t+1]=t},r.Map.Cellular=function(t,e,i){r.Map.call(this,t,e),this._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8,connected:!1},this.setOptions(i),this._dirs=r.DIRS[this._options.topology],this._map=this._fillMap(0)},r.Map.Cellular.extend(r.Map),r.Map.Cellular.prototype.randomize=function(t){for(var e=0;e<this._width;e++)for(var i=0;i<this._height;i++)this._map[e][i]=r.RNG.getUniform()<t?1:0;return this},r.Map.Cellular.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e]},r.Map.Cellular.prototype.set=function(t,e,i){this._map[t][e]=i},r.Map.Cellular.prototype.create=function(t){for(var e=this._fillMap(0),i=this._options.born,r=this._options.survive,n=0;n<this._height;n++){var o=1,a=0;6==this._options.topology&&(o=2,a=n%2);for(var s=a;s<this._width;s+=o){var h=this._map[s][n],c=this._getNeighbors(s,n);h&&r.indexOf(c)!=-1?e[s][n]=1:h||i.indexOf(c)==-1||(e[s][n]=1)}}if(this._map=e,this._options.connected&&this._completeMaze(),t)for(var n=0;n<this._height;n++){var o=1,a=0;6==this._options.topology&&(o=2,a=n%2);for(var s=a;s<this._width;s+=o)t(s,n,e[s][n])}},r.Map.Cellular.prototype._getNeighbors=function(t,e){for(var i=0,r=0;r<this._dirs.length;r++){var n=this._dirs[r],o=t+n[0],a=e+n[1];o<0||o>=this._width||o<0||a>=this._width||(i+=1==this._map[o][a]?1:0)}return i},r.Map.Cellular.prototype._completeMaze=function(){for(var t=[],e={},i=0;i<this._width;i++)for(var n=0;n<this._height;n++)if(this._freeSpace(i,n)){var o=[i,n];e[this._pointKey(o)]=o,t.push([i,n])}var a=t[r.RNG.getUniformInt(0,t.length-1)],s=this._pointKey(a),h={};for(h[s]=a,delete e[s],this._findConnected(h,e,[a]);Object.keys(e).length>0;){var o=this._getFromTo(h,e),c=o[0],u=o[1],l={};l[this._pointKey(c)]=c,this._findConnected(l,e,[c],!0),this._tunnelToConnected(u,c,h,e);for(var f in l){var p=l[f];this._map[p[0]][p[1]]=0,h[f]=p,delete e[f]}}},r.Map.Cellular.prototype._getFromTo=function(t,e){for(var i,n,o,a=Object.keys(t),s=Object.keys(e),h=0;h<5;h++){if(a.length<s.length){var c=a;n=t[c[r.RNG.getUniformInt(0,c.length-1)]],i=this._getClosest(n,e)}else{var c=s;i=e[c[r.RNG.getUniformInt(0,c.length-1)]],n=this._getClosest(i,t)}if(o=(i[0]-n[0])*(i[0]-n[0])+(i[1]-n[1])*(i[1]-n[1]),o<64)break}return[i,n]},r.Map.Cellular.prototype._getClosest=function(t,e){var i=null,r=null;for(k in e){var n=e[k],o=(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]);(null==r||o<r)&&(r=o,i=n)}return i},r.Map.Cellular.prototype._findConnected=function(t,e,i,r){for(;i.length>0;)for(var n=i.splice(0,1)[0],o=[[n[0]+1,n[1]],[n[0]-1,n[1]],[n[0],n[1]+1],[n[0],n[1]-1]],a=0;a<o.length;a++){var s=this._pointKey(o[a]);null==t[s]&&this._freeSpace(o[a][0],o[a][1])&&(t[s]=o[a],r||delete e[s],i.push(o[a]))}},r.Map.Cellular.prototype._tunnelToConnected=function(t,e,i,r){var n,o;this._pointKey(e);e[0]<t[0]?(n=e,o=t):(n=t,o=e);for(var a=n[0];a<=o[0];a++){this._map[a][n[1]]=0;var s=[a,n[1]],h=this._pointKey(s);i[h]=s,delete r[h]}var c=o[0];e[1]<t[1]?(n=e,o=t):(n=t,o=e);for(var u=n[1];u<o[1];u++){this._map[c][u]=0;var s=[c,u],h=this._pointKey(s);i[h]=s,delete r[h]}},r.Map.Cellular.prototype._freeSpace=function(t,e){return t>=0&&t<this._width&&e>=0&&e<this._height&&1!=this._map[t][e]},r.Map.Cellular.prototype._pointKey=function(t){return t[0]+"."+t[1]},r.Map.Dungeon=function(t,e){r.Map.call(this,t,e),this._rooms=[],this._corridors=[]},r.Map.Dungeon.extend(r.Map),r.Map.Dungeon.prototype.getRooms=function(){return this._rooms},r.Map.Dungeon.prototype.getCorridors=function(){return this._corridors},r.Map.Digger=function(t,e,i){r.Map.Dungeon.call(this,t,e),this._options={roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3};for(var n in i)this._options[n]=i[n];this._features={Room:4,Corridor:4},this._featureAttempts=20,this._walls={},this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this),this._priorityWallCallback=this._priorityWallCallback.bind(this)},r.Map.Digger.extend(r.Map.Dungeon),r.Map.Digger.prototype.create=function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var i=Date.now();do{var r=Date.now();if(r-i>this._options.timeLimit)break;var n=this._findWall();if(!n)break;var o=n.split(","),a=parseInt(o[0]),s=parseInt(o[1]),h=this._getDiggingDirection(a,s);if(h){var c=0;do if(c++,this._tryFeature(a,s,h[0],h[1])){this._removeSurroundingWalls(a,s),this._removeSurroundingWalls(a-h[0],s-h[1]);break}while(c<this._featureAttempts);var u=0;for(var l in this._walls)this._walls[l]>1&&u++}}while(this._dug/e<this._options.dugPercentage||u);if(this._addDoors(),t)for(var f=0;f<this._width;f++)for(var p=0;p<this._height;p++)t(f,p,this._map[f][p]);return this._walls={},this._map=null,this},r.Map.Digger.prototype._digCallback=function(t,e,i){0==i||2==i?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1},r.Map.Digger.prototype._isWallCallback=function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]},r.Map.Digger.prototype._canBeDugCallback=function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]},r.Map.Digger.prototype._priorityWallCallback=function(t,e){this._walls[t+","+e]=2},r.Map.Digger.prototype._firstRoom=function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),i=r.Map.Feature.Room.createRandomCenter(t,e,this._options);this._rooms.push(i),i.create(this._digCallback)},r.Map.Digger.prototype._findWall=function(){var t=[],e=[];for(var i in this._walls){var r=this._walls[i];2==r?e.push(i):t.push(i)}var n=e.length?e:t;if(!n.length)return null;var i=n.random();return delete this._walls[i],i},r.Map.Digger.prototype._tryFeature=function(t,e,i,n){var o=r.RNG.getWeightedValue(this._features);return o=r.Map.Feature[o].createRandomAt(t,e,i,n,this._options),!!o.isValid(this._isWallCallback,this._canBeDugCallback)&&(o.create(this._digCallback),o instanceof r.Map.Feature.Room&&this._rooms.push(o),o instanceof r.Map.Feature.Corridor&&(o.createPriorityWalls(this._priorityWallCallback),this._corridors.push(o)),!0)},r.Map.Digger.prototype._removeSurroundingWalls=function(t,e){for(var i=r.DIRS[4],n=0;n<i.length;n++){var o=i[n],a=t+o[0],s=e+o[1];delete this._walls[a+","+s];var a=t+2*o[0],s=e+2*o[1];delete this._walls[a+","+s]}},r.Map.Digger.prototype._getDiggingDirection=function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var i=null,n=r.DIRS[4],o=0;o<n.length;o++){var a=n[o],s=t+a[0],h=e+a[1];if(!this._map[s][h]){if(i)return null;i=a}}return i?[-i[0],-i[1]]:null},r.Map.Digger.prototype._addDoors=function(){for(var t=this._map,e=function(e,i){return 1==t[e][i]},i=0;i<this._rooms.length;i++){var r=this._rooms[i];r.clearDoors(),r.addDoors(e)}},r.Map.Uniform=function(t,e,i){r.Map.Dungeon.call(this,t,e),this._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3};for(var n in i)this._options[n]=i[n];this._roomAttempts=20,this._corridorAttempts=20,this._connected=[],this._unconnected=[],this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this)},r.Map.Uniform.extend(r.Map.Dungeon),r.Map.Uniform.prototype.create=function(t){for(var e=Date.now();;){var i=Date.now();if(i-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var r=0;r<this._width;r++)for(var n=0;n<this._height;n++)t(r,n,this._map[r][n]);return this},r.Map.Uniform.prototype._generateRooms=function(){var t=this._width-2,e=this._height-2;do{var i=this._generateRoom();if(this._dug/(t*e)>this._options.roomDugPercentage)break}while(i)},r.Map.Uniform.prototype._generateRoom=function(){for(var t=0;t<this._roomAttempts;){t++;var e=r.Map.Feature.Room.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null},r.Map.Uniform.prototype._generateCorridors=function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var i=this._rooms[e];i.clearDoors(),i.create(this._digCallback)}for(this._unconnected=this._rooms.slice().randomize(),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var r=this._connected.random(),n=this._closestRoom(this._unconnected,r),o=this._closestRoom(this._connected,n),a=this._connectRooms(n,o);if(!a)break;if(!this._unconnected.length)return!0}}return!1},r.Map.Uniform.prototype._closestRoom=function(t,e){for(var i=1/0,r=e.getCenter(),n=null,o=0;o<t.length;o++){var a=t[o],s=a.getCenter(),h=s[0]-r[0],c=s[1]-r[1],u=h*h+c*c;u<i&&(i=u,n=a)}return n},r.Map.Uniform.prototype._connectRooms=function(t,e){var i=t.getCenter(),r=e.getCenter(),n=r[0]-i[0],o=r[1]-i[1];if(Math.abs(n)<Math.abs(o))var a=o>0?2:0,s=(a+2)%4,h=e.getLeft(),c=e.getRight(),u=0;else var a=n>0?1:3,s=(a+2)%4,h=e.getTop(),c=e.getBottom(),u=1;var l=this._placeInWall(t,a);if(!l)return!1;if(l[u]>=h&&l[u]<=c){var f=l.slice(),p=null;switch(s){case 0:p=e.getTop()-1;break;case 1:p=e.getRight()+1;break;case 2:p=e.getBottom()+1;break;case 3:p=e.getLeft()-1}f[(u+1)%2]=p,this._digLine([l,f])}else if(l[u]<h-1||l[u]>c+1){var _=l[u]-r[u];switch(s){case 0:case 1:var d=_<0?3:1;break;case 2:case 3:var d=_<0?1:3}s=(s+d)%4;var f=this._placeInWall(e,s);if(!f)return!1;var g=[0,0];g[u]=l[u];var v=(u+1)%2;g[v]=f[v],this._digLine([l,g,f])}else{var v=(u+1)%2,f=this._placeInWall(e,s);if(!f)return!1;var g=Math.round((f[v]+l[v])/2),y=[0,0],m=[0,0];y[u]=l[u],y[v]=g,m[u]=f[u],m[v]=g,this._digLine([l,y,m,f])}t.addDoor(l[0],l[1]),e.addDoor(f[0],f[1]);var u=this._unconnected.indexOf(t);u!=-1&&(this._unconnected.splice(u,1),this._connected.push(t));var u=this._unconnected.indexOf(e);return u!=-1&&(this._unconnected.splice(u,1),this._connected.push(e)),!0},r.Map.Uniform.prototype._placeInWall=function(t,e){var i=[0,0],r=[0,0],n=0;switch(e){case 0:r=[1,0],i=[t.getLeft(),t.getTop()-1],n=t.getRight()-t.getLeft()+1;break;case 1:r=[0,1],i=[t.getRight()+1,t.getTop()],n=t.getBottom()-t.getTop()+1;break;case 2:r=[1,0],i=[t.getLeft(),t.getBottom()+1],n=t.getRight()-t.getLeft()+1;break;case 3:r=[0,1],i=[t.getLeft()-1,t.getTop()],n=t.getBottom()-t.getTop()+1}for(var o=[],a=-2,s=0;s<n;s++){var h=i[0]+s*r[0],c=i[1]+s*r[1];o.push(null);var u=1==this._map[h][c];u?a!=s-1&&(o[s]=[h,c]):(a=s,s&&(o[s-1]=null))}for(var s=o.length-1;s>=0;s--)o[s]||o.splice(s,1);return o.length?o.random():null},r.Map.Uniform.prototype._digLine=function(t){for(var e=1;e<t.length;e++){var i=t[e-1],n=t[e],o=new r.Map.Feature.Corridor(i[0],i[1],n[0],n[1]);o.create(this._digCallback),this._corridors.push(o)}},r.Map.Uniform.prototype._digCallback=function(t,e,i){this._map[t][e]=i,0==i&&this._dug++},r.Map.Uniform.prototype._isWallCallback=function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]},r.Map.Uniform.prototype._canBeDugCallback=function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]},r.Map.Rogue=function(t,e,i){r.Map.call(this,t,e),this._options={cellWidth:3,cellHeight:3};for(var n in i)this._options[n]=i[n];this._options.hasOwnProperty("roomWidth")||(this._options.roomWidth=this._calculateRoomSize(this._width,this._options.cellWidth)),this._options.hasOwnProperty("roomHeight")||(this._options.roomHeight=this._calculateRoomSize(this._height,this._options.cellHeight))},r.Map.Rogue.extend(r.Map),r.Map.Rogue.prototype.create=function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var i=0;i<this._height;i++)t(e,i,this.map[e][i]);return this},r.Map.Rogue.prototype._calculateRoomSize=function(t,e){var i=Math.floor(t/e*.8),r=Math.floor(t/e*.25);return r<2&&(r=2),i<2&&(i=2),[r,i]},r.Map.Rogue.prototype._initRooms=function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}},r.Map.Rogue.prototype._connectRooms=function(){var t,e,i,n,o,a=r.RNG.getUniformInt(0,this._options.cellWidth-1),s=r.RNG.getUniformInt(0,this._options.cellHeight-1),h=!1;do{var c=[0,2,4,6];c=c.randomize();do if(h=!1,t=c.pop(),e=a+r.DIRS[8][t][0],i=s+r.DIRS[8][t][1],!(e<0||e>=this._options.cellWidth||i<0||i>=this._options.cellHeight)){if(n=this.rooms[a][s],n.connections.length>0&&n.connections[0][0]==e&&n.connections[0][1]==i)break;o=this.rooms[e][i],0==o.connections.length&&(o.connections.push([a,s]),this.connectedCells.push([e,i]),a=e,s=i,h=!0)}while(c.length>0&&0==h)}while(c.length>0)},r.Map.Rogue.prototype._connectUnconnectedRooms=function(){var t=this._options.cellWidth,e=this._options.cellHeight;this.connectedCells=this.connectedCells.randomize();for(var i,n,o,a=0;a<this._options.cellWidth;a++)for(var s=0;s<this._options.cellHeight;s++)if(i=this.rooms[a][s],0==i.connections.length){var h=[0,2,4,6];h=h.randomize();var o=!1;do{var c=h.pop(),u=a+r.DIRS[8][c][0],l=s+r.DIRS[8][c][1];if(!(u<0||u>=t||l<0||l>=e)){if(n=this.rooms[u][l],o=!0,0==n.connections.length)break;for(var f=0;f<n.connections.length;f++)if(n.connections[f][0]==a&&n.connections[f][1]==s){o=!1;break}if(o)break}}while(h.length);o?i.connections.push([n.cellx,n.celly]):console.log("-- Unable to connect room.")}},r.Map.Rogue.prototype._createRandomRoomConnections=function(t){},r.Map.Rogue.prototype._createRooms=function(){for(var t,e,i,n,o,a=this._width,s=this._height,h=this._options.cellWidth,c=this._options.cellHeight,u=Math.floor(this._width/h),l=Math.floor(this._height/c),f=this._options.roomWidth,p=this._options.roomHeight,_=0;_<h;_++)for(var d=0;d<c;d++){
if(i=u*_,n=l*d,0==i&&(i=1),0==n&&(n=1),t=r.RNG.getUniformInt(f[0],f[1]),e=r.RNG.getUniformInt(p[0],p[1]),d>0)for(o=this.rooms[_][d-1];n-(o.y+o.height)<3;)n++;if(_>0)for(o=this.rooms[_-1][d];i-(o.x+o.width)<3;)i++;for(var g=Math.round(r.RNG.getUniformInt(0,u-t)/2),v=Math.round(r.RNG.getUniformInt(0,l-e)/2);i+g+t>=a;)g?g--:t--;for(;n+v+e>=s;)v?v--:e--;i+=g,n+=v,this.rooms[_][d].x=i,this.rooms[_][d].y=n,this.rooms[_][d].width=t,this.rooms[_][d].height=e;for(var y=i;y<i+t;y++)for(var m=n;m<n+e;m++)this.map[y][m]=0}},r.Map.Rogue.prototype._getWallPosition=function(t,e){var i,n,o;return 1==e||3==e?(i=r.RNG.getUniformInt(t.x+1,t.x+t.width-2),1==e?(n=t.y-2,o=n+1):(n=t.y+t.height+1,o=n-1),this.map[i][o]=0):2!=e&&4!=e||(n=r.RNG.getUniformInt(t.y+1,t.y+t.height-2),2==e?(i=t.x+t.width+1,o=i-1):(i=t.x-2,o=i+1),this.map[o][n]=0),[i,n]},r.Map.Rogue.prototype._drawCorridore=function(t,e){var i,n,o,a,s=e[0]-t[0],h=e[1]-t[1],c=t[0],u=t[1],l=[],f=Math.abs(s),p=Math.abs(h),_=r.RNG.getUniform(),d=_,g=1-_;for(n=s>0?2:6,o=h>0?4:0,f<p?(i=Math.ceil(p*d),l.push([o,i]),l.push([n,f]),i=Math.floor(p*g),l.push([o,i])):(i=Math.ceil(f*d),l.push([n,i]),l.push([o,p]),i=Math.floor(f*g),l.push([n,i])),this.map[c][u]=0;l.length>0;)for(a=l.pop();a[1]>0;)c+=r.DIRS[8][a[0]][0],u+=r.DIRS[8][a[0]][1],this.map[c][u]=0,a[1]=a[1]-1},r.Map.Rogue.prototype._createCorridors=function(){for(var t,e,i,r,n,o=this._options.cellWidth,a=this._options.cellHeight,s=0;s<o;s++)for(var h=0;h<a;h++){t=this.rooms[s][h];for(var c=0;c<t.connections.length;c++)e=t.connections[c],i=this.rooms[e[0]][e[1]],i.cellx>t.cellx?(r=2,n=4):i.cellx<t.cellx?(r=4,n=2):i.celly>t.celly?(r=3,n=1):i.celly<t.celly&&(r=1,n=3),this._drawCorridore(this._getWallPosition(t,r),this._getWallPosition(i,n))}},r.Map.Feature=function(){},r.Map.Feature.prototype.isValid=function(t){},r.Map.Feature.prototype.create=function(t){},r.Map.Feature.prototype.debug=function(){},r.Map.Feature.createRandomAt=function(t,e,i,r,n){},r.Map.Feature.Room=function(t,e,i,r,n,o){this._x1=t,this._y1=e,this._x2=i,this._y2=r,this._doors={},arguments.length>4&&this.addDoor(n,o)},r.Map.Feature.Room.extend(r.Map.Feature),r.Map.Feature.Room.createRandomAt=function(t,e,i,n,o){var a=o.roomWidth[0],s=o.roomWidth[1],h=r.RNG.getUniformInt(a,s),a=o.roomHeight[0],s=o.roomHeight[1],c=r.RNG.getUniformInt(a,s);if(1==i){var u=e-Math.floor(r.RNG.getUniform()*c);return new this(t+1,u,t+h,u+c-1,t,e)}if(i==-1){var u=e-Math.floor(r.RNG.getUniform()*c);return new this(t-h,u,t-1,u+c-1,t,e)}if(1==n){var l=t-Math.floor(r.RNG.getUniform()*h);return new this(l,e+1,l+h-1,e+c,t,e)}if(n==-1){var l=t-Math.floor(r.RNG.getUniform()*h);return new this(l,e-c,l+h-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")},r.Map.Feature.Room.createRandomCenter=function(t,e,i){var n=i.roomWidth[0],o=i.roomWidth[1],a=r.RNG.getUniformInt(n,o),n=i.roomHeight[0],o=i.roomHeight[1],s=r.RNG.getUniformInt(n,o),h=t-Math.floor(r.RNG.getUniform()*a),c=e-Math.floor(r.RNG.getUniform()*s),u=h+a-1,l=c+s-1;return new this(h,c,u,l)},r.Map.Feature.Room.createRandom=function(t,e,i){var n=i.roomWidth[0],o=i.roomWidth[1],a=r.RNG.getUniformInt(n,o),n=i.roomHeight[0],o=i.roomHeight[1],s=r.RNG.getUniformInt(n,o),h=t-a-1,c=e-s-1,u=1+Math.floor(r.RNG.getUniform()*h),l=1+Math.floor(r.RNG.getUniform()*c),f=u+a-1,p=l+s-1;return new this(u,l,f,p)},r.Map.Feature.Room.prototype.addDoor=function(t,e){return this._doors[t+","+e]=1,this},r.Map.Feature.Room.prototype.getDoors=function(t){for(var e in this._doors){var i=e.split(",");t(parseInt(i[0]),parseInt(i[1]))}return this},r.Map.Feature.Room.prototype.clearDoors=function(){return this._doors={},this},r.Map.Feature.Room.prototype.addDoors=function(t){for(var e=this._x1-1,i=this._x2+1,r=this._y1-1,n=this._y2+1,o=e;o<=i;o++)for(var a=r;a<=n;a++)o!=e&&o!=i&&a!=r&&a!=n||t(o,a)||this.addDoor(o,a);return this},r.Map.Feature.Room.prototype.debug=function(){console.log("room",this._x1,this._y1,this._x2,this._y2)},r.Map.Feature.Room.prototype.isValid=function(t,e){for(var i=this._x1-1,r=this._x2+1,n=this._y1-1,o=this._y2+1,a=i;a<=r;a++)for(var s=n;s<=o;s++)if(a==i||a==r||s==n||s==o){if(!t(a,s))return!1}else if(!e(a,s))return!1;return!0},r.Map.Feature.Room.prototype.create=function(t){for(var e=this._x1-1,i=this._x2+1,r=this._y1-1,n=this._y2+1,o=0,a=e;a<=i;a++)for(var s=r;s<=n;s++)o=a+","+s in this._doors?2:a==e||a==i||s==r||s==n?1:0,t(a,s,o)},r.Map.Feature.Room.prototype.getCenter=function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]},r.Map.Feature.Room.prototype.getLeft=function(){return this._x1},r.Map.Feature.Room.prototype.getRight=function(){return this._x2},r.Map.Feature.Room.prototype.getTop=function(){return this._y1},r.Map.Feature.Room.prototype.getBottom=function(){return this._y2},r.Map.Feature.Corridor=function(t,e,i,r){this._startX=t,this._startY=e,this._endX=i,this._endY=r,this._endsWithAWall=!0},r.Map.Feature.Corridor.extend(r.Map.Feature),r.Map.Feature.Corridor.createRandomAt=function(t,e,i,n,o){var a=o.corridorLength[0],s=o.corridorLength[1],h=r.RNG.getUniformInt(a,s);return new this(t,e,t+i*h,e+n*h)},r.Map.Feature.Corridor.prototype.debug=function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)},r.Map.Feature.Corridor.prototype.isValid=function(t,e){var i=this._startX,r=this._startY,n=this._endX-i,o=this._endY-r,a=1+Math.max(Math.abs(n),Math.abs(o));n&&(n/=Math.abs(n)),o&&(o/=Math.abs(o));for(var s=o,h=-n,c=!0,u=0;u<a;u++){var l=i+u*n,f=r+u*o;if(e(l,f)||(c=!1),t(l+s,f+h)||(c=!1),t(l-s,f-h)||(c=!1),!c){a=u,this._endX=l-n,this._endY=f-o;break}}if(0==a)return!1;if(1==a&&t(this._endX+n,this._endY+o))return!1;var p=!t(this._endX+n+s,this._endY+o+h),_=!t(this._endX+n-s,this._endY+o-h);return this._endsWithAWall=t(this._endX+n,this._endY+o),!p&&!_||!this._endsWithAWall},r.Map.Feature.Corridor.prototype.create=function(t){var e=this._startX,i=this._startY,r=this._endX-e,n=this._endY-i,o=1+Math.max(Math.abs(r),Math.abs(n));r&&(r/=Math.abs(r)),n&&(n/=Math.abs(n));for(var a=0;a<o;a++){var s=e+a*r,h=i+a*n;t(s,h,0)}return!0},r.Map.Feature.Corridor.prototype.createPriorityWalls=function(t){if(this._endsWithAWall){var e=this._startX,i=this._startY,r=this._endX-e,n=this._endY-i;r&&(r/=Math.abs(r)),n&&(n/=Math.abs(n));var o=n,a=-r;t(this._endX+r,this._endY+n),t(this._endX+o,this._endY+a),t(this._endX-o,this._endY-a)}},r.Noise=function(){},r.Noise.prototype.get=function(t,e){},r.Noise.Simplex=function(t){r.Noise.call(this),this._F2=.5*(Math.sqrt(3)-1),this._G2=(3-Math.sqrt(3))/6,this._gradients=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]];for(var e=[],i=t||256,n=0;n<i;n++)e.push(n);e=e.randomize(),this._perms=[],this._indexes=[];for(var n=0;n<2*i;n++)this._perms.push(e[n%i]),this._indexes.push(this._perms[n]%this._gradients.length)},r.Noise.Simplex.extend(r.Noise),r.Noise.Simplex.prototype.get=function(t,e){var i,r,n,o=this._perms,a=this._indexes,s=o.length/2,h=this._G2,c=0,u=0,l=0,f=(t+e)*this._F2,p=Math.floor(t+f),_=Math.floor(e+f),d=(p+_)*h,g=p-d,v=_-d,y=t-g,m=e-v;y>m?(r=1,n=0):(r=0,n=1);var b=y-r+h,w=m-n+h,M=y-1+2*h,x=m-1+2*h,S=p.mod(s),T=_.mod(s),k=.5-y*y-m*m;if(k>=0){k*=k,i=a[S+o[T]];var E=this._gradients[i];c=k*k*(E[0]*y+E[1]*m)}var D=.5-b*b-w*w;if(D>=0){D*=D,i=a[S+r+o[T+n]];var E=this._gradients[i];u=D*D*(E[0]*b+E[1]*w)}var R=.5-M*M-x*x;if(R>=0){R*=R,i=a[S+1+o[T+1]];var E=this._gradients[i];l=R*R*(E[0]*M+E[1]*x)}return 70*(c+u+l)},r.FOV=function(t,e){this._lightPasses=t,this._options={topology:8};for(var i in e)this._options[i]=e[i]},r.FOV.prototype.compute=function(t,e,i,r){},r.FOV.prototype._getCircle=function(t,e,i){var n,o,a,s=[];switch(this._options.topology){case 4:o=1,a=[0,1],n=[r.DIRS[8][7],r.DIRS[8][1],r.DIRS[8][3],r.DIRS[8][5]];break;case 6:n=r.DIRS[6],o=1,a=[-1,1];break;case 8:n=r.DIRS[4],o=2,a=[-1,1]}for(var h=t+a[0]*i,c=e+a[1]*i,u=0;u<n.length;u++)for(var l=0;l<i*o;l++)s.push([h,c]),h+=n[u][0],c+=n[u][1];return s},r.FOV.DiscreteShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.DiscreteShadowcasting.extend(r.FOV),r.FOV.DiscreteShadowcasting.prototype.compute=function(t,e,i,r){this._coords,this._map;if(r(t,e,0,1),this._lightPasses(t,e))for(var n,o,a,s,h,c=[],u=1;u<=i;u++)for(var l=this._getCircle(t,e,u),f=360/l.length,p=0;p<l.length;p++)if(a=l[p][0],s=l[p][1],n=f*(p-.5),o=n+f,h=!this._lightPasses(a,s),this._visibleCoords(Math.floor(n),Math.ceil(o),h,c)&&r(a,s,u,1),2==c.length&&0==c[0]&&360==c[1])return},r.FOV.DiscreteShadowcasting.prototype._visibleCoords=function(t,e,i,r){if(t<0){var n=arguments.callee(0,e,i,r),o=arguments.callee(360+t,360,i,r);return n||o}for(var a=0;a<r.length&&r[a]<t;)a++;if(a==r.length)return i&&r.push(t,e),!0;var s=0;if(a%2){for(;a<r.length&&r[a]<e;)a++,s++;return 0!=s&&(i&&(s%2?r.splice(a-s,s,e):r.splice(a-s,s)),!0)}for(;a<r.length&&r[a]<e;)a++,s++;return(t!=r[a-s]||1!=s)&&(i&&(s%2?r.splice(a-s,s,t):r.splice(a-s,s,t,e)),!0)},r.FOV.PreciseShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.PreciseShadowcasting.extend(r.FOV),r.FOV.PreciseShadowcasting.prototype.compute=function(t,e,i,r){if(r(t,e,0,1),this._lightPasses(t,e))for(var n,o,a,s,h,c,u=[],l=1;l<=i;l++)for(var f=this._getCircle(t,e,l),p=f.length,_=0;_<p;_++)if(n=f[_][0],o=f[_][1],s=[_?2*_-1:2*p-1,2*p],h=[2*_+1,2*p],a=!this._lightPasses(n,o),c=this._checkVisibility(s,h,a,u),c&&r(n,o,l,c),2==u.length&&0==u[0][0]&&u[1][0]==u[1][1])return},r.FOV.PreciseShadowcasting.prototype._checkVisibility=function(t,e,i,r){if(t[0]>e[0]){var n=this._checkVisibility(t,[t[1],t[1]],i,r),o=this._checkVisibility([0,1],e,i,r);return(n+o)/2}for(var a=0,s=!1;a<r.length;){var h=r[a],c=h[0]*t[1]-t[0]*h[1];if(c>=0){0!=c||a%2||(s=!0);break}a++}for(var u=r.length,l=!1;u--;){var h=r[u],c=e[0]*h[1]-h[0]*e[1];if(c>=0){0==c&&u%2&&(l=!0);break}}var f=!0;if(a==u&&(s||l)?f=!1:s&&l&&a+1==u&&u%2?f=!1:a>u&&a%2&&(f=!1),!f)return 0;var p,_,d=u-a+1;if(d%2)if(a%2){var _=r[a];p=(e[0]*_[1]-_[0]*e[1])/(_[1]*e[1]),i&&r.splice(a,d,e)}else{var _=r[u];p=(_[0]*t[1]-t[0]*_[1])/(t[1]*_[1]),i&&r.splice(a,d,t)}else{if(!(a%2))return i&&r.splice(a,d,t,e),1;var g=r[a],v=r[u];p=(v[0]*g[1]-g[0]*v[1])/(g[1]*v[1]),i&&r.splice(a,d)}var y=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]);return p/y},r.FOV.RecursiveShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.RecursiveShadowcasting.extend(r.FOV),r.FOV.RecursiveShadowcasting.OCTANTS=[[-1,0,0,1],[0,-1,1,0],[0,-1,-1,0],[-1,0,0,-1],[1,0,0,-1],[0,1,-1,0],[0,1,1,0],[1,0,0,1]],r.FOV.RecursiveShadowcasting.prototype.compute=function(t,e,i,n){n(t,e,0,1);for(var o=0;o<r.FOV.RecursiveShadowcasting.OCTANTS.length;o++)this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[o],i,n)},r.FOV.RecursiveShadowcasting.prototype.compute180=function(t,e,i,n,o){o(t,e,0,1);var a=(n-1+8)%8,s=(n-2+8)%8,h=(n+1+8)%8;this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[s],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[a],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[n],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[h],i,o)},r.FOV.RecursiveShadowcasting.prototype.compute90=function(t,e,i,n,o){o(t,e,0,1);var a=(n-1+8)%8;this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[n],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[a],i,o)},r.FOV.RecursiveShadowcasting.prototype._renderOctant=function(t,e,i,r,n){this._castVisibility(t,e,1,1,0,r+1,i[0],i[1],i[2],i[3],n)},r.FOV.RecursiveShadowcasting.prototype._castVisibility=function(t,e,i,r,n,o,a,s,h,c,u){if(!(r<n))for(var l=i;l<=o;l++){for(var f=-l-1,p=-l,_=!1,d=0;f<=0;){f+=1;var g=t+f*a+p*s,v=e+f*h+p*c,y=(f-.5)/(p+.5),m=(f+.5)/(p-.5);if(!(m>r)){if(y<n)break;if(f*f+p*p<o*o&&u(g,v,l,1),_){if(!this._lightPasses(g,v)){d=m;continue}_=!1,r=d}else!this._lightPasses(g,v)&&l<o&&(_=!0,this._castVisibility(t,e,l+1,r,y,o,a,s,h,c,u),d=m)}}if(_)break}},r.Color={fromString:function(t){var e,i;if(t in this._cache)e=this._cache[t];else{if("#"==t.charAt(0)){var r=t.match(/[0-9a-f]/gi).map(function(t){return parseInt(t,16)});if(3==r.length)e=r.map(function(t){return 17*t});else{for(var n=0;n<3;n++)r[n+1]+=16*r[n],r.splice(n,1);e=r}}else e=(i=t.match(/rgb\(([0-9, ]+)\)/i))?i[1].split(/\s*,\s*/).map(function(t){return parseInt(t)}):[0,0,0];this._cache[t]=e}return e.slice()},add:function(t,e){for(var i=t.slice(),r=0;r<3;r++)for(var n=1;n<arguments.length;n++)i[r]+=arguments[n][r];return i},add_:function(t,e){for(var i=0;i<3;i++)for(var r=1;r<arguments.length;r++)t[i]+=arguments[r][i];return t},multiply:function(t,e){for(var i=t.slice(),r=0;r<3;r++){for(var n=1;n<arguments.length;n++)i[r]*=arguments[n][r]/255;i[r]=Math.round(i[r])}return i},multiply_:function(t,e){for(var i=0;i<3;i++){for(var r=1;r<arguments.length;r++)t[i]*=arguments[r][i]/255;t[i]=Math.round(t[i])}return t},interpolate:function(t,e,i){arguments.length<3&&(i=.5);for(var r=t.slice(),n=0;n<3;n++)r[n]=Math.round(r[n]+i*(e[n]-t[n]));return r},interpolateHSL:function(t,e,i){arguments.length<3&&(i=.5);for(var r=this.rgb2hsl(t),n=this.rgb2hsl(e),o=0;o<3;o++)r[o]+=i*(n[o]-r[o]);return this.hsl2rgb(r)},randomize:function(t,e){e instanceof Array||(e=Math.round(r.RNG.getNormal(0,e)));for(var i=t.slice(),n=0;n<3;n++)i[n]+=e instanceof Array?Math.round(r.RNG.getNormal(0,e[n])):e;return i},rgb2hsl:function(t){var e,i,r=t[0]/255,n=t[1]/255,o=t[2]/255,a=Math.max(r,n,o),s=Math.min(r,n,o),h=(a+s)/2;if(a==s)e=i=0;else{var c=a-s;switch(i=h>.5?c/(2-a-s):c/(a+s),a){case r:e=(n-o)/c+(n<o?6:0);break;case n:e=(o-r)/c+2;break;case o:e=(r-n)/c+4}e/=6}return[e,i,h]},hsl2rgb:function(t){var e=t[2];if(0==t[1])return e=Math.round(255*e),[e,e,e];var i=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},r=t[1],n=e<.5?e*(1+r):e+r-e*r,o=2*e-n,a=i(o,n,t[0]+1/3),s=i(o,n,t[0]),h=i(o,n,t[0]-1/3);return[Math.round(255*a),Math.round(255*s),Math.round(255*h)]},toRGB:function(t){return"rgb("+this._clamp(t[0])+","+this._clamp(t[1])+","+this._clamp(t[2])+")"},toHex:function(t){for(var e=[],i=0;i<3;i++)e.push(this._clamp(t[i]).toString(16).lpad("0",2));return"#"+e.join("")},_clamp:function(t){return t<0?0:t>255?255:t},_cache:{black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},r.Lighting=function(t,e){this._reflectivityCallback=t,this._options={passes:1,emissionThreshold:100,range:10},this._fov=null,this._lights={},this._reflectivityCache={},this._fovCache={},this.setOptions(e)},r.Lighting.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e];return t&&t.range&&this.reset(),this},r.Lighting.prototype.setFOV=function(t){return this._fov=t,this._fovCache={},this},r.Lighting.prototype.setLight=function(t,e,i){var n=t+","+e;return i?this._lights[n]="string"==typeof i?r.Color.fromString(i):i:delete this._lights[n],this},r.Lighting.prototype.clearLights=function(){this._lights={}},r.Lighting.prototype.reset=function(){return this._reflectivityCache={},this._fovCache={},this},r.Lighting.prototype.compute=function(t){var e={},i={},n={};for(var o in this._lights){var a=this._lights[o];i[o]=[0,0,0],r.Color.add_(i[o],a)}for(var s=0;s<this._options.passes;s++)this._emitLight(i,n,e),s+1!=this._options.passes&&(i=this._computeEmitters(n,e));for(var h in n){var c=h.split(","),u=parseInt(c[0]),l=parseInt(c[1]);t(u,l,n[h])}return this},r.Lighting.prototype._emitLight=function(t,e,i){for(var r in t){var n=r.split(","),o=parseInt(n[0]),a=parseInt(n[1]);this._emitLightFromCell(o,a,t[r],e),i[r]=1}return this},r.Lighting.prototype._computeEmitters=function(t,e){var i={};for(var r in t)if(!(r in e)){var n=t[r];if(r in this._reflectivityCache)var o=this._reflectivityCache[r];else{var a=r.split(","),s=parseInt(a[0]),h=parseInt(a[1]),o=this._reflectivityCallback(s,h);this._reflectivityCache[r]=o}if(0!=o){for(var c=[],u=0,l=0;l<3;l++){var f=Math.round(n[l]*o);c[l]=f,u+=f}u>this._options.emissionThreshold&&(i[r]=c)}}return i},r.Lighting.prototype._emitLightFromCell=function(t,e,i,r){var n=t+","+e;if(n in this._fovCache)var o=this._fovCache[n];else var o=this._updateFOV(t,e);for(var a in o){var s=o[a];if(a in r)var h=r[a];else{var h=[0,0,0];r[a]=h}for(var c=0;c<3;c++)h[c]+=Math.round(i[c]*s)}return this},r.Lighting.prototype._updateFOV=function(t,e){var i=t+","+e,r={};this._fovCache[i]=r;var n=this._options.range,o=function(t,e,i,o){var a=t+","+e,s=o*(1-i/n);0!=s&&(r[a]=s)};return this._fov.compute(t,e,n,o.bind(this)),r},r.Path=function(t,e,i,n){this._toX=t,this._toY=e,this._fromX=null,this._fromY=null,this._passableCallback=i,this._options={topology:8};for(var o in n)this._options[o]=n[o];this._dirs=r.DIRS[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])},r.Path.prototype.compute=function(t,e,i){},r.Path.prototype._getNeighbors=function(t,e){for(var i=[],r=0;r<this._dirs.length;r++){var n=this._dirs[r],o=t+n[0],a=e+n[1];this._passableCallback(o,a)&&i.push([o,a])}return i},r.Path.Dijkstra=function(t,e,i,n){r.Path.call(this,t,e,i,n),this._computed={},this._todo=[],this._add(t,e,null)},r.Path.Dijkstra.extend(r.Path),r.Path.Dijkstra.prototype.compute=function(t,e,i){var r=t+","+e;if(r in this._computed||this._compute(t,e),r in this._computed)for(var n=this._computed[r];n;)i(n.x,n.y),n=n.prev},r.Path.Dijkstra.prototype._compute=function(t,e){for(;this._todo.length;){var i=this._todo.shift();if(i.x==t&&i.y==e)return;for(var r=this._getNeighbors(i.x,i.y),n=0;n<r.length;n++){var o=r[n],a=o[0],s=o[1],h=a+","+s;h in this._computed||this._add(a,s,i)}}},r.Path.Dijkstra.prototype._add=function(t,e,i){var r={x:t,y:e,prev:i};this._computed[t+","+e]=r,this._todo.push(r)},r.Path.AStar=function(t,e,i,n){r.Path.call(this,t,e,i,n),this._todo=[],this._done={},this._fromX=null,this._fromY=null},r.Path.AStar.extend(r.Path),r.Path.AStar.prototype.compute=function(t,e,i){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var r=this._todo.shift();if(r.x==t&&r.y==e)break;for(var n=this._getNeighbors(r.x,r.y),o=0;o<n.length;o++){var a=n[o],s=a[0],h=a[1],c=s+","+h;c in this._done||this._add(s,h,r)}}var r=this._done[t+","+e];if(r)for(;r;)i(r.x,r.y),r=r.prev},r.Path.AStar.prototype._add=function(t,e,i){var r={x:t,y:e,prev:i,g:i?i.g+1:0,h:this._distance(t,e)};this._done[t+","+e]=r;for(var n=r.g+r.h,o=0;o<this._todo.length;o++){var a=this._todo[o];if(n<a.g+a.h)return void this._todo.splice(o,0,r)}this._todo.push(r)},r.Path.AStar.prototype._distance=function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var i=Math.abs(t-this._fromX),r=Math.abs(e-this._fromY);return r+Math.max(0,(i-r)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}throw new Error("Illegal topology")},r.Display.Term=function(t){r.Display.Backend.call(this,t),this._cx=-1,this._cy=-1,this._lastColor="",this._options={},this._ox=0,this._oy=0,this._termcolor={}},r.Display.Term.extend(r.Display.Backend),r.Display.Term.prototype.compute=function(e){this._options=e,this._ox=Math.floor((t.stdout.columns-e.width)/2),this._oy=Math.floor((t.stdout.rows-e.height)/2),this._termcolor=new(r.Display.Term[e.termColor.capitalize()])(this._context),this._context._termcolor=this._termcolor},r.Display.Term.prototype.draw=function(e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],h=this._ox+r,c=this._oy+n;if(!(h<0||h>=t.stdout.columns)&&!(c<0||c>=t.stdout.rows)&&(h===this._cx&&c===this._cy||(t.stdout.write(this._termcolor.positionToAnsi(h,c)),this._cx=h,this._cy=c),i&&(o||(o=" ")),o)){var u=this._termcolor.colorToAnsi(a,s);u!==this._lastColor&&(t.stdout.write(u),this._lastColor=u);var l=[].concat(o);t.stdout.write(l[0]),this._cx++,this._cx>=t.stdout.columns&&(this._cx=0,this._cy++)}},r.Display.Term.prototype.computeSize=function(e,i){return[t.stdout.columns,t.stdout.rows]},r.Display.Term.prototype.computeFontSize=function(t,e){return 12},r.Display.Term.prototype.eventToPosition=function(t,e){return[t,e]},r.Display.Term.Color=function(t){this._context=t},r.Display.Term.Color.prototype.clearToAnsi=function(t){},r.Display.Term.Color.prototype.colorToAnsi=function(t,e){},r.Display.Term.Color.prototype.positionToAnsi=function(t,e){},r.Display.Term.Xterm=function(t){r.Display.Term.Color.call(this,t)},r.Display.Term.Xterm.extend(r.Display.Term.Color),r.Display.Term.Xterm.prototype.clearToAnsi=function(t){return"[0;48;5;"+this._termcolor(t)+"m[2J"},r.Display.Term.Xterm.prototype.colorToAnsi=function(t,e){return"[0;38;5;"+this._termcolor(t)+";48;5;"+this._termcolor(e)+"m"},r.Display.Term.Xterm.prototype.positionToAnsi=function(t,e){return"["+(e+1)+";"+(t+1)+"H"},r.Display.Term.Xterm.prototype._termcolor=function(t){var e=256,i=6,n=i/e,o=r.Color.fromString(t),a=Math.floor(o[0]*n),s=Math.floor(o[1]*n),h=Math.floor(o[2]*n);return 36*a+6*s+1*h+16};for(var n in r)i[n]=r[n]}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:12}],26:[function(t,e,i){e.exports=t("./lib/index")},{"./lib/index":27}],27:[function(t,e,i){(function(r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var o,a=t("./ponyfill"),s=n(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof e?e:Function("return this")();var h=(0,s["default"])(o);i["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill":28}],28:[function(t,e,i){"use strict";function r(t){var e,i=t.Symbol;return"function"==typeof i?i.observable?e=i.observable:(e=i("observable"),i.observable=e):e="@@observable",e}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=r},{}],29:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var n=(t("redux"),t("redux-logger")),o=(r(n),t("rot-js")),a=(r(o),t("./reducers")),s=(r(a),t("./initialState")),h=(r(s),t("./game")),c=r(h);!function(t,e){var i=c["default"].init();i.switchScreen(i.Screen.StartScreen);var r=i.getDisplay();document.querySelector("#main-display").appendChild(r.getContainer())}(window,window.console)},{"./game":32,"./initialState":38,"./reducers":40,redux:23,"redux-logger":17,"rot-js":25}],30:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),c=t("./glyph"),u=r(c),l=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i._name=t.name||"",i._x=t.x||0,i._y=t.y||0,i._map=null,i._attachedMixins={},i._attachedMixinGroups={};for(var r=t.mixins||[],a=0;a<r.length;a++)for(var s=r[a],h=Object.keys(s),c=0;c<h.length;c++){var u=h[c];"init"===u||"name"===u||"groupName"===u||i.hasOwnProperty(u)||(i[u]=s[u]),i._attachedMixins[s.name]=!0,s.groupName&&(i._attachedMixinGroups[s.groupName]=!0),s.init&&s.init.call(i,t)}return i}return a(e,t),h(e,[{key:"hasMixin",value:function(){function t(t){var e="object"===("undefined"==typeof t?"undefined":s(t))?t.name:t;return this._attachedMixinGroups[e]||this._attachedMixins[e]}return t}()},{key:"setName",value:function(){function t(t){this._name=t}return t}()},{key:"setX",value:function(){function t(t){this._x=t}return t}()},{key:"setY",value:function(){function t(t){this._y=t}return t}()},{key:"getName",value:function(){function t(){return this._name}return t}()},{key:"getX",value:function(){function t(){return this._x}return t}()},{key:"getY",value:function(){function t(){return this._y}return t}()},{key:"setMap",value:function(){function t(t){this._map=t}return t}()},{key:"getMap",value:function(){function t(){return this._map}return t}()}]),e}(u["default"]);i["default"]=l},{"./glyph":31}],31:[function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this._char=e["char"]||" ",this._fg=e.fg||"white",this._bg=e.bg||"black"}return n(t,[{key:"getChar",value:function(){function t(){return this._char}return t}()},{key:"getBackground",value:function(){function t(){return this._bg}return t}()},{key:"getForeground",value:function(){function t(){return this._fg}return t}()}]),t}();i["default"]=o},{}],32:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("rot-js"),o=r(n),a=t("./screen"),s=r(a),h={width:80,height:24,fontSize:15,forceSquareRatio:!0},c={Screen:s["default"],_display:null,_currentScreen:null,_screenWidth:h.width,_screenHeight:h.height,init:function(){function t(t){this._display=new o["default"].Display(Object.assign({},h,t));var e=this,i=function(){function t(t){window.addEventListener(t,function(i){null!==e._currentScreen&&e._currentScreen.handleInput(t,i,e)})}return t}();return["keydown","keyup","keypress"].forEach(i),this}return t}(),refresh:function(){function t(){this._display.clear(),this._currentScreen.render(this._display,this)}return t}(),getDisplay:function(){function t(){return this._display}return t}(),getScreenWidth:function(){function t(){return this._screenWidth}return t}(),getScreenHeight:function(){function t(){return this._screenHeight}return t}(),switchScreen:function(){function t(t){null!==this._currentScreen&&this._currentScreen.exit(),this.getDisplay().clear(),this._currentScreen=t,null!==!this._currentScreen&&(this._currentScreen.enter(),this.refresh())}return t}()};i["default"]=c},{"./screen":35,"rot-js":25}],33:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),a=t("rot-js"),s=r(a),h=t("./templates"),c=t("./entity"),u=r(c),l=t("./tile"),f=function(){function t(e,i){n(this,t),this._tiles=e,this._width=e.length,this._height=e[0].length,this._entities=[],this._scheduler=new s["default"].Scheduler.Simple,this._engine=new s["default"].Engine(this._scheduler),this.addEntityAtRandomPosition(i);for(var r=0;r<50;r++)this.addEntityAtRandomPosition(new u["default"](h.FungusTemplate))}return o(t,[{key:"getWidth",value:function(){function t(){return this._width}return t}()},{key:"getHeight",value:function(){function t(){return this._height}return t}()},{key:"getTile",value:function(){function t(t,e){var i=l.NullTile;return t<0||t>=this._width||e<0||e>=this.height||(i=this._tiles[t][e]||i),i}return t}()},{key:"dig",value:function(){function t(t,e){this.getTile(t,e).isDiggable()&&(this._tiles[t][e]=l.FloorTile)}return t}()},{key:"getRandomFloorPosition",value:function(){function t(){var t=void 0,e=void 0;do t=Math.floor(Math.random()*this._width),e=Math.floor(Math.random()*this._height);while(!this.isEmptyFloor(t,e));return{x:t,y:e}}return t}()},{key:"getEngine",value:function(){function t(){return this._engine}return t}()},{key:"getEntities",value:function(){function t(){return this._entities}return t}()},{key:"getEntityAt",value:function(){
function t(t,e){for(var i=0;i<this._entities.length;i++){var r=this._entities[i];if(r.getX()==t&&r.getY()==e)return r}return null}return t}()},{key:"addEntity",value:function(){function t(t){if(t.getX()<0||t.getX()>=this._width||t.getY()<0||t.getY()>=this._height)throw new Error("Adding entity out of bounds.");t.setMap(this),this._entities.push(t),t.hasMixin("Actor")&&this._scheduler.add(t,!0)}return t}()},{key:"addEntityAtRandomPosition",value:function(){function t(t){var e=this.getRandomFloorPosition();t.setX(e.x),t.setY(e.y),this.addEntity(t)}return t}()},{key:"removeEntity",value:function(){function t(t){for(var e=0;e<this._entities.length;e++)if(this._entities[e]==t){this._entities.splice(e,1);break}t.hasMixin("Actor")&&this._scheduler.remove(t)}return t}()},{key:"isEmptyFloor",value:function(){function t(t,e){return this.getTile(t,e)==l.FloorTile&&!this.getEntityAt(t,e)}return t}()}]),t}();i["default"]=f},{"./entity":30,"./templates":36,"./tile":37,"rot-js":25}],34:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0}),i.SimpleAttacker=i.Digger=i.Destructible=i.FungusActor=i.PlayerActor=i.Moveable=void 0;var n=t("./entity"),o=r(n),a=t("./templates");i.Moveable={name:"Moveable",tryMove:function(){function t(t,e,i){var r=i.getTile(t,e),n=i.getEntityAt(t,e);if(n){if(this.hasMixin("Attacker"))return this.attack(n),!0}else{if(r.isWalkable())return this._x=t,this._y=e,!0;if(r.isDiggable()&&this.hasMixin("Digger"))return this.dig(t,e,i),!0}return!1}return t}()},i.PlayerActor={name:"PlayerActor",groupName:"Actor",act:function(){function t(){this.getMap().getEngine().lock()}return t}()},i.FungusActor={name:"FungusActor",groupName:"Actor",init:function(){function t(){this._growthsRemaining=5}return t}(),act:function(){function t(){if(this._growthsRemaining>0&&Math.random()<=.02){var t=Math.floor(3*Math.random())-1,e=Math.floor(3*Math.random())-1;if((0!==t||0!==e)&&this.getMap().isEmptyFloor(this.getX()+t,this.getY()+e)){var i=new o["default"](a.FungusTemplate);i.setX(this.getX()+t),i.setY(this.getY()+e),this.getMap().addEntity(i),this._growthsRemaining--}}}return t}()},i.Destructible={name:"Destructible",init:function(){function t(){this._hp=1}return t}(),takeDamage:function(){function t(t,e){this._hp-=e,this._hp<=0&&this.getMap().removeEntity(this)}return t}()},i.Digger={name:"SimpleDigger",groupName:"Digger",dig:function(){function t(t,e,i){i.dig(t,e)}return t}()},i.SimpleAttacker={name:"SimpleAttacker",groupName:"Attacker",attack:function(){function t(t){t.hasMixin("Destructible")&&t.takeDamage(this,1)}return t}()}},{"./entity":30,"./templates":36}],35:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("rot-js"),o=r(n),a=t("./tile"),s=t("./map"),h=r(s),c=t("./entity"),u=r(c),l=t("./templates"),f={enter:function(){function t(){return console.log("Entered StartScreen")}return t}(),exit:function(){function t(){return console.log("Exited StartScreen")}return t}(),render:function(){function t(t){t.drawText(1,1,"%c{yellow}Javascript Roguelike"),t.drawText(1,2,"Press [Enter] to start!")}return t}(),handleInput:function(){function t(t,e,i){"keydown"===t&&e.keyCode===o["default"].VK_RETURN&&i.switchScreen(p)}return t}()},p={_map:null,_player:null,enter:function(){function t(){for(var t=100,e=48,i=new o["default"].Map.Cellular(t,e),r=3,n=[],s=0;s<t;s++){n.push([]);for(var c=0;c<e;c++)n[s].push(a.NullTile)}i.randomize(.5);for(var f=0;f<r-1;f++)i.create();i.create(function(t,e,i){1===i?n[t][e]=a.FloorTile:n[t][e]=a.WallTile}),this._player=new u["default"](l.PlayerTemplate),this._map=new h["default"](n,this._player),this._map.getEngine().start()}return t}(),move:function(){function t(t,e){var i=this._player.getX()+t,r=this._player.getY()+e;this._player.tryMove(i,r,this._map)}return t}(),render:function(){function t(t,e){for(var i=e.getScreenWidth(),r=e.getScreenHeight(),n=Math.min(Math.max(0,this._player.getX()-i/2),this._map.getWidth()-i),o=Math.min(Math.max(0,this._player.getY()-r/2),this._map.getHeight()-r),a=n;a<n+i;a++)for(var s=o;s<o+r;s++){var h=this._map.getTile(a,s);t.draw(a-n,s-o,h.getChar(),h.getForeground(),h.getBackground())}for(var c=this._map.getEntities(),u=0;u<c.length;u++){var l=c[u];l.getX()>=n&&l.getY()>=o&&l.getX()<n+i&&l.getY()<o+r&&t.draw(l.getX()-n,l.getY()-o,l.getChar(),l.getForeground(),l.getBackground())}}return t}(),handleInput:function(){function t(t,e,i){"keydown"===t&&(e.keyCode===o["default"].VK_RETURN?i.switchScreen(_):e.keyCode===o["default"].VK_ESCAPE?i.switchScreen(d):(e.keyCode===o["default"].VK_LEFT?this.move(-1,0):e.keyCode===o["default"].VK_RIGHT?this.move(1,0):e.keyCode===o["default"].VK_UP?this.move(0,-1):e.keyCode===o["default"].VK_DOWN&&this.move(0,1),this._map.getEngine().unlock(),i.refresh()))}return t}(),exit:function(){function t(){console.log("Exited PlayScreen")}return t}()},_={enter:function(){function t(){return console.log("Entered WinScreen")}return t}(),exit:function(){function t(){return console.log("Exited WinScreen")}return t}(),render:function(){function t(t){for(var e=0;e<22;e++){var i=Math.round(255*Math.random()),r=Math.round(255*Math.random()),n=Math.round(255*Math.random()),a=o["default"].Color.toRGB([i,r,n]);t.drawText(2,e+1,"%b{"+String(a)+"}You win!")}}return t}(),handleInput:function(){function t(t,e,i){}return t}()},d={enter:function(){function t(){return console.log("Entered LoseScreen")}return t}(),exit:function(){function t(){return console.log("Exited LoseScreen")}return t}(),render:function(){function t(t){for(var e=0;e<22;e++)t.drawText(2,e+1,"%b{red}You lose! :(")}return t}(),handleInput:function(){function t(t,e,i){}return t}()};i["default"]={StartScreen:f,PlayScreen:p,WinScreen:_,LoseScreen:d}},{"./entity":30,"./map":33,"./templates":36,"./tile":37,"rot-js":25}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FungusTemplate=i.PlayerTemplate=void 0;var r=t("./mixins");i.PlayerTemplate={"char":"@",fg:"white",bg:"black",mixins:[r.Moveable,r.PlayerActor,r.SimpleAttacker,r.Digger,r.Destructible]},i.FungusTemplate={"char":"F",fg:"green",mixins:[r.FungusActor,r.Destructible]}},{"./mixins":34}],37:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0}),i.WallTile=i.FloorTile=i.NullTile=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),h=t("./glyph"),c=r(h),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._isWalkable=t.isWalkable||!1,i._isDiggable=t.isDiggable||!1,i}return a(e,t),s(e,[{key:"isWalkable",value:function(){function t(){return this._isWalkable}return t}()},{key:"isDiggable",value:function(){function t(){return this._isDiggable}return t}()}]),e}(c["default"]);i["default"]=u;i.NullTile=new u({}),i.FloorTile=new u({"char":".",isWalkable:!0}),i.WallTile=new u({"char":"#",fg:"goldenrod",isDiggable:!0})},{"./glyph":31}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={game:{messages:[]}};i["default"]=r},{}],39:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../initialState"),o=r(n),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o["default"].game,e=arguments[1];switch(e.type){case"ADD_MESSAGE":return Object.assign({},t,{messages:t.messages.concat([e.message])});default:return t}};i["default"]=a},{"../initialState":38}],40:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("redux"),o=t("./game"),a=r(o),s=(0,n.combineReducers)({game:a["default"]});i["default"]=s},{"./game":39,redux:23}]},{},[29]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAuanMiLCJub2RlX21vZHVsZXMvZGVlcC1kaWZmL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gvX2ZyZWVHbG9iYWwuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJBcmcuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL2lzUGxhaW5PYmplY3QuanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4LWxvZ2dlci9saWIvY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC1sb2dnZXIvbGliL2RlZmF1bHRzLmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4LWxvZ2dlci9saWIvZGlmZi5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC1sb2dnZXIvbGliL2hlbHBlcnMuanMiLCJub2RlX21vZHVsZXMvcmVkdXgtbG9nZ2VyL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4L2xpYi9iaW5kQWN0aW9uQ3JlYXRvcnMuanMiLCJub2RlX21vZHVsZXMvcmVkdXgvbGliL2NvbWJpbmVSZWR1Y2Vycy5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC9saWIvY29tcG9zZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanMiLCJub2RlX21vZHVsZXMvcmVkdXgvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4L2xpYi91dGlscy93YXJuaW5nLmpzIiwibm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcm90LmpzIiwibm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9saWIvcG9ueWZpbGwuanMiLCJzcmMvZXM2L2FwcC5qcyIsInNyYy9lczYvZ2FtZS9lbnRpdHkuanMiLCJzcmMvZXM2L2dhbWUvZ2x5cGguanMiLCJzcmMvZXM2L2dhbWUvaW5kZXguanMiLCJzcmMvZXM2L2dhbWUvbWFwLmpzIiwic3JjL2VzNi9nYW1lL21peGlucy5qcyIsInNyYy9lczYvZ2FtZS9zY3JlZW4uanMiLCJzcmMvZXM2L2dhbWUvdGVtcGxhdGVzLmpzIiwic3JjL2VzNi9nYW1lL3RpbGUuanMiLCJzcmMvZXM2L2luaXRpYWxTdGF0ZS5qcyIsInNyYy9lczYvcmVkdWNlcnMvZ2FtZS5qcyIsInNyYy9lczYvcmVkdWNlcnMvaW5kZXguanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiZ2xvYmFsIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJEZWVwRGlmZiIsInRoaXMiLCJ1bmRlZmluZWQiLCJpbmhlcml0cyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiRGlmZiIsImtpbmQiLCJwYXRoIiwiZGVmaW5lUHJvcGVydHkiLCJEaWZmRWRpdCIsIm9yaWdpbiIsIkRpZmZOZXciLCJEaWZmRGVsZXRlZCIsIkRpZmZBcnJheSIsImluZGV4IiwiaXRlbSIsImFycmF5UmVtb3ZlIiwiYXJyIiwiZnJvbSIsInRvIiwicmVzdCIsInNsaWNlIiwicHVzaCIsImFwcGx5IiwicmVhbFR5cGVPZiIsInN1YmplY3QiLCJ0eXBlIiwiTWF0aCIsIkFycmF5IiwiaXNBcnJheSIsInRvU3RyaW5nIiwidGVzdCIsImRlZXBEaWZmIiwibGhzIiwicmhzIiwiY2hhbmdlcyIsInByZWZpbHRlciIsImtleSIsInN0YWNrIiwiY3VycmVudFBhdGgiLCJub3JtYWxpemUiLCJhbHQiLCJsdHlwZSIsInJ0eXBlIiwiaW5kZXhPZiIsImFrZXlzIiwia2V5cyIsInBrZXlzIiwiZm9yRWFjaCIsImsiLCJvdGhlciIsImlzTmFOIiwiYWNjdW11bGF0ZURpZmYiLCJhY2N1bSIsImRpZmYiLCJhcHBseUFycmF5Q2hhbmdlIiwiY2hhbmdlIiwiaXQiLCJhcHBseUNoYW5nZSIsInRhcmdldCIsInNvdXJjZSIsImxhc3QiLCJyZXZlcnRBcnJheUNoYW5nZSIsInJldmVydENoYW5nZSIsImFwcGx5RGlmZiIsImZpbHRlciIsIm9uQ2hhbmdlIiwiJHNjb3BlIiwiY29uZmxpY3QiLCJjb25mbGljdFJlc29sdXRpb24iLCJ3aW5kb3ciLCJkZWZpbmVQcm9wZXJ0aWVzIiwib2JzZXJ2YWJsZURpZmYiLCJpc0NvbmZsaWN0Iiwibm9Db25mbGljdCIsInNlbGYiLCIyIiwiU3ltYm9sIiwiLi9fcm9vdCIsIjMiLCJiYXNlR2V0VGFnIiwidW5kZWZpbmVkVGFnIiwibnVsbFRhZyIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJ0b1N0cmluZ1RhZyIsIi4vX1N5bWJvbCIsIi4vX2dldFJhd1RhZyIsIi4vX29iamVjdFRvU3RyaW5nIiwiNCIsImZyZWVHbG9iYWwiLCI1Iiwib3ZlckFyZyIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwiLi9fb3ZlckFyZyIsIjYiLCJpc093biIsImhhc093blByb3BlcnR5IiwidGFnIiwidW5tYXNrZWQiLCJyZXN1bHQiLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdFByb3RvIiwiNyIsIjgiLCJmdW5jIiwidHJhbnNmb3JtIiwiYXJnIiwiOSIsImZyZWVTZWxmIiwiRnVuY3Rpb24iLCIuL19mcmVlR2xvYmFsIiwiMTAiLCJpc09iamVjdExpa2UiLCIxMSIsImlzUGxhaW5PYmplY3QiLCJvYmplY3RUYWciLCJwcm90byIsIkN0b3IiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwiZnVuY1Byb3RvIiwiLi9fYmFzZUdldFRhZyIsIi4vX2dldFByb3RvdHlwZSIsIi4vaXNPYmplY3RMaWtlIiwiMTIiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjYWNoZWRTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJjb25jYXQiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJJdGVtIiwiYXJyYXkiLCJub29wIiwicHJvY2VzcyIsIm5leHRUaWNrIiwiYXJncyIsImFyZ3VtZW50cyIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsImJpbmRpbmciLCJuYW1lIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIjEzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyMiIsIl90eXBlb2YiLCJnZXRMb2dMZXZlbCIsImxldmVsIiwiYWN0aW9uIiwicGF5bG9hZCIsImRlZmF1bHRUaXRsZUZvcm1hdHRlciIsIm9wdGlvbnMiLCJ0aW1lc3RhbXAiLCJkdXJhdGlvbiIsInRpbWUiLCJ0b29rIiwicGFydHMiLCJ0b0ZpeGVkIiwiam9pbiIsInByaW50QnVmZmVyIiwiYnVmZmVyIiwibG9nZ2VyIiwiYWN0aW9uVHJhbnNmb3JtZXIiLCJfb3B0aW9ucyR0aXRsZUZvcm1hdHQiLCJ0aXRsZUZvcm1hdHRlciIsImNvbGxhcHNlZCIsImNvbG9ycyIsImxvZ0VudHJ5Iiwic3RhcnRlZCIsInN0YXJ0ZWRUaW1lIiwicHJldlN0YXRlIiwiZXJyb3IiLCJuZXh0U3RhdGUiLCJuZXh0RW50cnkiLCJmb3JtYXR0ZWRBY3Rpb24iLCJpc0NvbGxhcHNlZCIsImZvcm1hdHRlZFRpbWUiLCJfaGVscGVycyIsImZvcm1hdFRpbWUiLCJ0aXRsZUNTUyIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXAiLCJsb2ciLCJwcmV2U3RhdGVMZXZlbCIsImFjdGlvbkxldmVsIiwiZXJyb3JMZXZlbCIsIm5leHRTdGF0ZUxldmVsIiwiX2RpZmYyIiwiZ3JvdXBFbmQiLCJfZGlmZiIsIi4vZGlmZiIsIi4vaGVscGVycyIsIjE0IiwiY29uc29sZSIsImxvZ0Vycm9ycyIsInByZWRpY2F0ZSIsInN0YXRlVHJhbnNmb3JtZXIiLCJzdGF0ZSIsImVycm9yVHJhbnNmb3JtZXIiLCJkaWZmUHJlZGljYXRlIiwidHJhbnNmb3JtZXIiLCIxNSIsInN0eWxlIiwiZGljdGlvbmFyeSIsImNvbG9yIiwicmVuZGVyIiwiZGlmZkxvZ2dlciIsIm5ld1N0YXRlIiwiX2RlZXBEaWZmMiIsImVsZW0iLCJvdXRwdXQiLCJ0ZXh0IiwiX2RlZXBEaWZmIiwiRSIsIk4iLCJEIiwiQSIsImRlZXAtZGlmZiIsIjE2IiwicmVwZWF0Iiwic3RyIiwidGltZXMiLCJwYWQiLCJudW0iLCJtYXhMZW5ndGgiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwidGltZXIiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIkRhdGUiLCIxNyIsImNyZWF0ZUxvZ2dlciIsImxvZ2dlck9wdGlvbnMiLCJfZXh0ZW5kcyIsIl9kZWZhdWx0czIiLCJuZXh0IiwibG9nQnVmZmVyIiwiX3JlZiIsImdldFN0YXRlIiwicmV0dXJuZWRWYWx1ZSIsIl9jb3JlIiwiYXNzaWduIiwiX2RlZmF1bHRzIiwiLi9jb3JlIiwiLi9kZWZhdWx0cyIsIjE4IiwiYXBwbHlNaWRkbGV3YXJlIiwiX2xlbiIsIm1pZGRsZXdhcmVzIiwiX2tleSIsImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwiZW5oYW5jZXIiLCJzdG9yZSIsIl9kaXNwYXRjaCIsImRpc3BhdGNoIiwiY2hhaW4iLCJtaWRkbGV3YXJlQVBJIiwibWFwIiwibWlkZGxld2FyZSIsIl9jb21wb3NlMiIsIl9jb21wb3NlIiwiLi9jb21wb3NlIiwiMTkiLCJiaW5kQWN0aW9uQ3JlYXRvciIsImFjdGlvbkNyZWF0b3IiLCJiaW5kQWN0aW9uQ3JlYXRvcnMiLCJhY3Rpb25DcmVhdG9ycyIsImJvdW5kQWN0aW9uQ3JlYXRvcnMiLCIyMCIsImdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlIiwiYWN0aW9uVHlwZSIsImFjdGlvbk5hbWUiLCJnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlIiwiaW5wdXRTdGF0ZSIsInJlZHVjZXJzIiwidW5leHBlY3RlZEtleUNhY2hlIiwicmVkdWNlcktleXMiLCJhcmd1bWVudE5hbWUiLCJfY3JlYXRlU3RvcmUiLCJBY3Rpb25UeXBlcyIsIklOSVQiLCJfaXNQbGFpbk9iamVjdDIiLCJtYXRjaCIsInVuZXhwZWN0ZWRLZXlzIiwiYXNzZXJ0UmVkdWNlclNhbml0eSIsImluaXRpYWxTdGF0ZSIsInJhbmRvbSIsInN1YnN0cmluZyIsInNwbGl0IiwiY29tYmluZVJlZHVjZXJzIiwiZmluYWxSZWR1Y2VycyIsIk5PREVfRU5WIiwiX3dhcm5pbmcyIiwiZmluYWxSZWR1Y2VyS2V5cyIsInNhbml0eUVycm9yIiwid2FybmluZ01lc3NhZ2UiLCJoYXNDaGFuZ2VkIiwicHJldmlvdXNTdGF0ZUZvcktleSIsIm5leHRTdGF0ZUZvcktleSIsImVycm9yTWVzc2FnZSIsIl9pc1BsYWluT2JqZWN0IiwiX3dhcm5pbmciLCIuL2NyZWF0ZVN0b3JlIiwiLi91dGlscy93YXJuaW5nIiwiX3Byb2Nlc3MiLCJsb2Rhc2gvaXNQbGFpbk9iamVjdCIsIjIxIiwiY29tcG9zZSIsImZ1bmNzIiwicmVkdWNlUmlnaHQiLCJjb21wb3NlZCIsIjIyIiwiZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycyIsIm5leHRMaXN0ZW5lcnMiLCJjdXJyZW50TGlzdGVuZXJzIiwiY3VycmVudFN0YXRlIiwic3Vic2NyaWJlIiwibGlzdGVuZXIiLCJpc1N1YnNjcmliZWQiLCJzcGxpY2UiLCJpc0Rpc3BhdGNoaW5nIiwiY3VycmVudFJlZHVjZXIiLCJsaXN0ZW5lcnMiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwib2JzZXJ2YWJsZSIsIm91dGVyU3Vic2NyaWJlIiwib2JzZXJ2ZXIiLCJvYnNlcnZlU3RhdGUiLCJUeXBlRXJyb3IiLCJ1bnN1YnNjcmliZSIsIl9zeW1ib2xPYnNlcnZhYmxlMiIsIl9yZWYyIiwiX3N5bWJvbE9ic2VydmFibGUiLCJzeW1ib2wtb2JzZXJ2YWJsZSIsIjIzIiwiaXNDcnVzaGVkIiwiX2NyZWF0ZVN0b3JlMiIsIl9jb21iaW5lUmVkdWNlcnMiLCJfY29tYmluZVJlZHVjZXJzMiIsIl9iaW5kQWN0aW9uQ3JlYXRvcnMiLCJfYmluZEFjdGlvbkNyZWF0b3JzMiIsIl9hcHBseU1pZGRsZXdhcmUiLCJfYXBwbHlNaWRkbGV3YXJlMiIsIi4vYXBwbHlNaWRkbGV3YXJlIiwiLi9iaW5kQWN0aW9uQ3JlYXRvcnMiLCIuL2NvbWJpbmVSZWR1Y2VycyIsIjI0Iiwid2FybmluZyIsIm1lc3NhZ2UiLCIyNSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNiIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjaGlsZCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJjcmVhdGVFbGVtZW50IiwiY2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdCIsImxlZnQiLCJ0b3AiLCJnZXRDb250ZXh0IiwiY29udGV4dCIsIl90ZXJtY29sb3IiLCJiZWdpblBhdGgiLCJjbGVhclJlY3QiLCJ4IiwieSIsInciLCJoIiwiY2xlYXJDbWQiLCJjbGVhclRvQW5zaSIsImZpbGxTdHlsZSIsInN0ZG91dCIsIndyaXRlIiwiZHJhd0ltYWdlIiwiYiIsImMiLCJkIiwiZyIsImZpbGwiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiY2hzIiwiZm9udCIsImxpbmVUbyIsIm1lYXN1cmVUZXh0IiwiY2giLCJ3aWR0aCIsIm1vdmVUbyIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImhlaWdodCIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImRvY3VtZW50RWxlbWVudCIsIlJPVCIsImlzU3VwcG9ydGVkIiwiYmluZCIsIkRFRkFVTFRfV0lEVEgiLCJERUZBVUxUX0hFSUdIVCIsIkRJUlMiLCJWS19DQU5DRUwiLCJWS19IRUxQIiwiVktfQkFDS19TUEFDRSIsIlZLX1RBQiIsIlZLX0NMRUFSIiwiVktfUkVUVVJOIiwiVktfRU5URVIiLCJWS19TSElGVCIsIlZLX0NPTlRST0wiLCJWS19BTFQiLCJWS19QQVVTRSIsIlZLX0NBUFNfTE9DSyIsIlZLX0VTQ0FQRSIsIlZLX1NQQUNFIiwiVktfUEFHRV9VUCIsIlZLX1BBR0VfRE9XTiIsIlZLX0VORCIsIlZLX0hPTUUiLCJWS19MRUZUIiwiVktfVVAiLCJWS19SSUdIVCIsIlZLX0RPV04iLCJWS19QUklOVFNDUkVFTiIsIlZLX0lOU0VSVCIsIlZLX0RFTEVURSIsIlZLXzAiLCJWS18xIiwiVktfMiIsIlZLXzMiLCJWS180IiwiVktfNSIsIlZLXzYiLCJWS183IiwiVktfOCIsIlZLXzkiLCJWS19DT0xPTiIsIlZLX1NFTUlDT0xPTiIsIlZLX0xFU1NfVEhBTiIsIlZLX0VRVUFMUyIsIlZLX0dSRUFURVJfVEhBTiIsIlZLX1FVRVNUSU9OX01BUksiLCJWS19BVCIsIlZLX0EiLCJWS19CIiwiVktfQyIsIlZLX0QiLCJWS19FIiwiVktfRiIsIlZLX0ciLCJWS19IIiwiVktfSSIsIlZLX0oiLCJWS19LIiwiVktfTCIsIlZLX00iLCJWS19OIiwiVktfTyIsIlZLX1AiLCJWS19RIiwiVktfUiIsIlZLX1MiLCJWS19UIiwiVktfVSIsIlZLX1YiLCJWS19XIiwiVktfWCIsIlZLX1kiLCJWS19aIiwiVktfQ09OVEVYVF9NRU5VIiwiVktfTlVNUEFEMCIsIlZLX05VTVBBRDEiLCJWS19OVU1QQUQyIiwiVktfTlVNUEFEMyIsIlZLX05VTVBBRDQiLCJWS19OVU1QQUQ1IiwiVktfTlVNUEFENiIsIlZLX05VTVBBRDciLCJWS19OVU1QQUQ4IiwiVktfTlVNUEFEOSIsIlZLX01VTFRJUExZIiwiVktfQUREIiwiVktfU0VQQVJBVE9SIiwiVktfU1VCVFJBQ1QiLCJWS19ERUNJTUFMIiwiVktfRElWSURFIiwiVktfRjEiLCJWS19GMiIsIlZLX0YzIiwiVktfRjQiLCJWS19GNSIsIlZLX0Y2IiwiVktfRjciLCJWS19GOCIsIlZLX0Y5IiwiVktfRjEwIiwiVktfRjExIiwiVktfRjEyIiwiVktfRjEzIiwiVktfRjE0IiwiVktfRjE1IiwiVktfRjE2IiwiVktfRjE3IiwiVktfRjE4IiwiVktfRjE5IiwiVktfRjIwIiwiVktfRjIxIiwiVktfRjIyIiwiVktfRjIzIiwiVktfRjI0IiwiVktfTlVNX0xPQ0siLCJWS19TQ1JPTExfTE9DSyIsIlZLX0NJUkNVTUZMRVgiLCJWS19FWENMQU1BVElPTiIsIlZLX0RPVUJMRV9RVU9URSIsIlZLX0hBU0giLCJWS19ET0xMQVIiLCJWS19QRVJDRU5UIiwiVktfQU1QRVJTQU5EIiwiVktfVU5ERVJTQ09SRSIsIlZLX09QRU5fUEFSRU4iLCJWS19DTE9TRV9QQVJFTiIsIlZLX0FTVEVSSVNLIiwiVktfUExVUyIsIlZLX1BJUEUiLCJWS19IWVBIRU5fTUlOVVMiLCJWS19PUEVOX0NVUkxZX0JSQUNLRVQiLCJWS19DTE9TRV9DVVJMWV9CUkFDS0VUIiwiVktfVElMREUiLCJWS19DT01NQSIsIlZLX1BFUklPRCIsIlZLX1NMQVNIIiwiVktfQkFDS19RVU9URSIsIlZLX09QRU5fQlJBQ0tFVCIsIlZLX0JBQ0tfU0xBU0giLCJWS19DTE9TRV9CUkFDS0VUIiwiVktfUVVPVEUiLCJWS19NRVRBIiwiVktfQUxUR1IiLCJWS19XSU4iLCJWS19LQU5BIiwiVktfSEFOR1VMIiwiVktfRUlTVSIsIlZLX0pVTkpBIiwiVktfRklOQUwiLCJWS19IQU5KQSIsIlZLX0tBTkpJIiwiVktfQ09OVkVSVCIsIlZLX05PTkNPTlZFUlQiLCJWS19BQ0NFUFQiLCJWS19NT0RFQ0hBTkdFIiwiVktfU0VMRUNUIiwiVktfUFJJTlQiLCJWS19FWEVDVVRFIiwiVktfU0xFRVAiLCJUZXh0IiwiUkVfQ09MT1JTIiwiVFlQRV9URVhUIiwiVFlQRV9ORVdMSU5FIiwiVFlQRV9GRyIsIlRZUEVfQkciLCJtZWFzdXJlIiwibWF4V2lkdGgiLCJ0b2tlbnMiLCJ0b2tlbml6ZSIsImxpbmVXaWR0aCIsInRva2VuIiwibWF4Iiwib2Zmc2V0IiwicmVwbGFjZSIsInBhcnQiLCJ0cmltIiwiX2JyZWFrTGluZXMiLCJJbmZpbml0eSIsImxpbmVMZW5ndGgiLCJsYXN0VG9rZW5XaXRoU3BhY2UiLCJjaGFyQXQiLCJfYnJlYWtJbnNpZGVUb2tlbiIsInBvcCIsIm5leHRJbmRleCIsImJyZWFrSW5kZXgiLCJsYXN0SW5kZXhPZiIsImxhc3RUZXh0VG9rZW4iLCJ0b2tlbkluZGV4IiwicmVtb3ZlQnJlYWtDaGFyIiwibmV3QnJlYWtUb2tlbiIsIm5ld1RleHRUb2tlbiIsImZsb29yIiwiUk5HIiwiZ2V0VW5pZm9ybSIsInJhbmRvbWl6ZSIsIk51bWJlciIsIm1vZCIsIlN0cmluZyIsImNhcGl0YWxpemUiLCJ0b1VwcGVyQ2FzZSIsImxwYWQiLCJjaGFyYWN0ZXIiLCJjb3VudCIsImNudCIsInJwYWQiLCJmb3JtYXQiLCJ0ZW1wbGF0ZSIsInJlcGxhY2VyIiwiZ3JvdXAxIiwiZ3JvdXAyIiwic2hpZnQiLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2VkIiwiZmlyc3QiLCJ1bnNoaWZ0IiwidG1wIiwiZXh0ZW5kIiwicGFyZW50IiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtb3pDYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwib0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwibXNDYW5jZWxBbmltYXRpb25GcmFtZSIsImlkIiwiRGlzcGxheSIsIl9jb250ZXh0IiwiX2RhdGEiLCJfZGlydHkiLCJfb3B0aW9ucyIsIl9iYWNrZW5kIiwiZGVmYXVsdE9wdGlvbnMiLCJ0cmFuc3Bvc2UiLCJsYXlvdXQiLCJmb250U2l6ZSIsInNwYWNpbmciLCJib3JkZXIiLCJmb3JjZVNxdWFyZVJhdGlvIiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsImZnIiwiYmciLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwidGlsZU1hcCIsInRpbGVTZXQiLCJ0aWxlQ29sb3JpemUiLCJ0ZXJtQ29sb3IiLCJwIiwic2V0T3B0aW9ucyIsIkRFQlVHIiwiX3RpY2siLCJ3aGF0IiwiZHJhdyIsImNsZWFyIiwiY29tcHV0ZSIsImdldE9wdGlvbnMiLCJnZXRDb250YWluZXIiLCJjb21wdXRlU2l6ZSIsImF2YWlsV2lkdGgiLCJhdmFpbEhlaWdodCIsImNvbXB1dGVGb250U2l6ZSIsImV2ZW50VG9Qb3NpdGlvbiIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImRyYXdUZXh0IiwiY3giLCJjeSIsImxpbmVzIiwiaXNTcGFjZSIsImlzUHJldlNwYWNlIiwiaXNGdWxsV2lkdGgiLCJpc1ByZXZGdWxsV2lkdGgiLCJjYyIsImNoYXJDb2RlQXQiLCJfZHJhdyIsImNsZWFyQmVmb3JlIiwiZGF0YSIsIkJhY2tlbmQiLCJSZWN0IiwiX3NwYWNpbmdYIiwiX3NwYWNpbmdZIiwiX2NhbnZhc0NhY2hlIiwiY2FjaGUiLCJjaGFyV2lkdGgiLCJjZWlsIiwiX2RyYXdXaXRoQ2FjaGUiLCJfZHJhd05vQ2FjaGUiLCJoYXNoIiwiY3R4IiwiY2hhcnMiLCJib3hXaWR0aCIsImJveEhlaWdodCIsIm9sZEZvbnQiLCJyYXRpbyIsIndpZHRoRnJhY3Rpb24iLCJIZXgiLCJfaGV4U2l6ZSIsInNxcnQiLCJ4cHJvcCIsInlwcm9wIiwicHgiLCJyZXZlcnNlIiwiX2ZpbGwiLCJoZXhTaXplV2lkdGgiLCJoZXhTaXplSGVpZ2h0IiwiaGV4U2l6ZSIsIm1pbiIsInByb3AiLCJzaXplIiwiVGlsZSIsIl9jb2xvckNhbnZhcyIsInRpbGUiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJnZXRTZWVkIiwiX3NlZWQiLCJzZXRTZWVkIiwic2VlZCIsIl9zMCIsIl9mcmFjIiwiX3MxIiwiX3MyIiwiX2MiLCJnZXRVbmlmb3JtSW50IiwibG93ZXJCb3VuZCIsInVwcGVyQm91bmQiLCJnZXROb3JtYWwiLCJtZWFuIiwic3RkZGV2IiwidiIsImdhdXNzIiwiZ2V0UGVyY2VudGFnZSIsImdldFdlaWdodGVkVmFsdWUiLCJ0b3RhbCIsInNldFN0YXRlIiwiY2xvbmUiLCJTdHJpbmdHZW5lcmF0b3IiLCJ3b3JkcyIsIm9yZGVyIiwicHJpb3IiLCJfYm91bmRhcnkiLCJmcm9tQ2hhckNvZGUiLCJfc3VmZml4IiwiX3ByZWZpeCIsIl9wcmlvclZhbHVlcyIsImdlbmVyYXRlIiwiX3NhbXBsZSIsIl9qb2luIiwib2JzZXJ2ZSIsInN0cmluZyIsIl9zcGxpdCIsImV2ZW50IiwiaiIsInN1YmNvbnRleHQiLCJfb2JzZXJ2ZUV2ZW50IiwiZ2V0U3RhdHMiLCJwcmlvckNvdW50IiwiZGF0YUNvdW50IiwiZXZlbnRDb3VudCIsIl9iYWNrb2ZmIiwiYXZhaWxhYmxlIiwiRXZlbnRRdWV1ZSIsIl90aW1lIiwiX2V2ZW50cyIsIl9ldmVudFRpbWVzIiwiZ2V0VGltZSIsImFkZCIsImdldCIsInJlbW92ZSIsIl9yZW1vdmUiLCJTY2hlZHVsZXIiLCJfcXVldWUiLCJfcmVwZWF0IiwiX2N1cnJlbnQiLCJTaW1wbGUiLCJTcGVlZCIsImdldFNwZWVkIiwiQWN0aW9uIiwiX2RlZmF1bHREdXJhdGlvbiIsIl9kdXJhdGlvbiIsInNldER1cmF0aW9uIiwiRW5naW5lIiwic2NoZWR1bGVyIiwiX3NjaGVkdWxlciIsIl9sb2NrIiwic3RhcnQiLCJ1bmxvY2siLCJsb2NrIiwiYWN0b3IiLCJhY3QiLCJ0aGVuIiwiTWFwIiwiX3dpZHRoIiwiX2hlaWdodCIsImNhbGxiYWNrIiwiX2ZpbGxNYXAiLCJBcmVuYSIsImVtcHR5IiwiRGl2aWRlZE1hemUiLCJfc3RhY2siLCJfbWFwIiwicm9vbSIsIl9wYXJ0aXRpb25Sb29tIiwiYXZhaWxYIiwiYXZhaWxZIiwiYm90dG9tIiwicmlnaHQiLCJ3YWxscyIsInNvbGlkIiwiaG9sZSIsIkljZXlNYXplIiwicmVndWxhcml0eSIsIl9yZWd1bGFyaXR5IiwibngiLCJueSIsImRvbmUiLCJibG9ja2VkIiwiZGlycyIsIl9yYW5kb21pemUiLCJfaXNGcmVlIiwiRWxsZXJNYXplIiwicmFuZCIsIkwiLCJSIiwiX2FkZFRvTGlzdCIsIl9yZW1vdmVGcm9tTGlzdCIsIkNlbGx1bGFyIiwiYm9ybiIsInN1cnZpdmUiLCJ0b3BvbG9neSIsImNvbm5lY3RlZCIsIl9kaXJzIiwicHJvYmFiaWxpdHkiLCJzZXQiLCJuZXdNYXAiLCJ3aWR0aFN0ZXAiLCJ3aWR0aFN0YXJ0IiwiY3VyIiwibmNvdW50IiwiX2dldE5laWdoYm9ycyIsIl9jb21wbGV0ZU1hemUiLCJhbGxGcmVlU3BhY2UiLCJub3RDb25uZWN0ZWQiLCJfZnJlZVNwYWNlIiwiX3BvaW50S2V5IiwiX2ZpbmRDb25uZWN0ZWQiLCJfZ2V0RnJvbVRvIiwibG9jYWwiLCJfdHVubmVsVG9Db25uZWN0ZWQiLCJwcCIsImNvbm5lY3RlZEtleXMiLCJub3RDb25uZWN0ZWRLZXlzIiwiX2dldENsb3Nlc3QiLCJwb2ludCIsInNwYWNlIiwibWluUG9pbnQiLCJtaW5EaXN0Iiwia2VlcE5vdENvbm5lY3RlZCIsInRlc3RzIiwieHgiLCJwa2V5IiwieXkiLCJEdW5nZW9uIiwiX3Jvb21zIiwiX2NvcnJpZG9ycyIsImdldFJvb21zIiwiZ2V0Q29ycmlkb3JzIiwiRGlnZ2VyIiwicm9vbVdpZHRoIiwicm9vbUhlaWdodCIsImNvcnJpZG9yTGVuZ3RoIiwiZHVnUGVyY2VudGFnZSIsInRpbWVMaW1pdCIsIl9mZWF0dXJlcyIsIlJvb20iLCJDb3JyaWRvciIsIl9mZWF0dXJlQXR0ZW1wdHMiLCJfd2FsbHMiLCJfZGlnQ2FsbGJhY2siLCJfY2FuQmVEdWdDYWxsYmFjayIsIl9pc1dhbGxDYWxsYmFjayIsIl9wcmlvcml0eVdhbGxDYWxsYmFjayIsIl9kdWciLCJhcmVhIiwiX2ZpcnN0Um9vbSIsInQxIiwidDIiLCJ3YWxsIiwiX2ZpbmRXYWxsIiwicGFyc2VJbnQiLCJfZ2V0RGlnZ2luZ0RpcmVjdGlvbiIsImZlYXR1cmVBdHRlbXB0cyIsIl90cnlGZWF0dXJlIiwiX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMiLCJwcmlvcml0eVdhbGxzIiwiX2FkZERvb3JzIiwiRmVhdHVyZSIsImNyZWF0ZVJhbmRvbUNlbnRlciIsInByaW8xIiwicHJpbzIiLCJwcmlvIiwiZHgiLCJkeSIsImZlYXR1cmUiLCJjcmVhdGVSYW5kb21BdCIsImlzVmFsaWQiLCJjcmVhdGVQcmlvcml0eVdhbGxzIiwiZGVsdGFzIiwiZGVsdGEiLCJpc1dhbGxDYWxsYmFjayIsImNsZWFyRG9vcnMiLCJhZGREb29ycyIsIlVuaWZvcm0iLCJyb29tRHVnUGVyY2VudGFnZSIsIl9yb29tQXR0ZW1wdHMiLCJfY29ycmlkb3JBdHRlbXB0cyIsIl9jb25uZWN0ZWQiLCJfdW5jb25uZWN0ZWQiLCJfZ2VuZXJhdGVSb29tcyIsIl9nZW5lcmF0ZUNvcnJpZG9ycyIsIl9nZW5lcmF0ZVJvb20iLCJjcmVhdGVSYW5kb20iLCJyb29tMSIsIl9jbG9zZXN0Um9vbSIsInJvb20yIiwib2siLCJfY29ubmVjdFJvb21zIiwicm9vbXMiLCJkaXN0IiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwiY2VudGVyMSIsImNlbnRlcjIiLCJkaWZmWCIsImRpZmZZIiwiYWJzIiwiZGlySW5kZXgxIiwiZGlySW5kZXgyIiwiZ2V0TGVmdCIsImdldFJpZ2h0IiwiZ2V0VG9wIiwiZ2V0Qm90dG9tIiwiX3BsYWNlSW5XYWxsIiwiZW5kIiwiX2RpZ0xpbmUiLCJyb3RhdGlvbiIsIm1pZCIsImluZGV4MiIsInJvdW5kIiwibWlkMSIsIm1pZDIiLCJhZGREb29yIiwiZGlySW5kZXgiLCJhdmFpbCIsImxhc3RCYWRJbmRleCIsImlzV2FsbCIsInBvaW50cyIsImNvcnJpZG9yIiwiUm9ndWUiLCJjZWxsV2lkdGgiLCJjZWxsSGVpZ2h0IiwiX2NhbGN1bGF0ZVJvb21TaXplIiwiY29ubmVjdGVkQ2VsbHMiLCJfaW5pdFJvb21zIiwiX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zIiwiX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyIsIl9jcmVhdGVSb29tcyIsIl9jcmVhdGVDb3JyaWRvcnMiLCJjZWxsIiwiY29ubmVjdGlvbnMiLCJjZWxseCIsImNlbGx5IiwiaWR4IiwibmNneCIsIm5jZ3kiLCJvdGhlclJvb20iLCJjZ3giLCJjZ3kiLCJmb3VuZCIsImRpclRvQ2hlY2siLCJjdyIsInZhbGlkUm9vbSIsImRpcmVjdGlvbnMiLCJkaXJJZHgiLCJuZXdJIiwibmV3SiIsInJvb213Iiwicm9vbWgiLCJzeCIsInN5IiwiY3dwIiwiY2hwIiwic3hPZmZzZXQiLCJzeU9mZnNldCIsImlpIiwiamoiLCJfZ2V0V2FsbFBvc2l0aW9uIiwiYVJvb20iLCJhRGlyZWN0aW9uIiwicngiLCJyeSIsImRvb3IiLCJfZHJhd0NvcnJpZG9yZSIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdGlvbiIsInRlbXBEaXN0IiwieERpciIsInlEaXIiLCJtb3ZlIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4cG9zIiwieXBvcyIsIm1vdmVzIiwieEFicyIsInlBYnMiLCJwZXJjZW50IiwiZmlyc3RIYWxmIiwic2Vjb25kSGFsZiIsImNvbm5lY3Rpb24iLCJvdGhlcldhbGwiLCJjYW5CZUR1Z0NhbGxiYWNrIiwiZGlnQ2FsbGJhY2siLCJkZWJ1ZyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG9vclgiLCJkb29yWSIsIl94MSIsIl95MSIsIl94MiIsIl95MiIsIl9kb29ycyIsImdldERvb3JzIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsIl9lbmRYIiwiX2VuZFkiLCJfZW5kc1dpdGhBV2FsbCIsImZpcnN0Q29ybmVyQmFkIiwic2Vjb25kQ29ybmVyQmFkIiwicHJpb3JpdHlXYWxsQ2FsbGJhY2siLCJOb2lzZSIsIlNpbXBsZXgiLCJncmFkaWVudHMiLCJfRjIiLCJfRzIiLCJfZ3JhZGllbnRzIiwicGVybXV0YXRpb25zIiwiX3Blcm1zIiwiX2luZGV4ZXMiLCJ4aW4iLCJ5aW4iLCJnaSIsImkxIiwiajEiLCJwZXJtcyIsImluZGV4ZXMiLCJHMiIsIm4wIiwibjEiLCJuMiIsIlgwIiwiWTAiLCJ4MCIsInkwIiwidDAiLCJncmFkIiwiRk9WIiwibGlnaHRQYXNzZXNDYWxsYmFjayIsIl9saWdodFBhc3NlcyIsIl9nZXRDaXJjbGUiLCJjb3VudEZhY3RvciIsInN0YXJ0T2Zmc2V0IiwiRGlzY3JldGVTaGFkb3djYXN0aW5nIiwiX2Nvb3JkcyIsIkIiLCJibG9ja3MiLCJEQVRBIiwibmVpZ2hib3JzIiwiYW5nbGUiLCJfdmlzaWJsZUNvb3JkcyIsInYxIiwiY2FsbGVlIiwidjIiLCJQcmVjaXNlU2hhZG93Y2FzdGluZyIsIkExIiwiQTIiLCJTSEFET1dTIiwibmVpZ2hib3JDb3VudCIsIl9jaGVja1Zpc2liaWxpdHkiLCJpbmRleDEiLCJlZGdlMSIsIm9sZCIsImVkZ2UyIiwidmlzaWJsZSIsInZpc2libGVMZW5ndGgiLCJQIiwiUDEiLCJQMiIsImFyY0xlbmd0aCIsIlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmciLCJPQ1RBTlRTIiwiX3JlbmRlck9jdGFudCIsImNvbXB1dGUxODAiLCJwcmV2aW91c09jdGFudCIsIm5leHRQcmV2aW91c09jdGFudCIsIm5leHRPY3RhbnQiLCJjb21wdXRlOTAiLCJvY3RhbnQiLCJfY2FzdFZpc2liaWxpdHkiLCJyb3ciLCJ2aXNTbG9wZVN0YXJ0IiwidmlzU2xvcGVFbmQiLCJyYWRpdXMiLCJ4eSIsInl4IiwibmV3U3RhcnQiLCJtYXBYIiwibWFwWSIsInNsb3BlU3RhcnQiLCJzbG9wZUVuZCIsIkNvbG9yIiwiZnJvbVN0cmluZyIsImNhY2hlZCIsIl9jYWNoZSIsInZhbHVlcyIsImNvbG9yMSIsImNvbG9yMiIsImFkZF8iLCJtdWx0aXBseSIsIm11bHRpcGx5XyIsImludGVycG9sYXRlIiwiZmFjdG9yIiwiaW50ZXJwb2xhdGVIU0wiLCJoc2wxIiwicmdiMmhzbCIsImhzbDIiLCJoc2wycmdiIiwiaHVlMnJnYiIsInEiLCJ0b1JHQiIsIl9jbGFtcCIsInRvSGV4IiwiYmxhY2siLCJuYXZ5IiwiZGFya2JsdWUiLCJtZWRpdW1ibHVlIiwiYmx1ZSIsImRhcmtncmVlbiIsImdyZWVuIiwidGVhbCIsImRhcmtjeWFuIiwiZGVlcHNreWJsdWUiLCJkYXJrdHVycXVvaXNlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJsaW1lIiwic3ByaW5nZ3JlZW4iLCJhcXVhIiwiY3lhbiIsIm1pZG5pZ2h0Ymx1ZSIsImRvZGdlcmJsdWUiLCJmb3Jlc3RncmVlbiIsInNlYWdyZWVuIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJsaW1lZ3JlZW4iLCJtZWRpdW1zZWFncmVlbiIsInR1cnF1b2lzZSIsInJveWFsYmx1ZSIsInN0ZWVsYmx1ZSIsImRhcmtzbGF0ZWJsdWUiLCJtZWRpdW10dXJxdW9pc2UiLCJpbmRpZ28iLCJkYXJrb2xpdmVncmVlbiIsImNhZGV0Ymx1ZSIsImNvcm5mbG93ZXJibHVlIiwibWVkaXVtYXF1YW1hcmluZSIsImRpbWdyYXkiLCJkaW1ncmV5Iiwic2xhdGVibHVlIiwib2xpdmVkcmFiIiwic2xhdGVncmF5Iiwic2xhdGVncmV5IiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsIm1lZGl1bXNsYXRlYmx1ZSIsImxhd25ncmVlbiIsImNoYXJ0cmV1c2UiLCJhcXVhbWFyaW5lIiwibWFyb29uIiwicHVycGxlIiwib2xpdmUiLCJncmF5IiwiZ3JleSIsInNreWJsdWUiLCJsaWdodHNreWJsdWUiLCJibHVldmlvbGV0IiwiZGFya3JlZCIsImRhcmttYWdlbnRhIiwic2FkZGxlYnJvd24iLCJkYXJrc2VhZ3JlZW4iLCJsaWdodGdyZWVuIiwibWVkaXVtcHVycGxlIiwiZGFya3Zpb2xldCIsInBhbGVncmVlbiIsImRhcmtvcmNoaWQiLCJ5ZWxsb3dncmVlbiIsInNpZW5uYSIsImJyb3duIiwiZGFya2dyYXkiLCJkYXJrZ3JleSIsImxpZ2h0Ymx1ZSIsImdyZWVueWVsbG93IiwicGFsZXR1cnF1b2lzZSIsImxpZ2h0c3RlZWxibHVlIiwicG93ZGVyYmx1ZSIsImZpcmVicmljayIsImRhcmtnb2xkZW5yb2QiLCJtZWRpdW1vcmNoaWQiLCJyb3N5YnJvd24iLCJkYXJra2hha2kiLCJzaWx2ZXIiLCJtZWRpdW12aW9sZXRyZWQiLCJpbmRpYW5yZWQiLCJwZXJ1IiwiY2hvY29sYXRlIiwidGFuIiwibGlnaHRncmF5IiwibGlnaHRncmV5IiwicGFsZXZpb2xldHJlZCIsInRoaXN0bGUiLCJvcmNoaWQiLCJnb2xkZW5yb2QiLCJjcmltc29uIiwiZ2FpbnNib3JvIiwicGx1bSIsImJ1cmx5d29vZCIsImxpZ2h0Y3lhbiIsImxhdmVuZGVyIiwiZGFya3NhbG1vbiIsInZpb2xldCIsInBhbGVnb2xkZW5yb2QiLCJsaWdodGNvcmFsIiwia2hha2kiLCJhbGljZWJsdWUiLCJob25leWRldyIsImF6dXJlIiwic2FuZHlicm93biIsIndoZWF0IiwiYmVpZ2UiLCJ3aGl0ZXNtb2tlIiwibWludGNyZWFtIiwiZ2hvc3R3aGl0ZSIsInNhbG1vbiIsImFudGlxdWV3aGl0ZSIsImxpbmVuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJvbGRsYWNlIiwicmVkIiwiZnVjaHNpYSIsIm1hZ2VudGEiLCJkZWVwcGluayIsIm9yYW5nZXJlZCIsInRvbWF0byIsImhvdHBpbmsiLCJjb3JhbCIsImRhcmtvcmFuZ2UiLCJsaWdodHNhbG1vbiIsIm9yYW5nZSIsImxpZ2h0cGluayIsInBpbmsiLCJnb2xkIiwicGVhY2hwdWZmIiwibmF2YWpvd2hpdGUiLCJtb2NjYXNpbiIsImJpc3F1ZSIsIm1pc3R5cm9zZSIsImJsYW5jaGVkYWxtb25kIiwicGFwYXlhd2hpcCIsImxhdmVuZGVyYmx1c2giLCJzZWFzaGVsbCIsImNvcm5zaWxrIiwibGVtb25jaGlmZm9uIiwiZmxvcmFsd2hpdGUiLCJzbm93IiwieWVsbG93IiwibGlnaHR5ZWxsb3ciLCJpdm9yeSIsIndoaXRlIiwiTGlnaHRpbmciLCJyZWZsZWN0aXZpdHlDYWxsYmFjayIsIl9yZWZsZWN0aXZpdHlDYWxsYmFjayIsInBhc3NlcyIsImVtaXNzaW9uVGhyZXNob2xkIiwicmFuZ2UiLCJfZm92IiwiX2xpZ2h0cyIsIl9yZWZsZWN0aXZpdHlDYWNoZSIsIl9mb3ZDYWNoZSIsInJlc2V0Iiwic2V0Rk9WIiwiZm92Iiwic2V0TGlnaHQiLCJjbGVhckxpZ2h0cyIsImxpZ2h0aW5nQ2FsbGJhY2siLCJkb25lQ2VsbHMiLCJlbWl0dGluZ0NlbGxzIiwibGl0Q2VsbHMiLCJsaWdodCIsIl9lbWl0TGlnaHQiLCJfY29tcHV0ZUVtaXR0ZXJzIiwibGl0S2V5IiwiX2VtaXRMaWdodEZyb21DZWxsIiwicmVmbGVjdGl2aXR5IiwiZW1pc3Npb24iLCJpbnRlbnNpdHkiLCJfdXBkYXRlRk9WIiwiZm92S2V5IiwiZm9ybUZhY3RvciIsImtleTEiLCJ2aXMiLCJrZXkyIiwiUGF0aCIsInRvWCIsInRvWSIsInBhc3NhYmxlQ2FsbGJhY2siLCJfdG9YIiwiX3RvWSIsIl9mcm9tWCIsIl9mcm9tWSIsIl9wYXNzYWJsZUNhbGxiYWNrIiwiZnJvbVgiLCJmcm9tWSIsIkRpamtzdHJhIiwiX2NvbXB1dGVkIiwiX3RvZG8iLCJfYWRkIiwiX2NvbXB1dGUiLCJwcmV2IiwibmVpZ2hib3IiLCJBU3RhciIsIl9kb25lIiwiX2Rpc3RhbmNlIiwiVGVybSIsIl9jeCIsIl9jeSIsIl9sYXN0Q29sb3IiLCJfb3giLCJfb3kiLCJjb2x1bW5zIiwicm93cyIsInBvc2l0aW9uVG9BbnNpIiwibmV3Q29sb3IiLCJjb2xvclRvQW5zaSIsIlh0ZXJtIiwiU1JDX0NPTE9SUyIsIkRTVF9DT0xPUlMiLCJDT0xPUl9SQVRJTyIsInJnYiIsIjI2IiwiLi9saWIvaW5kZXgiLCIyNyIsIl9wb255ZmlsbCIsIl9wb255ZmlsbDIiLCIuL3BvbnlmaWxsIiwiMjgiLCJzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwiLCJfU3ltYm9sIiwiMjkiLCJfcmVkdXhMb2dnZXIiLCJfcm90SnMiLCJfcmVkdWNlcnMiLCJfaW5pdGlhbFN0YXRlIiwiX2dhbWUiLCJfZ2FtZTIiLCJHQU1FIiwiaW5pdCIsInN3aXRjaFNjcmVlbiIsIlNjcmVlbiIsIlN0YXJ0U2NyZWVuIiwibWFpbkRpc3BsYXkiLCJnZXREaXNwbGF5IiwicXVlcnlTZWxlY3RvciIsIi4vZ2FtZSIsIi4vaW5pdGlhbFN0YXRlIiwiLi9yZWR1Y2VycyIsInJlZHV4IiwicmVkdXgtbG9nZ2VyIiwicm90LWpzIiwiMzAiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfZ2x5cGgiLCJfZ2x5cGgyIiwiRW50aXR5IiwiX0dseXBoIiwicHJvcGVydGllcyIsIl90aGlzIiwiX25hbWUiLCJfeCIsIl95IiwiX2F0dGFjaGVkTWl4aW5zIiwiX2F0dGFjaGVkTWl4aW5Hcm91cHMiLCJtaXhpbnMiLCJtaXhpbiIsImdyb3VwTmFtZSIsImhhc01peGluIiwic2V0TmFtZSIsInNldFgiLCJzZXRZIiwiZ2V0TmFtZSIsImdldFgiLCJnZXRZIiwic2V0TWFwIiwiZ2V0TWFwIiwiLi9nbHlwaCIsIjMxIiwiR2x5cGgiLCJfY2hhciIsIl9mZyIsIl9iZyIsImdldENoYXIiLCJnZXRCYWNrZ3JvdW5kIiwiZ2V0Rm9yZWdyb3VuZCIsIjMyIiwiX3JvdEpzMiIsIl9zY3JlZW4iLCJfc2NyZWVuMiIsImRpc3BsYXlEZWZhdWx0cyIsIkdhbWUiLCJfZGlzcGxheSIsIl9jdXJyZW50U2NyZWVuIiwiX3NjcmVlbldpZHRoIiwiX3NjcmVlbkhlaWdodCIsImJpbmRFdmVudFRvU2NyZWVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUlucHV0IiwicmVmcmVzaCIsImdldFNjcmVlbldpZHRoIiwiZ2V0U2NyZWVuSGVpZ2h0Iiwic2NyZWVuIiwiZXhpdCIsImVudGVyIiwiLi9zY3JlZW4iLCIzMyIsIl90ZW1wbGF0ZXMiLCJfZW50aXR5IiwiX2VudGl0eTIiLCJfdGlsZSIsInRpbGVzIiwicGxheWVyIiwiX3RpbGVzIiwiX2VudGl0aWVzIiwiX2VuZ2luZSIsImFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24iLCJGdW5ndXNUZW1wbGF0ZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiZ2V0VGlsZSIsInJldCIsIk51bGxUaWxlIiwiZGlnIiwiaXNEaWdnYWJsZSIsIkZsb29yVGlsZSIsImdldFJhbmRvbUZsb29yUG9zaXRpb24iLCJpc0VtcHR5Rmxvb3IiLCJnZXRFbmdpbmUiLCJnZXRFbnRpdGllcyIsImdldEVudGl0eUF0IiwiZW50aXR5IiwiYWRkRW50aXR5IiwicmVtb3ZlRW50aXR5IiwiLi9lbnRpdHkiLCIuL3RlbXBsYXRlcyIsIi4vdGlsZSIsIjM0IiwiU2ltcGxlQXR0YWNrZXIiLCJEZXN0cnVjdGlibGUiLCJGdW5ndXNBY3RvciIsIlBsYXllckFjdG9yIiwiTW92ZWFibGUiLCJ0cnlNb3ZlIiwiYXR0YWNrIiwiaXNXYWxrYWJsZSIsIl9ncm93dGhzUmVtYWluaW5nIiwiX2hwIiwidGFrZURhbWFnZSIsImF0dGFja2VyIiwiZGFtYWdlIiwiMzUiLCJfbWFwMiIsImRpc3BsYXkiLCJnYW1lIiwia2V5Q29kZSIsIlBsYXlTY3JlZW4iLCJfcGxheWVyIiwibWFwV2lkdGgiLCJtYXBIZWlnaHQiLCJnZW5lcmF0b3IiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJXYWxsVGlsZSIsIlBsYXllclRlbXBsYXRlIiwiZFgiLCJkWSIsIm5ld1giLCJuZXdZIiwic2NyZWVuV2lkdGgiLCJzY3JlZW5IZWlnaHQiLCJ0b3BMZWZ0WCIsInRvcExlZnRZIiwiZW50aXRpZXMiLCJXaW5TY3JlZW4iLCJMb3NlU2NyZWVuIiwiYmFja2dyb3VuZCIsIi4vbWFwIiwiMzYiLCJfbWl4aW5zIiwiY2hhciIsIi4vbWl4aW5zIiwiMzciLCJfaXNXYWxrYWJsZSIsIl9pc0RpZ2dhYmxlIiwiMzgiLCJtZXNzYWdlcyIsIjM5IiwiX2luaXRpYWxTdGF0ZTIiLCIuLi9pbml0aWFsU3RhdGUiLCI0MCIsIl9yZWR1eCJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQUEsR0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsR0FBQUUsR0FBQSxrQkFBQUMsVUFBQUEsT0FBQSxLQUFBRixHQUFBQyxFQUFBLE1BQUFBLEdBQUFGLEdBQUEsRUFBQSxJQUFBSSxF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QUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxnQkFBQSxHQUVBQyxXQUFBLEdBRUFDLFdBQUEsR0FFQUMsV0FBQSxHQUVBQyxXQUFBLEdBRUFDLFdBQUEsSUFFQUMsV0FBQSxJQUVBQyxXQUFBLElBRUFDLFdBQUEsSUFFQUMsV0FBQSxJQUVBQyxXQUFBLElBRUFDLFlBQUEsSUFFQUMsT0FBQSxJQUVBQyxhQUFBLElBRUFDLFlBQUEsSUFFQUMsV0FBQSxJQUVBQyxVQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxNQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLFlBQUEsSUFFQUMsZUFBQSxJQUVBQyxjQUFBLElBRUFDLGVBQUEsSUFFQUMsZ0JBQUEsSUFFQUMsUUFBQSxJQUVBQyxVQUFBLElBRUFDLFdBQUEsSUFFQUMsYUFBQSxJQUVBQyxjQUFBLElBRUFDLGNBQUEsSUFFQUMsZUFBQSxJQUVBQyxZQUFBLElBRUFDLFFBQUEsSUFFQUMsUUFBQSxJQUVBQyxnQkFBQSxJQUVBQyxzQkFBQSxJ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Q0FDLFFBQUEsR0FBQSxFQUFBLEtBQ0FDLGdCQUFBLEdBQUEsSUFBQSxJQUNBQyxXQUFBLEdBQUEsSUFBQSxLQUNBQyxnQkFBQSxJQUFBLElBQUEsS0FDQUMsa0JBQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxHQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLElBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLGdCQUFBLElBQUEsSUFBQSxLQUNBQyxnQkFBQSxJQUFBLElBQUEsS0FDQUMsaUJBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEdBQ0FDLFlBQUEsSUFBQSxJQUFBLEdBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLFFBQUEsSUFBQSxFQUFBLEdBQ0FDLFFBQUEsSUFBQSxFQUFBLEtBQ0FDLE9BQUEsSUFBQSxJQUFBLEdBQ0FDLE1BQUEsSUFBQSxJQUFBLEtBQ0FDLE1BQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLGNBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxHQUFBLEtBQ0FDLFNBQUEsSUFBQSxFQUFBLEdBQ0FDLGFBQUEsSUFBQSxFQUFBLEtBQ0FDLGFBQUEsSUFBQSxHQUFBLElBQ0FDLGNBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLGNBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxFQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxHQUFBLEtBQ0FDLGFBQUEsSUFBQSxJQUFBLElBQ0FDLFFBQUEsSUFBQSxHQUFBLElBQ0FDLE9BQUEsSUFBQSxHQUFBLElBQ0FDLFVBQUEsSUFBQSxJQUFBLEtBQ0FDLFVBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLGFBQUEsSUFBQSxJQUFBLElBQ0FDLGVBQUEsSUFBQSxJQUFBLEtBQ0FDLGdCQUFBLElBQUEsSUFBQSxLQUNBQyxZQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsR0FBQSxJQUNBQyxlQUFBLElBQUEsSUFBQSxJQUNBQyxjQUFBLElBQUEsR0FBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxRQUFBLElBQUEsSUFBQSxLQUNBQyxpQkFBQSxJQUFBLEdBQUEsS0FDQUMsV0FBQSxJQUFBLEdBQUEsSUFDQUMsTUFBQSxJQUFBLElBQUEsSUFDQUMsV0FBQSxJQUFBLElBQUEsSUFDQUMsS0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsZUFBQSxJQUFBLElBQUEsS0FDQUMsU0FBQSxJQUFBLElBQUEsS0FDQUMsUUFBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsSUFDQUMsU0FBQSxJQUFBLEdBQUEsSUFDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsTUFBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsVUFBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsUUFBQSxJQUFBLElBQUEsS0FDQUMsZUFBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsVUFBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsSUFDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsUUFBQSxJQUFBLElBQUEsS0FDQUMsY0FBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsc0JBQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLEtBQUEsSUFBQSxFQUFBLEdBQ0FDLFNBQUEsSUFBQSxFQUFBLEtBQ0FDLFNBQUEsSUFBQSxFQUFBLEtBQ0FDLFVBQUEsSUFBQSxHQUFBLEtBQ0FDLFdBQUEsSUFBQSxHQUFBLEdBQ0FDLFFBQUEsSUFBQSxHQUFBLElBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLE9BQUEsSUFBQSxJQUFBLElBQ0FDLFlBQUEsSUFBQSxJQUFBLEdBQ0FDLGFBQUEsSUFBQSxJQUFBLEtBQ0FDLFFBQUEsSUFBQSxJQUFBLEdBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLE1BQUEsSUFBQSxJQUFBLEtBQ0FDLE1BQUEsSUFBQSxJQUFBLEdBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLGFBQUEsSUFBQSxJQUFBLEtBQ0FDLFVBQUEsSUFBQSxJQUFBLEtBQ0FDLFFBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLGdCQUFBLElBQUEsSUFBQSxLQUNBQyxZQUFBLElBQUEsSUFBQSxLQUNBQyxlQUFBLElBQUEsSUFBQSxLQUNBQyxVQUFBLElBQUEsSUFBQSxLQUNBQyxVQUFBLElBQUEsSUFBQSxLQUNBQyxjQUFBLElBQUEsSUFBQSxLQUNBQyxhQUFBLElBQUEsSUFBQSxLQUNBQyxNQUFBLElBQUEsSUFBQSxLQUNBQyxRQUFBLElBQUEsSUFBQSxHQUNBQyxhQUFBLElBQUEsSUFBQSxLQUNBQyxPQUFBLElBQUEsSUFBQSxLQUNBQyxPQUFBLElBQUEsSUFBQSxPQVdBcjRCLEVBQUFzNEIsU0FBQSxTQUFBQyxFQUFBcm9DLEdBQ0FwTSxLQUFBMDBDLHNCQUFBRCxFQUNBejBDLEtBQUE0cUIsVUFDQStwQixPQUFBLEVBQ0FDLGtCQUFBLElBQ0FDLE1BQUEsSUFFQTcwQyxLQUFBODBDLEtBQUEsS0FFQTkwQyxLQUFBKzBDLFdBQ0EvMEMsS0FBQWcxQyxzQkFDQWgxQyxLQUFBaTFDLGFBRUFqMUMsS0FBQWdzQixXQUFBNWYsSUFRQThQLEVBQUFzNEIsU0FBQWwwQyxVQUFBMHJCLFdBQUEsU0FBQTVmLEdBQ0EsSUFBQSxHQUFBMmYsS0FBQTNmLEdBQUFwTSxLQUFBNHFCLFNBQUFtQixHQUFBM2YsRUFBQTJmLEVBRUEsT0FEQTNmLElBQUFBLEVBQUF5b0MsT0FBQTcwQyxLQUFBazFDLFFBQ0FsMUMsTUFPQWtjLEVBQUFzNEIsU0FBQWwwQyxVQUFBNjBDLE9BQUEsU0FBQUMsR0FHQSxNQUZBcDFDLE1BQUE4MEMsS0FBQU0sRUFDQXAxQyxLQUFBaTFDLGFBQ0FqMUMsTUFTQWtjLEVBQUFzNEIsU0FBQWwwQyxVQUFBKzBDLFNBQUEsU0FBQWo3QixFQUFBQyxFQUFBNUssR0FDQSxHQUFBM00sR0FBQXNYLEVBQUEsSUFBQUMsQ0FPQSxPQUxBNUssR0FDQXpQLEtBQUErMEMsUUFBQWp5QyxHQUFBLGdCQUFBLEdBQUFvWixFQUFBOHRCLE1BQUFDLFdBQUF4NkIsR0FBQUEsUUFFQXpQLE1BQUErMEMsUUFBQWp5QyxHQUVBOUMsTUFNQWtjLEVBQUFzNEIsU0FBQWwwQyxVQUFBZzFDLFlBQUEsV0FDQXQxQyxLQUFBKzBDLFlBTUE3NEIsRUFBQXM0QixTQUFBbDBDLFVBQUE0MEMsTUFBQSxXQUlBLE1BSEFsMUMsTUFBQWcxQyxzQkFDQWgxQyxLQUFBaTFDLGFBRUFqMUMsTUFPQWtjLEVBQUFzNEIsU0FBQWwwQyxVQUFBZ3NCLFFBQUEsU0FBQWlwQixHQUNBLEdBQUFDLE1BQ0FDLEtBQ0FDLElBRUEsS0FBQSxHQUFBNXlDLEtBQUE5QyxNQUFBKzBDLFFBQUEsQ0FDQSxHQUFBWSxHQUFBMzFDLEtBQUErMEMsUUFBQWp5QyxFQUNBMnlDLEdBQUEzeUMsSUFBQSxFQUFBLEVBQUEsR0FDQW9aLEVBQUE4dEIsTUFBQU8sS0FBQWtMLEVBQUEzeUMsR0FBQTZ5QyxHQUdBLElBQUEsR0FBQTMyQyxHQUFBLEVBQUFBLEVBQUFnQixLQUFBNHFCLFNBQUErcEIsT0FBQTMxQyxJQUNBZ0IsS0FBQTQxQyxXQUFBSCxFQUFBQyxFQUFBRixHQUNBeDJDLEVBQUEsR0FBQWdCLEtBQUE0cUIsU0FBQStwQixTQUNBYyxFQUFBejFDLEtBQUE2MUMsaUJBQUFILEVBQUFGLEdBR0EsS0FBQSxHQUFBTSxLQUFBSixHQUFBLENBQ0EsR0FBQWpwQyxHQUFBcXBDLEVBQUE1Z0MsTUFBQSxLQUNBa0YsRUFBQTZnQixTQUFBeHVCLEVBQUEsSUFDQTROLEVBQUE0Z0IsU0FBQXh1QixFQUFBLEdBQ0E4b0MsR0FBQW43QixFQUFBQyxFQUFBcTdCLEVBQUFJLElBR0EsTUFBQTkxQyxPQVNBa2MsRUFBQXM0QixTQUFBbDBDLFVBQUFzMUMsV0FBQSxTQUFBSCxFQUFBQyxFQUFBRixHQUNBLElBQUEsR0FBQTF5QyxLQUFBMnlDLEdBQUEsQ0FDQSxHQUFBaHBDLEdBQUEzSixFQUFBb1MsTUFBQSxLQUNBa0YsRUFBQTZnQixTQUFBeHVCLEVBQUEsSUFDQTROLEVBQUE0Z0IsU0FBQXh1QixFQUFBLEdBQ0F6TSxNQUFBKzFDLG1CQUFBMzdCLEVBQUFDLEVBQUFvN0IsRUFBQTN5QyxHQUFBNHlDLEdBQ0FGLEVBQUExeUMsR0FBQSxFQUVBLE1BQUE5QyxPQVNBa2MsRUFBQXM0QixTQUFBbDBDLFVBQUF1MUMsaUJBQUEsU0FBQUgsRUFBQUYsR0FDQSxHQUFBenVDLEtBRUEsS0FBQSxHQUFBakUsS0FBQTR5QyxHQUNBLEtBQUE1eUMsSUFBQTB5QyxJQUFBLENBRUEsR0FBQS9sQyxHQUFBaW1DLEVBQUE1eUMsRUFFQSxJQUFBQSxJQUFBOUMsTUFBQWcxQyxtQkFDQSxHQUFBZ0IsR0FBQWgyQyxLQUFBZzFDLG1CQUFBbHlDLE9BQ0EsQ0FDQSxHQUFBMkosR0FBQTNKLEVBQUFvUyxNQUFBLEtBQ0FrRixFQUFBNmdCLFNBQUF4dUIsRUFBQSxJQUNBNE4sRUFBQTRnQixTQUFBeHVCLEVBQUEsSUFDQXVwQyxFQUFBaDJDLEtBQUEwMEMsc0JBQUF0NkIsRUFBQUMsRUFDQXJhLE1BQUFnMUMsbUJBQUFseUMsR0FBQWt6QyxFQUdBLEdBQUEsR0FBQUEsRUFBQSxDQUtBLElBQUEsR0FGQUMsTUFDQUMsRUFBQSxFQUNBbDNDLEVBQUEsRUFBQUEsRUFBQSxFQUFBQSxJQUFBLENBQ0EsR0FBQWlvQixHQUFBN2tCLEtBQUF3OEIsTUFBQW52QixFQUFBelEsR0FBQWczQyxFQUNBQyxHQUFBajNDLEdBQUFpb0IsRUFDQWl2QixHQUFBanZCLEVBRUFpdkIsRUFBQWwyQyxLQUFBNHFCLFNBQUFncUIsb0JBQUE3dEMsRUFBQWpFLEdBQUFtekMsSUFHQSxNQUFBbHZDLElBVUFtVixFQUFBczRCLFNBQUFsMEMsVUFBQXkxQyxtQkFBQSxTQUFBMzdCLEVBQUFDLEVBQUE1SyxFQUFBaW1DLEdBQ0EsR0FBQTV5QyxHQUFBc1gsRUFBQSxJQUFBQyxDQUNBLElBQUF2WCxJQUFBOUMsTUFBQWkxQyxVQUNBLEdBQUFHLEdBQUFwMUMsS0FBQWkxQyxVQUFBbnlDLE9BRUEsSUFBQXN5QyxHQUFBcDFDLEtBQUFtMkMsV0FBQS83QixFQUFBQyxFQUdBLEtBQUEsR0FBQSs3QixLQUFBaEIsR0FBQSxDQUNBLEdBQUFpQixHQUFBakIsRUFBQWdCLEVBRUEsSUFBQUEsSUFBQVYsR0FDQSxHQUFBM3VDLEdBQUEydUMsRUFBQVUsT0FDQSxDQUNBLEdBQUFydkMsSUFBQSxFQUFBLEVBQUEsRUFDQTJ1QyxHQUFBVSxHQUFBcnZDLEVBR0EsSUFBQSxHQUFBL0gsR0FBQSxFQUFBQSxFQUFBLEVBQUFBLElBQUErSCxFQUFBL0gsSUFBQW9ELEtBQUF3OEIsTUFBQW52QixFQUFBelEsR0FBQXEzQyxHQUdBLE1BQUFyMkMsT0FTQWtjLEVBQUFzNEIsU0FBQWwwQyxVQUFBNjFDLFdBQUEsU0FBQS83QixFQUFBQyxHQUNBLEdBQUFpOEIsR0FBQWw4QixFQUFBLElBQUFDLEVBQ0E4VCxJQUNBbnVCLE1BQUFpMUMsVUFBQXFCLEdBQUFub0IsQ0FDQSxJQUFBMG1CLEdBQUE3MEMsS0FBQTRxQixTQUFBaXFCLE1BQ0EzN0IsRUFBQSxTQUFBa0IsRUFBQUMsRUFBQTNiLEVBQUE2M0MsR0FDQSxHQUFBQyxHQUFBcDhCLEVBQUEsSUFBQUMsRUFDQWc4QixFQUFBRSxHQUFBLEVBQUE3M0MsRUFBQW0yQyxFQUNBLElBQUF3QixJQUNBbG9CLEVBQUFxb0IsR0FBQUgsR0FJQSxPQUZBcjJDLE1BQUE4MEMsS0FBQXhvQixRQUFBbFMsRUFBQUMsRUFBQXc2QixFQUFBMzdCLEVBQUFrRCxLQUFBcGMsT0FFQW11QixHQVVBalMsRUFBQXU2QixLQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUF4cUMsR0FDQXBNLEtBQUE2MkMsS0FBQUgsRUFDQTEyQyxLQUFBODJDLEtBQUFILEVBQ0EzMkMsS0FBQSsyQyxPQUFBLEtBQ0EvMkMsS0FBQWczQyxPQUFBLEtBQ0FoM0MsS0FBQWkzQyxrQkFBQUwsRUFDQTUyQyxLQUFBNHFCLFVBQ0F5TSxTQUFBLEVBRUEsS0FBQSxHQUFBdEwsS0FBQTNmLEdBQUFwTSxLQUFBNHFCLFNBQUFtQixHQUFBM2YsRUFBQTJmLEVBRUEvckIsTUFBQXUzQixNQUFBcmIsRUFBQUssS0FBQXZjLEtBQUE0cUIsU0FBQXlNLFVBQ0EsR0FBQXIzQixLQUFBNHFCLFNBQUF5TSxXQUNBcjNCLEtBQUF1M0IsT0FDQXYzQixLQUFBdTNCLE1BQUEsR0FDQXYzQixLQUFBdTNCLE1BQUEsR0FDQXYzQixLQUFBdTNCLE1BQUEsR0FDQXYzQixLQUFBdTNCLE1BQUEsR0FDQXYzQixLQUFBdTNCLE1BQUEsR0FDQXYzQixLQUFBdTNCLE1BQUEsR0FDQXYzQixLQUFBdTNCLE1BQUEsR0FDQXYzQixLQUFBdTNCLE1BQUEsTUFXQXJiLEVBQUF1NkIsS0FBQW4yQyxVQUFBZ3NCLFFBQUEsU0FBQTRxQixFQUFBQyxFQUFBamlCLEtBR0FoWixFQUFBdTZCLEtBQUFuMkMsVUFBQXkzQixjQUFBLFNBQUE3SyxFQUFBQyxHQUVBLElBQUEsR0FEQXBtQixNQUNBL0gsRUFBQSxFQUFBQSxFQUFBZ0IsS0FBQXUzQixNQUFBaDRCLE9BQUFQLElBQUEsQ0FDQSxHQUFBcU0sR0FBQXJMLEtBQUF1M0IsTUFBQXY0QixHQUNBb2IsRUFBQThTLEVBQUE3aEIsRUFBQSxHQUNBZ1AsRUFBQThTLEVBQUE5aEIsRUFBQSxFQUVBckwsTUFBQWkzQyxrQkFBQTc4QixFQUFBQyxJQUNBdFQsRUFBQWhGLE1BQUFxWSxFQUFBQyxJQUdBLE1BQUF0VCxJQU9BbVYsRUFBQXU2QixLQUFBVyxTQUFBLFNBQUFWLEVBQUFDLEVBQUFDLEVBQUF4cUMsR0FDQThQLEVBQUF1NkIsS0FBQW4zQyxLQUFBVSxLQUFBMDJDLEVBQUFDLEVBQUFDLEVBQUF4cUMsR0FFQXBNLEtBQUFxM0MsYUFDQXIzQyxLQUFBczNDLFNBQ0F0M0MsS0FBQXUzQyxLQUFBYixFQUFBQyxFQUFBLE9BRUF6NkIsRUFBQXU2QixLQUFBVyxTQUFBeHRCLE9BQUExTixFQUFBdTZCLE1BTUF2NkIsRUFBQXU2QixLQUFBVyxTQUFBOTJDLFVBQUFnc0IsUUFBQSxTQUFBNHFCLEVBQUFDLEVBQUFqaUIsR0FDQSxHQUFBcHlCLEdBQUFvMEMsRUFBQSxJQUFBQyxDQUVBLElBREFyMEMsSUFBQTlDLE1BQUFxM0MsV0FBQXIzQyxLQUFBdzNDLFNBQUFOLEVBQUFDLEdBQ0FyMEMsSUFBQTlDLE1BQUFxM0MsVUFHQSxJQURBLEdBQUE3MUMsR0FBQXhCLEtBQUFxM0MsVUFBQXYwQyxHQUNBdEIsR0FDQTB6QixFQUFBMXpCLEVBQUE0WSxFQUFBNVksRUFBQTZZLEdBQ0E3WSxFQUFBQSxFQUFBaTJDLE1BT0F2N0IsRUFBQXU2QixLQUFBVyxTQUFBOTJDLFVBQUFrM0MsU0FBQSxTQUFBTixFQUFBQyxHQUNBLEtBQUFuM0MsS0FBQXMzQyxNQUFBLzNDLFFBQUEsQ0FDQSxHQUFBaUMsR0FBQXhCLEtBQUFzM0MsTUFBQWp1QixPQUNBLElBQUE3bkIsRUFBQTRZLEdBQUE4OEIsR0FBQTExQyxFQUFBNlksR0FBQTg4QixFQUFBLE1BSUEsS0FBQSxHQUZBOVAsR0FBQXJuQyxLQUFBKzNCLGNBQUF2MkIsRUFBQTRZLEVBQUE1WSxFQUFBNlksR0FFQXJiLEVBQUEsRUFBQUEsRUFBQXFvQyxFQUFBOW5DLE9BQUFQLElBQUEsQ0FDQSxHQUFBMDRDLEdBQUFyUSxFQUFBcm9DLEdBQ0FvYixFQUFBczlCLEVBQUEsR0FDQXI5QixFQUFBcTlCLEVBQUEsR0FDQW50QixFQUFBblEsRUFBQSxJQUFBQyxDQUNBa1EsS0FBQXZxQixNQUFBcTNDLFdBQ0FyM0MsS0FBQXUzQyxLQUFBbjlCLEVBQUFDLEVBQUE3WSxNQUtBMGEsRUFBQXU2QixLQUFBVyxTQUFBOTJDLFVBQUFpM0MsS0FBQSxTQUFBbjlCLEVBQUFDLEVBQUFvOUIsR0FDQSxHQUFBaHNDLElBQ0EyTyxFQUFBQSxFQUNBQyxFQUFBQSxFQUNBbzlCLEtBQUFBLEVBRUF6M0MsTUFBQXEzQyxVQUFBajlCLEVBQUEsSUFBQUMsR0FBQTVPLEVBQ0F6TCxLQUFBczNDLE1BQUF2MUMsS0FBQTBKLElBT0F5USxFQUFBdTZCLEtBQUFrQixNQUFBLFNBQUFqQixFQUFBQyxFQUFBQyxFQUFBeHFDLEdBQ0E4UCxFQUFBdTZCLEtBQUFuM0MsS0FBQVUsS0FBQTAyQyxFQUFBQyxFQUFBQyxFQUFBeHFDLEdBRUFwTSxLQUFBczNDLFNBQ0F0M0MsS0FBQTQzQyxTQUNBNTNDLEtBQUErMkMsT0FBQSxLQUNBLzJDLEtBQUFnM0MsT0FBQSxNQUVBOTZCLEVBQUF1NkIsS0FBQWtCLE1BQUEvdEIsT0FBQTFOLEVBQUF1NkIsTUFNQXY2QixFQUFBdTZCLEtBQUFrQixNQUFBcjNDLFVBQUFnc0IsUUFBQSxTQUFBNHFCLEVBQUFDLEVBQUFqaUIsR0FPQSxJQU5BbDFCLEtBQUFzM0MsU0FDQXQzQyxLQUFBNDNDLFNBQ0E1M0MsS0FBQSsyQyxPQUFBRyxFQUNBbDNDLEtBQUFnM0MsT0FBQUcsRUFDQW4zQyxLQUFBdTNDLEtBQUF2M0MsS0FBQTYyQyxLQUFBNzJDLEtBQUE4MkMsS0FBQSxNQUVBOTJDLEtBQUFzM0MsTUFBQS8zQyxRQUFBLENBQ0EsR0FBQWlDLEdBQUF4QixLQUFBczNDLE1BQUFqdUIsT0FDQSxJQUFBN25CLEVBQUE0WSxHQUFBODhCLEdBQUExMUMsRUFBQTZZLEdBQUE4OEIsRUFBQSxLQUdBLEtBQUEsR0FGQTlQLEdBQUFybkMsS0FBQSszQixjQUFBdjJCLEVBQUE0WSxFQUFBNVksRUFBQTZZLEdBRUFyYixFQUFBLEVBQUFBLEVBQUFxb0MsRUFBQTluQyxPQUFBUCxJQUFBLENBQ0EsR0FBQTA0QyxHQUFBclEsRUFBQXJvQyxHQUNBb2IsRUFBQXM5QixFQUFBLEdBQ0FyOUIsRUFBQXE5QixFQUFBLEdBQ0FudEIsRUFBQW5RLEVBQUEsSUFBQUMsQ0FDQWtRLEtBQUF2cUIsTUFBQTQzQyxPQUNBNTNDLEtBQUF1M0MsS0FBQW45QixFQUFBQyxFQUFBN1ksSUFJQSxHQUFBQSxHQUFBeEIsS0FBQTQzQyxNQUFBVixFQUFBLElBQUFDLEVBQ0EsSUFBQTMxQyxFQUVBLEtBQUFBLEdBQ0EwekIsRUFBQTF6QixFQUFBNFksRUFBQTVZLEVBQUE2WSxHQUNBN1ksRUFBQUEsRUFBQWkyQyxNQUlBdjdCLEVBQUF1NkIsS0FBQWtCLE1BQUFyM0MsVUFBQWkzQyxLQUFBLFNBQUFuOUIsRUFBQUMsRUFBQW85QixHQUNBLEdBQUFoc0MsSUFDQTJPLEVBQUFBLEVBQ0FDLEVBQUFBLEVBQ0FvOUIsS0FBQUEsRUFDQXg4QixFQUFBdzhCLEVBQUFBLEVBQUF4OEIsRUFBQSxFQUFBLEVBQ0FWLEVBQUF2YSxLQUFBNjNDLFVBQUF6OUIsRUFBQUMsR0FFQXJhLE1BQUE0M0MsTUFBQXg5QixFQUFBLElBQUFDLEdBQUE1TyxDQUtBLEtBQUEsR0FEQXhNLEdBQUF3TSxFQUFBd1AsRUFBQXhQLEVBQUE4TyxFQUNBdmIsRUFBQSxFQUFBQSxFQUFBZ0IsS0FBQXMzQyxNQUFBLzNDLE9BQUFQLElBQUEsQ0FDQSxHQUFBd0MsR0FBQXhCLEtBQUFzM0MsTUFBQXQ0QyxFQUNBLElBQUFDLEVBQUF1QyxFQUFBeVosRUFBQXpaLEVBQUErWSxFQUVBLFdBREF2YSxNQUFBczNDLE1BQUFyZ0MsT0FBQWpZLEVBQUEsRUFBQXlNLEdBS0F6TCxLQUFBczNDLE1BQUF2MUMsS0FBQTBKLElBR0F5USxFQUFBdTZCLEtBQUFrQixNQUFBcjNDLFVBQUF1M0MsVUFBQSxTQUFBejlCLEVBQUFDLEdBQ0EsT0FBQXJhLEtBQUE0cUIsU0FBQXlNLFVBQ0EsSUFBQSxHQUNBLE1BQUFqMUIsTUFBQTI3QixJQUFBM2pCLEVBQUFwYSxLQUFBKzJDLFFBQUEzMEMsS0FBQTI3QixJQUFBMWpCLEVBQUFyYSxLQUFBZzNDLE9BR0EsS0FBQSxHQUNBLEdBQUFuYixHQUFBejVCLEtBQUEyN0IsSUFBQTNqQixFQUFBcGEsS0FBQSsyQyxRQUNBamIsRUFBQTE1QixLQUFBMjdCLElBQUExakIsRUFBQXJhLEtBQUFnM0MsT0FDQSxPQUFBbGIsR0FBQTE1QixLQUFBMGtCLElBQUEsR0FBQStVLEVBQUFDLEdBQUEsRUFHQSxLQUFBLEdBQ0EsTUFBQTE1QixNQUFBMGtCLElBQUExa0IsS0FBQTI3QixJQUFBM2pCLEVBQUFwYSxLQUFBKzJDLFFBQUEzMEMsS0FBQTI3QixJQUFBMWpCLEVBQUFyYSxLQUFBZzNDLFNBSUEsS0FBQSxJQUFBOTNDLE9BQUEscUJBTUFnZCxFQUFBc08sUUFBQXN0QixLQUFBLFNBQUE5OUIsR0FDQWtDLEVBQUFzTyxRQUFBc0QsUUFBQXh1QixLQUFBVSxLQUFBZ2EsR0FDQWhhLEtBQUErM0MsT0FDQS8zQyxLQUFBZzRDLE9BQ0FoNEMsS0FBQWk0QyxXQUFBLEdBQ0FqNEMsS0FBQTRxQixZQUNBNXFCLEtBQUFrNEMsSUFBQSxFQUNBbDRDLEtBQUFtNEMsSUFBQSxFQUNBbjRDLEtBQUFpYSxlQUVBaUMsRUFBQXNPLFFBQUFzdEIsS0FBQWx1QixPQUFBMU4sRUFBQXNPLFFBQUFzRCxTQUVBNVIsRUFBQXNPLFFBQUFzdEIsS0FBQXgzQyxVQUFBZ3NCLFFBQUEsU0FBQWxnQixHQUNBcE0sS0FBQTRxQixTQUFBeGUsRUFDQXBNLEtBQUFrNEMsSUFBQTkxQyxLQUFBOGxCLE9BQUFsZSxFQUFBMlEsT0FBQXk5QixRQUFBaHNDLEVBQUFzUCxPQUFBLEdBQ0ExYixLQUFBbTRDLElBQUEvMUMsS0FBQThsQixPQUFBbGUsRUFBQTJRLE9BQUEwOUIsS0FBQWpzQyxFQUFBMFAsUUFBQSxHQUNBOWIsS0FBQWlhLFdBQUEsSUFBQWlDLEVBQUFzTyxRQUFBc3RCLEtBQUExckMsRUFBQTBmLFVBQUFyRCxlQUFBem9CLEtBQUF5cUIsVUFDQXpxQixLQUFBeXFCLFNBQUF4USxXQUFBamEsS0FBQWlhLFlBR0FpQyxFQUFBc08sUUFBQXN0QixLQUFBeDNDLFVBQUE4ckIsS0FBQSxTQUFBeUIsRUFBQUQsR0FFQSxHQUFBeFQsR0FBQXlULEVBQUEsR0FDQXhULEVBQUF3VCxFQUFBLEdBQ0FwUyxFQUFBb1MsRUFBQSxHQUNBdEMsRUFBQXNDLEVBQUEsR0FDQXJDLEVBQUFxQyxFQUFBLEdBR0FnTyxFQUFBNzdCLEtBQUFrNEMsSUFBQTk5QixFQUNBMGhCLEVBQUE5N0IsS0FBQW00QyxJQUFBOTlCLENBQ0EsTUFBQXdoQixFQUFBLEdBQUFBLEdBQUE3eEIsRUFBQTJRLE9BQUF5OUIsWUFDQXRjLEVBQUEsR0FBQUEsR0FBQTl4QixFQUFBMlEsT0FBQTA5QixRQUNBeGMsSUFBQTc3QixLQUFBKzNDLEtBQUFqYyxJQUFBOTdCLEtBQUFnNEMsTUFDQWh1QyxFQUFBMlEsT0FBQUMsTUFBQTVhLEtBQUFpYSxXQUFBcStCLGVBQUF6YyxFQUFBQyxJQUNBOTdCLEtBQUErM0MsSUFBQWxjLEVBQ0E3N0IsS0FBQWc0QyxJQUFBbGMsR0FLQWxPLElBQ0FuUyxJQUNBQSxFQUFBLE1BS0FBLEdBQUEsQ0FHQSxHQUFBODhCLEdBQUF2NEMsS0FBQWlhLFdBQUF1K0IsWUFBQWp0QixFQUFBQyxFQUNBK3NCLEtBQUF2NEMsS0FBQWk0QyxhQUNBanVDLEVBQUEyUSxPQUFBQyxNQUFBMjlCLEdBQ0F2NEMsS0FBQWk0QyxXQUFBTSxFQUlBLElBQUE3cEIsTUFBQW5sQixPQUFBa1MsRUFDQXpSLEdBQUEyUSxPQUFBQyxNQUFBOFQsRUFBQSxJQUdBMXVCLEtBQUErM0MsTUFDQS8zQyxLQUFBKzNDLEtBQUEvdEMsRUFBQTJRLE9BQUF5OUIsVUFDQXA0QyxLQUFBKzNDLElBQUEsRUFDQS8zQyxLQUFBZzRDLFNBSUE5N0IsRUFBQXNPLFFBQUFzdEIsS0FBQXgzQyxVQUFBbXNCLFlBQUEsU0FBQUMsRUFBQUMsR0FDQSxPQUFBM2lCLEVBQUEyUSxPQUFBeTlCLFFBQUFwdUMsRUFBQTJRLE9BQUEwOUIsT0FHQW44QixFQUFBc08sUUFBQXN0QixLQUFBeDNDLFVBQUFzc0IsZ0JBQUEsU0FBQUYsRUFBQUMsR0FDQSxNQUFBLEtBR0F6USxFQUFBc08sUUFBQXN0QixLQUFBeDNDLFVBQUF1c0IsZ0JBQUEsU0FBQXpTLEVBQUFDLEdBQ0EsT0FBQUQsRUFBQUMsSUFNQTZCLEVBQUFzTyxRQUFBc3RCLEtBQUE5TixNQUFBLFNBQUFod0IsR0FDQWhhLEtBQUF5cUIsU0FBQXpRLEdBR0FrQyxFQUFBc08sUUFBQXN0QixLQUFBOU4sTUFBQTFwQyxVQUFBbWEsWUFBQSxTQUFBK1EsS0FHQXRQLEVBQUFzTyxRQUFBc3RCLEtBQUE5TixNQUFBMXBDLFVBQUFrNEMsWUFBQSxTQUFBanRCLEVBQUFDLEtBR0F0UCxFQUFBc08sUUFBQXN0QixLQUFBOU4sTUFBQTFwQyxVQUFBZzRDLGVBQUEsU0FBQWwrQixFQUFBQyxLQU1BNkIsRUFBQXNPLFFBQUFzdEIsS0FBQVcsTUFBQSxTQUFBeitCLEdBQ0FrQyxFQUFBc08sUUFBQXN0QixLQUFBOU4sTUFBQTFxQyxLQUFBVSxLQUFBZ2EsSUFFQWtDLEVBQUFzTyxRQUFBc3RCLEtBQUFXLE1BQUE3dUIsT0FBQTFOLEVBQUFzTyxRQUFBc3RCLEtBQUE5TixPQUVBOXRCLEVBQUFzTyxRQUFBc3RCLEtBQUFXLE1BQUFuNEMsVUFBQW1hLFlBQUEsU0FBQStRLEdBQ0EsTUFBQSxZQUNBeHJCLEtBQUFpYSxXQUFBdVIsR0FDQSxTQUdBdFAsRUFBQXNPLFFBQUFzdEIsS0FBQVcsTUFBQW40QyxVQUFBazRDLFlBQUEsU0FBQWp0QixFQUFBQyxHQUNBLE1BQUEsWUFDQXhyQixLQUFBaWEsV0FBQXNSLEdBQ0EsU0FDQXZyQixLQUFBaWEsV0FBQXVSLEdBQ0EsS0FHQXRQLEVBQUFzTyxRQUFBc3RCLEtBQUFXLE1BQUFuNEMsVUFBQWc0QyxlQUFBLFNBQUFsK0IsRUFBQUMsR0FDQSxNQUFBLE1BQUFBLEVBQUEsR0FBQSxLQUFBRCxFQUFBLEdBQUEsS0FHQThCLEVBQUFzTyxRQUFBc3RCLEtBQUFXLE1BQUFuNEMsVUFBQTJaLFdBQUEsU0FBQXhLLEdBQ0EsR0FBQWlwQyxHQUFBLElBQ0FDLEVBQUEsRUFDQUMsRUFBQUQsRUFBQUQsRUFDQUcsRUFBQTM4QixFQUFBOHRCLE1BQUFDLFdBQUF4NkIsR0FDQS9RLEVBQUEwRCxLQUFBOGxCLE1BQUEyd0IsRUFBQSxHQUFBRCxHQUNBMzlCLEVBQUE3WSxLQUFBOGxCLE1BQUEyd0IsRUFBQSxHQUFBRCxHQUNBOTlCLEVBQUExWSxLQUFBOGxCLE1BQUEyd0IsRUFBQSxHQUFBRCxFQUNBLE9BQUEsSUFBQWw2QyxFQUFBLEVBQUF1YyxFQUFBLEVBQUFILEVBQUEsR0FLQSxLQUFBLEdBQUFpUixLQUFBN1AsR0FDQTdjLEVBQUEwc0IsR0FBQTdQLEVBQUE2UCxLekJvM0RHenNCLEtBQUtVLEtBQUtqQixFQUFRLFlBQThCLG1CQUFYVyxRQUF5QkEsT0FBeUIsbUJBQVQwRixNQUF1QkEsS0FBeUIsbUJBQVhMLFFBQXlCQSxhQUU1SW1SLFNBQVcsS0FBSzRpQyxJQUFJLFNBQVMvNUMsRUFBUVUsRUFBT0osRzBCbndPL0NJLEVBQUFKLFFBQUFOLEVBQUEsaUIxQnN3T0dnNkMsY0FBYyxLQUFLQyxJQUFJLFNBQVNqNkMsRUFBUVUsRUFBT0osSUFDbEQsU0FBV0ssRzJCdndPWCxZQVVBLFNBQUE4TCxHQUFBQyxHQUFBLE1BQUFBLElBQUFBLEVBQUFDLFdBQUFELEdBQUFFLFVBQUFGLEdBUkFsTCxPQUFBVSxlQUFBNUIsRUFBQSxjQUNBcUIsT0FBQSxHQUdBLElBTUFmLEdBTkFzNUMsRUFBQWw2QyxFQUFBLGNBRUFtNkMsRUFBQTF0QyxFQUFBeXRDLEVBUUF0NUMsR0FEQSxtQkFBQXlGLE1BQ0FBLEtBQ0EsbUJBQUFMLFFBQ0FBLE9BQ0EsbUJBQUFyRixHQUNBQSxFQUNBLG1CQUFBRCxHQUNBQSxFQUVBZ0ksU0FBQSxnQkFHQSxJQUFBVixJQUFBLEVBQUFteUMsRUFBQSxZQUFBdjVDLEVBQ0FOLEdBQUEsV0FBQTBILEkzQnl3T0d6SCxLQUFLVSxLQUF1QixtQkFBWE4sUUFBeUJBLE9BQXlCLG1CQUFUMEYsTUFBdUJBLEtBQXlCLG1CQUFYTCxRQUF5QkEsYUFFeEhvMEMsYUFBYSxLQUFLQyxJQUFJLFNBQVNyNkMsRUFBUVUsRUFBT0osRzRCdnlPakQsWUFNQSxTQUFBZzZDLEdBQUExNUMsR0FDQSxHQUFBb0gsR0FDQXV5QyxFQUFBMzVDLEVBQUEyRixNQWFBLE9BWEEsa0JBQUFnMEMsR0FDQUEsRUFBQS9oQyxXQUNBeFEsRUFBQXV5QyxFQUFBL2hDLFlBRUF4USxFQUFBdXlDLEVBQUEsY0FDQUEsRUFBQS9oQyxXQUFBeFEsR0FHQUEsRUFBQSxlQUdBQSxFQW5CQXhHLE9BQUFVLGVBQUE1QixFQUFBLGNBQ0FxQixPQUFBLElBRUFyQixFQUFBLFdBQUFnNkMsTzVCMHpPTUUsSUFBSSxTQUFTeDZDLEVBQVFVLEVBQU9KLEdBQ2xDLFlBd0JBLFNBQVNtTSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHNkJ4MU96RixHQUNBK3RDLElBREF6NkMsRUFBQSxTQUNBQSxFQUFBLGlCQUNBMDZDLEc3Qm8wT29CanVDLEVBQXVCZ3VDLEc2QnAwTzNDejZDLEVBQUEsV0FFQTI2QyxHN0JzME9jbHVDLEVBQXVCaXVDLEc2QnQwT3JDMTZDLEVBQUEsZUFDQTQ2QyxHN0J5ME9pQm51QyxFQUF1Qmt1QyxHNkJ6ME94QzM2QyxFQUFBLG1CQUVBNjZDLEc3QjIwT3FCcHVDLEVBQXVCbXVDLEc2QjMwTzVDNTZDLEVBQUEsVzdCKzBPSTg2QyxFQUFTcnVDLEVBQXVCb3VDLEk2QjcwT3BDLFNBQUU3MEMsRUFBUStKLEdBT1IsR0FBTWdyQyxHQUFPRCxFQUFBLFdBQUtFLE1BQ2xCRCxHQUFLRSxhQUFhRixFQUFLRyxPQUFPQyxZQUU5QixJQUFNQyxHQUFjTCxFQUFLTSxZQVF6QmpoQyxVQUFTa2hDLGNBQWMsaUJBQWlCaGhDLFlBQVk4Z0MsRUFBWTN0QixpQkFPL0R6bkIsT0FBUUEsT0FBTytKLFc3Qm0xT2Z3ckMsU0FBUyxHQUFHQyxpQkFBaUIsR0FBR0MsYUFBYSxHQUFHQyxNQUFRLEdBQUdDLGVBQWUsR0FBR0MsU0FBUyxLQUFLQyxJQUFJLFNBQVM3N0MsRUFBUVUsRUFBT0osR0FDMUgsWUFjQSxTQUFTbU0sR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FFekYsUUFBU292QyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJcGpDLFdBQVUscUNBRWhILFFBQVNxakMsR0FBMkI1MUMsRUFBTTlGLEdBQVEsSUFBSzhGLEVBQVEsS0FBTSxJQUFJNjFDLGdCQUFlLDREQUFnRSxRQUFPMzdDLEdBQXlCLGdCQUFUQSxJQUFxQyxrQkFBVEEsR0FBOEI4RixFQUFQOUYsRUFFbE8sUUFBUzQ3QyxHQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUl6akMsV0FBVSxpRUFBb0V5akMsR0FBZUQsR0FBUzc2QyxVQUFZQyxPQUFPQyxPQUFPNDZDLEdBQWNBLEVBQVc5NkMsV0FBYUcsYUFBZUMsTUFBT3k2QyxFQUFVeDZDLFlBQVksRUFBT0MsVUFBVSxFQUFNQyxjQUFjLEtBQWV1NkMsSUFBWTc2QyxPQUFPODZDLGVBQWlCOTZDLE9BQU84NkMsZUFBZUYsRUFBVUMsR0FBY0QsRUFBU0csVUFBWUYsR0FsQmplNzZDLE9BQU9VLGVBQWU1QixFQUFTLGNBQzdCcUIsT0FBTyxHQUdULElBQUlvTCxHQUE0QixrQkFBWHhHLFNBQW9ELGdCQUFwQkEsUUFBT2kyQyxTQUF3QixTQUFVOXZDLEdBQU8sYUFBY0EsSUFBUyxTQUFVQSxHQUFPLE1BQU9BLElBQXlCLGtCQUFYbkcsU0FBeUJtRyxFQUFJaEwsY0FBZ0I2RSxRQUFVbUcsSUFBUW5HLE9BQU9oRixVQUFZLGVBQWtCbUwsSUFFbFErdkMsRUFBZSxXQUFjLFFBQVN4MkMsR0FBaUJaLEVBQVFxM0MsR0FBUyxJQUFLLEdBQUl6OEMsR0FBSSxFQUFHQSxFQUFJeThDLEVBQU1sOEMsT0FBUVAsSUFBSyxDQUFFLEdBQUkwOEMsR0FBYUQsRUFBTXo4QyxFQUFJMDhDLEdBQVcvNkMsV0FBYSs2QyxFQUFXLzZDLGFBQWMsRUFBTys2QyxFQUFXNzZDLGNBQWUsRUFBVSxTQUFXNjZDLEtBQVlBLEVBQVc5NkMsVUFBVyxHQUFNTCxPQUFPVSxlQUFlbUQsRUFBUXMzQyxFQUFXNTRDLElBQUs0NEMsSUFBaUIsTUFBTyxVQUFVWCxFQUFhWSxFQUFZQyxHQUFpSixNQUE5SEQsSUFBWTMyQyxFQUFpQisxQyxFQUFZejZDLFVBQVdxN0MsR0FBaUJDLEdBQWE1MkMsRUFBaUIrMUMsRUFBYWEsR0FBcUJiLE04QjkzT2hpQmMsRUFBQTk4QyxFQUFBLFc5Qms0T0krOEMsRUFBVXR3QyxFQUF1QnF3QyxHOEJoNE9oQkUsRTlCMDRPUixTQUFVQyxHOEJ6NE9yQixRQUFBRCxLQUE2QixHQUFqQkUsR0FBaUI5eEMsVUFBQTVLLE9BQUEsR0FBQVUsU0FBQWtLLFVBQUEsR0FBQUEsVUFBQSxLQUFBMHdDLEdBQUE3NkMsS0FBQSs3QyxFQUFBLElBQUFHLEdBQUFsQixFQUFBaDdDLE1BQUErN0MsRUFBQVQsV0FBQS82QyxPQUFBaUcsZUFBQXUxQyxJQUFBejhDLEtBQUFVLEtBQ3JCaThDLEdBRU5DLEdBQUtDLE1BQVFGLEVBQVcvd0MsTUFBUSxHQUNoQ2d4QyxFQUFLRSxHQUFLSCxFQUFXN2hDLEdBQUssRUFDMUI4aEMsRUFBS0csR0FBS0osRUFBVzVoQyxHQUFLLEVBQzFCNmhDLEVBQUsxbUIsS0FBTyxLQUVaMG1CLEVBQUtJLG1CQUNMSixFQUFLSyx1QkFFTCxLQUFLLEdBRENDLEdBQVNQLEVBQVdPLFdBQ2pCeDlDLEVBQUksRUFBR0EsRUFBSXc5QyxFQUFPajlDLE9BQVFQLElBSWpDLElBQUssR0FIQ3k5QyxHQUFRRCxFQUFPeDlDLEdBQ2Z1RSxFQUFPaEQsT0FBT2dELEtBQUtrNUMsR0FFaEIvNEMsRUFBSSxFQUFHQSxFQUFJSCxFQUFLaEUsT0FBUW1FLElBQUssQ0FDcEMsR0FBTVosR0FBTVMsRUFBS0csRUFFTCxVQUFSWixHQUEwQixTQUFSQSxHQUEwQixjQUFSQSxHQUF3Qm81QyxFQUFLdDFDLGVBQWU5RCxLQUNsRm81QyxFQUFLcDVDLEdBQU8yNUMsRUFBTTM1QyxJQUdwQm81QyxFQUFLSSxnQkFBZ0JHLEVBQU12eEMsT0FBUSxFQUMvQnV4QyxFQUFNQyxZQUNSUixFQUFLSyxxQkFBcUJFLEVBQU1DLFlBQWEsR0FHM0NELEVBQU0xQyxNQUNSMEMsRUFBTTFDLEtBQUt6NkMsS0FBWDQ4QyxFQUFzQkQsR0E1QkQsTUFBQUMsRzlCdWdQN0IsTUE3SEFoQixHQUFVYSxFQUFRQyxHQXlDbEJSLEVBQWFPLElBQ1hqNUMsSUFBSyxXQUNMcEMsTUFBTyxXQUNMLFFBQVNpOEMsRzhCcDVPSmx4QyxHQUNQLEdBQU1neEMsR0FBd0IsWUFBZixtQkFBT2h4QyxHQUFQLFlBQUFLLEVBQU9MLElBQW9CQSxFQUFJUCxLQUFPTyxDQUNyRCxPQUFPekwsTUFBS3U4QyxxQkFBcUJFLElBQVV6OEMsS0FBS3M4QyxnQkFBZ0JHLEc5QnU1TzlELE1BQU9FLFFBR1Q3NUMsSUFBSyxVQUNMcEMsTUFBTyxXQUNMLFFBQVNrOEMsRzhCejVPTDF4QyxHQUNObEwsS0FBS204QyxNQUFRanhDLEU5QjQ1T1gsTUFBTzB4QyxRQUdUOTVDLElBQUssT0FDTHBDLE1BQU8sV0FDTCxRQUFTbThDLEc4Qjk1T1J6aUMsR0FDSHBhLEtBQUtvOEMsR0FBS2hpQyxFOUJpNk9SLE1BQU95aUMsUUFHVC81QyxJQUFLLE9BQ0xwQyxNQUFPLFdBQ0wsUUFBU284QyxHOEJuNk9SemlDLEdBQ0hyYSxLQUFLcThDLEdBQUtoaUMsRTlCczZPUixNQUFPeWlDLFFBR1RoNkMsSUFBSyxVQUNMcEMsTUFBTyxXQUNMLFFBQVNxOEMsSzhCdjZPWCxNQUFPLzhDLE1BQUttOEMsTTlCMjZPVixNQUFPWSxRQUdUajZDLElBQUssT0FDTHBDLE1BQU8sV0FDTCxRQUFTczhDLEs4QjU2T1gsTUFBT2g5QyxNQUFLbzhDLEc5Qmc3T1YsTUFBT1ksUUFHVGw2QyxJQUFLLE9BQ0xwQyxNQUFPLFdBQ0wsUUFBU3U4QyxLOEJqN09YLE1BQU9qOUMsTUFBS3E4QyxHOUJxN09WLE1BQU9ZLFFBR1RuNkMsSUFBSyxTQUNMcEMsTUFBTyxXQUNMLFFBQVN3OEMsRzhCdjdPTi9wQyxHQUNMblQsS0FBS3cxQixLQUFPcmlCLEU5QjA3T1YsTUFBTytwQyxRQUdUcDZDLElBQUssU0FDTHBDLE1BQU8sV0FDTCxRQUFTeThDLEs4QjM3T1gsTUFBT245QyxNQUFLdzFCLEs5Qis3T1YsTUFBTzJuQixTQUlKcEIsR0FDUEQsRUFBUSxXQUVWejhDLEdBQVEsVzhCM2dQYTA4QyxJOUI2Z1BsQnFCLFVBQVUsS0FBS0MsSUFBSSxTQUFTdCtDLEVBQVFVLEVBQU9KLEdBQzlDLFlBUUEsU0FBU3c3QyxHQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJcGpDLFdBQVUscUNBTmhIcFgsT0FBT1UsZUFBZTVCLEVBQVMsY0FDN0JxQixPQUFPLEdBR1QsSUFBSTg2QyxHQUFlLFdBQWMsUUFBU3gyQyxHQUFpQlosRUFBUXEzQyxHQUFTLElBQUssR0FBSXo4QyxHQUFJLEVBQUdBLEVBQUl5OEMsRUFBTWw4QyxPQUFRUCxJQUFLLENBQUUsR0FBSTA4QyxHQUFhRCxFQUFNejhDLEVBQUkwOEMsR0FBVy82QyxXQUFhKzZDLEVBQVcvNkMsYUFBYyxFQUFPKzZDLEVBQVc3NkMsY0FBZSxFQUFVLFNBQVc2NkMsS0FBWUEsRUFBVzk2QyxVQUFXLEdBQU1MLE9BQU9VLGVBQWVtRCxFQUFRczNDLEVBQVc1NEMsSUFBSzQ0QyxJQUFpQixNQUFPLFVBQVVYLEVBQWFZLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZMzJDLEVBQWlCKzFDLEVBQVl6NkMsVUFBV3E3QyxHQUFpQkMsR0FBYTUyQyxFQUFpQisxQyxFQUFhYSxHQUFxQmIsTStCdGhQM2dCdUMsRS9CMGhQVCxXK0J6aFBWLFFBQUFBLEtBQTZCLEdBQWpCckIsR0FBaUI5eEMsVUFBQTVLLE9BQUEsR0FBQVUsU0FBQWtLLFVBQUEsR0FBQUEsVUFBQSxLQUFBMHdDLEdBQUE3NkMsS0FBQXM5QyxHQUMzQnQ5QyxLQUFLdTlDLE1BQVF0QixFQUFBQSxTQUFtQixJQUNoQ2o4QyxLQUFLdzlDLElBQU12QixFQUFXMXdCLElBQU0sUUFDNUJ2ckIsS0FBS3k5QyxJQUFNeEIsRUFBV3p3QixJQUFNLFEvQjhqUDlCLE1BN0JBZ3dCLEdBQWE4QixJQUNYeDZDLElBQUssVUFDTHBDLE1BQU8sV0FDTCxRQUFTZzlDLEsrQmhpUFgsTUFBTzE5QyxNQUFLdTlDLE0vQm9pUFYsTUFBT0csUUFHVDU2QyxJQUFLLGdCQUNMcEMsTUFBTyxXQUNMLFFBQVNpOUMsSytCcmlQWCxNQUFPMzlDLE1BQUt5OUMsSS9CeWlQVixNQUFPRSxRQUdUNzZDLElBQUssZ0JBQ0xwQyxNQUFPLFdBQ0wsUUFBU2s5QyxLK0IxaVBYLE1BQU81OUMsTUFBS3c5QyxJL0I4aVBWLE1BQU9JLFNBSUpOLElBR1RqK0MsR0FBUSxXK0Jya1BhaStDLE8vQnVrUGZPLElBQUksU0FBUzkrQyxFQUFRVSxFQUFPSixHQUNsQyxZQWNBLFNBQVNtTSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQVp6RmxMLE9BQU9VLGVBQWU1QixFQUFTLGNBQzdCcUIsT0FBTyxHZ0Mza1BULElBQUErNEMsR0FBQTE2QyxFQUFBLFVoQ2dsUEkrK0MsRUFBVXR5QyxFQUF1Qml1QyxHZ0Mva1ByQ3NFLEVBQUFoL0MsRUFBQSxZaENtbFBJaS9DLEVBQVd4eUMsRUFBdUJ1eUMsR2dDamxQaENFLEdBQ0p2aUMsTUFBTyxHQUNQSSxPQUFRLEdBQ1JtUCxTQUFVLEdBQ1ZHLGtCQUFrQixHQUdkOHlCLEdBQ0pqRSxPQUFBK0QsRUFBQSxXQUVBRyxTQUFVLEtBQ1ZDLGVBQWdCLEtBQ2hCQyxhQUFjSixFQUFnQnZpQyxNQUM5QjRpQyxjQUFlTCxFQUFnQm5pQyxPQUUvQmkrQixLQVJXLFdBQUEsUUFBQUEsR0FRTjN0QyxHQUNIcE0sS0FBS20rQyxTQUFXLEdBQUlMLEdBQUEsV0FBSXR6QixRQUFRanFCLE9BQU8wUixVQUFXZ3NDLEVBQWlCN3hDLEdBQ25FLElBQU13dEMsR0FBUTU1QyxLQUNSdStDLEVBQUEsV0FBb0IsUUFBcEJBLEdBQXFCaHNCLEdBQ3pCeHRCLE9BQU95NUMsaUJBQWlCanNCLEVBQU8sU0FBQ2gwQixHQUNELE9BQXpCcTdDLEVBQU13RSxnQkFDUnhFLEVBQU13RSxlQUFlSyxZQUFZbHNCLEVBQU9oMEIsRUFBR3E3QyxLQUgzQyxNQUFBMkUsS0FRTixRQURDLFVBQVcsUUFBUyxZQUFZOTZDLFFBQVE4NkMsR0FDbEN2K0MsS0FuQkUsTUFBQSs1QyxNQXNCWDJFLFFBdEJXLFdBQUEsUUFBQUEsS0F1QlQxK0MsS0FBS20rQyxTQUFTOXhCLFFBQ2Ryc0IsS0FBS28rQyxlQUFlMXVDLE9BQU8xUCxLQUFLbStDLFNBQVVuK0MsTUF4QmpDLE1BQUEwK0MsTUEyQlh0RSxXQTNCVyxXQUFBLFFBQUFBLEtBNEJULE1BQU9wNkMsTUFBS20rQyxTQTVCSCxNQUFBL0QsTUErQlh1RSxlQS9CVyxXQUFBLFFBQUFBLEtBZ0NULE1BQU8zK0MsTUFBS3ErQyxhQWhDSCxNQUFBTSxNQW1DWEMsZ0JBbkNXLFdBQUEsUUFBQUEsS0FvQ1QsTUFBTzUrQyxNQUFLcytDLGNBcENILE1BQUFNLE1BdUNYNUUsYUF2Q1csV0FBQSxRQUFBQSxHQXVDRTZFLEdBQ2lCLE9BQXhCNytDLEtBQUtvK0MsZ0JBQ1BwK0MsS0FBS28rQyxlQUFlVSxPQUd0QjkrQyxLQUFLbzZDLGFBQWEvdEIsUUFFbEJyc0IsS0FBS28rQyxlQUFpQlMsRUFFTyxRQUF4QjcrQyxLQUFLbytDLGlCQUNScCtDLEtBQUtvK0MsZUFBZVcsUUFDcEIvK0MsS0FBSzArQyxXQWxERSxNQUFBMUUsTWhDbXFQYjM2QyxHQUFRLFdnQzVtUE82K0MsSWhDOG1QWmMsV0FBVyxHQUFHckUsU0FBUyxLQUFLc0UsSUFBSSxTQUFTbGdELEVBQVFVLEVBQU9KLEdBQzNELFlBb0JBLFNBQVNtTSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQUV6RixRQUFTb3ZDLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlwakMsV0FBVSxxQ0FwQmhIcFgsT0FBT1UsZUFBZTVCLEVBQVMsY0FDN0JxQixPQUFPLEdBR1QsSUFBSTg2QyxHQUFlLFdBQWMsUUFBU3gyQyxHQUFpQlosRUFBUXEzQyxHQUFTLElBQUssR0FBSXo4QyxHQUFJLEVBQUdBLEVBQUl5OEMsRUFBTWw4QyxPQUFRUCxJQUFLLENBQUUsR0FBSTA4QyxHQUFhRCxFQUFNejhDLEVBQUkwOEMsR0FBVy82QyxXQUFhKzZDLEVBQVcvNkMsYUFBYyxFQUFPKzZDLEVBQVc3NkMsY0FBZSxFQUFVLFNBQVc2NkMsS0FBWUEsRUFBVzk2QyxVQUFXLEdBQU1MLE9BQU9VLGVBQWVtRCxFQUFRczNDLEVBQVc1NEMsSUFBSzQ0QyxJQUFpQixNQUFPLFVBQVVYLEVBQWFZLEVBQVlDLEdBQWlKLE1BQTlIRCxJQUFZMzJDLEVBQWlCKzFDLEVBQVl6NkMsVUFBV3E3QyxHQUFpQkMsR0FBYTUyQyxFQUFpQisxQyxFQUFhYSxHQUFxQmIsTWlDdHJQaGlCdEIsRUFBQTE2QyxFQUFBLFVqQzByUEkrK0MsRUFBVXR5QyxFQUF1Qml1QyxHaUN6clByQ3lGLEVBQUFuZ0QsRUFBQSxlQUNBb2dELEVBQUFwZ0QsRUFBQSxZakM4clBJcWdELEVBQVc1ekMsRUFBdUIyekMsR2lDN3JQdENFLEVBQUF0Z0QsRUFBQSxVQUVxQmcyQixFakNtc1BYLFdpQ2xzUFIsUUFBQUEsR0FBWXVxQixFQUFPQyxHQUFRMUUsRUFBQTc2QyxLQUFBKzBCLEdBRXpCLzBCLEtBQUt3L0MsT0FBU0YsRUFDZHQvQyxLQUFLZzFCLE9BQVNzcUIsRUFBTS8vQyxPQUNwQlMsS0FBS2kxQixRQUFVcXFCLEVBQU0sR0FBRy8vQyxPQUd4QlMsS0FBS3kvQyxhQUNMei9DLEtBQUt1MEIsV0FBYSxHQUFJdXBCLEdBQUEsV0FBSXBxQixVQUFVSSxPQUNwQzl6QixLQUFLMC9DLFFBQVUsR0FBSTVCLEdBQUEsV0FBSXpwQixPQUFPcjBCLEtBQUt1MEIsWUFFbkN2MEIsS0FBSzIvQywwQkFBMEJKLEVBRS9CLEtBQUssR0FBSXZnRCxHQUFJLEVBQUdBLEVBQUksR0FBSUEsSUFDdEJnQixLQUFLMi9DLDBCQUEwQixHQUFBUCxHQUFBLFdBQUFGLEVBQUFVLGlCakM2MVBuQyxNQXBKQXBFLEdBQWF6bUIsSUFDWGp5QixJQUFLLFdBQ0xwQyxNQUFPLFdBQ0wsUUFBU20vQyxLaUN2c1BYLE1BQU83L0MsTUFBS2cxQixPakMyc1BWLE1BQU82cUIsUUFHVC84QyxJQUFLLFlBQ0xwQyxNQUFPLFdBQ0wsUUFBU28vQyxLaUM1c1BYLE1BQU85L0MsTUFBS2kxQixRakNndFBWLE1BQU82cUIsUUFHVGg5QyxJQUFLLFVBQ0xwQyxNQUFPLFdBQ0wsUUFBU3EvQyxHaUNsdFBMM2xDLEVBQUdDLEdBQ1QsR0FBSTJsQyxHQUFBWCxFQUFBWSxRQUlKLE9BSE03bEMsR0FBSSxHQUFLQSxHQUFLcGEsS0FBS2cxQixRQUFVM2EsRUFBSSxHQUFLQSxHQUFLcmEsS0FBSzhiLFNBQ3BEa2tDLEVBQU1oZ0QsS0FBS3cvQyxPQUFPcGxDLEdBQUdDLElBQU0ybEMsR0FFdEJBLEVqQ3F0UEwsTUFBT0QsUUFHVGo5QyxJQUFLLE1BQ0xwQyxNQUFPLFdBQ0wsUUFBU3cvQyxHaUN2dFBUOWxDLEVBQUdDLEdBQ0RyYSxLQUFLKy9DLFFBQVEzbEMsRUFBR0MsR0FBRzhsQyxlQUNyQm5nRCxLQUFLdy9DLE9BQU9wbEMsR0FBR0MsR0FBZmdsQyxFQUFBZSxXakMydFBBLE1BQU9GLFFBR1RwOUMsSUFBSyx5QkFDTHBDLE1BQU8sV0FDTCxRQUFTMi9DLEtpQzN0UFgsR0FBSWptQyxHQUFBLE9BQ0FDLEVBQUEsTUFDSixHQUNFRCxHQUFJaFksS0FBSzhsQixNQUFNOWxCLEtBQUs0UyxTQUFXaFYsS0FBS2cxQixRQUNwQzNhLEVBQUlqWSxLQUFLOGxCLE1BQU05bEIsS0FBSzRTLFNBQVdoVixLQUFLaTFCLGdCQUM1QmoxQixLQUFLc2dELGFBQWFsbUMsRUFBR0MsR0FDL0IsUUFBU0QsRUFBQUEsRUFBR0MsRUFBQUEsR2pDK3RQVixNQUFPZ21DLFFBR1R2OUMsSUFBSyxZQUNMcEMsTUFBTyxXQUNMLFFBQVM2L0MsS2lDaHVQWCxNQUFPdmdELE1BQUswL0MsUWpDb3VQVixNQUFPYSxRQUdUejlDLElBQUssY0FDTHBDLE1BQU8sV0FDTCxRQUFTOC9DLEtpQ3J1UFgsTUFBT3hnRCxNQUFLeS9DLFVqQ3l1UFYsTUFBT2UsUUFHVDE5QyxJQUFLLGNBQ0xwQyxNQUFPO0FBQ0wsUUFBUysvQyxHaUMzdVBEcm1DLEVBQUdDLEdBQ2IsSUFBSyxHQUFJcmIsR0FBSSxFQUFHQSxFQUFJZ0IsS0FBS3kvQyxVQUFVbGdELE9BQVFQLElBQUssQ0FDOUMsR0FBSTBoRCxHQUFTMWdELEtBQUt5L0MsVUFBVXpnRCxFQUM1QixJQUFJMGhELEVBQU8xRCxRQUFVNWlDLEdBQUtzbUMsRUFBT3pELFFBQVU1aUMsRUFDekMsTUFBT3FtQyxHQUdYLE1BQU8sTWpDOHVQTCxNQUFPRCxRQUdUMzlDLElBQUssWUFDTHBDLE1BQU8sV0FDTCxRQUFTaWdELEdpQ2h2UEhELEdBQ1IsR0FBSUEsRUFBTzFELE9BQVMsR0FBSzBELEVBQU8xRCxRQUFVaDlDLEtBQUtnMUIsUUFBVTByQixFQUFPekQsT0FBUyxHQUFLeUQsRUFBT3pELFFBQVVqOUMsS0FBS2kxQixRQUNsRyxLQUFNLElBQUkvMUIsT0FBTSwrQkFHbEJ3aEQsR0FBT3hELE9BQU9sOUMsTUFDZEEsS0FBS3kvQyxVQUFVMTlDLEtBQUsyK0MsR0FFaEJBLEVBQU8vRCxTQUFTLFVBQ2xCMzhDLEtBQUt1MEIsV0FBV2pCLElBQUlvdEIsR0FBUSxHakNvdlA1QixNQUFPQyxRQUdUNzlDLElBQUssNEJBQ0xwQyxNQUFPLFdBQ0wsUUFBU2kvQyxHaUNydlBhZSxHQUN4QixHQUFNM2tDLEdBQVcvYixLQUFLcWdELHdCQUN0QkssR0FBTzdELEtBQUs5Z0MsRUFBUzNCLEdBQ3JCc21DLEVBQU81RCxLQUFLL2dDLEVBQVMxQixHQUNyQnJhLEtBQUsyZ0QsVUFBVUQsR2pDd3ZQYixNQUFPZixRQUdUNzhDLElBQUssZUFDTHBDLE1BQU8sV0FDTCxRQUFTa2dELEdpQzF2UEFGLEdBQ1gsSUFBSyxHQUFJMWhELEdBQUksRUFBR0EsRUFBSWdCLEtBQUt5L0MsVUFBVWxnRCxPQUFRUCxJQUN6QyxHQUFJZ0IsS0FBS3kvQyxVQUFVemdELElBQU0waEQsRUFBUSxDQUMvQjFnRCxLQUFLeS9DLFVBQVV4b0MsT0FBT2pZLEVBQUcsRUFDekIsT0FHQTBoRCxFQUFPL0QsU0FBUyxVQUNsQjM4QyxLQUFLdTBCLFdBQVdmLE9BQU9rdEIsR2pDOHZQdkIsTUFBT0UsUUFHVDk5QyxJQUFLLGVBQ0xwQyxNQUFPLFdBQ0wsUUFBUzQvQyxHaUMvdlBBbG1DLEVBQUdDLEdBQ2QsTUFBT3JhLE1BQUsrL0MsUUFBUTNsQyxFQUFHQyxJQUFoQmdsQyxFQUFBZSxZQUFvQ3BnRCxLQUFLeWdELFlBQVlybUMsRUFBR0MsR2pDa3dQN0QsTUFBT2ltQyxTQUlKdnJCLElBR1QxMUIsR0FBUSxXaUMvMlBhMDFCLElqQ2kzUGxCOHJCLFdBQVcsR0FBR0MsY0FBYyxHQUFHQyxTQUFTLEdBQUdwRyxTQUFTLEtBQUtxRyxJQUFJLFNBQVNqaUQsRUFBUVUsRUFBT0osR0FDeEYsWUFhQSxTQUFTbU0sR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FYekZsTCxPQUFPVSxlQUFlNUIsRUFBUyxjQUM3QnFCLE9BQU8sSUFFVHJCLEVBQVE0aEQsZUFBaUI1aEQsRUFBUXM2QixPQUFTdDZCLEVBQVE2aEQsYUFBZTdoRCxFQUFROGhELFlBQWM5aEQsRUFBUStoRCxZQUFjL2hELEVBQVFnaUQsU0FBV3BoRCxNa0M1M1BoSSxJQUFBay9DLEdBQUFwZ0QsRUFBQSxZbENnNFBJcWdELEVBQVc1ekMsRUFBdUIyekMsR2tDLzNQdENELEVBQUFuZ0QsRUFBQSxjQUVhTSxHQUFBZ2lELFVBQ1huMkMsS0FBTSxXQUNObzJDLFFBRnNCLFdBQUEsUUFBQUEsR0FFZGxuQyxFQUFHQyxFQUFHbEgsR0FDWixHQUFNNmMsR0FBTzdjLEVBQUk0c0MsUUFBUTNsQyxFQUFHQyxHQUN0QmpXLEVBQVMrTyxFQUFJc3RDLFlBQVlybUMsRUFBR0MsRUFFbEMsSUFBSWpXLEdBQ0YsR0FBSXBFLEtBQUsyOEMsU0FBUyxZQUVoQixNQURBMzhDLE1BQUt1aEQsT0FBT245QyxJQUNMLE1BRUosQ0FBQSxHQUFJNHJCLEVBQUt3eEIsYUFHZCxNQUZBeGhELE1BQUtvOEMsR0FBS2hpQyxFQUNWcGEsS0FBS3E4QyxHQUFLaGlDLEdBQ0gsQ0FDRixJQUFJMlYsRUFBS213QixjQUNWbmdELEtBQUsyOEMsU0FBUyxVQUVoQixNQURBMzhDLE1BQUtrZ0QsSUFBSTlsQyxFQUFHQyxFQUFHbEgsSUFDUixFQUdYLE9BQU8sRUFyQmEsTUFBQW11QyxPQXlCWGppRCxFQUFBK2hELGFBQ1hsMkMsS0FBTSxjQUNOd3hDLFVBQVcsUUFFWDduQixJQUp5QixXQUFBLFFBQUFBLEtBTXZCNzBCLEtBQUttOUMsU0FBU29ELFlBQVk1ckIsT0FOSCxNQUFBRSxPQVVkeDFCLEVBQUE4aEQsYUFDWGoyQyxLQUFNLGNBQ053eEMsVUFBVyxRQUNYM0MsS0FIeUIsV0FBQSxRQUFBQSxLQUl2Qi81QyxLQUFLeWhELGtCQUFvQixFQUpGLE1BQUExSCxNQU16QmxsQixJQU55QixXQUFBLFFBQUFBLEtBT3ZCLEdBQUk3MEIsS0FBS3loRCxrQkFBb0IsR0FDdkJyL0MsS0FBSzRTLFVBQVksSUFBTSxDQUN6QixHQUFNeXRCLEdBQVVyZ0MsS0FBSzhsQixNQUFzQixFQUFoQjlsQixLQUFLNFMsVUFBZ0IsRUFDMUMwdEIsRUFBVXRnQyxLQUFLOGxCLE1BQXNCLEVBQWhCOWxCLEtBQUs0UyxVQUFnQixDQUNoRCxLQUFnQixJQUFaeXRCLEdBQTZCLElBQVpDLElBQ2YxaUMsS0FBS205QyxTQUFTbUQsYUFBYXRnRCxLQUFLZzlDLE9BQVN2YSxFQUFTemlDLEtBQUtpOUMsT0FBU3ZhLEdBQVUsQ0FDNUUsR0FBTWdlLEdBQVMsR0FBQXRCLEdBQUEsV0FBQUYsRUFBQVUsZUFDZmMsR0FBTzdELEtBQUs3OEMsS0FBS2c5QyxPQUFTdmEsR0FDMUJpZSxFQUFPNUQsS0FBSzk4QyxLQUFLaTlDLE9BQVN2YSxHQUMxQjFpQyxLQUFLbTlDLFNBQVN3RCxVQUFVRCxHQUN4QjFnRCxLQUFLeWhELHNCQWpCVSxNQUFBNXNCLE9BeUJkeDFCLEVBQUE2aEQsY0FDWGgyQyxLQUFNLGVBQ042dUMsS0FGMEIsV0FBQSxRQUFBQSxLQUd4Qi81QyxLQUFLMGhELElBQU0sRUFIYSxNQUFBM0gsTUFLMUI0SCxXQUwwQixXQUFBLFFBQUFBLEdBS2ZDLEVBQVVDLEdBQ25CN2hELEtBQUswaEQsS0FBT0csRUFDUjdoRCxLQUFLMGhELEtBQU8sR0FDZDFoRCxLQUFLbTlDLFNBQVN5RCxhQUFhNWdELE1BUkwsTUFBQTJoRCxPQWFmdGlELEVBQUFzNkIsUUFDWHp1QixLQUFNLGVBQ053eEMsVUFBVyxTQUNYd0QsSUFIb0IsV0FBQSxRQUFBQSxHQUdoQjlsQyxFQUFHQyxFQUFHbEgsR0FDUkEsRUFBSStzQyxJQUFJOWxDLEVBQUdDLEdBSk8sTUFBQTZsQyxPQVFUN2dELEVBQUE0aEQsZ0JBQ1gvMUMsS0FBTSxpQkFDTnd4QyxVQUFXLFdBQ1g2RSxPQUg0QixXQUFBLFFBQUFBLEdBR3JCbjlDLEdBQ0RBLEVBQU91NEMsU0FBUyxpQkFDbEJ2NEMsRUFBT3U5QyxXQUFXM2hELEtBQU0sR0FMQSxNQUFBdWhELFNsQzY2UDNCVixXQUFXLEdBQUdDLGNBQWMsS0FBS2dCLElBQUksU0FBUy9pRCxFQUFRVSxFQUFPSixHQUNoRSxZQXNCQSxTQUFTbU0sR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FwQnpGbEwsT0FBT1UsZUFBZTVCLEVBQVMsY0FDN0JxQixPQUFPLEdtQ3JnUVQsSUFBQSs0QyxHQUFBMTZDLEVBQUEsVW5DMGdRSSsrQyxFQUFVdHlDLEVBQXVCaXVDLEdtQ3pnUXJDNEYsRUFBQXRnRCxFQUFBLFVBQ0F5MkIsRUFBQXoyQixFQUFBLFNuQzhnUUlnakQsRUFBUXYyQyxFQUF1QmdxQixHbUM3Z1FuQzJwQixFQUFBcGdELEVBQUEsWW5DaWhRSXFnRCxFQUFXNXpDLEVBQXVCMnpDLEdtQ2hoUXRDRCxFQUFBbmdELEVBQUEsZUFFTW03QyxHQUNKNkUsTUFBQSxXQUFPLFFBQUFBLEtBQUEsTUFBTWp3QyxTQUFRWCxJQUFJLHVCQUF6QixNQUFBNHdDLE1BQ0FELEtBQUEsV0FBTSxRQUFBQSxLQUFBLE1BQU1od0MsU0FBUVgsSUFBSSxzQkFBeEIsTUFBQTJ3QyxNQUNBcHZDLE9BQUEsV0FBUSxRQUFBQSxHQUFDc3lDLEdBQ1BBLEVBQVEvMEIsU0FBUyxFQUFHLEVBQUcsa0NBQ3ZCKzBCLEVBQVEvMEIsU0FBUyxFQUFHLEVBQUcsMkJBRnpCLE1BQUF2ZCxNQUlBK3VDLFlBQUEsV0FBYSxRQUFBQSxHQUFDdDhDLEVBQU1vd0IsRUFBTzB2QixHQUNaLFlBQVQ5L0MsR0FDRW93QixFQUFNMnZCLFVBQVlwRSxFQUFBLFdBQUlqaEMsV0FDeEJvbEMsRUFBS2pJLGFBQWFtSSxHQUh4QixNQUFBMUQsT0FTSTBELEdBQ0ozc0IsS0FBTSxLQUNONHNCLFFBQVMsS0FFVHJELE1BSmlCLFdBQUEsUUFBQUEsS0FVZixJQUFLLEdBTENzRCxHQUFXLElBQ1hDLEVBQVksR0FDWkMsRUFBWSxHQUFJekUsR0FBQSxXQUFJL29CLElBQUltQyxTQUFTbXJCLEVBQVVDLEdBQzNDRSxFQUFrQixFQUNsQnJ2QyxLQUNHaUgsRUFBSSxFQUFHQSxFQUFJaW9DLEVBQVVqb0MsSUFBSyxDQUNqQ2pILEVBQUlwUixRQUNKLEtBQUssR0FBSXNZLEdBQUksRUFBR0EsRUFBSWlvQyxFQUFXam9DLElBQzdCbEgsRUFBSWlILEdBQUdyWSxLQUFQczlDLEVBQUFZLFVBR0pzQyxFQUFVbDZCLFVBQVUsR0FFcEIsS0FBSyxHQUFJcnBCLEdBQUksRUFBR0EsRUFBSXdqRCxFQUFrQixFQUFHeGpELElBQ3ZDdWpELEVBQVUvaEQsUUFHWitoRCxHQUFVL2hELE9BQU8sU0FBQzRaLEVBQUdDLEVBQUc0VyxHQUNaLElBQU5BLEVBQ0Y5ZCxFQUFJaUgsR0FBR0MsR0FBUGdsQyxFQUFBZSxVQUVBanRDLEVBQUlpSCxHQUFHQyxHQUFQZ2xDLEVBQUFvRCxXQUlKemlELEtBQUtvaUQsUUFBVSxHQUFBaEQsR0FBQSxXQUFBRixFQUFBd0QsZ0JBQ2YxaUQsS0FBS3cxQixLQUFPLEdBQUF1c0IsR0FBQSxXQUFRNXVDLEVBQUtuVCxLQUFLb2lELFNBQzlCcGlELEtBQUt3MUIsS0FBSytxQixZQUFZOXJCLFFBaENQLE1BQUFzcUIsTUFtQ2pCdmMsS0FuQ2lCLFdBQUEsUUFBQUEsR0FtQ1ptZ0IsRUFBSUMsR0FDUCxHQUFNQyxHQUFPN2lELEtBQUtvaUQsUUFBUXBGLE9BQVMyRixFQUM3QkcsRUFBTzlpRCxLQUFLb2lELFFBQVFuRixPQUFTMkYsQ0FFbkM1aUQsTUFBS29pRCxRQUFRZCxRQUFRdUIsRUFBTUMsRUFBTTlpRCxLQUFLdzFCLE1BdkN2QixNQUFBZ04sTUEwQ2pCOXlCLE9BMUNpQixXQUFBLFFBQUFBLEdBMENWc3lDLEVBQVNDLEdBbUJkLElBQUssR0FsQkNjLEdBQWNkLEVBQUt0RCxpQkFDbkJxRSxFQUFlZixFQUFLckQsa0JBRXBCcUUsRUFBVzdnRCxLQUFLdXRCLElBQ3BCdnRCLEtBQUswa0IsSUFDSCxFQUNBOW1CLEtBQUtvaUQsUUFBUXBGLE9BQVUrRixFQUFjLEdBRXZDL2lELEtBQUt3MUIsS0FBS3FxQixXQUFha0QsR0FFbkJHLEVBQVc5Z0QsS0FBS3V0QixJQUNwQnZ0QixLQUFLMGtCLElBQ0gsRUFDQTltQixLQUFLb2lELFFBQVFuRixPQUFVK0YsRUFBZSxHQUV4Q2hqRCxLQUFLdzFCLEtBQUtzcUIsWUFBY2tELEdBR2pCNW9DLEVBQUk2b0MsRUFBVTdvQyxFQUFJNm9DLEVBQVdGLEVBQWEzb0MsSUFDakQsSUFBSyxHQUFJQyxHQUFJNm9DLEVBQVU3b0MsRUFBSTZvQyxFQUFXRixFQUFjM29DLElBQUssQ0FDdkQsR0FBTTJWLEdBQU9od0IsS0FBS3cxQixLQUFLdXFCLFFBQVEzbEMsRUFBR0MsRUFDbEMybkMsR0FBUTUxQixLQUNOaFMsRUFBSTZvQyxFQUNKNW9DLEVBQUk2b0MsRUFDSmx6QixFQUFLMHRCLFVBQ0wxdEIsRUFBSzR0QixnQkFDTDV0QixFQUFLMnRCLGlCQUtYLElBQUssR0FEQ3dGLEdBQVduakQsS0FBS3cxQixLQUFLZ3JCLGNBQ2xCeGhELEVBQUksRUFBR0EsRUFBSW1rRCxFQUFTNWpELE9BQVFQLElBQUssQ0FDeEMsR0FBTTBoRCxHQUFTeUMsRUFBU25rRCxFQUNwQjBoRCxHQUFPMUQsUUFBVWlHLEdBQVl2QyxFQUFPekQsUUFBVWlHLEdBQVl4QyxFQUFPMUQsT0FBU2lHLEVBQVdGLEdBQWVyQyxFQUFPekQsT0FBU2lHLEVBQVdGLEdBQ2pJaEIsRUFBUTUxQixLQUNOczBCLEVBQU8xRCxPQUFTaUcsRUFDaEJ2QyxFQUFPekQsT0FBU2lHLEVBQ2hCeEMsRUFBT2hELFVBQ1BnRCxFQUFPOUMsZ0JBQ1A4QyxFQUFPL0Msa0JBbEZFLE1BQUFqdUMsTUF3RmpCK3VDLFlBeEZpQixXQUFBLFFBQUFBLEdBd0ZMdDhDLEVBQU1vd0IsRUFBTzB2QixHQUNWLFlBQVQ5L0MsSUFDRW93QixFQUFNMnZCLFVBQVlwRSxFQUFBLFdBQUlqaEMsVUFDeEJvbEMsRUFBS2pJLGFBQWFvSixHQUNUN3dCLEVBQU0ydkIsVUFBWXBFLEVBQUEsV0FBSTFnQyxVQUMvQjZrQyxFQUFLakksYUFBYXFKLElBR2Q5d0IsRUFBTTJ2QixVQUFZcEUsRUFBQSxXQUFJcGdDLFFBQ3hCMWQsS0FBS3dpQyxRQUFTLEdBQ0xqUSxFQUFNMnZCLFVBQVlwRSxFQUFBLFdBQUlsZ0MsU0FDL0I1ZCxLQUFLd2lDLEtBQUssRUFBRyxHQUNKalEsRUFBTTJ2QixVQUFZcEUsRUFBQSxXQUFJbmdDLE1BQy9CM2QsS0FBS3dpQyxLQUFLLE1BQ0RqUSxFQUFNMnZCLFVBQVlwRSxFQUFBLFdBQUlqZ0MsU0FDL0I3ZCxLQUFLd2lDLEtBQUssRUFBRyxHQUVmeGlDLEtBQUt3MUIsS0FBSytxQixZQUFZN3JCLFNBQ3RCdXRCLEVBQUt2RCxZQTFHTSxNQUFBRCxNQStHakJLLEtBL0dpQixXQUFBLFFBQUFBLEtBZ0hmaHdDLFFBQVFYLElBQUkscUJBaEhHLE1BQUEyd0MsT0FvSGJzRSxHQUNKckUsTUFBQSxXQUFPLFFBQUFBLEtBQUEsTUFBTWp3QyxTQUFRWCxJQUFJLHFCQUF6QixNQUFBNHdDLE1BQ0FELEtBQUEsV0FBTSxRQUFBQSxLQUFBLE1BQU1od0MsU0FBUVgsSUFBSSxvQkFBeEIsTUFBQTJ3QyxNQUNBcHZDLE9BQUEsV0FBUSxRQUFBQSxHQUFDc3lDLEdBQ1AsSUFBSyxHQUFJaGpELEdBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUFLLENBRTNCLEdBQU1OLEdBQUkwRCxLQUFLdzhCLE1BQXNCLElBQWhCeDhCLEtBQUs0UyxVQUNwQmlHLEVBQUk3WSxLQUFLdzhCLE1BQXNCLElBQWhCeDhCLEtBQUs0UyxVQUNwQjhGLEVBQUkxWSxLQUFLdzhCLE1BQXNCLElBQWhCeDhCLEtBQUs0UyxVQUNwQnN1QyxFQUFheEYsRUFBQSxXQUFJOVQsTUFBTW1CLE9BQU96c0MsRUFBR3VjLEVBQUdILEdBQzFDa25DLEdBQVEvMEIsU0FBUyxFQUFHanVCLEVBQUksRUFBeEIsTUFBQXdwQixPQUFpQzg2QixHQUFqQyxjQVBKLE1BQUE1ekMsTUFVQSt1QyxZQUFBLFdBQWEsUUFBQUEsR0FBQ3Q4QyxFQUFNb3dCLEVBQU8wdkIsSUFBM0IsTUFBQXhELE9BR0k0RSxHQUNKdEUsTUFBQSxXQUFPLFFBQUFBLEtBQUEsTUFBTWp3QyxTQUFRWCxJQUFJLHNCQUF6QixNQUFBNHdDLE1BQ0FELEtBQUEsV0FBTSxRQUFBQSxLQUFBLE1BQU1od0MsU0FBUVgsSUFBSSxxQkFBeEIsTUFBQTJ3QyxNQUNBcHZDLE9BQUEsV0FBUSxRQUFBQSxHQUFDc3lDLEdBQ1AsSUFBSyxHQUFJaGpELEdBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUN0QmdqRCxFQUFRLzBCLFNBQVMsRUFBR2p1QixFQUFJLEVBQUcsdUJBRi9CLE1BQUEwUSxNQUtBK3VDLFlBQUEsV0FBYSxRQUFBQSxHQUFDdDhDLEVBQU1vd0IsRUFBTzB2QixJQUEzQixNQUFBeEQsTW5DMmtRRnAvQyxHQUFRLFltQ3ZrUU42NkMsWUFBQUEsRUFDQWlJLFdBQUFBLEVBQ0FpQixVQUFBQSxFQUNBQyxXQUFBQSxLbkMya1FDeEMsV0FBVyxHQUFHMEMsUUFBUSxHQUFHekMsY0FBYyxHQUFHQyxTQUFTLEdBQUdwRyxTQUFTLEtBQUs2SSxJQUFJLFNBQVN6a0QsRUFBUVUsRUFBT0osR0FDbkcsWUFFQWtCLFFBQU9VLGVBQWU1QixFQUFTLGNBQzdCcUIsT0FBTyxJQUVUckIsRUFBUXVnRCxlQUFpQnZnRCxFQUFRcWpELGVBQWlCemlELE1vQzF2UWxELElBQUF3akQsR0FBQTFrRCxFQUFBLFdBU2FNLEdBQUFxakQsZ0JBQ1hnQixPQUFNLElBQ05uNEIsR0FBSSxRQUNKQyxHQUFJLFFBQ0pneEIsUUFBUWlILEVBQUFwQyxTQUFBb0MsRUFBQXJDLFlBQUFxQyxFQUFBeEMsZUFBQXdDLEVBQUE5cEIsT0FBQThwQixFQUFBdkMsZUFHRzdoRCxFQUFBdWdELGdCQUNYOEQsT0FBTSxJQUNObjRCLEdBQUksUUFDSml4QixRQUFRaUgsRUFBQXRDLFlBQUFzQyxFQUFBdkMsaUJwQ3d2UVB5QyxXQUFXLEtBQUtDLElBQUksU0FBUzdrRCxFQUFRVSxFQUFPSixHQUMvQyxZQWFBLFNBQVNtTSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQUV6RixRQUFTb3ZDLEdBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlwakMsV0FBVSxxQ0FFaEgsUUFBU3FqQyxHQUEyQjUxQyxFQUFNOUYsR0FBUSxJQUFLOEYsRUFBUSxLQUFNLElBQUk2MUMsZ0JBQWUsNERBQWdFLFFBQU8zN0MsR0FBeUIsZ0JBQVRBLElBQXFDLGtCQUFUQSxHQUE4QjhGLEVBQVA5RixFQUVsTyxRQUFTNDdDLEdBQVVDLEVBQVVDLEdBQWMsR0FBMEIsa0JBQWZBLElBQTRDLE9BQWZBLEVBQXVCLEtBQU0sSUFBSXpqQyxXQUFVLGlFQUFvRXlqQyxHQUFlRCxHQUFTNzZDLFVBQVlDLE9BQU9DLE9BQU80NkMsR0FBY0EsRUFBVzk2QyxXQUFhRyxhQUFlQyxNQUFPeTZDLEVBQVV4NkMsWUFBWSxFQUFPQyxVQUFVLEVBQU1DLGNBQWMsS0FBZXU2QyxJQUFZNzZDLE9BQU84NkMsZUFBaUI5NkMsT0FBTzg2QyxlQUFlRixFQUFVQyxHQUFjRCxFQUFTRyxVQUFZRixHQWpCamU3NkMsT0FBT1UsZUFBZTVCLEVBQVMsY0FDN0JxQixPQUFPLElBRVRyQixFQUFRb2pELFNBQVdwakQsRUFBUStnRCxVQUFZL2dELEVBQVE0Z0QsU0FBV2hnRCxNQUUxRCxJQUFJdTdDLEdBQWUsV0FBYyxRQUFTeDJDLEdBQWlCWixFQUFRcTNDLEdBQVMsSUFBSyxHQUFJejhDLEdBQUksRUFBR0EsRUFBSXk4QyxFQUFNbDhDLE9BQVFQLElBQUssQ0FBRSxHQUFJMDhDLEdBQWFELEVBQU16OEMsRUFBSTA4QyxHQUFXLzZDLFdBQWErNkMsRUFBVy82QyxhQUFjLEVBQU8rNkMsRUFBVzc2QyxjQUFlLEVBQVUsU0FBVzY2QyxLQUFZQSxFQUFXOTZDLFVBQVcsR0FBTUwsT0FBT1UsZUFBZW1ELEVBQVFzM0MsRUFBVzU0QyxJQUFLNDRDLElBQWlCLE1BQU8sVUFBVVgsRUFBYVksRUFBWUMsR0FBaUosTUFBOUhELElBQVkzMkMsRUFBaUIrMUMsRUFBWXo2QyxVQUFXcTdDLEdBQWlCQyxHQUFhNTJDLEVBQWlCKzFDLEVBQWFhLEdBQXFCYixNcUNueFFoaUJjLEVBQUE5OEMsRUFBQSxXckN1eFFJKzhDLEVBQVV0d0MsRUFBdUJxd0MsR3FDcnhRaEIvckIsRXJDK3hRVixTQUFVa3NCLEdxQzl4UW5CLFFBQUFsc0IsS0FBNkIsR0FBakJtc0IsR0FBaUI5eEMsVUFBQTVLLE9BQUEsR0FBQVUsU0FBQWtLLFVBQUEsR0FBQUEsVUFBQSxLQUFBMHdDLEdBQUE3NkMsS0FBQTh2QixFQUFBLElBQUFvc0IsR0FBQWxCLEVBQUFoN0MsTUFBQTh2QixFQUFBd3JCLFdBQUEvNkMsT0FBQWlHLGVBQUFzcEIsSUFBQXh3QixLQUFBVSxLQUNyQmk4QyxHQURxQixPQUczQkMsR0FBSzJILFlBQWM1SCxFQUFXdUYsYUFBYyxFQUM1Q3RGLEVBQUs0SCxZQUFjN0gsRUFBV2tFLGFBQWMsRUFKakJqRSxFckNpMFE3QixNQWxDQWhCLEdBQVVwckIsRUFBTWtzQixHQWNoQlIsRUFBYTFyQixJQUNYaHRCLElBQUssYUFDTHBDLE1BQU8sV0FDTCxRQUFTOGdELEtxQ3h5UVgsTUFBT3hoRCxNQUFLNmpELFlyQzR5UVYsTUFBT3JDLFFBR1QxK0MsSUFBSyxhQUNMcEMsTUFBTyxXQUNMLFFBQVN5L0MsS3FDN3lRWCxNQUFPbmdELE1BQUs4akQsWXJDaXpRVixNQUFPM0QsU0FJSnJ3QixHQUNQZ3NCLEVBQVEsV0FFVno4QyxHQUFRLFdxQ3IwUWF5d0IsQ0FpQlJ6d0IsR0FBQTRnRCxTQUFXLEdBQUlud0IsT0FDZnp3QixFQUFBK2dELFVBQVksR0FBSXR3QixJQUMzQjR6QixPQUFNLElBQ05sQyxZQUFZLElBRURuaUQsRUFBQW9qRCxTQUFXLEdBQUkzeUIsSUFDMUI0ekIsT0FBTSxJQUNObjRCLEdBQUksWUFDSjQwQixZQUFZLE1yQ3d6UVgvQyxVQUFVLEtBQUsyRyxJQUFJLFNBQVNobEQsRUFBUVUsRUFBT0osR0FDOUMsWUFFQWtCLFFBQU9VLGVBQWU1QixFQUFTLGNBQzdCcUIsT0FBTyxHc0N2MVFULElBQU1xVSxJQUFpQmt0QyxNQUFRK0IsYXRDMjFRL0Iza0QsR0FBUSxXc0N6MVFPMFYsT3RDMjFRVGt2QyxJQUFJLFNBQVNsbEQsRUFBUVUsRUFBT0osR0FDbEMsWUFVQSxTQUFTbU0sR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FSekZsTCxPQUFPVSxlQUFlNUIsRUFBUyxjQUM3QnFCLE9BQU8sR3VDajJRVCxJQUFBaTVDLEdBQUE1NkMsRUFBQSxtQnZDczJRSW1sRCxFQUFpQjE0QyxFQUF1Qm11QyxHdUNwMlF0Q3NJLEVBQU8sV0FBdUMsR0FBdEMveUMsR0FBc0MvRSxVQUFBNUssT0FBQSxHQUFBVSxTQUFBa0ssVUFBQSxHQUFBQSxVQUFBLEdBQTlCKzVDLEVBQUEsV0FBYWpDLEtBQU1oMkMsRUFBVzlCLFVBQUEsRUFDbEQsUUFBUThCLEVBQU85SixNQUNiLElBQUssY0FDSCxNQUFPNUIsUUFBTzBSLFVBQVcvQyxHQUFTODBDLFNBQVU5MEMsRUFBTTgwQyxTQUFTejZDLFFBQVEwQyxFQUFPOE0sV0FDNUUsU0FDRSxNQUFPN0osSXZDKzJRYjdQLEdBQVEsV3VDMzJRTzRpRCxJdkM2MlFaa0Msa0JBQWtCLEtBQUtDLElBQUksU0FBU3JsRCxFQUFRVSxFQUFPSixHQUN0RCxZQVlBLFNBQVNtTSxHQUF1QkMsR0FBTyxNQUFPQSxJQUFPQSxFQUFJQyxXQUFhRCxHQUFRRSxVQUFXRixHQVZ6RmxMLE9BQU9VLGVBQWU1QixFQUFTLGNBQzdCcUIsT0FBTyxHd0M1M1FULElBQUEyakQsR0FBQXRsRCxFQUFBLFNBQ0E2NkMsRUFBQTc2QyxFQUFBLFV4Q2s0UUk4NkMsRUFBU3J1QyxFQUF1Qm91QyxHd0NoNFE5QnNFLEdBQU8sRUFBQW1HLEVBQUFsdkMsa0JBQ1g4c0MsS0FBQXBJLEVBQUEsWXhDdTRRRng2QyxHQUFRLFd3Q3A0UU82K0MsSXhDczRRWjVELFNBQVMsR0FBR0csTUFBUSxVQUFVIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuLyohXG4gKiBkZWVwLWRpZmYuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC5EZWVwRGlmZiA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2NvcGUsIGNvbmZsaWN0LCBjb25mbGljdFJlc29sdXRpb24gPSBbXTtcbiAgaWYgKHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbCkge1xuICAgICRzY29wZSA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICRzY29wZSA9IHdpbmRvdztcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUgPSB7fTtcbiAgfVxuICBjb25mbGljdCA9ICRzY29wZS5EZWVwRGlmZjtcbiAgaWYgKGNvbmZsaWN0KSB7XG4gICAgY29uZmxpY3RSZXNvbHV0aW9uLnB1c2goXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29uZmxpY3QgJiYgJHNjb3BlLkRlZXBEaWZmID09PSBhY2N1bXVsYXRlRGlmZikge1xuICAgICAgICAgICRzY29wZS5EZWVwRGlmZiA9IGNvbmZsaWN0O1xuICAgICAgICAgIGNvbmZsaWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIG5vZGVqcyBjb21wYXRpYmxlIG9uIHNlcnZlciBzaWRlIGFuZCBpbiB0aGUgYnJvd3Nlci5cbiAgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gRGlmZihraW5kLCBwYXRoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdraW5kJywge1xuICAgICAgdmFsdWU6IGtpbmQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGgpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGF0aCcsIHtcbiAgICAgICAgdmFsdWU6IHBhdGgsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIERpZmZFZGl0KHBhdGgsIG9yaWdpbiwgdmFsdWUpIHtcbiAgICBEaWZmRWRpdC5zdXBlcl8uY2FsbCh0aGlzLCAnRScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmRWRpdCwgRGlmZik7XG5cbiAgZnVuY3Rpb24gRGlmZk5ldyhwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZOZXcuc3VwZXJfLmNhbGwodGhpcywgJ04nLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmTmV3LCBEaWZmKTtcblxuICBmdW5jdGlvbiBEaWZmRGVsZXRlZChwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZEZWxldGVkLnN1cGVyXy5jYWxsKHRoaXMsICdEJywgcGF0aCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkRlbGV0ZWQsIERpZmYpO1xuXG4gIGZ1bmN0aW9uIERpZmZBcnJheShwYXRoLCBpbmRleCwgaXRlbSkge1xuICAgIERpZmZBcnJheS5zdXBlcl8uY2FsbCh0aGlzLCAnQScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaW5kZXgnLCB7XG4gICAgICB2YWx1ZTogaW5kZXgsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpdGVtJywge1xuICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkFycmF5LCBEaWZmKTtcblxuICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGZyb20sIHRvKSB7XG4gICAgdmFyIHJlc3QgPSBhcnIuc2xpY2UoKHRvIHx8IGZyb20pICsgMSB8fCBhcnIubGVuZ3RoKTtcbiAgICBhcnIubGVuZ3RoID0gZnJvbSA8IDAgPyBhcnIubGVuZ3RoICsgZnJvbSA6IGZyb207XG4gICAgYXJyLnB1c2guYXBwbHkoYXJyLCByZXN0KTtcbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhbFR5cGVPZihzdWJqZWN0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygc3ViamVjdDtcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cblxuICAgIGlmIChzdWJqZWN0ID09PSBNYXRoKSB7XG4gICAgICByZXR1cm4gJ21hdGgnO1xuICAgIH0gZWxzZSBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN1YmplY3QpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViamVjdC50b1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcgJiYgL15cXC8uKlxcLy8udGVzdChzdWJqZWN0LnRvU3RyaW5nKCkpKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBEaWZmKGxocywgcmhzLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIHBhdGgsIGtleSwgc3RhY2spIHtcbiAgICBwYXRoID0gcGF0aCB8fCBbXTtcbiAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoLnNsaWNlKDApO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHByZWZpbHRlcikge1xuICAgICAgICBpZiAodHlwZW9mKHByZWZpbHRlcikgPT09ICdmdW5jdGlvbicgJiYgcHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YocHJlZmlsdGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZiAocHJlZmlsdGVyLnByZWZpbHRlciAmJiBwcmVmaWx0ZXIucHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICAgIGlmIChwcmVmaWx0ZXIubm9ybWFsaXplKSB7XG4gICAgICAgICAgICB2YXIgYWx0ID0gcHJlZmlsdGVyLm5vcm1hbGl6ZShjdXJyZW50UGF0aCwga2V5LCBsaHMsIHJocyk7XG4gICAgICAgICAgICBpZiAoYWx0KSB7XG4gICAgICAgICAgICAgIGxocyA9IGFsdFswXTtcbiAgICAgICAgICAgICAgcmhzID0gYWx0WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudFBhdGgucHVzaChrZXkpO1xuICAgIH1cblxuICAgIC8vIFVzZSBzdHJpbmcgY29tcGFyaXNvbiBmb3IgcmVnZXhlc1xuICAgIGlmIChyZWFsVHlwZU9mKGxocykgPT09ICdyZWdleHAnICYmIHJlYWxUeXBlT2YocmhzKSA9PT0gJ3JlZ2V4cCcpIHtcbiAgICAgIGxocyA9IGxocy50b1N0cmluZygpO1xuICAgICAgcmhzID0gcmhzLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgdmFyIGx0eXBlID0gdHlwZW9mIGxocztcbiAgICB2YXIgcnR5cGUgPSB0eXBlb2YgcmhzO1xuICAgIGlmIChsdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChydHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hhbmdlcyhuZXcgRGlmZk5ldyhjdXJyZW50UGF0aCwgcmhzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChydHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoYW5nZXMobmV3IERpZmZEZWxldGVkKGN1cnJlbnRQYXRoLCBsaHMpKTtcbiAgICB9IGVsc2UgaWYgKHJlYWxUeXBlT2YobGhzKSAhPT0gcmVhbFR5cGVPZihyaHMpKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJocykgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoKGxocyAtIHJocykgIT09IDApKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKGx0eXBlID09PSAnb2JqZWN0JyAmJiBsaHMgIT09IG51bGwgJiYgcmhzICE9PSBudWxsKSB7XG4gICAgICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2YobGhzKSA8IDApIHtcbiAgICAgICAgc3RhY2sucHVzaChsaHMpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaHMpKSB7XG4gICAgICAgICAgdmFyIGksIGxlbiA9IGxocy5sZW5ndGg7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmQXJyYXkoY3VycmVudFBhdGgsIGksIG5ldyBEaWZmRGVsZXRlZCh1bmRlZmluZWQsIGxoc1tpXSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1tpXSwgcmhzW2ldLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBpLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChpIDwgcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkFycmF5KGN1cnJlbnRQYXRoLCBpLCBuZXcgRGlmZk5ldyh1bmRlZmluZWQsIHJoc1tpKytdKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYWtleXMgPSBPYmplY3Qua2V5cyhsaHMpO1xuICAgICAgICAgIHZhciBwa2V5cyA9IE9iamVjdC5rZXlzKHJocyk7XG4gICAgICAgICAgYWtleXMuZm9yRWFjaChmdW5jdGlvbihrLCBpKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBwa2V5cy5pbmRleE9mKGspO1xuICAgICAgICAgICAgaWYgKG90aGVyID49IDApIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgICAgcGtleXMgPSBhcnJheVJlbW92ZShwa2V5cywgb3RoZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCB1bmRlZmluZWQsIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIGRlZXBEaWZmKHVuZGVmaW5lZCwgcmhzW2tdLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2subGVuZ3RoID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxocyAhPT0gcmhzKSB7XG4gICAgICBpZiAoIShsdHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4obGhzKSAmJiBpc05hTihyaHMpKSkge1xuICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlmZihsaHMsIHJocywgcHJlZmlsdGVyLCBhY2N1bSkge1xuICAgIGFjY3VtID0gYWNjdW0gfHwgW107XG4gICAgZGVlcERpZmYobGhzLCByaHMsXG4gICAgICBmdW5jdGlvbihkaWZmKSB7XG4gICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgYWNjdW0ucHVzaChkaWZmKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByZWZpbHRlcik7XG4gICAgcmV0dXJuIChhY2N1bS5sZW5ndGgpID8gYWNjdW0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUFycmF5Q2hhbmdlKGFyciwgaW5kZXgsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UucGF0aCAmJiBjaGFuZ2UucGF0aC5sZW5ndGgpIHtcbiAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG4gICAgICAgICAgaSwgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG4gICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGFyciA9IGFycmF5UmVtb3ZlKGFyciwgaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUNoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSA9IC0xLFxuICAgICAgICAgIGxhc3QgPSBjaGFuZ2UucGF0aCA/IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgd2hpbGUgKCsraSA8IGxhc3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdFtjaGFuZ2UucGF0aFtpXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gKHR5cGVvZiBjaGFuZ2UucGF0aFtpXSA9PT0gJ251bWJlcicpID8gW10gOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgYXBwbHlBcnJheUNoYW5nZShjaGFuZ2UucGF0aCA/IGl0W2NoYW5nZS5wYXRoW2ldXSA6IGl0LCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS5wYXRoICYmIGNoYW5nZS5wYXRoLmxlbmd0aCkge1xuICAgICAgLy8gdGhlIHN0cnVjdHVyZSBvZiB0aGUgb2JqZWN0IGF0IHRoZSBpbmRleCBoYXMgY2hhbmdlZC4uLlxuICAgICAgdmFyIGl0ID0gYXJyW2luZGV4XSxcbiAgICAgICAgICBpLCB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBhcnJheSBpdGVtIGlzIGRpZmZlcmVudC4uLlxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShhcnJbaW5kZXhdLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydENoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSwgdTtcbiAgICAgIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgLy8gQXJyYXkgd2FzIG1vZGlmaWVkLi4uXG4gICAgICAgICAgLy8gaXQgd2lsbCBiZSBhbiBhcnJheS4uLlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIC8vIEl0ZW0gd2FzIGRlbGV0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAvLyBJdGVtIHdhcyBlZGl0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAvLyBJdGVtIGlzIG5ldy4uLlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlEaWZmKHRhcmdldCwgc291cmNlLCBmaWx0ZXIpIHtcbiAgICBpZiAodGFyZ2V0ICYmIHNvdXJjZSkge1xuICAgICAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcih0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSkge1xuICAgICAgICAgIGFwcGx5Q2hhbmdlKHRhcmdldCwgc291cmNlLCBjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGVlcERpZmYodGFyZ2V0LCBzb3VyY2UsIG9uQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhY2N1bXVsYXRlRGlmZiwge1xuXG4gICAgZGlmZjoge1xuICAgICAgdmFsdWU6IGFjY3VtdWxhdGVEaWZmLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgb2JzZXJ2YWJsZURpZmY6IHtcbiAgICAgIHZhbHVlOiBkZWVwRGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5RGlmZjoge1xuICAgICAgdmFsdWU6IGFwcGx5RGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5Q2hhbmdlOiB7XG4gICAgICB2YWx1ZTogYXBwbHlDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICByZXZlcnRDaGFuZ2U6IHtcbiAgICAgIHZhbHVlOiByZXZlcnRDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBpc0NvbmZsaWN0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbmZsaWN0O1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG5vQ29uZmxpY3Q6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbmZsaWN0UmVzb2x1dGlvbikge1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG4gICAgICAgICAgICBpdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdGVEaWZmO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcbn0pKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se31dLDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcblxufSx7XCIuL19yb290XCI6OX1dLDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcblxufSx7XCIuL19TeW1ib2xcIjoyLFwiLi9fZ2V0UmF3VGFnXCI6NixcIi4vX29iamVjdFRvU3RyaW5nXCI6N31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgb3ZlckFyZyA9IHJlcXVpcmUoJy4vX292ZXJBcmcnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UHJvdG90eXBlO1xuXG59LHtcIi4vX292ZXJBcmdcIjo4fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG5cbn0se1wiLi9fU3ltYm9sXCI6Mn1dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG5cbn0se31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcblxufSx7fV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG5cbn0se1wiLi9fZnJlZUdsb2JhbFwiOjR9XSwxMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG5cbn0se31dLDExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuXG59LHtcIi4vX2Jhc2VHZXRUYWdcIjozLFwiLi9fZ2V0UHJvdG90eXBlXCI6NSxcIi4vaXNPYmplY3RMaWtlXCI6MTB9XSwxMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG59LHt9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnByaW50QnVmZmVyID0gcHJpbnRCdWZmZXI7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG52YXIgX2RpZmYgPSByZXF1aXJlKCcuL2RpZmYnKTtcblxudmFyIF9kaWZmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RpZmYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH1cblxuLyoqXG4gKiBHZXQgbG9nIGxldmVsIHN0cmluZyBiYXNlZCBvbiBzdXBwbGllZCBwYXJhbXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IGZ1bmN0aW9uIHwgb2JqZWN0fSBsZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG4gKiBAcGFyYW0ge29iamVjdH0gYWN0aW9uIC0gc2VsZWN0ZWQgYWN0aW9uXG4gKiBAcGFyYW0ge2FycmF5fSBwYXlsb2FkIC0gc2VsZWN0ZWQgcGF5bG9hZFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBsb2cgZW50cnkgdHlwZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGxldmVsXG4gKi9cbmZ1bmN0aW9uIGdldExvZ0xldmVsKGxldmVsLCBhY3Rpb24sIHBheWxvYWQsIHR5cGUpIHtcbiAgc3dpdGNoICh0eXBlb2YgbGV2ZWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGxldmVsKSkge1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gdHlwZW9mIGxldmVsW3R5cGVdID09PSAnZnVuY3Rpb24nID8gbGV2ZWxbdHlwZV0uYXBwbHkobGV2ZWwsIF90b0NvbnN1bWFibGVBcnJheShwYXlsb2FkKSkgOiBsZXZlbFt0eXBlXTtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICByZXR1cm4gbGV2ZWwoYWN0aW9uKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGxldmVsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSB7XG4gIHZhciB0aW1lc3RhbXAgPSBvcHRpb25zLnRpbWVzdGFtcDtcbiAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgdGltZSwgdG9vaykge1xuICAgIHZhciBwYXJ0cyA9IFsnYWN0aW9uJ107XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgcGFydHMucHVzaCgnQCAnICsgdGltZSk7XG4gICAgfVxuICAgIHBhcnRzLnB1c2goYWN0aW9uLnR5cGUpO1xuICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgcGFydHMucHVzaCgnKGluICcgKyB0b29rLnRvRml4ZWQoMikgKyAnIG1zKScpO1xuICAgIH1cbiAgICByZXR1cm4gcGFydHMuam9pbignICcpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcmludEJ1ZmZlcihidWZmZXIsIG9wdGlvbnMpIHtcbiAgdmFyIGxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyO1xuICB2YXIgYWN0aW9uVHJhbnNmb3JtZXIgPSBvcHRpb25zLmFjdGlvblRyYW5zZm9ybWVyO1xuICB2YXIgX29wdGlvbnMkdGl0bGVGb3JtYXR0ID0gb3B0aW9ucy50aXRsZUZvcm1hdHRlcjtcbiAgdmFyIHRpdGxlRm9ybWF0dGVyID0gX29wdGlvbnMkdGl0bGVGb3JtYXR0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VGl0bGVGb3JtYXR0ZXIob3B0aW9ucykgOiBfb3B0aW9ucyR0aXRsZUZvcm1hdHQ7XG4gIHZhciBjb2xsYXBzZWQgPSBvcHRpb25zLmNvbGxhcHNlZDtcbiAgdmFyIGNvbG9ycyA9IG9wdGlvbnMuY29sb3JzO1xuICB2YXIgbGV2ZWwgPSBvcHRpb25zLmxldmVsO1xuICB2YXIgZGlmZiA9IG9wdGlvbnMuZGlmZjtcblxuICBidWZmZXIuZm9yRWFjaChmdW5jdGlvbiAobG9nRW50cnksIGtleSkge1xuICAgIHZhciBzdGFydGVkID0gbG9nRW50cnkuc3RhcnRlZDtcbiAgICB2YXIgc3RhcnRlZFRpbWUgPSBsb2dFbnRyeS5zdGFydGVkVGltZTtcbiAgICB2YXIgYWN0aW9uID0gbG9nRW50cnkuYWN0aW9uO1xuICAgIHZhciBwcmV2U3RhdGUgPSBsb2dFbnRyeS5wcmV2U3RhdGU7XG4gICAgdmFyIGVycm9yID0gbG9nRW50cnkuZXJyb3I7XG4gICAgdmFyIHRvb2sgPSBsb2dFbnRyeS50b29rO1xuICAgIHZhciBuZXh0U3RhdGUgPSBsb2dFbnRyeS5uZXh0U3RhdGU7XG5cbiAgICB2YXIgbmV4dEVudHJ5ID0gYnVmZmVyW2tleSArIDFdO1xuXG4gICAgaWYgKG5leHRFbnRyeSkge1xuICAgICAgbmV4dFN0YXRlID0gbmV4dEVudHJ5LnByZXZTdGF0ZTtcbiAgICAgIHRvb2sgPSBuZXh0RW50cnkuc3RhcnRlZCAtIHN0YXJ0ZWQ7XG4gICAgfVxuXG4gICAgLy8gTWVzc2FnZVxuICAgIHZhciBmb3JtYXR0ZWRBY3Rpb24gPSBhY3Rpb25UcmFuc2Zvcm1lcihhY3Rpb24pO1xuICAgIHZhciBpc0NvbGxhcHNlZCA9IHR5cGVvZiBjb2xsYXBzZWQgPT09ICdmdW5jdGlvbicgPyBjb2xsYXBzZWQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICB9LCBhY3Rpb24pIDogY29sbGFwc2VkO1xuXG4gICAgdmFyIGZvcm1hdHRlZFRpbWUgPSAoMCwgX2hlbHBlcnMuZm9ybWF0VGltZSkoc3RhcnRlZFRpbWUpO1xuICAgIHZhciB0aXRsZUNTUyA9IGNvbG9ycy50aXRsZSA/ICdjb2xvcjogJyArIGNvbG9ycy50aXRsZShmb3JtYXR0ZWRBY3Rpb24pICsgJzsnIDogbnVsbDtcbiAgICB2YXIgdGl0bGUgPSB0aXRsZUZvcm1hdHRlcihmb3JtYXR0ZWRBY3Rpb24sIGZvcm1hdHRlZFRpbWUsIHRvb2spO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgICBpZiAoY29sb3JzLnRpdGxlKSBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJyVjICcgKyB0aXRsZSwgdGl0bGVDU1MpO2Vsc2UgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKHRpdGxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb2xvcnMudGl0bGUpIGxvZ2dlci5ncm91cCgnJWMgJyArIHRpdGxlLCB0aXRsZUNTUyk7ZWxzZSBsb2dnZXIuZ3JvdXAodGl0bGUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5sb2codGl0bGUpO1xuICAgIH1cblxuICAgIHZhciBwcmV2U3RhdGVMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtwcmV2U3RhdGVdLCAncHJldlN0YXRlJyk7XG4gICAgdmFyIGFjdGlvbkxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW2Zvcm1hdHRlZEFjdGlvbl0sICdhY3Rpb24nKTtcbiAgICB2YXIgZXJyb3JMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtlcnJvciwgcHJldlN0YXRlXSwgJ2Vycm9yJyk7XG4gICAgdmFyIG5leHRTdGF0ZUxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW25leHRTdGF0ZV0sICduZXh0U3RhdGUnKTtcblxuICAgIGlmIChwcmV2U3RhdGVMZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5wcmV2U3RhdGUpIGxvZ2dlcltwcmV2U3RhdGVMZXZlbF0oJyVjIHByZXYgc3RhdGUnLCAnY29sb3I6ICcgKyBjb2xvcnMucHJldlN0YXRlKHByZXZTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIHByZXZTdGF0ZSk7ZWxzZSBsb2dnZXJbcHJldlN0YXRlTGV2ZWxdKCdwcmV2IHN0YXRlJywgcHJldlN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMuYWN0aW9uKSBsb2dnZXJbYWN0aW9uTGV2ZWxdKCclYyBhY3Rpb24nLCAnY29sb3I6ICcgKyBjb2xvcnMuYWN0aW9uKGZvcm1hdHRlZEFjdGlvbikgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIGZvcm1hdHRlZEFjdGlvbik7ZWxzZSBsb2dnZXJbYWN0aW9uTGV2ZWxdKCdhY3Rpb24nLCBmb3JtYXR0ZWRBY3Rpb24pO1xuICAgIH1cblxuICAgIGlmIChlcnJvciAmJiBlcnJvckxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLmVycm9yKSBsb2dnZXJbZXJyb3JMZXZlbF0oJyVjIGVycm9yJywgJ2NvbG9yOiAnICsgY29sb3JzLmVycm9yKGVycm9yLCBwcmV2U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBlcnJvcik7ZWxzZSBsb2dnZXJbZXJyb3JMZXZlbF0oJ2Vycm9yJywgZXJyb3IpO1xuICAgIH1cblxuICAgIGlmIChuZXh0U3RhdGVMZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5uZXh0U3RhdGUpIGxvZ2dlcltuZXh0U3RhdGVMZXZlbF0oJyVjIG5leHQgc3RhdGUnLCAnY29sb3I6ICcgKyBjb2xvcnMubmV4dFN0YXRlKG5leHRTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIG5leHRTdGF0ZSk7ZWxzZSBsb2dnZXJbbmV4dFN0YXRlTGV2ZWxdKCduZXh0IHN0YXRlJywgbmV4dFN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoZGlmZikge1xuICAgICAgKDAsIF9kaWZmMi5kZWZhdWx0KShwcmV2U3RhdGUsIG5leHRTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5sb2coJ+KAlOKAlCBsb2cgZW5kIOKAlOKAlCcpO1xuICAgIH1cbiAgfSk7XG59XG59LHtcIi4vZGlmZlwiOjE1LFwiLi9oZWxwZXJzXCI6MTZ9XSwxNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgbGV2ZWw6IFwibG9nXCIsXG4gIGxvZ2dlcjogY29uc29sZSxcbiAgbG9nRXJyb3JzOiB0cnVlLFxuICBjb2xsYXBzZWQ6IHVuZGVmaW5lZCxcbiAgcHJlZGljYXRlOiB1bmRlZmluZWQsXG4gIGR1cmF0aW9uOiBmYWxzZSxcbiAgdGltZXN0YW1wOiB0cnVlLFxuICBzdGF0ZVRyYW5zZm9ybWVyOiBmdW5jdGlvbiBzdGF0ZVRyYW5zZm9ybWVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9LFxuICBhY3Rpb25UcmFuc2Zvcm1lcjogZnVuY3Rpb24gYWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfSxcbiAgZXJyb3JUcmFuc2Zvcm1lcjogZnVuY3Rpb24gZXJyb3JUcmFuc2Zvcm1lcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfSxcbiAgY29sb3JzOiB7XG4gICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkge1xuICAgICAgcmV0dXJuIFwiaW5oZXJpdFwiO1xuICAgIH0sXG4gICAgcHJldlN0YXRlOiBmdW5jdGlvbiBwcmV2U3RhdGUoKSB7XG4gICAgICByZXR1cm4gXCIjOUU5RTlFXCI7XG4gICAgfSxcbiAgICBhY3Rpb246IGZ1bmN0aW9uIGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBcIiMwM0E5RjRcIjtcbiAgICB9LFxuICAgIG5leHRTdGF0ZTogZnVuY3Rpb24gbmV4dFN0YXRlKCkge1xuICAgICAgcmV0dXJuIFwiIzRDQUY1MFwiO1xuICAgIH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgcmV0dXJuIFwiI0YyMDQwNFwiO1xuICAgIH1cbiAgfSxcbiAgZGlmZjogZmFsc2UsXG4gIGRpZmZQcmVkaWNhdGU6IHVuZGVmaW5lZCxcblxuICAvLyBEZXByZWNhdGVkIG9wdGlvbnNcbiAgdHJhbnNmb3JtZXI6IHVuZGVmaW5lZFxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xufSx7fV0sMTU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGlmZkxvZ2dlcjtcblxudmFyIF9kZWVwRGlmZiA9IHJlcXVpcmUoJ2RlZXAtZGlmZicpO1xuXG52YXIgX2RlZXBEaWZmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZXBEaWZmKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZsaXRiaXQvZGlmZiNkaWZmZXJlbmNlc1xudmFyIGRpY3Rpb25hcnkgPSB7XG4gICdFJzoge1xuICAgIGNvbG9yOiAnIzIxOTZGMycsXG4gICAgdGV4dDogJ0NIQU5HRUQ6J1xuICB9LFxuICAnTic6IHtcbiAgICBjb2xvcjogJyM0Q0FGNTAnLFxuICAgIHRleHQ6ICdBRERFRDonXG4gIH0sXG4gICdEJzoge1xuICAgIGNvbG9yOiAnI0Y0NDMzNicsXG4gICAgdGV4dDogJ0RFTEVURUQ6J1xuICB9LFxuICAnQSc6IHtcbiAgICBjb2xvcjogJyMyMTk2RjMnLFxuICAgIHRleHQ6ICdBUlJBWTonXG4gIH1cbn07XG5cbmZ1bmN0aW9uIHN0eWxlKGtpbmQpIHtcbiAgcmV0dXJuICdjb2xvcjogJyArIGRpY3Rpb25hcnlba2luZF0uY29sb3IgKyAnOyBmb250LXdlaWdodDogYm9sZCc7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcihkaWZmKSB7XG4gIHZhciBraW5kID0gZGlmZi5raW5kO1xuICB2YXIgcGF0aCA9IGRpZmYucGF0aDtcbiAgdmFyIGxocyA9IGRpZmYubGhzO1xuICB2YXIgcmhzID0gZGlmZi5yaHM7XG4gIHZhciBpbmRleCA9IGRpZmYuaW5kZXg7XG4gIHZhciBpdGVtID0gZGlmZi5pdGVtO1xuXG4gIHN3aXRjaCAoa2luZCkge1xuICAgIGNhc2UgJ0UnOlxuICAgICAgcmV0dXJuIHBhdGguam9pbignLicpICsgJyAnICsgbGhzICsgJyDihpIgJyArIHJocztcbiAgICBjYXNlICdOJzpcbiAgICAgIHJldHVybiBwYXRoLmpvaW4oJy4nKSArICcgJyArIHJocztcbiAgICBjYXNlICdEJzpcbiAgICAgIHJldHVybiAnJyArIHBhdGguam9pbignLicpO1xuICAgIGNhc2UgJ0EnOlxuICAgICAgcmV0dXJuIFtwYXRoLmpvaW4oJy4nKSArICdbJyArIGluZGV4ICsgJ10nLCBpdGVtXTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGlmZkxvZ2dlcihwcmV2U3RhdGUsIG5ld1N0YXRlLCBsb2dnZXIsIGlzQ29sbGFwc2VkKSB7XG4gIHZhciBkaWZmID0gKDAsIF9kZWVwRGlmZjIuZGVmYXVsdCkocHJldlN0YXRlLCBuZXdTdGF0ZSk7XG5cbiAgdHJ5IHtcbiAgICBpZiAoaXNDb2xsYXBzZWQpIHtcbiAgICAgIGxvZ2dlci5ncm91cENvbGxhcHNlZCgnZGlmZicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIuZ3JvdXAoJ2RpZmYnKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKCdkaWZmJyk7XG4gIH1cblxuICBpZiAoZGlmZikge1xuICAgIGRpZmYuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgdmFyIGtpbmQgPSBlbGVtLmtpbmQ7XG5cbiAgICAgIHZhciBvdXRwdXQgPSByZW5kZXIoZWxlbSk7XG5cbiAgICAgIGxvZ2dlci5sb2coJyVjICcgKyBkaWN0aW9uYXJ5W2tpbmRdLnRleHQsIHN0eWxlKGtpbmQpLCBvdXRwdXQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGxvZ2dlci5sb2coJ+KAlOKAlCBubyBkaWZmIOKAlOKAlCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2dnZXIuZ3JvdXBFbmQoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5sb2coJ+KAlOKAlCBkaWZmIGVuZCDigJTigJQgJyk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xufSx7XCJkZWVwLWRpZmZcIjoxfV0sMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgcmVwZWF0ID0gZXhwb3J0cy5yZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQoc3RyLCB0aW1lcykge1xuICByZXR1cm4gbmV3IEFycmF5KHRpbWVzICsgMSkuam9pbihzdHIpO1xufTtcblxudmFyIHBhZCA9IGV4cG9ydHMucGFkID0gZnVuY3Rpb24gcGFkKG51bSwgbWF4TGVuZ3RoKSB7XG4gIHJldHVybiByZXBlYXQoXCIwXCIsIG1heExlbmd0aCAtIG51bS50b1N0cmluZygpLmxlbmd0aCkgKyBudW07XG59O1xuXG52YXIgZm9ybWF0VGltZSA9IGV4cG9ydHMuZm9ybWF0VGltZSA9IGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZSkge1xuICByZXR1cm4gcGFkKHRpbWUuZ2V0SG91cnMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldE1pbnV0ZXMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldFNlY29uZHMoKSwgMikgKyBcIi5cIiArIHBhZCh0aW1lLmdldE1pbGxpc2Vjb25kcygpLCAzKTtcbn07XG5cbi8vIFVzZSBwZXJmb3JtYW5jZSBBUEkgaWYgaXQncyBhdmFpbGFibGUgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciBwcmVjaXNpb25cbnZhciB0aW1lciA9IGV4cG9ydHMudGltZXIgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiID8gcGVyZm9ybWFuY2UgOiBEYXRlO1xufSx7fV0sMTc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbnZhciBfZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbnZhciBfZGVmYXVsdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmYXVsdHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgbG9nZ2VyIHdpdGggZm9sbG93aW5nIG9wdGlvbnNcbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIGxvZ2dlclxuICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbiB8IG9iamVjdH0gb3B0aW9ucy5sZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZHVyYXRpb24gLSBwcmludCBkdXJhdGlvbiBvZiBlYWNoIGFjdGlvbj9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy50aW1lc3RhbXAgLSBwcmludCB0aW1lc3RhbXAgd2l0aCBlYWNoIGFjdGlvbj9cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmNvbG9ycyAtIGN1c3RvbSBjb2xvcnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmxvZ2dlciAtIGltcGxlbWVudGF0aW9uIG9mIHRoZSBgY29uc29sZWAgQVBJXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMubG9nRXJyb3JzIC0gc2hvdWxkIGVycm9ycyBpbiBhY3Rpb24gZXhlY3V0aW9uIGJlIGNhdWdodCwgbG9nZ2VkLCBhbmQgcmUtdGhyb3duP1xuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmNvbGxhcHNlZCAtIGlzIGdyb3VwIGNvbGxhcHNlZD9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5wcmVkaWNhdGUgLSBjb25kaXRpb24gd2hpY2ggcmVzb2x2ZXMgbG9nZ2VyIGJlaGF2aW9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLnN0YXRlVHJhbnNmb3JtZXIgLSB0cmFuc2Zvcm0gc3RhdGUgYmVmb3JlIHByaW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLmFjdGlvblRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIGFjdGlvbiBiZWZvcmUgcHJpbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMuZXJyb3JUcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBlcnJvciBiZWZvcmUgcHJpbnRcbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IGxvZ2dlciBtaWRkbGV3YXJlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlcigpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICB2YXIgbG9nZ2VyT3B0aW9ucyA9IF9leHRlbmRzKHt9LCBfZGVmYXVsdHMyLmRlZmF1bHQsIG9wdGlvbnMpO1xuXG4gIHZhciBsb2dnZXIgPSBsb2dnZXJPcHRpb25zLmxvZ2dlcjtcbiAgdmFyIHRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy50cmFuc2Zvcm1lcjtcbiAgdmFyIHN0YXRlVHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLnN0YXRlVHJhbnNmb3JtZXI7XG4gIHZhciBlcnJvclRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5lcnJvclRyYW5zZm9ybWVyO1xuICB2YXIgcHJlZGljYXRlID0gbG9nZ2VyT3B0aW9ucy5wcmVkaWNhdGU7XG4gIHZhciBsb2dFcnJvcnMgPSBsb2dnZXJPcHRpb25zLmxvZ0Vycm9ycztcbiAgdmFyIGRpZmZQcmVkaWNhdGUgPSBsb2dnZXJPcHRpb25zLmRpZmZQcmVkaWNhdGU7XG5cbiAgLy8gUmV0dXJuIGlmICdjb25zb2xlJyBvYmplY3QgaXMgbm90IGRlZmluZWRcblxuICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGlmICh0cmFuc2Zvcm1lcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ09wdGlvbiBcXCd0cmFuc2Zvcm1lclxcJyBpcyBkZXByZWNhdGVkLCB1c2UgXFwnc3RhdGVUcmFuc2Zvcm1lclxcJyBpbnN0ZWFkIScpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxuXG4gIHZhciBsb2dCdWZmZXIgPSBbXTtcblxuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgLy8gRXhpdCBlYXJseSBpZiBwcmVkaWNhdGUgZnVuY3Rpb24gcmV0dXJucyAnZmFsc2UnXG4gICAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlID09PSAnZnVuY3Rpb24nICYmICFwcmVkaWNhdGUoZ2V0U3RhdGUsIGFjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvZ0VudHJ5ID0ge307XG4gICAgICAgIGxvZ0J1ZmZlci5wdXNoKGxvZ0VudHJ5KTtcblxuICAgICAgICBsb2dFbnRyeS5zdGFydGVkID0gX2hlbHBlcnMudGltZXIubm93KCk7XG4gICAgICAgIGxvZ0VudHJ5LnN0YXJ0ZWRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgbG9nRW50cnkucHJldlN0YXRlID0gc3RhdGVUcmFuc2Zvcm1lcihnZXRTdGF0ZSgpKTtcbiAgICAgICAgbG9nRW50cnkuYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgIHZhciByZXR1cm5lZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAobG9nRXJyb3JzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBuZXh0KGFjdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nRW50cnkuZXJyb3IgPSBlcnJvclRyYW5zZm9ybWVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nRW50cnkudG9vayA9IF9oZWxwZXJzLnRpbWVyLm5vdygpIC0gbG9nRW50cnkuc3RhcnRlZDtcbiAgICAgICAgbG9nRW50cnkubmV4dFN0YXRlID0gc3RhdGVUcmFuc2Zvcm1lcihnZXRTdGF0ZSgpKTtcblxuICAgICAgICB2YXIgZGlmZiA9IGxvZ2dlck9wdGlvbnMuZGlmZiAmJiB0eXBlb2YgZGlmZlByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGRpZmZQcmVkaWNhdGUoZ2V0U3RhdGUsIGFjdGlvbikgOiBsb2dnZXJPcHRpb25zLmRpZmY7XG5cbiAgICAgICAgKDAsIF9jb3JlLnByaW50QnVmZmVyKShsb2dCdWZmZXIsIF9leHRlbmRzKHt9LCBsb2dnZXJPcHRpb25zLCB7IGRpZmY6IGRpZmYgfSkpO1xuICAgICAgICBsb2dCdWZmZXIubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAobG9nRW50cnkuZXJyb3IpIHRocm93IGxvZ0VudHJ5LmVycm9yO1xuICAgICAgICByZXR1cm4gcmV0dXJuZWRWYWx1ZTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlTG9nZ2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG59LHtcIi4vY29yZVwiOjEzLFwiLi9kZWZhdWx0c1wiOjE0LFwiLi9oZWxwZXJzXCI6MTZ9XSwxODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGFwcGx5TWlkZGxld2FyZTtcblxudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG5cbnZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKTtcbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBzdG9yZS5kaXNwYXRjaDtcbiAgICAgIHZhciBjaGFpbiA9IFtdO1xuXG4gICAgICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIF9kaXNwYXRjaChhY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgY2hhaW4gPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gICAgICB9KTtcbiAgICAgIF9kaXNwYXRjaCA9IF9jb21wb3NlMlsnZGVmYXVsdCddLmFwcGx5KHVuZGVmaW5lZCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxufSx7XCIuL2NvbXBvc2VcIjoyMX1dLDE5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGJpbmRBY3Rpb25DcmVhdG9ycztcbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCAnICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArICcuICcgKyAnRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTtcbiAgfVxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufVxufSx7fV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNvbWJpbmVSZWR1Y2VycztcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKSB7XG4gIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuICB2YXIgYWN0aW9uTmFtZSA9IGFjdGlvblR5cGUgJiYgJ1wiJyArIGFjdGlvblR5cGUudG9TdHJpbmcoKSArICdcIicgfHwgJ2FuIGFjdGlvbic7XG5cbiAgcmV0dXJuICdHaXZlbiBhY3Rpb24gJyArIGFjdGlvbk5hbWUgKyAnLCByZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQuICcgKyAnVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLic7XG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgPyAncHJlbG9hZGVkU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbJ2RlZmF1bHQnXSkoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gJ1RoZSAnICsgYXJndW1lbnROYW1lICsgJyBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFwiJyArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nICcgKyAoJ2tleXM6IFwiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiJyk7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdW5leHBlY3RlZEtleUNhY2hlW2tleV07XG4gIH0pO1xuXG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldID0gdHJ1ZTtcbiAgfSk7XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gJ1VuZXhwZWN0ZWQgJyArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgJyAnICsgKCdcIicgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArICdcIiBmb3VuZCBpbiAnICsgYXJndW1lbnROYW1lICsgJy4gJykgKyAnRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiAnICsgKCdcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2FuaXR5KHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uICcgKyAnSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0ICcgKyAnZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSAnICsgJ25vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuXG4gICAgdmFyIHR5cGUgPSAnQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTl8nICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiB0eXBlIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiAnICsgKCdEb25cXCd0IHRyeSB0byBoYW5kbGUgJyArIF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUICsgJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiICcpICsgJ25hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlICcgKyAnY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgJyArICdpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgJyArICdhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuJyk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMlsnZGVmYXVsdCddKSgnTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFwiJyArIGtleSArICdcIicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHZhciB1bmV4cGVjdGVkS2V5Q2FjaGUgPSB7fTtcbiAgfVxuXG4gIHZhciBzYW5pdHlFcnJvcjtcbiAgdHJ5IHtcbiAgICBhc3NlcnRSZWR1Y2VyU2FuaXR5KGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2FuaXR5RXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKCkge1xuICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuICAgIHZhciBhY3Rpb24gPSBhcmd1bWVudHNbMV07XG5cbiAgICBpZiAoc2FuaXR5RXJyb3IpIHtcbiAgICAgIHRocm93IHNhbml0eUVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSk7XG4gICAgICBpZiAod2FybmluZ01lc3NhZ2UpIHtcbiAgICAgICAgKDAsIF93YXJuaW5nMlsnZGVmYXVsdCddKSh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tpXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1trZXldO1xuICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtrZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIG5leHRTdGF0ZVtrZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgIH1cbiAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICB9O1xufVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJykpXG5cbn0se1wiLi9jcmVhdGVTdG9yZVwiOjIyLFwiLi91dGlscy93YXJuaW5nXCI6MjQsXCJfcHJvY2Vzc1wiOjEyLFwibG9kYXNoL2lzUGxhaW5PYmplY3RcIjoxMX1dLDIxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBjb21wb3NlO1xuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHZhciBsYXN0ID0gZnVuY3NbZnVuY3MubGVuZ3RoIC0gMV07XG4gIHZhciByZXN0ID0gZnVuY3Muc2xpY2UoMCwgLTEpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXN0LnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChjb21wb3NlZCwgZikge1xuICAgICAgcmV0dXJuIGYoY29tcG9zZWQpO1xuICAgIH0sIGxhc3QuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbn0se31dLDIyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQWN0aW9uVHlwZXMgPSB1bmRlZmluZWQ7XG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVTdG9yZTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUgPSByZXF1aXJlKCdzeW1ib2wtb2JzZXJ2YWJsZScpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuaGFuY2VyIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gKlxuICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gIHZhciBfcmVmMjtcblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IHByZWxvYWRlZFN0YXRlO1xuICAgIHByZWxvYWRlZFN0YXRlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IHByZWxvYWRlZFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbJ2RlZmF1bHQnXSkoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICByZXR1cm4geyB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmUgfTtcbiAgICAgIH1cbiAgICB9LCBfcmVmW19zeW1ib2xPYnNlcnZhYmxlMlsnZGVmYXVsdCddXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH1cblxuICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMltfc3ltYm9sT2JzZXJ2YWJsZTJbJ2RlZmF1bHQnXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cbn0se1wibG9kYXNoL2lzUGxhaW5PYmplY3RcIjoxMSxcInN5bWJvbC1vYnNlcnZhYmxlXCI6MjZ9XSwyMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3Mpe1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5jb21wb3NlID0gZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBleHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IGV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gZXhwb3J0cy5jcmVhdGVTdG9yZSA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVTdG9yZSA9IHJlcXVpcmUoJy4vY3JlYXRlU3RvcmUnKTtcblxudmFyIF9jcmVhdGVTdG9yZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVTdG9yZSk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzID0gcmVxdWlyZSgnLi9jb21iaW5lUmVkdWNlcnMnKTtcblxudmFyIF9jb21iaW5lUmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tYmluZVJlZHVjZXJzKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMgPSByZXF1aXJlKCcuL2JpbmRBY3Rpb25DcmVhdG9ycycpO1xuXG52YXIgX2JpbmRBY3Rpb25DcmVhdG9yczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaW5kQWN0aW9uQ3JlYXRvcnMpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZSA9IHJlcXVpcmUoJy4vYXBwbHlNaWRkbGV3YXJlJyk7XG5cbnZhciBfYXBwbHlNaWRkbGV3YXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGx5TWlkZGxld2FyZSk7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLypcbiogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4qL1xuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgKDAsIF93YXJuaW5nMlsnZGVmYXVsdCddKSgnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcXCdwcm9kdWN0aW9uXFwnLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3IgRGVmaW5lUGx1Z2luIGZvciB3ZWJwYWNrIChodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDMwMDMxKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG59XG5cbmV4cG9ydHMuY3JlYXRlU3RvcmUgPSBfY3JlYXRlU3RvcmUyWydkZWZhdWx0J107XG5leHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IF9jb21iaW5lUmVkdWNlcnMyWydkZWZhdWx0J107XG5leHBvcnRzLmJpbmRBY3Rpb25DcmVhdG9ycyA9IF9iaW5kQWN0aW9uQ3JlYXRvcnMyWydkZWZhdWx0J107XG5leHBvcnRzLmFwcGx5TWlkZGxld2FyZSA9IF9hcHBseU1pZGRsZXdhcmUyWydkZWZhdWx0J107XG5leHBvcnRzLmNvbXBvc2UgPSBfY29tcG9zZTJbJ2RlZmF1bHQnXTtcbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKVxuXG59LHtcIi4vYXBwbHlNaWRkbGV3YXJlXCI6MTgsXCIuL2JpbmRBY3Rpb25DcmVhdG9yc1wiOjE5LFwiLi9jb21iaW5lUmVkdWNlcnNcIjoyMCxcIi4vY29tcG9zZVwiOjIxLFwiLi9jcmVhdGVTdG9yZVwiOjIyLFwiLi91dGlscy93YXJuaW5nXCI6MjQsXCJfcHJvY2Vzc1wiOjEyfV0sMjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1snZGVmYXVsdCddID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59XG59LHt9XSwyNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbi8qXG5cdFRoaXMgaXMgcm90LmpzLCB0aGUgUk9ndWVsaWtlIFRvb2xraXQgaW4gSmF2YVNjcmlwdC5cblx0VmVyc2lvbiAwLjZ+ZGV2LCBnZW5lcmF0ZWQgb24gTW9uIE5vdiAzMCAxMDozNDo0MiBDRVQgMjAxNS5cbiovXG4vKipcbiAqIEFkZCBvYmplY3RzIGZvciBOb2RlLmpzIGVudmlyb25tZW50XG4gKi9cbmdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYikge1xuXHRyZXR1cm4gc2V0VGltZW91dChjYiwgMTAwMC82MCk7XG59O1xuXG5nbG9iYWwuZG9jdW1lbnQgPSB7XG5cdGJvZHk6IHtcblx0XHRhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHt9LFxuXHRcdHNjcm9sbExlZnQ6IDAsXG5cdFx0c2Nyb2xsVG9wOiAwXG5cdH0sXG5cdGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHR2YXIgY2FudmFzO1xuXHRcdHJldHVybiBjYW52YXMgPSB7XG5cdFx0XHRnZXRCb3VuZGluZ0NsaWVudFJlY3Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcmVjdDtcblx0XHRcdFx0cmV0dXJuIHJlY3QgPSB7XG5cdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHR0b3A6IDBcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRnZXRDb250ZXh0OiBmdW5jdGlvbih0eXBlKSB7XG5cdFx0XHRcdHZhciBjb250ZXh0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCA9IHtcblx0XHRcdFx0XHRfdGVybWNvbG9yOiBudWxsLFxuXHRcdFx0XHRcdGJlZ2luUGF0aDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0XHRjYW52YXM6IGNhbnZhcyxcblx0XHRcdFx0XHRjbGVhclJlY3Q6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRcdFx0XHRcdGlmKHRoaXMuX3Rlcm1jb2xvciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgY2xlYXJDbWQgPSB0aGlzLl90ZXJtY29sb3IuY2xlYXJUb0Fuc2kodGhpcy5maWxsU3R5bGUpO1xuXHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShjbGVhckNtZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkcmF3SW1hZ2U6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGkpIHt9LFxuXHRcdFx0XHRcdGZpbGw6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRcdFx0ZmlsbFJlY3Q6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRcdFx0XHRcdGlmKHRoaXMuX3Rlcm1jb2xvciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgY2xlYXJDbWQgPSB0aGlzLl90ZXJtY29sb3IuY2xlYXJUb0Fuc2kodGhpcy5maWxsU3R5bGUpO1xuXHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShjbGVhckNtZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmaWxsU3R5bGU6IFwiIzAwMFwiLFxuXHRcdFx0XHRcdGZpbGxUZXh0OiBmdW5jdGlvbihjaHMsIHgsIHkpIHt9LFxuXHRcdFx0XHRcdGZvbnQ6IFwibW9ub3NwYWNlXCIsXG5cdFx0XHRcdFx0bGluZVRvOiBmdW5jdGlvbih4LCB5KSB7fSxcblx0XHRcdFx0XHRtZWFzdXJlVGV4dDogZnVuY3Rpb24oY2gpIHtcblx0XHRcdFx0XHRcdHZhciByZXN1bHQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0ID0ge1xuXHRcdFx0XHRcdFx0XHR3aWR0aDogMTJcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtb3ZlVG86IGZ1bmN0aW9uKHgsIHkpIHt9LFxuXHRcdFx0XHRcdHRleHRBbGlnbjogXCJjZW50ZXJcIixcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6IFwibWlkZGxlXCJcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHRzdHlsZToge1xuXHRcdFx0XHRsZWZ0OiBcIjEwMHB4XCIsXG5cdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdHRvcDogXCIxMDBweFwiLFxuXHRcdFx0XHR2aXNpYmlsaXR5OiBcImhpZGRlblwiXG5cdFx0XHR9LFxuXHRcdFx0d2lkdGg6IDBcblx0XHR9O1xuXHR9LFxuXHRkb2N1bWVudEVsZW1lbnQ6IHtcblx0XHRzY3JvbGxMZWZ0OiAwLFxuXHRcdHNjcm9sbFRvcDogMFxuXHR9XG59O1xuLyoqXG4gKiBAbmFtZXNwYWNlIFRvcC1sZXZlbCBST1QgbmFtZXNwYWNlXG4gKi9cbnZhciBST1QgPSB7XG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7Ym9vbH0gSXMgcm90LmpzIHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXI/XG5cdCAqL1xuXHRpc1N1cHBvcnRlZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICEhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dCAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCk7XG5cdH0sXG5cblx0LyoqIERlZmF1bHQgd2l0aCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cblx0REVGQVVMVF9XSURUSDogODAsXG5cdC8qKiBEZWZhdWx0IGhlaWdodCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cblx0REVGQVVMVF9IRUlHSFQ6IDI1LFxuXG5cdC8qKiBEaXJlY3Rpb25hbCBjb25zdGFudHMuIE9yZGVyaW5nIGlzIGltcG9ydGFudCEgKi9cblx0RElSUzoge1xuXHRcdFwiNFwiOiBbXG5cdFx0XHRbIDAsIC0xXSxcblx0XHRcdFsgMSwgIDBdLFxuXHRcdFx0WyAwLCAgMV0sXG5cdFx0XHRbLTEsICAwXVxuXHRcdF0sXG5cdFx0XCI4XCI6IFtcblx0XHRcdFsgMCwgLTFdLFxuXHRcdFx0WyAxLCAtMV0sXG5cdFx0XHRbIDEsICAwXSxcblx0XHRcdFsgMSwgIDFdLFxuXHRcdFx0WyAwLCAgMV0sXG5cdFx0XHRbLTEsICAxXSxcblx0XHRcdFstMSwgIDBdLFxuXHRcdFx0Wy0xLCAtMV1cblx0XHRdLFxuXHRcdFwiNlwiOiBbXG5cdFx0XHRbLTEsIC0xXSxcblx0XHRcdFsgMSwgLTFdLFxuXHRcdFx0WyAyLCAgMF0sXG5cdFx0XHRbIDEsICAxXSxcblx0XHRcdFstMSwgIDFdLFxuXHRcdFx0Wy0yLCAgMF1cblx0XHRdXG5cdH0sXG5cblx0LyoqIENhbmNlbCBrZXkuICovXG5cdFZLX0NBTkNFTDogMywgXG5cdC8qKiBIZWxwIGtleS4gKi9cblx0VktfSEVMUDogNiwgXG5cdC8qKiBCYWNrc3BhY2Uga2V5LiAqL1xuXHRWS19CQUNLX1NQQUNFOiA4LCBcblx0LyoqIFRhYiBrZXkuICovXG5cdFZLX1RBQjogOSwgXG5cdC8qKiA1IGtleSBvbiBOdW1wYWQgd2hlbiBOdW1Mb2NrIGlzIHVubG9ja2VkLiBPciBvbiBNYWMsIGNsZWFyIGtleSB3aGljaCBpcyBwb3NpdGlvbmVkIGF0IE51bUxvY2sga2V5LiAqL1xuXHRWS19DTEVBUjogMTIsIFxuXHQvKiogUmV0dXJuL2VudGVyIGtleSBvbiB0aGUgbWFpbiBrZXlib2FyZC4gKi9cblx0VktfUkVUVVJOOiAxMywgXG5cdC8qKiBSZXNlcnZlZCwgYnV0IG5vdCB1c2VkLiAqL1xuXHRWS19FTlRFUjogMTQsIFxuXHQvKiogU2hpZnQga2V5LiAqL1xuXHRWS19TSElGVDogMTYsIFxuXHQvKiogQ29udHJvbCBrZXkuICovXG5cdFZLX0NPTlRST0w6IDE3LCBcblx0LyoqIEFsdCAoT3B0aW9uIG9uIE1hYykga2V5LiAqL1xuXHRWS19BTFQ6IDE4LCBcblx0LyoqIFBhdXNlIGtleS4gKi9cblx0VktfUEFVU0U6IDE5LCBcblx0LyoqIENhcHMgbG9jay4gKi9cblx0VktfQ0FQU19MT0NLOiAyMCwgXG5cdC8qKiBFc2NhcGUga2V5LiAqL1xuXHRWS19FU0NBUEU6IDI3LCBcblx0LyoqIFNwYWNlIGJhci4gKi9cblx0VktfU1BBQ0U6IDMyLCBcblx0LyoqIFBhZ2UgVXAga2V5LiAqL1xuXHRWS19QQUdFX1VQOiAzMywgXG5cdC8qKiBQYWdlIERvd24ga2V5LiAqL1xuXHRWS19QQUdFX0RPV046IDM0LCBcblx0LyoqIEVuZCBrZXkuICovXG5cdFZLX0VORDogMzUsIFxuXHQvKiogSG9tZSBrZXkuICovXG5cdFZLX0hPTUU6IDM2LCBcblx0LyoqIExlZnQgYXJyb3cuICovXG5cdFZLX0xFRlQ6IDM3LCBcblx0LyoqIFVwIGFycm93LiAqL1xuXHRWS19VUDogMzgsIFxuXHQvKiogUmlnaHQgYXJyb3cuICovXG5cdFZLX1JJR0hUOiAzOSwgXG5cdC8qKiBEb3duIGFycm93LiAqL1xuXHRWS19ET1dOOiA0MCwgXG5cdC8qKiBQcmludCBTY3JlZW4ga2V5LiAqL1xuXHRWS19QUklOVFNDUkVFTjogNDQsIFxuXHQvKiogSW5zKGVydCkga2V5LiAqL1xuXHRWS19JTlNFUlQ6IDQ1LCBcblx0LyoqIERlbChldGUpIGtleS4gKi9cblx0VktfREVMRVRFOiA0NiwgXG5cdC8qKiovXG5cdFZLXzA6IDQ4LFxuXHQvKioqL1xuXHRWS18xOiA0OSxcblx0LyoqKi9cblx0VktfMjogNTAsXG5cdC8qKiovXG5cdFZLXzM6IDUxLFxuXHQvKioqL1xuXHRWS180OiA1Mixcblx0LyoqKi9cblx0VktfNTogNTMsXG5cdC8qKiovXG5cdFZLXzY6IDU0LFxuXHQvKioqL1xuXHRWS183OiA1NSxcblx0LyoqKi9cblx0VktfODogNTYsXG5cdC8qKiovXG5cdFZLXzk6IDU3LFxuXHQvKiogQ29sb24gKDopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DT0xPTjogNTgsIFxuXHQvKiogU2VtaWNvbG9uICg7KSBrZXkuICovXG5cdFZLX1NFTUlDT0xPTjogNTksIFxuXHQvKiogTGVzcy10aGFuICg8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfTEVTU19USEFOOiA2MCwgXG5cdC8qKiBFcXVhbHMgKD0pIGtleS4gKi9cblx0VktfRVFVQUxTOiA2MSwgXG5cdC8qKiBHcmVhdGVyLXRoYW4gKD4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19HUkVBVEVSX1RIQU46IDYyLCBcblx0LyoqIFF1ZXN0aW9uIG1hcmsgKD8pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19RVUVTVElPTl9NQVJLOiA2MywgXG5cdC8qKiBBdG1hcmsgKEApIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BVDogNjQsIFxuXHQvKioqL1xuXHRWS19BOiA2NSxcblx0LyoqKi9cblx0VktfQjogNjYsXG5cdC8qKiovXG5cdFZLX0M6IDY3LFxuXHQvKioqL1xuXHRWS19EOiA2OCxcblx0LyoqKi9cblx0VktfRTogNjksXG5cdC8qKiovXG5cdFZLX0Y6IDcwLFxuXHQvKioqL1xuXHRWS19HOiA3MSxcblx0LyoqKi9cblx0VktfSDogNzIsXG5cdC8qKiovXG5cdFZLX0k6IDczLFxuXHQvKioqL1xuXHRWS19KOiA3NCxcblx0LyoqKi9cblx0VktfSzogNzUsXG5cdC8qKiovXG5cdFZLX0w6IDc2LFxuXHQvKioqL1xuXHRWS19NOiA3Nyxcblx0LyoqKi9cblx0VktfTjogNzgsXG5cdC8qKiovXG5cdFZLX086IDc5LFxuXHQvKioqL1xuXHRWS19QOiA4MCxcblx0LyoqKi9cblx0VktfUTogODEsXG5cdC8qKiovXG5cdFZLX1I6IDgyLFxuXHQvKioqL1xuXHRWS19TOiA4Myxcblx0LyoqKi9cblx0VktfVDogODQsXG5cdC8qKiovXG5cdFZLX1U6IDg1LFxuXHQvKioqL1xuXHRWS19WOiA4Nixcblx0LyoqKi9cblx0VktfVzogODcsXG5cdC8qKiovXG5cdFZLX1g6IDg4LFxuXHQvKioqL1xuXHRWS19ZOiA4OSxcblx0LyoqKi9cblx0VktfWjogOTAsXG5cdC8qKiovXG5cdFZLX0NPTlRFWFRfTUVOVTogOTMsXG5cdC8qKiAwIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMDogOTYsIFxuXHQvKiogMSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDE6IDk3LCBcblx0LyoqIDIgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQyOiA5OCwgXG5cdC8qKiAzIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMzogOTksIFxuXHQvKiogNCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDQ6IDEwMCwgXG5cdC8qKiA1IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENTogMTAxLCBcblx0LyoqIDYgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ2OiAxMDIsIFxuXHQvKiogNyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDc6IDEwMywgXG5cdC8qKiA4IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEODogMTA0LCBcblx0LyoqIDkgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ5OiAxMDUsIFxuXHQvKiogKiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX01VTFRJUExZOiAxMDYsXG5cdC8qKiArIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfQUREOiAxMDcsIFxuXHQvKioqL1xuXHRWS19TRVBBUkFUT1I6IDEwOCxcblx0LyoqIC0gb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19TVUJUUkFDVDogMTA5LCBcblx0LyoqIERlY2ltYWwgcG9pbnQgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19ERUNJTUFMOiAxMTAsIFxuXHQvKiogLyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX0RJVklERTogMTExLCBcblx0LyoqIEYxIGtleS4gKi9cblx0VktfRjE6IDExMiwgXG5cdC8qKiBGMiBrZXkuICovXG5cdFZLX0YyOiAxMTMsIFxuXHQvKiogRjMga2V5LiAqL1xuXHRWS19GMzogMTE0LCBcblx0LyoqIEY0IGtleS4gKi9cblx0VktfRjQ6IDExNSwgXG5cdC8qKiBGNSBrZXkuICovXG5cdFZLX0Y1OiAxMTYsIFxuXHQvKiogRjYga2V5LiAqL1xuXHRWS19GNjogMTE3LCBcblx0LyoqIEY3IGtleS4gKi9cblx0VktfRjc6IDExOCwgXG5cdC8qKiBGOCBrZXkuICovXG5cdFZLX0Y4OiAxMTksIFxuXHQvKiogRjkga2V5LiAqL1xuXHRWS19GOTogMTIwLCBcblx0LyoqIEYxMCBrZXkuICovXG5cdFZLX0YxMDogMTIxLCBcblx0LyoqIEYxMSBrZXkuICovXG5cdFZLX0YxMTogMTIyLCBcblx0LyoqIEYxMiBrZXkuICovXG5cdFZLX0YxMjogMTIzLCBcblx0LyoqIEYxMyBrZXkuICovXG5cdFZLX0YxMzogMTI0LCBcblx0LyoqIEYxNCBrZXkuICovXG5cdFZLX0YxNDogMTI1LCBcblx0LyoqIEYxNSBrZXkuICovXG5cdFZLX0YxNTogMTI2LCBcblx0LyoqIEYxNiBrZXkuICovXG5cdFZLX0YxNjogMTI3LCBcblx0LyoqIEYxNyBrZXkuICovXG5cdFZLX0YxNzogMTI4LCBcblx0LyoqIEYxOCBrZXkuICovXG5cdFZLX0YxODogMTI5LCBcblx0LyoqIEYxOSBrZXkuICovXG5cdFZLX0YxOTogMTMwLCBcblx0LyoqIEYyMCBrZXkuICovXG5cdFZLX0YyMDogMTMxLCBcblx0LyoqIEYyMSBrZXkuICovXG5cdFZLX0YyMTogMTMyLCBcblx0LyoqIEYyMiBrZXkuICovXG5cdFZLX0YyMjogMTMzLCBcblx0LyoqIEYyMyBrZXkuICovXG5cdFZLX0YyMzogMTM0LCBcblx0LyoqIEYyNCBrZXkuICovXG5cdFZLX0YyNDogMTM1LCBcblx0LyoqIE51bSBMb2NrIGtleS4gKi9cblx0VktfTlVNX0xPQ0s6IDE0NCwgXG5cdC8qKiBTY3JvbGwgTG9jayBrZXkuICovXG5cdFZLX1NDUk9MTF9MT0NLOiAxNDUsIFxuXHQvKiogQ2lyY3VtZmxleCAoXikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NJUkNVTUZMRVg6IDE2MCwgXG5cdC8qKiBFeGNsYW1hdGlvbiAoISkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0VYQ0xBTUFUSU9OOiAxNjEsIFxuXHQvKiogRG91YmxlIHF1b3RlICgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19ET1VCTEVfUVVPVEU6IDE2MiwgXG5cdC8qKiBIYXNoICgjKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfSEFTSDogMTYzLCBcblx0LyoqIERvbGxhciBzaWduICgkKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRE9MTEFSOiAxNjQsIFxuXHQvKiogUGVyY2VudCAoJSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1BFUkNFTlQ6IDE2NSwgXG5cdC8qKiBBbXBlcnNhbmQgKCYpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BTVBFUlNBTkQ6IDE2NiwgXG5cdC8qKiBVbmRlcnNjb3JlIChfKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfVU5ERVJTQ09SRTogMTY3LCBcblx0LyoqIE9wZW4gcGFyZW50aGVzaXMgKCgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19PUEVOX1BBUkVOOiAxNjgsIFxuXHQvKiogQ2xvc2UgcGFyZW50aGVzaXMgKCkpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DTE9TRV9QQVJFTjogMTY5LCBcblx0LyogQXN0ZXJpc2sgKCopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BU1RFUklTSzogMTcwLFxuXHQvKiogUGx1cyAoKykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1BMVVM6IDE3MSwgXG5cdC8qKiBQaXBlICh8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUElQRTogMTcyLCBcblx0LyoqIEh5cGhlbi1VUy9kb2NzL01pbnVzICgtKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfSFlQSEVOX01JTlVTOiAxNzMsIFxuXHQvKiogT3BlbiBjdXJseSBicmFja2V0ICh7KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfT1BFTl9DVVJMWV9CUkFDS0VUOiAxNzQsIFxuXHQvKiogQ2xvc2UgY3VybHkgYnJhY2tldCAofSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NMT1NFX0NVUkxZX0JSQUNLRVQ6IDE3NSwgXG5cdC8qKiBUaWxkZSAofikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1RJTERFOiAxNzYsIFxuXHQvKiogQ29tbWEgKCwpIGtleS4gKi9cblx0VktfQ09NTUE6IDE4OCwgXG5cdC8qKiBQZXJpb2QgKC4pIGtleS4gKi9cblx0VktfUEVSSU9EOiAxOTAsIFxuXHQvKiogU2xhc2ggKC8pIGtleS4gKi9cblx0VktfU0xBU0g6IDE5MSwgXG5cdC8qKiBCYWNrIHRpY2sgKGApIGtleS4gKi9cblx0VktfQkFDS19RVU9URTogMTkyLCBcblx0LyoqIE9wZW4gc3F1YXJlIGJyYWNrZXQgKFspIGtleS4gKi9cblx0VktfT1BFTl9CUkFDS0VUOiAyMTksIFxuXHQvKiogQmFjayBzbGFzaCAoXFwpIGtleS4gKi9cblx0VktfQkFDS19TTEFTSDogMjIwLCBcblx0LyoqIENsb3NlIHNxdWFyZSBicmFja2V0IChdKSBrZXkuICovXG5cdFZLX0NMT1NFX0JSQUNLRVQ6IDIyMSwgXG5cdC8qKiBRdW90ZSAoJycnKSBrZXkuICovXG5cdFZLX1FVT1RFOiAyMjIsIFxuXHQvKiogTWV0YSBrZXkgb24gTGludXgsIENvbW1hbmQga2V5IG9uIE1hYy4gKi9cblx0VktfTUVUQTogMjI0LCBcblx0LyoqIEFsdEdyIGtleSBvbiBMaW51eC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BTFRHUjogMjI1LCBcblx0LyoqIFdpbmRvd3MgbG9nbyBrZXkgb24gV2luZG93cy4gT3IgU3VwZXIgb3IgSHlwZXIga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1dJTjogOTEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0tBTkE6IDIxLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19IQU5HVUw6IDIxLCBcblx0LyoqIOiLseaVsCBrZXkgb24gSmFwYW5lc2UgTWFjIGtleWJvYXJkLiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0VJU1U6IDIyLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19KVU5KQTogMjMsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0ZJTkFMOiAyNCwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfSEFOSkE6IDI1LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19LQU5KSTogMjUsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0NPTlZFUlQ6IDI4LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19OT05DT05WRVJUOiAyOSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfQUNDRVBUOiAzMCwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfTU9ERUNIQU5HRTogMzEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX1NFTEVDVDogNDEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX1BSSU5UOiA0MiwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfRVhFQ1VURTogNDMsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuXHQgKi9cblx0VktfU0xFRVA6IDk1IFxufTtcbi8qKlxuICogQG5hbWVzcGFjZVxuICogQ29udGFpbnMgdGV4dCB0b2tlbml6YXRpb24gYW5kIGJyZWFraW5nIHJvdXRpbmVzXG4gKi9cblJPVC5UZXh0ID0ge1xuXHRSRV9DT0xPUlM6IC8lKFtiY10peyhbXn1dKil9L2csXG5cblx0LyogdG9rZW4gdHlwZXMgKi9cblx0VFlQRV9URVhUOlx0XHQwLFxuXHRUWVBFX05FV0xJTkU6XHQxLFxuXHRUWVBFX0ZHOlx0XHQyLFxuXHRUWVBFX0JHOlx0XHQzLFxuXG5cdC8qKlxuXHQgKiBNZWFzdXJlIHNpemUgb2YgYSByZXN1bHRpbmcgdGV4dCBibG9ja1xuXHQgKi9cblx0bWVhc3VyZTogZnVuY3Rpb24oc3RyLCBtYXhXaWR0aCkge1xuXHRcdHZhciByZXN1bHQgPSB7d2lkdGg6MCwgaGVpZ2h0OjF9O1xuXHRcdHZhciB0b2tlbnMgPSB0aGlzLnRva2VuaXplKHN0ciwgbWF4V2lkdGgpO1xuXHRcdHZhciBsaW5lV2lkdGggPSAwO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8dG9rZW5zLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0XHRjYXNlIHRoaXMuVFlQRV9URVhUOlxuXHRcdFx0XHRcdGxpbmVXaWR0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgdGhpcy5UWVBFX05FV0xJTkU6XG5cdFx0XHRcdFx0cmVzdWx0LmhlaWdodCsrO1xuXHRcdFx0XHRcdHJlc3VsdC53aWR0aCA9IE1hdGgubWF4KHJlc3VsdC53aWR0aCwgbGluZVdpZHRoKTtcblx0XHRcdFx0XHRsaW5lV2lkdGggPSAwO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydCBzdHJpbmcgdG8gYSBzZXJpZXMgb2YgYSBmb3JtYXR0aW5nIGNvbW1hbmRzXG5cdCAqL1xuXHR0b2tlbml6ZTogZnVuY3Rpb24oc3RyLCBtYXhXaWR0aCkge1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblxuXHRcdC8qIGZpcnN0IHRva2VuaXphdGlvbiBwYXNzIC0gc3BsaXQgdGV4dHMgYW5kIGNvbG9yIGZvcm1hdHRpbmcgY29tbWFuZHMgKi9cblx0XHR2YXIgb2Zmc2V0ID0gMDtcblx0XHRzdHIucmVwbGFjZSh0aGlzLlJFX0NPTE9SUywgZnVuY3Rpb24obWF0Y2gsIHR5cGUsIG5hbWUsIGluZGV4KSB7XG5cdFx0XHQvKiBzdHJpbmcgYmVmb3JlICovXG5cdFx0XHR2YXIgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0LCBpbmRleCk7XG5cdFx0XHRpZiAocGFydC5sZW5ndGgpIHtcblx0XHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHRcdHR5cGU6IFJPVC5UZXh0LlRZUEVfVEVYVCxcblx0XHRcdFx0XHR2YWx1ZTogcGFydFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0LyogY29sb3IgY29tbWFuZCAqL1xuXHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHR0eXBlOiAodHlwZSA9PSBcImNcIiA/IFJPVC5UZXh0LlRZUEVfRkcgOiBST1QuVGV4dC5UWVBFX0JHKSxcblx0XHRcdFx0dmFsdWU6IG5hbWUudHJpbSgpXG5cdFx0XHR9KTtcblxuXHRcdFx0b2Zmc2V0ID0gaW5kZXggKyBtYXRjaC5sZW5ndGg7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9KTtcblxuXHRcdC8qIGxhc3QgcmVtYWluaW5nIHBhcnQgKi9cblx0XHR2YXIgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0KTtcblx0XHRpZiAocGFydC5sZW5ndGgpIHtcblx0XHRcdHJlc3VsdC5wdXNoKHtcblx0XHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9URVhULFxuXHRcdFx0XHR2YWx1ZTogcGFydFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX2JyZWFrTGluZXMocmVzdWx0LCBtYXhXaWR0aCk7XG5cdH0sXG5cblx0LyogaW5zZXJ0IGxpbmUgYnJlYWtzIGludG8gZmlyc3QtcGFzcyB0b2tlbml6ZWQgZGF0YSAqL1xuXHRfYnJlYWtMaW5lczogZnVuY3Rpb24odG9rZW5zLCBtYXhXaWR0aCkge1xuXHRcdGlmICghbWF4V2lkdGgpIHsgbWF4V2lkdGggPSBJbmZpbml0eTsgfTtcblxuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgbGluZUxlbmd0aCA9IDA7XG5cdFx0dmFyIGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuXG5cdFx0d2hpbGUgKGkgPCB0b2tlbnMubGVuZ3RoKSB7IC8qIHRha2UgYWxsIHRleHQgdG9rZW5zLCByZW1vdmUgc3BhY2UsIGFwcGx5IGxpbmVicmVha3MgKi9cblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdGlmICh0b2tlbi50eXBlID09IFJPVC5UZXh0LlRZUEVfTkVXTElORSkgeyAvKiByZXNldCAqL1xuXHRcdFx0XHRsaW5lTGVuZ3RoID0gMDsgXG5cdFx0XHRcdGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRva2VuLnR5cGUgIT0gUk9ULlRleHQuVFlQRV9URVhUKSB7IC8qIHNraXAgbm9uLXRleHQgdG9rZW5zICovXG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGludWU7IFxuXHRcdFx0fVxuXG5cdFx0XHQvKiByZW1vdmUgc3BhY2VzIGF0IHRoZSBiZWdpbm5pbmcgb2YgbGluZSAqL1xuXHRcdFx0d2hpbGUgKGxpbmVMZW5ndGggPT0gMCAmJiB0b2tlbi52YWx1ZS5jaGFyQXQoMCkgPT0gXCIgXCIpIHsgdG9rZW4udmFsdWUgPSB0b2tlbi52YWx1ZS5zdWJzdHJpbmcoMSk7IH1cblxuXHRcdFx0LyogZm9yY2VkIG5ld2xpbmU/IGluc2VydCB0d28gbmV3IHRva2VucyBhZnRlciB0aGlzIG9uZSAqL1xuXHRcdFx0dmFyIGluZGV4ID0gdG9rZW4udmFsdWUuaW5kZXhPZihcIlxcblwiKTtcblx0XHRcdGlmIChpbmRleCAhPSAtMSkgeyBcblx0XHRcdFx0dG9rZW4udmFsdWUgPSB0aGlzLl9icmVha0luc2lkZVRva2VuKHRva2VucywgaSwgaW5kZXgsIHRydWUpOyBcblxuXHRcdFx0XHQvKiBpZiB0aGVyZSBhcmUgc3BhY2VzIGF0IHRoZSBlbmQsIHdlIG11c3QgcmVtb3ZlIHRoZW0gKHdlIGRvIG5vdCB3YW50IHRoZSBsaW5lIHRvbyBsb25nKSAqL1xuXHRcdFx0XHR2YXIgYXJyID0gdG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG5cdFx0XHRcdHdoaWxlIChhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoLTFdID09IFwiIFwiKSB7IGFyci5wb3AoKTsgfVxuXHRcdFx0XHR0b2tlbi52YWx1ZSA9IGFyci5qb2luKFwiXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiB0b2tlbiBkZWdlbmVyYXRlZD8gKi9cblx0XHRcdGlmICghdG9rZW4udmFsdWUubGVuZ3RoKSB7XG5cdFx0XHRcdHRva2Vucy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobGluZUxlbmd0aCArIHRva2VuLnZhbHVlLmxlbmd0aCA+IG1heFdpZHRoKSB7IC8qIGxpbmUgdG9vIGxvbmcsIGZpbmQgYSBzdWl0YWJsZSBicmVha2luZyBzcG90ICovXG5cblx0XHRcdFx0LyogaXMgaXQgcG9zc2libGUgdG8gYnJlYWsgd2l0aGluIHRoaXMgdG9rZW4/ICovXG5cdFx0XHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdFx0XHR3aGlsZSAoMSkge1xuXHRcdFx0XHRcdHZhciBuZXh0SW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiLCBpbmRleCsxKTtcblx0XHRcdFx0XHRpZiAobmV4dEluZGV4ID09IC0xKSB7IGJyZWFrOyB9XG5cdFx0XHRcdFx0aWYgKGxpbmVMZW5ndGggKyBuZXh0SW5kZXggPiBtYXhXaWR0aCkgeyBicmVhazsgfVxuXHRcdFx0XHRcdGluZGV4ID0gbmV4dEluZGV4O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGluZGV4ICE9IC0xKSB7IC8qIGJyZWFrIGF0IHNwYWNlIHdpdGhpbiB0aGlzIG9uZSAqL1xuXHRcdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIGluZGV4LCB0cnVlKTtcblx0XHRcdFx0fSBlbHNlIGlmIChsYXN0VG9rZW5XaXRoU3BhY2UgIT0gLTEpIHsgLyogaXMgdGhlcmUgYSBwcmV2aW91cyB0b2tlbiB3aGVyZSBhIGJyZWFrIGNhbiBvY2N1cj8gKi9cblx0XHRcdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbbGFzdFRva2VuV2l0aFNwYWNlXTtcblx0XHRcdFx0XHR2YXIgYnJlYWtJbmRleCA9IHRva2VuLnZhbHVlLmxhc3RJbmRleE9mKFwiIFwiKTtcblx0XHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBsYXN0VG9rZW5XaXRoU3BhY2UsIGJyZWFrSW5kZXgsIHRydWUpO1xuXHRcdFx0XHRcdGkgPSBsYXN0VG9rZW5XaXRoU3BhY2U7XG5cdFx0XHRcdH0gZWxzZSB7IC8qIGZvcmNlIGJyZWFrIGluIHRoaXMgdG9rZW4gKi9cblx0XHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBtYXhXaWR0aC1saW5lTGVuZ3RoLCBmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHsgLyogbGluZSBub3QgbG9uZywgY29udGludWUgKi9cblx0XHRcdFx0bGluZUxlbmd0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdGlmICh0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiKSAhPSAtMSkgeyBsYXN0VG9rZW5XaXRoU3BhY2UgPSBpOyB9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGkrKzsgLyogYWR2YW5jZSB0byBuZXh0IHRva2VuICovXG5cdFx0fVxuXG5cblx0XHR0b2tlbnMucHVzaCh7dHlwZTogUk9ULlRleHQuVFlQRV9ORVdMSU5FfSk7IC8qIGluc2VydCBmYWtlIG5ld2xpbmUgdG8gZml4IHRoZSBsYXN0IHRleHQgbGluZSAqL1xuXG5cdFx0LyogcmVtb3ZlIHRyYWlsaW5nIHNwYWNlIGZyb20gdGV4dCB0b2tlbnMgYmVmb3JlIG5ld2xpbmVzICovXG5cdFx0dmFyIGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuXHRcdGZvciAodmFyIGk9MDtpPHRva2Vucy5sZW5ndGg7aSsrKSB7XG5cdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG5cdFx0XHRzd2l0Y2ggKHRva2VuLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX1RFWFQ6IGxhc3RUZXh0VG9rZW4gPSB0b2tlbjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9ORVdMSU5FOiBcblx0XHRcdFx0XHRpZiAobGFzdFRleHRUb2tlbikgeyAvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgKi9cblx0XHRcdFx0XHRcdHZhciBhcnIgPSBsYXN0VGV4dFRva2VuLnZhbHVlLnNwbGl0KFwiXCIpO1xuXHRcdFx0XHRcdFx0d2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGgtMV0gPT0gXCIgXCIpIHsgYXJyLnBvcCgpOyB9XG5cdFx0XHRcdFx0XHRsYXN0VGV4dFRva2VuLnZhbHVlID0gYXJyLmpvaW4oXCJcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0b2tlbnMucG9wKCk7IC8qIHJlbW92ZSBmYWtlIHRva2VuICovXG5cblx0XHRyZXR1cm4gdG9rZW5zO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgbmV3IHRva2VucyBhbmQgaW5zZXJ0IHRoZW0gaW50byB0aGUgc3RyZWFtXG5cdCAqIEBwYXJhbSB7b2JqZWN0W119IHRva2Vuc1xuXHQgKiBAcGFyYW0ge2ludH0gdG9rZW5JbmRleCBUb2tlbiBiZWluZyBwcm9jZXNzZWRcblx0ICogQHBhcmFtIHtpbnR9IGJyZWFrSW5kZXggSW5kZXggd2l0aGluIGN1cnJlbnQgdG9rZW4ncyB2YWx1ZVxuXHQgKiBAcGFyYW0ge2Jvb2x9IHJlbW92ZUJyZWFrQ2hhciBEbyB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgYnJlYWtpbmcgY2hhcmFjdGVyP1xuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSByZW1haW5pbmcgdW5icm9rZW4gdG9rZW4gdmFsdWVcblx0ICovXG5cdF9icmVha0luc2lkZVRva2VuOiBmdW5jdGlvbih0b2tlbnMsIHRva2VuSW5kZXgsIGJyZWFrSW5kZXgsIHJlbW92ZUJyZWFrQ2hhcikge1xuXHRcdHZhciBuZXdCcmVha1Rva2VuID0ge1xuXHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9ORVdMSU5FXG5cdFx0fVxuXHRcdHZhciBuZXdUZXh0VG9rZW4gPSB7XG5cdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX1RFWFQsXG5cdFx0XHR2YWx1ZTogdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZyhicmVha0luZGV4ICsgKHJlbW92ZUJyZWFrQ2hhciA/IDEgOiAwKSlcblx0XHR9XG5cdFx0dG9rZW5zLnNwbGljZSh0b2tlbkluZGV4KzEsIDAsIG5ld0JyZWFrVG9rZW4sIG5ld1RleHRUb2tlbik7XG5cdFx0cmV0dXJuIHRva2Vuc1t0b2tlbkluZGV4XS52YWx1ZS5zdWJzdHJpbmcoMCwgYnJlYWtJbmRleCk7XG5cdH1cbn1cbi8qKlxuICogQHJldHVybnMge2FueX0gUmFuZG9tbHkgcGlja2VkIGl0ZW0sIG51bGwgd2hlbiBsZW5ndGg9MFxuICovXG5BcnJheS5wcm90b3R5cGUucmFuZG9tID0gQXJyYXkucHJvdG90eXBlLnJhbmRvbSB8fCBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHRyZXR1cm4gdGhpc1tNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogdGhpcy5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IE5ldyBhcnJheSB3aXRoIHJhbmRvbWl6ZWQgaXRlbXNcbiAqIEZJWE1FIGRlc3Ryb3lzIHRoaXMhXG4gKi9cbkFycmF5LnByb3RvdHlwZS5yYW5kb21pemUgPSBBcnJheS5wcm90b3R5cGUucmFuZG9taXplIHx8IGZ1bmN0aW9uKCkge1xuXHR2YXIgcmVzdWx0ID0gW107XG5cdHdoaWxlICh0aGlzLmxlbmd0aCkge1xuXHRcdHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZih0aGlzLnJhbmRvbSgpKTtcblx0XHRyZXN1bHQucHVzaCh0aGlzLnNwbGljZShpbmRleCwgMSlbMF0pO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEFsd2F5cyBwb3NpdGl2ZSBtb2R1bHVzXG4gKiBAcGFyYW0ge2ludH0gbiBNb2R1bHVzXG4gKiBAcmV0dXJucyB7aW50fSB0aGlzIG1vZHVsbyBuXG4gKi9cbk51bWJlci5wcm90b3R5cGUubW9kID0gTnVtYmVyLnByb3RvdHlwZS5tb2QgfHwgZnVuY3Rpb24obikge1xuXHRyZXR1cm4gKCh0aGlzJW4pK24pJW47XG59XG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZpcnN0IGxldHRlciBjYXBpdGFsaXplZFxuICovXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgPSBTdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgfHwgZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKiBcbiAqIExlZnQgcGFkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJhY3Rlcj1cIjBcIl1cbiAqIEBwYXJhbSB7aW50fSBbY291bnQ9Ml1cbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5scGFkID0gU3RyaW5nLnByb3RvdHlwZS5scGFkIHx8IGZ1bmN0aW9uKGNoYXJhY3RlciwgY291bnQpIHtcblx0dmFyIGNoID0gY2hhcmFjdGVyIHx8IFwiMFwiO1xuXHR2YXIgY250ID0gY291bnQgfHwgMjtcblxuXHR2YXIgcyA9IFwiXCI7XG5cdHdoaWxlIChzLmxlbmd0aCA8IChjbnQgLSB0aGlzLmxlbmd0aCkpIHsgcyArPSBjaDsgfVxuXHRzID0gcy5zdWJzdHJpbmcoMCwgY250LXRoaXMubGVuZ3RoKTtcblx0cmV0dXJuIHMrdGhpcztcbn1cblxuLyoqIFxuICogUmlnaHQgcGFkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJhY3Rlcj1cIjBcIl1cbiAqIEBwYXJhbSB7aW50fSBbY291bnQ9Ml1cbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5ycGFkID0gU3RyaW5nLnByb3RvdHlwZS5ycGFkIHx8IGZ1bmN0aW9uKGNoYXJhY3RlciwgY291bnQpIHtcblx0dmFyIGNoID0gY2hhcmFjdGVyIHx8IFwiMFwiO1xuXHR2YXIgY250ID0gY291bnQgfHwgMjtcblxuXHR2YXIgcyA9IFwiXCI7XG5cdHdoaWxlIChzLmxlbmd0aCA8IChjbnQgLSB0aGlzLmxlbmd0aCkpIHsgcyArPSBjaDsgfVxuXHRzID0gcy5zdWJzdHJpbmcoMCwgY250LXRoaXMubGVuZ3RoKTtcblx0cmV0dXJuIHRoaXMrcztcbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBzdHJpbmcgaW4gYSBmbGV4aWJsZSB3YXkuIFNjYW5zIGZvciAlcyBzdHJpbmdzIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggYXJndW1lbnRzLiBMaXN0IG9mIHBhdHRlcm5zIGlzIG1vZGlmaWFibGUgdmlhIFN0cmluZy5mb3JtYXQubWFwLlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlXG4gKiBAcGFyYW0ge2FueX0gW2FyZ3ZdXG4gKi9cblN0cmluZy5mb3JtYXQgPSBTdHJpbmcuZm9ybWF0IHx8IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG5cdHZhciBtYXAgPSBTdHJpbmcuZm9ybWF0Lm1hcDtcblx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG5cdHZhciByZXBsYWNlciA9IGZ1bmN0aW9uKG1hdGNoLCBncm91cDEsIGdyb3VwMiwgaW5kZXgpIHtcblx0XHRpZiAodGVtcGxhdGUuY2hhckF0KGluZGV4LTEpID09IFwiJVwiKSB7IHJldHVybiBtYXRjaC5zdWJzdHJpbmcoMSk7IH1cblx0XHRpZiAoIWFyZ3MubGVuZ3RoKSB7IHJldHVybiBtYXRjaDsgfVxuXHRcdHZhciBvYmogPSBhcmdzWzBdO1xuXG5cdFx0dmFyIGdyb3VwID0gZ3JvdXAxIHx8IGdyb3VwMjtcblx0XHR2YXIgcGFydHMgPSBncm91cC5zcGxpdChcIixcIik7XG5cdFx0dmFyIG5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdHZhciBtZXRob2QgPSBtYXBbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblx0XHRpZiAoIW1ldGhvZCkgeyByZXR1cm4gbWF0Y2g7IH1cblxuXHRcdHZhciBvYmogPSBhcmdzLnNoaWZ0KCk7XG5cdFx0dmFyIHJlcGxhY2VkID0gb2JqW21ldGhvZF0uYXBwbHkob2JqLCBwYXJ0cyk7XG5cblx0XHR2YXIgZmlyc3QgPSBuYW1lLmNoYXJBdCgwKTtcblx0XHRpZiAoZmlyc3QgIT0gZmlyc3QudG9Mb3dlckNhc2UoKSkgeyByZXBsYWNlZCA9IHJlcGxhY2VkLmNhcGl0YWxpemUoKTsgfVxuXG5cdFx0cmV0dXJuIHJlcGxhY2VkO1xuXHR9XG5cdHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KFthLXpdKyl8KD86eyhbXn1dKyl9KSkvZ2ksIHJlcGxhY2VyKTtcbn1cblxuU3RyaW5nLmZvcm1hdC5tYXAgPSBTdHJpbmcuZm9ybWF0Lm1hcCB8fCB7XG5cdFwic1wiOiBcInRvU3RyaW5nXCJcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBzaG9ydGN1dCB0byBTdHJpbmcuZm9ybWF0KHRoaXMpXG4gKi9cblN0cmluZy5wcm90b3R5cGUuZm9ybWF0ID0gU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQgfHwgZnVuY3Rpb24oKSB7XG5cdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0YXJncy51bnNoaWZ0KHRoaXMpO1xuXHRyZXR1cm4gU3RyaW5nLmZvcm1hdC5hcHBseShTdHJpbmcsIGFyZ3MpO1xufVxuXG5pZiAoIU9iamVjdC5jcmVhdGUpIHsgIFxuXHQvKipcblx0ICogRVM1IE9iamVjdC5jcmVhdGVcblx0ICovXG5cdE9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbihvKSB7ICBcblx0XHR2YXIgdG1wID0gZnVuY3Rpb24oKSB7fTtcblx0XHR0bXAucHJvdG90eXBlID0gbztcblx0XHRyZXR1cm4gbmV3IHRtcCgpO1xuXHR9OyAgXG59ICBcbi8qKlxuICogU2V0cyBwcm90b3R5cGUgb2YgdGhpcyBmdW5jdGlvbiB0byBhbiBpbnN0YW5jZSBvZiBwYXJlbnQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmVudFxuICovXG5GdW5jdGlvbi5wcm90b3R5cGUuZXh0ZW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmV4dGVuZCB8fCBmdW5jdGlvbihwYXJlbnQpIHtcblx0dGhpcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpO1xuXHR0aGlzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHRoaXM7XG5cdHJldHVybiB0aGlzO1xufVxuaWYgKHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIikge1xuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID1cblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IGZ1bmN0aW9uKGNiKSB7IHJldHVybiBzZXRUaW1lb3V0KGNiLCAxMDAwLzYwKTsgfTtcblxuXHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPVxuXHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IGZ1bmN0aW9uKGlkKSB7IHJldHVybiBjbGVhclRpbWVvdXQoaWQpOyB9O1xufVxuLyoqXG4gKiBAY2xhc3MgVmlzdWFsIG1hcCBkaXNwbGF5XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMud2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMuaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5mb250U2l6ZT0xNV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb250RmFtaWx5PVwibW9ub3NwYWNlXCJdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZm9udFN0eWxlPVwiXCJdIGJvbGQvaXRhbGljL25vbmUvYm90aFxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZnPVwiI2NjY1wiXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJnPVwiIzAwMFwiXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMuc3BhY2luZz0xXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMuYm9yZGVyPTBdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGF5b3V0PVwicmVjdFwiXVxuICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy5mb3JjZVNxdWFyZVJhdGlvPWZhbHNlXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRpbGVXaWR0aD0zMl1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50aWxlSGVpZ2h0PTMyXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnRpbGVNYXA9e31dXG4gKiBAcGFyYW0ge2ltYWdlfSBbb3B0aW9ucy50aWxlU2V0PW51bGxdXG4gKiBAcGFyYW0ge2ltYWdlfSBbb3B0aW9ucy50aWxlQ29sb3JpemU9ZmFsc2VdXG4gKi9cblJPVC5EaXNwbGF5ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0dGhpcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fZGlydHkgPSBmYWxzZTsgLyogZmFsc2UgPSBub3RoaW5nLCB0cnVlID0gYWxsLCBvYmplY3QgPSBkaXJ0eSBjZWxscyAqL1xuXHR0aGlzLl9vcHRpb25zID0ge307XG5cdHRoaXMuX2JhY2tlbmQgPSBudWxsO1xuXHRcblx0dmFyIGRlZmF1bHRPcHRpb25zID0ge1xuXHRcdHdpZHRoOiBST1QuREVGQVVMVF9XSURUSCxcblx0XHRoZWlnaHQ6IFJPVC5ERUZBVUxUX0hFSUdIVCxcblx0XHR0cmFuc3Bvc2U6IGZhbHNlLFxuXHRcdGxheW91dDogXCJyZWN0XCIsXG5cdFx0Zm9udFNpemU6IDE1LFxuXHRcdHNwYWNpbmc6IDEsXG5cdFx0Ym9yZGVyOiAwLFxuXHRcdGZvcmNlU3F1YXJlUmF0aW86IGZhbHNlLFxuXHRcdGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG5cdFx0Zm9udFN0eWxlOiBcIlwiLFxuXHRcdGZnOiBcIiNjY2NcIixcblx0XHRiZzogXCIjMDAwXCIsXG5cdFx0dGlsZVdpZHRoOiAzMixcblx0XHR0aWxlSGVpZ2h0OiAzMixcblx0XHR0aWxlTWFwOiB7fSxcblx0XHR0aWxlU2V0OiBudWxsLFxuXHRcdHRpbGVDb2xvcml6ZTogZmFsc2UsXG5cdFx0dGVybUNvbG9yOiBcInh0ZXJtXCJcblx0fTtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IGRlZmF1bHRPcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHR0aGlzLnNldE9wdGlvbnMoZGVmYXVsdE9wdGlvbnMpO1xuXHR0aGlzLkRFQlVHID0gdGhpcy5ERUJVRy5iaW5kKHRoaXMpO1xuXG5cdHRoaXMuX3RpY2sgPSB0aGlzLl90aWNrLmJpbmQodGhpcyk7XG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbn1cblxuLyoqXG4gKiBEZWJ1ZyBoZWxwZXIsIGlkZWFsIGFzIGEgbWFwIGdlbmVyYXRvciBjYWxsYmFjay4gQWx3YXlzIGJvdW5kIHRvIHRoaXMuXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSB3aGF0XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5ERUJVRyA9IGZ1bmN0aW9uKHgsIHksIHdoYXQpIHtcblx0dmFyIGNvbG9ycyA9IFt0aGlzLl9vcHRpb25zLmJnLCB0aGlzLl9vcHRpb25zLmZnXTtcblx0dGhpcy5kcmF3KHgsIHksIG51bGwsIG51bGwsIGNvbG9yc1t3aGF0ICUgY29sb3JzLmxlbmd0aF0pO1xufVxuXG4vKipcbiAqIENsZWFyIHRoZSB3aG9sZSBkaXNwbGF5IChjb3ZlciBpdCB3aXRoIGJhY2tncm91bmQgY29sb3IpXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kYXRhID0ge307XG5cdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5EaXNwbGF5XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0aWYgKG9wdGlvbnMud2lkdGggfHwgb3B0aW9ucy5oZWlnaHQgfHwgb3B0aW9ucy5mb250U2l6ZSB8fCBvcHRpb25zLmZvbnRGYW1pbHkgfHwgb3B0aW9ucy5zcGFjaW5nIHx8IG9wdGlvbnMubGF5b3V0KSB7XG5cdFx0aWYgKG9wdGlvbnMubGF5b3V0KSB7IFxuXHRcdFx0dGhpcy5fYmFja2VuZCA9IG5ldyBST1QuRGlzcGxheVtvcHRpb25zLmxheW91dC5jYXBpdGFsaXplKCldKHRoaXMuX2NvbnRleHQpO1xuXHRcdH1cblxuXHRcdHZhciBmb250ID0gKHRoaXMuX29wdGlvbnMuZm9udFN0eWxlID8gdGhpcy5fb3B0aW9ucy5mb250U3R5bGUgKyBcIiBcIiA6IFwiXCIpICsgdGhpcy5fb3B0aW9ucy5mb250U2l6ZSArIFwicHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG5cdFx0dGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcblx0XHR0aGlzLl9iYWNrZW5kLmNvbXB1dGUodGhpcy5fb3B0aW9ucyk7XG5cdFx0dGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcblx0XHR0aGlzLl9jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cdFx0dGhpcy5fY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuXHRcdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGN1cnJlbnRseSBzZXQgb3B0aW9uc1xuICogQHJldHVybnMge29iamVjdH0gQ3VycmVudCBvcHRpb25zIG9iamVjdCBcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX29wdGlvbnM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgRE9NIG5vZGUgb2YgdGhpcyBkaXNwbGF5XG4gKiBAcmV0dXJucyB7bm9kZX0gRE9NIG5vZGVcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fY29udGV4dC5jYW52YXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbWF4aW11bSB3aWR0aC9oZWlnaHQgdG8gZml0IGludG8gYSBzZXQgb2YgZ2l2ZW4gY29uc3RyYWludHNcbiAqIEBwYXJhbSB7aW50fSBhdmFpbFdpZHRoIE1heGltdW0gYWxsb3dlZCBwaXhlbCB3aWR0aFxuICogQHBhcmFtIHtpbnR9IGF2YWlsSGVpZ2h0IE1heGltdW0gYWxsb3dlZCBwaXhlbCBoZWlnaHRcbiAqIEByZXR1cm5zIHtpbnRbMl19IGNlbGxXaWR0aCxjZWxsSGVpZ2h0XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBtYXhpbXVtIGZvbnQgc2l6ZSB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICogQHBhcmFtIHtpbnR9IGF2YWlsV2lkdGggTWF4aW11bSBhbGxvd2VkIHBpeGVsIHdpZHRoXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxIZWlnaHQgTWF4aW11bSBhbGxvd2VkIHBpeGVsIGhlaWdodFxuICogQHJldHVybnMge2ludH0gZm9udFNpemVcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmNvbXB1dGVGb250U2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCwgdGhpcy5fb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ29udmVydCBhIERPTSBldmVudCAobW91c2Ugb3IgdG91Y2gpIHRvIG1hcCBjb29yZGluYXRlcy4gVXNlcyBmaXJzdCB0b3VjaCBmb3IgbXVsdGktdG91Y2guXG4gKiBAcGFyYW0ge0V2ZW50fSBlIGV2ZW50XG4gKiBAcmV0dXJucyB7aW50WzJdfSAtMSBmb3IgdmFsdWVzIG91dHNpZGUgb2YgdGhlIGNhbnZhc1xuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oZSkge1xuXHRpZiAoZS50b3VjaGVzKSB7XG5cdFx0dmFyIHggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcblx0XHR2YXIgeSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuXHR9IGVsc2Uge1xuXHRcdHZhciB4ID0gZS5jbGllbnRYO1xuXHRcdHZhciB5ID0gZS5jbGllbnRZO1xuXHR9XG5cblx0dmFyIHJlY3QgPSB0aGlzLl9jb250ZXh0LmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0eCAtPSByZWN0LmxlZnQ7XG5cdHkgLT0gcmVjdC50b3A7XG5cdFxuXHRpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCB8fCB5ID49IHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCkgeyByZXR1cm4gWy0xLCAtMV07IH1cblxuXHRyZXR1cm4gdGhpcy5fYmFja2VuZC5ldmVudFRvUG9zaXRpb24oeCwgeSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge3N0cmluZyB8fCBzdHJpbmdbXX0gY2ggT25lIG9yIG1vcmUgY2hhcnMgKHdpbGwgYmUgb3ZlcmxhcHBpbmcgdGhlbXNlbHZlcylcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZmddIGZvcmVncm91bmQgY29sb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmddIGJhY2tncm91bmQgY29sb3JcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbih4LCB5LCBjaCwgZmcsIGJnKSB7XG5cdGlmICghZmcpIHsgZmcgPSB0aGlzLl9vcHRpb25zLmZnOyB9XG5cdGlmICghYmcpIHsgYmcgPSB0aGlzLl9vcHRpb25zLmJnOyB9XG5cdHRoaXMuX2RhdGFbeCtcIixcIit5XSA9IFt4LCB5LCBjaCwgZmcsIGJnXTtcblx0XG5cdGlmICh0aGlzLl9kaXJ0eSA9PT0gdHJ1ZSkgeyByZXR1cm47IH0gLyogd2lsbCBhbHJlYWR5IHJlZHJhdyBldmVyeXRoaW5nICovXG5cdGlmICghdGhpcy5fZGlydHkpIHsgdGhpcy5fZGlydHkgPSB7fTsgfSAvKiBmaXJzdCEgKi9cblx0dGhpcy5fZGlydHlbeCtcIixcIit5XSA9IHRydWU7XG59XG5cbi8qKlxuICogRHJhd3MgYSB0ZXh0IGF0IGdpdmVuIHBvc2l0aW9uLiBPcHRpb25hbGx5IHdyYXBzIGF0IGEgbWF4aW11bSBsZW5ndGguIEN1cnJlbnRseSBkb2VzIG5vdCB3b3JrIHdpdGggaGV4IGxheW91dC5cbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgTWF5IGNvbnRhaW4gY29sb3IvYmFja2dyb3VuZCBmb3JtYXQgc3BlY2lmaWVycywgJWN7bmFtZX0vJWJ7bmFtZX0sIGJvdGggb3B0aW9uYWwuICVje30vJWJ7fSByZXNldHMgdG8gZGVmYXVsdC5cbiAqIEBwYXJhbSB7aW50fSBbbWF4V2lkdGhdIHdyYXAgYXQgd2hhdCB3aWR0aD9cbiAqIEByZXR1cm5zIHtpbnR9IGxpbmVzIGRyYXduXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5kcmF3VGV4dCA9IGZ1bmN0aW9uKHgsIHksIHRleHQsIG1heFdpZHRoKSB7XG5cdHZhciBmZyA9IG51bGw7XG5cdHZhciBiZyA9IG51bGw7XG5cdHZhciBjeCA9IHg7XG5cdHZhciBjeSA9IHk7XG5cdHZhciBsaW5lcyA9IDE7XG5cdGlmICghbWF4V2lkdGgpIHsgbWF4V2lkdGggPSB0aGlzLl9vcHRpb25zLndpZHRoLXg7IH1cblxuXHR2YXIgdG9rZW5zID0gUk9ULlRleHQudG9rZW5pemUodGV4dCwgbWF4V2lkdGgpO1xuXG5cdHdoaWxlICh0b2tlbnMubGVuZ3RoKSB7IC8qIGludGVycHJldCB0b2tlbml6ZWQgb3Bjb2RlIHN0cmVhbSAqL1xuXHRcdHZhciB0b2tlbiA9IHRva2Vucy5zaGlmdCgpO1xuXHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX1RFWFQ6XG5cdFx0XHRcdHZhciBpc1NwYWNlID0gZmFsc2UsIGlzUHJldlNwYWNlID0gZmFsc2UsIGlzRnVsbFdpZHRoID0gZmFsc2UsIGlzUHJldkZ1bGxXaWR0aCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7aTx0b2tlbi52YWx1ZS5sZW5ndGg7aSsrKSB7XG5cdFx0XHRcdFx0dmFyIGNjID0gdG9rZW4udmFsdWUuY2hhckNvZGVBdChpKTtcblx0XHRcdFx0XHR2YXIgYyA9IHRva2VuLnZhbHVlLmNoYXJBdChpKTtcblx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gYHRydWVgIHdoZW4gdGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoLlxuXHRcdFx0XHRcdGlzRnVsbFdpZHRoID0gKGNjID4gMHhmZiAmJiBjYyA8IDB4ZmY2MSkgfHwgKGNjID4gMHhmZmRjICYmIGNjIDwgMHhmZmU4KSAmJiBjYyA+IDB4ZmZlZTtcblx0XHRcdFx0XHQvLyBDdXJyZW50IGNoYXIgaXMgc3BhY2UsIHdoYXRldmVyIGZ1bGwtd2lkdGggb3IgaGFsZi13aWR0aCBib3RoIGFyZSBPSy5cblx0XHRcdFx0XHRpc1NwYWNlID0gKGMuY2hhckNvZGVBdCgwKSA9PSAweDIwIHx8IGMuY2hhckNvZGVBdCgwKSA9PSAweDMwMDApO1xuXHRcdFx0XHRcdC8vIFRoZSBwcmV2aW91cyBjaGFyIGlzIGZ1bGwtd2lkdGggYW5kXG5cdFx0XHRcdFx0Ly8gY3VycmVudCBjaGFyIGlzIG5ldGhlciBoYWxmLXdpZHRoIG5vciBhIHNwYWNlLlxuXHRcdFx0XHRcdGlmIChpc1ByZXZGdWxsV2lkdGggJiYgIWlzRnVsbFdpZHRoICYmICFpc1NwYWNlKSB7IGN4Kys7IH0gLy8gYWRkIGFuIGV4dHJhIHBvc2l0aW9uXG5cdFx0XHRcdFx0Ly8gVGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoIGFuZFxuXHRcdFx0XHRcdC8vIHRoZSBwcmV2aW91cyBjaGFyIGlzIG5vdCBhIHNwYWNlLlxuXHRcdFx0XHRcdGlmKGlzRnVsbFdpZHRoICYmICFpc1ByZXZTcGFjZSkgeyBjeCsrOyB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuXHRcdFx0XHRcdHRoaXMuZHJhdyhjeCsrLCBjeSwgYywgZmcsIGJnKTtcblx0XHRcdFx0XHRpc1ByZXZTcGFjZSA9IGlzU3BhY2U7XG5cdFx0XHRcdFx0aXNQcmV2RnVsbFdpZHRoID0gaXNGdWxsV2lkdGg7XG5cdFx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfRkc6XG5cdFx0XHRcdGZnID0gdG9rZW4udmFsdWUgfHwgbnVsbDtcblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfQkc6XG5cdFx0XHRcdGJnID0gdG9rZW4udmFsdWUgfHwgbnVsbDtcblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfTkVXTElORTpcblx0XHRcdFx0Y3ggPSB4O1xuXHRcdFx0XHRjeSsrO1xuXHRcdFx0XHRsaW5lcysrXG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbGluZXM7XG59XG5cbi8qKlxuICogVGltZXIgdGljazogdXBkYXRlIGRpcnR5IHBhcnRzXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5fdGljayA9IGZ1bmN0aW9uKCkge1xuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG5cblx0aWYgKCF0aGlzLl9kaXJ0eSkgeyByZXR1cm47IH1cblxuXHRpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHsgLyogZHJhdyBhbGwgKi9cblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX29wdGlvbnMuYmc7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcblxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2RhdGEpIHsgLyogcmVkcmF3IGNhY2hlZCBkYXRhICovXG5cdFx0XHR0aGlzLl9kcmF3KGlkLCBmYWxzZSk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7IC8qIGRyYXcgb25seSBkaXJ0eSAqL1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9kaXJ0eSkge1xuXHRcdFx0dGhpcy5fZHJhdyhrZXksIHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdHRoaXMuX2RpcnR5ID0gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBXaGF0IHRvIGRyYXdcbiAqIEBwYXJhbSB7Ym9vbH0gY2xlYXJCZWZvcmUgSXMgaXQgbmVjZXNzYXJ5IHRvIGNsZWFuIGJlZm9yZT9cbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24oa2V5LCBjbGVhckJlZm9yZSkge1xuXHR2YXIgZGF0YSA9IHRoaXMuX2RhdGFba2V5XTtcblx0aWYgKGRhdGFbNF0gIT0gdGhpcy5fb3B0aW9ucy5iZykgeyBjbGVhckJlZm9yZSA9IHRydWU7IH1cblxuXHR0aGlzLl9iYWNrZW5kLmRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgZGlzcGxheSBiYWNrZW5kIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuQmFja2VuZCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xufVxuXG5ST1QuRGlzcGxheS5CYWNrZW5kLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbn1cbi8qKlxuICogQGNsYXNzIFJlY3Rhbmd1bGFyIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlJlY3QgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblx0XG5cdHRoaXMuX3NwYWNpbmdYID0gMDtcblx0dGhpcy5fc3BhY2luZ1kgPSAwO1xuXHR0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuXHR0aGlzLl9vcHRpb25zID0ge307XG59XG5ST1QuRGlzcGxheS5SZWN0LmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuUmVjdC5jYWNoZSA9IGZhbHNlO1xuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuXHR2YXIgY2hhcldpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fc3BhY2luZ1ggPSBNYXRoLmNlaWwob3B0aW9ucy5zcGFjaW5nICogY2hhcldpZHRoKTtcblx0dGhpcy5fc3BhY2luZ1kgPSBNYXRoLmNlaWwob3B0aW9ucy5zcGFjaW5nICogb3B0aW9ucy5mb250U2l6ZSk7XG5cblx0aWYgKHRoaXMuX29wdGlvbnMuZm9yY2VTcXVhcmVSYXRpbykge1xuXHRcdHRoaXMuX3NwYWNpbmdYID0gdGhpcy5fc3BhY2luZ1kgPSBNYXRoLm1heCh0aGlzLl9zcGFjaW5nWCwgdGhpcy5fc3BhY2luZ1kpO1xuXHR9XG5cblx0dGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggPSBvcHRpb25zLndpZHRoICogdGhpcy5fc3BhY2luZ1g7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogdGhpcy5fc3BhY2luZ1k7XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHRpZiAodGhpcy5jb25zdHJ1Y3Rvci5jYWNoZSkge1xuXHRcdHRoaXMuX2RyYXdXaXRoQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuX2RyYXdOb0NhY2hlKGRhdGEsIGNsZWFyQmVmb3JlKTtcblx0fVxufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5fZHJhd1dpdGhDYWNoZSA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdHZhciBoYXNoID0gXCJcIitjaCtmZytiZztcblx0aWYgKGhhc2ggaW4gdGhpcy5fY2FudmFzQ2FjaGUpIHtcblx0XHR2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzQ2FjaGVbaGFzaF07XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcblx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0XHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRjYW52YXMud2lkdGggPSB0aGlzLl9zcGFjaW5nWDtcblx0XHRjYW52YXMuaGVpZ2h0ID0gdGhpcy5fc3BhY2luZ1k7XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IGJnO1xuXHRcdGN0eC5maWxsUmVjdChiLCBiLCBjYW52YXMud2lkdGgtYiwgY2FudmFzLmhlaWdodC1iKTtcblx0XHRcblx0XHRpZiAoY2gpIHtcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBmZztcblx0XHRcdGN0eC5mb250ID0gdGhpcy5fY29udGV4dC5mb250O1xuXHRcdFx0Y3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cdFx0XHRjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcblxuXHRcdFx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0XHRcdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHRcdFx0Y3R4LmZpbGxUZXh0KGNoYXJzW2ldLCB0aGlzLl9zcGFjaW5nWC8yLCBNYXRoLmNlaWwodGhpcy5fc3BhY2luZ1kvMikpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9jYW52YXNDYWNoZVtoYXNoXSA9IGNhbnZhcztcblx0fVxuXHRcblx0dGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzLCB4KnRoaXMuX3NwYWNpbmdYLCB5KnRoaXMuX3NwYWNpbmdZKTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuX2RyYXdOb0NhY2hlID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0aWYgKGNsZWFyQmVmb3JlKSB7IFxuXHRcdHZhciBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KHgqdGhpcy5fc3BhY2luZ1ggKyBiLCB5KnRoaXMuX3NwYWNpbmdZICsgYiwgdGhpcy5fc3BhY2luZ1ggLSBiLCB0aGlzLl9zcGFjaW5nWSAtIGIpO1xuXHR9XG5cdFxuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFRleHQoY2hhcnNbaV0sICh4KzAuNSkgKiB0aGlzLl9zcGFjaW5nWCwgTWF0aC5jZWlsKCh5KzAuNSkgKiB0aGlzLl9zcGFjaW5nWSkpO1xuXHR9XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fc3BhY2luZ1gpO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX3NwYWNpbmdZKTtcblx0cmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIGJveFdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy53aWR0aCk7XG5cdHZhciBib3hIZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQpO1xuXG5cdC8qIGNvbXB1dGUgY2hhciByYXRpbyAqL1xuXHR2YXIgb2xkRm9udCA9IHRoaXMuX2NvbnRleHQuZm9udDtcblx0dGhpcy5fY29udGV4dC5mb250ID0gXCIxMDBweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcblx0dmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fY29udGV4dC5mb250ID0gb2xkRm9udDtcblx0dmFyIHJhdGlvID0gd2lkdGggLyAxMDA7XG5cdFx0XG5cdHZhciB3aWR0aEZyYWN0aW9uID0gcmF0aW8gKiBib3hIZWlnaHQgLyBib3hXaWR0aDtcblx0aWYgKHdpZHRoRnJhY3Rpb24gPiAxKSB7IC8qIHRvbyB3aWRlIHdpdGggY3VycmVudCBhc3BlY3QgcmF0aW8gKi9cblx0XHRib3hIZWlnaHQgPSBNYXRoLmZsb29yKGJveEhlaWdodCAvIHdpZHRoRnJhY3Rpb24pO1xuXHR9XG5cdHJldHVybiBNYXRoLmZsb29yKGJveEhlaWdodCAvIHRoaXMuX29wdGlvbnMuc3BhY2luZyk7XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFtNYXRoLmZsb29yKHgvdGhpcy5fc3BhY2luZ1gpLCBNYXRoLmZsb29yKHkvdGhpcy5fc3BhY2luZ1kpXTtcbn1cbi8qKlxuICogQGNsYXNzIEhleGFnb25hbCBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5IZXggPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblxuXHR0aGlzLl9zcGFjaW5nWCA9IDA7XG5cdHRoaXMuX3NwYWNpbmdZID0gMDtcblx0dGhpcy5faGV4U2l6ZSA9IDA7XG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcbn1cblJPVC5EaXNwbGF5LkhleC5leHRlbmQoUk9ULkRpc3BsYXkuQmFja2VuZCk7XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cblx0LyogRklYTUUgY2hhciBzaXplIGNvbXB1dGF0aW9uIGRvZXMgbm90IHJlc3BlY3QgdHJhbnNwb3NlZCBoZXhlcyAqL1xuXHR2YXIgY2hhcldpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5faGV4U2l6ZSA9IE1hdGguZmxvb3Iob3B0aW9ucy5zcGFjaW5nICogKG9wdGlvbnMuZm9udFNpemUgKyBjaGFyV2lkdGgvTWF0aC5zcXJ0KDMpKSAvIDIpO1xuXHR0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX2hleFNpemUgKiBNYXRoLnNxcnQoMykgLyAyO1xuXHR0aGlzLl9zcGFjaW5nWSA9IHRoaXMuX2hleFNpemUgKiAxLjU7XG5cblx0aWYgKG9wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0dmFyIHhwcm9wID0gXCJoZWlnaHRcIjtcblx0XHR2YXIgeXByb3AgPSBcIndpZHRoXCI7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHhwcm9wID0gXCJ3aWR0aFwiO1xuXHRcdHZhciB5cHJvcCA9IFwiaGVpZ2h0XCI7XG5cdH1cblx0dGhpcy5fY29udGV4dC5jYW52YXNbeHByb3BdID0gTWF0aC5jZWlsKCAob3B0aW9ucy53aWR0aCArIDEpICogdGhpcy5fc3BhY2luZ1ggKTtcblx0dGhpcy5fY29udGV4dC5jYW52YXNbeXByb3BdID0gTWF0aC5jZWlsKCAob3B0aW9ucy5oZWlnaHQgLSAxKSAqIHRoaXMuX3NwYWNpbmdZICsgMip0aGlzLl9oZXhTaXplICk7XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdHZhciBweCA9IFtcblx0XHQoeCsxKSAqIHRoaXMuX3NwYWNpbmdYLFxuXHRcdHkgKiB0aGlzLl9zcGFjaW5nWSArIHRoaXMuX2hleFNpemVcblx0XTtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7IHB4LnJldmVyc2UoKTsgfVxuXG5cdGlmIChjbGVhckJlZm9yZSkgeyBcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdHRoaXMuX2ZpbGwocHhbMF0sIHB4WzFdKTtcblx0fVxuXHRcblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxUZXh0KGNoYXJzW2ldLCBweFswXSwgTWF0aC5jZWlsKHB4WzFdKSk7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdGF2YWlsV2lkdGggKz0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcblx0fVxuXG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX3NwYWNpbmdYKSAtIDE7XG5cdHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKChhdmFpbEhlaWdodCAtIDIqdGhpcy5faGV4U2l6ZSkgLyB0aGlzLl9zcGFjaW5nWSArIDEpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdGF2YWlsV2lkdGggKz0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcblx0fVxuXG5cdHZhciBoZXhTaXplV2lkdGggPSAyKmF2YWlsV2lkdGggLyAoKHRoaXMuX29wdGlvbnMud2lkdGgrMSkgKiBNYXRoLnNxcnQoMykpIC0gMTtcblx0dmFyIGhleFNpemVIZWlnaHQgPSBhdmFpbEhlaWdodCAvICgyICsgMS41Kih0aGlzLl9vcHRpb25zLmhlaWdodC0xKSk7XG5cdHZhciBoZXhTaXplID0gTWF0aC5taW4oaGV4U2l6ZVdpZHRoLCBoZXhTaXplSGVpZ2h0KTtcblxuXHQvKiBjb21wdXRlIGNoYXIgcmF0aW8gKi9cblx0dmFyIG9sZEZvbnQgPSB0aGlzLl9jb250ZXh0LmZvbnQ7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IFwiMTAwcHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG5cdHZhciB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jb250ZXh0Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IG9sZEZvbnQ7XG5cdHZhciByYXRpbyA9IHdpZHRoIC8gMTAwO1xuXG5cdGhleFNpemUgPSBNYXRoLmZsb29yKGhleFNpemUpKzE7IC8qIGNsb3Nlc3QgbGFyZ2VyIGhleFNpemUgKi9cblxuXHQvKiBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzICovXG5cdHZhciBmb250U2l6ZSA9IDIqaGV4U2l6ZSAvICh0aGlzLl9vcHRpb25zLnNwYWNpbmcgKiAoMSArIHJhdGlvIC8gTWF0aC5zcXJ0KDMpKSk7XG5cblx0LyogY2xvc2VzdCBzbWFsbGVyIGZvbnRTaXplICovXG5cdHJldHVybiBNYXRoLmNlaWwoZm9udFNpemUpLTE7XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHR4ICs9IHk7XG5cdFx0eSA9IHgteTtcblx0XHR4IC09IHk7XG5cdFx0dmFyIHByb3AgPSBcIndpZHRoXCI7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHByb3AgPSBcImhlaWdodFwiO1xuXHR9XG5cdHZhciBzaXplID0gdGhpcy5fY29udGV4dC5jYW52YXNbcHJvcF0gLyB0aGlzLl9vcHRpb25zW3Byb3BdO1xuXHR5ID0gTWF0aC5mbG9vcih5L3NpemUpO1xuXG5cdGlmICh5Lm1vZCgyKSkgeyAvKiBvZGQgcm93ICovXG5cdFx0eCAtPSB0aGlzLl9zcGFjaW5nWDtcblx0XHR4ID0gMSArIDIqTWF0aC5mbG9vcih4LygyKnRoaXMuX3NwYWNpbmdYKSk7XG5cdH0gZWxzZSB7XG5cdFx0eCA9IDIqTWF0aC5mbG9vcih4LygyKnRoaXMuX3NwYWNpbmdYKSk7XG5cdH1cblx0XG5cdHJldHVybiBbeCwgeV07XG59XG5cbi8qKlxuICogQXJndW1lbnRzIGFyZSBwaXhlbCB2YWx1ZXMuIElmIFwidHJhbnNwb3NlZFwiIG1vZGUgaXMgZW5hYmxlZCwgdGhlbiB0aGVzZSB0d28gYXJlIGFscmVhZHkgc3dhcHBlZC5cbiAqL1xuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5fZmlsbCA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgYSA9IHRoaXMuX2hleFNpemU7XG5cdHZhciBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG5cdFxuXHR0aGlzLl9jb250ZXh0LmJlZ2luUGF0aCgpO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdHRoaXMuX2NvbnRleHQubW92ZVRvKGN4LWErYixcdGN5KTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hLzIrYixcdGN5K3RoaXMuX3NwYWNpbmdYLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K2EvMi1iLFx0Y3krdGhpcy5fc3BhY2luZ1gtYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grYS1iLFx0Y3kpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K2EvMi1iLFx0Y3ktdGhpcy5fc3BhY2luZ1grYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtYS8yK2IsXHRjeS10aGlzLl9zcGFjaW5nWCtiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hK2IsXHRjeSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5fY29udGV4dC5tb3ZlVG8oY3gsXHRcdFx0XHRcdGN5LWErYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grdGhpcy5fc3BhY2luZ1gtYixcdGN5LWEvMitiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCt0aGlzLl9zcGFjaW5nWC1iLFx0Y3krYS8yLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LFx0XHRcdFx0XHRjeSthLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LXRoaXMuX3NwYWNpbmdYK2IsXHRjeSthLzItYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtdGhpcy5fc3BhY2luZ1grYixcdGN5LWEvMitiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCxcdFx0XHRcdFx0Y3ktYStiKTtcblx0fVxuXHR0aGlzLl9jb250ZXh0LmZpbGwoKTtcbn1cbi8qKlxuICogQGNsYXNzIFRpbGUgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGlsZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuUmVjdC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXHRcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xuXHR0aGlzLl9jb2xvckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG59XG5ST1QuRGlzcGxheS5UaWxlLmV4dGVuZChST1QuRGlzcGxheS5SZWN0KTtcblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIG9wdGlvbnMudGlsZVdpZHRoO1xuXHR0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCAqIG9wdGlvbnMudGlsZUhlaWdodDtcblx0dGhpcy5fY29sb3JDYW52YXMud2lkdGggPSBvcHRpb25zLnRpbGVXaWR0aDtcblx0dGhpcy5fY29sb3JDYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy50aWxlSGVpZ2h0O1xufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0dmFyIHRpbGVXaWR0aCA9IHRoaXMuX29wdGlvbnMudGlsZVdpZHRoO1xuXHR2YXIgdGlsZUhlaWdodCA9IHRoaXMuX29wdGlvbnMudGlsZUhlaWdodDtcblxuXHRpZiAoY2xlYXJCZWZvcmUpIHtcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHtcblx0XHRcdHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRmb3IgKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHRpbGUgPSB0aGlzLl9vcHRpb25zLnRpbGVNYXBbY2hhcnNbaV1dO1xuXHRcdGlmICghdGlsZSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDaGFyICdcIiArIGNoYXJzW2ldICsgXCInIG5vdCBmb3VuZCBpbiB0aWxlTWFwXCIpOyB9XG5cdFx0XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMudGlsZUNvbG9yaXplKSB7IC8qIGFwcGx5IGNvbG9yaXphdGlvbiAqL1xuXHRcdFx0dmFyIGNhbnZhcyA9IHRoaXMuX2NvbG9yQ2FudmFzO1xuXHRcdFx0dmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdFx0Y29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblxuXHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoXG5cdFx0XHRcdHRoaXMuX29wdGlvbnMudGlsZVNldCxcblx0XHRcdFx0dGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuXHRcdFx0XHQwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHRcblx0XHRcdCk7XG5cblx0XHRcdGlmIChmZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcblx0XHRcdFx0Y29udGV4dC5maWxsU3R5bGUgPSBmZztcblx0XHRcdFx0Y29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1hdG9wXCI7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJnICE9IFwidHJhbnNwYXJlbnRcIikge1xuXHRcdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdFx0XHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tb3ZlclwiO1xuXHRcdFx0XHRjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKGNhbnZhcywgeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblxuXHRcdH0gZWxzZSB7IC8qIG5vIGNvbG9yaXppbmcsIGVhc3kgKi9cblx0XHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKFxuXHRcdFx0XHR0aGlzLl9vcHRpb25zLnRpbGVTZXQsXG5cdFx0XHRcdHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCxcblx0XHRcdFx0eCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLndpZHRoKTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFtNYXRoLmZsb29yKHgvdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpLCBNYXRoLmZsb29yKHkvdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KV07XG59XG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqIFRoaXMgY29kZSBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBBbGVhIGFsZ29yaXRobTsgKEMpIDIwMTAgSm9oYW5uZXMgQmFhZ8O4ZS5cbiAqIEFsZWEgaXMgbGljZW5zZWQgYWNjb3JkaW5nIHRvIHRoZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlLlxuICovXG5ST1QuUk5HID0ge1xuXHQvKipcblx0ICogQHJldHVybnMge251bWJlcn0gXG5cdCAqL1xuXHRnZXRTZWVkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2VlZDtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgU2VlZCB0aGUgbnVtYmVyIGdlbmVyYXRvclxuXHQgKi9cblx0c2V0U2VlZDogZnVuY3Rpb24oc2VlZCkge1xuXHRcdHNlZWQgPSAoc2VlZCA8IDEgPyAxL3NlZWQgOiBzZWVkKTtcblxuXHRcdHRoaXMuX3NlZWQgPSBzZWVkO1xuXHRcdHRoaXMuX3MwID0gKHNlZWQgPj4+IDApICogdGhpcy5fZnJhYztcblxuXHRcdHNlZWQgPSAoc2VlZCo2OTA2OSArIDEpID4+PiAwO1xuXHRcdHRoaXMuX3MxID0gc2VlZCAqIHRoaXMuX2ZyYWM7XG5cblx0XHRzZWVkID0gKHNlZWQqNjkwNjkgKyAxKSA+Pj4gMDtcblx0XHR0aGlzLl9zMiA9IHNlZWQgKiB0aGlzLl9mcmFjO1xuXG5cdFx0dGhpcy5fYyA9IDE7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHtmbG9hdH0gUHNldWRvcmFuZG9tIHZhbHVlIFswLDEpLCB1bmlmb3JtbHkgZGlzdHJpYnV0ZWRcblx0ICovXG5cdGdldFVuaWZvcm06IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0ID0gMjA5MTYzOSAqIHRoaXMuX3MwICsgdGhpcy5fYyAqIHRoaXMuX2ZyYWM7XG5cdFx0dGhpcy5fczAgPSB0aGlzLl9zMTtcblx0XHR0aGlzLl9zMSA9IHRoaXMuX3MyO1xuXHRcdHRoaXMuX2MgPSB0IHwgMDtcblx0XHR0aGlzLl9zMiA9IHQgLSB0aGlzLl9jO1xuXHRcdHJldHVybiB0aGlzLl9zMjtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtpbnR9IGxvd2VyQm91bmQgVGhlIGxvd2VyIGVuZCBvZiB0aGUgcmFuZ2UgdG8gcmV0dXJuIGEgdmFsdWUgZnJvbSwgaW5jbHVzaXZlXG5cdCAqIEBwYXJhbSB7aW50fSB1cHBlckJvdW5kIFRoZSB1cHBlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuXHQgKiBAcmV0dXJucyB7aW50fSBQc2V1ZG9yYW5kb20gdmFsdWUgW2xvd2VyQm91bmQsIHVwcGVyQm91bmRdLCB1c2luZyBST1QuUk5HLmdldFVuaWZvcm0oKSB0byBkaXN0cmlidXRlIHRoZSB2YWx1ZVxuXHQgKi9cblx0Z2V0VW5pZm9ybUludDogZnVuY3Rpb24obG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuXHRcdHZhciBtYXggPSBNYXRoLm1heChsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcblx0XHR2YXIgbWluID0gTWF0aC5taW4obG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbbWVhbj0wXSBNZWFuIHZhbHVlXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFtzdGRkZXY9MV0gU3RhbmRhcmQgZGV2aWF0aW9uLiB+OTUlIG9mIHRoZSBhYnNvbHV0ZSB2YWx1ZXMgd2lsbCBiZSBsb3dlciB0aGFuIDIqc3RkZGV2LlxuXHQgKiBAcmV0dXJucyB7ZmxvYXR9IEEgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgcHNldWRvcmFuZG9tIHZhbHVlXG5cdCAqL1xuXHRnZXROb3JtYWw6IGZ1bmN0aW9uKG1lYW4sIHN0ZGRldikge1xuXHRcdGRvIHtcblx0XHRcdHZhciB1ID0gMip0aGlzLmdldFVuaWZvcm0oKS0xO1xuXHRcdFx0dmFyIHYgPSAyKnRoaXMuZ2V0VW5pZm9ybSgpLTE7XG5cdFx0XHR2YXIgciA9IHUqdSArIHYqdjtcblx0XHR9IHdoaWxlIChyID4gMSB8fCByID09IDApO1xuXG5cdFx0dmFyIGdhdXNzID0gdSAqIE1hdGguc3FydCgtMipNYXRoLmxvZyhyKS9yKTtcblx0XHRyZXR1cm4gKG1lYW4gfHwgMCkgKyBnYXVzcyooc3RkZGV2IHx8IDEpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7aW50fSBQc2V1ZG9yYW5kb20gdmFsdWUgWzEsMTAwXSBpbmNsdXNpdmUsIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuXHQgKi9cblx0Z2V0UGVyY2VudGFnZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIDEgKyBNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpKjEwMCk7XG5cdH0sXG5cdFxuXHQvKipcblx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGEga2V5PXdoYXRldmVyLCB2YWx1ZT13ZWlnaHQgKHJlbGF0aXZlIHByb2JhYmlsaXR5KVxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSB3aGF0ZXZlclxuXHQgKi9cblx0Z2V0V2VpZ2h0ZWRWYWx1ZTogZnVuY3Rpb24oZGF0YSkge1xuXHRcdHZhciB0b3RhbCA9IDA7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaWQgaW4gZGF0YSkge1xuXHRcdFx0dG90YWwgKz0gZGF0YVtpZF07XG5cdFx0fVxuXHRcdHZhciByYW5kb20gPSB0aGlzLmdldFVuaWZvcm0oKSp0b3RhbDtcblx0XHRcblx0XHR2YXIgcGFydCA9IDA7XG5cdFx0Zm9yICh2YXIgaWQgaW4gZGF0YSkge1xuXHRcdFx0cGFydCArPSBkYXRhW2lkXTtcblx0XHRcdGlmIChyYW5kb20gPCBwYXJ0KSB7IHJldHVybiBpZDsgfVxuXHRcdH1cblxuXHRcdC8vIElmIGJ5IHNvbWUgZmxvYXRpbmctcG9pbnQgYW5ub3lhbmNlIHdlIGhhdmVcblx0XHQvLyByYW5kb20gPj0gdG90YWwsIGp1c3QgcmV0dXJuIHRoZSBsYXN0IGlkLlxuXHRcdHJldHVybiBpZDtcblx0fSxcblxuXHQvKipcblx0ICogR2V0IFJORyBzdGF0ZS4gVXNlZnVsIGZvciBzdG9yaW5nIHRoZSBzdGF0ZSBhbmQgcmUtc2V0dGluZyBpdCB2aWEgc2V0U3RhdGUuXG5cdCAqIEByZXR1cm5zIHs/fSBJbnRlcm5hbCBzdGF0ZVxuXHQgKi9cblx0Z2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBbdGhpcy5fczAsIHRoaXMuX3MxLCB0aGlzLl9zMiwgdGhpcy5fY107XG5cdH0sXG5cblx0LyoqXG5cdCAqIFNldCBhIHByZXZpb3VzbHkgcmV0cmlldmVkIHN0YXRlLlxuXHQgKiBAcGFyYW0gez99IHN0YXRlXG5cdCAqL1xuXHRzZXRTdGF0ZTogZnVuY3Rpb24oc3RhdGUpIHtcblx0XHR0aGlzLl9zMCA9IHN0YXRlWzBdO1xuXHRcdHRoaXMuX3MxID0gc3RhdGVbMV07XG5cdFx0dGhpcy5fczIgPSBzdGF0ZVsyXTtcblx0XHR0aGlzLl9jICA9IHN0YXRlWzNdO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY2xvbmVkIFJOR1xuXHQgKi9cblx0Y2xvbmU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjbG9uZSA9IE9iamVjdC5jcmVhdGUodGhpcyk7XG5cdFx0Y2xvbmUuc2V0U3RhdGUodGhpcy5nZXRTdGF0ZSgpKTtcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0X3MwOiAwLFxuXHRfczE6IDAsXG5cdF9zMjogMCxcblx0X2M6IDAsXG5cdF9mcmFjOiAyLjMyODMwNjQzNjUzODY5NjNlLTEwIC8qIDJeLTMyICovXG59XG5cblJPVC5STkcuc2V0U2VlZChEYXRlLm5vdygpKTtcbi8qKlxuICogQGNsYXNzIChNYXJrb3YgcHJvY2VzcyktYmFzZWQgc3RyaW5nIGdlbmVyYXRvci4gXG4gKiBDb3BpZWQgZnJvbSBhIDxhIGhyZWY9XCJodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1OYW1lc19mcm9tX2FfaGlnaF9vcmRlcl9NYXJrb3ZfUHJvY2Vzc19hbmRfYV9zaW1wbGlmaWVkX0thdHpfYmFjay1vZmZfc2NoZW1lXCI+Um9ndWVCYXNpbiBhcnRpY2xlPC9hPi4gXG4gKiBPZmZlcnMgY29uZmlndXJhYmxlIG9yZGVyIGFuZCBwcmlvci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbH0gW29wdGlvbnMud29yZHM9ZmFsc2VdIFVzZSB3b3JkIG1vZGU/XG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMub3JkZXI9M11cbiAqIEBwYXJhbSB7ZmxvYXR9IFtvcHRpb25zLnByaW9yPTAuMDAxXVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHdvcmRzOiBmYWxzZSxcblx0XHRvcmRlcjogMyxcblx0XHRwcmlvcjogMC4wMDFcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblxuXHR0aGlzLl9ib3VuZGFyeSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCk7XG5cdHRoaXMuX3N1ZmZpeCA9IHRoaXMuX2JvdW5kYXJ5O1xuXHR0aGlzLl9wcmVmaXggPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fb3B0aW9ucy5vcmRlcjtpKyspIHsgdGhpcy5fcHJlZml4LnB1c2godGhpcy5fYm91bmRhcnkpOyB9XG5cblx0dGhpcy5fcHJpb3JWYWx1ZXMgPSB7fTtcblx0dGhpcy5fcHJpb3JWYWx1ZXNbdGhpcy5fYm91bmRhcnldID0gdGhpcy5fb3B0aW9ucy5wcmlvcjtcblxuXHR0aGlzLl9kYXRhID0ge307XG59XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsZWFybmluZyBkYXRhXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fcHJpb3JWYWx1ZXMgPSB7fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBHZW5lcmF0ZWQgc3RyaW5nXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24oKSB7XG5cdHZhciByZXN1bHQgPSBbdGhpcy5fc2FtcGxlKHRoaXMuX3ByZWZpeCldO1xuXHR3aGlsZSAocmVzdWx0W3Jlc3VsdC5sZW5ndGgtMV0gIT0gdGhpcy5fYm91bmRhcnkpIHtcblx0XHRyZXN1bHQucHVzaCh0aGlzLl9zYW1wbGUocmVzdWx0KSk7XG5cdH1cblx0cmV0dXJuIHRoaXMuX2pvaW4ocmVzdWx0LnNsaWNlKDAsIC0xKSk7XG59XG5cbi8qKlxuICogT2JzZXJ2ZSAobGVhcm4pIGEgc3RyaW5nIGZyb20gYSB0cmFpbmluZyBzZXRcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHR2YXIgdG9rZW5zID0gdGhpcy5fc3BsaXQoc3RyaW5nKTtcblxuXHRmb3IgKHZhciBpPTA7IGk8dG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5fcHJpb3JWYWx1ZXNbdG9rZW5zW2ldXSA9IHRoaXMuX29wdGlvbnMucHJpb3I7XG5cdH1cblxuXHR0b2tlbnMgPSB0aGlzLl9wcmVmaXguY29uY2F0KHRva2VucykuY29uY2F0KHRoaXMuX3N1ZmZpeCk7IC8qIGFkZCBib3VuZGFyeSBzeW1ib2xzICovXG5cblx0Zm9yICh2YXIgaT10aGlzLl9vcHRpb25zLm9yZGVyOyBpPHRva2Vucy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjb250ZXh0ID0gdG9rZW5zLnNsaWNlKGktdGhpcy5fb3B0aW9ucy5vcmRlciwgaSk7XG5cdFx0dmFyIGV2ZW50ID0gdG9rZW5zW2ldO1xuXHRcdGZvciAodmFyIGo9MDsgajxjb250ZXh0Lmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgc3ViY29udGV4dCA9IGNvbnRleHQuc2xpY2Uoaik7XG5cdFx0XHR0aGlzLl9vYnNlcnZlRXZlbnQoc3ViY29udGV4dCwgZXZlbnQpO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcGFydHMgPSBbXTtcblxuXHR2YXIgcHJpb3JDb3VudCA9IDA7XG5cdGZvciAodmFyIHAgaW4gdGhpcy5fcHJpb3JWYWx1ZXMpIHsgcHJpb3JDb3VudCsrOyB9XG5cdHByaW9yQ291bnQtLTsgLyogYm91bmRhcnkgKi9cblx0cGFydHMucHVzaChcImRpc3RpbmN0IHNhbXBsZXM6IFwiICsgcHJpb3JDb3VudCk7XG5cblx0dmFyIGRhdGFDb3VudCA9IDA7XG5cdHZhciBldmVudENvdW50ID0gMDtcblx0Zm9yICh2YXIgcCBpbiB0aGlzLl9kYXRhKSB7IFxuXHRcdGRhdGFDb3VudCsrOyBcblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fZGF0YVtwXSkge1xuXHRcdFx0ZXZlbnRDb3VudCsrO1xuXHRcdH1cblx0fVxuXHRwYXJ0cy5wdXNoKFwiZGljdGlvbmFyeSBzaXplIChjb250ZXh0cyk6IFwiICsgZGF0YUNvdW50KTtcblx0cGFydHMucHVzaChcImRpY3Rpb25hcnkgc2l6ZSAoZXZlbnRzKTogXCIgKyBldmVudENvdW50KTtcblxuXHRyZXR1cm4gcGFydHMuam9pbihcIiwgXCIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fc3BsaXQgPSBmdW5jdGlvbihzdHIpIHtcblx0cmV0dXJuIHN0ci5zcGxpdCh0aGlzLl9vcHRpb25zLndvcmRzID8gL1xccysvIDogXCJcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX1cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fam9pbiA9IGZ1bmN0aW9uKGFycikge1xuXHRyZXR1cm4gYXJyLmpvaW4odGhpcy5fb3B0aW9ucy53b3JkcyA/IFwiIFwiIDogXCJcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX0gY29udGV4dFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9vYnNlcnZlRXZlbnQgPSBmdW5jdGlvbihjb250ZXh0LCBldmVudCkge1xuXHR2YXIga2V5ID0gdGhpcy5fam9pbihjb250ZXh0KTtcblx0aWYgKCEoa2V5IGluIHRoaXMuX2RhdGEpKSB7IHRoaXMuX2RhdGFba2V5XSA9IHt9OyB9XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXG5cdGlmICghKGV2ZW50IGluIGRhdGEpKSB7IGRhdGFbZXZlbnRdID0gMDsgfVxuXHRkYXRhW2V2ZW50XSsrO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fc2FtcGxlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRjb250ZXh0ID0gdGhpcy5fYmFja29mZihjb250ZXh0KTtcblx0dmFyIGtleSA9IHRoaXMuX2pvaW4oY29udGV4dCk7XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXG5cdHZhciBhdmFpbGFibGUgPSB7fTtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5wcmlvcikge1xuXHRcdGZvciAodmFyIGV2ZW50IGluIHRoaXMuX3ByaW9yVmFsdWVzKSB7IGF2YWlsYWJsZVtldmVudF0gPSB0aGlzLl9wcmlvclZhbHVlc1tldmVudF07IH1cblx0XHRmb3IgKHZhciBldmVudCBpbiBkYXRhKSB7IGF2YWlsYWJsZVtldmVudF0gKz0gZGF0YVtldmVudF07IH1cblx0fSBlbHNlIHsgXG5cdFx0YXZhaWxhYmxlID0gZGF0YTtcblx0fVxuXG5cdHJldHVybiBST1QuUk5HLmdldFdlaWdodGVkVmFsdWUoYXZhaWxhYmxlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfVxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fYmFja29mZiA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0aWYgKGNvbnRleHQubGVuZ3RoID4gdGhpcy5fb3B0aW9ucy5vcmRlcikge1xuXHRcdGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKC10aGlzLl9vcHRpb25zLm9yZGVyKTtcblx0fSBlbHNlIGlmIChjb250ZXh0Lmxlbmd0aCA8IHRoaXMuX29wdGlvbnMub3JkZXIpIHtcblx0XHRjb250ZXh0ID0gdGhpcy5fcHJlZml4LnNsaWNlKDAsIHRoaXMuX29wdGlvbnMub3JkZXIgLSBjb250ZXh0Lmxlbmd0aCkuY29uY2F0KGNvbnRleHQpO1xuXHR9XG5cblx0d2hpbGUgKCEodGhpcy5fam9pbihjb250ZXh0KSBpbiB0aGlzLl9kYXRhKSAmJiBjb250ZXh0Lmxlbmd0aCA+IDApIHsgY29udGV4dCA9IGNvbnRleHQuc2xpY2UoMSk7IH1cblxuXHRyZXR1cm4gY29udGV4dDtcbn1cbi8qKlxuICogQGNsYXNzIEdlbmVyaWMgZXZlbnQgcXVldWU6IHN0b3JlcyBldmVudHMgYW5kIHJldHJpZXZlcyB0aGVtIGJhc2VkIG9uIHRoZWlyIHRpbWVcbiAqL1xuUk9ULkV2ZW50UXVldWUgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fdGltZSA9IDA7XG5cdHRoaXMuX2V2ZW50cyA9IFtdO1xuXHR0aGlzLl9ldmVudFRpbWVzID0gW107XG59XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn0gRWxhcHNlZCB0aW1lXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl90aW1lO1xufVxuXG4vKipcbiAqIENsZWFyIGFsbCBzY2hlZHVsZWQgZXZlbnRzXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9ldmVudHMgPSBbXTtcblx0dGhpcy5fZXZlbnRUaW1lcyA9IFtdO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZXZlbnQsIHRpbWUpIHtcblx0dmFyIGluZGV4ID0gdGhpcy5fZXZlbnRzLmxlbmd0aDtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZXZlbnRUaW1lcy5sZW5ndGg7aSsrKSB7XG5cdFx0aWYgKHRoaXMuX2V2ZW50VGltZXNbaV0gPiB0aW1lKSB7XG5cdFx0XHRpbmRleCA9IGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHR0aGlzLl9ldmVudHMuc3BsaWNlKGluZGV4LCAwLCBldmVudCk7XG5cdHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKGluZGV4LCAwLCB0aW1lKTtcbn1cblxuLyoqXG4gKiBMb2NhdGVzIHRoZSBuZWFyZXN0IGV2ZW50LCBhZHZhbmNlcyB0aW1lIGlmIG5lY2Vzc2FyeS4gUmV0dXJucyB0aGF0IGV2ZW50IGFuZCByZW1vdmVzIGl0IGZyb20gdGhlIHF1ZXVlLlxuICogQHJldHVybnMgez8gfHwgbnVsbH0gVGhlIGV2ZW50IHByZXZpb3VzbHkgYWRkZWQgYnkgYWRkRXZlbnQsIG51bGwgaWYgbm8gZXZlbnQgYXZhaWxhYmxlXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLl9ldmVudHMubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cblx0dmFyIHRpbWUgPSB0aGlzLl9ldmVudFRpbWVzLnNwbGljZSgwLCAxKVswXTtcblx0aWYgKHRpbWUgPiAwKSB7IC8qIGFkdmFuY2UgKi9cblx0XHR0aGlzLl90aW1lICs9IHRpbWU7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZXZlbnRUaW1lcy5sZW5ndGg7aSsrKSB7IHRoaXMuX2V2ZW50VGltZXNbaV0gLT0gdGltZTsgfVxuXHR9XG5cblx0cmV0dXJuIHRoaXMuX2V2ZW50cy5zcGxpY2UoMCwgMSlbMF07XG59XG5cbi8qKlxuICogUmVtb3ZlIGFuIGV2ZW50IGZyb20gdGhlIHF1ZXVlXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2Vzcz9cbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdHZhciBpbmRleCA9IHRoaXMuX2V2ZW50cy5pbmRleE9mKGV2ZW50KTtcblx0aWYgKGluZGV4ID09IC0xKSB7IHJldHVybiBmYWxzZSB9XG5cdHRoaXMuX3JlbW92ZShpbmRleCk7XG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbiBldmVudCBmcm9tIHRoZSBxdWV1ZVxuICogQHBhcmFtIHtpbnR9IGluZGV4XG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0dGhpcy5fZXZlbnRzLnNwbGljZShpbmRleCwgMSk7XG5cdHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKGluZGV4LCAxKTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3F1ZXVlID0gbmV3IFJPVC5FdmVudFF1ZXVlKCk7XG5cdHRoaXMuX3JlcGVhdCA9IFtdO1xuXHR0aGlzLl9jdXJyZW50ID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5FdmVudFF1ZXVlI2dldFRpbWVcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fcXVldWUuZ2V0VGltZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7P30gaXRlbVxuICogQHBhcmFtIHtib29sfSByZXBlYXRcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdGlmIChyZXBlYXQpIHsgdGhpcy5fcmVwZWF0LnB1c2goaXRlbSk7IH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2xlYXIgYWxsIGl0ZW1zXG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3F1ZXVlLmNsZWFyKCk7XG5cdHRoaXMuX3JlcGVhdCA9IFtdO1xuXHR0aGlzLl9jdXJyZW50ID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgcHJldmlvdXNseSBhZGRlZCBpdGVtXG4gKiBAcGFyYW0gez99IGl0ZW1cbiAqIEByZXR1cm5zIHtib29sfSBzdWNjZXNzZnVsP1xuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpdGVtKSB7XG5cdHZhciByZXN1bHQgPSB0aGlzLl9xdWV1ZS5yZW1vdmUoaXRlbSk7XG5cblx0dmFyIGluZGV4ID0gdGhpcy5fcmVwZWF0LmluZGV4T2YoaXRlbSk7XG5cdGlmIChpbmRleCAhPSAtMSkgeyB0aGlzLl9yZXBlYXQuc3BsaWNlKGluZGV4LCAxKTsgfVxuXG5cdGlmICh0aGlzLl9jdXJyZW50ID09IGl0ZW0pIHsgdGhpcy5fY3VycmVudCA9IG51bGw7IH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlIG5leHQgaXRlbVxuICogQHJldHVybnMgez99XG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fY3VycmVudCA9IHRoaXMuX3F1ZXVlLmdldCgpO1xuXHRyZXR1cm4gdGhpcy5fY3VycmVudDtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsZSBmYWlyIHNjaGVkdWxlciAocm91bmQtcm9iaW4gc3R5bGUpXG4gKiBAYXVnbWVudHMgUk9ULlNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZSA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG59XG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5leHRlbmQoUk9ULlNjaGVkdWxlcik7XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI2FkZFxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdHRoaXMuX3F1ZXVlLmFkZChpdGVtLCAwKTtcblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIGl0ZW0sIHJlcGVhdCk7XG59XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAqL1xuUk9ULlNjaGVkdWxlci5TaW1wbGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgMCk7XG5cdH1cblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzKTtcbn1cbi8qKlxuICogQGNsYXNzIFNwZWVkLWJhc2VkIHNjaGVkdWxlclxuICogQGF1Z21lbnRzIFJPVC5TY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlci5TcGVlZCA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG59XG5ST1QuU2NoZWR1bGVyLlNwZWVkLmV4dGVuZChST1QuU2NoZWR1bGVyKTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaXRlbSBhbnl0aGluZyB3aXRoIFwiZ2V0U3BlZWRcIiBtZXRob2RcbiAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjYWRkXG4gKi9cblJPVC5TY2hlZHVsZXIuU3BlZWQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCkge1xuXHR0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgMS9pdGVtLmdldFNwZWVkKCkpO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjbmV4dFxuICovXG5ST1QuU2NoZWR1bGVyLlNwZWVkLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLl9jdXJyZW50ICYmIHRoaXMuX3JlcGVhdC5pbmRleE9mKHRoaXMuX2N1cnJlbnQpICE9IC0xKSB7XG5cdFx0dGhpcy5fcXVldWUuYWRkKHRoaXMuX2N1cnJlbnQsIDEvdGhpcy5fY3VycmVudC5nZXRTcGVlZCgpKTtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWN0aW9uLWJhc2VkIHNjaGVkdWxlclxuICogQGF1Z21lbnRzIFJPVC5TY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0Uk9ULlNjaGVkdWxlci5jYWxsKHRoaXMpO1xuXHR0aGlzLl9kZWZhdWx0RHVyYXRpb24gPSAxOyAvKiBmb3IgbmV3bHkgYWRkZWQgKi9cblx0dGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247IC8qIGZvciB0aGlzLl9jdXJyZW50ICovXG59XG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5leHRlbmQoUk9ULlNjaGVkdWxlcik7XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW1cbiAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gKiBAcGFyYW0ge251bWJlcn0gW3RpbWU9MV1cbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCwgdGltZSkge1xuXHR0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgdGltZSB8fCB0aGlzLl9kZWZhdWx0RHVyYXRpb24pO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKTtcbn1cblxuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0aWYgKGl0ZW0gPT0gdGhpcy5fY3VycmVudCkgeyB0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjsgfVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcywgaXRlbSk7XG59XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgdGhpcy5fZHVyYXRpb24gfHwgdGhpcy5fZGVmYXVsdER1cmF0aW9uKTtcblx0XHR0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuXG4vKipcbiAqIFNldCBkdXJhdGlvbiBmb3IgdGhlIGFjdGl2ZSBpdGVtXG4gKi9cblJPVC5TY2hlZHVsZXIuQWN0aW9uLnByb3RvdHlwZS5zZXREdXJhdGlvbiA9IGZ1bmN0aW9uKHRpbWUpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQpIHsgdGhpcy5fZHVyYXRpb24gPSB0aW1lOyB9XG5cdHJldHVybiB0aGlzO1xufVxuLyoqXG4gKiBAY2xhc3MgQXN5bmNocm9ub3VzIG1haW4gbG9vcFxuICogQHBhcmFtIHtST1QuU2NoZWR1bGVyfSBzY2hlZHVsZXJcbiAqL1xuUk9ULkVuZ2luZSA9IGZ1bmN0aW9uKHNjaGVkdWxlcikge1xuXHR0aGlzLl9zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG5cdHRoaXMuX2xvY2sgPSAxO1xufVxuXG4vKipcbiAqIFN0YXJ0IHRoZSBtYWluIGxvb3AuIFdoZW4gdGhpcyBjYWxsIHJldHVybnMsIHRoZSBsb29wIGlzIGxvY2tlZC5cbiAqL1xuUk9ULkVuZ2luZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMudW5sb2NrKCk7XG59XG5cbi8qKlxuICogSW50ZXJydXB0IHRoZSBlbmdpbmUgYnkgYW4gYXN5bmNocm9ub3VzIGFjdGlvblxuICovXG5ST1QuRW5naW5lLnByb3RvdHlwZS5sb2NrID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2xvY2srKztcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVzdW1lIGV4ZWN1dGlvbiAocGF1c2VkIGJ5IGEgcHJldmlvdXMgbG9jaylcbiAqL1xuUk9ULkVuZ2luZS5wcm90b3R5cGUudW5sb2NrID0gZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5fbG9jaykgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdW5sb2NrIHVubG9ja2VkIGVuZ2luZVwiKTsgfVxuXHR0aGlzLl9sb2NrLS07XG5cblx0d2hpbGUgKCF0aGlzLl9sb2NrKSB7XG5cdFx0dmFyIGFjdG9yID0gdGhpcy5fc2NoZWR1bGVyLm5leHQoKTtcblx0XHRpZiAoIWFjdG9yKSB7IHJldHVybiB0aGlzLmxvY2soKTsgfSAvKiBubyBhY3RvcnMgKi9cblx0XHR2YXIgcmVzdWx0ID0gYWN0b3IuYWN0KCk7XG5cdFx0aWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbikgeyAvKiBhY3RvciByZXR1cm5lZCBhIFwidGhlbmFibGVcIiwgbG9va3MgbGlrZSBhIFByb21pc2UgKi9cblx0XHRcdHRoaXMubG9jaygpO1xuXHRcdFx0cmVzdWx0LnRoZW4odGhpcy51bmxvY2suYmluZCh0aGlzKSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG4vKipcbiAqIEBjbGFzcyBCYXNlIG1hcCBnZW5lcmF0b3JcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKi9cblJPVC5NYXAgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdHRoaXMuX3dpZHRoID0gd2lkdGggfHwgUk9ULkRFRkFVTFRfV0lEVEg7XG5cdHRoaXMuX2hlaWdodCA9IGhlaWdodCB8fCBST1QuREVGQVVMVF9IRUlHSFQ7XG59O1xuXG5ST1QuTWFwLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge31cblxuUk9ULk1hcC5wcm90b3R5cGUuX2ZpbGxNYXAgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHR2YXIgbWFwID0gW107XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdG1hcC5wdXNoKFtdKTtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7IG1hcFtpXS5wdXNoKHZhbHVlKTsgfVxuXHR9XG5cdHJldHVybiBtYXA7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGUgZW1wdHkgcmVjdGFuZ3VsYXIgcm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5BcmVuYSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xufVxuUk9ULk1hcC5BcmVuYS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuQXJlbmEucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGgtMTtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQtMTtcblx0Zm9yICh2YXIgaT0wO2k8PXc7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8PWg7aisrKSB7XG5cdFx0XHR2YXIgZW1wdHkgPSAoaSAmJiBqICYmIGk8dyAmJiBqPGgpO1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgZW1wdHkgPyAwIDogMSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuLyoqXG4gKiBAY2xhc3MgUmVjdXJzaXZlbHkgZGl2aWRlZCBtYXplLCBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hemVfZ2VuZXJhdGlvbl9hbGdvcml0aG0jUmVjdXJzaXZlX2RpdmlzaW9uX21ldGhvZFxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5EaXZpZGVkTWF6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9zdGFjayA9IFtdO1xufVxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0O1xuXHRcblx0dGhpcy5fbWFwID0gW107XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdHRoaXMuX21hcC5wdXNoKFtdKTtcblx0XHRmb3IgKHZhciBqPTA7ajxoO2orKykge1xuXHRcdFx0dmFyIGJvcmRlciA9IChpID09IDAgfHwgaiA9PSAwIHx8IGkrMSA9PSB3IHx8IGorMSA9PSBoKTtcblx0XHRcdHRoaXMuX21hcFtpXS5wdXNoKGJvcmRlciA/IDEgOiAwKTtcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX3N0YWNrID0gW1xuXHRcdFsxLCAxLCB3LTIsIGgtMl1cblx0XTtcblx0dGhpcy5fcHJvY2VzcygpO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajxoO2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0dGhpcy5fbWFwID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLl9wcm9jZXNzID0gZnVuY3Rpb24oKSB7XG5cdHdoaWxlICh0aGlzLl9zdGFjay5sZW5ndGgpIHtcblx0XHR2YXIgcm9vbSA9IHRoaXMuX3N0YWNrLnNoaWZ0KCk7IC8qIFtsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21dICovXG5cdFx0dGhpcy5fcGFydGl0aW9uUm9vbShyb29tKTtcblx0fVxufVxuXG5ST1QuTWFwLkRpdmlkZWRNYXplLnByb3RvdHlwZS5fcGFydGl0aW9uUm9vbSA9IGZ1bmN0aW9uKHJvb20pIHtcblx0dmFyIGF2YWlsWCA9IFtdO1xuXHR2YXIgYXZhaWxZID0gW107XG5cdFxuXHRmb3IgKHZhciBpPXJvb21bMF0rMTtpPHJvb21bMl07aSsrKSB7XG5cdFx0dmFyIHRvcCA9IHRoaXMuX21hcFtpXVtyb29tWzFdLTFdO1xuXHRcdHZhciBib3R0b20gPSB0aGlzLl9tYXBbaV1bcm9vbVszXSsxXTtcblx0XHRpZiAodG9wICYmIGJvdHRvbSAmJiAhKGkgJSAyKSkgeyBhdmFpbFgucHVzaChpKTsgfVxuXHR9XG5cdFxuXHRmb3IgKHZhciBqPXJvb21bMV0rMTtqPHJvb21bM107aisrKSB7XG5cdFx0dmFyIGxlZnQgPSB0aGlzLl9tYXBbcm9vbVswXS0xXVtqXTtcblx0XHR2YXIgcmlnaHQgPSB0aGlzLl9tYXBbcm9vbVsyXSsxXVtqXTtcblx0XHRpZiAobGVmdCAmJiByaWdodCAmJiAhKGogJSAyKSkgeyBhdmFpbFkucHVzaChqKTsgfVxuXHR9XG5cblx0aWYgKCFhdmFpbFgubGVuZ3RoIHx8ICFhdmFpbFkubGVuZ3RoKSB7IHJldHVybjsgfVxuXG5cdHZhciB4ID0gYXZhaWxYLnJhbmRvbSgpO1xuXHR2YXIgeSA9IGF2YWlsWS5yYW5kb20oKTtcblx0XG5cdHRoaXMuX21hcFt4XVt5XSA9IDE7XG5cdFxuXHR2YXIgd2FsbHMgPSBbXTtcblx0XG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIGxlZnQgcGFydCAqL1xuXHRmb3IgKHZhciBpPXJvb21bMF07IGk8eDsgaSsrKSB7IFxuXHRcdHRoaXMuX21hcFtpXVt5XSA9IDE7XG5cdFx0dy5wdXNoKFtpLCB5XSk7IFxuXHR9XG5cdFxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiByaWdodCBwYXJ0ICovXG5cdGZvciAodmFyIGk9eCsxOyBpPD1yb29tWzJdOyBpKyspIHsgXG5cdFx0dGhpcy5fbWFwW2ldW3ldID0gMTtcblx0XHR3LnB1c2goW2ksIHldKTsgXG5cdH1cblxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiB0b3AgcGFydCAqL1xuXHRmb3IgKHZhciBqPXJvb21bMV07IGo8eTsgaisrKSB7IFxuXHRcdHRoaXMuX21hcFt4XVtqXSA9IDE7XG5cdFx0dy5wdXNoKFt4LCBqXSk7IFxuXHR9XG5cdFxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiBib3R0b20gcGFydCAqL1xuXHRmb3IgKHZhciBqPXkrMTsgajw9cm9vbVszXTsgaisrKSB7IFxuXHRcdHRoaXMuX21hcFt4XVtqXSA9IDE7XG5cdFx0dy5wdXNoKFt4LCBqXSk7IFxuXHR9XG5cdFx0XG5cdHZhciBzb2xpZCA9IHdhbGxzLnJhbmRvbSgpO1xuXHRmb3IgKHZhciBpPTA7aTx3YWxscy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHcgPSB3YWxsc1tpXTtcblx0XHRpZiAodyA9PSBzb2xpZCkgeyBjb250aW51ZTsgfVxuXHRcdFxuXHRcdHZhciBob2xlID0gdy5yYW5kb20oKTtcblx0XHR0aGlzLl9tYXBbaG9sZVswXV1baG9sZVsxXV0gPSAwO1xuXHR9XG5cblx0dGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgcm9vbVsxXSwgeC0xLCB5LTFdKTsgLyogbGVmdCB0b3AgKi9cblx0dGhpcy5fc3RhY2sucHVzaChbeCsxLCByb29tWzFdLCByb29tWzJdLCB5LTFdKTsgLyogcmlnaHQgdG9wICovXG5cdHRoaXMuX3N0YWNrLnB1c2goW3Jvb21bMF0sIHkrMSwgeC0xLCByb29tWzNdXSk7IC8qIGxlZnQgYm90dG9tICovXG5cdHRoaXMuX3N0YWNrLnB1c2goW3grMSwgeSsxLCByb29tWzJdLCByb29tWzNdXSk7IC8qIHJpZ2h0IGJvdHRvbSAqL1xufVxuLyoqXG4gKiBAY2xhc3MgSWNleSdzIE1hemUgZ2VuZXJhdG9yXG4gKiBTZWUgaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9U2ltcGxlX21hemUgZm9yIGV4cGxhbmF0aW9uXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkljZXlNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcmVndWxhcml0eSkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX3JlZ3VsYXJpdHkgPSByZWd1bGFyaXR5IHx8IDA7XG59XG5ST1QuTWFwLkljZXlNYXplLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5JY2V5TWF6ZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG5cdFxuXHR2YXIgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XG5cdHdpZHRoIC09ICh3aWR0aCAlIDIgPyAxIDogMik7XG5cdGhlaWdodCAtPSAoaGVpZ2h0ICUgMiA/IDEgOiAyKTtcblxuXHR2YXIgY3ggPSAwO1xuXHR2YXIgY3kgPSAwO1xuXHR2YXIgbnggPSAwO1xuXHR2YXIgbnkgPSAwO1xuXG5cdHZhciBkb25lID0gMDtcblx0dmFyIGJsb2NrZWQgPSBmYWxzZTtcblx0dmFyIGRpcnMgPSBbXG5cdFx0WzAsIDBdLFxuXHRcdFswLCAwXSxcblx0XHRbMCwgMF0sXG5cdFx0WzAsIDBdXG5cdF07XG5cdGRvIHtcblx0XHRjeCA9IDEgKyAyKk1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKHdpZHRoLTEpIC8gMik7XG5cdFx0Y3kgPSAxICsgMipNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKihoZWlnaHQtMSkgLyAyKTtcblxuXHRcdGlmICghZG9uZSkgeyBtYXBbY3hdW2N5XSA9IDA7IH1cblx0XHRcblx0XHRpZiAoIW1hcFtjeF1bY3ldKSB7XG5cdFx0XHR0aGlzLl9yYW5kb21pemUoZGlycyk7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGlmIChNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKih0aGlzLl9yZWd1bGFyaXR5KzEpKSA9PSAwKSB7IHRoaXMuX3JhbmRvbWl6ZShkaXJzKTsgfVxuXHRcdFx0XHRibG9ja2VkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8NDtpKyspIHtcblx0XHRcdFx0XHRueCA9IGN4ICsgZGlyc1tpXVswXSoyO1xuXHRcdFx0XHRcdG55ID0gY3kgKyBkaXJzW2ldWzFdKjI7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2lzRnJlZShtYXAsIG54LCBueSwgd2lkdGgsIGhlaWdodCkpIHtcblx0XHRcdFx0XHRcdG1hcFtueF1bbnldID0gMDtcblx0XHRcdFx0XHRcdG1hcFtjeCArIGRpcnNbaV1bMF1dW2N5ICsgZGlyc1tpXVsxXV0gPSAwO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjeCA9IG54O1xuXHRcdFx0XHRcdFx0Y3kgPSBueTtcblx0XHRcdFx0XHRcdGJsb2NrZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGRvbmUrKztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSB3aGlsZSAoIWJsb2NrZWQpO1xuXHRcdH1cblx0fSB3aGlsZSAoZG9uZSsxIDwgd2lkdGgqaGVpZ2h0LzQpO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0dGhpcy5fbWFwID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuSWNleU1hemUucHJvdG90eXBlLl9yYW5kb21pemUgPSBmdW5jdGlvbihkaXJzKSB7XG5cdGZvciAodmFyIGk9MDtpPDQ7aSsrKSB7XG5cdFx0ZGlyc1tpXVswXSA9IDA7XG5cdFx0ZGlyc1tpXVsxXSA9IDA7XG5cdH1cblx0XG5cdHN3aXRjaCAoTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSo0KSkge1xuXHRcdGNhc2UgMDpcblx0XHRcdGRpcnNbMF1bMF0gPSAtMTsgZGlyc1sxXVswXSA9IDE7XG5cdFx0XHRkaXJzWzJdWzFdID0gLTE7IGRpcnNbM11bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdGRpcnNbM11bMF0gPSAtMTsgZGlyc1syXVswXSA9IDE7XG5cdFx0XHRkaXJzWzFdWzFdID0gLTE7IGRpcnNbMF1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGRpcnNbMl1bMF0gPSAtMTsgZGlyc1szXVswXSA9IDE7XG5cdFx0XHRkaXJzWzBdWzFdID0gLTE7IGRpcnNbMV1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMzpcblx0XHRcdGRpcnNbMV1bMF0gPSAtMTsgZGlyc1swXVswXSA9IDE7XG5cdFx0XHRkaXJzWzNdWzFdID0gLTE7IGRpcnNbMl1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHR9XG59XG5cblJPVC5NYXAuSWNleU1hemUucHJvdG90eXBlLl9pc0ZyZWUgPSBmdW5jdGlvbihtYXAsIHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHggPj0gd2lkdGggfHwgeSA+PSBoZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiBtYXBbeF1beV07XG59XG4vKipcbiAqIEBjbGFzcyBNYXplIGdlbmVyYXRvciAtIEVsbGVyJ3MgYWxnb3JpdGhtXG4gKiBTZWUgaHR0cDovL2hvbWVwYWdlcy5jd2kubmwvfnRyb21wL21hemUuaHRtbCBmb3IgZXhwbGFuYXRpb25cbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuRWxsZXJNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG59XG5ST1QuTWFwLkVsbGVyTWF6ZS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuRWxsZXJNYXplLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0dmFyIHcgPSBNYXRoLmNlaWwoKHRoaXMuX3dpZHRoLTIpLzIpO1xuXHRcblx0dmFyIHJhbmQgPSA5LzI0O1xuXHRcblx0dmFyIEwgPSBbXTtcblx0dmFyIFIgPSBbXTtcblx0XG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0TC5wdXNoKGkpO1xuXHRcdFIucHVzaChpKTtcblx0fVxuXHRMLnB1c2gody0xKTsgLyogZmFrZSBzdG9wLWJsb2NrIGF0IHRoZSByaWdodCBzaWRlICovXG5cblx0Zm9yICh2YXIgaj0xO2orMzx0aGlzLl9oZWlnaHQ7ais9Mikge1xuXHRcdC8qIG9uZSByb3cgKi9cblx0XHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdFx0LyogY2VsbCBjb29yZHMgKHdpbGwgYmUgYWx3YXlzIGVtcHR5KSAqL1xuXHRcdFx0dmFyIHggPSAyKmkrMTtcblx0XHRcdHZhciB5ID0gajtcblx0XHRcdG1hcFt4XVt5XSA9IDA7XG5cdFx0XHRcblx0XHRcdC8qIHJpZ2h0IGNvbm5lY3Rpb24gKi9cblx0XHRcdGlmIChpICE9IExbaSsxXSAmJiBST1QuUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpIHtcblx0XHRcdFx0dGhpcy5fYWRkVG9MaXN0KGksIEwsIFIpO1xuXHRcdFx0XHRtYXBbeCsxXVt5XSA9IDA7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8qIGJvdHRvbSBjb25uZWN0aW9uICovXG5cdFx0XHRpZiAoaSAhPSBMW2ldICYmIFJPVC5STkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkge1xuXHRcdFx0XHQvKiByZW1vdmUgY29ubmVjdGlvbiAqL1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8qIGNyZWF0ZSBjb25uZWN0aW9uICovXG5cdFx0XHRcdG1hcFt4XVt5KzFdID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKiBsYXN0IHJvdyAqL1xuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdC8qIGNlbGwgY29vcmRzICh3aWxsIGJlIGFsd2F5cyBlbXB0eSkgKi9cblx0XHR2YXIgeCA9IDIqaSsxO1xuXHRcdHZhciB5ID0gajtcblx0XHRtYXBbeF1beV0gPSAwO1xuXHRcdFxuXHRcdC8qIHJpZ2h0IGNvbm5lY3Rpb24gKi9cblx0XHRpZiAoaSAhPSBMW2krMV0gJiYgKGkgPT0gTFtpXSB8fCBST1QuUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpKSB7XG5cdFx0XHQvKiBkaWcgcmlnaHQgYWxzbyBpZiB0aGUgY2VsbCBpcyBzZXBhcmF0ZWQsIHNvIGl0IGdldHMgY29ubmVjdGVkIHRvIHRoZSByZXN0IG9mIG1hemUgKi9cblx0XHRcdHRoaXMuX2FkZFRvTGlzdChpLCBMLCBSKTtcblx0XHRcdG1hcFt4KzFdW3ldID0gMDtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5fcmVtb3ZlRnJvbUxpc3QoaSwgTCwgUik7XG5cdH1cblx0XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIG1hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgXCJpXCIgZnJvbSBpdHMgbGlzdFxuICovXG5ST1QuTWFwLkVsbGVyTWF6ZS5wcm90b3R5cGUuX3JlbW92ZUZyb21MaXN0ID0gZnVuY3Rpb24oaSwgTCwgUikge1xuXHRSW0xbaV1dID0gUltpXTtcblx0TFtSW2ldXSA9IExbaV07XG5cdFJbaV0gPSBpO1xuXHRMW2ldID0gaTtcbn1cblxuLyoqXG4gKiBKb2luIGxpc3RzIHdpdGggXCJpXCIgYW5kIFwiaSsxXCJcbiAqL1xuUk9ULk1hcC5FbGxlck1hemUucHJvdG90eXBlLl9hZGRUb0xpc3QgPSBmdW5jdGlvbihpLCBMLCBSKSB7XG5cdFJbTFtpKzFdXSA9IFJbaV07XG5cdExbUltpXV0gPSBMW2krMV07XG5cdFJbaV0gPSBpKzE7XG5cdExbaSsxXSA9IGk7XG59XG4vKipcbiAqIEBjbGFzcyBDZWxsdWxhciBhdXRvbWF0b24gbWFwIGdlbmVyYXRvclxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmJvcm5dIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhIG5ldyBjZWxsIHRvIGJlIGJvcm4gaW4gZW1wdHkgc3BhY2VcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLnN1cnZpdmVdIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhbiBleGlzdGluZyAgY2VsbCB0byBzdXJ2aXZlXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudG9wb2xvZ3ldIFRvcG9sb2d5IDQgb3IgNiBvciA4XG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRib3JuOiBbNSwgNiwgNywgOF0sXG5cdFx0c3Vydml2ZTogWzQsIDUsIDYsIDcsIDhdLFxuXHRcdHRvcG9sb2d5OiA4LFxuXHRcdGNvbm5lY3RlZDogZmFsc2Vcblx0fTtcblx0dGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuXHRcblx0dGhpcy5fZGlycyA9IFJPVC5ESVJTW3RoaXMuX29wdGlvbnMudG9wb2xvZ3ldO1xuXHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDApO1xufVxuUk9ULk1hcC5DZWxsdWxhci5leHRlbmQoUk9ULk1hcCk7XG5cbi8qKlxuICogRmlsbCB0aGUgbWFwIHdpdGggcmFuZG9tIHZhbHVlc1xuICogQHBhcmFtIHtmbG9hdH0gcHJvYmFiaWxpdHkgUHJvYmFiaWxpdHkgZm9yIGEgY2VsbCB0byBiZWNvbWUgYWxpdmU7IDAgPSBhbGwgZW1wdHksIDEgPSBhbGwgZnVsbFxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5yYW5kb21pemUgPSBmdW5jdGlvbihwcm9iYWJpbGl0eSkge1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHR0aGlzLl9tYXBbaV1bal0gPSAoUk9ULlJORy5nZXRVbmlmb3JtKCkgPCBwcm9iYWJpbGl0eSA/IDEgOiAwKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hhbmdlIG9wdGlvbnMuXG4gKiBAc2VlIFJPVC5NYXAuQ2VsbHVsYXJcbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgbmV3TWFwID0gdGhpcy5fZmlsbE1hcCgwKTtcblx0dmFyIGJvcm4gPSB0aGlzLl9vcHRpb25zLmJvcm47XG5cdHZhciBzdXJ2aXZlID0gdGhpcy5fb3B0aW9ucy5zdXJ2aXZlO1xuXG5cblx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdHZhciB3aWR0aFN0ZXAgPSAxO1xuXHRcdHZhciB3aWR0aFN0YXJ0ID0gMDtcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7IFxuXHRcdFx0d2lkdGhTdGVwID0gMjtcblx0XHRcdHdpZHRoU3RhcnQgPSBqJTI7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaT13aWR0aFN0YXJ0OyBpPHRoaXMuX3dpZHRoOyBpKz13aWR0aFN0ZXApIHtcblxuXHRcdFx0dmFyIGN1ciA9IHRoaXMuX21hcFtpXVtqXTtcblx0XHRcdHZhciBuY291bnQgPSB0aGlzLl9nZXROZWlnaGJvcnMoaSwgaik7XG5cdFx0XHRcblx0XHRcdGlmIChjdXIgJiYgc3Vydml2ZS5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogc3Vydml2ZSAqL1xuXHRcdFx0XHRuZXdNYXBbaV1bal0gPSAxO1xuXHRcdFx0fSBlbHNlIGlmICghY3VyICYmIGJvcm4uaW5kZXhPZihuY291bnQpICE9IC0xKSB7IC8qIGJvcm4gKi9cblx0XHRcdFx0bmV3TWFwW2ldW2pdID0gMTtcblx0XHRcdH1cdFx0XHRcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX21hcCA9IG5ld01hcDtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5jb25uZWN0ZWQpIHsgdGhpcy5fY29tcGxldGVNYXplKCk7IH0gLy8gb3B0aW9uYWxseSBjb25uZWN0IGV2ZXJ5IHNwYWNlXG5cblx0aWYgKCFjYWxsYmFjaykgeyByZXR1cm47IH1cblxuXHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0dmFyIHdpZHRoU3RlcCA9IDE7XG5cdFx0dmFyIHdpZHRoU3RhcnQgPSAwO1xuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHsgXG5cdFx0XHR3aWR0aFN0ZXAgPSAyO1xuXHRcdFx0d2lkdGhTdGFydCA9IGolMjtcblx0XHR9XG5cdFx0Zm9yICh2YXIgaT13aWR0aFN0YXJ0OyBpPHRoaXMuX3dpZHRoOyBpKz13aWR0aFN0ZXApIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIG5ld01hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogR2V0IG5laWdoYm9yIGNvdW50IGF0IFtpLGpdIGluIHRoaXMuX21hcFxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciByZXN1bHQgPSAwO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9kaXJzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGlyID0gdGhpcy5fZGlyc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGlyWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkaXJbMV07XG5cdFx0XG5cdFx0aWYgKHggPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeCA8IDAgfHwgeSA+PSB0aGlzLl93aWR0aCkgeyBjb250aW51ZTsgfVxuXHRcdHJlc3VsdCArPSAodGhpcy5fbWFwW3hdW3ldID09IDEgPyAxIDogMCk7XG5cdH1cblx0XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogTWFrZSBzdXJlIGV2ZXJ5IG5vbi13YWxsIHNwYWNlIGlzIGFjY2Vzc2libGUuXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9jb21wbGV0ZU1hemUgPSBmdW5jdGlvbigpIHtcblx0dmFyIGFsbEZyZWVTcGFjZSA9IFtdO1xuXHR2YXIgbm90Q29ubmVjdGVkID0ge307XG5cdC8vIGZpbmQgYWxsIGZyZWUgc3BhY2Vcblx0Zm9yICh2YXIgeCA9IDA7IHggPCB0aGlzLl93aWR0aDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLl9oZWlnaHQ7IHkrKykge1xuXHRcdFx0aWYgKHRoaXMuX2ZyZWVTcGFjZSh4LCB5KSkge1xuXHRcdFx0XHR2YXIgcCA9IFt4LCB5XTtcblx0XHRcdFx0bm90Q29ubmVjdGVkW3RoaXMuX3BvaW50S2V5KHApXSA9IHA7XG5cdFx0XHRcdGFsbEZyZWVTcGFjZS5wdXNoKFt4LCB5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHZhciBzdGFydCA9IGFsbEZyZWVTcGFjZVtST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgYWxsRnJlZVNwYWNlLmxlbmd0aCAtIDEpXTtcblxuXHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkoc3RhcnQpO1xuXHR2YXIgY29ubmVjdGVkID0ge307XG5cdGNvbm5lY3RlZFtrZXldID0gc3RhcnQ7XG5cdGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XVxuXG5cdC8vIGZpbmQgd2hhdCdzIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcblx0dGhpcy5fZmluZENvbm5lY3RlZChjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgW3N0YXJ0XSk7XG5cblx0d2hpbGUgKE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCkubGVuZ3RoID4gMCkge1xuXG5cdFx0Ly8gZmluZCB0d28gcG9pbnRzIGZyb20gbm90Q29ubmVjdGVkIHRvIGNvbm5lY3RlZFxuXHRcdHZhciBwID0gdGhpcy5fZ2V0RnJvbVRvKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKTtcblx0XHR2YXIgZnJvbSA9IHBbMF07IC8vIG5vdENvbm5lY3RlZFxuXHRcdHZhciB0byA9IHBbMV07IC8vIGNvbm5lY3RlZFxuXG5cdFx0Ly8gZmluZCBldmVyeXRoaW5nIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcblx0XHR2YXIgbG9jYWwgPSB7fTtcblx0XHRsb2NhbFt0aGlzLl9wb2ludEtleShmcm9tKV0gPSBmcm9tO1xuXHRcdHRoaXMuX2ZpbmRDb25uZWN0ZWQobG9jYWwsIG5vdENvbm5lY3RlZCwgW2Zyb21dLCB0cnVlKTtcblxuXHRcdC8vIGNvbm5lY3QgdG8gYSBjb25uZWN0ZWQgc3F1YXJlXG5cdFx0dGhpcy5fdHVubmVsVG9Db25uZWN0ZWQodG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKTtcblxuXHRcdC8vIG5vdyBhbGwgb2YgbG9jYWwgaXMgY29ubmVjdGVkXG5cdFx0Zm9yICh2YXIgayBpbiBsb2NhbCkge1xuXHRcdFx0dmFyIHBwID0gbG9jYWxba107XG5cdFx0XHR0aGlzLl9tYXBbcHBbMF1dW3BwWzFdXSA9IDA7XG5cdFx0XHRjb25uZWN0ZWRba10gPSBwcDtcblx0XHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRba107XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRmluZCByYW5kb20gcG9pbnRzIHRvIGNvbm5lY3QuIFNlYXJjaCBmb3IgdGhlIGNsb3Nlc3QgcG9pbnQgaW4gdGhlIGxhcmdlciBzcGFjZS4gXG4gKiBUaGlzIGlzIHRvIG1pbmltaXplIHRoZSBsZW5ndGggb2YgdGhlIHBhc3NhZ2Ugd2hpbGUgbWFpbnRhaW5pbmcgZ29vZCBwZXJmb3JtYW5jZS5cbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2dldEZyb21UbyA9IGZ1bmN0aW9uKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKSB7XG5cdHZhciBmcm9tLCB0bywgZDtcblx0dmFyIGNvbm5lY3RlZEtleXMgPSBPYmplY3Qua2V5cyhjb25uZWN0ZWQpO1xuXHR2YXIgbm90Q29ubmVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdFx0aWYgKGNvbm5lY3RlZEtleXMubGVuZ3RoIDwgbm90Q29ubmVjdGVkS2V5cy5sZW5ndGgpIHtcblx0XHRcdHZhciBrZXlzID0gY29ubmVjdGVkS2V5cztcblx0XHRcdHRvID0gY29ubmVjdGVkW2tleXNbUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGtleXMubGVuZ3RoIC0gMSldXVxuXHRcdFx0ZnJvbSA9IHRoaXMuX2dldENsb3Nlc3QodG8sIG5vdENvbm5lY3RlZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBrZXlzID0gbm90Q29ubmVjdGVkS2V5cztcblx0XHRcdGZyb20gPSBub3RDb25uZWN0ZWRba2V5c1tST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwga2V5cy5sZW5ndGggLSAxKV1dXG5cdFx0XHR0byA9IHRoaXMuX2dldENsb3Nlc3QoZnJvbSwgY29ubmVjdGVkKTtcblx0XHR9XG5cdFx0ZCA9IChmcm9tWzBdIC0gdG9bMF0pICogKGZyb21bMF0gLSB0b1swXSkgKyAoZnJvbVsxXSAtIHRvWzFdKSAqIChmcm9tWzFdIC0gdG9bMV0pO1xuXHRcdGlmIChkIDwgNjQpIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHQvLyBjb25zb2xlLmxvZyhcIj4+PiBjb25uZWN0ZWQ9XCIgKyB0byArIFwiIG5vdENvbm5lY3RlZD1cIiArIGZyb20gKyBcIiBkaXN0PVwiICsgZCk7XG5cdHJldHVybiBbZnJvbSwgdG9dO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0Q2xvc2VzdCA9IGZ1bmN0aW9uKHBvaW50LCBzcGFjZSkge1xuXHR2YXIgbWluUG9pbnQgPSBudWxsO1xuXHR2YXIgbWluRGlzdCA9IG51bGw7XG5cdGZvciAoayBpbiBzcGFjZSkge1xuXHRcdHZhciBwID0gc3BhY2Vba107XG5cdFx0dmFyIGQgPSAocFswXSAtIHBvaW50WzBdKSAqIChwWzBdIC0gcG9pbnRbMF0pICsgKHBbMV0gLSBwb2ludFsxXSkgKiAocFsxXSAtIHBvaW50WzFdKTtcblx0XHRpZiAobWluRGlzdCA9PSBudWxsIHx8IGQgPCBtaW5EaXN0KSB7XG5cdFx0XHRtaW5EaXN0ID0gZDtcblx0XHRcdG1pblBvaW50ID0gcDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1pblBvaW50O1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZmluZENvbm5lY3RlZCA9IGZ1bmN0aW9uKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBzdGFjaywga2VlcE5vdENvbm5lY3RlZCkge1xuXHR3aGlsZShzdGFjay5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIHAgPSBzdGFjay5zcGxpY2UoMCwgMSlbMF07XG5cdFx0dmFyIHRlc3RzID0gW1xuXHRcdFx0W3BbMF0gKyAxLCBwWzFdXSxcblx0XHRcdFtwWzBdIC0gMSwgcFsxXV0sXG5cdFx0XHRbcFswXSwgICAgIHBbMV0gKyAxXSxcblx0XHRcdFtwWzBdLCAgICAgcFsxXSAtIDFdXG5cdFx0XTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkodGVzdHNbaV0pO1xuXHRcdFx0aWYgKGNvbm5lY3RlZFtrZXldID09IG51bGwgJiYgdGhpcy5fZnJlZVNwYWNlKHRlc3RzW2ldWzBdLCB0ZXN0c1tpXVsxXSkpIHtcblx0XHRcdFx0Y29ubmVjdGVkW2tleV0gPSB0ZXN0c1tpXTtcblx0XHRcdFx0aWYgKCFrZWVwTm90Q29ubmVjdGVkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIG5vdENvbm5lY3RlZFtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0YWNrLnB1c2godGVzdHNbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fdHVubmVsVG9Db25uZWN0ZWQgPSBmdW5jdGlvbih0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpIHtcblx0dmFyIGtleSA9IHRoaXMuX3BvaW50S2V5KGZyb20pO1xuXHR2YXIgYSwgYjtcblx0aWYgKGZyb21bMF0gPCB0b1swXSkge1xuXHRcdGEgPSBmcm9tO1xuXHRcdGIgPSB0bztcblx0fSBlbHNlIHtcblx0XHRhID0gdG87XG5cdFx0YiA9IGZyb207XG5cdH1cblx0Zm9yICh2YXIgeHggPSBhWzBdOyB4eCA8PSBiWzBdOyB4eCsrKSB7XG5cdFx0dGhpcy5fbWFwW3h4XVthWzFdXSA9IDA7XG5cdFx0dmFyIHAgPSBbeHgsIGFbMV1dO1xuXHRcdHZhciBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG5cdFx0Y29ubmVjdGVkW3BrZXldID0gcDtcblx0XHRkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuXHR9XG5cblx0Ly8geCBpcyBub3cgZml4ZWRcblx0dmFyIHggPSBiWzBdO1xuXG5cdGlmIChmcm9tWzFdIDwgdG9bMV0pIHtcblx0XHRhID0gZnJvbTtcblx0XHRiID0gdG87XG5cdH0gZWxzZSB7XG5cdFx0YSA9IHRvO1xuXHRcdGIgPSBmcm9tO1xuXHR9XG5cdGZvciAodmFyIHl5ID0gYVsxXTsgeXkgPCBiWzFdOyB5eSsrKSB7XG5cdFx0dGhpcy5fbWFwW3hdW3l5XSA9IDA7XG5cdFx0dmFyIHAgPSBbeCwgeXldO1xuXHRcdHZhciBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG5cdFx0Y29ubmVjdGVkW3BrZXldID0gcDtcblx0XHRkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuXHR9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9mcmVlU3BhY2UgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMuX3dpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5faGVpZ2h0ICYmIHRoaXMuX21hcFt4XVt5XSAhPSAxO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fcG9pbnRLZXkgPSBmdW5jdGlvbihwKSB7XG5cdHJldHVybiBwWzBdICsgXCIuXCIgKyBwWzFdO1xufVxuXG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIG1hcDogaGFzIHJvb21zIGFuZCBjb3JyaWRvcnNcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuRHVuZ2VvbiA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9yb29tcyA9IFtdOyAvKiBsaXN0IG9mIGFsbCByb29tcyAqL1xuXHR0aGlzLl9jb3JyaWRvcnMgPSBbXTtcbn1cblJPVC5NYXAuRHVuZ2Vvbi5leHRlbmQoUk9ULk1hcCk7XG5cbi8qKlxuICogR2V0IGFsbCBnZW5lcmF0ZWQgcm9vbXNcbiAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuUm9vbVtdfVxuICovXG5ST1QuTWFwLkR1bmdlb24ucHJvdG90eXBlLmdldFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9yb29tcztcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGdlbmVyYXRlZCBjb3JyaWRvcnNcbiAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3JbXX1cbiAqL1xuUk9ULk1hcC5EdW5nZW9uLnByb3RvdHlwZS5nZXRDb3JyaWRvcnMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX2NvcnJpZG9ycztcbn1cbi8qKlxuICogQGNsYXNzIFJhbmRvbSBkdW5nZW9uIGdlbmVyYXRvciB1c2luZyBodW1hbi1saWtlIGRpZ2dpbmcgcGF0dGVybnMuXG4gKiBIZWF2aWx5IGJhc2VkIG9uIE1pa2UgQW5kZXJzb24ncyBpZGVhcyBmcm9tIHRoZSBcIlR5cmFudFwiIGFsZ28sIG1lbnRpb25lZCBhdCBcbiAqIGh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPUR1bmdlb24tQnVpbGRpbmdfQWxnb3JpdGhtLlxuICogQGF1Z21lbnRzIFJPVC5NYXAuRHVuZ2VvblxuICovXG5ST1QuTWFwLkRpZ2dlciA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcblx0Uk9ULk1hcC5EdW5nZW9uLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHJvb21XaWR0aDogWzMsIDldLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gd2lkdGggKi9cblx0XHRyb29tSGVpZ2h0OiBbMywgNV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSBoZWlnaHQgKi9cblx0XHRjb3JyaWRvckxlbmd0aDogWzMsIDEwXSwgLyogY29ycmlkb3IgbWluaW11bSBhbmQgbWF4aW11bSBsZW5ndGggKi9cblx0XHRkdWdQZXJjZW50YWdlOiAwLjIsIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBwZXJjZW50YWdlIG9mIGxldmVsIGFyZWEgaGFzIGJlZW4gZHVnIG91dCAqL1xuXHRcdHRpbWVMaW1pdDogMTAwMCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgbXVjaCB0aW1lIGhhcyBwYXNzZWQgKG1zZWMpICovXG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdFxuXHR0aGlzLl9mZWF0dXJlcyA9IHtcblx0XHRcIlJvb21cIjogNCxcblx0XHRcIkNvcnJpZG9yXCI6IDRcblx0fVxuXHR0aGlzLl9mZWF0dXJlQXR0ZW1wdHMgPSAyMDsgLyogaG93IG1hbnkgdGltZXMgZG8gd2UgdHJ5IHRvIGNyZWF0ZSBhIGZlYXR1cmUgb24gYSBzdWl0YWJsZSB3YWxsICovXG5cdHRoaXMuX3dhbGxzID0ge307IC8qIHRoZXNlIGFyZSBhdmFpbGFibGUgZm9yIGRpZ2dpbmcgKi9cblx0XG5cdHRoaXMuX2RpZ0NhbGxiYWNrID0gdGhpcy5fZGlnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5fY2FuQmVEdWdDYWxsYmFjayA9IHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5faXNXYWxsQ2FsbGJhY2sgPSB0aGlzLl9pc1dhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjayA9IHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG59XG5ST1QuTWFwLkRpZ2dlci5leHRlbmQoUk9ULk1hcC5EdW5nZW9uKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtYXBcbiAqIEBzZWUgUk9ULk1hcCNjcmVhdGVcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHRoaXMuX3Jvb21zID0gW107XG5cdHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuXHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHR0aGlzLl93YWxscyA9IHt9O1xuXHR0aGlzLl9kdWcgPSAwO1xuXHR2YXIgYXJlYSA9ICh0aGlzLl93aWR0aC0yKSAqICh0aGlzLl9oZWlnaHQtMik7XG5cblx0dGhpcy5fZmlyc3RSb29tKCk7XG5cdFxuXHR2YXIgdDEgPSBEYXRlLm5vdygpO1xuXG5cdGRvIHtcblx0XHR2YXIgdDIgPSBEYXRlLm5vdygpO1xuXHRcdGlmICh0MiAtIHQxID4gdGhpcy5fb3B0aW9ucy50aW1lTGltaXQpIHsgYnJlYWs7IH1cblxuXHRcdC8qIGZpbmQgYSBnb29kIHdhbGwgKi9cblx0XHR2YXIgd2FsbCA9IHRoaXMuX2ZpbmRXYWxsKCk7XG5cdFx0aWYgKCF3YWxsKSB7IGJyZWFrOyB9IC8qIG5vIG1vcmUgd2FsbHMgKi9cblx0XHRcblx0XHR2YXIgcGFydHMgPSB3YWxsLnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHR2YXIgZGlyID0gdGhpcy5fZ2V0RGlnZ2luZ0RpcmVjdGlvbih4LCB5KTtcblx0XHRpZiAoIWRpcikgeyBjb250aW51ZTsgfSAvKiB0aGlzIHdhbGwgaXMgbm90IHN1aXRhYmxlICovXG5cdFx0XG4vL1x0XHRjb25zb2xlLmxvZyhcIndhbGxcIiwgeCwgeSk7XG5cblx0XHQvKiB0cnkgYWRkaW5nIGEgZmVhdHVyZSAqL1xuXHRcdHZhciBmZWF0dXJlQXR0ZW1wdHMgPSAwO1xuXHRcdGRvIHtcblx0XHRcdGZlYXR1cmVBdHRlbXB0cysrO1xuXHRcdFx0aWYgKHRoaXMuX3RyeUZlYXR1cmUoeCwgeSwgZGlyWzBdLCBkaXJbMV0pKSB7IC8qIGZlYXR1cmUgYWRkZWQgKi9cblx0XHRcdFx0Ly9pZiAodGhpcy5fcm9vbXMubGVuZ3RoICsgdGhpcy5fY29ycmlkb3JzLmxlbmd0aCA9PSAyKSB7IHRoaXMuX3Jvb21zWzBdLmFkZERvb3IoeCwgeSk7IH0gLyogZmlyc3Qgcm9vbSBvZmljaWFsbHkgaGFzIGRvb3JzICovXG5cdFx0XHRcdHRoaXMuX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoeCwgeSk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoeC1kaXJbMF0sIHktZGlyWzFdKTtcblx0XHRcdFx0YnJlYWs7IFxuXHRcdFx0fVxuXHRcdH0gd2hpbGUgKGZlYXR1cmVBdHRlbXB0cyA8IHRoaXMuX2ZlYXR1cmVBdHRlbXB0cyk7XG5cdFx0XG5cdFx0dmFyIHByaW9yaXR5V2FsbHMgPSAwO1xuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX3dhbGxzKSB7IFxuXHRcdFx0aWYgKHRoaXMuX3dhbGxzW2lkXSA+IDEpIHsgcHJpb3JpdHlXYWxscysrOyB9XG5cdFx0fVxuXG5cdH0gd2hpbGUgKHRoaXMuX2R1Zy9hcmVhIDwgdGhpcy5fb3B0aW9ucy5kdWdQZXJjZW50YWdlIHx8IHByaW9yaXR5V2FsbHMpOyAvKiBmaXhtZSBudW1iZXIgb2YgcHJpb3JpdHkgd2FsbHMgKi9cblxuXHR0aGlzLl9hZGREb29ycygpO1xuXG5cdGlmIChjYWxsYmFjaykge1xuXHRcdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fd2FsbHMgPSB7fTtcblx0dGhpcy5fbWFwID0gbnVsbDtcblxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9kaWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSAwIHx8IHZhbHVlID09IDIpIHsgLyogZW1wdHkgKi9cblx0XHR0aGlzLl9tYXBbeF1beV0gPSAwO1xuXHRcdHRoaXMuX2R1ZysrO1xuXHR9IGVsc2UgeyAvKiB3YWxsICovXG5cdFx0dGhpcy5fd2FsbHNbeCtcIixcIit5XSA9IDE7XG5cdH1cbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9pc1dhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2NhbkJlRHVnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4KzEgPj0gdGhpcy5fd2lkdGggfHwgeSsxID49IHRoaXMuX2hlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fcHJpb3JpdHlXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHRoaXMuX3dhbGxzW3grXCIsXCIreV0gPSAyO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2ZpcnN0Um9vbSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY3ggPSBNYXRoLmZsb29yKHRoaXMuX3dpZHRoLzIpO1xuXHR2YXIgY3kgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodC8yKTtcblx0dmFyIHJvb20gPSBST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb21DZW50ZXIoY3gsIGN5LCB0aGlzLl9vcHRpb25zKTtcblx0dGhpcy5fcm9vbXMucHVzaChyb29tKTtcblx0cm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEdldCBhIHN1aXRhYmxlIHdhbGxcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9maW5kV2FsbCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcHJpbzEgPSBbXTtcblx0dmFyIHByaW8yID0gW107XG5cdGZvciAodmFyIGlkIGluIHRoaXMuX3dhbGxzKSB7XG5cdFx0dmFyIHByaW8gPSB0aGlzLl93YWxsc1tpZF07XG5cdFx0aWYgKHByaW8gPT0gMikgeyBcblx0XHRcdHByaW8yLnB1c2goaWQpOyBcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJpbzEucHVzaChpZCk7XG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgYXJyID0gKHByaW8yLmxlbmd0aCA/IHByaW8yIDogcHJpbzEpO1xuXHRpZiAoIWFyci5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH0gLyogbm8gd2FsbHMgOi8gKi9cblx0XG5cdHZhciBpZCA9IGFyci5yYW5kb20oKTtcblx0ZGVsZXRlIHRoaXMuX3dhbGxzW2lkXTtcblxuXHRyZXR1cm4gaWQ7XG59XG5cbi8qKlxuICogVHJpZXMgYWRkaW5nIGEgZmVhdHVyZVxuICogQHJldHVybnMge2Jvb2x9IHdhcyB0aGlzIGEgc3VjY2Vzc2Z1bCB0cnk/XG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fdHJ5RmVhdHVyZSA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSkge1xuXHR2YXIgZmVhdHVyZSA9IFJPVC5STkcuZ2V0V2VpZ2h0ZWRWYWx1ZSh0aGlzLl9mZWF0dXJlcyk7XG5cdGZlYXR1cmUgPSBST1QuTWFwLkZlYXR1cmVbZmVhdHVyZV0uY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCB0aGlzLl9vcHRpb25zKTtcblx0XG5cdGlmICghZmVhdHVyZS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkge1xuLy9cdFx0Y29uc29sZS5sb2coXCJub3QgdmFsaWRcIik7XG4vL1x0XHRmZWF0dXJlLmRlYnVnKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRmZWF0dXJlLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4vL1x0ZmVhdHVyZS5kZWJ1ZygpO1xuXG5cdGlmIChmZWF0dXJlIGluc3RhbmNlb2YgUk9ULk1hcC5GZWF0dXJlLlJvb20pIHsgdGhpcy5fcm9vbXMucHVzaChmZWF0dXJlKTsgfVxuXHRpZiAoZmVhdHVyZSBpbnN0YW5jZW9mIFJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcikgeyBcblx0XHRmZWF0dXJlLmNyZWF0ZVByaW9yaXR5V2FsbHModGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2spO1xuXHRcdHRoaXMuX2NvcnJpZG9ycy5wdXNoKGZlYXR1cmUpOyBcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgZGVsdGFzID0gUk9ULkRJUlNbNF07XG5cblx0Zm9yICh2YXIgaT0wO2k8ZGVsdGFzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGVsdGEgPSBkZWx0YXNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRlbHRhWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkZWx0YVsxXTtcblx0XHRkZWxldGUgdGhpcy5fd2FsbHNbeCtcIixcIit5XTtcblx0XHR2YXIgeCA9IGN4ICsgMipkZWx0YVswXTtcblx0XHR2YXIgeSA9IGN5ICsgMipkZWx0YVsxXTtcblx0XHRkZWxldGUgdGhpcy5fd2FsbHNbeCtcIixcIit5XTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdmVjdG9yIGluIFwiZGlnZ2luZ1wiIGRpcmVjdGlvbiwgb3IgZmFsc2UsIGlmIHRoaXMgZG9lcyBub3QgZXhpc3QgKG9yIGlzIG5vdCB1bmlxdWUpXG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fZ2V0RGlnZ2luZ0RpcmVjdGlvbiA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHRpZiAoY3ggPD0gMCB8fCBjeSA8PSAwIHx8IGN4ID49IHRoaXMuX3dpZHRoIC0gMSB8fCBjeSA+PSB0aGlzLl9oZWlnaHQgLSAxKSB7IHJldHVybiBudWxsOyB9XG5cblx0dmFyIHJlc3VsdCA9IG51bGw7XG5cdHZhciBkZWx0YXMgPSBST1QuRElSU1s0XTtcblx0XG5cdGZvciAodmFyIGk9MDtpPGRlbHRhcy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuXHRcdHZhciB4ID0gY3ggKyBkZWx0YVswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGVsdGFbMV07XG5cdFx0XG5cdFx0aWYgKCF0aGlzLl9tYXBbeF1beV0pIHsgLyogdGhlcmUgYWxyZWFkeSBpcyBhbm90aGVyIGVtcHR5IG5laWdoYm9yISAqL1xuXHRcdFx0aWYgKHJlc3VsdCkgeyByZXR1cm4gbnVsbDsgfVxuXHRcdFx0cmVzdWx0ID0gZGVsdGE7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKiBubyBlbXB0eSBuZWlnaGJvciAqL1xuXHRpZiAoIXJlc3VsdCkgeyByZXR1cm4gbnVsbDsgfVxuXHRcblx0cmV0dXJuIFstcmVzdWx0WzBdLCAtcmVzdWx0WzFdXTtcbn1cblxuLyoqXG4gKiBGaW5kIGVtcHR5IHNwYWNlcyBzdXJyb3VuZGluZyByb29tcywgYW5kIGFwcGx5IGRvb3JzLlxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2FkZERvb3JzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBkYXRhID0gdGhpcy5fbWFwO1xuXHR2YXIgaXNXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdFx0cmV0dXJuIChkYXRhW3hdW3ldID09IDEpO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcm9vbXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dmFyIHJvb20gPSB0aGlzLl9yb29tc1tpXTtcblx0XHRyb29tLmNsZWFyRG9vcnMoKTtcblx0XHRyb29tLmFkZERvb3JzKGlzV2FsbENhbGxiYWNrKTtcblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBnZW5lcmF0b3Igd2hpY2ggdHJpZXMgdG8gZmlsbCB0aGUgc3BhY2UgZXZlbmx5LiBHZW5lcmF0ZXMgaW5kZXBlbmRlbnQgcm9vbXMgYW5kIHRyaWVzIHRvIGNvbm5lY3QgdGhlbS5cbiAqIEBhdWdtZW50cyBST1QuTWFwLkR1bmdlb25cbiAqL1xuUk9ULk1hcC5Vbmlmb3JtID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLkR1bmdlb24uY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHJvb21XaWR0aDogWzMsIDldLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gd2lkdGggKi9cblx0XHRyb29tSGVpZ2h0OiBbMywgNV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSBoZWlnaHQgKi9cblx0XHRyb29tRHVnUGVyY2VudGFnZTogMC4xLCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgcGVyY2VudGFnZSBvZiBsZXZlbCBhcmVhIGhhcyBiZWVuIGR1ZyBvdXQgYnkgcm9vbXMgKi9cblx0XHR0aW1lTGltaXQ6IDEwMDAgLyogd2Ugc3RvcCBhZnRlciB0aGlzIG11Y2ggdGltZSBoYXMgcGFzc2VkIChtc2VjKSAqL1xuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXG5cdHRoaXMuX3Jvb21BdHRlbXB0cyA9IDIwOyAvKiBuZXcgcm9vbSBpcyBjcmVhdGVkIE4tdGltZXMgdW50aWwgaXMgY29uc2lkZXJlZCBhcyBpbXBvc3NpYmxlIHRvIGdlbmVyYXRlICovXG5cdHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMgPSAyMDsgLyogY29ycmlkb3JzIGFyZSB0cmllZCBOLXRpbWVzIHVudGlsIHRoZSBsZXZlbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gY29ubmVjdCAqL1xuXG5cdHRoaXMuX2Nvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIGFscmVhZHkgY29ubmVjdGVkIHJvb21zICovXG5cdHRoaXMuX3VuY29ubmVjdGVkID0gW107IC8qIGxpc3Qgb2YgcmVtYWluaW5nIHVuY29ubmVjdGVkIHJvb21zICovXG5cdFxuXHR0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbn1cblJPVC5NYXAuVW5pZm9ybS5leHRlbmQoUk9ULk1hcC5EdW5nZW9uKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtYXAuIElmIHRoZSB0aW1lIGxpbWl0IGhhcyBiZWVuIGhpdCwgcmV0dXJucyBudWxsLlxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB0MSA9IERhdGUubm93KCk7XG5cdHdoaWxlICgxKSB7XG5cdFx0dmFyIHQyID0gRGF0ZS5ub3coKTtcblx0XHRpZiAodDIgLSB0MSA+IHRoaXMuX29wdGlvbnMudGltZUxpbWl0KSB7IHJldHVybiBudWxsOyB9IC8qIHRpbWUgbGltaXQhICovXG5cdFxuXHRcdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdFx0dGhpcy5fZHVnID0gMDtcblx0XHR0aGlzLl9yb29tcyA9IFtdO1xuXHRcdHRoaXMuX3VuY29ubmVjdGVkID0gW107XG5cdFx0dGhpcy5fZ2VuZXJhdGVSb29tcygpO1xuXHRcdGlmICh0aGlzLl9yb29tcy5sZW5ndGggPCAyKSB7IGNvbnRpbnVlOyB9XG5cdFx0aWYgKHRoaXMuX2dlbmVyYXRlQ29ycmlkb3JzKCkpIHsgYnJlYWs7IH1cblx0fVxuXHRcblx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzdWl0YWJsZSBhbW91bnQgb2Ygcm9vbXNcbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZ2VuZXJhdGVSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdyA9IHRoaXMuX3dpZHRoLTI7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0LTI7XG5cblx0ZG8ge1xuXHRcdHZhciByb29tID0gdGhpcy5fZ2VuZXJhdGVSb29tKCk7XG5cdFx0aWYgKHRoaXMuX2R1Zy8odypoKSA+IHRoaXMuX29wdGlvbnMucm9vbUR1Z1BlcmNlbnRhZ2UpIHsgYnJlYWs7IH0gLyogYWNoaWV2ZWQgcmVxdWVzdGVkIGFtb3VudCBvZiBmcmVlIHNwYWNlICovXG5cdH0gd2hpbGUgKHJvb20pO1xuXG5cdC8qIGVpdGhlciBlbm91Z2ggcm9vbXMsIG9yIG5vdCBhYmxlIHRvIGdlbmVyYXRlIG1vcmUgb2YgdGhlbSA6KSAqL1xufVxuXG4vKipcbiAqIFRyeSB0byBnZW5lcmF0ZSBvbmUgcm9vbVxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZVJvb20gPSBmdW5jdGlvbigpIHtcblx0dmFyIGNvdW50ID0gMDtcblx0d2hpbGUgKGNvdW50IDwgdGhpcy5fcm9vbUF0dGVtcHRzKSB7XG5cdFx0Y291bnQrKztcblx0XHRcblx0XHR2YXIgcm9vbSA9IFJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbSh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcblx0XHRpZiAoIXJvb20uaXNWYWxpZCh0aGlzLl9pc1dhbGxDYWxsYmFjaywgdGhpcy5fY2FuQmVEdWdDYWxsYmFjaykpIHsgY29udGludWU7IH1cblx0XHRcblx0XHRyb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG5cdFx0dGhpcy5fcm9vbXMucHVzaChyb29tKTtcblx0XHRyZXR1cm4gcm9vbTtcblx0fSBcblxuXHQvKiBubyByb29tIHdhcyBnZW5lcmF0ZWQgaW4gYSBnaXZlbiBudW1iZXIgb2YgYXR0ZW1wdHMgKi9cblx0cmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGNvbm5lY3RvcnMgYmV3ZWVuIHJvb21zXG4gKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2VzcyBXYXMgdGhpcyBhdHRlbXB0IHN1Y2Nlc3NmdWxsP1xuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZUNvcnJpZG9ycyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY250ID0gMDtcblx0d2hpbGUgKGNudCA8IHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMpIHtcblx0XHRjbnQrKztcblx0XHR0aGlzLl9jb3JyaWRvcnMgPSBbXTtcblxuXHRcdC8qIGRpZyByb29tcyBpbnRvIGEgY2xlYXIgbWFwICovXG5cdFx0dGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl9yb29tcy5sZW5ndGg7aSsrKSB7IFxuXHRcdFx0dmFyIHJvb20gPSB0aGlzLl9yb29tc1tpXTtcblx0XHRcdHJvb20uY2xlYXJEb29ycygpO1xuXHRcdFx0cm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spOyBcblx0XHR9XG5cblx0XHR0aGlzLl91bmNvbm5lY3RlZCA9IHRoaXMuX3Jvb21zLnNsaWNlKCkucmFuZG9taXplKCk7XG5cdFx0dGhpcy5fY29ubmVjdGVkID0gW107XG5cdFx0aWYgKHRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkgeyB0aGlzLl9jb25uZWN0ZWQucHVzaCh0aGlzLl91bmNvbm5lY3RlZC5wb3AoKSk7IH0gLyogZmlyc3Qgb25lIGlzIGFsd2F5cyBjb25uZWN0ZWQgKi9cblx0XHRcblx0XHR3aGlsZSAoMSkge1xuXHRcdFx0LyogMS4gcGljayByYW5kb20gY29ubmVjdGVkIHJvb20gKi9cblx0XHRcdHZhciBjb25uZWN0ZWQgPSB0aGlzLl9jb25uZWN0ZWQucmFuZG9tKCk7XG5cdFx0XHRcblx0XHRcdC8qIDIuIGZpbmQgY2xvc2VzdCB1bmNvbm5lY3RlZCAqL1xuXHRcdFx0dmFyIHJvb20xID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fdW5jb25uZWN0ZWQsIGNvbm5lY3RlZCk7XG5cdFx0XHRcblx0XHRcdC8qIDMuIGNvbm5lY3QgaXQgdG8gY2xvc2VzdCBjb25uZWN0ZWQgKi9cblx0XHRcdHZhciByb29tMiA9IHRoaXMuX2Nsb3Nlc3RSb29tKHRoaXMuX2Nvbm5lY3RlZCwgcm9vbTEpO1xuXHRcdFx0XG5cdFx0XHR2YXIgb2sgPSB0aGlzLl9jb25uZWN0Um9vbXMocm9vbTEsIHJvb20yKTtcblx0XHRcdGlmICghb2spIHsgYnJlYWs7IH0gLyogc3RvcCBjb25uZWN0aW5nLCByZS1zaHVmZmxlICovXG5cdFx0XHRcblx0XHRcdGlmICghdGhpcy5fdW5jb25uZWN0ZWQubGVuZ3RoKSB7IHJldHVybiB0cnVlOyB9IC8qIGRvbmU7IG5vIHJvb21zIHJlbWFpbiAqL1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRm9yIGEgZ2l2ZW4gcm9vbSwgZmluZCB0aGUgY2xvc2VzdCBvbmUgZnJvbSB0aGUgbGlzdFxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9jbG9zZXN0Um9vbSA9IGZ1bmN0aW9uKHJvb21zLCByb29tKSB7XG5cdHZhciBkaXN0ID0gSW5maW5pdHk7XG5cdHZhciBjZW50ZXIgPSByb29tLmdldENlbnRlcigpO1xuXHR2YXIgcmVzdWx0ID0gbnVsbDtcblx0XG5cdGZvciAodmFyIGk9MDtpPHJvb21zLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgciA9IHJvb21zW2ldO1xuXHRcdHZhciBjID0gci5nZXRDZW50ZXIoKTtcblx0XHR2YXIgZHggPSBjWzBdLWNlbnRlclswXTtcblx0XHR2YXIgZHkgPSBjWzFdLWNlbnRlclsxXTtcblx0XHR2YXIgZCA9IGR4KmR4K2R5KmR5O1xuXHRcdFxuXHRcdGlmIChkIDwgZGlzdCkge1xuXHRcdFx0ZGlzdCA9IGQ7XG5cdFx0XHRyZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fY29ubmVjdFJvb21zID0gZnVuY3Rpb24ocm9vbTEsIHJvb20yKSB7XG5cdC8qXG5cdFx0cm9vbTEuZGVidWcoKTtcblx0XHRyb29tMi5kZWJ1ZygpO1xuXHQqL1xuXG5cdHZhciBjZW50ZXIxID0gcm9vbTEuZ2V0Q2VudGVyKCk7XG5cdHZhciBjZW50ZXIyID0gcm9vbTIuZ2V0Q2VudGVyKCk7XG5cblx0dmFyIGRpZmZYID0gY2VudGVyMlswXSAtIGNlbnRlcjFbMF07XG5cdHZhciBkaWZmWSA9IGNlbnRlcjJbMV0gLSBjZW50ZXIxWzFdO1xuXG5cdGlmIChNYXRoLmFicyhkaWZmWCkgPCBNYXRoLmFicyhkaWZmWSkpIHsgLyogZmlyc3QgdHJ5IGNvbm5lY3Rpbmcgbm9ydGgtc291dGggd2FsbHMgKi9cblx0XHR2YXIgZGlySW5kZXgxID0gKGRpZmZZID4gMCA/IDIgOiAwKTtcblx0XHR2YXIgZGlySW5kZXgyID0gKGRpckluZGV4MSArIDIpICUgNDtcblx0XHR2YXIgbWluID0gcm9vbTIuZ2V0TGVmdCgpO1xuXHRcdHZhciBtYXggPSByb29tMi5nZXRSaWdodCgpO1xuXHRcdHZhciBpbmRleCA9IDA7XG5cdH0gZWxzZSB7IC8qIGZpcnN0IHRyeSBjb25uZWN0aW5nIGVhc3Qtd2VzdCB3YWxscyAqL1xuXHRcdHZhciBkaXJJbmRleDEgPSAoZGlmZlggPiAwID8gMSA6IDMpO1xuXHRcdHZhciBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuXHRcdHZhciBtaW4gPSByb29tMi5nZXRUb3AoKTtcblx0XHR2YXIgbWF4ID0gcm9vbTIuZ2V0Qm90dG9tKCk7XG5cdFx0dmFyIGluZGV4ID0gMTtcblx0fVxuXG5cdHZhciBzdGFydCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20xLCBkaXJJbmRleDEpOyAvKiBjb3JyaWRvciB3aWxsIHN0YXJ0IGhlcmUgKi9cblx0aWYgKCFzdGFydCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoc3RhcnRbaW5kZXhdID49IG1pbiAmJiBzdGFydFtpbmRleF0gPD0gbWF4KSB7IC8qIHBvc3NpYmxlIHRvIGNvbm5lY3Qgd2l0aCBzdHJhaWdodCBsaW5lIChJLWxpa2UpICovXG5cdFx0dmFyIGVuZCA9IHN0YXJ0LnNsaWNlKCk7XG5cdFx0dmFyIHZhbHVlID0gbnVsbDtcblx0XHRzd2l0Y2ggKGRpckluZGV4Mikge1xuXHRcdFx0Y2FzZSAwOiB2YWx1ZSA9IHJvb20yLmdldFRvcCgpLTE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAxOiB2YWx1ZSA9IHJvb20yLmdldFJpZ2h0KCkrMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IHZhbHVlID0gcm9vbTIuZ2V0Qm90dG9tKCkrMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDM6IHZhbHVlID0gcm9vbTIuZ2V0TGVmdCgpLTE7IGJyZWFrO1xuXHRcdH1cblx0XHRlbmRbKGluZGV4KzEpJTJdID0gdmFsdWU7XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIGVuZF0pO1xuXHRcdFxuXHR9IGVsc2UgaWYgKHN0YXJ0W2luZGV4XSA8IG1pbi0xIHx8IHN0YXJ0W2luZGV4XSA+IG1heCsxKSB7IC8qIG5lZWQgdG8gc3dpdGNoIHRhcmdldCB3YWxsIChMLWxpa2UpICovXG5cblx0XHR2YXIgZGlmZiA9IHN0YXJ0W2luZGV4XSAtIGNlbnRlcjJbaW5kZXhdO1xuXHRcdHN3aXRjaCAoZGlySW5kZXgyKSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRjYXNlIDE6XHR2YXIgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAzIDogMSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0Y2FzZSAzOlx0dmFyIHJvdGF0aW9uID0gKGRpZmYgPCAwID8gMSA6IDMpOyBicmVhaztcblx0XHR9XG5cdFx0ZGlySW5kZXgyID0gKGRpckluZGV4MiArIHJvdGF0aW9uKSAlIDQ7XG5cdFx0XG5cdFx0dmFyIGVuZCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20yLCBkaXJJbmRleDIpO1xuXHRcdGlmICghZW5kKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdFx0dmFyIG1pZCA9IFswLCAwXTtcblx0XHRtaWRbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuXHRcdHZhciBpbmRleDIgPSAoaW5kZXgrMSklMjtcblx0XHRtaWRbaW5kZXgyXSA9IGVuZFtpbmRleDJdO1xuXHRcdHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQsIGVuZF0pO1xuXHRcdFxuXHR9IGVsc2UgeyAvKiB1c2UgY3VycmVudCB3YWxsIHBhaXIsIGJ1dCBhZGp1c3QgdGhlIGxpbmUgaW4gdGhlIG1pZGRsZSAoUy1saWtlKSAqL1xuXHRcblx0XHR2YXIgaW5kZXgyID0gKGluZGV4KzEpJTI7XG5cdFx0dmFyIGVuZCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20yLCBkaXJJbmRleDIpO1xuXHRcdGlmICghZW5kKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdHZhciBtaWQgPSBNYXRoLnJvdW5kKChlbmRbaW5kZXgyXSArIHN0YXJ0W2luZGV4Ml0pLzIpO1xuXG5cdFx0dmFyIG1pZDEgPSBbMCwgMF07XG5cdFx0dmFyIG1pZDIgPSBbMCwgMF07XG5cdFx0bWlkMVtpbmRleF0gPSBzdGFydFtpbmRleF07XG5cdFx0bWlkMVtpbmRleDJdID0gbWlkO1xuXHRcdG1pZDJbaW5kZXhdID0gZW5kW2luZGV4XTtcblx0XHRtaWQyW2luZGV4Ml0gPSBtaWQ7XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIG1pZDEsIG1pZDIsIGVuZF0pO1xuXHR9XG5cblx0cm9vbTEuYWRkRG9vcihzdGFydFswXSwgc3RhcnRbMV0pO1xuXHRyb29tMi5hZGREb29yKGVuZFswXSwgZW5kWzFdKTtcblx0XG5cdHZhciBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTEpO1xuXHRpZiAoaW5kZXggIT0gLTEpIHtcblx0XHR0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHJvb20xKTtcblx0fVxuXG5cdHZhciBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTIpO1xuXHRpZiAoaW5kZXggIT0gLTEpIHtcblx0XHR0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHJvb20yKTtcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX3BsYWNlSW5XYWxsID0gZnVuY3Rpb24ocm9vbSwgZGlySW5kZXgpIHtcblx0dmFyIHN0YXJ0ID0gWzAsIDBdO1xuXHR2YXIgZGlyID0gWzAsIDBdO1xuXHR2YXIgbGVuZ3RoID0gMDtcblx0XG5cdHN3aXRjaCAoZGlySW5kZXgpIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRkaXIgPSBbMSwgMF07XG5cdFx0XHRzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRUb3AoKS0xXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKS1yb29tLmdldExlZnQoKSsxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdGRpciA9IFswLCAxXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0UmlnaHQoKSsxLCByb29tLmdldFRvcCgpXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0Qm90dG9tKCktcm9vbS5nZXRUb3AoKSsxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGRpciA9IFsxLCAwXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLCByb29tLmdldEJvdHRvbSgpKzFdO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRSaWdodCgpLXJvb20uZ2V0TGVmdCgpKzE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0ZGlyID0gWzAsIDFdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCktMSwgcm9vbS5nZXRUb3AoKV07XG5cdFx0XHRsZW5ndGggPSByb29tLmdldEJvdHRvbSgpLXJvb20uZ2V0VG9wKCkrMTtcblx0XHRicmVhaztcblx0fVxuXHRcblx0dmFyIGF2YWlsID0gW107XG5cdHZhciBsYXN0QmFkSW5kZXggPSAtMjtcblxuXHRmb3IgKHZhciBpPTA7aTxsZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHggPSBzdGFydFswXSArIGkqZGlyWzBdO1xuXHRcdHZhciB5ID0gc3RhcnRbMV0gKyBpKmRpclsxXTtcblx0XHRhdmFpbC5wdXNoKG51bGwpO1xuXHRcdFxuXHRcdHZhciBpc1dhbGwgPSAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuXHRcdGlmIChpc1dhbGwpIHtcblx0XHRcdGlmIChsYXN0QmFkSW5kZXggIT0gaS0xKSB7IGF2YWlsW2ldID0gW3gsIHldOyB9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxhc3RCYWRJbmRleCA9IGk7XG5cdFx0XHRpZiAoaSkgeyBhdmFpbFtpLTFdID0gbnVsbDsgfVxuXHRcdH1cblx0fVxuXHRcblx0Zm9yICh2YXIgaT1hdmFpbC5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG5cdFx0aWYgKCFhdmFpbFtpXSkgeyBhdmFpbC5zcGxpY2UoaSwgMSk7IH1cblx0fVxuXHRyZXR1cm4gKGF2YWlsLmxlbmd0aCA/IGF2YWlsLnJhbmRvbSgpIDogbnVsbCk7XG59XG5cbi8qKlxuICogRGlnIGEgcG9seWxpbmUuXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2RpZ0xpbmUgPSBmdW5jdGlvbihwb2ludHMpIHtcblx0Zm9yICh2YXIgaT0xO2k8cG9pbnRzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgc3RhcnQgPSBwb2ludHNbaS0xXTtcblx0XHR2YXIgZW5kID0gcG9pbnRzW2ldO1xuXHRcdHZhciBjb3JyaWRvciA9IG5ldyBST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdLCBlbmRbMF0sIGVuZFsxXSk7XG5cdFx0Y29ycmlkb3IuY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcblx0XHR0aGlzLl9jb3JyaWRvcnMucHVzaChjb3JyaWRvcik7XG5cdH1cbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZGlnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5LCB2YWx1ZSkge1xuXHR0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTtcblx0aWYgKHZhbHVlID09IDApIHsgdGhpcy5fZHVnKys7IH1cbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5faXNXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fY2FuQmVEdWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHgrMSA+PSB0aGlzLl93aWR0aCB8fCB5KzEgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIGh5YWt1Z2VpXG4gKiBAY2xhc3MgRHVuZ2VvbiBnZW5lcmF0b3Igd2hpY2ggdXNlcyB0aGUgXCJvcmdpbmFsXCIgUm9ndWUgZHVuZ2VvbiBnZW5lcmF0aW9uIGFsZ29yaXRobS4gU2VlIGh0dHA6Ly9rdW9pLmNvbS9+a2FtaWthemUvR2FtZURlc2lnbi9hcnQwN19yb2d1ZV9kdW5nZW9uLnBocFxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmNlbGxXaWR0aD0zXSBOdW1iZXIgb2YgY2VsbHMgdG8gY3JlYXRlIG9uIHRoZSBob3Jpem9udGFsIChudW1iZXIgb2Ygcm9vbXMgaG9yaXpvbnRhbGx5KVxuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuY2VsbEhlaWdodD0zXSBOdW1iZXIgb2YgY2VsbHMgdG8gY3JlYXRlIG9uIHRoZSB2ZXJ0aWNhbCAobnVtYmVyIG9mIHJvb21zIHZlcnRpY2FsbHkpIFxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnJvb21XaWR0aF0gUm9vbSBtaW4gYW5kIG1heCB3aWR0aCAtIG5vcm1hbGx5IHNldCBhdXRvLW1hZ2ljYWxseSB2aWEgdGhlIGNvbnN0cnVjdG9yLlxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnJvb21IZWlnaHRdIFJvb20gbWluIGFuZCBtYXggaGVpZ2h0IC0gbm9ybWFsbHkgc2V0IGF1dG8tbWFnaWNhbGx5IHZpYSB0aGUgY29uc3RydWN0b3IuIFxuICovXG5ST1QuTWFwLlJvZ3VlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdGNlbGxXaWR0aDogMywgIC8vIE5PVEUgdG8gc2VsZiwgdGhlc2UgY291bGQgcHJvYmFibHkgd29yayB0aGUgc2FtZSBhcyB0aGUgcm9vbVdpZHRoL3Jvb20gSGVpZ2h0IHZhbHVlc1xuXHRcdGNlbGxIZWlnaHQ6IDMgIC8vICAgICBpZS4gYXMgYW4gYXJyYXkgd2l0aCBtaW4tbWF4IHZhbHVlcyBmb3IgZWFjaCBkaXJlY3Rpb24uLi4uXG5cdH1cblx0XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRcblx0Lypcblx0U2V0IHRoZSByb29tIHNpemVzIGFjY29yZGluZyB0byB0aGUgb3Zlci1hbGwgd2lkdGggb2YgdGhlIG1hcCwgXG5cdGFuZCB0aGUgY2VsbCBzaXplcy4gXG5cdCovXG5cdFxuXHRpZiAoIXRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tV2lkdGhcIikpIHtcblx0XHR0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdID0gdGhpcy5fY2FsY3VsYXRlUm9vbVNpemUodGhpcy5fd2lkdGgsIHRoaXMuX29wdGlvbnNbXCJjZWxsV2lkdGhcIl0pO1xuXHR9XG5cdGlmICghdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcInJvb21IZWlnaHRcIikpIHtcblx0XHR0aGlzLl9vcHRpb25zW1wicm9vbUhlaWdodFwiXSA9IHRoaXMuX2NhbGN1bGF0ZVJvb21TaXplKHRoaXMuX2hlaWdodCwgdGhpcy5fb3B0aW9uc1tcImNlbGxIZWlnaHRcIl0pO1xuXHR9XG5cdFxufVxuXG5ST1QuTWFwLlJvZ3VlLmV4dGVuZChST1QuTWFwKTsgXG5cbi8qKlxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR0aGlzLm1hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdHRoaXMucm9vbXMgPSBbXTtcblx0dGhpcy5jb25uZWN0ZWRDZWxscyA9IFtdO1xuXHRcblx0dGhpcy5faW5pdFJvb21zKCk7XG5cdHRoaXMuX2Nvbm5lY3RSb29tcygpO1xuXHR0aGlzLl9jb25uZWN0VW5jb25uZWN0ZWRSb29tcygpO1xuXHR0aGlzLl9jcmVhdGVSYW5kb21Sb29tQ29ubmVjdGlvbnMoKTtcblx0dGhpcy5fY3JlYXRlUm9vbXMoKTtcblx0dGhpcy5fY3JlYXRlQ29ycmlkb3JzKCk7XG5cdFxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcblx0XHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5tYXBbaV1bal0pOyAgIFxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jYWxjdWxhdGVSb29tU2l6ZSA9IGZ1bmN0aW9uKHNpemUsIGNlbGwpIHtcblx0dmFyIG1heCA9IE1hdGguZmxvb3IoKHNpemUvY2VsbCkgKiAwLjgpO1xuXHR2YXIgbWluID0gTWF0aC5mbG9vcigoc2l6ZS9jZWxsKSAqIDAuMjUpO1xuXHRpZiAobWluIDwgMikgbWluID0gMjtcblx0aWYgKG1heCA8IDIpIG1heCA9IDI7XG5cdHJldHVybiBbbWluLCBtYXhdO1xufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5faW5pdFJvb21zID0gZnVuY3Rpb24gKCkgeyBcblx0Ly8gY3JlYXRlIHJvb21zIGFycmF5LiBUaGlzIGlzIHRoZSBcImdyaWRcIiBsaXN0IGZyb20gdGhlIGFsZ28uICBcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDsgaSsrKSB7ICBcblx0XHR0aGlzLnJvb21zLnB1c2goW10pO1xuXHRcdGZvcih2YXIgaiA9IDA7IGogPCB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7IGorKykge1xuXHRcdFx0dGhpcy5yb29tc1tpXS5wdXNoKHtcInhcIjowLCBcInlcIjowLCBcIndpZHRoXCI6MCwgXCJoZWlnaHRcIjowLCBcImNvbm5lY3Rpb25zXCI6W10sIFwiY2VsbHhcIjppLCBcImNlbGx5XCI6an0pO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY29ubmVjdFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vcGljayByYW5kb20gc3RhcnRpbmcgZ3JpZFxuXHR2YXIgY2d4ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoLTEpO1xuXHR2YXIgY2d5ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodC0xKTtcblx0XG5cdHZhciBpZHg7XG5cdHZhciBuY2d4O1xuXHR2YXIgbmNneTtcblx0XG5cdHZhciBmb3VuZCA9IGZhbHNlO1xuXHR2YXIgcm9vbTtcblx0dmFyIG90aGVyUm9vbTtcblx0XG5cdC8vIGZpbmQgIHVuY29ubmVjdGVkIG5laWdoYm91ciBjZWxsc1xuXHRkbyB7XG5cdFxuXHRcdC8vdmFyIGRpclRvQ2hlY2sgPSBbMCwxLDIsMyw0LDUsNiw3XTtcblx0XHR2YXIgZGlyVG9DaGVjayA9IFswLDIsNCw2XTtcblx0XHRkaXJUb0NoZWNrID0gZGlyVG9DaGVjay5yYW5kb21pemUoKTtcblx0XHRcblx0XHRkbyB7XG5cdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0aWR4ID0gZGlyVG9DaGVjay5wb3AoKTtcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRuY2d4ID0gY2d4ICsgUk9ULkRJUlNbOF1baWR4XVswXTtcblx0XHRcdG5jZ3kgPSBjZ3kgKyBST1QuRElSU1s4XVtpZHhdWzFdO1xuXHRcdFx0XG5cdFx0XHRpZihuY2d4IDwgMCB8fCBuY2d4ID49IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoKSBjb250aW51ZTtcblx0XHRcdGlmKG5jZ3kgPCAwIHx8IG5jZ3kgPj0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0KSBjb250aW51ZTtcblx0XHRcdFxuXHRcdFx0cm9vbSA9IHRoaXMucm9vbXNbY2d4XVtjZ3ldO1xuXHRcdFx0XG5cdFx0XHRpZihyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID4gMClcblx0XHRcdHtcblx0XHRcdFx0Ly8gYXMgbG9uZyBhcyB0aGlzIHJvb20gZG9lc24ndCBhbHJlYWR5IGNvb25lY3QgdG8gbWUsIHdlIGFyZSBvayB3aXRoIGl0LiBcblx0XHRcdFx0aWYocm9vbVtcImNvbm5lY3Rpb25zXCJdWzBdWzBdID09IG5jZ3ggJiZcblx0XHRcdFx0cm9vbVtcImNvbm5lY3Rpb25zXCJdWzBdWzFdID09IG5jZ3kpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW25jZ3hdW25jZ3ldO1xuXHRcdFx0XG5cdFx0XHRpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHsgXG5cdFx0XHRcdG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLnB1c2goW2NneCxjZ3ldKTtcblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuY29ubmVjdGVkQ2VsbHMucHVzaChbbmNneCwgbmNneV0pO1xuXHRcdFx0XHRjZ3ggPSBuY2d4O1xuXHRcdFx0XHRjZ3kgPSBuY2d5O1xuXHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0fSB3aGlsZSAoZGlyVG9DaGVjay5sZW5ndGggPiAwICYmIGZvdW5kID09IGZhbHNlKVxuXHRcdFxuXHR9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDApXG5cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vV2hpbGUgdGhlcmUgYXJlIHVuY29ubmVjdGVkIHJvb21zLCB0cnkgdG8gY29ubmVjdCB0aGVtIHRvIGEgcmFuZG9tIGNvbm5lY3RlZCBuZWlnaGJvciBcblx0Ly8oaWYgYSByb29tIGhhcyBubyBjb25uZWN0ZWQgbmVpZ2hib3JzIHlldCwganVzdCBrZWVwIGN5Y2xpbmcsIHlvdSdsbCBmaWxsIG91dCB0byBpdCBldmVudHVhbGx5KS5cblx0dmFyIGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG5cdHZhciBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcblx0XG5cdHZhciByYW5kb21Db25uZWN0ZWRDZWxsO1xuXHR0aGlzLmNvbm5lY3RlZENlbGxzID0gdGhpcy5jb25uZWN0ZWRDZWxscy5yYW5kb21pemUoKTtcblx0dmFyIHJvb207XG5cdHZhciBvdGhlclJvb207XG5cdHZhciB2YWxpZFJvb207XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSAge1xuXHRcdFx0XHRcblx0XHRcdHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuXHRcdFx0XG5cdFx0XHRpZiAocm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdHZhciBkaXJlY3Rpb25zID0gWzAsMiw0LDZdO1xuXHRcdFx0XHRkaXJlY3Rpb25zID0gZGlyZWN0aW9ucy5yYW5kb21pemUoKTtcblx0XHRcdFx0XG5cdFx0XHRcdHZhciB2YWxpZFJvb20gPSBmYWxzZTtcblx0XHRcdFx0XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR2YXIgZGlySWR4ID0gZGlyZWN0aW9ucy5wb3AoKTtcblx0XHRcdFx0XHR2YXIgbmV3SSA9IGkgKyBST1QuRElSU1s4XVtkaXJJZHhdWzBdO1xuXHRcdFx0XHRcdHZhciBuZXdKID0gaiArIFJPVC5ESVJTWzhdW2RpcklkeF1bMV07XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKG5ld0kgPCAwIHx8IG5ld0kgPj0gY3cgfHwgXG5cdFx0XHRcdFx0bmV3SiA8IDAgfHwgbmV3SiA+PSBjaCkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmV3SV1bbmV3Sl07XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0dmFsaWRSb29tID0gdHJ1ZTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHRpZihvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXVtrXVswXSA9PSBpICYmIFxuXHRcdFx0XHRcdFx0b3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMV0gPT0gaikge1xuXHRcdFx0XHRcdFx0XHR2YWxpZFJvb20gPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmICh2YWxpZFJvb20pIGJyZWFrO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHR9IHdoaWxlIChkaXJlY3Rpb25zLmxlbmd0aClcblx0XHRcdFx0XG5cdFx0XHRcdGlmKHZhbGlkUm9vbSkgeyBcblx0XHRcdFx0XHRyb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaCggW290aGVyUm9vbVtcImNlbGx4XCJdLCBvdGhlclJvb21bXCJjZWxseVwiXV0gKTsgIFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0gVW5hYmxlIHRvIGNvbm5lY3Qgcm9vbS5cIik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyA9IGZ1bmN0aW9uKGNvbm5lY3Rpb25zKSB7XG5cdC8vIEVtcHR5IGZvciBub3cuIFxufVxuXG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jcmVhdGVSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBDcmVhdGUgUm9vbXMgXG5cdFxuXHR2YXIgdyA9IHRoaXMuX3dpZHRoO1xuXHR2YXIgaCA9IHRoaXMuX2hlaWdodDtcblx0XG5cdHZhciBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuXHR2YXIgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG5cdFxuXHR2YXIgY3dwID0gTWF0aC5mbG9vcih0aGlzLl93aWR0aCAvIGN3KTtcblx0dmFyIGNocCA9IE1hdGguZmxvb3IodGhpcy5faGVpZ2h0IC8gY2gpO1xuXHRcblx0dmFyIHJvb213O1xuXHR2YXIgcm9vbWg7XG5cdHZhciByb29tV2lkdGggPSB0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdO1xuXHR2YXIgcm9vbUhlaWdodCA9IHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdO1xuXHR2YXIgc3g7XG5cdHZhciBzeTtcblx0dmFyIHR4O1xuXHR2YXIgdHk7XG5cdHZhciBvdGhlclJvb207XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGN3OyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNoOyBqKyspIHtcblx0XHRcdHN4ID0gY3dwICogaTtcblx0XHRcdHN5ID0gY2hwICogajtcblx0XHRcdFxuXHRcdFx0aWYgKHN4ID09IDApIHN4ID0gMTtcblx0XHRcdGlmIChzeSA9PSAwKSBzeSA9IDE7XG5cdFx0XHRcblx0XHRcdHJvb213ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KHJvb21XaWR0aFswXSwgcm9vbVdpZHRoWzFdKTtcblx0XHRcdHJvb21oID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KHJvb21IZWlnaHRbMF0sIHJvb21IZWlnaHRbMV0pO1xuXHRcdFx0XG5cdFx0XHRpZiAoaiA+IDApIHtcblx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tpXVtqLTFdO1xuXHRcdFx0XHR3aGlsZSAoc3kgLSAob3RoZXJSb29tW1wieVwiXSArIG90aGVyUm9vbVtcImhlaWdodFwiXSApIDwgMykge1xuXHRcdFx0XHRcdHN5Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbaS0xXVtqXTtcblx0XHRcdFx0d2hpbGUoc3ggLSAob3RoZXJSb29tW1wieFwiXSArIG90aGVyUm9vbVtcIndpZHRoXCJdKSA8IDMpIHtcblx0XHRcdFx0XHRzeCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBzeE9mZnNldCA9IE1hdGgucm91bmQoUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGN3cC1yb29tdykvMik7XG5cdFx0XHR2YXIgc3lPZmZzZXQgPSBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBjaHAtcm9vbWgpLzIpO1xuXHRcdFx0XG5cdFx0XHR3aGlsZSAoc3ggKyBzeE9mZnNldCArIHJvb213ID49IHcpIHtcblx0XHRcdFx0aWYoc3hPZmZzZXQpIHtcblx0XHRcdFx0XHRzeE9mZnNldC0tO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJvb213LS07IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHdoaWxlIChzeSArIHN5T2Zmc2V0ICsgcm9vbWggPj0gaCkgeyBcblx0XHRcdFx0aWYoc3lPZmZzZXQpIHtcblx0XHRcdFx0XHRzeU9mZnNldC0tO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJvb21oLS07IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHN4ID0gc3ggKyBzeE9mZnNldDtcblx0XHRcdHN5ID0gc3kgKyBzeU9mZnNldDtcblx0XHRcdFxuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcInhcIl0gPSBzeDtcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJ5XCJdID0gc3k7XG5cdFx0XHR0aGlzLnJvb21zW2ldW2pdW1wid2lkdGhcIl0gPSByb29tdztcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJoZWlnaHRcIl0gPSByb29taDsgIFxuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciBpaSA9IHN4OyBpaSA8IHN4ICsgcm9vbXc7IGlpKyspIHtcblx0XHRcdFx0Zm9yICh2YXIgamogPSBzeTsgamogPCBzeSArIHJvb21oOyBqaisrKSB7XG5cdFx0XHRcdFx0dGhpcy5tYXBbaWldW2pqXSA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH0gIFxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fZ2V0V2FsbFBvc2l0aW9uID0gZnVuY3Rpb24oYVJvb20sIGFEaXJlY3Rpb24pIHtcblx0dmFyIHJ4O1xuXHR2YXIgcnk7XG5cdHZhciBkb29yO1xuXHRcblx0aWYgKGFEaXJlY3Rpb24gPT0gMSB8fCBhRGlyZWN0aW9uID09IDMpIHtcblx0XHRyeCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInhcIl0gKyAxLCBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdIC0gMik7XG5cdFx0aWYgKGFEaXJlY3Rpb24gPT0gMSkge1xuXHRcdFx0cnkgPSBhUm9vbVtcInlcIl0gLSAyO1xuXHRcdFx0ZG9vciA9IHJ5ICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cnkgPSBhUm9vbVtcInlcIl0gKyBhUm9vbVtcImhlaWdodFwiXSArIDE7XG5cdFx0XHRkb29yID0gcnkgLTE7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMubWFwW3J4XVtkb29yXSA9IDA7IC8vIGknbSBub3Qgc2V0dGluZyBhIHNwZWNpZmljICdkb29yJyB0aWxlIHZhbHVlIHJpZ2h0IG5vdywganVzdCBlbXB0eSBzcGFjZS4gXG5cdFx0XG5cdH0gZWxzZSBpZiAoYURpcmVjdGlvbiA9PSAyIHx8IGFEaXJlY3Rpb24gPT0gNCkge1xuXHRcdHJ5ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KGFSb29tW1wieVwiXSArIDEsIGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdIC0gMik7XG5cdFx0aWYoYURpcmVjdGlvbiA9PSAyKSB7XG5cdFx0XHRyeCA9IGFSb29tW1wieFwiXSArIGFSb29tW1wid2lkdGhcIl0gKyAxO1xuXHRcdFx0ZG9vciA9IHJ4IC0gMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cnggPSBhUm9vbVtcInhcIl0gLSAyO1xuXHRcdFx0ZG9vciA9IHJ4ICsgMTtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5tYXBbZG9vcl1bcnldID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLiBcblx0XHRcblx0fVxuXHRyZXR1cm4gW3J4LCByeV07XG59XG5cbi8qKipcbiogQHBhcmFtIHN0YXJ0UG9zaXRpb24gYSAyIGVsZW1lbnQgYXJyYXlcbiogQHBhcmFtIGVuZFBvc2l0aW9uIGEgMiBlbGVtZW50IGFycmF5XG4qL1xuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2RyYXdDb3JyaWRvcmUgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24pIHtcblx0dmFyIHhPZmZzZXQgPSBlbmRQb3NpdGlvblswXSAtIHN0YXJ0UG9zaXRpb25bMF07XG5cdHZhciB5T2Zmc2V0ID0gZW5kUG9zaXRpb25bMV0gLSBzdGFydFBvc2l0aW9uWzFdO1xuXHRcblx0dmFyIHhwb3MgPSBzdGFydFBvc2l0aW9uWzBdO1xuXHR2YXIgeXBvcyA9IHN0YXJ0UG9zaXRpb25bMV07XG5cdFxuXHR2YXIgdGVtcERpc3Q7XG5cdHZhciB4RGlyO1xuXHR2YXIgeURpcjtcblx0XG5cdHZhciBtb3ZlOyAvLyAyIGVsZW1lbnQgYXJyYXksIGVsZW1lbnQgMCBpcyB0aGUgZGlyZWN0aW9uLCBlbGVtZW50IDEgaXMgdGhlIHRvdGFsIHZhbHVlIHRvIG1vdmUuIFxuXHR2YXIgbW92ZXMgPSBbXTsgLy8gYSBsaXN0IG9mIDIgZWxlbWVudCBhcnJheXNcblx0XG5cdHZhciB4QWJzID0gTWF0aC5hYnMoeE9mZnNldCk7XG5cdHZhciB5QWJzID0gTWF0aC5hYnMoeU9mZnNldCk7XG5cdFxuXHR2YXIgcGVyY2VudCA9IFJPVC5STkcuZ2V0VW5pZm9ybSgpOyAvLyB1c2VkIHRvIHNwbGl0IHRoZSBtb3ZlIGF0IGRpZmZlcmVudCBwbGFjZXMgYWxvbmcgdGhlIGxvbmcgYXhpc1xuXHR2YXIgZmlyc3RIYWxmID0gcGVyY2VudDtcblx0dmFyIHNlY29uZEhhbGYgPSAxIC0gcGVyY2VudDtcblx0XG5cdHhEaXIgPSB4T2Zmc2V0ID4gMCA/IDIgOiA2O1xuXHR5RGlyID0geU9mZnNldCA+IDAgPyA0IDogMDtcblx0XG5cdGlmICh4QWJzIDwgeUFicykge1xuXHRcdC8vIG1vdmUgZmlyc3RIYWxmIG9mIHRoZSB5IG9mZnNldFxuXHRcdHRlbXBEaXN0ID0gTWF0aC5jZWlsKHlBYnMgKiBmaXJzdEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3lEaXIsIHRlbXBEaXN0XSk7XG5cdFx0Ly8gbW92ZSBhbGwgdGhlIHggb2Zmc2V0XG5cdFx0bW92ZXMucHVzaChbeERpciwgeEFic10pO1xuXHRcdC8vIG1vdmUgc2VuZEhhbGYgb2YgdGhlICB5IG9mZnNldFxuXHRcdHRlbXBEaXN0ID0gTWF0aC5mbG9vcih5QWJzICogc2Vjb25kSGFsZik7XG5cdFx0bW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcblx0fSBlbHNlIHtcblx0XHQvLyAgbW92ZSBmaXJzdEhhbGYgb2YgdGhlIHggb2Zmc2V0XG5cdFx0dGVtcERpc3QgPSBNYXRoLmNlaWwoeEFicyAqIGZpcnN0SGFsZik7XG5cdFx0bW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTtcblx0XHQvLyBtb3ZlIGFsbCB0aGUgeSBvZmZzZXRcblx0XHRtb3Zlcy5wdXNoKFt5RGlyLCB5QWJzXSk7XG5cdFx0Ly8gbW92ZSBzZWNvbmRIYWxmIG9mIHRoZSB4IG9mZnNldC5cblx0XHR0ZW1wRGlzdCA9IE1hdGguZmxvb3IoeEFicyAqIHNlY29uZEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3hEaXIsIHRlbXBEaXN0XSk7ICBcblx0fVxuXHRcblx0dGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuXHRcblx0d2hpbGUgKG1vdmVzLmxlbmd0aCA+IDApIHtcblx0XHRtb3ZlID0gbW92ZXMucG9wKCk7XG5cdFx0d2hpbGUgKG1vdmVbMV0gPiAwKSB7XG5cdFx0XHR4cG9zICs9IFJPVC5ESVJTWzhdW21vdmVbMF1dWzBdO1xuXHRcdFx0eXBvcyArPSBST1QuRElSU1s4XVttb3ZlWzBdXVsxXTtcblx0XHRcdHRoaXMubWFwW3hwb3NdW3lwb3NdID0gMDtcblx0XHRcdG1vdmVbMV0gPSBtb3ZlWzFdIC0gMTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZUNvcnJpZG9ycyA9IGZ1bmN0aW9uICgpIHtcblx0Ly8gRHJhdyBDb3JyaWRvcnMgYmV0d2VlbiBjb25uZWN0ZWQgcm9vbXNcblx0XG5cdHZhciBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuXHR2YXIgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG5cdHZhciByb29tO1xuXHR2YXIgY29ubmVjdGlvbjtcblx0dmFyIG90aGVyUm9vbTtcblx0dmFyIHdhbGw7XG5cdHZhciBvdGhlcldhbGw7XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGN3OyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNoOyBqKyspIHtcblx0XHRcdHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IHJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25uZWN0aW9uID0gcm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdOyBcblx0XHRcdFx0XG5cdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbY29ubmVjdGlvblswXV1bY29ubmVjdGlvblsxXV07XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBmaWd1cmUgb3V0IHdoYXQgd2FsbCBvdXIgY29ycmlkb3Igd2lsbCBzdGFydCBvbmUuXG5cdFx0XHRcdC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIGVuZCBvbi4gXG5cdFx0XHRcdGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA+IHJvb21bXCJjZWxseFwiXSApIHtcblx0XHRcdFx0XHR3YWxsID0gMjtcblx0XHRcdFx0XHRvdGhlcldhbGwgPSA0O1xuXHRcdFx0XHR9IGVsc2UgaWYgKG90aGVyUm9vbVtcImNlbGx4XCJdIDwgcm9vbVtcImNlbGx4XCJdICkge1xuXHRcdFx0XHRcdHdhbGwgPSA0O1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDI7XG5cdFx0XHRcdH0gZWxzZSBpZihvdGhlclJvb21bXCJjZWxseVwiXSA+IHJvb21bXCJjZWxseVwiXSkge1xuXHRcdFx0XHRcdHdhbGwgPSAzO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDE7XG5cdFx0XHRcdH0gZWxzZSBpZihvdGhlclJvb21bXCJjZWxseVwiXSA8IHJvb21bXCJjZWxseVwiXSkge1xuXHRcdFx0XHRcdHdhbGwgPSAxO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDM7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuX2RyYXdDb3JyaWRvcmUodGhpcy5fZ2V0V2FsbFBvc2l0aW9uKHJvb20sIHdhbGwpLCB0aGlzLl9nZXRXYWxsUG9zaXRpb24ob3RoZXJSb29tLCBvdGhlcldhbGwpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbi8qKlxuICogQGNsYXNzIER1bmdlb24gZmVhdHVyZTsgaGFzIG93biAuY3JlYXRlKCkgbWV0aG9kXG4gKi9cblJPVC5NYXAuRmVhdHVyZSA9IGZ1bmN0aW9uKCkge31cblJPVC5NYXAuRmVhdHVyZS5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGNhbkJlRHVnQ2FsbGJhY2spIHt9XG5ST1QuTWFwLkZlYXR1cmUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7fVxuUk9ULk1hcC5GZWF0dXJlLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uKCkge31cblJPVC5NYXAuRmVhdHVyZS5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge31cblxuLyoqXG4gKiBAY2xhc3MgUm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHgxXG4gKiBAcGFyYW0ge2ludH0geTFcbiAqIEBwYXJhbSB7aW50fSB4MlxuICogQHBhcmFtIHtpbnR9IHkyXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JYXVxuICogQHBhcmFtIHtpbnR9IFtkb29yWV1cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20gPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgZG9vclgsIGRvb3JZKSB7XG5cdHRoaXMuX3gxID0geDE7XG5cdHRoaXMuX3kxID0geTE7XG5cdHRoaXMuX3gyID0geDI7XG5cdHRoaXMuX3kyID0geTI7XG5cdHRoaXMuX2Rvb3JzID0ge307XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gNCkgeyB0aGlzLmFkZERvb3IoZG9vclgsIGRvb3JZKTsgfVxufVxuUk9ULk1hcC5GZWF0dXJlLlJvb20uZXh0ZW5kKFJPVC5NYXAuRmVhdHVyZSk7XG5cbi8qKlxuICogUm9vbSBvZiByYW5kb20gc2l6ZSwgd2l0aCBhIGdpdmVuIGRvb3JzIGFuZCBkaXJlY3Rpb25cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tQXQgPSBmdW5jdGlvbih4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdGlmIChkeCA9PSAxKSB7IC8qIHRvIHRoZSByaWdodCAqL1xuXHRcdHZhciB5MiA9IHkgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeCsxLCB5MiwgeCt3aWR0aCwgeTIraGVpZ2h0LTEsIHgsIHkpO1xuXHR9XG5cdFxuXHRpZiAoZHggPT0gLTEpIHsgLyogdG8gdGhlIGxlZnQgKi9cblx0XHR2YXIgeTIgPSB5IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHgtd2lkdGgsIHkyLCB4LTEsIHkyK2hlaWdodC0xLCB4LCB5KTtcblx0fVxuXG5cdGlmIChkeSA9PSAxKSB7IC8qIHRvIHRoZSBib3R0b20gKi9cblx0XHR2YXIgeDIgPSB4IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeDIsIHkrMSwgeDIrd2lkdGgtMSwgeStoZWlnaHQsIHgsIHkpO1xuXHR9XG5cblx0aWYgKGR5ID09IC0xKSB7IC8qIHRvIHRoZSB0b3AgKi9cblx0XHR2YXIgeDIgPSB4IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeDIsIHktaGVpZ2h0LCB4Mit3aWR0aC0xLCB5LTEsIHgsIHkpO1xuXHR9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZHggb3IgZHkgbXVzdCBiZSAxIG9yIC0xXCIpO1xufVxuXG4vKipcbiAqIFJvb20gb2YgcmFuZG9tIHNpemUsIHBvc2l0aW9uZWQgYXJvdW5kIGNlbnRlciBjb29yZHNcbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tQ2VudGVyID0gZnVuY3Rpb24oY3gsIGN5LCBvcHRpb25zKSB7XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuXHR2YXIgd2lkdGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcblx0dmFyIGhlaWdodCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cblx0dmFyIHgxID0gY3ggLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKndpZHRoKTtcblx0dmFyIHkxID0gY3kgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKmhlaWdodCk7XG5cdHZhciB4MiA9IHgxICsgd2lkdGggLSAxO1xuXHR2YXIgeTIgPSB5MSArIGhlaWdodCAtIDE7XG5cblx0cmV0dXJuIG5ldyB0aGlzKHgxLCB5MSwgeDIsIHkyKTtcbn1cblxuLyoqXG4gKiBSb29tIG9mIHJhbmRvbSBzaXplIHdpdGhpbiBhIGdpdmVuIGRpbWVuc2lvbnNcbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQsIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBsZWZ0ID0gYXZhaWxXaWR0aCAtIHdpZHRoIC0gMTtcblx0dmFyIHRvcCA9IGF2YWlsSGVpZ2h0IC0gaGVpZ2h0IC0gMTtcblxuXHR2YXIgeDEgPSAxICsgTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSpsZWZ0KTtcblx0dmFyIHkxID0gMSArIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqdG9wKTtcblx0dmFyIHgyID0geDEgKyB3aWR0aCAtIDE7XG5cdHZhciB5MiA9IHkxICsgaGVpZ2h0IC0gMTtcblxuXHRyZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuYWRkRG9vciA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dGhpcy5fZG9vcnNbeCtcIixcIit5XSA9IDE7XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259XG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXREb29ycyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGZvciAodmFyIGtleSBpbiB0aGlzLl9kb29ycykge1xuXHRcdHZhciBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG5cdFx0Y2FsbGJhY2socGFyc2VJbnQocGFydHNbMF0pLCBwYXJzZUludChwYXJ0c1sxXSkpO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuY2xlYXJEb29ycyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kb29ycyA9IHt9O1xuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmFkZERvb3JzID0gZnVuY3Rpb24oaXNXYWxsQ2FsbGJhY2spIHtcblx0dmFyIGxlZnQgPSB0aGlzLl94MS0xO1xuXHR2YXIgcmlnaHQgPSB0aGlzLl94MisxO1xuXHR2YXIgdG9wID0gdGhpcy5feTEtMTtcblx0dmFyIGJvdHRvbSA9IHRoaXMuX3kyKzE7XG5cblx0Zm9yICh2YXIgeD1sZWZ0OyB4PD1yaWdodDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeT10b3A7IHk8PWJvdHRvbTsgeSsrKSB7XG5cdFx0XHRpZiAoeCAhPSBsZWZ0ICYmIHggIT0gcmlnaHQgJiYgeSAhPSB0b3AgJiYgeSAhPSBib3R0b20pIHsgY29udGludWU7IH1cblx0XHRcdGlmIChpc1dhbGxDYWxsYmFjayh4LCB5KSkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHR0aGlzLmFkZERvb3IoeCwgeSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uKCkge1xuXHRjb25zb2xlLmxvZyhcInJvb21cIiwgdGhpcy5feDEsIHRoaXMuX3kxLCB0aGlzLl94MiwgdGhpcy5feTIpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKSB7IFxuXHR2YXIgbGVmdCA9IHRoaXMuX3gxLTE7XG5cdHZhciByaWdodCA9IHRoaXMuX3gyKzE7XG5cdHZhciB0b3AgPSB0aGlzLl95MS0xO1xuXHR2YXIgYm90dG9tID0gdGhpcy5feTIrMTtcblx0XG5cdGZvciAodmFyIHg9bGVmdDsgeDw9cmlnaHQ7IHgrKykge1xuXHRcdGZvciAodmFyIHk9dG9wOyB5PD1ib3R0b207IHkrKykge1xuXHRcdFx0aWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG5cdFx0XHRcdGlmICghaXNXYWxsQ2FsbGJhY2soeCwgeSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNhbkJlRHVnQ2FsbGJhY2soeCwgeSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHksIDEgPSB3YWxsLCAyID0gZG9vci4gTXVsdGlwbGUgZG9vcnMgYXJlIGFsbG93ZWQuXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihkaWdDYWxsYmFjaykgeyBcblx0dmFyIGxlZnQgPSB0aGlzLl94MS0xO1xuXHR2YXIgcmlnaHQgPSB0aGlzLl94MisxO1xuXHR2YXIgdG9wID0gdGhpcy5feTEtMTtcblx0dmFyIGJvdHRvbSA9IHRoaXMuX3kyKzE7XG5cdFxuXHR2YXIgdmFsdWUgPSAwO1xuXHRmb3IgKHZhciB4PWxlZnQ7IHg8PXJpZ2h0OyB4KyspIHtcblx0XHRmb3IgKHZhciB5PXRvcDsgeTw9Ym90dG9tOyB5KyspIHtcblx0XHRcdGlmICh4K1wiLFwiK3kgaW4gdGhpcy5fZG9vcnMpIHtcblx0XHRcdFx0dmFsdWUgPSAyO1xuXHRcdFx0fSBlbHNlIGlmICh4ID09IGxlZnQgfHwgeCA9PSByaWdodCB8fCB5ID09IHRvcCB8fCB5ID09IGJvdHRvbSkge1xuXHRcdFx0XHR2YWx1ZSA9IDE7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWx1ZSA9IDA7XG5cdFx0XHR9XG5cdFx0XHRkaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIFtNYXRoLnJvdW5kKCh0aGlzLl94MSArIHRoaXMuX3gyKS8yKSwgTWF0aC5yb3VuZCgodGhpcy5feTEgKyB0aGlzLl95MikvMildO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0TGVmdCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feDE7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRSaWdodCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feDI7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRUb3AgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3kxO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0Qm90dG9tID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl95Mjtcbn1cblxuLyoqXG4gKiBAY2xhc3MgQ29ycmlkb3JcbiAqIEBhdWdtZW50cyBST1QuTWFwLkZlYXR1cmVcbiAqIEBwYXJhbSB7aW50fSBzdGFydFhcbiAqIEBwYXJhbSB7aW50fSBzdGFydFlcbiAqIEBwYXJhbSB7aW50fSBlbmRYXG4gKiBAcGFyYW0ge2ludH0gZW5kWVxuICovXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IgPSBmdW5jdGlvbihzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuXHR0aGlzLl9zdGFydFggPSBzdGFydFg7XG5cdHRoaXMuX3N0YXJ0WSA9IHN0YXJ0WTtcblx0dGhpcy5fZW5kWCA9IGVuZFg7IFxuXHR0aGlzLl9lbmRZID0gZW5kWTtcblx0dGhpcy5fZW5kc1dpdGhBV2FsbCA9IHRydWU7XG59XG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IuZXh0ZW5kKFJPVC5NYXAuRmVhdHVyZSk7XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMuY29ycmlkb3JMZW5ndGhbMV07XG5cdHZhciBsZW5ndGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0cmV0dXJuIG5ldyB0aGlzKHgsIHksIHggKyBkeCpsZW5ndGgsIHkgKyBkeSpsZW5ndGgpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKFwiY29ycmlkb3JcIiwgdGhpcy5fc3RhcnRYLCB0aGlzLl9zdGFydFksIHRoaXMuX2VuZFgsIHRoaXMuX2VuZFkpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbihpc1dhbGxDYWxsYmFjaywgY2FuQmVEdWdDYWxsYmFjayl7IFxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0dmFyIGxlbmd0aCA9IDEgKyBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG5cdFxuXHRpZiAoZHgpIHsgZHggPSBkeC9NYXRoLmFicyhkeCk7IH1cblx0aWYgKGR5KSB7IGR5ID0gZHkvTWF0aC5hYnMoZHkpOyB9XG5cdHZhciBueCA9IGR5O1xuXHR2YXIgbnkgPSAtZHg7XG5cdFxuXHR2YXIgb2sgPSB0cnVlO1xuXHRmb3IgKHZhciBpPTA7IGk8bGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgeCA9IHN4ICsgaSpkeDtcblx0XHR2YXIgeSA9IHN5ICsgaSpkeTtcblxuXHRcdGlmICghY2FuQmVEdWdDYWxsYmFjayggICAgIHgsICAgICAgeSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdGlmICghaXNXYWxsQ2FsbGJhY2sgICh4ICsgbngsIHkgKyBueSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdGlmICghaXNXYWxsQ2FsbGJhY2sgICh4IC0gbngsIHkgLSBueSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmICghb2spIHtcblx0XHRcdGxlbmd0aCA9IGk7XG5cdFx0XHR0aGlzLl9lbmRYID0geC1keDtcblx0XHRcdHRoaXMuX2VuZFkgPSB5LWR5O1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogSWYgdGhlIGxlbmd0aCBkZWdlbmVyYXRlZCwgdGhpcyBjb3JyaWRvciBtaWdodCBiZSBpbnZhbGlkXG5cdCAqL1xuXHQgXG5cdC8qIG5vdCBzdXBwb3J0ZWQgKi9cblx0aWYgKGxlbmd0aCA9PSAwKSB7IHJldHVybiBmYWxzZTsgfSBcblx0XG5cdCAvKiBsZW5ndGggMSBhbGxvd2VkIG9ubHkgaWYgdGhlIG5leHQgc3BhY2UgaXMgZW1wdHkgKi9cblx0aWYgKGxlbmd0aCA9PSAxICYmIGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XG5cdC8qKlxuXHQgKiBXZSBkbyBub3Qgd2FudCB0aGUgY29ycmlkb3IgdG8gY3Jhc2ggaW50byBhIGNvcm5lciBvZiBhIHJvb207XG5cdCAqIGlmIGFueSBvZiB0aGUgZW5kaW5nIGNvcm5lcnMgaXMgZW1wdHksIHRoZSBOKzF0aCBjZWxsIG9mIHRoaXMgY29ycmlkb3IgbXVzdCBiZSBlbXB0eSB0b28uXG5cdCAqIFxuXHQgKiBTaXR1YXRpb246XG5cdCAqICMjIyMjIyMxXG5cdCAqIC4uLi4uLi4/XG5cdCAqICMjIyMjIyMyXG5cdCAqIFxuXHQgKiBUaGUgY29ycmlkb3Igd2FzIGR1ZyBmcm9tIGxlZnQgdG8gcmlnaHQuXG5cdCAqIDEsIDIgLSBwcm9ibGVtYXRpYyBjb3JuZXJzLCA/ID0gTisxdGggY2VsbCAobm90IGR1Zylcblx0ICovXG5cdHZhciBmaXJzdENvcm5lckJhZCA9ICFpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHggKyBueCwgdGhpcy5fZW5kWSArIGR5ICsgbnkpO1xuXHR2YXIgc2Vjb25kQ29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCAtIG54LCB0aGlzLl9lbmRZICsgZHkgLSBueSk7XG5cdHRoaXMuX2VuZHNXaXRoQVdhbGwgPSBpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSk7XG5cdGlmICgoZmlyc3RDb3JuZXJCYWQgfHwgc2Vjb25kQ29ybmVyQmFkKSAmJiB0aGlzLl9lbmRzV2l0aEFXYWxsKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ0NhbGxiYWNrIERpZyBjYWxsYmFjayB3aXRoIGEgc2lnbmF0dXJlICh4LCB5LCB2YWx1ZSkuIFZhbHVlczogMCA9IGVtcHR5LlxuICovXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7IFxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0dmFyIGxlbmd0aCA9IDErTWF0aC5tYXgoTWF0aC5hYnMoZHgpLCBNYXRoLmFicyhkeSkpO1xuXHRcblx0aWYgKGR4KSB7IGR4ID0gZHgvTWF0aC5hYnMoZHgpOyB9XG5cdGlmIChkeSkgeyBkeSA9IGR5L01hdGguYWJzKGR5KTsgfVxuXHR2YXIgbnggPSBkeTtcblx0dmFyIG55ID0gLWR4O1xuXHRcblx0Zm9yICh2YXIgaT0wOyBpPGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHggPSBzeCArIGkqZHg7XG5cdFx0dmFyIHkgPSBzeSArIGkqZHk7XG5cdFx0ZGlnQ2FsbGJhY2soeCwgeSwgMCk7XG5cdH1cblx0XG5cdHJldHVybiB0cnVlO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmNyZWF0ZVByaW9yaXR5V2FsbHMgPSBmdW5jdGlvbihwcmlvcml0eVdhbGxDYWxsYmFjaykge1xuXHRpZiAoIXRoaXMuX2VuZHNXaXRoQVdhbGwpIHsgcmV0dXJuOyB9XG5cblx0dmFyIHN4ID0gdGhpcy5fc3RhcnRYO1xuXHR2YXIgc3kgPSB0aGlzLl9zdGFydFk7XG5cblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0aWYgKGR4KSB7IGR4ID0gZHgvTWF0aC5hYnMoZHgpOyB9XG5cdGlmIChkeSkgeyBkeSA9IGR5L01hdGguYWJzKGR5KTsgfVxuXHR2YXIgbnggPSBkeTtcblx0dmFyIG55ID0gLWR4O1xuXG5cdHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcblx0cHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIG54LCB0aGlzLl9lbmRZICsgbnkpO1xuXHRwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYIC0gbngsIHRoaXMuX2VuZFkgLSBueSk7XG59XG4vKipcbiAqIEBjbGFzcyBCYXNlIG5vaXNlIGdlbmVyYXRvclxuICovXG5ST1QuTm9pc2UgPSBmdW5jdGlvbigpIHtcbn07XG5cblJPVC5Ob2lzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oeCwgeSkge31cbi8qKlxuICogQSBzaW1wbGUgMmQgaW1wbGVtZW50YXRpb24gb2Ygc2ltcGxleCBub2lzZSBieSBPbmRyZWogWmFyYVxuICpcbiAqIEJhc2VkIG9uIGEgc3BlZWQtaW1wcm92ZWQgc2ltcGxleCBub2lzZSBhbGdvcml0aG0gZm9yIDJELCAzRCBhbmQgNEQgaW4gSmF2YS5cbiAqIFdoaWNoIGlzIGJhc2VkIG9uIGV4YW1wbGUgY29kZSBieSBTdGVmYW4gR3VzdGF2c29uIChzdGVndUBpdG4ubGl1LnNlKS5cbiAqIFdpdGggT3B0aW1pc2F0aW9ucyBieSBQZXRlciBFYXN0bWFuIChwZWFzdG1hbkBkcml6emxlLnN0YW5mb3JkLmVkdSkuXG4gKiBCZXR0ZXIgcmFuayBvcmRlcmluZyBtZXRob2QgYnkgU3RlZmFuIEd1c3RhdnNvbiBpbiAyMDEyLlxuICovXG5cbi8qKlxuICogQGNsYXNzIDJEIHNpbXBsZXggbm9pc2UgZ2VuZXJhdG9yXG4gKiBAcGFyYW0ge2ludH0gW2dyYWRpZW50cz0yNTZdIFJhbmRvbSBncmFkaWVudHNcbiAqL1xuUk9ULk5vaXNlLlNpbXBsZXggPSBmdW5jdGlvbihncmFkaWVudHMpIHtcblx0Uk9ULk5vaXNlLmNhbGwodGhpcyk7XG5cblx0dGhpcy5fRjIgPSAwLjUgKiAoTWF0aC5zcXJ0KDMpIC0gMSk7XG5cdHRoaXMuX0cyID0gKDMgLSBNYXRoLnNxcnQoMykpIC8gNjtcblxuXHR0aGlzLl9ncmFkaWVudHMgPSBbXG5cdFx0WyAwLCAtMV0sXG5cdFx0WyAxLCAtMV0sXG5cdFx0WyAxLCAgMF0sXG5cdFx0WyAxLCAgMV0sXG5cdFx0WyAwLCAgMV0sXG5cdFx0Wy0xLCAgMV0sXG5cdFx0Wy0xLCAgMF0sXG5cdFx0Wy0xLCAtMV1cblx0XTtcblxuXHR2YXIgcGVybXV0YXRpb25zID0gW107XG5cdHZhciBjb3VudCA9IGdyYWRpZW50cyB8fCAyNTY7XG5cdGZvciAodmFyIGk9MDtpPGNvdW50O2krKykgeyBwZXJtdXRhdGlvbnMucHVzaChpKTsgfVxuXHRwZXJtdXRhdGlvbnMgPSBwZXJtdXRhdGlvbnMucmFuZG9taXplKCk7XG5cblx0dGhpcy5fcGVybXMgPSBbXTtcblx0dGhpcy5faW5kZXhlcyA9IFtdO1xuXG5cdGZvciAodmFyIGk9MDtpPDIqY291bnQ7aSsrKSB7XG5cdFx0dGhpcy5fcGVybXMucHVzaChwZXJtdXRhdGlvbnNbaSAlIGNvdW50XSk7XG5cdFx0dGhpcy5faW5kZXhlcy5wdXNoKHRoaXMuX3Blcm1zW2ldICUgdGhpcy5fZ3JhZGllbnRzLmxlbmd0aCk7XG5cdH1cblxufTtcblJPVC5Ob2lzZS5TaW1wbGV4LmV4dGVuZChST1QuTm9pc2UpO1xuXG5ST1QuTm9pc2UuU2ltcGxleC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oeGluLCB5aW4pIHtcblx0dmFyIHBlcm1zID0gdGhpcy5fcGVybXM7XG5cdHZhciBpbmRleGVzID0gdGhpcy5faW5kZXhlcztcblx0dmFyIGNvdW50ID0gcGVybXMubGVuZ3RoLzI7XG5cdHZhciBHMiA9IHRoaXMuX0cyO1xuXG5cdHZhciBuMCA9MCwgbjEgPSAwLCBuMiA9IDAsIGdpOyAvLyBOb2lzZSBjb250cmlidXRpb25zIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcblxuXHQvLyBTa2V3IHRoZSBpbnB1dCBzcGFjZSB0byBkZXRlcm1pbmUgd2hpY2ggc2ltcGxleCBjZWxsIHdlJ3JlIGluXG5cdHZhciBzID0gKHhpbiArIHlpbikgKiB0aGlzLl9GMjsgLy8gSGFpcnkgZmFjdG9yIGZvciAyRFxuXHR2YXIgaSA9IE1hdGguZmxvb3IoeGluICsgcyk7XG5cdHZhciBqID0gTWF0aC5mbG9vcih5aW4gKyBzKTtcblx0dmFyIHQgPSAoaSArIGopICogRzI7XG5cdHZhciBYMCA9IGkgLSB0OyAvLyBVbnNrZXcgdGhlIGNlbGwgb3JpZ2luIGJhY2sgdG8gKHgseSkgc3BhY2Vcblx0dmFyIFkwID0gaiAtIHQ7XG5cdHZhciB4MCA9IHhpbiAtIFgwOyAvLyBUaGUgeCx5IGRpc3RhbmNlcyBmcm9tIHRoZSBjZWxsIG9yaWdpblxuXHR2YXIgeTAgPSB5aW4gLSBZMDtcblxuXHQvLyBGb3IgdGhlIDJEIGNhc2UsIHRoZSBzaW1wbGV4IHNoYXBlIGlzIGFuIGVxdWlsYXRlcmFsIHRyaWFuZ2xlLlxuXHQvLyBEZXRlcm1pbmUgd2hpY2ggc2ltcGxleCB3ZSBhcmUgaW4uXG5cdHZhciBpMSwgajE7IC8vIE9mZnNldHMgZm9yIHNlY29uZCAobWlkZGxlKSBjb3JuZXIgb2Ygc2ltcGxleCBpbiAoaSxqKSBjb29yZHNcblx0aWYgKHgwID4geTApIHtcblx0XHRpMSA9IDE7XG5cdFx0ajEgPSAwO1xuXHR9IGVsc2UgeyAvLyBsb3dlciB0cmlhbmdsZSwgWFkgb3JkZXI6ICgwLDApLT4oMSwwKS0+KDEsMSlcblx0XHRpMSA9IDA7XG5cdFx0ajEgPSAxO1xuXHR9IC8vIHVwcGVyIHRyaWFuZ2xlLCBZWCBvcmRlcjogKDAsMCktPigwLDEpLT4oMSwxKVxuXG5cdC8vIEEgc3RlcCBvZiAoMSwwKSBpbiAoaSxqKSBtZWFucyBhIHN0ZXAgb2YgKDEtYywtYykgaW4gKHgseSksIGFuZFxuXHQvLyBhIHN0ZXAgb2YgKDAsMSkgaW4gKGksaikgbWVhbnMgYSBzdGVwIG9mICgtYywxLWMpIGluICh4LHkpLCB3aGVyZVxuXHQvLyBjID0gKDMtc3FydCgzKSkvNlxuXHR2YXIgeDEgPSB4MCAtIGkxICsgRzI7IC8vIE9mZnNldHMgZm9yIG1pZGRsZSBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG5cdHZhciB5MSA9IHkwIC0gajEgKyBHMjtcblx0dmFyIHgyID0geDAgLSAxICsgMipHMjsgLy8gT2Zmc2V0cyBmb3IgbGFzdCBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG5cdHZhciB5MiA9IHkwIC0gMSArIDIqRzI7XG5cblx0Ly8gV29yayBvdXQgdGhlIGhhc2hlZCBncmFkaWVudCBpbmRpY2VzIG9mIHRoZSB0aHJlZSBzaW1wbGV4IGNvcm5lcnNcblx0dmFyIGlpID0gaS5tb2QoY291bnQpO1xuXHR2YXIgamogPSBqLm1vZChjb3VudCk7XG5cblx0Ly8gQ2FsY3VsYXRlIHRoZSBjb250cmlidXRpb24gZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuXHR2YXIgdDAgPSAwLjUgLSB4MCp4MCAtIHkwKnkwO1xuXHRpZiAodDAgPj0gMCkge1xuXHRcdHQwICo9IHQwO1xuXHRcdGdpID0gaW5kZXhlc1tpaStwZXJtc1tqal1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMCA9IHQwICogdDAgKiAoZ3JhZFswXSAqIHgwICsgZ3JhZFsxXSAqIHkwKTtcblx0fVxuXHRcblx0dmFyIHQxID0gMC41IC0geDEqeDEgLSB5MSp5MTtcblx0aWYgKHQxID49IDApIHtcblx0XHR0MSAqPSB0MTtcblx0XHRnaSA9IGluZGV4ZXNbaWkraTErcGVybXNbamorajFdXTtcblx0XHR2YXIgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG5cdFx0bjEgPSB0MSAqIHQxICogKGdyYWRbMF0gKiB4MSArIGdyYWRbMV0gKiB5MSk7XG5cdH1cblx0XG5cdHZhciB0MiA9IDAuNSAtIHgyKngyIC0geTIqeTI7XG5cdGlmICh0MiA+PSAwKSB7XG5cdFx0dDIgKj0gdDI7XG5cdFx0Z2kgPSBpbmRleGVzW2lpKzErcGVybXNbamorMV1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMiA9IHQyICogdDIgKiAoZ3JhZFswXSAqIHgyICsgZ3JhZFsxXSAqIHkyKTtcblx0fVxuXG5cdC8vIEFkZCBjb250cmlidXRpb25zIGZyb20gZWFjaCBjb3JuZXIgdG8gZ2V0IHRoZSBmaW5hbCBub2lzZSB2YWx1ZS5cblx0Ly8gVGhlIHJlc3VsdCBpcyBzY2FsZWQgdG8gcmV0dXJuIHZhbHVlcyBpbiB0aGUgaW50ZXJ2YWwgWy0xLDFdLlxuXHRyZXR1cm4gNzAgKiAobjAgKyBuMSArIG4yKTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IEZPViBhbGdvcml0aG1cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpZ2h0UGFzc2VzQ2FsbGJhY2sgRG9lcyB0aGUgbGlnaHQgcGFzcyB0aHJvdWdoIHgseT9cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XSA0LzYvOFxuICovXG5ST1QuRk9WID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHR0aGlzLl9saWdodFBhc3NlcyA9IGxpZ2h0UGFzc2VzQ2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0dG9wb2xvZ3k6IDhcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cbn07XG5cbi8qKlxuICogQ29tcHV0ZSB2aXNpYmlsaXR5IGZvciBhIDM2MC1kZWdyZWUgY2lyY2xlXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge31cblxuLyoqXG4gKiBSZXR1cm4gYWxsIG5laWdoYm9ycyBpbiBhIGNvbmNlbnRyaWMgcmluZ1xuICogQHBhcmFtIHtpbnR9IGN4IGNlbnRlci14XG4gKiBAcGFyYW0ge2ludH0gY3kgY2VudGVyLXlcbiAqIEBwYXJhbSB7aW50fSByIHJhbmdlXG4gKi9cblJPVC5GT1YucHJvdG90eXBlLl9nZXRDaXJjbGUgPSBmdW5jdGlvbihjeCwgY3ksIHIpIHtcblx0dmFyIHJlc3VsdCA9IFtdO1xuXHR2YXIgZGlycywgY291bnRGYWN0b3IsIHN0YXJ0T2Zmc2V0O1xuXG5cdHN3aXRjaCAodGhpcy5fb3B0aW9ucy50b3BvbG9neSkge1xuXHRcdGNhc2UgNDpcblx0XHRcdGNvdW50RmFjdG9yID0gMTtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWzAsIDFdO1xuXHRcdFx0ZGlycyA9IFtcblx0XHRcdFx0Uk9ULkRJUlNbOF1bN10sXG5cdFx0XHRcdFJPVC5ESVJTWzhdWzFdLFxuXHRcdFx0XHRST1QuRElSU1s4XVszXSxcblx0XHRcdFx0Uk9ULkRJUlNbOF1bNV1cblx0XHRcdF1cblx0XHRicmVhaztcblxuXHRcdGNhc2UgNjpcblx0XHRcdGRpcnMgPSBST1QuRElSU1s2XTtcblx0XHRcdGNvdW50RmFjdG9yID0gMTtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWy0xLCAxXTtcblx0XHRicmVhaztcblxuXHRcdGNhc2UgODpcblx0XHRcdGRpcnMgPSBST1QuRElSU1s0XTtcblx0XHRcdGNvdW50RmFjdG9yID0gMjtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWy0xLCAxXTtcblx0XHRicmVhaztcblx0fVxuXG5cdC8qIHN0YXJ0aW5nIG5laWdoYm9yICovXG5cdHZhciB4ID0gY3ggKyBzdGFydE9mZnNldFswXSpyO1xuXHR2YXIgeSA9IGN5ICsgc3RhcnRPZmZzZXRbMV0qcjtcblxuXHQvKiBjaXJjbGUgKi9cblx0Zm9yICh2YXIgaT0wO2k8ZGlycy5sZW5ndGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8cipjb3VudEZhY3RvcjtqKyspIHtcblx0XHRcdHJlc3VsdC5wdXNoKFt4LCB5XSk7XG5cdFx0XHR4ICs9IGRpcnNbaV1bMF07XG5cdFx0XHR5ICs9IGRpcnNbaV1bMV07XG5cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBAY2xhc3MgRGlzY3JldGUgc2hhZG93Y2FzdGluZyBhbGdvcml0aG0uIE9ic29sZXRlZCBieSBQcmVjaXNlIHNoYWRvd2Nhc3RpbmcuXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLkRpc2NyZXRlU2hhZG93Y2FzdGluZyA9IGZ1bmN0aW9uKGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULkZPVi5jYWxsKHRoaXMsIGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKipcbiAqIEBzZWUgUk9ULkZPViNjb21wdXRlXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0dmFyIGNlbnRlciA9IHRoaXMuX2Nvb3Jkcztcblx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblxuXHQvKiB0aGlzIHBsYWNlIGlzIGFsd2F5cyB2aXNpYmxlICovXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXG5cdC8qIHN0YW5kaW5nIGluIGEgZGFyayBwbGFjZS4gRklYTUUgaXMgdGhpcyBhIGdvb2QgaWRlYT8gICovXG5cdGlmICghdGhpcy5fbGlnaHRQYXNzZXMoeCwgeSkpIHsgcmV0dXJuOyB9XG5cdFxuXHQvKiBzdGFydCBhbmQgZW5kIGFuZ2xlcyAqL1xuXHR2YXIgREFUQSA9IFtdO1xuXHRcblx0dmFyIEEsIEIsIGN4LCBjeSwgYmxvY2tzO1xuXG5cdC8qIGFuYWx5emUgc3Vycm91bmRpbmcgY2VsbHMgaW4gY29uY2VudHJpYyByaW5ncywgc3RhcnRpbmcgZnJvbSB0aGUgY2VudGVyICovXG5cdGZvciAodmFyIHI9MTsgcjw9UjsgcisrKSB7XG5cdFx0dmFyIG5laWdoYm9ycyA9IHRoaXMuX2dldENpcmNsZSh4LCB5LCByKTtcblx0XHR2YXIgYW5nbGUgPSAzNjAgLyBuZWlnaGJvcnMubGVuZ3RoO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JzLmxlbmd0aDtpKyspIHtcblx0XHRcdGN4ID0gbmVpZ2hib3JzW2ldWzBdO1xuXHRcdFx0Y3kgPSBuZWlnaGJvcnNbaV1bMV07XG5cdFx0XHRBID0gYW5nbGUgKiAoaSAtIDAuNSk7XG5cdFx0XHRCID0gQSArIGFuZ2xlO1xuXHRcdFx0XG5cdFx0XHRibG9ja3MgPSAhdGhpcy5fbGlnaHRQYXNzZXMoY3gsIGN5KTtcblx0XHRcdGlmICh0aGlzLl92aXNpYmxlQ29vcmRzKE1hdGguZmxvb3IoQSksIE1hdGguY2VpbChCKSwgYmxvY2tzLCBEQVRBKSkgeyBjYWxsYmFjayhjeCwgY3ksIHIsIDEpOyB9XG5cdFx0XHRcblx0XHRcdGlmIChEQVRBLmxlbmd0aCA9PSAyICYmIERBVEFbMF0gPT0gMCAmJiBEQVRBWzFdID09IDM2MCkgeyByZXR1cm47IH0gLyogY3V0b2ZmPyAqL1xuXG5cdFx0fSAvKiBmb3IgYWxsIGNlbGxzIGluIHRoaXMgcmluZyAqL1xuXHR9IC8qIGZvciBhbGwgcmluZ3MgKi9cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ludH0gQSBzdGFydCBhbmdsZVxuICogQHBhcmFtIHtpbnR9IEIgZW5kIGFuZ2xlXG4gKiBAcGFyYW0ge2Jvb2x9IGJsb2NrcyBEb2VzIGN1cnJlbnQgY2VsbCBibG9jayB2aXNpYmlsaXR5P1xuICogQHBhcmFtIHtpbnRbXVtdfSBEQVRBIHNoYWRvd2VkIGFuZ2xlIHBhaXJzXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fdmlzaWJsZUNvb3JkcyA9IGZ1bmN0aW9uKEEsIEIsIGJsb2NrcywgREFUQSkge1xuXHRpZiAoQSA8IDApIHsgXG5cdFx0dmFyIHYxID0gYXJndW1lbnRzLmNhbGxlZSgwLCBCLCBibG9ja3MsIERBVEEpO1xuXHRcdHZhciB2MiA9IGFyZ3VtZW50cy5jYWxsZWUoMzYwK0EsIDM2MCwgYmxvY2tzLCBEQVRBKTtcblx0XHRyZXR1cm4gdjEgfHwgdjI7XG5cdH1cblx0XG5cdHZhciBpbmRleCA9IDA7XG5cdHdoaWxlIChpbmRleCA8IERBVEEubGVuZ3RoICYmIERBVEFbaW5kZXhdIDwgQSkgeyBpbmRleCsrOyB9XG5cdFxuXHRpZiAoaW5kZXggPT0gREFUQS5sZW5ndGgpIHsgLyogY29tcGxldGVseSBuZXcgc2hhZG93ICovXG5cdFx0aWYgKGJsb2NrcykgeyBEQVRBLnB1c2goQSwgQik7IH0gXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdHZhciBjb3VudCA9IDA7XG5cdFxuXHRpZiAoaW5kZXggJSAyKSB7IC8qIHRoaXMgc2hhZG93IHN0YXJ0cyBpbiBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdpdGhpbiBpdHMgZW5kaW5nIGJvdW5kYXJ5ICovXG5cdFx0d2hpbGUgKGluZGV4IDwgREFUQS5sZW5ndGggJiYgREFUQVtpbmRleF0gPCBCKSB7XG5cdFx0XHRpbmRleCsrO1xuXHRcdFx0Y291bnQrKztcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGNvdW50ID09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XG5cdFx0aWYgKGJsb2NrcykgeyBcblx0XHRcdGlmIChjb3VudCAlIDIpIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50LCBCKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH0gZWxzZSB7IC8qIHRoaXMgc2hhZG93IHN0YXJ0cyBvdXRzaWRlIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2l0aGluIGEgc3RhcnRpbmcgYm91bmRhcnkgKi9cblx0XHR3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEIpIHtcblx0XHRcdGluZGV4Kys7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblx0XHRcblx0XHQvKiB2aXNpYmxlIHdoZW4gb3V0c2lkZSBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdoZW4gb3ZlcmxhcHBpbmcgKi9cblx0XHRpZiAoQSA9PSBEQVRBW2luZGV4LWNvdW50XSAmJiBjb3VudCA9PSAxKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmIChibG9ja3MpIHsgXG5cdFx0XHRpZiAoY291bnQgJSAyKSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCwgQSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHREQVRBLnNwbGljZShpbmRleC1jb3VudCwgY291bnQsIEEsIEIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcdFxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBQcmVjaXNlIHNoYWRvd2Nhc3RpbmcgYWxnb3JpdGhtXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nLmV4dGVuZChST1QuRk9WKTtcblxuLyoqXG4gKiBAc2VlIFJPVC5GT1YjY29tcHV0ZVxuICovXG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0LyogdGhpcyBwbGFjZSBpcyBhbHdheXMgdmlzaWJsZSAqL1xuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblxuXHQvKiBzdGFuZGluZyBpbiBhIGRhcmsgcGxhY2UuIEZJWE1FIGlzIHRoaXMgYSBnb29kIGlkZWE/ICAqL1xuXHRpZiAoIXRoaXMuX2xpZ2h0UGFzc2VzKHgsIHkpKSB7IHJldHVybjsgfVxuXHRcblx0LyogbGlzdCBvZiBhbGwgc2hhZG93cyAqL1xuXHR2YXIgU0hBRE9XUyA9IFtdO1xuXHRcblx0dmFyIGN4LCBjeSwgYmxvY2tzLCBBMSwgQTIsIHZpc2liaWxpdHk7XG5cblx0LyogYW5hbHl6ZSBzdXJyb3VuZGluZyBjZWxscyBpbiBjb25jZW50cmljIHJpbmdzLCBzdGFydGluZyBmcm9tIHRoZSBjZW50ZXIgKi9cblx0Zm9yICh2YXIgcj0xOyByPD1SOyByKyspIHtcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0Q2lyY2xlKHgsIHksIHIpO1xuXHRcdHZhciBuZWlnaGJvckNvdW50ID0gbmVpZ2hib3JzLmxlbmd0aDtcblxuXHRcdGZvciAodmFyIGk9MDtpPG5laWdoYm9yQ291bnQ7aSsrKSB7XG5cdFx0XHRjeCA9IG5laWdoYm9yc1tpXVswXTtcblx0XHRcdGN5ID0gbmVpZ2hib3JzW2ldWzFdO1xuXHRcdFx0Lyogc2hpZnQgaGFsZi1hbi1hbmdsZSBiYWNrd2FyZHMgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3kgb2YgMC10aCBjZWxscyAqL1xuXHRcdFx0QTEgPSBbaSA/IDIqaS0xIDogMipuZWlnaGJvckNvdW50LTEsIDIqbmVpZ2hib3JDb3VudF07XG5cdFx0XHRBMiA9IFsyKmkrMSwgMipuZWlnaGJvckNvdW50XTsgXG5cdFx0XHRcblx0XHRcdGJsb2NrcyA9ICF0aGlzLl9saWdodFBhc3NlcyhjeCwgY3kpO1xuXHRcdFx0dmlzaWJpbGl0eSA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShBMSwgQTIsIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0XHRpZiAodmlzaWJpbGl0eSkgeyBjYWxsYmFjayhjeCwgY3ksIHIsIHZpc2liaWxpdHkpOyB9XG5cblx0XHRcdGlmIChTSEFET1dTLmxlbmd0aCA9PSAyICYmIFNIQURPV1NbMF1bMF0gPT0gMCAmJiBTSEFET1dTWzFdWzBdID09IFNIQURPV1NbMV1bMV0pIHsgcmV0dXJuOyB9IC8qIGN1dG9mZj8gKi9cblxuXHRcdH0gLyogZm9yIGFsbCBjZWxscyBpbiB0aGlzIHJpbmcgKi9cblx0fSAvKiBmb3IgYWxsIHJpbmdzICovXG59XG5cbi8qKlxuICogQHBhcmFtIHtpbnRbMl19IEExIGFyYyBzdGFydFxuICogQHBhcmFtIHtpbnRbMl19IEEyIGFyYyBlbmRcbiAqIEBwYXJhbSB7Ym9vbH0gYmxvY2tzIERvZXMgY3VycmVudCBhcmMgYmxvY2sgdmlzaWJpbGl0eT9cbiAqIEBwYXJhbSB7aW50W11bXX0gU0hBRE9XUyBsaXN0IG9mIGFjdGl2ZSBzaGFkb3dzXG4gKi9cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl9jaGVja1Zpc2liaWxpdHkgPSBmdW5jdGlvbihBMSwgQTIsIGJsb2NrcywgU0hBRE9XUykge1xuXHRpZiAoQTFbMF0gPiBBMlswXSkgeyAvKiBzcGxpdCBpbnRvIHR3byBzdWItYXJjcyAqL1xuXHRcdHZhciB2MSA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShBMSwgW0ExWzFdLCBBMVsxXV0sIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0dmFyIHYyID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KFswLCAxXSwgQTIsIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0cmV0dXJuICh2MSt2MikvMjtcblx0fVxuXG5cdC8qIGluZGV4MTogZmlyc3Qgc2hhZG93ID49IEExICovXG5cdHZhciBpbmRleDEgPSAwLCBlZGdlMSA9IGZhbHNlO1xuXHR3aGlsZSAoaW5kZXgxIDwgU0hBRE9XUy5sZW5ndGgpIHtcblx0XHR2YXIgb2xkID0gU0hBRE9XU1tpbmRleDFdO1xuXHRcdHZhciBkaWZmID0gb2xkWzBdKkExWzFdIC0gQTFbMF0qb2xkWzFdO1xuXHRcdGlmIChkaWZmID49IDApIHsgLyogb2xkID49IEExICovXG5cdFx0XHRpZiAoZGlmZiA9PSAwICYmICEoaW5kZXgxICUgMikpIHsgZWRnZTEgPSB0cnVlOyB9XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0aW5kZXgxKys7XG5cdH1cblxuXHQvKiBpbmRleDI6IGxhc3Qgc2hhZG93IDw9IEEyICovXG5cdHZhciBpbmRleDIgPSBTSEFET1dTLmxlbmd0aCwgZWRnZTIgPSBmYWxzZTtcblx0d2hpbGUgKGluZGV4Mi0tKSB7XG5cdFx0dmFyIG9sZCA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHR2YXIgZGlmZiA9IEEyWzBdKm9sZFsxXSAtIG9sZFswXSpBMlsxXTtcblx0XHRpZiAoZGlmZiA+PSAwKSB7IC8qIG9sZCA8PSBBMiAqL1xuXHRcdFx0aWYgKGRpZmYgPT0gMCAmJiAoaW5kZXgyICUgMikpIHsgZWRnZTIgPSB0cnVlOyB9XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHR2YXIgdmlzaWJsZSA9IHRydWU7XG5cdGlmIChpbmRleDEgPT0gaW5kZXgyICYmIChlZGdlMSB8fCBlZGdlMikpIHsgIC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG9uZSBvZiB0aGUgZWRnZXMgbWF0Y2ggKi9cblx0XHR2aXNpYmxlID0gZmFsc2U7IFxuXHR9IGVsc2UgaWYgKGVkZ2UxICYmIGVkZ2UyICYmIGluZGV4MSsxPT1pbmRleDIgJiYgKGluZGV4MiAlIDIpKSB7IC8qIGNvbXBsZXRlbHkgZXF1aXZhbGVudCB3aXRoIGV4aXN0aW5nIHNoYWRvdyAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTtcblx0fSBlbHNlIGlmIChpbmRleDEgPiBpbmRleDIgJiYgKGluZGV4MSAlIDIpKSB7IC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG5vdCB0b3VjaGluZyAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTtcblx0fVxuXHRcblx0aWYgKCF2aXNpYmxlKSB7IHJldHVybiAwOyB9IC8qIGZhc3QgY2FzZTogbm90IHZpc2libGUgKi9cblx0XG5cdHZhciB2aXNpYmxlTGVuZ3RoLCBQO1xuXG5cdC8qIGNvbXB1dGUgdGhlIGxlbmd0aCBvZiB2aXNpYmxlIGFyYywgYWRqdXN0IGxpc3Qgb2Ygc2hhZG93cyAoaWYgYmxvY2tpbmcpICovXG5cdHZhciByZW1vdmUgPSBpbmRleDItaW5kZXgxKzE7XG5cdGlmIChyZW1vdmUgJSAyKSB7XG5cdFx0aWYgKGluZGV4MSAlIDIpIHsgLyogZmlyc3QgZWRnZSB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93LCBzZWNvbmQgb3V0c2lkZSAqL1xuXHRcdFx0dmFyIFAgPSBTSEFET1dTW2luZGV4MV07XG5cdFx0XHR2aXNpYmxlTGVuZ3RoID0gKEEyWzBdKlBbMV0gLSBQWzBdKkEyWzFdKSAvIChQWzFdICogQTJbMV0pO1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTIpOyB9XG5cdFx0fSBlbHNlIHsgLyogc2Vjb25kIGVkZ2Ugd2l0aGluIGV4aXN0aW5nIHNoYWRvdywgZmlyc3Qgb3V0c2lkZSAqL1xuXHRcdFx0dmFyIFAgPSBTSEFET1dTW2luZGV4Ml07XG5cdFx0XHR2aXNpYmxlTGVuZ3RoID0gKFBbMF0qQTFbMV0gLSBBMVswXSpQWzFdKSAvIChBMVsxXSAqIFBbMV0pO1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTEpOyB9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmIChpbmRleDEgJSAyKSB7IC8qIGJvdGggZWRnZXMgd2l0aGluIGV4aXN0aW5nIHNoYWRvd3MgKi9cblx0XHRcdHZhciBQMSA9IFNIQURPV1NbaW5kZXgxXTtcblx0XHRcdHZhciBQMiA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHRcdHZpc2libGVMZW5ndGggPSAoUDJbMF0qUDFbMV0gLSBQMVswXSpQMlsxXSkgLyAoUDFbMV0gKiBQMlsxXSk7XG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlKTsgfVxuXHRcdH0gZWxzZSB7IC8qIGJvdGggZWRnZXMgb3V0c2lkZSBleGlzdGluZyBzaGFkb3dzICovXG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSwgQTIpOyB9XG5cdFx0XHRyZXR1cm4gMTsgLyogd2hvbGUgYXJjIHZpc2libGUhICovXG5cdFx0fVxuXHR9XG5cblx0dmFyIGFyY0xlbmd0aCA9IChBMlswXSpBMVsxXSAtIEExWzBdKkEyWzFdKSAvIChBMVsxXSAqIEEyWzFdKTtcblxuXHRyZXR1cm4gdmlzaWJsZUxlbmd0aC9hcmNMZW5ndGg7XG59XG4vKipcbiAqIEBjbGFzcyBSZWN1cnNpdmUgc2hhZG93Y2FzdGluZyBhbGdvcml0aG1cbiAqIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIDQvOCB0b3BvbG9naWVzLCBub3QgaGV4YWdvbmFsLlxuICogQmFzZWQgb24gUGV0ZXIgSGFya2lucycgaW1wbGVtZW50YXRpb24gb2YgQmrDtnJuIEJlcmdzdHLDtm0ncyBhbGdvcml0aG0gZGVzY3JpYmVkIGhlcmU6IGh0dHA6Ly93d3cucm9ndWViYXNpbi5jb20vaW5kZXgucGhwP3RpdGxlPUZPVl91c2luZ19yZWN1cnNpdmVfc2hhZG93Y2FzdGluZ1xuICogQGF1Z21lbnRzIFJPVC5GT1ZcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKiogT2N0YW50cyB1c2VkIGZvciB0cmFuc2xhdGluZyByZWN1cnNpdmUgc2hhZG93Y2FzdGluZyBvZmZzZXRzICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UUyA9IFtcblx0Wy0xLCAgMCwgIDAsICAxXSxcblx0WyAwLCAtMSwgIDEsICAwXSxcblx0WyAwLCAtMSwgLTEsICAwXSxcblx0Wy0xLCAgMCwgIDAsIC0xXSxcblx0WyAxLCAgMCwgIDAsIC0xXSxcblx0WyAwLCAgMSwgLTEsICAwXSxcblx0WyAwLCAgMSwgIDEsICAwXSxcblx0WyAxLCAgMCwgIDAsICAxXVxuXTtcblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMzYwLWRlZ3JlZSBjaXJjbGVcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0Ly9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW2ldLCBSLCBjYWxsYmFjayk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMTgwLWRlZ3JlZSBhcmNcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtpbnR9IGRpciBEaXJlY3Rpb24gdG8gbG9vayBpbiAoZXhwcmVzc2VkIGluIGEgUk9ULkRJUlMgdmFsdWUpO1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlMTgwID0gZnVuY3Rpb24oeCwgeSwgUiwgZGlyLCBjYWxsYmFjaykge1xuXHQvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXHR2YXIgcHJldmlvdXNPY3RhbnQgPSAoZGlyIC0gMSArIDgpICUgODsgLy9OZWVkIHRvIHJldHJpZXZlIHRoZSBwcmV2aW91cyBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR2YXIgbmV4dFByZXZpb3VzT2N0YW50ID0gKGRpciAtIDIgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgdHdvIG9jdGFudHMgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR2YXIgbmV4dE9jdGFudCA9IChkaXIrIDEgKyA4KSAlIDg7IC8vTmVlZCB0byBncmFiIHRvIG5leHQgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgMTgwIGRlZ3JlZXNcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW25leHRQcmV2aW91c09jdGFudF0sIFIsIGNhbGxiYWNrKTtcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW3ByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbZGlyXSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbbmV4dE9jdGFudF0sIFIsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgOTAtZGVncmVlIGFyY1xuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2ludH0gZGlyIERpcmVjdGlvbiB0byBsb29rIGluIChleHByZXNzZWQgaW4gYSBST1QuRElSUyB2YWx1ZSk7XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGU5MCA9IGZ1bmN0aW9uKHgsIHksIFIsIGRpciwgY2FsbGJhY2spIHtcblx0Ly9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblx0dmFyIHByZXZpb3VzT2N0YW50ID0gKGRpciAtIDEgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgOTAgZGVncmVlc1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbZGlyXSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbcHJldmlvdXNPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogUmVuZGVyIG9uZSBvY3RhbnQgKDQ1LWRlZ3JlZSBhcmMpIG9mIHRoZSB2aWV3c2hlZFxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gb2N0YW50IE9jdGFudCB0byBiZSByZW5kZXJlZFxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fcmVuZGVyT2N0YW50ID0gZnVuY3Rpb24oeCwgeSwgb2N0YW50LCBSLCBjYWxsYmFjaykge1xuXHQvL1JhZGl1cyBpbmNyZW1lbnRlZCBieSAxIHRvIHByb3ZpZGUgc2FtZSBjb3ZlcmFnZSBhcmVhIGFzIG90aGVyIHNoYWRvd2Nhc3RpbmcgcmFkaXVzZXNcblx0dGhpcy5fY2FzdFZpc2liaWxpdHkoeCwgeSwgMSwgMS4wLCAwLjAsIFIgKyAxLCBvY3RhbnRbMF0sIG9jdGFudFsxXSwgb2N0YW50WzJdLCBvY3RhbnRbM10sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBBY3R1YWxseSBjYWxjdWxhdGVzIHRoZSB2aXNpYmlsaXR5XG4gKiBAcGFyYW0ge2ludH0gc3RhcnRYIFRoZSBzdGFydGluZyBYIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7aW50fSBzdGFydFkgVGhlIHN0YXJ0aW5nIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtpbnR9IHJvdyBUaGUgcm93IHRvIHJlbmRlclxuICogQHBhcmFtIHtmbG9hdH0gdmlzU2xvcGVTdGFydCBUaGUgc2xvcGUgdG8gc3RhcnQgYXRcbiAqIEBwYXJhbSB7ZmxvYXR9IHZpc1Nsb3BlRW5kIFRoZSBzbG9wZSB0byBlbmQgYXRcbiAqIEBwYXJhbSB7aW50fSByYWRpdXMgVGhlIHJhZGl1cyB0byByZWFjaCBvdXQgdG9cbiAqIEBwYXJhbSB7aW50fSB4eCBcbiAqIEBwYXJhbSB7aW50fSB4eSBcbiAqIEBwYXJhbSB7aW50fSB5eCBcbiAqIEBwYXJhbSB7aW50fSB5eSBcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byB1c2Ugd2hlbiB3ZSBoaXQgYSBibG9jayB0aGF0IGlzIHZpc2libGVcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fY2FzdFZpc2liaWxpdHkgPSBmdW5jdGlvbihzdGFydFgsIHN0YXJ0WSwgcm93LCB2aXNTbG9wZVN0YXJ0LCB2aXNTbG9wZUVuZCwgcmFkaXVzLCB4eCwgeHksIHl4LCB5eSwgY2FsbGJhY2spIHtcblx0aWYodmlzU2xvcGVTdGFydCA8IHZpc1Nsb3BlRW5kKSB7IHJldHVybjsgfVxuXHRmb3IodmFyIGkgPSByb3c7IGkgPD0gcmFkaXVzOyBpKyspIHtcblx0XHR2YXIgZHggPSAtaSAtIDE7XG5cdFx0dmFyIGR5ID0gLWk7XG5cdFx0dmFyIGJsb2NrZWQgPSBmYWxzZTtcblx0XHR2YXIgbmV3U3RhcnQgPSAwO1xuXG5cdFx0Ly8nUm93JyBjb3VsZCBiZSBjb2x1bW4sIG5hbWVzIGhlcmUgYXNzdW1lIG9jdGFudCAwIGFuZCB3b3VsZCBiZSBmbGlwcGVkIGZvciBoYWxmIHRoZSBvY3RhbnRzXG5cdFx0d2hpbGUoZHggPD0gMCkge1xuXHRcdFx0ZHggKz0gMTtcblxuXHRcdFx0Ly9UcmFuc2xhdGUgZnJvbSByZWxhdGl2ZSBjb29yZGluYXRlcyB0byBtYXAgY29vcmRpbmF0ZXNcblx0XHRcdHZhciBtYXBYID0gc3RhcnRYICsgZHggKiB4eCArIGR5ICogeHk7XG5cdFx0XHR2YXIgbWFwWSA9IHN0YXJ0WSArIGR4ICogeXggKyBkeSAqIHl5O1xuXG5cdFx0XHQvL1JhbmdlIG9mIHRoZSByb3dcblx0XHRcdHZhciBzbG9wZVN0YXJ0ID0gKGR4IC0gMC41KSAvIChkeSArIDAuNSk7XG5cdFx0XHR2YXIgc2xvcGVFbmQgPSAoZHggKyAwLjUpIC8gKGR5IC0gMC41KTtcblx0XHRcblx0XHRcdC8vSWdub3JlIGlmIG5vdCB5ZXQgYXQgbGVmdCBlZGdlIG9mIE9jdGFudFxuXHRcdFx0aWYoc2xvcGVFbmQgPiB2aXNTbG9wZVN0YXJ0KSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRcblx0XHRcdC8vRG9uZSBpZiBwYXN0IHJpZ2h0IGVkZ2Vcblx0XHRcdGlmKHNsb3BlU3RhcnQgPCB2aXNTbG9wZUVuZCkgeyBicmVhazsgfVxuXHRcdFx0XHRcblx0XHRcdC8vSWYgaXQncyBpbiByYW5nZSwgaXQncyB2aXNpYmxlXG5cdFx0XHRpZigoZHggKiBkeCArIGR5ICogZHkpIDwgKHJhZGl1cyAqIHJhZGl1cykpIHtcblx0XHRcdFx0Y2FsbGJhY2sobWFwWCwgbWFwWSwgaSwgMSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYoIWJsb2NrZWQpIHtcblx0XHRcdFx0Ly9JZiB0aWxlIGlzIGEgYmxvY2tpbmcgdGlsZSwgY2FzdCBhcm91bmQgaXRcblx0XHRcdFx0aWYoIXRoaXMuX2xpZ2h0UGFzc2VzKG1hcFgsIG1hcFkpICYmIGkgPCByYWRpdXMpIHtcblx0XHRcdFx0XHRibG9ja2VkID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9jYXN0VmlzaWJpbGl0eShzdGFydFgsIHN0YXJ0WSwgaSArIDEsIHZpc1Nsb3BlU3RhcnQsIHNsb3BlU3RhcnQsIHJhZGl1cywgeHgsIHh5LCB5eCwgeXksIGNhbGxiYWNrKTtcblx0XHRcdFx0XHRuZXdTdGFydCA9IHNsb3BlRW5kO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL0tlZXAgbmFycm93aW5nIGlmIHNjYW5uaW5nIGFjcm9zcyBhIGJsb2NrXG5cdFx0XHRcdGlmKCF0aGlzLl9saWdodFBhc3NlcyhtYXBYLCBtYXBZKSkge1xuXHRcdFx0XHRcdG5ld1N0YXJ0ID0gc2xvcGVFbmQ7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFxuXHRcdFx0XHQvL0Jsb2NrIGhhcyBlbmRlZFxuXHRcdFx0XHRibG9ja2VkID0gZmFsc2U7XG5cdFx0XHRcdHZpc1Nsb3BlU3RhcnQgPSBuZXdTdGFydDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoYmxvY2tlZCkgeyBicmVhazsgfVxuXHR9XG59XG4vKipcbiAqIEBuYW1lc3BhY2UgQ29sb3Igb3BlcmF0aW9uc1xuICovXG5ST1QuQ29sb3IgPSB7XG5cdGZyb21TdHJpbmc6IGZ1bmN0aW9uKHN0cikge1xuXHRcdHZhciBjYWNoZWQsIHI7XG5cdFx0aWYgKHN0ciBpbiB0aGlzLl9jYWNoZSkge1xuXHRcdFx0Y2FjaGVkID0gdGhpcy5fY2FjaGVbc3RyXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHN0ci5jaGFyQXQoMCkgPT0gXCIjXCIpIHsgLyogaGV4IHJnYiAqL1xuXG5cdFx0XHRcdHZhciB2YWx1ZXMgPSBzdHIubWF0Y2goL1swLTlhLWZdL2dpKS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gcGFyc2VJbnQoeCwgMTYpOyB9KTtcblx0XHRcdFx0aWYgKHZhbHVlcy5sZW5ndGggPT0gMykge1xuXHRcdFx0XHRcdGNhY2hlZCA9IHZhbHVlcy5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4geCoxNzsgfSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdFx0XHRcdHZhbHVlc1tpKzFdICs9IDE2KnZhbHVlc1tpXTtcblx0XHRcdFx0XHRcdHZhbHVlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhY2hlZCA9IHZhbHVlcztcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYgKChyID0gc3RyLm1hdGNoKC9yZ2JcXCgoWzAtOSwgXSspXFwpL2kpKSkgeyAvKiBkZWNpbWFsIHJnYiAqL1xuXHRcdFx0XHRjYWNoZWQgPSByWzFdLnNwbGl0KC9cXHMqLFxccyovKS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gcGFyc2VJbnQoeCk7IH0pO1xuXHRcdFx0fSBlbHNlIHsgLyogaHRtbCBuYW1lICovXG5cdFx0XHRcdGNhY2hlZCA9IFswLCAwLCAwXTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY2FjaGVbc3RyXSA9IGNhY2hlZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2FjaGVkLnNsaWNlKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEFkZCB0d28gb3IgbW9yZSBjb2xvcnNcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRhZGQ6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRyZXN1bHRbaV0gKz0gYXJndW1lbnRzW2pdW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBBZGQgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGFkZF86IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MTtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdGNvbG9yMVtpXSArPSBhcmd1bWVudHNbal1baV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjb2xvcjE7XG5cdH0sXG5cblx0LyoqXG5cdCAqIE11bHRpcGx5IChtaXgpIHR3byBvciBtb3JlIGNvbG9yc1xuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdG11bHRpcGx5OiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuXHRcdHZhciByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0cmVzdWx0W2ldICo9IGFyZ3VtZW50c1tqXVtpXSAvIDI1NTtcblx0XHRcdH1cblx0XHRcdHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdG11bHRpcGx5XzogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0Y29sb3IxW2ldICo9IGFyZ3VtZW50c1tqXVtpXSAvIDI1NTtcblx0XHRcdH1cblx0XHRcdGNvbG9yMVtpXSA9IE1hdGgucm91bmQoY29sb3IxW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNvbG9yMTtcblx0fSxcblxuXHQvKipcblx0ICogSW50ZXJwb2xhdGUgKGJsZW5kKSB0d28gY29sb3JzIHdpdGggYSBnaXZlbiBmYWN0b3Jcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbZmFjdG9yPTAuNV0gMC4uMVxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRpbnRlcnBvbGF0ZTogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIsIGZhY3Rvcikge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykgeyBmYWN0b3IgPSAwLjU7IH1cblx0XHR2YXIgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldICsgZmFjdG9yKihjb2xvcjJbaV0tY29sb3IxW2ldKSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEludGVycG9sYXRlIChibGVuZCkgdHdvIGNvbG9ycyB3aXRoIGEgZ2l2ZW4gZmFjdG9yIGluIEhTTCBtb2RlXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHBhcmFtIHtmbG9hdH0gW2ZhY3Rvcj0wLjVdIDAuLjFcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0aW50ZXJwb2xhdGVIU0w6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCBmYWN0b3IpIHtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHsgZmFjdG9yID0gMC41OyB9XG5cdFx0dmFyIGhzbDEgPSB0aGlzLnJnYjJoc2woY29sb3IxKTtcblx0XHR2YXIgaHNsMiA9IHRoaXMucmdiMmhzbChjb2xvcjIpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRoc2wxW2ldICs9IGZhY3RvciooaHNsMltpXS1oc2wxW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuaHNsMnJnYihoc2wxKTtcblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IHJhbmRvbSBjb2xvciBiYXNlZCBvbiB0aGlzIG9uZVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBkaWZmIFNldCBvZiBzdGFuZGFyZCBkZXZpYXRpb25zXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdHJhbmRvbWl6ZTogZnVuY3Rpb24oY29sb3IsIGRpZmYpIHtcblx0XHRpZiAoIShkaWZmIGluc3RhbmNlb2YgQXJyYXkpKSB7IGRpZmYgPSBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0Tm9ybWFsKDAsIGRpZmYpKTsgfVxuXHRcdHZhciByZXN1bHQgPSBjb2xvci5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRyZXN1bHRbaV0gKz0gKGRpZmYgaW5zdGFuY2VvZiBBcnJheSA/IE1hdGgucm91bmQoUk9ULlJORy5nZXROb3JtYWwoMCwgZGlmZltpXSkpIDogZGlmZik7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuIEV4cGVjdHMgMC4uMjU1IGlucHV0cywgcHJvZHVjZXMgMC4uMSBvdXRwdXRzLlxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRyZ2IyaHNsOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHZhciByID0gY29sb3JbMF0vMjU1O1xuXHRcdHZhciBnID0gY29sb3JbMV0vMjU1O1xuXHRcdHZhciBiID0gY29sb3JbMl0vMjU1O1xuXG5cdFx0dmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpLCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcblx0XHR2YXIgaCwgcywgbCA9IChtYXggKyBtaW4pIC8gMjtcblxuXHRcdGlmIChtYXggPT0gbWluKSB7XG5cdFx0XHRoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGQgPSBtYXggLSBtaW47XG5cdFx0XHRzID0gKGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pKTtcblx0XHRcdHN3aXRjaChtYXgpIHtcblx0XHRcdFx0Y2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aCAvPSA2O1xuXHRcdH1cblxuXHRcdHJldHVybiBbaCwgcywgbF07XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGFuIEhTTCBjb2xvciB2YWx1ZSB0byBSR0IuIEV4cGVjdHMgMC4uMSBpbnB1dHMsIHByb2R1Y2VzIDAuLjI1NSBvdXRwdXRzLlxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRoc2wycmdiOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHZhciBsID0gY29sb3JbMl07XG5cblx0XHRpZiAoY29sb3JbMV0gPT0gMCkge1xuXHRcdFx0bCA9IE1hdGgucm91bmQobCoyNTUpO1xuXHRcdFx0cmV0dXJuIFtsLCBsLCBsXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGh1ZTJyZ2IgPSBmdW5jdGlvbihwLCBxLCB0KSB7XG5cdFx0XHRcdGlmICh0IDwgMCkgdCArPSAxO1xuXHRcdFx0XHRpZiAodCA+IDEpIHQgLT0gMTtcblx0XHRcdFx0aWYgKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuXHRcdFx0XHRpZiAodCA8IDEvMikgcmV0dXJuIHE7XG5cdFx0XHRcdGlmICh0IDwgMi8zKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2O1xuXHRcdFx0XHRyZXR1cm4gcDtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHMgPSBjb2xvclsxXTtcblx0XHRcdHZhciBxID0gKGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHMpO1xuXHRcdFx0dmFyIHAgPSAyICogbCAtIHE7XG5cdFx0XHR2YXIgciA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0gKyAxLzMpO1xuXHRcdFx0dmFyIGcgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdKTtcblx0XHRcdHZhciBiID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSAtIDEvMyk7XG5cdFx0XHRyZXR1cm4gW01hdGgucm91bmQocioyNTUpLCBNYXRoLnJvdW5kKGcqMjU1KSwgTWF0aC5yb3VuZChiKjI1NSldO1xuXHRcdH1cblx0fSxcblxuXHR0b1JHQjogZnVuY3Rpb24oY29sb3IpIHtcblx0XHRyZXR1cm4gXCJyZ2IoXCIgKyB0aGlzLl9jbGFtcChjb2xvclswXSkgKyBcIixcIiArIHRoaXMuX2NsYW1wKGNvbG9yWzFdKSArIFwiLFwiICsgdGhpcy5fY2xhbXAoY29sb3JbMl0pICsgXCIpXCI7XG5cdH0sXG5cblx0dG9IZXg6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0dmFyIHBhcnRzID0gW107XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHBhcnRzLnB1c2godGhpcy5fY2xhbXAoY29sb3JbaV0pLnRvU3RyaW5nKDE2KS5scGFkKFwiMFwiLCAyKSk7XG5cdFx0fVxuXHRcdHJldHVybiBcIiNcIiArIHBhcnRzLmpvaW4oXCJcIik7XG5cdH0sXG5cblx0X2NsYW1wOiBmdW5jdGlvbihudW0pIHtcblx0XHRpZiAobnVtIDwgMCkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fSBlbHNlIGlmIChudW0gPiAyNTUpIHtcblx0XHRcdHJldHVybiAyNTU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudW07XG5cdFx0fVxuXHR9LFxuXG5cdF9jYWNoZToge1xuXHRcdFwiYmxhY2tcIjogWzAsMCwwXSxcblx0XHRcIm5hdnlcIjogWzAsMCwxMjhdLFxuXHRcdFwiZGFya2JsdWVcIjogWzAsMCwxMzldLFxuXHRcdFwibWVkaXVtYmx1ZVwiOiBbMCwwLDIwNV0sXG5cdFx0XCJibHVlXCI6IFswLDAsMjU1XSxcblx0XHRcImRhcmtncmVlblwiOiBbMCwxMDAsMF0sXG5cdFx0XCJncmVlblwiOiBbMCwxMjgsMF0sXG5cdFx0XCJ0ZWFsXCI6IFswLDEyOCwxMjhdLFxuXHRcdFwiZGFya2N5YW5cIjogWzAsMTM5LDEzOV0sXG5cdFx0XCJkZWVwc2t5Ymx1ZVwiOiBbMCwxOTEsMjU1XSxcblx0XHRcImRhcmt0dXJxdW9pc2VcIjogWzAsMjA2LDIwOV0sXG5cdFx0XCJtZWRpdW1zcHJpbmdncmVlblwiOiBbMCwyNTAsMTU0XSxcblx0XHRcImxpbWVcIjogWzAsMjU1LDBdLFxuXHRcdFwic3ByaW5nZ3JlZW5cIjogWzAsMjU1LDEyN10sXG5cdFx0XCJhcXVhXCI6IFswLDI1NSwyNTVdLFxuXHRcdFwiY3lhblwiOiBbMCwyNTUsMjU1XSxcblx0XHRcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsMjUsMTEyXSxcblx0XHRcImRvZGdlcmJsdWVcIjogWzMwLDE0NCwyNTVdLFxuXHRcdFwiZm9yZXN0Z3JlZW5cIjogWzM0LDEzOSwzNF0sXG5cdFx0XCJzZWFncmVlblwiOiBbNDYsMTM5LDg3XSxcblx0XHRcImRhcmtzbGF0ZWdyYXlcIjogWzQ3LDc5LDc5XSxcblx0XHRcImRhcmtzbGF0ZWdyZXlcIjogWzQ3LDc5LDc5XSxcblx0XHRcImxpbWVncmVlblwiOiBbNTAsMjA1LDUwXSxcblx0XHRcIm1lZGl1bXNlYWdyZWVuXCI6IFs2MCwxNzksMTEzXSxcblx0XHRcInR1cnF1b2lzZVwiOiBbNjQsMjI0LDIwOF0sXG5cdFx0XCJyb3lhbGJsdWVcIjogWzY1LDEwNSwyMjVdLFxuXHRcdFwic3RlZWxibHVlXCI6IFs3MCwxMzAsMTgwXSxcblx0XHRcImRhcmtzbGF0ZWJsdWVcIjogWzcyLDYxLDEzOV0sXG5cdFx0XCJtZWRpdW10dXJxdW9pc2VcIjogWzcyLDIwOSwyMDRdLFxuXHRcdFwiaW5kaWdvXCI6IFs3NSwwLDEzMF0sXG5cdFx0XCJkYXJrb2xpdmVncmVlblwiOiBbODUsMTA3LDQ3XSxcblx0XHRcImNhZGV0Ymx1ZVwiOiBbOTUsMTU4LDE2MF0sXG5cdFx0XCJjb3JuZmxvd2VyYmx1ZVwiOiBbMTAwLDE0OSwyMzddLFxuXHRcdFwibWVkaXVtYXF1YW1hcmluZVwiOiBbMTAyLDIwNSwxNzBdLFxuXHRcdFwiZGltZ3JheVwiOiBbMTA1LDEwNSwxMDVdLFxuXHRcdFwiZGltZ3JleVwiOiBbMTA1LDEwNSwxMDVdLFxuXHRcdFwic2xhdGVibHVlXCI6IFsxMDYsOTAsMjA1XSxcblx0XHRcIm9saXZlZHJhYlwiOiBbMTA3LDE0MiwzNV0sXG5cdFx0XCJzbGF0ZWdyYXlcIjogWzExMiwxMjgsMTQ0XSxcblx0XHRcInNsYXRlZ3JleVwiOiBbMTEyLDEyOCwxNDRdLFxuXHRcdFwibGlnaHRzbGF0ZWdyYXlcIjogWzExOSwxMzYsMTUzXSxcblx0XHRcImxpZ2h0c2xhdGVncmV5XCI6IFsxMTksMTM2LDE1M10sXG5cdFx0XCJtZWRpdW1zbGF0ZWJsdWVcIjogWzEyMywxMDQsMjM4XSxcblx0XHRcImxhd25ncmVlblwiOiBbMTI0LDI1MiwwXSxcblx0XHRcImNoYXJ0cmV1c2VcIjogWzEyNywyNTUsMF0sXG5cdFx0XCJhcXVhbWFyaW5lXCI6IFsxMjcsMjU1LDIxMl0sXG5cdFx0XCJtYXJvb25cIjogWzEyOCwwLDBdLFxuXHRcdFwicHVycGxlXCI6IFsxMjgsMCwxMjhdLFxuXHRcdFwib2xpdmVcIjogWzEyOCwxMjgsMF0sXG5cdFx0XCJncmF5XCI6IFsxMjgsMTI4LDEyOF0sXG5cdFx0XCJncmV5XCI6IFsxMjgsMTI4LDEyOF0sXG5cdFx0XCJza3libHVlXCI6IFsxMzUsMjA2LDIzNV0sXG5cdFx0XCJsaWdodHNreWJsdWVcIjogWzEzNSwyMDYsMjUwXSxcblx0XHRcImJsdWV2aW9sZXRcIjogWzEzOCw0MywyMjZdLFxuXHRcdFwiZGFya3JlZFwiOiBbMTM5LDAsMF0sXG5cdFx0XCJkYXJrbWFnZW50YVwiOiBbMTM5LDAsMTM5XSxcblx0XHRcInNhZGRsZWJyb3duXCI6IFsxMzksNjksMTldLFxuXHRcdFwiZGFya3NlYWdyZWVuXCI6IFsxNDMsMTg4LDE0M10sXG5cdFx0XCJsaWdodGdyZWVuXCI6IFsxNDQsMjM4LDE0NF0sXG5cdFx0XCJtZWRpdW1wdXJwbGVcIjogWzE0NywxMTIsMjE2XSxcblx0XHRcImRhcmt2aW9sZXRcIjogWzE0OCwwLDIxMV0sXG5cdFx0XCJwYWxlZ3JlZW5cIjogWzE1MiwyNTEsMTUyXSxcblx0XHRcImRhcmtvcmNoaWRcIjogWzE1Myw1MCwyMDRdLFxuXHRcdFwieWVsbG93Z3JlZW5cIjogWzE1NCwyMDUsNTBdLFxuXHRcdFwic2llbm5hXCI6IFsxNjAsODIsNDVdLFxuXHRcdFwiYnJvd25cIjogWzE2NSw0Miw0Ml0sXG5cdFx0XCJkYXJrZ3JheVwiOiBbMTY5LDE2OSwxNjldLFxuXHRcdFwiZGFya2dyZXlcIjogWzE2OSwxNjksMTY5XSxcblx0XHRcImxpZ2h0Ymx1ZVwiOiBbMTczLDIxNiwyMzBdLFxuXHRcdFwiZ3JlZW55ZWxsb3dcIjogWzE3MywyNTUsNDddLFxuXHRcdFwicGFsZXR1cnF1b2lzZVwiOiBbMTc1LDIzOCwyMzhdLFxuXHRcdFwibGlnaHRzdGVlbGJsdWVcIjogWzE3NiwxOTYsMjIyXSxcblx0XHRcInBvd2RlcmJsdWVcIjogWzE3NiwyMjQsMjMwXSxcblx0XHRcImZpcmVicmlja1wiOiBbMTc4LDM0LDM0XSxcblx0XHRcImRhcmtnb2xkZW5yb2RcIjogWzE4NCwxMzQsMTFdLFxuXHRcdFwibWVkaXVtb3JjaGlkXCI6IFsxODYsODUsMjExXSxcblx0XHRcInJvc3licm93blwiOiBbMTg4LDE0MywxNDNdLFxuXHRcdFwiZGFya2toYWtpXCI6IFsxODksMTgzLDEwN10sXG5cdFx0XCJzaWx2ZXJcIjogWzE5MiwxOTIsMTkyXSxcblx0XHRcIm1lZGl1bXZpb2xldHJlZFwiOiBbMTk5LDIxLDEzM10sXG5cdFx0XCJpbmRpYW5yZWRcIjogWzIwNSw5Miw5Ml0sXG5cdFx0XCJwZXJ1XCI6IFsyMDUsMTMzLDYzXSxcblx0XHRcImNob2NvbGF0ZVwiOiBbMjEwLDEwNSwzMF0sXG5cdFx0XCJ0YW5cIjogWzIxMCwxODAsMTQwXSxcblx0XHRcImxpZ2h0Z3JheVwiOiBbMjExLDIxMSwyMTFdLFxuXHRcdFwibGlnaHRncmV5XCI6IFsyMTEsMjExLDIxMV0sXG5cdFx0XCJwYWxldmlvbGV0cmVkXCI6IFsyMTYsMTEyLDE0N10sXG5cdFx0XCJ0aGlzdGxlXCI6IFsyMTYsMTkxLDIxNl0sXG5cdFx0XCJvcmNoaWRcIjogWzIxOCwxMTIsMjE0XSxcblx0XHRcImdvbGRlbnJvZFwiOiBbMjE4LDE2NSwzMl0sXG5cdFx0XCJjcmltc29uXCI6IFsyMjAsMjAsNjBdLFxuXHRcdFwiZ2FpbnNib3JvXCI6IFsyMjAsMjIwLDIyMF0sXG5cdFx0XCJwbHVtXCI6IFsyMjEsMTYwLDIyMV0sXG5cdFx0XCJidXJseXdvb2RcIjogWzIyMiwxODQsMTM1XSxcblx0XHRcImxpZ2h0Y3lhblwiOiBbMjI0LDI1NSwyNTVdLFxuXHRcdFwibGF2ZW5kZXJcIjogWzIzMCwyMzAsMjUwXSxcblx0XHRcImRhcmtzYWxtb25cIjogWzIzMywxNTAsMTIyXSxcblx0XHRcInZpb2xldFwiOiBbMjM4LDEzMCwyMzhdLFxuXHRcdFwicGFsZWdvbGRlbnJvZFwiOiBbMjM4LDIzMiwxNzBdLFxuXHRcdFwibGlnaHRjb3JhbFwiOiBbMjQwLDEyOCwxMjhdLFxuXHRcdFwia2hha2lcIjogWzI0MCwyMzAsMTQwXSxcblx0XHRcImFsaWNlYmx1ZVwiOiBbMjQwLDI0OCwyNTVdLFxuXHRcdFwiaG9uZXlkZXdcIjogWzI0MCwyNTUsMjQwXSxcblx0XHRcImF6dXJlXCI6IFsyNDAsMjU1LDI1NV0sXG5cdFx0XCJzYW5keWJyb3duXCI6IFsyNDQsMTY0LDk2XSxcblx0XHRcIndoZWF0XCI6IFsyNDUsMjIyLDE3OV0sXG5cdFx0XCJiZWlnZVwiOiBbMjQ1LDI0NSwyMjBdLFxuXHRcdFwid2hpdGVzbW9rZVwiOiBbMjQ1LDI0NSwyNDVdLFxuXHRcdFwibWludGNyZWFtXCI6IFsyNDUsMjU1LDI1MF0sXG5cdFx0XCJnaG9zdHdoaXRlXCI6IFsyNDgsMjQ4LDI1NV0sXG5cdFx0XCJzYWxtb25cIjogWzI1MCwxMjgsMTE0XSxcblx0XHRcImFudGlxdWV3aGl0ZVwiOiBbMjUwLDIzNSwyMTVdLFxuXHRcdFwibGluZW5cIjogWzI1MCwyNDAsMjMwXSxcblx0XHRcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsMjUwLDIxMF0sXG5cdFx0XCJvbGRsYWNlXCI6IFsyNTMsMjQ1LDIzMF0sXG5cdFx0XCJyZWRcIjogWzI1NSwwLDBdLFxuXHRcdFwiZnVjaHNpYVwiOiBbMjU1LDAsMjU1XSxcblx0XHRcIm1hZ2VudGFcIjogWzI1NSwwLDI1NV0sXG5cdFx0XCJkZWVwcGlua1wiOiBbMjU1LDIwLDE0N10sXG5cdFx0XCJvcmFuZ2VyZWRcIjogWzI1NSw2OSwwXSxcblx0XHRcInRvbWF0b1wiOiBbMjU1LDk5LDcxXSxcblx0XHRcImhvdHBpbmtcIjogWzI1NSwxMDUsMTgwXSxcblx0XHRcImNvcmFsXCI6IFsyNTUsMTI3LDgwXSxcblx0XHRcImRhcmtvcmFuZ2VcIjogWzI1NSwxNDAsMF0sXG5cdFx0XCJsaWdodHNhbG1vblwiOiBbMjU1LDE2MCwxMjJdLFxuXHRcdFwib3JhbmdlXCI6IFsyNTUsMTY1LDBdLFxuXHRcdFwibGlnaHRwaW5rXCI6IFsyNTUsMTgyLDE5M10sXG5cdFx0XCJwaW5rXCI6IFsyNTUsMTkyLDIwM10sXG5cdFx0XCJnb2xkXCI6IFsyNTUsMjE1LDBdLFxuXHRcdFwicGVhY2hwdWZmXCI6IFsyNTUsMjE4LDE4NV0sXG5cdFx0XCJuYXZham93aGl0ZVwiOiBbMjU1LDIyMiwxNzNdLFxuXHRcdFwibW9jY2FzaW5cIjogWzI1NSwyMjgsMTgxXSxcblx0XHRcImJpc3F1ZVwiOiBbMjU1LDIyOCwxOTZdLFxuXHRcdFwibWlzdHlyb3NlXCI6IFsyNTUsMjI4LDIyNV0sXG5cdFx0XCJibGFuY2hlZGFsbW9uZFwiOiBbMjU1LDIzNSwyMDVdLFxuXHRcdFwicGFwYXlhd2hpcFwiOiBbMjU1LDIzOSwyMTNdLFxuXHRcdFwibGF2ZW5kZXJibHVzaFwiOiBbMjU1LDI0MCwyNDVdLFxuXHRcdFwic2Vhc2hlbGxcIjogWzI1NSwyNDUsMjM4XSxcblx0XHRcImNvcm5zaWxrXCI6IFsyNTUsMjQ4LDIyMF0sXG5cdFx0XCJsZW1vbmNoaWZmb25cIjogWzI1NSwyNTAsMjA1XSxcblx0XHRcImZsb3JhbHdoaXRlXCI6IFsyNTUsMjUwLDI0MF0sXG5cdFx0XCJzbm93XCI6IFsyNTUsMjUwLDI1MF0sXG5cdFx0XCJ5ZWxsb3dcIjogWzI1NSwyNTUsMF0sXG5cdFx0XCJsaWdodHllbGxvd1wiOiBbMjU1LDI1NSwyMjRdLFxuXHRcdFwiaXZvcnlcIjogWzI1NSwyNTUsMjQwXSxcblx0XHRcIndoaXRlXCI6IFsyNTUsMjU1LDI1NV1cblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgTGlnaHRpbmcgY29tcHV0YXRpb24sIGJhc2VkIG9uIGEgdHJhZGl0aW9uYWwgRk9WIGZvciBtdWx0aXBsZSBsaWdodCBzb3VyY2VzIGFuZCBtdWx0aXBsZSBwYXNzZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSByZWZsZWN0aXZpdHlDYWxsYmFjayBDYWxsYmFjayB0byByZXRyaWV2ZSBjZWxsIHJlZmxlY3Rpdml0eSAoMC4uMSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5wYXNzZXM9MV0gTnVtYmVyIG9mIHBhc3Nlcy4gMSBlcXVhbHMgdG8gc2ltcGxlIEZPViBvZiBhbGwgbGlnaHQgc291cmNlcywgPjEgbWVhbnMgYSAqaGlnaGx5IHNpbXBsaWZpZWQqIHJhZGlvc2l0eS1saWtlIGFsZ29yaXRobS5cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5lbWlzc2lvblRocmVzaG9sZD0xMDBdIENlbGxzIHdpdGggZW1pc3Npdml0eSA+IHRocmVzaG9sZCB3aWxsIGJlIHRyZWF0ZWQgYXMgbGlnaHQgc291cmNlIGluIHRoZSBuZXh0IHBhc3MuXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucmFuZ2U9MTBdIE1heCBsaWdodCByYW5nZVxuICovXG5ST1QuTGlnaHRpbmcgPSBmdW5jdGlvbihyZWZsZWN0aXZpdHlDYWxsYmFjaywgb3B0aW9ucykge1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWxsYmFjayA9IHJlZmxlY3Rpdml0eUNhbGxiYWNrO1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHBhc3NlczogMSxcblx0XHRlbWlzc2lvblRocmVzaG9sZDogMTAwLFxuXHRcdHJhbmdlOiAxMFxuXHR9O1xuXHR0aGlzLl9mb3YgPSBudWxsO1xuXG5cdHRoaXMuX2xpZ2h0cyA9IHt9O1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuXG5cdHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBBZGp1c3Qgb3B0aW9ucyBhdCBydW50aW1lXG4gKiBAc2VlIFJPVC5MaWdodGluZ1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJhbmdlKSB7IHRoaXMucmVzZXQoKTsgfVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHVzZWQgRmllbGQtT2YtVmlldyBhbGdvXG4gKiBAcGFyYW0ge1JPVC5GT1Z9IGZvdlxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldEZPViA9IGZ1bmN0aW9uKGZvdikge1xuXHR0aGlzLl9mb3YgPSBmb3Y7XG5cdHRoaXMuX2ZvdkNhY2hlID0ge307XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFNldCAob3IgcmVtb3ZlKSBhIGxpZ2h0IHNvdXJjZVxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge251bGwgfHwgc3RyaW5nIHx8IG51bWJlclszXX0gY29sb3JcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5zZXRMaWdodCA9IGZ1bmN0aW9uKHgsIHksIGNvbG9yKSB7XG5cdHZhciBrZXkgPSB4K1wiLFwiK3k7XG5cblx0aWYgKGNvbG9yKSB7XG5cdFx0dGhpcy5fbGlnaHRzW2tleV0gPSAodHlwZW9mKGNvbG9yKSA9PSBcInN0cmluZ1wiID8gUk9ULkNvbG9yLmZyb21TdHJpbmcoY29sb3IpIDogY29sb3IpO1xuXHR9IGVsc2Uge1xuXHRcdGRlbGV0ZSB0aGlzLl9saWdodHNba2V5XTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpZ2h0IHNvdXJjZXNcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5jbGVhckxpZ2h0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2xpZ2h0cyA9IHt9O1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBwcmUtY29tcHV0ZWQgdG9wb2xvZ3kgdmFsdWVzLiBDYWxsIHdoZW5ldmVyIHRoZSB1bmRlcmx5aW5nIG1hcCBjaGFuZ2VzIGl0cyBsaWdodC1wYXNzYWJpbGl0eS5cbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdGhlIGxpZ2h0aW5nXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaWdodGluZ0NhbGxiYWNrIFdpbGwgYmUgY2FsbGVkIHdpdGggKHgsIHksIGNvbG9yKSBmb3IgZXZlcnkgbGl0IGNlbGxcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24obGlnaHRpbmdDYWxsYmFjaykge1xuXHR2YXIgZG9uZUNlbGxzID0ge307XG5cdHZhciBlbWl0dGluZ0NlbGxzID0ge307XG5cdHZhciBsaXRDZWxscyA9IHt9O1xuXG5cdGZvciAodmFyIGtleSBpbiB0aGlzLl9saWdodHMpIHsgLyogcHJlcGFyZSBlbWl0dGVycyBmb3IgZmlyc3QgcGFzcyAqL1xuXHRcdHZhciBsaWdodCA9IHRoaXMuX2xpZ2h0c1trZXldO1xuXHRcdGVtaXR0aW5nQ2VsbHNba2V5XSA9IFswLCAwLCAwXTtcblx0XHRST1QuQ29sb3IuYWRkXyhlbWl0dGluZ0NlbGxzW2tleV0sIGxpZ2h0KTtcblx0fVxuXG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX29wdGlvbnMucGFzc2VzO2krKykgeyAvKiBtYWluIGxvb3AgKi9cblx0XHR0aGlzLl9lbWl0TGlnaHQoZW1pdHRpbmdDZWxscywgbGl0Q2VsbHMsIGRvbmVDZWxscyk7XG5cdFx0aWYgKGkrMSA9PSB0aGlzLl9vcHRpb25zLnBhc3NlcykgeyBjb250aW51ZTsgfSAvKiBub3QgZm9yIHRoZSBsYXN0IHBhc3MgKi9cblx0XHRlbWl0dGluZ0NlbGxzID0gdGhpcy5fY29tcHV0ZUVtaXR0ZXJzKGxpdENlbGxzLCBkb25lQ2VsbHMpO1xuXHR9XG5cblx0Zm9yICh2YXIgbGl0S2V5IGluIGxpdENlbGxzKSB7IC8qIGxldCB0aGUgdXNlciBrbm93IHdoYXQgYW5kIGhvdyBpcyBsaXQgKi9cblx0XHR2YXIgcGFydHMgPSBsaXRLZXkuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdGxpZ2h0aW5nQ2FsbGJhY2soeCwgeSwgbGl0Q2VsbHNbbGl0S2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIG9uZSBpdGVyYXRpb24gZnJvbSBhbGwgZW1pdHRpbmcgY2VsbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbWl0dGluZ0NlbGxzIFRoZXNlIGVtaXQgbGlnaHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaXRDZWxscyBBZGQgcHJvamVjdGVkIGxpZ2h0IHRvIHRoZXNlXG4gKiBAcGFyYW0ge29iamVjdH0gZG9uZUNlbGxzIFRoZXNlIGFscmVhZHkgZW1pdHRlZCwgZm9yYmlkIHRoZW0gZnJvbSBmdXJ0aGVyIGNhbGN1bGF0aW9uc1xuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9lbWl0TGlnaHQgPSBmdW5jdGlvbihlbWl0dGluZ0NlbGxzLCBsaXRDZWxscywgZG9uZUNlbGxzKSB7XG5cdGZvciAodmFyIGtleSBpbiBlbWl0dGluZ0NlbGxzKSB7XG5cdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHR0aGlzLl9lbWl0TGlnaHRGcm9tQ2VsbCh4LCB5LCBlbWl0dGluZ0NlbGxzW2tleV0sIGxpdENlbGxzKTtcblx0XHRkb25lQ2VsbHNba2V5XSA9IDE7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUHJlcGFyZSBhIGxpc3Qgb2YgZW1pdHRlcnMgZm9yIG5leHQgcGFzc1xuICogQHBhcmFtIHtvYmplY3R9IGxpdENlbGxzXG4gKiBAcGFyYW0ge29iamVjdH0gZG9uZUNlbGxzXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9jb21wdXRlRW1pdHRlcnMgPSBmdW5jdGlvbihsaXRDZWxscywgZG9uZUNlbGxzKSB7XG5cdHZhciByZXN1bHQgPSB7fTtcblxuXHRmb3IgKHZhciBrZXkgaW4gbGl0Q2VsbHMpIHtcblx0XHRpZiAoa2V5IGluIGRvbmVDZWxscykgeyBjb250aW51ZTsgfSAvKiBhbHJlYWR5IGVtaXR0ZWQgKi9cblxuXHRcdHZhciBjb2xvciA9IGxpdENlbGxzW2tleV07XG5cblx0XHRpZiAoa2V5IGluIHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlKSB7XG5cdFx0XHR2YXIgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGVba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdFx0dmFyIHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG5cdFx0XHR2YXIgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FsbGJhY2soeCwgeSk7XG5cdFx0XHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZVtrZXldID0gcmVmbGVjdGl2aXR5O1xuXHRcdH1cblxuXHRcdGlmIChyZWZsZWN0aXZpdHkgPT0gMCkgeyBjb250aW51ZTsgfSAvKiB3aWxsIG5vdCByZWZsZWN0IGF0IGFsbCAqL1xuXG5cdFx0LyogY29tcHV0ZSBlbWlzc2lvbiBjb2xvciAqL1xuXHRcdHZhciBlbWlzc2lvbiA9IFtdO1xuXHRcdHZhciBpbnRlbnNpdHkgPSAwO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHR2YXIgcGFydCA9IE1hdGgucm91bmQoY29sb3JbaV0qcmVmbGVjdGl2aXR5KTtcblx0XHRcdGVtaXNzaW9uW2ldID0gcGFydDtcblx0XHRcdGludGVuc2l0eSArPSBwYXJ0O1xuXHRcdH1cblx0XHRpZiAoaW50ZW5zaXR5ID4gdGhpcy5fb3B0aW9ucy5lbWlzc2lvblRocmVzaG9sZCkgeyByZXN1bHRba2V5XSA9IGVtaXNzaW9uOyB9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbXB1dGUgb25lIGl0ZXJhdGlvbiBmcm9tIG9uZSBjZWxsXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG4gKiBAcGFyYW0ge29iamVjdH0gbGl0Q2VsbHMgQ2VsbCBkYXRhIHRvIGJ5IHVwZGF0ZWRcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5fZW1pdExpZ2h0RnJvbUNlbGwgPSBmdW5jdGlvbih4LCB5LCBjb2xvciwgbGl0Q2VsbHMpIHtcblx0dmFyIGtleSA9IHgrXCIsXCIreTtcblx0aWYgKGtleSBpbiB0aGlzLl9mb3ZDYWNoZSkge1xuXHRcdHZhciBmb3YgPSB0aGlzLl9mb3ZDYWNoZVtrZXldO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBmb3YgPSB0aGlzLl91cGRhdGVGT1YoeCwgeSk7XG5cdH1cblxuXHRmb3IgKHZhciBmb3ZLZXkgaW4gZm92KSB7XG5cdFx0dmFyIGZvcm1GYWN0b3IgPSBmb3ZbZm92S2V5XTtcblxuXHRcdGlmIChmb3ZLZXkgaW4gbGl0Q2VsbHMpIHsgLyogYWxyZWFkeSBsaXQgKi9cblx0XHRcdHZhciByZXN1bHQgPSBsaXRDZWxsc1tmb3ZLZXldO1xuXHRcdH0gZWxzZSB7IC8qIG5ld2x5IGxpdCAqL1xuXHRcdFx0dmFyIHJlc3VsdCA9IFswLCAwLCAwXTtcblx0XHRcdGxpdENlbGxzW2ZvdktleV0gPSByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHsgcmVzdWx0W2ldICs9IE1hdGgucm91bmQoY29sb3JbaV0qZm9ybUZhY3Rvcik7IH0gLyogYWRkIGxpZ2h0IGNvbG9yICovXG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIEZPViAoXCJmb3JtIGZhY3RvclwiKSBmb3IgYSBwb3RlbnRpYWwgbGlnaHQgc291cmNlIGF0IFt4LHldXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX3VwZGF0ZUZPViA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dmFyIGtleTEgPSB4K1wiLFwiK3k7XG5cdHZhciBjYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZVtrZXkxXSA9IGNhY2hlO1xuXHR2YXIgcmFuZ2UgPSB0aGlzLl9vcHRpb25zLnJhbmdlO1xuXHR2YXIgY2IgPSBmdW5jdGlvbih4LCB5LCByLCB2aXMpIHtcblx0XHR2YXIga2V5MiA9IHgrXCIsXCIreTtcblx0XHR2YXIgZm9ybUZhY3RvciA9IHZpcyAqICgxLXIvcmFuZ2UpO1xuXHRcdGlmIChmb3JtRmFjdG9yID09IDApIHsgcmV0dXJuOyB9XG5cdFx0Y2FjaGVba2V5Ml0gPSBmb3JtRmFjdG9yO1xuXHR9XG5cdHRoaXMuX2Zvdi5jb21wdXRlKHgsIHksIHJhbmdlLCBjYi5iaW5kKHRoaXMpKTtcblxuXHRyZXR1cm4gY2FjaGU7XG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBwYXRoZmluZGVyXG4gKiBAcGFyYW0ge2ludH0gdG9YIFRhcmdldCBYIGNvb3JkXG4gKiBAcGFyYW0ge2ludH0gdG9ZIFRhcmdldCBZIGNvb3JkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXNzYWJsZUNhbGxiYWNrIENhbGxiYWNrIHRvIGRldGVybWluZSBtYXAgcGFzc2FiaWxpdHlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XVxuICovXG5ST1QuUGF0aCA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdHRoaXMuX3RvWCA9IHRvWDtcblx0dGhpcy5fdG9ZID0gdG9ZO1xuXHR0aGlzLl9mcm9tWCA9IG51bGw7XG5cdHRoaXMuX2Zyb21ZID0gbnVsbDtcblx0dGhpcy5fcGFzc2FibGVDYWxsYmFjayA9IHBhc3NhYmxlQ2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0dG9wb2xvZ3k6IDhcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblxuXHR0aGlzLl9kaXJzID0gUk9ULkRJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG5cdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDgpIHsgLyogcmVvcmRlciBkaXJzIGZvciBtb3JlIGFlc3RoZXRpYyByZXN1bHQgKHZlcnRpY2FsL2hvcml6b250YWwgZmlyc3QpICovXG5cdFx0dGhpcy5fZGlycyA9IFtcblx0XHRcdHRoaXMuX2RpcnNbMF0sXG5cdFx0XHR0aGlzLl9kaXJzWzJdLFxuXHRcdFx0dGhpcy5fZGlyc1s0XSxcblx0XHRcdHRoaXMuX2RpcnNbNl0sXG5cdFx0XHR0aGlzLl9kaXJzWzFdLFxuXHRcdFx0dGhpcy5fZGlyc1szXSxcblx0XHRcdHRoaXMuX2RpcnNbNV0sXG5cdFx0XHR0aGlzLl9kaXJzWzddXG5cdFx0XVxuXHR9XG59XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAcGFyYW0ge2ludH0gZnJvbVhcbiAqIEBwYXJhbSB7aW50fSBmcm9tWVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgV2lsbCBiZSBjYWxsZWQgZm9yIGV2ZXJ5IHBhdGggaXRlbSB3aXRoIGFyZ3VtZW50cyBcInhcIiBhbmQgXCJ5XCJcbiAqL1xuUk9ULlBhdGgucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG59XG5cblJPVC5QYXRoLnByb3RvdHlwZS5fZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZGlycy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRpciA9IHRoaXMuX2RpcnNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRpclswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGlyWzFdO1xuXHRcdFxuXHRcdGlmICghdGhpcy5fcGFzc2FibGVDYWxsYmFjayh4LCB5KSkgeyBjb250aW51ZTsgfVxuXHRcdHJlc3VsdC5wdXNoKFt4LCB5XSk7XG5cdH1cblx0XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIERpamtzdHJhJ3MgYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5ST1QuUGF0aC5EaWprc3RyYSA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5QYXRoLmNhbGwodGhpcywgdG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuXG5cdHRoaXMuX2NvbXB1dGVkID0ge307XG5cdHRoaXMuX3RvZG8gPSBbXTtcblx0dGhpcy5fYWRkKHRvWCwgdG9ZLCBudWxsKTtcbn1cblJPVC5QYXRoLkRpamtzdHJhLmV4dGVuZChST1QuUGF0aCk7XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAc2VlIFJPVC5QYXRoI2NvbXB1dGVcbiAqL1xuUk9ULlBhdGguRGlqa3N0cmEucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG5cdHZhciBrZXkgPSBmcm9tWCtcIixcIitmcm9tWTtcblx0aWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkgeyB0aGlzLl9jb21wdXRlKGZyb21YLCBmcm9tWSk7IH1cblx0aWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkgeyByZXR1cm47IH1cblx0XG5cdHZhciBpdGVtID0gdGhpcy5fY29tcHV0ZWRba2V5XTtcblx0d2hpbGUgKGl0ZW0pIHtcblx0XHRjYWxsYmFjayhpdGVtLngsIGl0ZW0ueSk7XG5cdFx0aXRlbSA9IGl0ZW0ucHJldjtcblx0fVxufVxuXG4vKipcbiAqIENvbXB1dGUgYSBub24tY2FjaGVkIHZhbHVlXG4gKi9cblJPVC5QYXRoLkRpamtzdHJhLnByb3RvdHlwZS5fY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSkge1xuXHR3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcblx0XHRpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkgeyByZXR1cm47IH1cblx0XHRcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRcblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvcnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuXHRcdFx0dmFyIHggPSBuZWlnaGJvclswXTtcblx0XHRcdHZhciB5ID0gbmVpZ2hib3JbMV07XG5cdFx0XHR2YXIgaWQgPSB4K1wiLFwiK3k7XG5cdFx0XHRpZiAoaWQgaW4gdGhpcy5fY29tcHV0ZWQpIHsgY29udGludWU7IH0gLyogYWxyZWFkeSBkb25lICovXHRcblx0XHRcdHRoaXMuX2FkZCh4LCB5LCBpdGVtKTsgXG5cdFx0fVxuXHR9XG59XG5cblJPVC5QYXRoLkRpamtzdHJhLnByb3RvdHlwZS5fYWRkID0gZnVuY3Rpb24oeCwgeSwgcHJldikge1xuXHR2YXIgb2JqID0ge1xuXHRcdHg6IHgsXG5cdFx0eTogeSxcblx0XHRwcmV2OiBwcmV2XG5cdH1cblx0dGhpcy5fY29tcHV0ZWRbeCtcIixcIit5XSA9IG9iajtcblx0dGhpcy5fdG9kby5wdXNoKG9iaik7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIEEqIGFsZ29yaXRobTogYWxsIGVkZ2VzIGhhdmUgYSB2YWx1ZSBvZiAxXG4gKiBAYXVnbWVudHMgUk9ULlBhdGhcbiAqIEBzZWUgUk9ULlBhdGhcbiAqL1xuUk9ULlBhdGguQVN0YXIgPSBmdW5jdGlvbih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuUGF0aC5jYWxsKHRoaXMsIHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKTtcblxuXHR0aGlzLl90b2RvID0gW107XG5cdHRoaXMuX2RvbmUgPSB7fTtcblx0dGhpcy5fZnJvbVggPSBudWxsO1xuXHR0aGlzLl9mcm9tWSA9IG51bGw7XG59XG5ST1QuUGF0aC5BU3Rhci5leHRlbmQoUk9ULlBhdGgpO1xuXG4vKipcbiAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICogQHNlZSBST1QuUGF0aCNjb21wdXRlXG4gKi9cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xuXHR0aGlzLl90b2RvID0gW107XG5cdHRoaXMuX2RvbmUgPSB7fTtcblx0dGhpcy5fZnJvbVggPSBmcm9tWDtcblx0dGhpcy5fZnJvbVkgPSBmcm9tWTtcblx0dGhpcy5fYWRkKHRoaXMuX3RvWCwgdGhpcy5fdG9ZLCBudWxsKTtcblxuXHR3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcblx0XHRpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkgeyBicmVhazsgfVxuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JzLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcblx0XHRcdHZhciB4ID0gbmVpZ2hib3JbMF07XG5cdFx0XHR2YXIgeSA9IG5laWdoYm9yWzFdO1xuXHRcdFx0dmFyIGlkID0geCtcIixcIit5O1xuXHRcdFx0aWYgKGlkIGluIHRoaXMuX2RvbmUpIHsgY29udGludWU7IH1cblx0XHRcdHRoaXMuX2FkZCh4LCB5LCBpdGVtKTsgXG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgaXRlbSA9IHRoaXMuX2RvbmVbZnJvbVgrXCIsXCIrZnJvbVldO1xuXHRpZiAoIWl0ZW0pIHsgcmV0dXJuOyB9XG5cdFxuXHR3aGlsZSAoaXRlbSkge1xuXHRcdGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRpdGVtID0gaXRlbS5wcmV2O1xuXHR9XG59XG5cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5fYWRkID0gZnVuY3Rpb24oeCwgeSwgcHJldikge1xuXHR2YXIgb2JqID0ge1xuXHRcdHg6IHgsXG5cdFx0eTogeSxcblx0XHRwcmV2OiBwcmV2LFxuXHRcdGc6IChwcmV2ID8gcHJldi5nKzEgOiAwKSxcblx0XHRoOiB0aGlzLl9kaXN0YW5jZSh4LCB5KVxuXHR9XG5cdHRoaXMuX2RvbmVbeCtcIixcIit5XSA9IG9iajtcblx0XG5cdC8qIGluc2VydCBpbnRvIHByaW9yaXR5IHF1ZXVlICovXG5cdFxuXHR2YXIgZiA9IG9iai5nICsgb2JqLmg7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3RvZG8ubGVuZ3RoO2krKykge1xuXHRcdHZhciBpdGVtID0gdGhpcy5fdG9kb1tpXTtcblx0XHRpZiAoZiA8IGl0ZW0uZyArIGl0ZW0uaCkge1xuXHRcdFx0dGhpcy5fdG9kby5zcGxpY2UoaSwgMCwgb2JqKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX3RvZG8ucHVzaChvYmopO1xufVxuXG5ST1QuUGF0aC5BU3Rhci5wcm90b3R5cGUuX2Rpc3RhbmNlID0gZnVuY3Rpb24oeCwgeSkge1xuXHRzd2l0Y2ggKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kpIHtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gKE1hdGguYWJzKHgtdGhpcy5fZnJvbVgpICsgTWF0aC5hYnMoeS10aGlzLl9mcm9tWSkpO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA2OlxuXHRcdFx0dmFyIGR4ID0gTWF0aC5hYnMoeCAtIHRoaXMuX2Zyb21YKTtcblx0XHRcdHZhciBkeSA9IE1hdGguYWJzKHkgLSB0aGlzLl9mcm9tWSk7XG5cdFx0XHRyZXR1cm4gZHkgKyBNYXRoLm1heCgwLCAoZHgtZHkpLzIpO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA4OiBcblx0XHRcdHJldHVybiBNYXRoLm1heChNYXRoLmFicyh4LXRoaXMuX2Zyb21YKSwgTWF0aC5hYnMoeS10aGlzLl9mcm9tWSkpO1xuXHRcdGJyZWFrO1xuXHR9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCB0b3BvbG9neVwiKTtcbn1cbi8qKlxuICogQGNsYXNzIFRlcm1pbmFsIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlRlcm0gPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblx0dGhpcy5fY3ggPSAtMTtcblx0dGhpcy5fY3kgPSAtMTtcblx0dGhpcy5fbGFzdENvbG9yID0gXCJcIjtcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xuXHR0aGlzLl9veCA9IDA7XG5cdHRoaXMuX295ID0gMDtcblx0dGhpcy5fdGVybWNvbG9yID0ge307XG59XG5ST1QuRGlzcGxheS5UZXJtLmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cdHRoaXMuX294ID0gTWF0aC5mbG9vcigocHJvY2Vzcy5zdGRvdXQuY29sdW1ucyAtIG9wdGlvbnMud2lkdGgpIC8gMik7XG5cdHRoaXMuX295ID0gTWF0aC5mbG9vcigocHJvY2Vzcy5zdGRvdXQucm93cyAtIG9wdGlvbnMuaGVpZ2h0KSAvIDIpO1xuXHR0aGlzLl90ZXJtY29sb3IgPSBuZXcgUk9ULkRpc3BsYXkuVGVybVtvcHRpb25zLnRlcm1Db2xvci5jYXBpdGFsaXplKCldKHRoaXMuX2NvbnRleHQpO1xuXHR0aGlzLl9jb250ZXh0Ll90ZXJtY29sb3IgPSB0aGlzLl90ZXJtY29sb3I7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHQvLyBkZXRlcm1pbmUgd2hlcmUgdG8gZHJhdyB3aGF0IHdpdGggd2hhdCBjb2xvcnNcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0Ly8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gbW92ZSB0aGUgdGVybWluYWwgY3Vyc29yXG5cdHZhciBkeCA9IHRoaXMuX294ICsgeDtcblx0dmFyIGR5ID0gdGhpcy5fb3kgKyB5O1xuXHRpZiAoZHggPCAwIHx8IGR4ID49IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMpIHsgcmV0dXJuOyB9XG5cdGlmIChkeSA8IDAgfHwgZHkgPj0gcHJvY2Vzcy5zdGRvdXQucm93cykgeyByZXR1cm47IH1cblx0aWYgKGR4ICE9PSB0aGlzLl9jeCB8fCBkeSAhPT0gdGhpcy5fY3kpIHtcblx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZSh0aGlzLl90ZXJtY29sb3IucG9zaXRpb25Ub0Fuc2koZHgsZHkpKTtcblx0XHR0aGlzLl9jeCA9IGR4O1xuXHRcdHRoaXMuX2N5ID0gZHk7XG5cdH1cblxuXHQvLyB0ZXJtaW5hbHMgYXV0b21hdGljYWxseSBjbGVhciwgYnV0IGlmIHdlJ3JlIGNsZWFyaW5nIHdoZW4gd2UncmVcblx0Ly8gbm90IG90aGVyd2lzZSBwcm92aWRlZCB3aXRoIGEgY2hhcmFjdGVyLCBqdXN0IHVzZSBhIHNwYWNlIGluc3RlYWRcblx0aWYgKGNsZWFyQmVmb3JlKSB7XG5cdFx0aWYgKCFjaCkge1xuXHRcdFx0Y2ggPSBcIiBcIjtcblx0XHR9XG5cdH1cblx0XHRcblx0Ly8gaWYgd2UncmUgbm90IGNsZWFyaW5nIGFuZCBub3QgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwgZG8gbm90aGluZ1xuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdC8vIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIGNoYW5nZSBjb2xvcnNcblx0dmFyIG5ld0NvbG9yID0gdGhpcy5fdGVybWNvbG9yLmNvbG9yVG9BbnNpKGZnLGJnKTtcblx0aWYgKG5ld0NvbG9yICE9PSB0aGlzLl9sYXN0Q29sb3IpIHtcblx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShuZXdDb2xvcik7XG5cdFx0dGhpcy5fbGFzdENvbG9yID0gbmV3Q29sb3I7XG5cdH1cblxuXHQvLyB3cml0ZSB0aGUgcHJvdmlkZWQgc3ltYm9sIHRvIHRoZSBkaXNwbGF5XG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNoYXJzWzBdKTtcblxuXHQvLyB1cGRhdGUgb3VyIHBvc2l0aW9uLCBnaXZlbiB0aGF0IHdlIHdyb3RlIGEgY2hhcmFjdGVyXG5cdHRoaXMuX2N4Kys7XG5cdGlmICh0aGlzLl9jeCA+PSBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKSB7XG5cdFx0dGhpcy5fY3ggPSAwO1xuXHRcdHRoaXMuX2N5Kys7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gW3Byb2Nlc3Muc3Rkb3V0LmNvbHVtbnMsIHByb2Nlc3Muc3Rkb3V0LnJvd3NdO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gMTI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFt4LHldXG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCB0ZXJtaW5hbCBjb2RlIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybS5Db2xvciA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uQ29sb3IucHJvdG90eXBlLmNsZWFyVG9BbnNpID0gZnVuY3Rpb24oYmcpIHtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUuY29sb3JUb0Fuc2kgPSBmdW5jdGlvbihmZywgYmcpIHtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUucG9zaXRpb25Ub0Fuc2kgPSBmdW5jdGlvbih4LCB5KSB7XG59XG4vKipcbiAqIEBjbGFzcyB4dGVybSB0ZXJtaW5hbCBjb2RlIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybS5YdGVybSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuVGVybS5Db2xvci5jYWxsKHRoaXMsIGNvbnRleHQpO1xufVxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5leHRlbmQoUk9ULkRpc3BsYXkuVGVybS5Db2xvcik7XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLmNsZWFyVG9BbnNpID0gZnVuY3Rpb24oYmcpIHtcblx0cmV0dXJuIFwiXFx4MWJbMDs0ODs1O1wiXG5cdFx0KyB0aGlzLl90ZXJtY29sb3IoYmcpXG5cdFx0KyBcIm1cXHgxYlsySlwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5jb2xvclRvQW5zaSA9IGZ1bmN0aW9uKGZnLCBiZykge1xuXHRyZXR1cm4gXCJcXHgxYlswOzM4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihmZylcblx0XHQrIFwiOzQ4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihiZylcblx0XHQrIFwibVwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5wb3NpdGlvblRvQW5zaSA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFwiXFx4MWJbXCIgKyAoeSsxKSArIFwiO1wiICsgKHgrMSkgKyBcIkhcIjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5wcm90b3R5cGUuX3Rlcm1jb2xvciA9IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdHZhciBTUkNfQ09MT1JTID0gMjU2LjA7XG5cdHZhciBEU1RfQ09MT1JTID0gNi4wO1xuXHR2YXIgQ09MT1JfUkFUSU8gPSBEU1RfQ09MT1JTIC8gU1JDX0NPTE9SUztcblx0dmFyIHJnYiA9IFJPVC5Db2xvci5mcm9tU3RyaW5nKGNvbG9yKTtcblx0dmFyIHIgPSBNYXRoLmZsb29yKHJnYlswXSAqIENPTE9SX1JBVElPKTtcblx0dmFyIGcgPSBNYXRoLmZsb29yKHJnYlsxXSAqIENPTE9SX1JBVElPKTtcblx0dmFyIGIgPSBNYXRoLmZsb29yKHJnYlsyXSAqIENPTE9SX1JBVElPKTtcblx0cmV0dXJuIHIqMzYgKyBnKjYgKyBiKjEgKyAxNjtcbn1cbi8qKlxuICogRXhwb3J0IHRvIE5vZGUuanMgbW9kdWxlXG4gKi9cbmZvciAodmFyIHAgaW4gUk9UKSB7XG5cdGV4cG9ydHNbcF0gPSBST1RbcF07XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiX3Byb2Nlc3NcIjoxMn1dLDI2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvaW5kZXgnKTtcblxufSx7XCIuL2xpYi9pbmRleFwiOjI3fV0sMjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3BvbnlmaWxsID0gcmVxdWlyZSgnLi9wb255ZmlsbCcpO1xuXG52YXIgX3BvbnlmaWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BvbnlmaWxsKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgcm9vdDsgLyogZ2xvYmFsIHdpbmRvdyAqL1xuXG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9ICgwLCBfcG9ueWZpbGwyWydkZWZhdWx0J10pKHJvb3QpO1xuZXhwb3J0c1snZGVmYXVsdCddID0gcmVzdWx0O1xufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se1wiLi9wb255ZmlsbFwiOjI4fV0sMjg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsO1xuZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIF9TeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIF9TeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoX1N5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBfU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IF9TeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdF9TeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbn0se31dLDI5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9yZWR1eCA9IHJlcXVpcmUoJ3JlZHV4Jyk7XG5cbnZhciBfcmVkdXhMb2dnZXIgPSByZXF1aXJlKCdyZWR1eC1sb2dnZXInKTtcblxudmFyIF9yZWR1eExvZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWR1eExvZ2dlcik7XG5cbnZhciBfcm90SnMgPSByZXF1aXJlKCdyb3QtanMnKTtcblxudmFyIF9yb3RKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3RKcyk7XG5cbnZhciBfcmVkdWNlcnMgPSByZXF1aXJlKCcuL3JlZHVjZXJzJyk7XG5cbnZhciBfcmVkdWNlcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVkdWNlcnMpO1xuXG52YXIgX2luaXRpYWxTdGF0ZSA9IHJlcXVpcmUoJy4vaW5pdGlhbFN0YXRlJyk7XG5cbnZhciBfaW5pdGlhbFN0YXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaXRpYWxTdGF0ZSk7XG5cbnZhciBfZ2FtZSA9IHJlcXVpcmUoJy4vZ2FtZScpO1xuXG52YXIgX2dhbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2FtZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuKGZ1bmN0aW9uICh3aW5kb3csIGNvbnNvbGUpIHtcbiAgLy8gd2luZG93LlNUQVRFID0gY3JlYXRlU3RvcmUoXG4gIC8vICAgZ2FtZVJlZHVjZXIsXG4gIC8vICAgaW5pdGlhbFN0YXRlLFxuICAvLyAgIGFwcGx5TWlkZGxld2FyZShjcmVhdGVMb2dnZXIoKSlcbiAgLy8gKTtcblxuICB2YXIgR0FNRSA9IF9nYW1lMlsnZGVmYXVsdCddLmluaXQoKTtcbiAgR0FNRS5zd2l0Y2hTY3JlZW4oR0FNRS5TY3JlZW4uU3RhcnRTY3JlZW4pO1xuXG4gIHZhciBtYWluRGlzcGxheSA9IEdBTUUuZ2V0RGlzcGxheSgpO1xuICAvLyBjb25zdCBnYW1lQ29uc29sZSA9IG5ldyBST1QuRGlzcGxheSh7XG4gIC8vICAgd2lkdGg6IDQ1LFxuICAvLyAgIGhlaWdodDogMTAsXG4gIC8vICAgZm9udFNpemU6IDE1LFxuICAvLyAgIGZvcmNlU3F1YXJlUmF0aW86IHRydWUsXG4gIC8vIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWRpc3BsYXknKS5hcHBlbmRDaGlsZChtYWluRGlzcGxheS5nZXRDb250YWluZXIoKSk7XG4gIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb25zb2xlJykuYXBwZW5kQ2hpbGQoZ2FtZUNvbnNvbGUuZ2V0Q29udGFpbmVyKCkpO1xuXG4gIC8vIHdpbmRvdy5TVEFURS5kaXNwYXRjaCh7XG4gIC8vICAgdHlwZTogJ0FERF9NRVNTQUdFJyxcbiAgLy8gICBtZXNzYWdlOiB7IHRleHQ6ICdoZWxsbywgd29ybGQhJyB9LFxuICAvLyB9KTtcbn0pKHdpbmRvdywgd2luZG93LmNvbnNvbGUpO1xuXG59LHtcIi4vZ2FtZVwiOjMyLFwiLi9pbml0aWFsU3RhdGVcIjozOCxcIi4vcmVkdWNlcnNcIjo0MCxcInJlZHV4XCI6MjMsXCJyZWR1eC1sb2dnZXJcIjoxNyxcInJvdC1qc1wiOjI1fV0sMzA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2x5cGggPSByZXF1aXJlKCcuL2dseXBoJyk7XG5cbnZhciBfZ2x5cGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2x5cGgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIEVudGl0eSA9IGZ1bmN0aW9uIChfR2x5cGgpIHtcbiAgX2luaGVyaXRzKEVudGl0eSwgX0dseXBoKTtcblxuICBmdW5jdGlvbiBFbnRpdHkoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVudGl0eSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRW50aXR5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRW50aXR5KSkuY2FsbCh0aGlzLCBwcm9wZXJ0aWVzKSk7XG5cbiAgICBfdGhpcy5fbmFtZSA9IHByb3BlcnRpZXMubmFtZSB8fCAnJztcbiAgICBfdGhpcy5feCA9IHByb3BlcnRpZXMueCB8fCAwO1xuICAgIF90aGlzLl95ID0gcHJvcGVydGllcy55IHx8IDA7XG4gICAgX3RoaXMuX21hcCA9IG51bGw7XG5cbiAgICBfdGhpcy5fYXR0YWNoZWRNaXhpbnMgPSB7fTtcbiAgICBfdGhpcy5fYXR0YWNoZWRNaXhpbkdyb3VwcyA9IHt9O1xuICAgIHZhciBtaXhpbnMgPSBwcm9wZXJ0aWVzLm1peGlucyB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1peGluID0gbWl4aW5zW2ldO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhtaXhpbik7XG5cbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1trXTtcblxuICAgICAgICBpZiAoa2V5ICE9PSAnaW5pdCcgJiYga2V5ICE9PSAnbmFtZScgJiYga2V5ICE9PSAnZ3JvdXBOYW1lJyAmJiAhX3RoaXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIF90aGlzW2tleV0gPSBtaXhpbltrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuX2F0dGFjaGVkTWl4aW5zW21peGluLm5hbWVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKG1peGluLmdyb3VwTmFtZSkge1xuICAgICAgICAgIF90aGlzLl9hdHRhY2hlZE1peGluR3JvdXBzW21peGluLmdyb3VwTmFtZV0gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1peGluLmluaXQpIHtcbiAgICAgICAgICBtaXhpbi5pbml0LmNhbGwoX3RoaXMsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhFbnRpdHksIFt7XG4gICAga2V5OiAnaGFzTWl4aW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBoYXNNaXhpbihvYmopIHtcbiAgICAgICAgdmFyIG1peGluID0gKHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9iaikpID09PSAnb2JqZWN0JyA/IG9iai5uYW1lIDogb2JqO1xuICAgICAgICByZXR1cm4gdGhpcy5fYXR0YWNoZWRNaXhpbkdyb3Vwc1ttaXhpbl0gfHwgdGhpcy5fYXR0YWNoZWRNaXhpbnNbbWl4aW5dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGFzTWl4aW47XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXROYW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0TmFtZShuYW1lKSB7XG4gICAgICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0TmFtZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3NldFgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRYKHgpIHtcbiAgICAgICAgdGhpcy5feCA9IHg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRYO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0WScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFkoeSkge1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldFk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXROYW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXROYW1lO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0WCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldFgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl94O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0WDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldFknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRZKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRNYXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRNYXAobWFwKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldE1hcDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldE1hcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldE1hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE1hcDtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBFbnRpdHk7XG59KF9nbHlwaDJbJ2RlZmF1bHQnXSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IEVudGl0eTtcblxufSx7XCIuL2dseXBoXCI6MzF9XSwzMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBHbHlwaCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2x5cGgoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdseXBoKTtcblxuICAgIHRoaXMuX2NoYXIgPSBwcm9wZXJ0aWVzLmNoYXIgfHwgJyAnO1xuICAgIHRoaXMuX2ZnID0gcHJvcGVydGllcy5mZyB8fCAnd2hpdGUnO1xuICAgIHRoaXMuX2JnID0gcHJvcGVydGllcy5iZyB8fCAnYmxhY2snO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdseXBoLCBbe1xuICAgIGtleTogJ2dldENoYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRDaGFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldENoYXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRCYWNrZ3JvdW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0QmFja2dyb3VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0QmFja2dyb3VuZDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldEZvcmVncm91bmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRGb3JlZ3JvdW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRGb3JlZ3JvdW5kO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIEdseXBoO1xufSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBHbHlwaDtcblxufSx7fV0sMzI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JvdEpzID0gcmVxdWlyZSgncm90LWpzJyk7XG5cbnZhciBfcm90SnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm90SnMpO1xuXG52YXIgX3NjcmVlbiA9IHJlcXVpcmUoJy4vc2NyZWVuJyk7XG5cbnZhciBfc2NyZWVuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NjcmVlbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIGRpc3BsYXlEZWZhdWx0cyA9IHtcbiAgd2lkdGg6IDgwLFxuICBoZWlnaHQ6IDI0LFxuICBmb250U2l6ZTogMTUsXG4gIGZvcmNlU3F1YXJlUmF0aW86IHRydWVcbn07XG5cbnZhciBHYW1lID0ge1xuICBTY3JlZW46IF9zY3JlZW4yWydkZWZhdWx0J10sXG5cbiAgX2Rpc3BsYXk6IG51bGwsXG4gIF9jdXJyZW50U2NyZWVuOiBudWxsLFxuICBfc2NyZWVuV2lkdGg6IGRpc3BsYXlEZWZhdWx0cy53aWR0aCxcbiAgX3NjcmVlbkhlaWdodDogZGlzcGxheURlZmF1bHRzLmhlaWdodCxcblxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7XG4gICAgICB0aGlzLl9kaXNwbGF5ID0gbmV3IF9yb3RKczJbJ2RlZmF1bHQnXS5EaXNwbGF5KE9iamVjdC5hc3NpZ24oe30sIGRpc3BsYXlEZWZhdWx0cywgb3B0aW9ucykpO1xuICAgICAgdmFyIF9nYW1lID0gdGhpcztcbiAgICAgIHZhciBiaW5kRXZlbnRUb1NjcmVlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gYmluZEV2ZW50VG9TY3JlZW4oZXZlbnQpIHtcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmIChfZ2FtZS5fY3VycmVudFNjcmVlbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBfZ2FtZS5fY3VycmVudFNjcmVlbi5oYW5kbGVJbnB1dChldmVudCwgZSwgX2dhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJpbmRFdmVudFRvU2NyZWVuO1xuICAgICAgfSgpO1xuICAgICAgWydrZXlkb3duJywgJ2tleXVwJywgJ2tleXByZXNzJ10uZm9yRWFjaChiaW5kRXZlbnRUb1NjcmVlbik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICByZXR1cm4gaW5pdDtcbiAgfSgpLFxuICByZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgIHRoaXMuX2Rpc3BsYXkuY2xlYXIoKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4ucmVuZGVyKHRoaXMuX2Rpc3BsYXksIHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZWZyZXNoO1xuICB9KCksXG4gIGdldERpc3BsYXk6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXREaXNwbGF5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldERpc3BsYXk7XG4gIH0oKSxcbiAgZ2V0U2NyZWVuV2lkdGg6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXRTY3JlZW5XaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5XaWR0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0U2NyZWVuV2lkdGg7XG4gIH0oKSxcbiAgZ2V0U2NyZWVuSGVpZ2h0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0U2NyZWVuSGVpZ2h0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjcmVlbkhlaWdodDtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0U2NyZWVuSGVpZ2h0O1xuICB9KCksXG4gIHN3aXRjaFNjcmVlbjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHN3aXRjaFNjcmVlbihzY3JlZW4pIHtcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4uZXhpdCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdldERpc3BsYXkoKS5jbGVhcigpO1xuXG4gICAgICB0aGlzLl9jdXJyZW50U2NyZWVuID0gc2NyZWVuO1xuXG4gICAgICBpZiAoIXRoaXMuX2N1cnJlbnRTY3JlZW4gIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFNjcmVlbi5lbnRlcigpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3dpdGNoU2NyZWVuO1xuICB9KClcbn07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IEdhbWU7XG5cbn0se1wiLi9zY3JlZW5cIjozNSxcInJvdC1qc1wiOjI1fV0sMzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JvdEpzID0gcmVxdWlyZSgncm90LWpzJyk7XG5cbnZhciBfcm90SnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm90SnMpO1xuXG52YXIgX3RlbXBsYXRlcyA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzJyk7XG5cbnZhciBfZW50aXR5ID0gcmVxdWlyZSgnLi9lbnRpdHknKTtcblxudmFyIF9lbnRpdHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW50aXR5KTtcblxudmFyIF90aWxlID0gcmVxdWlyZSgnLi90aWxlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIE1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWFwKHRpbGVzLCBwbGF5ZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFwKTtcblxuICAgIC8vIHRpbGVzXG4gICAgdGhpcy5fdGlsZXMgPSB0aWxlcztcbiAgICB0aGlzLl93aWR0aCA9IHRpbGVzLmxlbmd0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSB0aWxlc1swXS5sZW5ndGg7XG5cbiAgICAvLyBlbnRpdGllc1xuICAgIHRoaXMuX2VudGl0aWVzID0gW107XG4gICAgdGhpcy5fc2NoZWR1bGVyID0gbmV3IF9yb3RKczJbJ2RlZmF1bHQnXS5TY2hlZHVsZXIuU2ltcGxlKCk7XG4gICAgdGhpcy5fZW5naW5lID0gbmV3IF9yb3RKczJbJ2RlZmF1bHQnXS5FbmdpbmUodGhpcy5fc2NoZWR1bGVyKTtcblxuICAgIHRoaXMuYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihwbGF5ZXIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1MDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24obmV3IF9lbnRpdHkyWydkZWZhdWx0J10oX3RlbXBsYXRlcy5GdW5ndXNUZW1wbGF0ZSkpO1xuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXAsIFt7XG4gICAga2V5OiAnZ2V0V2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0V2lkdGg7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRIZWlnaHQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUaWxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0VGlsZSh4LCB5KSB7XG4gICAgICAgIHZhciByZXQgPSBfdGlsZS5OdWxsVGlsZTtcbiAgICAgICAgaWYgKCEoeCA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuaGVpZ2h0KSkge1xuICAgICAgICAgIHJldCA9IHRoaXMuX3RpbGVzW3hdW3ldIHx8IHJldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0VGlsZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2RpZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGRpZyh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLmdldFRpbGUoeCwgeSkuaXNEaWdnYWJsZSgpKSB7XG4gICAgICAgICAgdGhpcy5fdGlsZXNbeF1beV0gPSBfdGlsZS5GbG9vclRpbGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpZztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldFJhbmRvbUZsb29yUG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRSYW5kb21GbG9vclBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgeCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHkgPSB2b2lkIDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fd2lkdGgpO1xuICAgICAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9oZWlnaHQpO1xuICAgICAgICB9IHdoaWxlICghdGhpcy5pc0VtcHR5Rmxvb3IoeCwgeSkpO1xuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRSYW5kb21GbG9vclBvc2l0aW9uO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RW5naW5lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0RW5naW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RW5naW5lO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RW50aXRpZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRFbnRpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RW50aXRpZXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFbnRpdHlBdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldEVudGl0eUF0KHgsIHkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBlbnRpdHkgPSB0aGlzLl9lbnRpdGllc1tpXTtcbiAgICAgICAgICBpZiAoZW50aXR5LmdldFgoKSA9PSB4ICYmIGVudGl0eS5nZXRZKCkgPT0geSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRFbnRpdHlBdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2FkZEVudGl0eScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGFkZEVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgaWYgKGVudGl0eS5nZXRYKCkgPCAwIHx8IGVudGl0eS5nZXRYKCkgPj0gdGhpcy5fd2lkdGggfHwgZW50aXR5LmdldFkoKSA8IDAgfHwgZW50aXR5LmdldFkoKSA+PSB0aGlzLl9oZWlnaHQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FkZGluZyBlbnRpdHkgb3V0IG9mIGJvdW5kcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVudGl0eS5zZXRNYXAodGhpcyk7XG4gICAgICAgIHRoaXMuX2VudGl0aWVzLnB1c2goZW50aXR5KTtcblxuICAgICAgICBpZiAoZW50aXR5Lmhhc01peGluKCdBY3RvcicpKSB7XG4gICAgICAgICAgdGhpcy5fc2NoZWR1bGVyLmFkZChlbnRpdHksIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRFbnRpdHk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRFbnRpdHlBdFJhbmRvbVBvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihlbnRpdHkpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5nZXRSYW5kb21GbG9vclBvc2l0aW9uKCk7XG4gICAgICAgIGVudGl0eS5zZXRYKHBvc2l0aW9uLngpO1xuICAgICAgICBlbnRpdHkuc2V0WShwb3NpdGlvbi55KTtcbiAgICAgICAgdGhpcy5hZGRFbnRpdHkoZW50aXR5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb247XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW1vdmVFbnRpdHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW1vdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5fZW50aXRpZXNbaV0gPT0gZW50aXR5KSB7XG4gICAgICAgICAgICB0aGlzLl9lbnRpdGllcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudGl0eS5oYXNNaXhpbignQWN0b3InKSkge1xuICAgICAgICAgIHRoaXMuX3NjaGVkdWxlci5yZW1vdmUoZW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlRW50aXR5O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNFbXB0eUZsb29yJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNFbXB0eUZsb29yKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGlsZSh4LCB5KSA9PSBfdGlsZS5GbG9vclRpbGUgJiYgIXRoaXMuZ2V0RW50aXR5QXQoeCwgeSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0VtcHR5Rmxvb3I7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gTWFwO1xufSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNYXA7XG5cbn0se1wiLi9lbnRpdHlcIjozMCxcIi4vdGVtcGxhdGVzXCI6MzYsXCIuL3RpbGVcIjozNyxcInJvdC1qc1wiOjI1fV0sMzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5TaW1wbGVBdHRhY2tlciA9IGV4cG9ydHMuRGlnZ2VyID0gZXhwb3J0cy5EZXN0cnVjdGlibGUgPSBleHBvcnRzLkZ1bmd1c0FjdG9yID0gZXhwb3J0cy5QbGF5ZXJBY3RvciA9IGV4cG9ydHMuTW92ZWFibGUgPSB1bmRlZmluZWQ7XG5cbnZhciBfZW50aXR5ID0gcmVxdWlyZSgnLi9lbnRpdHknKTtcblxudmFyIF9lbnRpdHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW50aXR5KTtcblxudmFyIF90ZW1wbGF0ZXMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBNb3ZlYWJsZSA9IGV4cG9ydHMuTW92ZWFibGUgPSB7XG4gIG5hbWU6ICdNb3ZlYWJsZScsXG4gIHRyeU1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0cnlNb3ZlKHgsIHksIG1hcCkge1xuICAgICAgdmFyIHRpbGUgPSBtYXAuZ2V0VGlsZSh4LCB5KTtcbiAgICAgIHZhciB0YXJnZXQgPSBtYXAuZ2V0RW50aXR5QXQoeCwgeSk7XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzTWl4aW4oJ0F0dGFja2VyJykpIHtcbiAgICAgICAgICB0aGlzLmF0dGFjayh0YXJnZXQpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRpbGUuaXNXYWxrYWJsZSgpKSB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRpbGUuaXNEaWdnYWJsZSgpKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc01peGluKCdEaWdnZXInKSkge1xuICAgICAgICAgIHRoaXMuZGlnKHgsIHksIG1hcCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ5TW92ZTtcbiAgfSgpXG59O1xuXG52YXIgUGxheWVyQWN0b3IgPSBleHBvcnRzLlBsYXllckFjdG9yID0ge1xuICBuYW1lOiAnUGxheWVyQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG5cbiAgYWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYWN0KCkge1xuICAgICAgLy8gR0FNRS5yZWZyZXNoKCk7XG4gICAgICB0aGlzLmdldE1hcCgpLmdldEVuZ2luZSgpLmxvY2soKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0O1xuICB9KClcbn07XG5cbnZhciBGdW5ndXNBY3RvciA9IGV4cG9ydHMuRnVuZ3VzQWN0b3IgPSB7XG4gIG5hbWU6ICdGdW5ndXNBY3RvcicsXG4gIGdyb3VwTmFtZTogJ0FjdG9yJyxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB0aGlzLl9ncm93dGhzUmVtYWluaW5nID0gNTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5pdDtcbiAgfSgpLFxuICBhY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBhY3QoKSB7XG4gICAgICBpZiAodGhpcy5fZ3Jvd3Roc1JlbWFpbmluZyA+IDApIHtcbiAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPD0gMC4wMikge1xuICAgICAgICAgIHZhciB4T2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgLSAxO1xuICAgICAgICAgIHZhciB5T2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgLSAxO1xuICAgICAgICAgIGlmICh4T2Zmc2V0ICE9PSAwIHx8IHlPZmZzZXQgIT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldE1hcCgpLmlzRW1wdHlGbG9vcih0aGlzLmdldFgoKSArIHhPZmZzZXQsIHRoaXMuZ2V0WSgpICsgeU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IG5ldyBfZW50aXR5MlsnZGVmYXVsdCddKF90ZW1wbGF0ZXMuRnVuZ3VzVGVtcGxhdGUpO1xuICAgICAgICAgICAgICBlbnRpdHkuc2V0WCh0aGlzLmdldFgoKSArIHhPZmZzZXQpO1xuICAgICAgICAgICAgICBlbnRpdHkuc2V0WSh0aGlzLmdldFkoKSArIHlPZmZzZXQpO1xuICAgICAgICAgICAgICB0aGlzLmdldE1hcCgpLmFkZEVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgICB0aGlzLl9ncm93dGhzUmVtYWluaW5nLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdDtcbiAgfSgpXG59O1xuXG52YXIgRGVzdHJ1Y3RpYmxlID0gZXhwb3J0cy5EZXN0cnVjdGlibGUgPSB7XG4gIG5hbWU6ICdEZXN0cnVjdGlibGUnLFxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgIHRoaXMuX2hwID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5pdDtcbiAgfSgpLFxuICB0YWtlRGFtYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdGFrZURhbWFnZShhdHRhY2tlciwgZGFtYWdlKSB7XG4gICAgICB0aGlzLl9ocCAtPSBkYW1hZ2U7XG4gICAgICBpZiAodGhpcy5faHAgPD0gMCkge1xuICAgICAgICB0aGlzLmdldE1hcCgpLnJlbW92ZUVudGl0eSh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFrZURhbWFnZTtcbiAgfSgpXG59O1xuXG52YXIgRGlnZ2VyID0gZXhwb3J0cy5EaWdnZXIgPSB7XG4gIG5hbWU6ICdTaW1wbGVEaWdnZXInLFxuICBncm91cE5hbWU6ICdEaWdnZXInLFxuICBkaWc6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkaWcoeCwgeSwgbWFwKSB7XG4gICAgICBtYXAuZGlnKHgsIHkpO1xuICAgIH1cblxuICAgIHJldHVybiBkaWc7XG4gIH0oKVxufTtcblxudmFyIFNpbXBsZUF0dGFja2VyID0gZXhwb3J0cy5TaW1wbGVBdHRhY2tlciA9IHtcbiAgbmFtZTogJ1NpbXBsZUF0dGFja2VyJyxcbiAgZ3JvdXBOYW1lOiAnQXR0YWNrZXInLFxuICBhdHRhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBhdHRhY2sodGFyZ2V0KSB7XG4gICAgICBpZiAodGFyZ2V0Lmhhc01peGluKCdEZXN0cnVjdGlibGUnKSkge1xuICAgICAgICB0YXJnZXQudGFrZURhbWFnZSh0aGlzLCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXR0YWNrO1xuICB9KClcbn07XG5cbn0se1wiLi9lbnRpdHlcIjozMCxcIi4vdGVtcGxhdGVzXCI6MzZ9XSwzNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcm90SnMgPSByZXF1aXJlKCdyb3QtanMnKTtcblxudmFyIF9yb3RKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3RKcyk7XG5cbnZhciBfdGlsZSA9IHJlcXVpcmUoJy4vdGlsZScpO1xuXG52YXIgX21hcCA9IHJlcXVpcmUoJy4vbWFwJyk7XG5cbnZhciBfbWFwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcCk7XG5cbnZhciBfZW50aXR5ID0gcmVxdWlyZSgnLi9lbnRpdHknKTtcblxudmFyIF9lbnRpdHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW50aXR5KTtcblxudmFyIF90ZW1wbGF0ZXMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBTdGFydFNjcmVlbiA9IHtcbiAgZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlbnRlcigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRW50ZXJlZCBTdGFydFNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbnRlcjtcbiAgfSgpLFxuICBleGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZXhpdCgpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRXhpdGVkIFN0YXJ0U2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXQ7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIGRpc3BsYXkuZHJhd1RleHQoMSwgMSwgJyVje3llbGxvd31KYXZhc2NyaXB0IFJvZ3VlbGlrZScpO1xuICAgICAgZGlzcGxheS5kcmF3VGV4dCgxLCAyLCAnUHJlc3MgW0VudGVyXSB0byBzdGFydCEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyO1xuICB9KCksXG4gIGhhbmRsZUlucHV0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlSW5wdXQodHlwZSwgZXZlbnQsIGdhbWUpIHtcbiAgICAgIGlmICh0eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19SRVRVUk4pIHtcbiAgICAgICAgICBnYW1lLnN3aXRjaFNjcmVlbihQbGF5U2NyZWVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVJbnB1dDtcbiAgfSgpXG59O1xuXG52YXIgUGxheVNjcmVlbiA9IHtcbiAgX21hcDogbnVsbCxcbiAgX3BsYXllcjogbnVsbCxcblxuICBlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGVudGVyKCkge1xuICAgICAgdmFyIG1hcFdpZHRoID0gMTAwO1xuICAgICAgdmFyIG1hcEhlaWdodCA9IDQ4O1xuICAgICAgdmFyIGdlbmVyYXRvciA9IG5ldyBfcm90SnMyWydkZWZhdWx0J10uTWFwLkNlbGx1bGFyKG1hcFdpZHRoLCBtYXBIZWlnaHQpO1xuICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IDM7XG4gICAgICB2YXIgbWFwID0gW107XG4gICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hcFdpZHRoOyB4KyspIHtcbiAgICAgICAgbWFwLnB1c2goW10pO1xuICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hcEhlaWdodDsgeSsrKSB7XG4gICAgICAgICAgbWFwW3hdLnB1c2goX3RpbGUuTnVsbFRpbGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBnZW5lcmF0b3IucmFuZG9taXplKDAuNSk7XG4gICAgICAvLyBJdGVyYXRpdmVseSBzbW9vdGhlbiB0aGUgbWFwXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsSXRlcmF0aW9ucyAtIDE7IGkrKykge1xuICAgICAgICBnZW5lcmF0b3IuY3JlYXRlKCk7XG4gICAgICB9XG4gICAgICAvLyBTbW9vdGhlbiBpdCBvbmUgbGFzdCB0aW1lIGFuZCB0aGVuIHVwZGF0ZSBvdXIgbWFwXG4gICAgICBnZW5lcmF0b3IuY3JlYXRlKGZ1bmN0aW9uICh4LCB5LCB2KSB7XG4gICAgICAgIGlmICh2ID09PSAxKSB7XG4gICAgICAgICAgbWFwW3hdW3ldID0gX3RpbGUuRmxvb3JUaWxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1hcFt4XVt5XSA9IF90aWxlLldhbGxUaWxlO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fcGxheWVyID0gbmV3IF9lbnRpdHkyWydkZWZhdWx0J10oX3RlbXBsYXRlcy5QbGF5ZXJUZW1wbGF0ZSk7XG4gICAgICB0aGlzLl9tYXAgPSBuZXcgX21hcDJbJ2RlZmF1bHQnXShtYXAsIHRoaXMuX3BsYXllcik7XG4gICAgICB0aGlzLl9tYXAuZ2V0RW5naW5lKCkuc3RhcnQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW50ZXI7XG4gIH0oKSxcbiAgbW92ZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG1vdmUoZFgsIGRZKSB7XG4gICAgICB2YXIgbmV3WCA9IHRoaXMuX3BsYXllci5nZXRYKCkgKyBkWDtcbiAgICAgIHZhciBuZXdZID0gdGhpcy5fcGxheWVyLmdldFkoKSArIGRZO1xuXG4gICAgICB0aGlzLl9wbGF5ZXIudHJ5TW92ZShuZXdYLCBuZXdZLCB0aGlzLl9tYXApO1xuICAgIH1cblxuICAgIHJldHVybiBtb3ZlO1xuICB9KCksXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5LCBnYW1lKSB7XG4gICAgICB2YXIgc2NyZWVuV2lkdGggPSBnYW1lLmdldFNjcmVlbldpZHRoKCk7XG4gICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gZ2FtZS5nZXRTY3JlZW5IZWlnaHQoKTtcblxuICAgICAgdmFyIHRvcExlZnRYID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgdGhpcy5fcGxheWVyLmdldFgoKSAtIHNjcmVlbldpZHRoIC8gMiksIHRoaXMuX21hcC5nZXRXaWR0aCgpIC0gc2NyZWVuV2lkdGgpO1xuICAgICAgdmFyIHRvcExlZnRZID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgdGhpcy5fcGxheWVyLmdldFkoKSAtIHNjcmVlbkhlaWdodCAvIDIpLCB0aGlzLl9tYXAuZ2V0SGVpZ2h0KCkgLSBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICBmb3IgKHZhciB4ID0gdG9wTGVmdFg7IHggPCB0b3BMZWZ0WCArIHNjcmVlbldpZHRoOyB4KyspIHtcbiAgICAgICAgZm9yICh2YXIgeSA9IHRvcExlZnRZOyB5IDwgdG9wTGVmdFkgKyBzY3JlZW5IZWlnaHQ7IHkrKykge1xuICAgICAgICAgIHZhciB0aWxlID0gdGhpcy5fbWFwLmdldFRpbGUoeCwgeSk7XG4gICAgICAgICAgZGlzcGxheS5kcmF3KHggLSB0b3BMZWZ0WCwgeSAtIHRvcExlZnRZLCB0aWxlLmdldENoYXIoKSwgdGlsZS5nZXRGb3JlZ3JvdW5kKCksIHRpbGUuZ2V0QmFja2dyb3VuZCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGVudGl0aWVzID0gdGhpcy5fbWFwLmdldEVudGl0aWVzKCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlbnRpdHkgPSBlbnRpdGllc1tpXTtcbiAgICAgICAgaWYgKGVudGl0eS5nZXRYKCkgPj0gdG9wTGVmdFggJiYgZW50aXR5LmdldFkoKSA+PSB0b3BMZWZ0WSAmJiBlbnRpdHkuZ2V0WCgpIDwgdG9wTGVmdFggKyBzY3JlZW5XaWR0aCAmJiBlbnRpdHkuZ2V0WSgpIDwgdG9wTGVmdFkgKyBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICBkaXNwbGF5LmRyYXcoZW50aXR5LmdldFgoKSAtIHRvcExlZnRYLCBlbnRpdHkuZ2V0WSgpIC0gdG9wTGVmdFksIGVudGl0eS5nZXRDaGFyKCksIGVudGl0eS5nZXRGb3JlZ3JvdW5kKCksIGVudGl0eS5nZXRCYWNrZ3JvdW5kKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcjtcbiAgfSgpLFxuICBoYW5kbGVJbnB1dDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUlucHV0KHR5cGUsIGV2ZW50LCBnYW1lKSB7XG4gICAgICBpZiAodHlwZSA9PT0gJ2tleWRvd24nKSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBfcm90SnMyWydkZWZhdWx0J10uVktfUkVUVVJOKSB7XG4gICAgICAgICAgZ2FtZS5zd2l0Y2hTY3JlZW4oV2luU2NyZWVuKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBfcm90SnMyWydkZWZhdWx0J10uVktfRVNDQVBFKSB7XG4gICAgICAgICAgZ2FtZS5zd2l0Y2hTY3JlZW4oTG9zZVNjcmVlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbW92ZW1lbnRcbiAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX3JvdEpzMlsnZGVmYXVsdCddLlZLX0xFRlQpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZSgtMSwgMCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBfcm90SnMyWydkZWZhdWx0J10uVktfUklHSFQpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZSgxLCAwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19VUCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlKDAsIC0xKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19ET1dOKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUoMCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX21hcC5nZXRFbmdpbmUoKS51bmxvY2soKTtcbiAgICAgICAgICBnYW1lLnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVJbnB1dDtcbiAgfSgpLFxuICBleGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZXhpdCgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFeGl0ZWQgUGxheVNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBleGl0O1xuICB9KClcbn07XG5cbnZhciBXaW5TY3JlZW4gPSB7XG4gIGVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZW50ZXIoKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0VudGVyZWQgV2luU2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGVyO1xuICB9KCksXG4gIGV4aXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBleGl0KCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdFeGl0ZWQgV2luU2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXQ7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjI7IGkrKykge1xuICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gYmFja2dyb3VuZCBjb2xvcnNcbiAgICAgICAgdmFyIHIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpO1xuICAgICAgICB2YXIgZyA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1NSk7XG4gICAgICAgIHZhciBiID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KTtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBfcm90SnMyWydkZWZhdWx0J10uQ29sb3IudG9SR0IoW3IsIGcsIGJdKTtcbiAgICAgICAgZGlzcGxheS5kcmF3VGV4dCgyLCBpICsgMSwgJyVieycgKyBTdHJpbmcoYmFja2dyb3VuZCkgKyAnfVlvdSB3aW4hJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcjtcbiAgfSgpLFxuICBoYW5kbGVJbnB1dDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUlucHV0KHR5cGUsIGV2ZW50LCBnYW1lKSB7fVxuXG4gICAgcmV0dXJuIGhhbmRsZUlucHV0O1xuICB9KClcbn07XG5cbnZhciBMb3NlU2NyZWVuID0ge1xuICBlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGVudGVyKCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdFbnRlcmVkIExvc2VTY3JlZW4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW50ZXI7XG4gIH0oKSxcbiAgZXhpdDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGV4aXQoKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0V4aXRlZCBMb3NlU2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXQ7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjI7IGkrKykge1xuICAgICAgICBkaXNwbGF5LmRyYXdUZXh0KDIsIGkgKyAxLCAnJWJ7cmVkfVlvdSBsb3NlISA6KCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZW5kZXI7XG4gIH0oKSxcbiAgaGFuZGxlSW5wdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVJbnB1dCh0eXBlLCBldmVudCwgZ2FtZSkge31cblxuICAgIHJldHVybiBoYW5kbGVJbnB1dDtcbiAgfSgpXG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSB7XG4gIFN0YXJ0U2NyZWVuOiBTdGFydFNjcmVlbixcbiAgUGxheVNjcmVlbjogUGxheVNjcmVlbixcbiAgV2luU2NyZWVuOiBXaW5TY3JlZW4sXG4gIExvc2VTY3JlZW46IExvc2VTY3JlZW5cbn07XG5cbn0se1wiLi9lbnRpdHlcIjozMCxcIi4vbWFwXCI6MzMsXCIuL3RlbXBsYXRlc1wiOjM2LFwiLi90aWxlXCI6MzcsXCJyb3QtanNcIjoyNX1dLDM2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuRnVuZ3VzVGVtcGxhdGUgPSBleHBvcnRzLlBsYXllclRlbXBsYXRlID0gdW5kZWZpbmVkO1xuXG52YXIgX21peGlucyA9IHJlcXVpcmUoJy4vbWl4aW5zJyk7XG5cbnZhciBQbGF5ZXJUZW1wbGF0ZSA9IGV4cG9ydHMuUGxheWVyVGVtcGxhdGUgPSB7XG4gIGNoYXI6ICdAJyxcbiAgZmc6ICd3aGl0ZScsXG4gIGJnOiAnYmxhY2snLFxuICBtaXhpbnM6IFtfbWl4aW5zLk1vdmVhYmxlLCBfbWl4aW5zLlBsYXllckFjdG9yLCBfbWl4aW5zLlNpbXBsZUF0dGFja2VyLCBfbWl4aW5zLkRpZ2dlciwgX21peGlucy5EZXN0cnVjdGlibGVdXG59O1xuXG52YXIgRnVuZ3VzVGVtcGxhdGUgPSBleHBvcnRzLkZ1bmd1c1RlbXBsYXRlID0ge1xuICBjaGFyOiAnRicsXG4gIGZnOiAnZ3JlZW4nLFxuICBtaXhpbnM6IFtfbWl4aW5zLkZ1bmd1c0FjdG9yLCBfbWl4aW5zLkRlc3RydWN0aWJsZV1cbn07XG5cbn0se1wiLi9taXhpbnNcIjozNH1dLDM3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuV2FsbFRpbGUgPSBleHBvcnRzLkZsb29yVGlsZSA9IGV4cG9ydHMuTnVsbFRpbGUgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2x5cGggPSByZXF1aXJlKCcuL2dseXBoJyk7XG5cbnZhciBfZ2x5cGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2x5cGgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRpbGUgPSBmdW5jdGlvbiAoX0dseXBoKSB7XG4gIF9pbmhlcml0cyhUaWxlLCBfR2x5cGgpO1xuXG4gIGZ1bmN0aW9uIFRpbGUoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbGUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRpbGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaWxlKSkuY2FsbCh0aGlzLCBwcm9wZXJ0aWVzKSk7XG5cbiAgICBfdGhpcy5faXNXYWxrYWJsZSA9IHByb3BlcnRpZXMuaXNXYWxrYWJsZSB8fCBmYWxzZTtcbiAgICBfdGhpcy5faXNEaWdnYWJsZSA9IHByb3BlcnRpZXMuaXNEaWdnYWJsZSB8fCBmYWxzZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGlsZSwgW3tcbiAgICBrZXk6ICdpc1dhbGthYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNXYWxrYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzV2Fsa2FibGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc1dhbGthYmxlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNEaWdnYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzRGlnZ2FibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RpZ2dhYmxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNEaWdnYWJsZTtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBUaWxlO1xufShfZ2x5cGgyWydkZWZhdWx0J10pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBUaWxlO1xudmFyIE51bGxUaWxlID0gZXhwb3J0cy5OdWxsVGlsZSA9IG5ldyBUaWxlKHt9KTtcbnZhciBGbG9vclRpbGUgPSBleHBvcnRzLkZsb29yVGlsZSA9IG5ldyBUaWxlKHtcbiAgY2hhcjogJy4nLFxuICBpc1dhbGthYmxlOiB0cnVlXG59KTtcbnZhciBXYWxsVGlsZSA9IGV4cG9ydHMuV2FsbFRpbGUgPSBuZXcgVGlsZSh7XG4gIGNoYXI6ICcjJyxcbiAgZmc6ICdnb2xkZW5yb2QnLFxuICBpc0RpZ2dhYmxlOiB0cnVlXG59KTtcblxufSx7XCIuL2dseXBoXCI6MzF9XSwzODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBpbml0aWFsU3RhdGUgPSB7IGdhbWU6IHsgbWVzc2FnZXM6IFtdIH0gfTtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBpbml0aWFsU3RhdGU7XG5cbn0se31dLDM5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pbml0aWFsU3RhdGUgPSByZXF1aXJlKCcuLi9pbml0aWFsU3RhdGUnKTtcblxudmFyIF9pbml0aWFsU3RhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5pdGlhbFN0YXRlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgZ2FtZSA9IGZ1bmN0aW9uIGdhbWUoKSB7XG4gIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogX2luaXRpYWxTdGF0ZTJbJ2RlZmF1bHQnXS5nYW1lO1xuICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdBRERfTUVTU0FHRSc6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgbWVzc2FnZXM6IHN0YXRlLm1lc3NhZ2VzLmNvbmNhdChbYWN0aW9uLm1lc3NhZ2VdKSB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBnYW1lO1xuXG59LHtcIi4uL2luaXRpYWxTdGF0ZVwiOjM4fV0sNDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlZHV4ID0gcmVxdWlyZSgncmVkdXgnKTtcblxudmFyIF9nYW1lID0gcmVxdWlyZSgnLi9nYW1lJyk7XG5cbnZhciBfZ2FtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nYW1lKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgR2FtZSA9ICgwLCBfcmVkdXguY29tYmluZVJlZHVjZXJzKSh7XG4gIGdhbWU6IF9nYW1lMlsnZGVmYXVsdCddXG59KTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gR2FtZTtcblxufSx7XCIuL2dhbWVcIjozOSxcInJlZHV4XCI6MjN9XX0se30sWzI5XSlcblxuIiwiLyohXG4gKiBkZWVwLWRpZmYuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAndXNlIHN0cmljdCc7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWN0b3J5KCk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC5EZWVwRGlmZiA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbih1bmRlZmluZWQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkc2NvcGUsIGNvbmZsaWN0LCBjb25mbGljdFJlc29sdXRpb24gPSBbXTtcbiAgaWYgKHR5cGVvZiBnbG9iYWwgPT09ICdvYmplY3QnICYmIGdsb2JhbCkge1xuICAgICRzY29wZSA9IGdsb2JhbDtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICRzY29wZSA9IHdpbmRvdztcbiAgfSBlbHNlIHtcbiAgICAkc2NvcGUgPSB7fTtcbiAgfVxuICBjb25mbGljdCA9ICRzY29wZS5EZWVwRGlmZjtcbiAgaWYgKGNvbmZsaWN0KSB7XG4gICAgY29uZmxpY3RSZXNvbHV0aW9uLnB1c2goXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29uZmxpY3QgJiYgJHNjb3BlLkRlZXBEaWZmID09PSBhY2N1bXVsYXRlRGlmZikge1xuICAgICAgICAgICRzY29wZS5EZWVwRGlmZiA9IGNvbmZsaWN0O1xuICAgICAgICAgIGNvbmZsaWN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8vIG5vZGVqcyBjb21wYXRpYmxlIG9uIHNlcnZlciBzaWRlIGFuZCBpbiB0aGUgYnJvd3Nlci5cbiAgZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gRGlmZihraW5kLCBwYXRoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdraW5kJywge1xuICAgICAgdmFsdWU6IGtpbmQsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGgpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncGF0aCcsIHtcbiAgICAgICAgdmFsdWU6IHBhdGgsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIERpZmZFZGl0KHBhdGgsIG9yaWdpbiwgdmFsdWUpIHtcbiAgICBEaWZmRWRpdC5zdXBlcl8uY2FsbCh0aGlzLCAnRScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuICAgICAgdmFsdWU6IG9yaWdpbixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmRWRpdCwgRGlmZik7XG5cbiAgZnVuY3Rpb24gRGlmZk5ldyhwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZOZXcuc3VwZXJfLmNhbGwodGhpcywgJ04nLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3JocycsIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICBpbmhlcml0cyhEaWZmTmV3LCBEaWZmKTtcblxuICBmdW5jdGlvbiBEaWZmRGVsZXRlZChwYXRoLCB2YWx1ZSkge1xuICAgIERpZmZEZWxldGVkLnN1cGVyXy5jYWxsKHRoaXMsICdEJywgcGF0aCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdsaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkRlbGV0ZWQsIERpZmYpO1xuXG4gIGZ1bmN0aW9uIERpZmZBcnJheShwYXRoLCBpbmRleCwgaXRlbSkge1xuICAgIERpZmZBcnJheS5zdXBlcl8uY2FsbCh0aGlzLCAnQScsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaW5kZXgnLCB7XG4gICAgICB2YWx1ZTogaW5kZXgsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpdGVtJywge1xuICAgICAgdmFsdWU6IGl0ZW0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkFycmF5LCBEaWZmKTtcblxuICBmdW5jdGlvbiBhcnJheVJlbW92ZShhcnIsIGZyb20sIHRvKSB7XG4gICAgdmFyIHJlc3QgPSBhcnIuc2xpY2UoKHRvIHx8IGZyb20pICsgMSB8fCBhcnIubGVuZ3RoKTtcbiAgICBhcnIubGVuZ3RoID0gZnJvbSA8IDAgPyBhcnIubGVuZ3RoICsgZnJvbSA6IGZyb207XG4gICAgYXJyLnB1c2guYXBwbHkoYXJyLCByZXN0KTtcbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhbFR5cGVPZihzdWJqZWN0KSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygc3ViamVjdDtcbiAgICBpZiAodHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cblxuICAgIGlmIChzdWJqZWN0ID09PSBNYXRoKSB7XG4gICAgICByZXR1cm4gJ21hdGgnO1xuICAgIH0gZWxzZSBpZiAoc3ViamVjdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICdudWxsJztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3ViamVjdCkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN1YmplY3QpID09PSAnW29iamVjdCBEYXRlXScpIHtcbiAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygc3ViamVjdC50b1N0cmluZyAhPT0gJ3VuZGVmaW5lZCcgJiYgL15cXC8uKlxcLy8udGVzdChzdWJqZWN0LnRvU3RyaW5nKCkpKSB7XG4gICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgfVxuICAgIHJldHVybiAnb2JqZWN0JztcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZXBEaWZmKGxocywgcmhzLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIHBhdGgsIGtleSwgc3RhY2spIHtcbiAgICBwYXRoID0gcGF0aCB8fCBbXTtcbiAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoLnNsaWNlKDApO1xuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHByZWZpbHRlcikge1xuICAgICAgICBpZiAodHlwZW9mKHByZWZpbHRlcikgPT09ICdmdW5jdGlvbicgJiYgcHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YocHJlZmlsdGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBpZiAocHJlZmlsdGVyLnByZWZpbHRlciAmJiBwcmVmaWx0ZXIucHJlZmlsdGVyKGN1cnJlbnRQYXRoLCBrZXkpKSB7IHJldHVybjsgfVxuICAgICAgICAgIGlmIChwcmVmaWx0ZXIubm9ybWFsaXplKSB7XG4gICAgICAgICAgICB2YXIgYWx0ID0gcHJlZmlsdGVyLm5vcm1hbGl6ZShjdXJyZW50UGF0aCwga2V5LCBsaHMsIHJocyk7XG4gICAgICAgICAgICBpZiAoYWx0KSB7XG4gICAgICAgICAgICAgIGxocyA9IGFsdFswXTtcbiAgICAgICAgICAgICAgcmhzID0gYWx0WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudFBhdGgucHVzaChrZXkpO1xuICAgIH1cblxuICAgIC8vIFVzZSBzdHJpbmcgY29tcGFyaXNvbiBmb3IgcmVnZXhlc1xuICAgIGlmIChyZWFsVHlwZU9mKGxocykgPT09ICdyZWdleHAnICYmIHJlYWxUeXBlT2YocmhzKSA9PT0gJ3JlZ2V4cCcpIHtcbiAgICAgIGxocyA9IGxocy50b1N0cmluZygpO1xuICAgICAgcmhzID0gcmhzLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgdmFyIGx0eXBlID0gdHlwZW9mIGxocztcbiAgICB2YXIgcnR5cGUgPSB0eXBlb2YgcmhzO1xuICAgIGlmIChsdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChydHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hhbmdlcyhuZXcgRGlmZk5ldyhjdXJyZW50UGF0aCwgcmhzKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChydHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNoYW5nZXMobmV3IERpZmZEZWxldGVkKGN1cnJlbnRQYXRoLCBsaHMpKTtcbiAgICB9IGVsc2UgaWYgKHJlYWxUeXBlT2YobGhzKSAhPT0gcmVhbFR5cGVPZihyaHMpKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChsaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJocykgPT09ICdbb2JqZWN0IERhdGVdJyAmJiAoKGxocyAtIHJocykgIT09IDApKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICB9IGVsc2UgaWYgKGx0eXBlID09PSAnb2JqZWN0JyAmJiBsaHMgIT09IG51bGwgJiYgcmhzICE9PSBudWxsKSB7XG4gICAgICBzdGFjayA9IHN0YWNrIHx8IFtdO1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2YobGhzKSA8IDApIHtcbiAgICAgICAgc3RhY2sucHVzaChsaHMpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsaHMpKSB7XG4gICAgICAgICAgdmFyIGksIGxlbiA9IGxocy5sZW5ndGg7XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmQXJyYXkoY3VycmVudFBhdGgsIGksIG5ldyBEaWZmRGVsZXRlZCh1bmRlZmluZWQsIGxoc1tpXSkpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1tpXSwgcmhzW2ldLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBpLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChpIDwgcmhzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkFycmF5KGN1cnJlbnRQYXRoLCBpLCBuZXcgRGlmZk5ldyh1bmRlZmluZWQsIHJoc1tpKytdKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYWtleXMgPSBPYmplY3Qua2V5cyhsaHMpO1xuICAgICAgICAgIHZhciBwa2V5cyA9IE9iamVjdC5rZXlzKHJocyk7XG4gICAgICAgICAgYWtleXMuZm9yRWFjaChmdW5jdGlvbihrLCBpKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSBwa2V5cy5pbmRleE9mKGspO1xuICAgICAgICAgICAgaWYgKG90aGVyID49IDApIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCByaHNba10sIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgICAgcGtleXMgPSBhcnJheVJlbW92ZShwa2V5cywgb3RoZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZGVlcERpZmYobGhzW2tdLCB1bmRlZmluZWQsIGNoYW5nZXMsIHByZWZpbHRlciwgY3VycmVudFBhdGgsIGssIHN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIGRlZXBEaWZmKHVuZGVmaW5lZCwgcmhzW2tdLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2subGVuZ3RoID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxocyAhPT0gcmhzKSB7XG4gICAgICBpZiAoIShsdHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4obGhzKSAmJiBpc05hTihyaHMpKSkge1xuICAgICAgICBjaGFuZ2VzKG5ldyBEaWZmRWRpdChjdXJyZW50UGF0aCwgbGhzLCByaHMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhY2N1bXVsYXRlRGlmZihsaHMsIHJocywgcHJlZmlsdGVyLCBhY2N1bSkge1xuICAgIGFjY3VtID0gYWNjdW0gfHwgW107XG4gICAgZGVlcERpZmYobGhzLCByaHMsXG4gICAgICBmdW5jdGlvbihkaWZmKSB7XG4gICAgICAgIGlmIChkaWZmKSB7XG4gICAgICAgICAgYWNjdW0ucHVzaChkaWZmKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByZWZpbHRlcik7XG4gICAgcmV0dXJuIChhY2N1bS5sZW5ndGgpID8gYWNjdW0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUFycmF5Q2hhbmdlKGFyciwgaW5kZXgsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UucGF0aCAmJiBjaGFuZ2UucGF0aC5sZW5ndGgpIHtcbiAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG4gICAgICAgICAgaSwgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG4gICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGFyciA9IGFycmF5UmVtb3ZlKGFyciwgaW5kZXgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBseUNoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSA9IC0xLFxuICAgICAgICAgIGxhc3QgPSBjaGFuZ2UucGF0aCA/IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDEgOiAwO1xuICAgICAgd2hpbGUgKCsraSA8IGxhc3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdFtjaGFuZ2UucGF0aFtpXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gKHR5cGVvZiBjaGFuZ2UucGF0aFtpXSA9PT0gJ251bWJlcicpID8gW10gOiB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgYXBwbHlBcnJheUNoYW5nZShjaGFuZ2UucGF0aCA/IGl0W2NoYW5nZS5wYXRoW2ldXSA6IGl0LCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgZGVsZXRlIGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5yaHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyLCBpbmRleCwgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS5wYXRoICYmIGNoYW5nZS5wYXRoLmxlbmd0aCkge1xuICAgICAgLy8gdGhlIHN0cnVjdHVyZSBvZiB0aGUgb2JqZWN0IGF0IHRoZSBpbmRleCBoYXMgY2hhbmdlZC4uLlxuICAgICAgdmFyIGl0ID0gYXJyW2luZGV4XSxcbiAgICAgICAgICBpLCB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBhcnJheSBpdGVtIGlzIGRpZmZlcmVudC4uLlxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShhcnJbaW5kZXhdLCBjaGFuZ2UuaW5kZXgsIGNoYW5nZS5pdGVtKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgYXJyW2luZGV4XSA9IGNoYW5nZS5saHM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydENoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UgJiYgY2hhbmdlICYmIGNoYW5nZS5raW5kKSB7XG4gICAgICB2YXIgaXQgPSB0YXJnZXQsXG4gICAgICAgICAgaSwgdTtcbiAgICAgIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuICAgICAgICBpZiAodHlwZW9mIGl0W2NoYW5nZS5wYXRoW2ldXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgLy8gQXJyYXkgd2FzIG1vZGlmaWVkLi4uXG4gICAgICAgICAgLy8gaXQgd2lsbCBiZSBhbiBhcnJheS4uLlxuICAgICAgICAgIHJldmVydEFycmF5Q2hhbmdlKGl0W2NoYW5nZS5wYXRoW2ldXSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIC8vIEl0ZW0gd2FzIGRlbGV0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAvLyBJdGVtIHdhcyBlZGl0ZWQuLi5cbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAvLyBJdGVtIGlzIG5ldy4uLlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlEaWZmKHRhcmdldCwgc291cmNlLCBmaWx0ZXIpIHtcbiAgICBpZiAodGFyZ2V0ICYmIHNvdXJjZSkge1xuICAgICAgdmFyIG9uQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICAgIGlmICghZmlsdGVyIHx8IGZpbHRlcih0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKSkge1xuICAgICAgICAgIGFwcGx5Q2hhbmdlKHRhcmdldCwgc291cmNlLCBjaGFuZ2UpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGVlcERpZmYodGFyZ2V0LCBzb3VyY2UsIG9uQ2hhbmdlKTtcbiAgICB9XG4gIH1cblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhY2N1bXVsYXRlRGlmZiwge1xuXG4gICAgZGlmZjoge1xuICAgICAgdmFsdWU6IGFjY3VtdWxhdGVEaWZmLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgb2JzZXJ2YWJsZURpZmY6IHtcbiAgICAgIHZhbHVlOiBkZWVwRGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5RGlmZjoge1xuICAgICAgdmFsdWU6IGFwcGx5RGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIGFwcGx5Q2hhbmdlOiB7XG4gICAgICB2YWx1ZTogYXBwbHlDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICByZXZlcnRDaGFuZ2U6IHtcbiAgICAgIHZhbHVlOiByZXZlcnRDaGFuZ2UsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBpc0NvbmZsaWN0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbmZsaWN0O1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG5vQ29uZmxpY3Q6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbmZsaWN0UmVzb2x1dGlvbikge1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5mb3JFYWNoKGZ1bmN0aW9uKGl0KSB7XG4gICAgICAgICAgICBpdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbmZsaWN0UmVzb2x1dGlvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdGVEaWZmO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcbn0pKTtcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgZ2V0UmF3VGFnID0gcmVxdWlyZSgnLi9fZ2V0UmF3VGFnJyksXG4gICAgb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19vYmplY3RUb1N0cmluZycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0VGFnO1xuIiwiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuIiwidmFyIG92ZXJBcmcgPSByZXF1aXJlKCcuL19vdmVyQXJnJyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJhd1RhZztcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwiLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb3ZlckFyZztcbiIsInZhciBmcmVlR2xvYmFsID0gcmVxdWlyZSgnLi9fZnJlZUdsb2JhbCcpO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gcm9vdDtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0TGlrZTtcbiIsInZhciBiYXNlR2V0VGFnID0gcmVxdWlyZSgnLi9fYmFzZUdldFRhZycpLFxuICAgIGdldFByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX2dldFByb3RvdHlwZScpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RUYWcgPSAnW29iamVjdCBPYmplY3RdJztcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZSxcbiAgICBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdCwgdGhhdCBpcywgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgdGhlXG4gKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjguMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogfVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChuZXcgRm9vKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc1BsYWluT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdCh7ICd4JzogMCwgJ3knOiAwIH0pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChPYmplY3QuY3JlYXRlKG51bGwpKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gIGlmIChwcm90byA9PT0gbnVsbCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gaGFzT3duUHJvcGVydHkuY2FsbChwcm90bywgJ2NvbnN0cnVjdG9yJykgJiYgcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmXG4gICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc1BsYWluT2JqZWN0O1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucHJpbnRCdWZmZXIgPSBwcmludEJ1ZmZlcjtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbnZhciBfZGlmZiA9IHJlcXVpcmUoJy4vZGlmZicpO1xuXG52YXIgX2RpZmYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGlmZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfVxuXG4vKipcbiAqIEdldCBsb2cgbGV2ZWwgc3RyaW5nIGJhc2VkIG9uIHN1cHBsaWVkIHBhcmFtc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb24gfCBvYmplY3R9IGxldmVsIC0gY29uc29sZVtsZXZlbF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBhY3Rpb24gLSBzZWxlY3RlZCBhY3Rpb25cbiAqIEBwYXJhbSB7YXJyYXl9IHBheWxvYWQgLSBzZWxlY3RlZCBwYXlsb2FkXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIGxvZyBlbnRyeSB0eXBlXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gbGV2ZWxcbiAqL1xuZnVuY3Rpb24gZ2V0TG9nTGV2ZWwobGV2ZWwsIGFjdGlvbiwgcGF5bG9hZCwgdHlwZSkge1xuICBzd2l0Y2ggKHR5cGVvZiBsZXZlbCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobGV2ZWwpKSB7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiB0eXBlb2YgbGV2ZWxbdHlwZV0gPT09ICdmdW5jdGlvbicgPyBsZXZlbFt0eXBlXS5hcHBseShsZXZlbCwgX3RvQ29uc3VtYWJsZUFycmF5KHBheWxvYWQpKSA6IGxldmVsW3R5cGVdO1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIHJldHVybiBsZXZlbChhY3Rpb24pO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbGV2ZWw7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFRpdGxlRm9ybWF0dGVyKG9wdGlvbnMpIHtcbiAgdmFyIHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wO1xuICB2YXIgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uLCB0aW1lLCB0b29rKSB7XG4gICAgdmFyIHBhcnRzID0gWydhY3Rpb24nXTtcbiAgICBpZiAodGltZXN0YW1wKSB7XG4gICAgICBwYXJ0cy5wdXNoKCdAICcgKyB0aW1lKTtcbiAgICB9XG4gICAgcGFydHMucHVzaChhY3Rpb24udHlwZSk7XG4gICAgaWYgKGR1cmF0aW9uKSB7XG4gICAgICBwYXJ0cy5wdXNoKCcoaW4gJyArIHRvb2sudG9GaXhlZCgyKSArICcgbXMpJyk7XG4gICAgfVxuICAgIHJldHVybiBwYXJ0cy5qb2luKCcgJyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHByaW50QnVmZmVyKGJ1ZmZlciwgb3B0aW9ucykge1xuICB2YXIgbG9nZ2VyID0gb3B0aW9ucy5sb2dnZXI7XG4gIHZhciBhY3Rpb25UcmFuc2Zvcm1lciA9IG9wdGlvbnMuYWN0aW9uVHJhbnNmb3JtZXI7XG4gIHZhciBfb3B0aW9ucyR0aXRsZUZvcm1hdHQgPSBvcHRpb25zLnRpdGxlRm9ybWF0dGVyO1xuICB2YXIgdGl0bGVGb3JtYXR0ZXIgPSBfb3B0aW9ucyR0aXRsZUZvcm1hdHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSA6IF9vcHRpb25zJHRpdGxlRm9ybWF0dDtcbiAgdmFyIGNvbGxhcHNlZCA9IG9wdGlvbnMuY29sbGFwc2VkO1xuICB2YXIgY29sb3JzID0gb3B0aW9ucy5jb2xvcnM7XG4gIHZhciBsZXZlbCA9IG9wdGlvbnMubGV2ZWw7XG4gIHZhciBkaWZmID0gb3B0aW9ucy5kaWZmO1xuXG4gIGJ1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uIChsb2dFbnRyeSwga2V5KSB7XG4gICAgdmFyIHN0YXJ0ZWQgPSBsb2dFbnRyeS5zdGFydGVkO1xuICAgIHZhciBzdGFydGVkVGltZSA9IGxvZ0VudHJ5LnN0YXJ0ZWRUaW1lO1xuICAgIHZhciBhY3Rpb24gPSBsb2dFbnRyeS5hY3Rpb247XG4gICAgdmFyIHByZXZTdGF0ZSA9IGxvZ0VudHJ5LnByZXZTdGF0ZTtcbiAgICB2YXIgZXJyb3IgPSBsb2dFbnRyeS5lcnJvcjtcbiAgICB2YXIgdG9vayA9IGxvZ0VudHJ5LnRvb2s7XG4gICAgdmFyIG5leHRTdGF0ZSA9IGxvZ0VudHJ5Lm5leHRTdGF0ZTtcblxuICAgIHZhciBuZXh0RW50cnkgPSBidWZmZXJba2V5ICsgMV07XG5cbiAgICBpZiAobmV4dEVudHJ5KSB7XG4gICAgICBuZXh0U3RhdGUgPSBuZXh0RW50cnkucHJldlN0YXRlO1xuICAgICAgdG9vayA9IG5leHRFbnRyeS5zdGFydGVkIC0gc3RhcnRlZDtcbiAgICB9XG5cbiAgICAvLyBNZXNzYWdlXG4gICAgdmFyIGZvcm1hdHRlZEFjdGlvbiA9IGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbik7XG4gICAgdmFyIGlzQ29sbGFwc2VkID0gdHlwZW9mIGNvbGxhcHNlZCA9PT0gJ2Z1bmN0aW9uJyA/IGNvbGxhcHNlZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgIH0sIGFjdGlvbikgOiBjb2xsYXBzZWQ7XG5cbiAgICB2YXIgZm9ybWF0dGVkVGltZSA9ICgwLCBfaGVscGVycy5mb3JtYXRUaW1lKShzdGFydGVkVGltZSk7XG4gICAgdmFyIHRpdGxlQ1NTID0gY29sb3JzLnRpdGxlID8gJ2NvbG9yOiAnICsgY29sb3JzLnRpdGxlKGZvcm1hdHRlZEFjdGlvbikgKyAnOycgOiBudWxsO1xuICAgIHZhciB0aXRsZSA9IHRpdGxlRm9ybWF0dGVyKGZvcm1hdHRlZEFjdGlvbiwgZm9ybWF0dGVkVGltZSwgdG9vayk7XG5cbiAgICAvLyBSZW5kZXJcbiAgICB0cnkge1xuICAgICAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgICAgIGlmIChjb2xvcnMudGl0bGUpIGxvZ2dlci5ncm91cENvbGxhcHNlZCgnJWMgJyArIHRpdGxlLCB0aXRsZUNTUyk7ZWxzZSBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQodGl0bGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNvbG9ycy50aXRsZSkgbG9nZ2VyLmdyb3VwKCclYyAnICsgdGl0bGUsIHRpdGxlQ1NTKTtlbHNlIGxvZ2dlci5ncm91cCh0aXRsZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmxvZyh0aXRsZSk7XG4gICAgfVxuXG4gICAgdmFyIHByZXZTdGF0ZUxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW3ByZXZTdGF0ZV0sICdwcmV2U3RhdGUnKTtcbiAgICB2YXIgYWN0aW9uTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbZm9ybWF0dGVkQWN0aW9uXSwgJ2FjdGlvbicpO1xuICAgIHZhciBlcnJvckxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW2Vycm9yLCBwcmV2U3RhdGVdLCAnZXJyb3InKTtcbiAgICB2YXIgbmV4dFN0YXRlTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbbmV4dFN0YXRlXSwgJ25leHRTdGF0ZScpO1xuXG4gICAgaWYgKHByZXZTdGF0ZUxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLnByZXZTdGF0ZSkgbG9nZ2VyW3ByZXZTdGF0ZUxldmVsXSgnJWMgcHJldiBzdGF0ZScsICdjb2xvcjogJyArIGNvbG9ycy5wcmV2U3RhdGUocHJldlN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgcHJldlN0YXRlKTtlbHNlIGxvZ2dlcltwcmV2U3RhdGVMZXZlbF0oJ3ByZXYgc3RhdGUnLCBwcmV2U3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb25MZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5hY3Rpb24pIGxvZ2dlclthY3Rpb25MZXZlbF0oJyVjIGFjdGlvbicsICdjb2xvcjogJyArIGNvbG9ycy5hY3Rpb24oZm9ybWF0dGVkQWN0aW9uKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgZm9ybWF0dGVkQWN0aW9uKTtlbHNlIGxvZ2dlclthY3Rpb25MZXZlbF0oJ2FjdGlvbicsIGZvcm1hdHRlZEFjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGVycm9yICYmIGVycm9yTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMuZXJyb3IpIGxvZ2dlcltlcnJvckxldmVsXSgnJWMgZXJyb3InLCAnY29sb3I6ICcgKyBjb2xvcnMuZXJyb3IoZXJyb3IsIHByZXZTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIGVycm9yKTtlbHNlIGxvZ2dlcltlcnJvckxldmVsXSgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuXG4gICAgaWYgKG5leHRTdGF0ZUxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLm5leHRTdGF0ZSkgbG9nZ2VyW25leHRTdGF0ZUxldmVsXSgnJWMgbmV4dCBzdGF0ZScsICdjb2xvcjogJyArIGNvbG9ycy5uZXh0U3RhdGUobmV4dFN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgbmV4dFN0YXRlKTtlbHNlIGxvZ2dlcltuZXh0U3RhdGVMZXZlbF0oJ25leHQgc3RhdGUnLCBuZXh0U3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChkaWZmKSB7XG4gICAgICAoMCwgX2RpZmYyLmRlZmF1bHQpKHByZXZTdGF0ZSwgbmV4dFN0YXRlLCBsb2dnZXIsIGlzQ29sbGFwc2VkKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmxvZygn4oCU4oCUIGxvZyBlbmQg4oCU4oCUJyk7XG4gICAgfVxuICB9KTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHtcbiAgbGV2ZWw6IFwibG9nXCIsXG4gIGxvZ2dlcjogY29uc29sZSxcbiAgbG9nRXJyb3JzOiB0cnVlLFxuICBjb2xsYXBzZWQ6IHVuZGVmaW5lZCxcbiAgcHJlZGljYXRlOiB1bmRlZmluZWQsXG4gIGR1cmF0aW9uOiBmYWxzZSxcbiAgdGltZXN0YW1wOiB0cnVlLFxuICBzdGF0ZVRyYW5zZm9ybWVyOiBmdW5jdGlvbiBzdGF0ZVRyYW5zZm9ybWVyKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9LFxuICBhY3Rpb25UcmFuc2Zvcm1lcjogZnVuY3Rpb24gYWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKSB7XG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfSxcbiAgZXJyb3JUcmFuc2Zvcm1lcjogZnVuY3Rpb24gZXJyb3JUcmFuc2Zvcm1lcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfSxcbiAgY29sb3JzOiB7XG4gICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkge1xuICAgICAgcmV0dXJuIFwiaW5oZXJpdFwiO1xuICAgIH0sXG4gICAgcHJldlN0YXRlOiBmdW5jdGlvbiBwcmV2U3RhdGUoKSB7XG4gICAgICByZXR1cm4gXCIjOUU5RTlFXCI7XG4gICAgfSxcbiAgICBhY3Rpb246IGZ1bmN0aW9uIGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBcIiMwM0E5RjRcIjtcbiAgICB9LFxuICAgIG5leHRTdGF0ZTogZnVuY3Rpb24gbmV4dFN0YXRlKCkge1xuICAgICAgcmV0dXJuIFwiIzRDQUY1MFwiO1xuICAgIH0sXG4gICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgcmV0dXJuIFwiI0YyMDQwNFwiO1xuICAgIH1cbiAgfSxcbiAgZGlmZjogZmFsc2UsXG4gIGRpZmZQcmVkaWNhdGU6IHVuZGVmaW5lZCxcblxuICAvLyBEZXByZWNhdGVkIG9wdGlvbnNcbiAgdHJhbnNmb3JtZXI6IHVuZGVmaW5lZFxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRpZmZMb2dnZXI7XG5cbnZhciBfZGVlcERpZmYgPSByZXF1aXJlKCdkZWVwLWRpZmYnKTtcblxudmFyIF9kZWVwRGlmZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRGlmZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbGl0Yml0L2RpZmYjZGlmZmVyZW5jZXNcbnZhciBkaWN0aW9uYXJ5ID0ge1xuICAnRSc6IHtcbiAgICBjb2xvcjogJyMyMTk2RjMnLFxuICAgIHRleHQ6ICdDSEFOR0VEOidcbiAgfSxcbiAgJ04nOiB7XG4gICAgY29sb3I6ICcjNENBRjUwJyxcbiAgICB0ZXh0OiAnQURERUQ6J1xuICB9LFxuICAnRCc6IHtcbiAgICBjb2xvcjogJyNGNDQzMzYnLFxuICAgIHRleHQ6ICdERUxFVEVEOidcbiAgfSxcbiAgJ0EnOiB7XG4gICAgY29sb3I6ICcjMjE5NkYzJyxcbiAgICB0ZXh0OiAnQVJSQVk6J1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdHlsZShraW5kKSB7XG4gIHJldHVybiAnY29sb3I6ICcgKyBkaWN0aW9uYXJ5W2tpbmRdLmNvbG9yICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoZGlmZikge1xuICB2YXIga2luZCA9IGRpZmYua2luZDtcbiAgdmFyIHBhdGggPSBkaWZmLnBhdGg7XG4gIHZhciBsaHMgPSBkaWZmLmxocztcbiAgdmFyIHJocyA9IGRpZmYucmhzO1xuICB2YXIgaW5kZXggPSBkaWZmLmluZGV4O1xuICB2YXIgaXRlbSA9IGRpZmYuaXRlbTtcblxuICBzd2l0Y2ggKGtpbmQpIHtcbiAgICBjYXNlICdFJzpcbiAgICAgIHJldHVybiBwYXRoLmpvaW4oJy4nKSArICcgJyArIGxocyArICcg4oaSICcgKyByaHM7XG4gICAgY2FzZSAnTic6XG4gICAgICByZXR1cm4gcGF0aC5qb2luKCcuJykgKyAnICcgKyByaHM7XG4gICAgY2FzZSAnRCc6XG4gICAgICByZXR1cm4gJycgKyBwYXRoLmpvaW4oJy4nKTtcbiAgICBjYXNlICdBJzpcbiAgICAgIHJldHVybiBbcGF0aC5qb2luKCcuJykgKyAnWycgKyBpbmRleCArICddJywgaXRlbV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpZmZMb2dnZXIocHJldlN0YXRlLCBuZXdTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCkge1xuICB2YXIgZGlmZiA9ICgwLCBfZGVlcERpZmYyLmRlZmF1bHQpKHByZXZTdGF0ZSwgbmV3U3RhdGUpO1xuXG4gIHRyeSB7XG4gICAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJ2RpZmYnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmdyb3VwKCdkaWZmJyk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmxvZygnZGlmZicpO1xuICB9XG5cbiAgaWYgKGRpZmYpIHtcbiAgICBkaWZmLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIHZhciBraW5kID0gZWxlbS5raW5kO1xuXG4gICAgICB2YXIgb3V0cHV0ID0gcmVuZGVyKGVsZW0pO1xuXG4gICAgICBsb2dnZXIubG9nKCclYyAnICsgZGljdGlvbmFyeVtraW5kXS50ZXh0LCBzdHlsZShraW5kKSwgb3V0cHV0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgbm8gZGlmZiDigJTigJQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgZGlmZiBlbmQg4oCU4oCUICcpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciByZXBlYXQgPSBleHBvcnRzLnJlcGVhdCA9IGZ1bmN0aW9uIHJlcGVhdChzdHIsIHRpbWVzKSB7XG4gIHJldHVybiBuZXcgQXJyYXkodGltZXMgKyAxKS5qb2luKHN0cik7XG59O1xuXG52YXIgcGFkID0gZXhwb3J0cy5wYWQgPSBmdW5jdGlvbiBwYWQobnVtLCBtYXhMZW5ndGgpIHtcbiAgcmV0dXJuIHJlcGVhdChcIjBcIiwgbWF4TGVuZ3RoIC0gbnVtLnRvU3RyaW5nKCkubGVuZ3RoKSArIG51bTtcbn07XG5cbnZhciBmb3JtYXRUaW1lID0gZXhwb3J0cy5mb3JtYXRUaW1lID0gZnVuY3Rpb24gZm9ybWF0VGltZSh0aW1lKSB7XG4gIHJldHVybiBwYWQodGltZS5nZXRIb3VycygpLCAyKSArIFwiOlwiICsgcGFkKHRpbWUuZ2V0TWludXRlcygpLCAyKSArIFwiOlwiICsgcGFkKHRpbWUuZ2V0U2Vjb25kcygpLCAyKSArIFwiLlwiICsgcGFkKHRpbWUuZ2V0TWlsbGlzZWNvbmRzKCksIDMpO1xufTtcblxuLy8gVXNlIHBlcmZvcm1hbmNlIEFQSSBpZiBpdCdzIGF2YWlsYWJsZSBpbiBvcmRlciB0byBnZXQgYmV0dGVyIHByZWNpc2lvblxudmFyIHRpbWVyID0gZXhwb3J0cy50aW1lciA9IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwZXJmb3JtYW5jZSAhPT0gbnVsbCAmJiB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSBcImZ1bmN0aW9uXCIgPyBwZXJmb3JtYW5jZSA6IERhdGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NvcmUgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxudmFyIF9oZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbnZhciBfZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbnZhciBfZGVmYXVsdHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmYXVsdHMpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIENyZWF0ZXMgbG9nZ2VyIHdpdGggZm9sbG93aW5nIG9wdGlvbnNcbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnMgZm9yIGxvZ2dlclxuICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbiB8IG9iamVjdH0gb3B0aW9ucy5sZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZHVyYXRpb24gLSBwcmludCBkdXJhdGlvbiBvZiBlYWNoIGFjdGlvbj9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy50aW1lc3RhbXAgLSBwcmludCB0aW1lc3RhbXAgd2l0aCBlYWNoIGFjdGlvbj9cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmNvbG9ycyAtIGN1c3RvbSBjb2xvcnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zLmxvZ2dlciAtIGltcGxlbWVudGF0aW9uIG9mIHRoZSBgY29uc29sZWAgQVBJXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMubG9nRXJyb3JzIC0gc2hvdWxkIGVycm9ycyBpbiBhY3Rpb24gZXhlY3V0aW9uIGJlIGNhdWdodCwgbG9nZ2VkLCBhbmQgcmUtdGhyb3duP1xuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmNvbGxhcHNlZCAtIGlzIGdyb3VwIGNvbGxhcHNlZD9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5wcmVkaWNhdGUgLSBjb25kaXRpb24gd2hpY2ggcmVzb2x2ZXMgbG9nZ2VyIGJlaGF2aW9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLnN0YXRlVHJhbnNmb3JtZXIgLSB0cmFuc2Zvcm0gc3RhdGUgYmVmb3JlIHByaW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLmFjdGlvblRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIGFjdGlvbiBiZWZvcmUgcHJpbnRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9wdGlvbnMuZXJyb3JUcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBlcnJvciBiZWZvcmUgcHJpbnRcbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IGxvZ2dlciBtaWRkbGV3YXJlXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlcigpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcblxuICB2YXIgbG9nZ2VyT3B0aW9ucyA9IF9leHRlbmRzKHt9LCBfZGVmYXVsdHMyLmRlZmF1bHQsIG9wdGlvbnMpO1xuXG4gIHZhciBsb2dnZXIgPSBsb2dnZXJPcHRpb25zLmxvZ2dlcjtcbiAgdmFyIHRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy50cmFuc2Zvcm1lcjtcbiAgdmFyIHN0YXRlVHJhbnNmb3JtZXIgPSBsb2dnZXJPcHRpb25zLnN0YXRlVHJhbnNmb3JtZXI7XG4gIHZhciBlcnJvclRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5lcnJvclRyYW5zZm9ybWVyO1xuICB2YXIgcHJlZGljYXRlID0gbG9nZ2VyT3B0aW9ucy5wcmVkaWNhdGU7XG4gIHZhciBsb2dFcnJvcnMgPSBsb2dnZXJPcHRpb25zLmxvZ0Vycm9ycztcbiAgdmFyIGRpZmZQcmVkaWNhdGUgPSBsb2dnZXJPcHRpb25zLmRpZmZQcmVkaWNhdGU7XG5cbiAgLy8gUmV0dXJuIGlmICdjb25zb2xlJyBvYmplY3QgaXMgbm90IGRlZmluZWRcblxuICBpZiAodHlwZW9mIGxvZ2dlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGlmICh0cmFuc2Zvcm1lcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ09wdGlvbiBcXCd0cmFuc2Zvcm1lclxcJyBpcyBkZXByZWNhdGVkLCB1c2UgXFwnc3RhdGVUcmFuc2Zvcm1lclxcJyBpbnN0ZWFkIScpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgfVxuXG4gIHZhciBsb2dCdWZmZXIgPSBbXTtcblxuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgLy8gRXhpdCBlYXJseSBpZiBwcmVkaWNhdGUgZnVuY3Rpb24gcmV0dXJucyAnZmFsc2UnXG4gICAgICAgIGlmICh0eXBlb2YgcHJlZGljYXRlID09PSAnZnVuY3Rpb24nICYmICFwcmVkaWNhdGUoZ2V0U3RhdGUsIGFjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvZ0VudHJ5ID0ge307XG4gICAgICAgIGxvZ0J1ZmZlci5wdXNoKGxvZ0VudHJ5KTtcblxuICAgICAgICBsb2dFbnRyeS5zdGFydGVkID0gX2hlbHBlcnMudGltZXIubm93KCk7XG4gICAgICAgIGxvZ0VudHJ5LnN0YXJ0ZWRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgbG9nRW50cnkucHJldlN0YXRlID0gc3RhdGVUcmFuc2Zvcm1lcihnZXRTdGF0ZSgpKTtcbiAgICAgICAgbG9nRW50cnkuYWN0aW9uID0gYWN0aW9uO1xuXG4gICAgICAgIHZhciByZXR1cm5lZFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAobG9nRXJyb3JzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBuZXh0KGFjdGlvbik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nRW50cnkuZXJyb3IgPSBlcnJvclRyYW5zZm9ybWVyKGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nRW50cnkudG9vayA9IF9oZWxwZXJzLnRpbWVyLm5vdygpIC0gbG9nRW50cnkuc3RhcnRlZDtcbiAgICAgICAgbG9nRW50cnkubmV4dFN0YXRlID0gc3RhdGVUcmFuc2Zvcm1lcihnZXRTdGF0ZSgpKTtcblxuICAgICAgICB2YXIgZGlmZiA9IGxvZ2dlck9wdGlvbnMuZGlmZiAmJiB0eXBlb2YgZGlmZlByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGRpZmZQcmVkaWNhdGUoZ2V0U3RhdGUsIGFjdGlvbikgOiBsb2dnZXJPcHRpb25zLmRpZmY7XG5cbiAgICAgICAgKDAsIF9jb3JlLnByaW50QnVmZmVyKShsb2dCdWZmZXIsIF9leHRlbmRzKHt9LCBsb2dnZXJPcHRpb25zLCB7IGRpZmY6IGRpZmYgfSkpO1xuICAgICAgICBsb2dCdWZmZXIubGVuZ3RoID0gMDtcblxuICAgICAgICBpZiAobG9nRW50cnkuZXJyb3IpIHRocm93IGxvZ0VudHJ5LmVycm9yO1xuICAgICAgICByZXR1cm4gcmV0dXJuZWRWYWx1ZTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlTG9nZ2VyO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBhcHBseU1pZGRsZXdhcmU7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCBhcHBsaWVzIG1pZGRsZXdhcmUgdG8gdGhlIGRpc3BhdGNoIG1ldGhvZFxuICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuICogYXN5bmNocm9ub3VzIGFjdGlvbnMgaW4gYSBjb25jaXNlIG1hbm5lciwgb3IgbG9nZ2luZyBldmVyeSBhY3Rpb24gcGF5bG9hZC5cbiAqXG4gKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG4gKlxuICogQmVjYXVzZSBtaWRkbGV3YXJlIGlzIHBvdGVudGlhbGx5IGFzeW5jaHJvbm91cywgdGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0XG4gKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG4gKlxuICogTm90ZSB0aGF0IGVhY2ggbWlkZGxld2FyZSB3aWxsIGJlIGdpdmVuIHRoZSBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIGZ1bmN0aW9uc1xuICogYXMgbmFtZWQgYXJndW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIFRoZSBtaWRkbGV3YXJlIGNoYWluIHRvIGJlIGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWlkZGxld2FyZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGNyZWF0ZVN0b3JlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcik7XG4gICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICB2YXIgY2hhaW4gPSBbXTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBfY29tcG9zZTJbJ2RlZmF1bHQnXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzWydkZWZhdWx0J10gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJyArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn0iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzWydkZWZhdWx0J10gPSBjb21iaW5lUmVkdWNlcnM7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnLi91dGlscy93YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXG4gIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSkge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUID8gJ3ByZWxvYWRlZFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyWydkZWZhdWx0J10pKGlucHV0U3RhdGUpKSB7XG4gICAgcmV0dXJuICdUaGUgJyArIGFyZ3VtZW50TmFtZSArICcgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArICdcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyAnICsgKCdrZXlzOiBcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIicpO1xuICB9XG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldO1xuICB9KTtcblxuICB1bmV4cGVjdGVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuXG4gIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuICdVbmV4cGVjdGVkICcgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArICcgJyArICgnXCInICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyAnXCIgZm91bmQgaW4gJyArIGFyZ3VtZW50TmFtZSArICcuICcpICsgJ0V4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogJyArICgnXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNhbml0eShyZWR1Y2Vycykge1xuICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgIHZhciBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLicpO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gJ0BAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05fJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdCgnJykuam9pbignLicpO1xuICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogdHlwZSB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gJyArICgnRG9uXFwndCB0cnkgdG8gaGFuZGxlICcgKyBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCArICcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKSArICduYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSAnICsgJ2N1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsICcgKyAnaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlICcgKyAnYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLicpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG4gKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG4gKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG4gKiByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgY29tYmluZWQgaW50byBvbmUuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluXG4gKiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyIHJldHVyblxuICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICogaWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGVtIHdhcyB1bmRlZmluZWQsIGFuZCB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55XG4gKiB1bnJlY29nbml6ZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBldmVyeSByZWR1Y2VyIGluc2lkZSB0aGVcbiAqIHBhc3NlZCBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cbiAqL1xuZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICgwLCBfd2FybmluZzJbJ2RlZmF1bHQnXSkoJ05vIHJlZHVjZXIgcHJvdmlkZWQgZm9yIGtleSBcIicgKyBrZXkgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgfVxuICB9XG4gIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgdW5leHBlY3RlZEtleUNhY2hlID0ge307XG4gIH1cblxuICB2YXIgc2FuaXR5RXJyb3I7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNhbml0eShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNhbml0eUVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcbiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNhbml0eUVycm9yKSB7XG4gICAgICB0aHJvdyBzYW5pdHlFcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpO1xuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICgwLCBfd2FybmluZzJbJ2RlZmF1bHQnXSkod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNba2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cblxuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZnVuY3NbMF07XG4gIH1cblxuICB2YXIgbGFzdCA9IGZ1bmNzW2Z1bmNzLmxlbmd0aCAtIDFdO1xuICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcbiAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcbiAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gIH07XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHVuZGVmaW5lZDtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZVN0b3JlO1xuXG52YXIgX2lzUGxhaW5PYmplY3QgPSByZXF1aXJlKCdsb2Rhc2gvaXNQbGFpbk9iamVjdCcpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cbnZhciBfc3ltYm9sT2JzZXJ2YWJsZSA9IHJlcXVpcmUoJ3N5bWJvbC1vYnNlcnZhYmxlJyk7XG5cbnZhciBfc3ltYm9sT2JzZXJ2YWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zeW1ib2xPYnNlcnZhYmxlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG4vKipcbiAqIFRoZXNlIGFyZSBwcml2YXRlIGFjdGlvbiB0eXBlcyByZXNlcnZlZCBieSBSZWR1eC5cbiAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAqIERvIG5vdCByZWZlcmVuY2UgdGhlc2UgYWN0aW9uIHR5cGVzIGRpcmVjdGx5IGluIHlvdXIgY29kZS5cbiAqL1xudmFyIEFjdGlvblR5cGVzID0gZXhwb3J0cy5BY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogJ0BAcmVkdXgvSU5JVCdcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtwcmVsb2FkZWRTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuICogcHJldmlvdXNseSBzZXJpYWxpemVkIHVzZXIgc2Vzc2lvbi5cbiAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcbiAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZW5oYW5jZXIgVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgc3RhdGUgdHJlZSBtYW5hZ2VkIGJ5IHRoZSBzdG9yZS5cbiAgICpcbiAgICogQHJldHVybnMge2FueX0gVGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBvZiB5b3VyIGFwcGxpY2F0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgY2hhbmdlIGxpc3RlbmVyLiBJdCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSBhbiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCxcbiAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cbiAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG4gICAqIGNhdmVhdHM6XG4gICAqXG4gICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cbiAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG4gICAqIHdpbGwgbm90IGhhdmUgYW55IGVmZmVjdCBvbiB0aGUgYGRpc3BhdGNoKClgIHRoYXQgaXMgY3VycmVudGx5IGluIHByb2dyZXNzLlxuICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcbiAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cbiAgICpcbiAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG4gICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG4gICAqIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQuIEl0IGlzLCBob3dldmVyLCBndWFyYW50ZWVkIHRoYXQgYWxsIHN1YnNjcmliZXJzXG4gICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3RcbiAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcblxuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcblxuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cbiAgICpcbiAgICogVGhlIGByZWR1Y2VyYCBmdW5jdGlvbiwgdXNlZCB0byBjcmVhdGUgdGhlIHN0b3JlLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG4gICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcbiAgICogd2lsbCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cbiAgICogZGlzcGF0Y2ggYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLCBhIHRodW5rLCBvciBzb21ldGhpbmcgZWxzZSwgeW91IG5lZWQgdG9cbiAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG4gICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcbiAgICogbWlkZGxld2FyZSB3aWxsIGV2ZW50dWFsbHkgZGlzcGF0Y2ggcGxhaW4gb2JqZWN0IGFjdGlvbnMgdXNpbmcgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcbiAgICogYSBnb29kIGlkZWEgdG8ga2VlcCBhY3Rpb25zIHNlcmlhbGl6YWJsZSBzbyB5b3UgY2FuIHJlY29yZCBhbmQgcmVwbGF5IHVzZXJcbiAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcbiAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG4gICAqIHN0cmluZyBjb25zdGFudHMgZm9yIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG4gICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cbiAgICovXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIGlmICghKDAsIF9pc1BsYWluT2JqZWN0MlsnZGVmYXVsdCddKShhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxpc3RlbmVyc1tpXSgpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7IHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZSB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbX3N5bWJvbE9ic2VydmFibGUyWydkZWZhdWx0J11dID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX3JlZjtcbiAgfVxuXG4gIC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG4gIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAvLyB0aGUgaW5pdGlhbCBzdGF0ZSB0cmVlLlxuICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG5cbiAgcmV0dXJuIF9yZWYyID0ge1xuICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG4gIH0sIF9yZWYyW19zeW1ib2xPYnNlcnZhYmxlMlsnZGVmYXVsdCddXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VycyA9IHJlcXVpcmUoJy4vY29tYmluZVJlZHVjZXJzJyk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cbnZhciBfYmluZEFjdGlvbkNyZWF0b3JzID0gcmVxdWlyZSgnLi9iaW5kQWN0aW9uQ3JlYXRvcnMnKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcblxudmFyIF9hcHBseU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL2FwcGx5TWlkZGxld2FyZScpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuXG52YXIgX2NvbXBvc2UgPSByZXF1aXJlKCcuL2NvbXBvc2UnKTtcblxudmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbi8qXG4qIFRoaXMgaXMgYSBkdW1teSBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgZnVuY3Rpb24gbmFtZSBoYXMgYmVlbiBhbHRlcmVkIGJ5IG1pbmlmaWNhdGlvbi5cbiogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuKi9cbmZ1bmN0aW9uIGlzQ3J1c2hlZCgpIHt9XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG4gICgwLCBfd2FybmluZzJbJ2RlZmF1bHQnXSkoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXFwncHJvZHVjdGlvblxcJy4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIERlZmluZVBsdWdpbiBmb3Igd2VicGFjayAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDAzMDAzMSkgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xufVxuXG5leHBvcnRzLmNyZWF0ZVN0b3JlID0gX2NyZWF0ZVN0b3JlMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBfY29tYmluZVJlZHVjZXJzMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBfYXBwbHlNaWRkbGV3YXJlMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5jb21wb3NlID0gX2NvbXBvc2UyWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1snZGVmYXVsdCddID0gd2FybmluZztcbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuICB9IGNhdGNoIChlKSB7fVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWVtcHR5ICovXG59IiwiLypcblx0VGhpcyBpcyByb3QuanMsIHRoZSBST2d1ZWxpa2UgVG9vbGtpdCBpbiBKYXZhU2NyaXB0LlxuXHRWZXJzaW9uIDAuNn5kZXYsIGdlbmVyYXRlZCBvbiBNb24gTm92IDMwIDEwOjM0OjQyIENFVCAyMDE1LlxuKi9cbi8qKlxuICogQWRkIG9iamVjdHMgZm9yIE5vZGUuanMgZW52aXJvbm1lbnRcbiAqL1xuZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNiKSB7XG5cdHJldHVybiBzZXRUaW1lb3V0KGNiLCAxMDAwLzYwKTtcbn07XG5cbmdsb2JhbC5kb2N1bWVudCA9IHtcblx0Ym9keToge1xuXHRcdGFwcGVuZENoaWxkOiBmdW5jdGlvbihjaGlsZCkge30sXG5cdFx0c2Nyb2xsTGVmdDogMCxcblx0XHRzY3JvbGxUb3A6IDBcblx0fSxcblx0Y3JlYXRlRWxlbWVudDogZnVuY3Rpb24odHlwZSkge1xuXHRcdHZhciBjYW52YXM7XG5cdFx0cmV0dXJuIGNhbnZhcyA9IHtcblx0XHRcdGdldEJvdW5kaW5nQ2xpZW50UmVjdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciByZWN0O1xuXHRcdFx0XHRyZXR1cm4gcmVjdCA9IHtcblx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdHRvcDogMFxuXHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XHRcdGdldENvbnRleHQ6IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHRcdFx0dmFyIGNvbnRleHQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0ID0ge1xuXHRcdFx0XHRcdF90ZXJtY29sb3I6IG51bGwsXG5cdFx0XHRcdFx0YmVnaW5QYXRoOiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0XHRcdGNhbnZhczogY2FudmFzLFxuXHRcdFx0XHRcdGNsZWFyUmVjdDogZnVuY3Rpb24oeCwgeSwgdywgaCkge1xuXHRcdFx0XHRcdFx0aWYodGhpcy5fdGVybWNvbG9yICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBjbGVhckNtZCA9IHRoaXMuX3Rlcm1jb2xvci5jbGVhclRvQW5zaSh0aGlzLmZpbGxTdHlsZSk7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNsZWFyQ21kKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRyYXdJbWFnZTogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaSkge30sXG5cdFx0XHRcdFx0ZmlsbDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0XHRmaWxsUmVjdDogZnVuY3Rpb24oeCwgeSwgdywgaCkge1xuXHRcdFx0XHRcdFx0aWYodGhpcy5fdGVybWNvbG9yICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBjbGVhckNtZCA9IHRoaXMuX3Rlcm1jb2xvci5jbGVhclRvQW5zaSh0aGlzLmZpbGxTdHlsZSk7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNsZWFyQ21kKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGZpbGxTdHlsZTogXCIjMDAwXCIsXG5cdFx0XHRcdFx0ZmlsbFRleHQ6IGZ1bmN0aW9uKGNocywgeCwgeSkge30sXG5cdFx0XHRcdFx0Zm9udDogXCJtb25vc3BhY2VcIixcblx0XHRcdFx0XHRsaW5lVG86IGZ1bmN0aW9uKHgsIHkpIHt9LFxuXHRcdFx0XHRcdG1lYXN1cmVUZXh0OiBmdW5jdGlvbihjaCkge1xuXHRcdFx0XHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQgPSB7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOiAxMlxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG1vdmVUbzogZnVuY3Rpb24oeCwgeSkge30sXG5cdFx0XHRcdFx0dGV4dEFsaWduOiBcImNlbnRlclwiLFxuXHRcdFx0XHRcdHRleHRCYXNlbGluZTogXCJtaWRkbGVcIlxuXHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XHRcdGhlaWdodDogMCxcblx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdGxlZnQ6IFwiMTAwcHhcIixcblx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0dG9wOiBcIjEwMHB4XCIsXG5cdFx0XHRcdHZpc2liaWxpdHk6IFwiaGlkZGVuXCJcblx0XHRcdH0sXG5cdFx0XHR3aWR0aDogMFxuXHRcdH07XG5cdH0sXG5cdGRvY3VtZW50RWxlbWVudDoge1xuXHRcdHNjcm9sbExlZnQ6IDAsXG5cdFx0c2Nyb2xsVG9wOiAwXG5cdH1cbn07XG4vKipcbiAqIEBuYW1lc3BhY2UgVG9wLWxldmVsIFJPVCBuYW1lc3BhY2VcbiAqL1xudmFyIFJPVCA9IHtcblx0LyoqXG5cdCAqIEByZXR1cm5zIHtib29sfSBJcyByb3QuanMgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlcj9cblx0ICovXG5cdGlzU3VwcG9ydGVkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gISEoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0ICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kKTtcblx0fSxcblxuXHQvKiogRGVmYXVsdCB3aXRoIGZvciBkaXNwbGF5IGFuZCBtYXAgZ2VuZXJhdG9ycyAqL1xuXHRERUZBVUxUX1dJRFRIOiA4MCxcblx0LyoqIERlZmF1bHQgaGVpZ2h0IGZvciBkaXNwbGF5IGFuZCBtYXAgZ2VuZXJhdG9ycyAqL1xuXHRERUZBVUxUX0hFSUdIVDogMjUsXG5cblx0LyoqIERpcmVjdGlvbmFsIGNvbnN0YW50cy4gT3JkZXJpbmcgaXMgaW1wb3J0YW50ISAqL1xuXHRESVJTOiB7XG5cdFx0XCI0XCI6IFtcblx0XHRcdFsgMCwgLTFdLFxuXHRcdFx0WyAxLCAgMF0sXG5cdFx0XHRbIDAsICAxXSxcblx0XHRcdFstMSwgIDBdXG5cdFx0XSxcblx0XHRcIjhcIjogW1xuXHRcdFx0WyAwLCAtMV0sXG5cdFx0XHRbIDEsIC0xXSxcblx0XHRcdFsgMSwgIDBdLFxuXHRcdFx0WyAxLCAgMV0sXG5cdFx0XHRbIDAsICAxXSxcblx0XHRcdFstMSwgIDFdLFxuXHRcdFx0Wy0xLCAgMF0sXG5cdFx0XHRbLTEsIC0xXVxuXHRcdF0sXG5cdFx0XCI2XCI6IFtcblx0XHRcdFstMSwgLTFdLFxuXHRcdFx0WyAxLCAtMV0sXG5cdFx0XHRbIDIsICAwXSxcblx0XHRcdFsgMSwgIDFdLFxuXHRcdFx0Wy0xLCAgMV0sXG5cdFx0XHRbLTIsICAwXVxuXHRcdF1cblx0fSxcblxuXHQvKiogQ2FuY2VsIGtleS4gKi9cblx0VktfQ0FOQ0VMOiAzLCBcblx0LyoqIEhlbHAga2V5LiAqL1xuXHRWS19IRUxQOiA2LCBcblx0LyoqIEJhY2tzcGFjZSBrZXkuICovXG5cdFZLX0JBQ0tfU1BBQ0U6IDgsIFxuXHQvKiogVGFiIGtleS4gKi9cblx0VktfVEFCOiA5LCBcblx0LyoqIDUga2V5IG9uIE51bXBhZCB3aGVuIE51bUxvY2sgaXMgdW5sb2NrZWQuIE9yIG9uIE1hYywgY2xlYXIga2V5IHdoaWNoIGlzIHBvc2l0aW9uZWQgYXQgTnVtTG9jayBrZXkuICovXG5cdFZLX0NMRUFSOiAxMiwgXG5cdC8qKiBSZXR1cm4vZW50ZXIga2V5IG9uIHRoZSBtYWluIGtleWJvYXJkLiAqL1xuXHRWS19SRVRVUk46IDEzLCBcblx0LyoqIFJlc2VydmVkLCBidXQgbm90IHVzZWQuICovXG5cdFZLX0VOVEVSOiAxNCwgXG5cdC8qKiBTaGlmdCBrZXkuICovXG5cdFZLX1NISUZUOiAxNiwgXG5cdC8qKiBDb250cm9sIGtleS4gKi9cblx0VktfQ09OVFJPTDogMTcsIFxuXHQvKiogQWx0IChPcHRpb24gb24gTWFjKSBrZXkuICovXG5cdFZLX0FMVDogMTgsIFxuXHQvKiogUGF1c2Uga2V5LiAqL1xuXHRWS19QQVVTRTogMTksIFxuXHQvKiogQ2FwcyBsb2NrLiAqL1xuXHRWS19DQVBTX0xPQ0s6IDIwLCBcblx0LyoqIEVzY2FwZSBrZXkuICovXG5cdFZLX0VTQ0FQRTogMjcsIFxuXHQvKiogU3BhY2UgYmFyLiAqL1xuXHRWS19TUEFDRTogMzIsIFxuXHQvKiogUGFnZSBVcCBrZXkuICovXG5cdFZLX1BBR0VfVVA6IDMzLCBcblx0LyoqIFBhZ2UgRG93biBrZXkuICovXG5cdFZLX1BBR0VfRE9XTjogMzQsIFxuXHQvKiogRW5kIGtleS4gKi9cblx0VktfRU5EOiAzNSwgXG5cdC8qKiBIb21lIGtleS4gKi9cblx0VktfSE9NRTogMzYsIFxuXHQvKiogTGVmdCBhcnJvdy4gKi9cblx0VktfTEVGVDogMzcsIFxuXHQvKiogVXAgYXJyb3cuICovXG5cdFZLX1VQOiAzOCwgXG5cdC8qKiBSaWdodCBhcnJvdy4gKi9cblx0VktfUklHSFQ6IDM5LCBcblx0LyoqIERvd24gYXJyb3cuICovXG5cdFZLX0RPV046IDQwLCBcblx0LyoqIFByaW50IFNjcmVlbiBrZXkuICovXG5cdFZLX1BSSU5UU0NSRUVOOiA0NCwgXG5cdC8qKiBJbnMoZXJ0KSBrZXkuICovXG5cdFZLX0lOU0VSVDogNDUsIFxuXHQvKiogRGVsKGV0ZSkga2V5LiAqL1xuXHRWS19ERUxFVEU6IDQ2LCBcblx0LyoqKi9cblx0VktfMDogNDgsXG5cdC8qKiovXG5cdFZLXzE6IDQ5LFxuXHQvKioqL1xuXHRWS18yOiA1MCxcblx0LyoqKi9cblx0VktfMzogNTEsXG5cdC8qKiovXG5cdFZLXzQ6IDUyLFxuXHQvKioqL1xuXHRWS181OiA1Myxcblx0LyoqKi9cblx0VktfNjogNTQsXG5cdC8qKiovXG5cdFZLXzc6IDU1LFxuXHQvKioqL1xuXHRWS184OiA1Nixcblx0LyoqKi9cblx0VktfOTogNTcsXG5cdC8qKiBDb2xvbiAoOikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NPTE9OOiA1OCwgXG5cdC8qKiBTZW1pY29sb24gKDspIGtleS4gKi9cblx0VktfU0VNSUNPTE9OOiA1OSwgXG5cdC8qKiBMZXNzLXRoYW4gKDwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19MRVNTX1RIQU46IDYwLCBcblx0LyoqIEVxdWFscyAoPSkga2V5LiAqL1xuXHRWS19FUVVBTFM6IDYxLCBcblx0LyoqIEdyZWF0ZXItdGhhbiAoPikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0dSRUFURVJfVEhBTjogNjIsIFxuXHQvKiogUXVlc3Rpb24gbWFyayAoPykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1FVRVNUSU9OX01BUks6IDYzLCBcblx0LyoqIEF0bWFyayAoQCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FUOiA2NCwgXG5cdC8qKiovXG5cdFZLX0E6IDY1LFxuXHQvKioqL1xuXHRWS19COiA2Nixcblx0LyoqKi9cblx0VktfQzogNjcsXG5cdC8qKiovXG5cdFZLX0Q6IDY4LFxuXHQvKioqL1xuXHRWS19FOiA2OSxcblx0LyoqKi9cblx0VktfRjogNzAsXG5cdC8qKiovXG5cdFZLX0c6IDcxLFxuXHQvKioqL1xuXHRWS19IOiA3Mixcblx0LyoqKi9cblx0VktfSTogNzMsXG5cdC8qKiovXG5cdFZLX0o6IDc0LFxuXHQvKioqL1xuXHRWS19LOiA3NSxcblx0LyoqKi9cblx0VktfTDogNzYsXG5cdC8qKiovXG5cdFZLX006IDc3LFxuXHQvKioqL1xuXHRWS19OOiA3OCxcblx0LyoqKi9cblx0VktfTzogNzksXG5cdC8qKiovXG5cdFZLX1A6IDgwLFxuXHQvKioqL1xuXHRWS19ROiA4MSxcblx0LyoqKi9cblx0VktfUjogODIsXG5cdC8qKiovXG5cdFZLX1M6IDgzLFxuXHQvKioqL1xuXHRWS19UOiA4NCxcblx0LyoqKi9cblx0VktfVTogODUsXG5cdC8qKiovXG5cdFZLX1Y6IDg2LFxuXHQvKioqL1xuXHRWS19XOiA4Nyxcblx0LyoqKi9cblx0VktfWDogODgsXG5cdC8qKiovXG5cdFZLX1k6IDg5LFxuXHQvKioqL1xuXHRWS19aOiA5MCxcblx0LyoqKi9cblx0VktfQ09OVEVYVF9NRU5VOiA5Myxcblx0LyoqIDAgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQwOiA5NiwgXG5cdC8qKiAxIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMTogOTcsIFxuXHQvKiogMiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDI6IDk4LCBcblx0LyoqIDMgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQzOiA5OSwgXG5cdC8qKiA0IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENDogMTAwLCBcblx0LyoqIDUgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ1OiAxMDEsIFxuXHQvKiogNiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDY6IDEwMiwgXG5cdC8qKiA3IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENzogMTAzLCBcblx0LyoqIDggb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ4OiAxMDQsIFxuXHQvKiogOSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDk6IDEwNSwgXG5cdC8qKiAqIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTVVMVElQTFk6IDEwNixcblx0LyoqICsgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19BREQ6IDEwNywgXG5cdC8qKiovXG5cdFZLX1NFUEFSQVRPUjogMTA4LFxuXHQvKiogLSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX1NVQlRSQUNUOiAxMDksIFxuXHQvKiogRGVjaW1hbCBwb2ludCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX0RFQ0lNQUw6IDExMCwgXG5cdC8qKiAvIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfRElWSURFOiAxMTEsIFxuXHQvKiogRjEga2V5LiAqL1xuXHRWS19GMTogMTEyLCBcblx0LyoqIEYyIGtleS4gKi9cblx0VktfRjI6IDExMywgXG5cdC8qKiBGMyBrZXkuICovXG5cdFZLX0YzOiAxMTQsIFxuXHQvKiogRjQga2V5LiAqL1xuXHRWS19GNDogMTE1LCBcblx0LyoqIEY1IGtleS4gKi9cblx0VktfRjU6IDExNiwgXG5cdC8qKiBGNiBrZXkuICovXG5cdFZLX0Y2OiAxMTcsIFxuXHQvKiogRjcga2V5LiAqL1xuXHRWS19GNzogMTE4LCBcblx0LyoqIEY4IGtleS4gKi9cblx0VktfRjg6IDExOSwgXG5cdC8qKiBGOSBrZXkuICovXG5cdFZLX0Y5OiAxMjAsIFxuXHQvKiogRjEwIGtleS4gKi9cblx0VktfRjEwOiAxMjEsIFxuXHQvKiogRjExIGtleS4gKi9cblx0VktfRjExOiAxMjIsIFxuXHQvKiogRjEyIGtleS4gKi9cblx0VktfRjEyOiAxMjMsIFxuXHQvKiogRjEzIGtleS4gKi9cblx0VktfRjEzOiAxMjQsIFxuXHQvKiogRjE0IGtleS4gKi9cblx0VktfRjE0OiAxMjUsIFxuXHQvKiogRjE1IGtleS4gKi9cblx0VktfRjE1OiAxMjYsIFxuXHQvKiogRjE2IGtleS4gKi9cblx0VktfRjE2OiAxMjcsIFxuXHQvKiogRjE3IGtleS4gKi9cblx0VktfRjE3OiAxMjgsIFxuXHQvKiogRjE4IGtleS4gKi9cblx0VktfRjE4OiAxMjksIFxuXHQvKiogRjE5IGtleS4gKi9cblx0VktfRjE5OiAxMzAsIFxuXHQvKiogRjIwIGtleS4gKi9cblx0VktfRjIwOiAxMzEsIFxuXHQvKiogRjIxIGtleS4gKi9cblx0VktfRjIxOiAxMzIsIFxuXHQvKiogRjIyIGtleS4gKi9cblx0VktfRjIyOiAxMzMsIFxuXHQvKiogRjIzIGtleS4gKi9cblx0VktfRjIzOiAxMzQsIFxuXHQvKiogRjI0IGtleS4gKi9cblx0VktfRjI0OiAxMzUsIFxuXHQvKiogTnVtIExvY2sga2V5LiAqL1xuXHRWS19OVU1fTE9DSzogMTQ0LCBcblx0LyoqIFNjcm9sbCBMb2NrIGtleS4gKi9cblx0VktfU0NST0xMX0xPQ0s6IDE0NSwgXG5cdC8qKiBDaXJjdW1mbGV4ICheKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQ0lSQ1VNRkxFWDogMTYwLCBcblx0LyoqIEV4Y2xhbWF0aW9uICghKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRVhDTEFNQVRJT046IDE2MSwgXG5cdC8qKiBEb3VibGUgcXVvdGUgKCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0RPVUJMRV9RVU9URTogMTYyLCBcblx0LyoqIEhhc2ggKCMpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19IQVNIOiAxNjMsIFxuXHQvKiogRG9sbGFyIHNpZ24gKCQpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19ET0xMQVI6IDE2NCwgXG5cdC8qKiBQZXJjZW50ICglKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUEVSQ0VOVDogMTY1LCBcblx0LyoqIEFtcGVyc2FuZCAoJikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FNUEVSU0FORDogMTY2LCBcblx0LyoqIFVuZGVyc2NvcmUgKF8pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19VTkRFUlNDT1JFOiAxNjcsIFxuXHQvKiogT3BlbiBwYXJlbnRoZXNpcyAoKCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX09QRU5fUEFSRU46IDE2OCwgXG5cdC8qKiBDbG9zZSBwYXJlbnRoZXNpcyAoKSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NMT1NFX1BBUkVOOiAxNjksIFxuXHQvKiBBc3RlcmlzayAoKikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FTVEVSSVNLOiAxNzAsXG5cdC8qKiBQbHVzICgrKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUExVUzogMTcxLCBcblx0LyoqIFBpcGUgKHwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19QSVBFOiAxNzIsIFxuXHQvKiogSHlwaGVuLVVTL2RvY3MvTWludXMgKC0pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19IWVBIRU5fTUlOVVM6IDE3MywgXG5cdC8qKiBPcGVuIGN1cmx5IGJyYWNrZXQgKHspIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19PUEVOX0NVUkxZX0JSQUNLRVQ6IDE3NCwgXG5cdC8qKiBDbG9zZSBjdXJseSBicmFja2V0ICh9KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQ0xPU0VfQ1VSTFlfQlJBQ0tFVDogMTc1LCBcblx0LyoqIFRpbGRlICh+KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfVElMREU6IDE3NiwgXG5cdC8qKiBDb21tYSAoLCkga2V5LiAqL1xuXHRWS19DT01NQTogMTg4LCBcblx0LyoqIFBlcmlvZCAoLikga2V5LiAqL1xuXHRWS19QRVJJT0Q6IDE5MCwgXG5cdC8qKiBTbGFzaCAoLykga2V5LiAqL1xuXHRWS19TTEFTSDogMTkxLCBcblx0LyoqIEJhY2sgdGljayAoYCkga2V5LiAqL1xuXHRWS19CQUNLX1FVT1RFOiAxOTIsIFxuXHQvKiogT3BlbiBzcXVhcmUgYnJhY2tldCAoWykga2V5LiAqL1xuXHRWS19PUEVOX0JSQUNLRVQ6IDIxOSwgXG5cdC8qKiBCYWNrIHNsYXNoIChcXCkga2V5LiAqL1xuXHRWS19CQUNLX1NMQVNIOiAyMjAsIFxuXHQvKiogQ2xvc2Ugc3F1YXJlIGJyYWNrZXQgKF0pIGtleS4gKi9cblx0VktfQ0xPU0VfQlJBQ0tFVDogMjIxLCBcblx0LyoqIFF1b3RlICgnJycpIGtleS4gKi9cblx0VktfUVVPVEU6IDIyMiwgXG5cdC8qKiBNZXRhIGtleSBvbiBMaW51eCwgQ29tbWFuZCBrZXkgb24gTWFjLiAqL1xuXHRWS19NRVRBOiAyMjQsIFxuXHQvKiogQWx0R3Iga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FMVEdSOiAyMjUsIFxuXHQvKiogV2luZG93cyBsb2dvIGtleSBvbiBXaW5kb3dzLiBPciBTdXBlciBvciBIeXBlciBrZXkgb24gTGludXguIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfV0lOOiA5MSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfS0FOQTogMjEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0hBTkdVTDogMjEsIFxuXHQvKiog6Iux5pWwIGtleSBvbiBKYXBhbmVzZSBNYWMga2V5Ym9hcmQuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRUlTVTogMjIsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0pVTkpBOiAyMywgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfRklOQUw6IDI0LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19IQU5KQTogMjUsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0tBTkpJOiAyNSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfQ09OVkVSVDogMjgsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX05PTkNPTlZFUlQ6IDI5LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19BQ0NFUFQ6IDMwLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19NT0RFQ0hBTkdFOiAzMSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfU0VMRUNUOiA0MSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfUFJJTlQ6IDQyLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19FWEVDVVRFOiA0MywgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC5cdCAqL1xuXHRWS19TTEVFUDogOTUgXG59O1xuLyoqXG4gKiBAbmFtZXNwYWNlXG4gKiBDb250YWlucyB0ZXh0IHRva2VuaXphdGlvbiBhbmQgYnJlYWtpbmcgcm91dGluZXNcbiAqL1xuUk9ULlRleHQgPSB7XG5cdFJFX0NPTE9SUzogLyUoW2JjXSl7KFtefV0qKX0vZyxcblxuXHQvKiB0b2tlbiB0eXBlcyAqL1xuXHRUWVBFX1RFWFQ6XHRcdDAsXG5cdFRZUEVfTkVXTElORTpcdDEsXG5cdFRZUEVfRkc6XHRcdDIsXG5cdFRZUEVfQkc6XHRcdDMsXG5cblx0LyoqXG5cdCAqIE1lYXN1cmUgc2l6ZSBvZiBhIHJlc3VsdGluZyB0ZXh0IGJsb2NrXG5cdCAqL1xuXHRtZWFzdXJlOiBmdW5jdGlvbihzdHIsIG1heFdpZHRoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHt3aWR0aDowLCBoZWlnaHQ6MX07XG5cdFx0dmFyIHRva2VucyA9IHRoaXMudG9rZW5pemUoc3RyLCBtYXhXaWR0aCk7XG5cdFx0dmFyIGxpbmVXaWR0aCA9IDA7XG5cblx0XHRmb3IgKHZhciBpPTA7aTx0b2tlbnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIHRva2VuID0gdG9rZW5zW2ldO1xuXHRcdFx0c3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdFx0XHRcdGNhc2UgdGhpcy5UWVBFX1RFWFQ6XG5cdFx0XHRcdFx0bGluZVdpZHRoICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSB0aGlzLlRZUEVfTkVXTElORTpcblx0XHRcdFx0XHRyZXN1bHQuaGVpZ2h0Kys7XG5cdFx0XHRcdFx0cmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuXHRcdFx0XHRcdGxpbmVXaWR0aCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXN1bHQud2lkdGggPSBNYXRoLm1heChyZXN1bHQud2lkdGgsIGxpbmVXaWR0aCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IHN0cmluZyB0byBhIHNlcmllcyBvZiBhIGZvcm1hdHRpbmcgY29tbWFuZHNcblx0ICovXG5cdHRva2VuaXplOiBmdW5jdGlvbihzdHIsIG1heFdpZHRoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0LyogZmlyc3QgdG9rZW5pemF0aW9uIHBhc3MgLSBzcGxpdCB0ZXh0cyBhbmQgY29sb3IgZm9ybWF0dGluZyBjb21tYW5kcyAqL1xuXHRcdHZhciBvZmZzZXQgPSAwO1xuXHRcdHN0ci5yZXBsYWNlKHRoaXMuUkVfQ09MT1JTLCBmdW5jdGlvbihtYXRjaCwgdHlwZSwgbmFtZSwgaW5kZXgpIHtcblx0XHRcdC8qIHN0cmluZyBiZWZvcmUgKi9cblx0XHRcdHZhciBwYXJ0ID0gc3RyLnN1YnN0cmluZyhvZmZzZXQsIGluZGV4KTtcblx0XHRcdGlmIChwYXJ0Lmxlbmd0aCkge1xuXHRcdFx0XHRyZXN1bHQucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9URVhULFxuXHRcdFx0XHRcdHZhbHVlOiBwYXJ0XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBjb2xvciBjb21tYW5kICovXG5cdFx0XHRyZXN1bHQucHVzaCh7XG5cdFx0XHRcdHR5cGU6ICh0eXBlID09IFwiY1wiID8gUk9ULlRleHQuVFlQRV9GRyA6IFJPVC5UZXh0LlRZUEVfQkcpLFxuXHRcdFx0XHR2YWx1ZTogbmFtZS50cmltKClcblx0XHRcdH0pO1xuXG5cdFx0XHRvZmZzZXQgPSBpbmRleCArIG1hdGNoLmxlbmd0aDtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH0pO1xuXG5cdFx0LyogbGFzdCByZW1haW5pbmcgcGFydCAqL1xuXHRcdHZhciBwYXJ0ID0gc3RyLnN1YnN0cmluZyhvZmZzZXQpO1xuXHRcdGlmIChwYXJ0Lmxlbmd0aCkge1xuXHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX1RFWFQsXG5cdFx0XHRcdHZhbHVlOiBwYXJ0XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fYnJlYWtMaW5lcyhyZXN1bHQsIG1heFdpZHRoKTtcblx0fSxcblxuXHQvKiBpbnNlcnQgbGluZSBicmVha3MgaW50byBmaXJzdC1wYXNzIHRva2VuaXplZCBkYXRhICovXG5cdF9icmVha0xpbmVzOiBmdW5jdGlvbih0b2tlbnMsIG1heFdpZHRoKSB7XG5cdFx0aWYgKCFtYXhXaWR0aCkgeyBtYXhXaWR0aCA9IEluZmluaXR5OyB9O1xuXG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciBsaW5lTGVuZ3RoID0gMDtcblx0XHR2YXIgbGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG5cblx0XHR3aGlsZSAoaSA8IHRva2Vucy5sZW5ndGgpIHsgLyogdGFrZSBhbGwgdGV4dCB0b2tlbnMsIHJlbW92ZSBzcGFjZSwgYXBwbHkgbGluZWJyZWFrcyAqL1xuXHRcdFx0dmFyIHRva2VuID0gdG9rZW5zW2ldO1xuXHRcdFx0aWYgKHRva2VuLnR5cGUgPT0gUk9ULlRleHQuVFlQRV9ORVdMSU5FKSB7IC8qIHJlc2V0ICovXG5cdFx0XHRcdGxpbmVMZW5ndGggPSAwOyBcblx0XHRcdFx0bGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAodG9rZW4udHlwZSAhPSBST1QuVGV4dC5UWVBFX1RFWFQpIHsgLyogc2tpcCBub24tdGV4dCB0b2tlbnMgKi9cblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250aW51ZTsgXG5cdFx0XHR9XG5cblx0XHRcdC8qIHJlbW92ZSBzcGFjZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBsaW5lICovXG5cdFx0XHR3aGlsZSAobGluZUxlbmd0aCA9PSAwICYmIHRva2VuLnZhbHVlLmNoYXJBdCgwKSA9PSBcIiBcIikgeyB0b2tlbi52YWx1ZSA9IHRva2VuLnZhbHVlLnN1YnN0cmluZygxKTsgfVxuXG5cdFx0XHQvKiBmb3JjZWQgbmV3bGluZT8gaW5zZXJ0IHR3byBuZXcgdG9rZW5zIGFmdGVyIHRoaXMgb25lICovXG5cdFx0XHR2YXIgaW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiXFxuXCIpO1xuXHRcdFx0aWYgKGluZGV4ICE9IC0xKSB7IFxuXHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBpbmRleCwgdHJ1ZSk7IFxuXG5cdFx0XHRcdC8qIGlmIHRoZXJlIGFyZSBzcGFjZXMgYXQgdGhlIGVuZCwgd2UgbXVzdCByZW1vdmUgdGhlbSAod2UgZG8gbm90IHdhbnQgdGhlIGxpbmUgdG9vIGxvbmcpICovXG5cdFx0XHRcdHZhciBhcnIgPSB0b2tlbi52YWx1ZS5zcGxpdChcIlwiKTtcblx0XHRcdFx0d2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGgtMV0gPT0gXCIgXCIpIHsgYXJyLnBvcCgpOyB9XG5cdFx0XHRcdHRva2VuLnZhbHVlID0gYXJyLmpvaW4oXCJcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8qIHRva2VuIGRlZ2VuZXJhdGVkPyAqL1xuXHRcdFx0aWYgKCF0b2tlbi52YWx1ZS5sZW5ndGgpIHtcblx0XHRcdFx0dG9rZW5zLnNwbGljZShpLCAxKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChsaW5lTGVuZ3RoICsgdG9rZW4udmFsdWUubGVuZ3RoID4gbWF4V2lkdGgpIHsgLyogbGluZSB0b28gbG9uZywgZmluZCBhIHN1aXRhYmxlIGJyZWFraW5nIHNwb3QgKi9cblxuXHRcdFx0XHQvKiBpcyBpdCBwb3NzaWJsZSB0byBicmVhayB3aXRoaW4gdGhpcyB0b2tlbj8gKi9cblx0XHRcdFx0dmFyIGluZGV4ID0gLTE7XG5cdFx0XHRcdHdoaWxlICgxKSB7XG5cdFx0XHRcdFx0dmFyIG5leHRJbmRleCA9IHRva2VuLnZhbHVlLmluZGV4T2YoXCIgXCIsIGluZGV4KzEpO1xuXHRcdFx0XHRcdGlmIChuZXh0SW5kZXggPT0gLTEpIHsgYnJlYWs7IH1cblx0XHRcdFx0XHRpZiAobGluZUxlbmd0aCArIG5leHRJbmRleCA+IG1heFdpZHRoKSB7IGJyZWFrOyB9XG5cdFx0XHRcdFx0aW5kZXggPSBuZXh0SW5kZXg7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaW5kZXggIT0gLTEpIHsgLyogYnJlYWsgYXQgc3BhY2Ugd2l0aGluIHRoaXMgb25lICovXG5cdFx0XHRcdFx0dG9rZW4udmFsdWUgPSB0aGlzLl9icmVha0luc2lkZVRva2VuKHRva2VucywgaSwgaW5kZXgsIHRydWUpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGxhc3RUb2tlbldpdGhTcGFjZSAhPSAtMSkgeyAvKiBpcyB0aGVyZSBhIHByZXZpb3VzIHRva2VuIHdoZXJlIGEgYnJlYWsgY2FuIG9jY3VyPyAqL1xuXHRcdFx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tsYXN0VG9rZW5XaXRoU3BhY2VdO1xuXHRcdFx0XHRcdHZhciBicmVha0luZGV4ID0gdG9rZW4udmFsdWUubGFzdEluZGV4T2YoXCIgXCIpO1xuXHRcdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGxhc3RUb2tlbldpdGhTcGFjZSwgYnJlYWtJbmRleCwgdHJ1ZSk7XG5cdFx0XHRcdFx0aSA9IGxhc3RUb2tlbldpdGhTcGFjZTtcblx0XHRcdFx0fSBlbHNlIHsgLyogZm9yY2UgYnJlYWsgaW4gdGhpcyB0b2tlbiAqL1xuXHRcdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIG1heFdpZHRoLWxpbmVMZW5ndGgsIGZhbHNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgeyAvKiBsaW5lIG5vdCBsb25nLCBjb250aW51ZSAqL1xuXHRcdFx0XHRsaW5lTGVuZ3RoICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcblx0XHRcdFx0aWYgKHRva2VuLnZhbHVlLmluZGV4T2YoXCIgXCIpICE9IC0xKSB7IGxhc3RUb2tlbldpdGhTcGFjZSA9IGk7IH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aSsrOyAvKiBhZHZhbmNlIHRvIG5leHQgdG9rZW4gKi9cblx0XHR9XG5cblxuXHRcdHRva2Vucy5wdXNoKHt0eXBlOiBST1QuVGV4dC5UWVBFX05FV0xJTkV9KTsgLyogaW5zZXJ0IGZha2UgbmV3bGluZSB0byBmaXggdGhlIGxhc3QgdGV4dCBsaW5lICovXG5cblx0XHQvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgZnJvbSB0ZXh0IHRva2VucyBiZWZvcmUgbmV3bGluZXMgKi9cblx0XHR2YXIgbGFzdFRleHRUb2tlbiA9IG51bGw7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dG9rZW5zLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfVEVYVDogbGFzdFRleHRUb2tlbiA9IHRva2VuOyBicmVhaztcblx0XHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX05FV0xJTkU6IFxuXHRcdFx0XHRcdGlmIChsYXN0VGV4dFRva2VuKSB7IC8qIHJlbW92ZSB0cmFpbGluZyBzcGFjZSAqL1xuXHRcdFx0XHRcdFx0dmFyIGFyciA9IGxhc3RUZXh0VG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG5cdFx0XHRcdFx0XHR3aGlsZSAoYXJyLmxlbmd0aCAmJiBhcnJbYXJyLmxlbmd0aC0xXSA9PSBcIiBcIikgeyBhcnIucG9wKCk7IH1cblx0XHRcdFx0XHRcdGxhc3RUZXh0VG9rZW4udmFsdWUgPSBhcnIuam9pbihcIlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGFzdFRleHRUb2tlbiA9IG51bGw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRva2Vucy5wb3AoKTsgLyogcmVtb3ZlIGZha2UgdG9rZW4gKi9cblxuXHRcdHJldHVybiB0b2tlbnM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENyZWF0ZSBuZXcgdG9rZW5zIGFuZCBpbnNlcnQgdGhlbSBpbnRvIHRoZSBzdHJlYW1cblx0ICogQHBhcmFtIHtvYmplY3RbXX0gdG9rZW5zXG5cdCAqIEBwYXJhbSB7aW50fSB0b2tlbkluZGV4IFRva2VuIGJlaW5nIHByb2Nlc3NlZFxuXHQgKiBAcGFyYW0ge2ludH0gYnJlYWtJbmRleCBJbmRleCB3aXRoaW4gY3VycmVudCB0b2tlbidzIHZhbHVlXG5cdCAqIEBwYXJhbSB7Ym9vbH0gcmVtb3ZlQnJlYWtDaGFyIERvIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBicmVha2luZyBjaGFyYWN0ZXI/XG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IHJlbWFpbmluZyB1bmJyb2tlbiB0b2tlbiB2YWx1ZVxuXHQgKi9cblx0X2JyZWFrSW5zaWRlVG9rZW46IGZ1bmN0aW9uKHRva2VucywgdG9rZW5JbmRleCwgYnJlYWtJbmRleCwgcmVtb3ZlQnJlYWtDaGFyKSB7XG5cdFx0dmFyIG5ld0JyZWFrVG9rZW4gPSB7XG5cdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX05FV0xJTkVcblx0XHR9XG5cdFx0dmFyIG5ld1RleHRUb2tlbiA9IHtcblx0XHRcdHR5cGU6IFJPVC5UZXh0LlRZUEVfVEVYVCxcblx0XHRcdHZhbHVlOiB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWUuc3Vic3RyaW5nKGJyZWFrSW5kZXggKyAocmVtb3ZlQnJlYWtDaGFyID8gMSA6IDApKVxuXHRcdH1cblx0XHR0b2tlbnMuc3BsaWNlKHRva2VuSW5kZXgrMSwgMCwgbmV3QnJlYWtUb2tlbiwgbmV3VGV4dFRva2VuKTtcblx0XHRyZXR1cm4gdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZygwLCBicmVha0luZGV4KTtcblx0fVxufVxuLyoqXG4gKiBAcmV0dXJucyB7YW55fSBSYW5kb21seSBwaWNrZWQgaXRlbSwgbnVsbCB3aGVuIGxlbmd0aD0wXG4gKi9cbkFycmF5LnByb3RvdHlwZS5yYW5kb20gPSBBcnJheS5wcm90b3R5cGUucmFuZG9tIHx8IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHJldHVybiB0aGlzW01hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkgKiB0aGlzLmxlbmd0aCldO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHthcnJheX0gTmV3IGFycmF5IHdpdGggcmFuZG9taXplZCBpdGVtc1xuICogRklYTUUgZGVzdHJveXMgdGhpcyFcbiAqL1xuQXJyYXkucHJvdG90eXBlLnJhbmRvbWl6ZSA9IEFycmF5LnByb3RvdHlwZS5yYW5kb21pemUgfHwgZnVuY3Rpb24oKSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0d2hpbGUgKHRoaXMubGVuZ3RoKSB7XG5cdFx0dmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKHRoaXMucmFuZG9tKCkpO1xuXHRcdHJlc3VsdC5wdXNoKHRoaXMuc3BsaWNlKGluZGV4LCAxKVswXSk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQWx3YXlzIHBvc2l0aXZlIG1vZHVsdXNcbiAqIEBwYXJhbSB7aW50fSBuIE1vZHVsdXNcbiAqIEByZXR1cm5zIHtpbnR9IHRoaXMgbW9kdWxvIG5cbiAqL1xuTnVtYmVyLnByb3RvdHlwZS5tb2QgPSBOdW1iZXIucHJvdG90eXBlLm1vZCB8fCBmdW5jdGlvbihuKSB7XG5cdHJldHVybiAoKHRoaXMlbikrbiklbjtcbn1cbi8qKlxuICogQHJldHVybnMge3N0cmluZ30gRmlyc3QgbGV0dGVyIGNhcGl0YWxpemVkXG4gKi9cblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSA9IFN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSB8fCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZygxKTtcbn1cblxuLyoqIFxuICogTGVmdCBwYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcmFjdGVyPVwiMFwiXVxuICogQHBhcmFtIHtpbnR9IFtjb3VudD0yXVxuICovXG5TdHJpbmcucHJvdG90eXBlLmxwYWQgPSBTdHJpbmcucHJvdG90eXBlLmxwYWQgfHwgZnVuY3Rpb24oY2hhcmFjdGVyLCBjb3VudCkge1xuXHR2YXIgY2ggPSBjaGFyYWN0ZXIgfHwgXCIwXCI7XG5cdHZhciBjbnQgPSBjb3VudCB8fCAyO1xuXG5cdHZhciBzID0gXCJcIjtcblx0d2hpbGUgKHMubGVuZ3RoIDwgKGNudCAtIHRoaXMubGVuZ3RoKSkgeyBzICs9IGNoOyB9XG5cdHMgPSBzLnN1YnN0cmluZygwLCBjbnQtdGhpcy5sZW5ndGgpO1xuXHRyZXR1cm4gcyt0aGlzO1xufVxuXG4vKiogXG4gKiBSaWdodCBwYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcmFjdGVyPVwiMFwiXVxuICogQHBhcmFtIHtpbnR9IFtjb3VudD0yXVxuICovXG5TdHJpbmcucHJvdG90eXBlLnJwYWQgPSBTdHJpbmcucHJvdG90eXBlLnJwYWQgfHwgZnVuY3Rpb24oY2hhcmFjdGVyLCBjb3VudCkge1xuXHR2YXIgY2ggPSBjaGFyYWN0ZXIgfHwgXCIwXCI7XG5cdHZhciBjbnQgPSBjb3VudCB8fCAyO1xuXG5cdHZhciBzID0gXCJcIjtcblx0d2hpbGUgKHMubGVuZ3RoIDwgKGNudCAtIHRoaXMubGVuZ3RoKSkgeyBzICs9IGNoOyB9XG5cdHMgPSBzLnN1YnN0cmluZygwLCBjbnQtdGhpcy5sZW5ndGgpO1xuXHRyZXR1cm4gdGhpcytzO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBpbiBhIGZsZXhpYmxlIHdheS4gU2NhbnMgZm9yICVzIHN0cmluZ3MgYW5kIHJlcGxhY2VzIHRoZW0gd2l0aCBhcmd1bWVudHMuIExpc3Qgb2YgcGF0dGVybnMgaXMgbW9kaWZpYWJsZSB2aWEgU3RyaW5nLmZvcm1hdC5tYXAuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVcbiAqIEBwYXJhbSB7YW55fSBbYXJndl1cbiAqL1xuU3RyaW5nLmZvcm1hdCA9IFN0cmluZy5mb3JtYXQgfHwgZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0dmFyIG1hcCA9IFN0cmluZy5mb3JtYXQubWFwO1xuXHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cblx0dmFyIHJlcGxhY2VyID0gZnVuY3Rpb24obWF0Y2gsIGdyb3VwMSwgZ3JvdXAyLCBpbmRleCkge1xuXHRcdGlmICh0ZW1wbGF0ZS5jaGFyQXQoaW5kZXgtMSkgPT0gXCIlXCIpIHsgcmV0dXJuIG1hdGNoLnN1YnN0cmluZygxKTsgfVxuXHRcdGlmICghYXJncy5sZW5ndGgpIHsgcmV0dXJuIG1hdGNoOyB9XG5cdFx0dmFyIG9iaiA9IGFyZ3NbMF07XG5cblx0XHR2YXIgZ3JvdXAgPSBncm91cDEgfHwgZ3JvdXAyO1xuXHRcdHZhciBwYXJ0cyA9IGdyb3VwLnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgbmFtZSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIG1ldGhvZCA9IG1hcFtuYW1lLnRvTG93ZXJDYXNlKCldO1xuXHRcdGlmICghbWV0aG9kKSB7IHJldHVybiBtYXRjaDsgfVxuXG5cdFx0dmFyIG9iaiA9IGFyZ3Muc2hpZnQoKTtcblx0XHR2YXIgcmVwbGFjZWQgPSBvYmpbbWV0aG9kXS5hcHBseShvYmosIHBhcnRzKTtcblxuXHRcdHZhciBmaXJzdCA9IG5hbWUuY2hhckF0KDApO1xuXHRcdGlmIChmaXJzdCAhPSBmaXJzdC50b0xvd2VyQ2FzZSgpKSB7IHJlcGxhY2VkID0gcmVwbGFjZWQuY2FwaXRhbGl6ZSgpOyB9XG5cblx0XHRyZXR1cm4gcmVwbGFjZWQ7XG5cdH1cblx0cmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoLyUoPzooW2Etel0rKXwoPzp7KFtefV0rKX0pKS9naSwgcmVwbGFjZXIpO1xufVxuXG5TdHJpbmcuZm9ybWF0Lm1hcCA9IFN0cmluZy5mb3JtYXQubWFwIHx8IHtcblx0XCJzXCI6IFwidG9TdHJpbmdcIlxufVxuXG4vKipcbiAqIENvbnZlbmllbmNlIHNob3J0Y3V0IHRvIFN0cmluZy5mb3JtYXQodGhpcylcbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQgPSBTdHJpbmcucHJvdG90eXBlLmZvcm1hdCB8fCBmdW5jdGlvbigpIHtcblx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHRhcmdzLnVuc2hpZnQodGhpcyk7XG5cdHJldHVybiBTdHJpbmcuZm9ybWF0LmFwcGx5KFN0cmluZywgYXJncyk7XG59XG5cbmlmICghT2JqZWN0LmNyZWF0ZSkgeyAgXG5cdC8qKlxuXHQgKiBFUzUgT2JqZWN0LmNyZWF0ZVxuXHQgKi9cblx0T2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uKG8pIHsgIFxuXHRcdHZhciB0bXAgPSBmdW5jdGlvbigpIHt9O1xuXHRcdHRtcC5wcm90b3R5cGUgPSBvO1xuXHRcdHJldHVybiBuZXcgdG1wKCk7XG5cdH07ICBcbn0gIFxuLyoqXG4gKiBTZXRzIHByb3RvdHlwZSBvZiB0aGlzIGZ1bmN0aW9uIHRvIGFuIGluc3RhbmNlIG9mIHBhcmVudCBmdW5jdGlvblxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFyZW50XG4gKi9cbkZ1bmN0aW9uLnByb3RvdHlwZS5leHRlbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuZXh0ZW5kIHx8IGZ1bmN0aW9uKHBhcmVudCkge1xuXHR0aGlzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG5cdHRoaXMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdGhpcztcblx0cmV0dXJuIHRoaXM7XG59XG5pZiAodHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPVxuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgZnVuY3Rpb24oY2IpIHsgcmV0dXJuIHNldFRpbWVvdXQoY2IsIDEwMDAvNjApOyB9O1xuXG5cdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9XG5cdFx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgZnVuY3Rpb24oaWQpIHsgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7IH07XG59XG4vKipcbiAqIEBjbGFzcyBWaXN1YWwgbWFwIGRpc3BsYXlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy53aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5oZWlnaHQ9Uk9ULkRFRkFVTFRfSEVJR0hUXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLmZvbnRTaXplPTE1XVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZvbnRGYW1pbHk9XCJtb25vc3BhY2VcIl1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb250U3R5bGU9XCJcIl0gYm9sZC9pdGFsaWMvbm9uZS9ib3RoXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZmc9XCIjY2NjXCJdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmc9XCIjMDAwXCJdXG4gKiBAcGFyYW0ge2Zsb2F0fSBbb3B0aW9ucy5zcGFjaW5nPTFdXG4gKiBAcGFyYW0ge2Zsb2F0fSBbb3B0aW9ucy5ib3JkZXI9MF1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYXlvdXQ9XCJyZWN0XCJdXG4gKiBAcGFyYW0ge2Jvb2x9IFtvcHRpb25zLmZvcmNlU3F1YXJlUmF0aW89ZmFsc2VdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudGlsZVdpZHRoPTMyXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRpbGVIZWlnaHQ9MzJdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudGlsZU1hcD17fV1cbiAqIEBwYXJhbSB7aW1hZ2V9IFtvcHRpb25zLnRpbGVTZXQ9bnVsbF1cbiAqIEBwYXJhbSB7aW1hZ2V9IFtvcHRpb25zLnRpbGVDb2xvcml6ZT1mYWxzZV1cbiAqL1xuUk9ULkRpc3BsYXkgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHR0aGlzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0dGhpcy5fZGF0YSA9IHt9O1xuXHR0aGlzLl9kaXJ0eSA9IGZhbHNlOyAvKiBmYWxzZSA9IG5vdGhpbmcsIHRydWUgPSBhbGwsIG9iamVjdCA9IGRpcnR5IGNlbGxzICovXG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcblx0dGhpcy5fYmFja2VuZCA9IG51bGw7XG5cdFxuXHR2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG5cdFx0d2lkdGg6IFJPVC5ERUZBVUxUX1dJRFRILFxuXHRcdGhlaWdodDogUk9ULkRFRkFVTFRfSEVJR0hULFxuXHRcdHRyYW5zcG9zZTogZmFsc2UsXG5cdFx0bGF5b3V0OiBcInJlY3RcIixcblx0XHRmb250U2l6ZTogMTUsXG5cdFx0c3BhY2luZzogMSxcblx0XHRib3JkZXI6IDAsXG5cdFx0Zm9yY2VTcXVhcmVSYXRpbzogZmFsc2UsXG5cdFx0Zm9udEZhbWlseTogXCJtb25vc3BhY2VcIixcblx0XHRmb250U3R5bGU6IFwiXCIsXG5cdFx0Zmc6IFwiI2NjY1wiLFxuXHRcdGJnOiBcIiMwMDBcIixcblx0XHR0aWxlV2lkdGg6IDMyLFxuXHRcdHRpbGVIZWlnaHQ6IDMyLFxuXHRcdHRpbGVNYXA6IHt9LFxuXHRcdHRpbGVTZXQ6IG51bGwsXG5cdFx0dGlsZUNvbG9yaXplOiBmYWxzZSxcblx0XHR0ZXJtQ29sb3I6IFwieHRlcm1cIlxuXHR9O1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgZGVmYXVsdE9wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdHRoaXMuc2V0T3B0aW9ucyhkZWZhdWx0T3B0aW9ucyk7XG5cdHRoaXMuREVCVUcgPSB0aGlzLkRFQlVHLmJpbmQodGhpcyk7XG5cblx0dGhpcy5fdGljayA9IHRoaXMuX3RpY2suYmluZCh0aGlzKTtcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xufVxuXG4vKipcbiAqIERlYnVnIGhlbHBlciwgaWRlYWwgYXMgYSBtYXAgZ2VuZXJhdG9yIGNhbGxiYWNrLiBBbHdheXMgYm91bmQgdG8gdGhpcy5cbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IHdoYXRcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLkRFQlVHID0gZnVuY3Rpb24oeCwgeSwgd2hhdCkge1xuXHR2YXIgY29sb3JzID0gW3RoaXMuX29wdGlvbnMuYmcsIHRoaXMuX29wdGlvbnMuZmddO1xuXHR0aGlzLmRyYXcoeCwgeSwgbnVsbCwgbnVsbCwgY29sb3JzW3doYXQgJSBjb2xvcnMubGVuZ3RoXSk7XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIHdob2xlIGRpc3BsYXkgKGNvdmVyIGl0IHdpdGggYmFja2dyb3VuZCBjb2xvcilcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fZGlydHkgPSB0cnVlO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULkRpc3BsYXlcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRpZiAob3B0aW9ucy53aWR0aCB8fCBvcHRpb25zLmhlaWdodCB8fCBvcHRpb25zLmZvbnRTaXplIHx8IG9wdGlvbnMuZm9udEZhbWlseSB8fCBvcHRpb25zLnNwYWNpbmcgfHwgb3B0aW9ucy5sYXlvdXQpIHtcblx0XHRpZiAob3B0aW9ucy5sYXlvdXQpIHsgXG5cdFx0XHR0aGlzLl9iYWNrZW5kID0gbmV3IFJPVC5EaXNwbGF5W29wdGlvbnMubGF5b3V0LmNhcGl0YWxpemUoKV0odGhpcy5fY29udGV4dCk7XG5cdFx0fVxuXG5cdFx0dmFyIGZvbnQgPSAodGhpcy5fb3B0aW9ucy5mb250U3R5bGUgPyB0aGlzLl9vcHRpb25zLmZvbnRTdHlsZSArIFwiIFwiIDogXCJcIikgKyB0aGlzLl9vcHRpb25zLmZvbnRTaXplICsgXCJweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcblx0XHR0aGlzLl9jb250ZXh0LmZvbnQgPSBmb250O1xuXHRcdHRoaXMuX2JhY2tlbmQuY29tcHV0ZSh0aGlzLl9vcHRpb25zKTtcblx0XHR0aGlzLl9jb250ZXh0LmZvbnQgPSBmb250O1xuXHRcdHRoaXMuX2NvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblx0XHR0aGlzLl9jb250ZXh0LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG5cdFx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJldHVybnMgY3VycmVudGx5IHNldCBvcHRpb25zXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBDdXJyZW50IG9wdGlvbnMgb2JqZWN0IFxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fb3B0aW9ucztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBET00gbm9kZSBvZiB0aGlzIGRpc3BsYXlcbiAqIEByZXR1cm5zIHtub2RlfSBET00gbm9kZVxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9jb250ZXh0LmNhbnZhcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBtYXhpbXVtIHdpZHRoL2hlaWdodCB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICogQHBhcmFtIHtpbnR9IGF2YWlsV2lkdGggTWF4aW11bSBhbGxvd2VkIHBpeGVsIHdpZHRoXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxIZWlnaHQgTWF4aW11bSBhbGxvd2VkIHBpeGVsIGhlaWdodFxuICogQHJldHVybnMge2ludFsyXX0gY2VsbFdpZHRoLGNlbGxIZWlnaHRcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0cmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQsIHRoaXMuX29wdGlvbnMpO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdGhlIG1heGltdW0gZm9udCBzaXplIHRvIGZpdCBpbnRvIGEgc2V0IG9mIGdpdmVuIGNvbnN0cmFpbnRzXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxXaWR0aCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgd2lkdGhcbiAqIEBwYXJhbSB7aW50fSBhdmFpbEhlaWdodCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgaGVpZ2h0XG4gKiBAcmV0dXJucyB7aW50fSBmb250U2l6ZVxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0cmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgRE9NIGV2ZW50IChtb3VzZSBvciB0b3VjaCkgdG8gbWFwIGNvb3JkaW5hdGVzLiBVc2VzIGZpcnN0IHRvdWNoIGZvciBtdWx0aS10b3VjaC5cbiAqIEBwYXJhbSB7RXZlbnR9IGUgZXZlbnRcbiAqIEByZXR1cm5zIHtpbnRbMl19IC0xIGZvciB2YWx1ZXMgb3V0c2lkZSBvZiB0aGUgY2FudmFzXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbihlKSB7XG5cdGlmIChlLnRvdWNoZXMpIHtcblx0XHR2YXIgeCA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuXHRcdHZhciB5ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHggPSBlLmNsaWVudFg7XG5cdFx0dmFyIHkgPSBlLmNsaWVudFk7XG5cdH1cblxuXHR2YXIgcmVjdCA9IHRoaXMuX2NvbnRleHQuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHR4IC09IHJlY3QubGVmdDtcblx0eSAtPSByZWN0LnRvcDtcblx0XG5cdGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoIHx8IHkgPj0gdGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0KSB7IHJldHVybiBbLTEsIC0xXTsgfVxuXG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmV2ZW50VG9Qb3NpdGlvbih4LCB5KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7c3RyaW5nIHx8IHN0cmluZ1tdfSBjaCBPbmUgb3IgbW9yZSBjaGFycyAod2lsbCBiZSBvdmVybGFwcGluZyB0aGVtc2VsdmVzKVxuICogQHBhcmFtIHtzdHJpbmd9IFtmZ10gZm9yZWdyb3VuZCBjb2xvclxuICogQHBhcmFtIHtzdHJpbmd9IFtiZ10gYmFja2dyb3VuZCBjb2xvclxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKHgsIHksIGNoLCBmZywgYmcpIHtcblx0aWYgKCFmZykgeyBmZyA9IHRoaXMuX29wdGlvbnMuZmc7IH1cblx0aWYgKCFiZykgeyBiZyA9IHRoaXMuX29wdGlvbnMuYmc7IH1cblx0dGhpcy5fZGF0YVt4K1wiLFwiK3ldID0gW3gsIHksIGNoLCBmZywgYmddO1xuXHRcblx0aWYgKHRoaXMuX2RpcnR5ID09PSB0cnVlKSB7IHJldHVybjsgfSAvKiB3aWxsIGFscmVhZHkgcmVkcmF3IGV2ZXJ5dGhpbmcgKi9cblx0aWYgKCF0aGlzLl9kaXJ0eSkgeyB0aGlzLl9kaXJ0eSA9IHt9OyB9IC8qIGZpcnN0ISAqL1xuXHR0aGlzLl9kaXJ0eVt4K1wiLFwiK3ldID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBEcmF3cyBhIHRleHQgYXQgZ2l2ZW4gcG9zaXRpb24uIE9wdGlvbmFsbHkgd3JhcHMgYXQgYSBtYXhpbXVtIGxlbmd0aC4gQ3VycmVudGx5IGRvZXMgbm90IHdvcmsgd2l0aCBoZXggbGF5b3V0LlxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBNYXkgY29udGFpbiBjb2xvci9iYWNrZ3JvdW5kIGZvcm1hdCBzcGVjaWZpZXJzLCAlY3tuYW1lfS8lYntuYW1lfSwgYm90aCBvcHRpb25hbC4gJWN7fS8lYnt9IHJlc2V0cyB0byBkZWZhdWx0LlxuICogQHBhcmFtIHtpbnR9IFttYXhXaWR0aF0gd3JhcCBhdCB3aGF0IHdpZHRoP1xuICogQHJldHVybnMge2ludH0gbGluZXMgZHJhd25cbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24oeCwgeSwgdGV4dCwgbWF4V2lkdGgpIHtcblx0dmFyIGZnID0gbnVsbDtcblx0dmFyIGJnID0gbnVsbDtcblx0dmFyIGN4ID0geDtcblx0dmFyIGN5ID0geTtcblx0dmFyIGxpbmVzID0gMTtcblx0aWYgKCFtYXhXaWR0aCkgeyBtYXhXaWR0aCA9IHRoaXMuX29wdGlvbnMud2lkdGgteDsgfVxuXG5cdHZhciB0b2tlbnMgPSBST1QuVGV4dC50b2tlbml6ZSh0ZXh0LCBtYXhXaWR0aCk7XG5cblx0d2hpbGUgKHRva2Vucy5sZW5ndGgpIHsgLyogaW50ZXJwcmV0IHRva2VuaXplZCBvcGNvZGUgc3RyZWFtICovXG5cdFx0dmFyIHRva2VuID0gdG9rZW5zLnNoaWZ0KCk7XG5cdFx0c3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfVEVYVDpcblx0XHRcdFx0dmFyIGlzU3BhY2UgPSBmYWxzZSwgaXNQcmV2U3BhY2UgPSBmYWxzZSwgaXNGdWxsV2lkdGggPSBmYWxzZSwgaXNQcmV2RnVsbFdpZHRoID0gZmFsc2U7XG5cdFx0XHRcdGZvciAodmFyIGk9MDtpPHRva2VuLnZhbHVlLmxlbmd0aDtpKyspIHtcblx0XHRcdFx0XHR2YXIgY2MgPSB0b2tlbi52YWx1ZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRcdHZhciBjID0gdG9rZW4udmFsdWUuY2hhckF0KGkpO1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB0byBgdHJ1ZWAgd2hlbiB0aGUgY3VycmVudCBjaGFyIGlzIGZ1bGwtd2lkdGguXG5cdFx0XHRcdFx0aXNGdWxsV2lkdGggPSAoY2MgPiAweGZmICYmIGNjIDwgMHhmZjYxKSB8fCAoY2MgPiAweGZmZGMgJiYgY2MgPCAweGZmZTgpICYmIGNjID4gMHhmZmVlO1xuXHRcdFx0XHRcdC8vIEN1cnJlbnQgY2hhciBpcyBzcGFjZSwgd2hhdGV2ZXIgZnVsbC13aWR0aCBvciBoYWxmLXdpZHRoIGJvdGggYXJlIE9LLlxuXHRcdFx0XHRcdGlzU3BhY2UgPSAoYy5jaGFyQ29kZUF0KDApID09IDB4MjAgfHwgYy5jaGFyQ29kZUF0KDApID09IDB4MzAwMCk7XG5cdFx0XHRcdFx0Ly8gVGhlIHByZXZpb3VzIGNoYXIgaXMgZnVsbC13aWR0aCBhbmRcblx0XHRcdFx0XHQvLyBjdXJyZW50IGNoYXIgaXMgbmV0aGVyIGhhbGYtd2lkdGggbm9yIGEgc3BhY2UuXG5cdFx0XHRcdFx0aWYgKGlzUHJldkZ1bGxXaWR0aCAmJiAhaXNGdWxsV2lkdGggJiYgIWlzU3BhY2UpIHsgY3grKzsgfSAvLyBhZGQgYW4gZXh0cmEgcG9zaXRpb25cblx0XHRcdFx0XHQvLyBUaGUgY3VycmVudCBjaGFyIGlzIGZ1bGwtd2lkdGggYW5kXG5cdFx0XHRcdFx0Ly8gdGhlIHByZXZpb3VzIGNoYXIgaXMgbm90IGEgc3BhY2UuXG5cdFx0XHRcdFx0aWYoaXNGdWxsV2lkdGggJiYgIWlzUHJldlNwYWNlKSB7IGN4Kys7IH0gLy8gYWRkIGFuIGV4dHJhIHBvc2l0aW9uXG5cdFx0XHRcdFx0dGhpcy5kcmF3KGN4KyssIGN5LCBjLCBmZywgYmcpO1xuXHRcdFx0XHRcdGlzUHJldlNwYWNlID0gaXNTcGFjZTtcblx0XHRcdFx0XHRpc1ByZXZGdWxsV2lkdGggPSBpc0Z1bGxXaWR0aDtcblx0XHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9GRzpcblx0XHRcdFx0ZmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9CRzpcblx0XHRcdFx0YmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9ORVdMSU5FOlxuXHRcdFx0XHRjeCA9IHg7XG5cdFx0XHRcdGN5Kys7XG5cdFx0XHRcdGxpbmVzKytcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBsaW5lcztcbn1cblxuLyoqXG4gKiBUaW1lciB0aWNrOiB1cGRhdGUgZGlydHkgcGFydHNcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLl90aWNrID0gZnVuY3Rpb24oKSB7XG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcblxuXHRpZiAoIXRoaXMuX2RpcnR5KSB7IHJldHVybjsgfVxuXG5cdGlmICh0aGlzLl9kaXJ0eSA9PT0gdHJ1ZSkgeyAvKiBkcmF3IGFsbCAqL1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fb3B0aW9ucy5iZztcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoLCB0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xuXG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fZGF0YSkgeyAvKiByZWRyYXcgY2FjaGVkIGRhdGEgKi9cblx0XHRcdHRoaXMuX2RyYXcoaWQsIGZhbHNlKTtcblx0XHR9XG5cblx0fSBlbHNlIHsgLyogZHJhdyBvbmx5IGRpcnR5ICovXG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX2RpcnR5KSB7XG5cdFx0XHR0aGlzLl9kcmF3KGtleSwgdHJ1ZSk7XG5cdFx0fVxuXHR9XG5cblx0dGhpcy5fZGlydHkgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFdoYXQgdG8gZHJhd1xuICogQHBhcmFtIHtib29sfSBjbGVhckJlZm9yZSBJcyBpdCBuZWNlc3NhcnkgdG8gY2xlYW4gYmVmb3JlP1xuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuX2RyYXcgPSBmdW5jdGlvbihrZXksIGNsZWFyQmVmb3JlKSB7XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXHRpZiAoZGF0YVs0XSAhPSB0aGlzLl9vcHRpb25zLmJnKSB7IGNsZWFyQmVmb3JlID0gdHJ1ZTsgfVxuXG5cdHRoaXMuX2JhY2tlbmQuZHJhdyhkYXRhLCBjbGVhckJlZm9yZSk7XG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBkaXNwbGF5IGJhY2tlbmQgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5CYWNrZW5kID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHR0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xufVxuLyoqXG4gKiBAY2xhc3MgUmVjdGFuZ3VsYXIgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuUmVjdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuQmFja2VuZC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXHRcblx0dGhpcy5fc3BhY2luZ1ggPSAwO1xuXHR0aGlzLl9zcGFjaW5nWSA9IDA7XG5cdHRoaXMuX2NhbnZhc0NhY2hlID0ge307XG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcbn1cblJPVC5EaXNwbGF5LlJlY3QuZXh0ZW5kKFJPVC5EaXNwbGF5LkJhY2tlbmQpO1xuXG5ST1QuRGlzcGxheS5SZWN0LmNhY2hlID0gZmFsc2U7XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMuX2NhbnZhc0NhY2hlID0ge307XG5cdHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG5cdHZhciBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuXHR0aGlzLl9zcGFjaW5nWCA9IE1hdGguY2VpbChvcHRpb25zLnNwYWNpbmcgKiBjaGFyV2lkdGgpO1xuXHR0aGlzLl9zcGFjaW5nWSA9IE1hdGguY2VpbChvcHRpb25zLnNwYWNpbmcgKiBvcHRpb25zLmZvbnRTaXplKTtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5mb3JjZVNxdWFyZVJhdGlvKSB7XG5cdFx0dGhpcy5fc3BhY2luZ1ggPSB0aGlzLl9zcGFjaW5nWSA9IE1hdGgubWF4KHRoaXMuX3NwYWNpbmdYLCB0aGlzLl9zcGFjaW5nWSk7XG5cdH1cblxuXHR0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCA9IG9wdGlvbnMud2lkdGggKiB0aGlzLl9zcGFjaW5nWDtcblx0dGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKiB0aGlzLl9zcGFjaW5nWTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdGlmICh0aGlzLmNvbnN0cnVjdG9yLmNhY2hlKSB7XG5cdFx0dGhpcy5fZHJhd1dpdGhDYWNoZShkYXRhLCBjbGVhckJlZm9yZSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5fZHJhd05vQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpO1xuXHR9XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLl9kcmF3V2l0aENhY2hlID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0dmFyIGhhc2ggPSBcIlwiK2NoK2ZnK2JnO1xuXHRpZiAoaGFzaCBpbiB0aGlzLl9jYW52YXNDYWNoZSkge1xuXHRcdHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXNDYWNoZVtoYXNoXTtcblx0fSBlbHNlIHtcblx0XHR2YXIgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuXHRcdHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHRcdHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdGNhbnZhcy53aWR0aCA9IHRoaXMuX3NwYWNpbmdYO1xuXHRcdGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9zcGFjaW5nWTtcblx0XHRjdHguZmlsbFN0eWxlID0gYmc7XG5cdFx0Y3R4LmZpbGxSZWN0KGIsIGIsIGNhbnZhcy53aWR0aC1iLCBjYW52YXMuaGVpZ2h0LWIpO1xuXHRcdFxuXHRcdGlmIChjaCkge1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGZnO1xuXHRcdFx0Y3R4LmZvbnQgPSB0aGlzLl9jb250ZXh0LmZvbnQ7XG5cdFx0XHRjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblx0XHRcdGN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuXG5cdFx0XHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRcdFx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdFx0XHRjdHguZmlsbFRleHQoY2hhcnNbaV0sIHRoaXMuX3NwYWNpbmdYLzIsIE1hdGguY2VpbCh0aGlzLl9zcGFjaW5nWS8yKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuX2NhbnZhc0NhY2hlW2hhc2hdID0gY2FudmFzO1xuXHR9XG5cdFxuXHR0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIHgqdGhpcy5fc3BhY2luZ1gsIHkqdGhpcy5fc3BhY2luZ1kpO1xufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5fZHJhd05vQ2FjaGUgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHRpZiAoY2xlYXJCZWZvcmUpIHsgXG5cdFx0dmFyIGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoeCp0aGlzLl9zcGFjaW5nWCArIGIsIHkqdGhpcy5fc3BhY2luZ1kgKyBiLCB0aGlzLl9zcGFjaW5nWCAtIGIsIHRoaXMuX3NwYWNpbmdZIC0gYik7XG5cdH1cblx0XG5cdGlmICghY2gpIHsgcmV0dXJuOyB9XG5cblx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBmZztcblxuXHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRmb3IgKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsVGV4dChjaGFyc1tpXSwgKHgrMC41KSAqIHRoaXMuX3NwYWNpbmdYLCBNYXRoLmNlaWwoKHkrMC41KSAqIHRoaXMuX3NwYWNpbmdZKSk7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCk7XG5cdHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fc3BhY2luZ1kpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgYm94V2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLndpZHRoKTtcblx0dmFyIGJveEhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG5cblx0LyogY29tcHV0ZSBjaGFyIHJhdGlvICovXG5cdHZhciBvbGRGb250ID0gdGhpcy5fY29udGV4dC5mb250O1xuXHR0aGlzLl9jb250ZXh0LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuXHR2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuXHR0aGlzLl9jb250ZXh0LmZvbnQgPSBvbGRGb250O1xuXHR2YXIgcmF0aW8gPSB3aWR0aCAvIDEwMDtcblx0XHRcblx0dmFyIHdpZHRoRnJhY3Rpb24gPSByYXRpbyAqIGJveEhlaWdodCAvIGJveFdpZHRoO1xuXHRpZiAod2lkdGhGcmFjdGlvbiA+IDEpIHsgLyogdG9vIHdpZGUgd2l0aCBjdXJyZW50IGFzcGVjdCByYXRpbyAqL1xuXHRcdGJveEhlaWdodCA9IE1hdGguZmxvb3IoYm94SGVpZ2h0IC8gd2lkdGhGcmFjdGlvbik7XG5cdH1cblx0cmV0dXJuIE1hdGguZmxvb3IoYm94SGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5zcGFjaW5nKTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gW01hdGguZmxvb3IoeC90aGlzLl9zcGFjaW5nWCksIE1hdGguZmxvb3IoeS90aGlzLl9zcGFjaW5nWSldO1xufVxuLyoqXG4gKiBAY2xhc3MgSGV4YWdvbmFsIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LkhleCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuQmFja2VuZC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXG5cdHRoaXMuX3NwYWNpbmdYID0gMDtcblx0dGhpcy5fc3BhY2luZ1kgPSAwO1xuXHR0aGlzLl9oZXhTaXplID0gMDtcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xufVxuUk9ULkRpc3BsYXkuSGV4LmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuXHQvKiBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzICovXG5cdHZhciBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuXHR0aGlzLl9oZXhTaXplID0gTWF0aC5mbG9vcihvcHRpb25zLnNwYWNpbmcgKiAob3B0aW9ucy5mb250U2l6ZSArIGNoYXJXaWR0aC9NYXRoLnNxcnQoMykpIC8gMik7XG5cdHRoaXMuX3NwYWNpbmdYID0gdGhpcy5faGV4U2l6ZSAqIE1hdGguc3FydCgzKSAvIDI7XG5cdHRoaXMuX3NwYWNpbmdZID0gdGhpcy5faGV4U2l6ZSAqIDEuNTtcblxuXHRpZiAob3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHR2YXIgeHByb3AgPSBcImhlaWdodFwiO1xuXHRcdHZhciB5cHJvcCA9IFwid2lkdGhcIjtcblx0fSBlbHNlIHtcblx0XHR2YXIgeHByb3AgPSBcIndpZHRoXCI7XG5cdFx0dmFyIHlwcm9wID0gXCJoZWlnaHRcIjtcblx0fVxuXHR0aGlzLl9jb250ZXh0LmNhbnZhc1t4cHJvcF0gPSBNYXRoLmNlaWwoIChvcHRpb25zLndpZHRoICsgMSkgKiB0aGlzLl9zcGFjaW5nWCApO1xuXHR0aGlzLl9jb250ZXh0LmNhbnZhc1t5cHJvcF0gPSBNYXRoLmNlaWwoIChvcHRpb25zLmhlaWdodCAtIDEpICogdGhpcy5fc3BhY2luZ1kgKyAyKnRoaXMuX2hleFNpemUgKTtcbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0dmFyIHB4ID0gW1xuXHRcdCh4KzEpICogdGhpcy5fc3BhY2luZ1gsXG5cdFx0eSAqIHRoaXMuX3NwYWNpbmdZICsgdGhpcy5faGV4U2l6ZVxuXHRdO1xuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHsgcHgucmV2ZXJzZSgpOyB9XG5cblx0aWYgKGNsZWFyQmVmb3JlKSB7IFxuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0dGhpcy5fZmlsbChweFswXSwgcHhbMV0pO1xuXHR9XG5cdFxuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFRleHQoY2hhcnNbaV0sIHB4WzBdLCBNYXRoLmNlaWwocHhbMV0pKTtcblx0fVxufVxuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0YXZhaWxXaWR0aCArPSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbEhlaWdodCA9IGF2YWlsV2lkdGggLSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuXHR9XG5cblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fc3BhY2luZ1gpIC0gMTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoKGF2YWlsSGVpZ2h0IC0gMip0aGlzLl9oZXhTaXplKSAvIHRoaXMuX3NwYWNpbmdZICsgMSk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0YXZhaWxXaWR0aCArPSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbEhlaWdodCA9IGF2YWlsV2lkdGggLSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuXHR9XG5cblx0dmFyIGhleFNpemVXaWR0aCA9IDIqYXZhaWxXaWR0aCAvICgodGhpcy5fb3B0aW9ucy53aWR0aCsxKSAqIE1hdGguc3FydCgzKSkgLSAxO1xuXHR2YXIgaGV4U2l6ZUhlaWdodCA9IGF2YWlsSGVpZ2h0IC8gKDIgKyAxLjUqKHRoaXMuX29wdGlvbnMuaGVpZ2h0LTEpKTtcblx0dmFyIGhleFNpemUgPSBNYXRoLm1pbihoZXhTaXplV2lkdGgsIGhleFNpemVIZWlnaHQpO1xuXG5cdC8qIGNvbXB1dGUgY2hhciByYXRpbyAqL1xuXHR2YXIgb2xkRm9udCA9IHRoaXMuX2NvbnRleHQuZm9udDtcblx0dGhpcy5fY29udGV4dC5mb250ID0gXCIxMDBweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcblx0dmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fY29udGV4dC5mb250ID0gb2xkRm9udDtcblx0dmFyIHJhdGlvID0gd2lkdGggLyAxMDA7XG5cblx0aGV4U2l6ZSA9IE1hdGguZmxvb3IoaGV4U2l6ZSkrMTsgLyogY2xvc2VzdCBsYXJnZXIgaGV4U2l6ZSAqL1xuXG5cdC8qIEZJWE1FIGNoYXIgc2l6ZSBjb21wdXRhdGlvbiBkb2VzIG5vdCByZXNwZWN0IHRyYW5zcG9zZWQgaGV4ZXMgKi9cblx0dmFyIGZvbnRTaXplID0gMipoZXhTaXplIC8gKHRoaXMuX29wdGlvbnMuc3BhY2luZyAqICgxICsgcmF0aW8gLyBNYXRoLnNxcnQoMykpKTtcblxuXHQvKiBjbG9zZXN0IHNtYWxsZXIgZm9udFNpemUgKi9cblx0cmV0dXJuIE1hdGguY2VpbChmb250U2l6ZSktMTtcbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdHggKz0geTtcblx0XHR5ID0geC15O1xuXHRcdHggLT0geTtcblx0XHR2YXIgcHJvcCA9IFwid2lkdGhcIjtcblx0fSBlbHNlIHtcblx0XHR2YXIgcHJvcCA9IFwiaGVpZ2h0XCI7XG5cdH1cblx0dmFyIHNpemUgPSB0aGlzLl9jb250ZXh0LmNhbnZhc1twcm9wXSAvIHRoaXMuX29wdGlvbnNbcHJvcF07XG5cdHkgPSBNYXRoLmZsb29yKHkvc2l6ZSk7XG5cblx0aWYgKHkubW9kKDIpKSB7IC8qIG9kZCByb3cgKi9cblx0XHR4IC09IHRoaXMuX3NwYWNpbmdYO1xuXHRcdHggPSAxICsgMipNYXRoLmZsb29yKHgvKDIqdGhpcy5fc3BhY2luZ1gpKTtcblx0fSBlbHNlIHtcblx0XHR4ID0gMipNYXRoLmZsb29yKHgvKDIqdGhpcy5fc3BhY2luZ1gpKTtcblx0fVxuXHRcblx0cmV0dXJuIFt4LCB5XTtcbn1cblxuLyoqXG4gKiBBcmd1bWVudHMgYXJlIHBpeGVsIHZhbHVlcy4gSWYgXCJ0cmFuc3Bvc2VkXCIgbW9kZSBpcyBlbmFibGVkLCB0aGVuIHRoZXNlIHR3byBhcmUgYWxyZWFkeSBzd2FwcGVkLlxuICovXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLl9maWxsID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciBhID0gdGhpcy5faGV4U2l6ZTtcblx0dmFyIGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcblx0XG5cdHRoaXMuX2NvbnRleHQuYmVnaW5QYXRoKCk7XG5cblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0dGhpcy5fY29udGV4dC5tb3ZlVG8oY3gtYStiLFx0Y3kpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LWEvMitiLFx0Y3krdGhpcy5fc3BhY2luZ1gtYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grYS8yLWIsXHRjeSt0aGlzLl9zcGFjaW5nWC1iKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCthLWIsXHRjeSk7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grYS8yLWIsXHRjeS10aGlzLl9zcGFjaW5nWCtiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hLzIrYixcdGN5LXRoaXMuX3NwYWNpbmdYK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LWErYixcdGN5KTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLl9jb250ZXh0Lm1vdmVUbyhjeCxcdFx0XHRcdFx0Y3ktYStiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCt0aGlzLl9zcGFjaW5nWC1iLFx0Y3ktYS8yK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K3RoaXMuX3NwYWNpbmdYLWIsXHRjeSthLzItYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gsXHRcdFx0XHRcdGN5K2EtYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtdGhpcy5fc3BhY2luZ1grYixcdGN5K2EvMi1iKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC10aGlzLl9zcGFjaW5nWCtiLFx0Y3ktYS8yK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LFx0XHRcdFx0XHRjeS1hK2IpO1xuXHR9XG5cdHRoaXMuX2NvbnRleHQuZmlsbCgpO1xufVxuLyoqXG4gKiBAY2xhc3MgVGlsZSBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5UaWxlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRST1QuRGlzcGxheS5SZWN0LmNhbGwodGhpcywgY29udGV4dCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge307XG5cdHRoaXMuX2NvbG9yQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbn1cblJPVC5EaXNwbGF5LlRpbGUuZXh0ZW5kKFJPVC5EaXNwbGF5LlJlY3QpO1xuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblx0dGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggPSBvcHRpb25zLndpZHRoICogb3B0aW9ucy50aWxlV2lkdGg7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy50aWxlSGVpZ2h0O1xuXHR0aGlzLl9jb2xvckNhbnZhcy53aWR0aCA9IG9wdGlvbnMudGlsZVdpZHRoO1xuXHR0aGlzLl9jb2xvckNhbnZhcy5oZWlnaHQgPSBvcHRpb25zLnRpbGVIZWlnaHQ7XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHR2YXIgdGlsZVdpZHRoID0gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGg7XG5cdHZhciB0aWxlSGVpZ2h0ID0gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0O1xuXG5cdGlmIChjbGVhckJlZm9yZSkge1xuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRpbGVDb2xvcml6ZSkge1xuXHRcdFx0dGhpcy5fY29udGV4dC5jbGVhclJlY3QoeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0XHRcdHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgdGlsZSA9IHRoaXMuX29wdGlvbnMudGlsZU1hcFtjaGFyc1tpXV07XG5cdFx0aWYgKCF0aWxlKSB7IHRocm93IG5ldyBFcnJvcihcIkNoYXIgJ1wiICsgY2hhcnNbaV0gKyBcIicgbm90IGZvdW5kIGluIHRpbGVNYXBcIik7IH1cblx0XHRcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHsgLyogYXBwbHkgY29sb3JpemF0aW9uICovXG5cdFx0XHR2YXIgY2FudmFzID0gdGhpcy5fY29sb3JDYW52YXM7XG5cdFx0XHR2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0XHRjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXG5cdFx0XHRjb250ZXh0LmRyYXdJbWFnZShcblx0XHRcdFx0dGhpcy5fb3B0aW9ucy50aWxlU2V0LFxuXHRcdFx0XHR0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsXG5cdFx0XHRcdDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodFxuXHRcdFx0KTtcblxuXHRcdFx0aWYgKGZnICE9IFwidHJhbnNwYXJlbnRcIikge1xuXHRcdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXHRcdFx0XHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWF0b3BcIjtcblx0XHRcdFx0Y29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0XHRcdGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzLCB4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXG5cdFx0fSBlbHNlIHsgLyogbm8gY29sb3JpemluZywgZWFzeSAqL1xuXHRcdFx0dGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoXG5cdFx0XHRcdHRoaXMuX29wdGlvbnMudGlsZVNldCxcblx0XHRcdFx0dGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuXHRcdFx0XHR4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHRcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMuaGVpZ2h0KTtcblx0cmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbn1cblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gW01hdGguZmxvb3IoeC90aGlzLl9vcHRpb25zLnRpbGVXaWR0aCksIE1hdGguZmxvb3IoeS90aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpXTtcbn1cbi8qKlxuICogQG5hbWVzcGFjZVxuICogVGhpcyBjb2RlIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIEFsZWEgYWxnb3JpdGhtOyAoQykgMjAxMCBKb2hhbm5lcyBCYWFnw7hlLlxuICogQWxlYSBpcyBsaWNlbnNlZCBhY2NvcmRpbmcgdG8gdGhlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTUlUX0xpY2Vuc2UuXG4gKi9cblJPVC5STkcgPSB7XG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfSBcblx0ICovXG5cdGdldFNlZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZWVkO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc2VlZCBTZWVkIHRoZSBudW1iZXIgZ2VuZXJhdG9yXG5cdCAqL1xuXHRzZXRTZWVkOiBmdW5jdGlvbihzZWVkKSB7XG5cdFx0c2VlZCA9IChzZWVkIDwgMSA/IDEvc2VlZCA6IHNlZWQpO1xuXG5cdFx0dGhpcy5fc2VlZCA9IHNlZWQ7XG5cdFx0dGhpcy5fczAgPSAoc2VlZCA+Pj4gMCkgKiB0aGlzLl9mcmFjO1xuXG5cdFx0c2VlZCA9IChzZWVkKjY5MDY5ICsgMSkgPj4+IDA7XG5cdFx0dGhpcy5fczEgPSBzZWVkICogdGhpcy5fZnJhYztcblxuXHRcdHNlZWQgPSAoc2VlZCo2OTA2OSArIDEpID4+PiAwO1xuXHRcdHRoaXMuX3MyID0gc2VlZCAqIHRoaXMuX2ZyYWM7XG5cblx0XHR0aGlzLl9jID0gMTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvKipcblx0ICogQHJldHVybnMge2Zsb2F0fSBQc2V1ZG9yYW5kb20gdmFsdWUgWzAsMSksIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuXHQgKi9cblx0Z2V0VW5pZm9ybTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHQgPSAyMDkxNjM5ICogdGhpcy5fczAgKyB0aGlzLl9jICogdGhpcy5fZnJhYztcblx0XHR0aGlzLl9zMCA9IHRoaXMuX3MxO1xuXHRcdHRoaXMuX3MxID0gdGhpcy5fczI7XG5cdFx0dGhpcy5fYyA9IHQgfCAwO1xuXHRcdHRoaXMuX3MyID0gdCAtIHRoaXMuX2M7XG5cdFx0cmV0dXJuIHRoaXMuX3MyO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ludH0gbG93ZXJCb3VuZCBUaGUgbG93ZXIgZW5kIG9mIHRoZSByYW5nZSB0byByZXR1cm4gYSB2YWx1ZSBmcm9tLCBpbmNsdXNpdmVcblx0ICogQHBhcmFtIHtpbnR9IHVwcGVyQm91bmQgVGhlIHVwcGVyIGVuZCBvZiB0aGUgcmFuZ2UgdG8gcmV0dXJuIGEgdmFsdWUgZnJvbSwgaW5jbHVzaXZlXG5cdCAqIEByZXR1cm5zIHtpbnR9IFBzZXVkb3JhbmRvbSB2YWx1ZSBbbG93ZXJCb3VuZCwgdXBwZXJCb3VuZF0sIHVzaW5nIFJPVC5STkcuZ2V0VW5pZm9ybSgpIHRvIGRpc3RyaWJ1dGUgdGhlIHZhbHVlXG5cdCAqL1xuXHRnZXRVbmlmb3JtSW50OiBmdW5jdGlvbihsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG5cdFx0dmFyIG1heCA9IE1hdGgubWF4KGxvd2VyQm91bmQsIHVwcGVyQm91bmQpO1xuXHRcdHZhciBtaW4gPSBNYXRoLm1pbihsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG5cdH0sXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFttZWFuPTBdIE1lYW4gdmFsdWVcblx0ICogQHBhcmFtIHtmbG9hdH0gW3N0ZGRldj0xXSBTdGFuZGFyZCBkZXZpYXRpb24uIH45NSUgb2YgdGhlIGFic29sdXRlIHZhbHVlcyB3aWxsIGJlIGxvd2VyIHRoYW4gMipzdGRkZXYuXG5cdCAqIEByZXR1cm5zIHtmbG9hdH0gQSBub3JtYWxseSBkaXN0cmlidXRlZCBwc2V1ZG9yYW5kb20gdmFsdWVcblx0ICovXG5cdGdldE5vcm1hbDogZnVuY3Rpb24obWVhbiwgc3RkZGV2KSB7XG5cdFx0ZG8ge1xuXHRcdFx0dmFyIHUgPSAyKnRoaXMuZ2V0VW5pZm9ybSgpLTE7XG5cdFx0XHR2YXIgdiA9IDIqdGhpcy5nZXRVbmlmb3JtKCktMTtcblx0XHRcdHZhciByID0gdSp1ICsgdip2O1xuXHRcdH0gd2hpbGUgKHIgPiAxIHx8IHIgPT0gMCk7XG5cblx0XHR2YXIgZ2F1c3MgPSB1ICogTWF0aC5zcXJ0KC0yKk1hdGgubG9nKHIpL3IpO1xuXHRcdHJldHVybiAobWVhbiB8fCAwKSArIGdhdXNzKihzdGRkZXYgfHwgMSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHtpbnR9IFBzZXVkb3JhbmRvbSB2YWx1ZSBbMSwxMDBdIGluY2x1c2l2ZSwgdW5pZm9ybWx5IGRpc3RyaWJ1dGVkXG5cdCAqL1xuXHRnZXRQZXJjZW50YWdlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gMSArIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkqMTAwKTtcblx0fSxcblx0XG5cdC8qKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBrZXk9d2hhdGV2ZXIsIHZhbHVlPXdlaWdodCAocmVsYXRpdmUgcHJvYmFiaWxpdHkpXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IHdoYXRldmVyXG5cdCAqL1xuXHRnZXRXZWlnaHRlZFZhbHVlOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dmFyIHRvdGFsID0gMDtcblx0XHRcblx0XHRmb3IgKHZhciBpZCBpbiBkYXRhKSB7XG5cdFx0XHR0b3RhbCArPSBkYXRhW2lkXTtcblx0XHR9XG5cdFx0dmFyIHJhbmRvbSA9IHRoaXMuZ2V0VW5pZm9ybSgpKnRvdGFsO1xuXHRcdFxuXHRcdHZhciBwYXJ0ID0gMDtcblx0XHRmb3IgKHZhciBpZCBpbiBkYXRhKSB7XG5cdFx0XHRwYXJ0ICs9IGRhdGFbaWRdO1xuXHRcdFx0aWYgKHJhbmRvbSA8IHBhcnQpIHsgcmV0dXJuIGlkOyB9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYnkgc29tZSBmbG9hdGluZy1wb2ludCBhbm5veWFuY2Ugd2UgaGF2ZVxuXHRcdC8vIHJhbmRvbSA+PSB0b3RhbCwganVzdCByZXR1cm4gdGhlIGxhc3QgaWQuXG5cdFx0cmV0dXJuIGlkO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgUk5HIHN0YXRlLiBVc2VmdWwgZm9yIHN0b3JpbmcgdGhlIHN0YXRlIGFuZCByZS1zZXR0aW5nIGl0IHZpYSBzZXRTdGF0ZS5cblx0ICogQHJldHVybnMgez99IEludGVybmFsIHN0YXRlXG5cdCAqL1xuXHRnZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFt0aGlzLl9zMCwgdGhpcy5fczEsIHRoaXMuX3MyLCB0aGlzLl9jXTtcblx0fSxcblxuXHQvKipcblx0ICogU2V0IGEgcHJldmlvdXNseSByZXRyaWV2ZWQgc3RhdGUuXG5cdCAqIEBwYXJhbSB7P30gc3RhdGVcblx0ICovXG5cdHNldFN0YXRlOiBmdW5jdGlvbihzdGF0ZSkge1xuXHRcdHRoaXMuX3MwID0gc3RhdGVbMF07XG5cdFx0dGhpcy5fczEgPSBzdGF0ZVsxXTtcblx0XHR0aGlzLl9zMiA9IHN0YXRlWzJdO1xuXHRcdHRoaXMuX2MgID0gc3RhdGVbM107XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZWQgUk5HXG5cdCAqL1xuXHRjbG9uZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNsb25lID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcblx0XHRjbG9uZS5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlKCkpO1xuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRfczA6IDAsXG5cdF9zMTogMCxcblx0X3MyOiAwLFxuXHRfYzogMCxcblx0X2ZyYWM6IDIuMzI4MzA2NDM2NTM4Njk2M2UtMTAgLyogMl4tMzIgKi9cbn1cblxuUk9ULlJORy5zZXRTZWVkKERhdGUubm93KCkpO1xuLyoqXG4gKiBAY2xhc3MgKE1hcmtvdiBwcm9jZXNzKS1iYXNlZCBzdHJpbmcgZ2VuZXJhdG9yLiBcbiAqIENvcGllZCBmcm9tIGEgPGEgaHJlZj1cImh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPU5hbWVzX2Zyb21fYV9oaWdoX29yZGVyX01hcmtvdl9Qcm9jZXNzX2FuZF9hX3NpbXBsaWZpZWRfS2F0el9iYWNrLW9mZl9zY2hlbWVcIj5Sb2d1ZUJhc2luIGFydGljbGU8L2E+LiBcbiAqIE9mZmVycyBjb25maWd1cmFibGUgb3JkZXIgYW5kIHByaW9yLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy53b3Jkcz1mYWxzZV0gVXNlIHdvcmQgbW9kZT9cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5vcmRlcj0zXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMucHJpb3I9MC4wMDFdXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0d29yZHM6IGZhbHNlLFxuXHRcdG9yZGVyOiAzLFxuXHRcdHByaW9yOiAwLjAwMVxuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXG5cdHRoaXMuX2JvdW5kYXJ5ID0gU3RyaW5nLmZyb21DaGFyQ29kZSgwKTtcblx0dGhpcy5fc3VmZml4ID0gdGhpcy5fYm91bmRhcnk7XG5cdHRoaXMuX3ByZWZpeCA9IFtdO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9vcHRpb25zLm9yZGVyO2krKykgeyB0aGlzLl9wcmVmaXgucHVzaCh0aGlzLl9ib3VuZGFyeSk7IH1cblxuXHR0aGlzLl9wcmlvclZhbHVlcyA9IHt9O1xuXHR0aGlzLl9wcmlvclZhbHVlc1t0aGlzLl9ib3VuZGFyeV0gPSB0aGlzLl9vcHRpb25zLnByaW9yO1xuXG5cdHRoaXMuX2RhdGEgPSB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxlYXJuaW5nIGRhdGFcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fZGF0YSA9IHt9O1xuXHR0aGlzLl9wcmlvclZhbHVlcyA9IHt9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEdlbmVyYXRlZCBzdHJpbmdcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbigpIHtcblx0dmFyIHJlc3VsdCA9IFt0aGlzLl9zYW1wbGUodGhpcy5fcHJlZml4KV07XG5cdHdoaWxlIChyZXN1bHRbcmVzdWx0Lmxlbmd0aC0xXSAhPSB0aGlzLl9ib3VuZGFyeSkge1xuXHRcdHJlc3VsdC5wdXNoKHRoaXMuX3NhbXBsZShyZXN1bHQpKTtcblx0fVxuXHRyZXR1cm4gdGhpcy5fam9pbihyZXN1bHQuc2xpY2UoMCwgLTEpKTtcbn1cblxuLyoqXG4gKiBPYnNlcnZlIChsZWFybikgYSBzdHJpbmcgZnJvbSBhIHRyYWluaW5nIHNldFxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24oc3RyaW5nKSB7XG5cdHZhciB0b2tlbnMgPSB0aGlzLl9zcGxpdChzdHJpbmcpO1xuXG5cdGZvciAodmFyIGk9MDsgaTx0b2tlbnMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzLl9wcmlvclZhbHVlc1t0b2tlbnNbaV1dID0gdGhpcy5fb3B0aW9ucy5wcmlvcjtcblx0fVxuXG5cdHRva2VucyA9IHRoaXMuX3ByZWZpeC5jb25jYXQodG9rZW5zKS5jb25jYXQodGhpcy5fc3VmZml4KTsgLyogYWRkIGJvdW5kYXJ5IHN5bWJvbHMgKi9cblxuXHRmb3IgKHZhciBpPXRoaXMuX29wdGlvbnMub3JkZXI7IGk8dG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGNvbnRleHQgPSB0b2tlbnMuc2xpY2UoaS10aGlzLl9vcHRpb25zLm9yZGVyLCBpKTtcblx0XHR2YXIgZXZlbnQgPSB0b2tlbnNbaV07XG5cdFx0Zm9yICh2YXIgaj0wOyBqPGNvbnRleHQubGVuZ3RoOyBqKyspIHtcblx0XHRcdHZhciBzdWJjb250ZXh0ID0gY29udGV4dC5zbGljZShqKTtcblx0XHRcdHRoaXMuX29ic2VydmVFdmVudChzdWJjb250ZXh0LCBldmVudCk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBwYXJ0cyA9IFtdO1xuXG5cdHZhciBwcmlvckNvdW50ID0gMDtcblx0Zm9yICh2YXIgcCBpbiB0aGlzLl9wcmlvclZhbHVlcykgeyBwcmlvckNvdW50Kys7IH1cblx0cHJpb3JDb3VudC0tOyAvKiBib3VuZGFyeSAqL1xuXHRwYXJ0cy5wdXNoKFwiZGlzdGluY3Qgc2FtcGxlczogXCIgKyBwcmlvckNvdW50KTtcblxuXHR2YXIgZGF0YUNvdW50ID0gMDtcblx0dmFyIGV2ZW50Q291bnQgPSAwO1xuXHRmb3IgKHZhciBwIGluIHRoaXMuX2RhdGEpIHsgXG5cdFx0ZGF0YUNvdW50Kys7IFxuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9kYXRhW3BdKSB7XG5cdFx0XHRldmVudENvdW50Kys7XG5cdFx0fVxuXHR9XG5cdHBhcnRzLnB1c2goXCJkaWN0aW9uYXJ5IHNpemUgKGNvbnRleHRzKTogXCIgKyBkYXRhQ291bnQpO1xuXHRwYXJ0cy5wdXNoKFwiZGljdGlvbmFyeSBzaXplIChldmVudHMpOiBcIiArIGV2ZW50Q291bnQpO1xuXG5cdHJldHVybiBwYXJ0cy5qb2luKFwiLCBcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9XG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9zcGxpdCA9IGZ1bmN0aW9uKHN0cikge1xuXHRyZXR1cm4gc3RyLnNwbGl0KHRoaXMuX29wdGlvbnMud29yZHMgPyAvXFxzKy8gOiBcIlwiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfVxuICogQHJldHVybnMge3N0cmluZ30gXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9qb2luID0gZnVuY3Rpb24oYXJyKSB7XG5cdHJldHVybiBhcnIuam9pbih0aGlzLl9vcHRpb25zLndvcmRzID8gXCIgXCIgOiBcIlwiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjb250ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuX29ic2VydmVFdmVudCA9IGZ1bmN0aW9uKGNvbnRleHQsIGV2ZW50KSB7XG5cdHZhciBrZXkgPSB0aGlzLl9qb2luKGNvbnRleHQpO1xuXHRpZiAoIShrZXkgaW4gdGhpcy5fZGF0YSkpIHsgdGhpcy5fZGF0YVtrZXldID0ge307IH1cblx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhW2tleV07XG5cblx0aWYgKCEoZXZlbnQgaW4gZGF0YSkpIHsgZGF0YVtldmVudF0gPSAwOyB9XG5cdGRhdGFbZXZlbnRdKys7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX1cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9zYW1wbGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdGNvbnRleHQgPSB0aGlzLl9iYWNrb2ZmKGNvbnRleHQpO1xuXHR2YXIga2V5ID0gdGhpcy5fam9pbihjb250ZXh0KTtcblx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhW2tleV07XG5cblx0dmFyIGF2YWlsYWJsZSA9IHt9O1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLnByaW9yKSB7XG5cdFx0Zm9yICh2YXIgZXZlbnQgaW4gdGhpcy5fcHJpb3JWYWx1ZXMpIHsgYXZhaWxhYmxlW2V2ZW50XSA9IHRoaXMuX3ByaW9yVmFsdWVzW2V2ZW50XTsgfVxuXHRcdGZvciAodmFyIGV2ZW50IGluIGRhdGEpIHsgYXZhaWxhYmxlW2V2ZW50XSArPSBkYXRhW2V2ZW50XTsgfVxuXHR9IGVsc2UgeyBcblx0XHRhdmFpbGFibGUgPSBkYXRhO1xuXHR9XG5cblx0cmV0dXJuIFJPVC5STkcuZ2V0V2VpZ2h0ZWRWYWx1ZShhdmFpbGFibGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119XG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9iYWNrb2ZmID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRpZiAoY29udGV4dC5sZW5ndGggPiB0aGlzLl9vcHRpb25zLm9yZGVyKSB7XG5cdFx0Y29udGV4dCA9IGNvbnRleHQuc2xpY2UoLXRoaXMuX29wdGlvbnMub3JkZXIpO1xuXHR9IGVsc2UgaWYgKGNvbnRleHQubGVuZ3RoIDwgdGhpcy5fb3B0aW9ucy5vcmRlcikge1xuXHRcdGNvbnRleHQgPSB0aGlzLl9wcmVmaXguc2xpY2UoMCwgdGhpcy5fb3B0aW9ucy5vcmRlciAtIGNvbnRleHQubGVuZ3RoKS5jb25jYXQoY29udGV4dCk7XG5cdH1cblxuXHR3aGlsZSAoISh0aGlzLl9qb2luKGNvbnRleHQpIGluIHRoaXMuX2RhdGEpICYmIGNvbnRleHQubGVuZ3RoID4gMCkgeyBjb250ZXh0ID0gY29udGV4dC5zbGljZSgxKTsgfVxuXG5cdHJldHVybiBjb250ZXh0O1xufVxuLyoqXG4gKiBAY2xhc3MgR2VuZXJpYyBldmVudCBxdWV1ZTogc3RvcmVzIGV2ZW50cyBhbmQgcmV0cmlldmVzIHRoZW0gYmFzZWQgb24gdGhlaXIgdGltZVxuICovXG5ST1QuRXZlbnRRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl90aW1lID0gMDtcblx0dGhpcy5fZXZlbnRzID0gW107XG5cdHRoaXMuX2V2ZW50VGltZXMgPSBbXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBFbGFwc2VkIHRpbWVcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLmdldFRpbWUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3RpbWU7XG59XG5cbi8qKlxuICogQ2xlYXIgYWxsIHNjaGVkdWxlZCBldmVudHNcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2V2ZW50cyA9IFtdO1xuXHR0aGlzLl9ldmVudFRpbWVzID0gW107XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7P30gZXZlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihldmVudCwgdGltZSkge1xuXHR2YXIgaW5kZXggPSB0aGlzLl9ldmVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9ldmVudFRpbWVzLmxlbmd0aDtpKyspIHtcblx0XHRpZiAodGhpcy5fZXZlbnRUaW1lc1tpXSA+IHRpbWUpIHtcblx0XHRcdGluZGV4ID0gaTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHRoaXMuX2V2ZW50cy5zcGxpY2UoaW5kZXgsIDAsIGV2ZW50KTtcblx0dGhpcy5fZXZlbnRUaW1lcy5zcGxpY2UoaW5kZXgsIDAsIHRpbWUpO1xufVxuXG4vKipcbiAqIExvY2F0ZXMgdGhlIG5lYXJlc3QgZXZlbnQsIGFkdmFuY2VzIHRpbWUgaWYgbmVjZXNzYXJ5LiBSZXR1cm5zIHRoYXQgZXZlbnQgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgcXVldWUuXG4gKiBAcmV0dXJucyB7PyB8fCBudWxsfSBUaGUgZXZlbnQgcHJldmlvdXNseSBhZGRlZCBieSBhZGRFdmVudCwgbnVsbCBpZiBubyBldmVudCBhdmFpbGFibGVcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMuX2V2ZW50cy5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH1cblxuXHR2YXIgdGltZSA9IHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKDAsIDEpWzBdO1xuXHRpZiAodGltZSA+IDApIHsgLyogYWR2YW5jZSAqL1xuXHRcdHRoaXMuX3RpbWUgKz0gdGltZTtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl9ldmVudFRpbWVzLmxlbmd0aDtpKyspIHsgdGhpcy5fZXZlbnRUaW1lc1tpXSAtPSB0aW1lOyB9XG5cdH1cblxuXHRyZXR1cm4gdGhpcy5fZXZlbnRzLnNwbGljZSgwLCAxKVswXTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYW4gZXZlbnQgZnJvbSB0aGUgcXVldWVcbiAqIEBwYXJhbSB7P30gZXZlbnRcbiAqIEByZXR1cm5zIHtib29sfSBzdWNjZXNzP1xuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0dmFyIGluZGV4ID0gdGhpcy5fZXZlbnRzLmluZGV4T2YoZXZlbnQpO1xuXHRpZiAoaW5kZXggPT0gLTEpIHsgcmV0dXJuIGZhbHNlIH1cblx0dGhpcy5fcmVtb3ZlKGluZGV4KTtcblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFuIGV2ZW50IGZyb20gdGhlIHF1ZXVlXG4gKiBAcGFyYW0ge2ludH0gaW5kZXhcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLl9yZW1vdmUgPSBmdW5jdGlvbihpbmRleCkge1xuXHR0aGlzLl9ldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcblx0dGhpcy5fZXZlbnRUaW1lcy5zcGxpY2UoaW5kZXgsIDEpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3Qgc2NoZWR1bGVyXG4gKi9cblJPVC5TY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fcXVldWUgPSBuZXcgUk9ULkV2ZW50UXVldWUoKTtcblx0dGhpcy5fcmVwZWF0ID0gW107XG5cdHRoaXMuX2N1cnJlbnQgPSBudWxsO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULkV2ZW50UXVldWUjZ2V0VGltZVxuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9xdWV1ZS5nZXRUaW1lKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHs/fSBpdGVtXG4gKiBAcGFyYW0ge2Jvb2x9IHJlcGVhdFxuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihpdGVtLCByZXBlYXQpIHtcblx0aWYgKHJlcGVhdCkgeyB0aGlzLl9yZXBlYXQucHVzaChpdGVtKTsgfVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDbGVhciBhbGwgaXRlbXNcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fcXVldWUuY2xlYXIoKTtcblx0dGhpcy5fcmVwZWF0ID0gW107XG5cdHRoaXMuX2N1cnJlbnQgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBwcmV2aW91c2x5IGFkZGVkIGl0ZW1cbiAqIEBwYXJhbSB7P30gaXRlbVxuICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3NmdWw/XG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0dmFyIHJlc3VsdCA9IHRoaXMuX3F1ZXVlLnJlbW92ZShpdGVtKTtcblxuXHR2YXIgaW5kZXggPSB0aGlzLl9yZXBlYXQuaW5kZXhPZihpdGVtKTtcblx0aWYgKGluZGV4ICE9IC0xKSB7IHRoaXMuX3JlcGVhdC5zcGxpY2UoaW5kZXgsIDEpOyB9XG5cblx0aWYgKHRoaXMuX2N1cnJlbnQgPT0gaXRlbSkgeyB0aGlzLl9jdXJyZW50ID0gbnVsbDsgfVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGUgbmV4dCBpdGVtXG4gKiBAcmV0dXJucyB7P31cbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9jdXJyZW50ID0gdGhpcy5fcXVldWUuZ2V0KCk7XG5cdHJldHVybiB0aGlzLl9jdXJyZW50O1xufVxuLyoqXG4gKiBAY2xhc3MgU2ltcGxlIGZhaXIgc2NoZWR1bGVyIChyb3VuZC1yb2JpbiBzdHlsZSlcbiAqIEBhdWdtZW50cyBST1QuU2NoZWR1bGVyXG4gKi9cblJPVC5TY2hlZHVsZXIuU2ltcGxlID0gZnVuY3Rpb24oKSB7XG5cdFJPVC5TY2hlZHVsZXIuY2FsbCh0aGlzKTtcbn1cblJPVC5TY2hlZHVsZXIuU2ltcGxlLmV4dGVuZChST1QuU2NoZWR1bGVyKTtcblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjYWRkXG4gKi9cblJPVC5TY2hlZHVsZXIuU2ltcGxlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihpdGVtLCByZXBlYXQpIHtcblx0dGhpcy5fcXVldWUuYWRkKGl0ZW0sIDApO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjbmV4dFxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5fY3VycmVudCAmJiB0aGlzLl9yZXBlYXQuaW5kZXhPZih0aGlzLl9jdXJyZW50KSAhPSAtMSkge1xuXHRcdHRoaXMuX3F1ZXVlLmFkZCh0aGlzLl9jdXJyZW50LCAwKTtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuLyoqXG4gKiBAY2xhc3MgU3BlZWQtYmFzZWQgc2NoZWR1bGVyXG4gKiBAYXVnbWVudHMgUk9ULlNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyLlNwZWVkID0gZnVuY3Rpb24oKSB7XG5cdFJPVC5TY2hlZHVsZXIuY2FsbCh0aGlzKTtcbn1cblJPVC5TY2hlZHVsZXIuU3BlZWQuZXh0ZW5kKFJPVC5TY2hlZHVsZXIpO1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIGFueXRoaW5nIHdpdGggXCJnZXRTcGVlZFwiIG1ldGhvZFxuICogQHBhcmFtIHtib29sfSByZXBlYXRcbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAqL1xuUk9ULlNjaGVkdWxlci5TcGVlZC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdHRoaXMuX3F1ZXVlLmFkZChpdGVtLCAxL2l0ZW0uZ2V0U3BlZWQoKSk7XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBpdGVtLCByZXBlYXQpO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNuZXh0XG4gKi9cblJPVC5TY2hlZHVsZXIuU3BlZWQucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgMS90aGlzLl9jdXJyZW50LmdldFNwZWVkKCkpO1xuXHR9XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyk7XG59XG4vKipcbiAqIEBjbGFzcyBBY3Rpb24tYmFzZWQgc2NoZWR1bGVyXG4gKiBAYXVnbWVudHMgUk9ULlNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyLkFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG5cdHRoaXMuX2RlZmF1bHREdXJhdGlvbiA9IDE7IC8qIGZvciBuZXdseSBhZGRlZCAqL1xuXHR0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjsgLyogZm9yIHRoaXMuX2N1cnJlbnQgKi9cbn1cblJPVC5TY2hlZHVsZXIuQWN0aW9uLmV4dGVuZChST1QuU2NoZWR1bGVyKTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaXRlbVxuICogQHBhcmFtIHtib29sfSByZXBlYXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZT0xXVxuICogQHNlZSBST1QuU2NoZWR1bGVyI2FkZFxuICovXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0LCB0aW1lKSB7XG5cdHRoaXMuX3F1ZXVlLmFkZChpdGVtLCB0aW1lIHx8IHRoaXMuX2RlZmF1bHREdXJhdGlvbik7XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBpdGVtLCByZXBlYXQpO1xufVxuXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO1xufVxuXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaXRlbSkge1xuXHRpZiAoaXRlbSA9PSB0aGlzLl9jdXJyZW50KSB7IHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uOyB9XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLCBpdGVtKTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjbmV4dFxuICovXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5fY3VycmVudCAmJiB0aGlzLl9yZXBlYXQuaW5kZXhPZih0aGlzLl9jdXJyZW50KSAhPSAtMSkge1xuXHRcdHRoaXMuX3F1ZXVlLmFkZCh0aGlzLl9jdXJyZW50LCB0aGlzLl9kdXJhdGlvbiB8fCB0aGlzLl9kZWZhdWx0RHVyYXRpb24pO1xuXHRcdHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uO1xuXHR9XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyk7XG59XG5cbi8qKlxuICogU2V0IGR1cmF0aW9uIGZvciB0aGUgYWN0aXZlIGl0ZW1cbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLnNldER1cmF0aW9uID0gZnVuY3Rpb24odGltZSkge1xuXHRpZiAodGhpcy5fY3VycmVudCkgeyB0aGlzLl9kdXJhdGlvbiA9IHRpbWU7IH1cblx0cmV0dXJuIHRoaXM7XG59XG4vKipcbiAqIEBjbGFzcyBBc3luY2hyb25vdXMgbWFpbiBsb29wXG4gKiBAcGFyYW0ge1JPVC5TY2hlZHVsZXJ9IHNjaGVkdWxlclxuICovXG5ST1QuRW5naW5lID0gZnVuY3Rpb24oc2NoZWR1bGVyKSB7XG5cdHRoaXMuX3NjaGVkdWxlciA9IHNjaGVkdWxlcjtcblx0dGhpcy5fbG9jayA9IDE7XG59XG5cbi8qKlxuICogU3RhcnQgdGhlIG1haW4gbG9vcC4gV2hlbiB0aGlzIGNhbGwgcmV0dXJucywgdGhlIGxvb3AgaXMgbG9ja2VkLlxuICovXG5ST1QuRW5naW5lLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy51bmxvY2soKTtcbn1cblxuLyoqXG4gKiBJbnRlcnJ1cHQgdGhlIGVuZ2luZSBieSBhbiBhc3luY2hyb25vdXMgYWN0aW9uXG4gKi9cblJPVC5FbmdpbmUucHJvdG90eXBlLmxvY2sgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fbG9jaysrO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZXN1bWUgZXhlY3V0aW9uIChwYXVzZWQgYnkgYSBwcmV2aW91cyBsb2NrKVxuICovXG5ST1QuRW5naW5lLnByb3RvdHlwZS51bmxvY2sgPSBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLl9sb2NrKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1bmxvY2sgdW5sb2NrZWQgZW5naW5lXCIpOyB9XG5cdHRoaXMuX2xvY2stLTtcblxuXHR3aGlsZSAoIXRoaXMuX2xvY2spIHtcblx0XHR2YXIgYWN0b3IgPSB0aGlzLl9zY2hlZHVsZXIubmV4dCgpO1xuXHRcdGlmICghYWN0b3IpIHsgcmV0dXJuIHRoaXMubG9jaygpOyB9IC8qIG5vIGFjdG9ycyAqL1xuXHRcdHZhciByZXN1bHQgPSBhY3Rvci5hY3QoKTtcblx0XHRpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuKSB7IC8qIGFjdG9yIHJldHVybmVkIGEgXCJ0aGVuYWJsZVwiLCBsb29rcyBsaWtlIGEgUHJvbWlzZSAqL1xuXHRcdFx0dGhpcy5sb2NrKCk7XG5cdFx0XHRyZXN1bHQudGhlbih0aGlzLnVubG9jay5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cbi8qKlxuICogQGNsYXNzIEJhc2UgbWFwIGdlbmVyYXRvclxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqL1xuUk9ULk1hcCA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0dGhpcy5fd2lkdGggPSB3aWR0aCB8fCBST1QuREVGQVVMVF9XSURUSDtcblx0dGhpcy5faGVpZ2h0ID0gaGVpZ2h0IHx8IFJPVC5ERUZBVUxUX0hFSUdIVDtcbn07XG5cblJPVC5NYXAucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7fVxuXG5ST1QuTWFwLnByb3RvdHlwZS5fZmlsbE1hcCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdHZhciBtYXAgPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0bWFwLnB1c2goW10pO1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHsgbWFwW2ldLnB1c2godmFsdWUpOyB9XG5cdH1cblx0cmV0dXJuIG1hcDtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsZSBlbXB0eSByZWN0YW5ndWxhciByb29tXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkFyZW5hID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG59XG5ST1QuTWFwLkFyZW5hLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5BcmVuYS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHcgPSB0aGlzLl93aWR0aC0xO1xuXHR2YXIgaCA9IHRoaXMuX2hlaWdodC0xO1xuXHRmb3IgKHZhciBpPTA7aTw9dztpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajw9aDtqKyspIHtcblx0XHRcdHZhciBlbXB0eSA9IChpICYmIGogJiYgaTx3ICYmIGo8aCk7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCBlbXB0eSA/IDAgOiAxKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG4vKipcbiAqIEBjbGFzcyBSZWN1cnNpdmVseSBkaXZpZGVkIG1hemUsIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWF6ZV9nZW5lcmF0aW9uX2FsZ29yaXRobSNSZWN1cnNpdmVfZGl2aXNpb25fbWV0aG9kXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkRpdmlkZWRNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX3N0YWNrID0gW107XG59XG5ST1QuTWFwLkRpdmlkZWRNYXplLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHcgPSB0aGlzLl93aWR0aDtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQ7XG5cdFxuXHR0aGlzLl9tYXAgPSBbXTtcblx0XG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0dGhpcy5fbWFwLnB1c2goW10pO1xuXHRcdGZvciAodmFyIGo9MDtqPGg7aisrKSB7XG5cdFx0XHR2YXIgYm9yZGVyID0gKGkgPT0gMCB8fCBqID09IDAgfHwgaSsxID09IHcgfHwgaisxID09IGgpO1xuXHRcdFx0dGhpcy5fbWFwW2ldLnB1c2goYm9yZGVyID8gMSA6IDApO1xuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fc3RhY2sgPSBbXG5cdFx0WzEsIDEsIHctMiwgaC0yXVxuXHRdO1xuXHR0aGlzLl9wcm9jZXNzKCk7XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPGg7aisrKSB7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuXHRcdH1cblx0fVxuXHR0aGlzLl9tYXAgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5wcm90b3R5cGUuX3Byb2Nlc3MgPSBmdW5jdGlvbigpIHtcblx0d2hpbGUgKHRoaXMuX3N0YWNrLmxlbmd0aCkge1xuXHRcdHZhciByb29tID0gdGhpcy5fc3RhY2suc2hpZnQoKTsgLyogW2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbV0gKi9cblx0XHR0aGlzLl9wYXJ0aXRpb25Sb29tKHJvb20pO1xuXHR9XG59XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLl9wYXJ0aXRpb25Sb29tID0gZnVuY3Rpb24ocm9vbSkge1xuXHR2YXIgYXZhaWxYID0gW107XG5cdHZhciBhdmFpbFkgPSBbXTtcblx0XG5cdGZvciAodmFyIGk9cm9vbVswXSsxO2k8cm9vbVsyXTtpKyspIHtcblx0XHR2YXIgdG9wID0gdGhpcy5fbWFwW2ldW3Jvb21bMV0tMV07XG5cdFx0dmFyIGJvdHRvbSA9IHRoaXMuX21hcFtpXVtyb29tWzNdKzFdO1xuXHRcdGlmICh0b3AgJiYgYm90dG9tICYmICEoaSAlIDIpKSB7IGF2YWlsWC5wdXNoKGkpOyB9XG5cdH1cblx0XG5cdGZvciAodmFyIGo9cm9vbVsxXSsxO2o8cm9vbVszXTtqKyspIHtcblx0XHR2YXIgbGVmdCA9IHRoaXMuX21hcFtyb29tWzBdLTFdW2pdO1xuXHRcdHZhciByaWdodCA9IHRoaXMuX21hcFtyb29tWzJdKzFdW2pdO1xuXHRcdGlmIChsZWZ0ICYmIHJpZ2h0ICYmICEoaiAlIDIpKSB7IGF2YWlsWS5wdXNoKGopOyB9XG5cdH1cblxuXHRpZiAoIWF2YWlsWC5sZW5ndGggfHwgIWF2YWlsWS5sZW5ndGgpIHsgcmV0dXJuOyB9XG5cblx0dmFyIHggPSBhdmFpbFgucmFuZG9tKCk7XG5cdHZhciB5ID0gYXZhaWxZLnJhbmRvbSgpO1xuXHRcblx0dGhpcy5fbWFwW3hdW3ldID0gMTtcblx0XG5cdHZhciB3YWxscyA9IFtdO1xuXHRcblx0dmFyIHcgPSBbXTsgd2FsbHMucHVzaCh3KTsgLyogbGVmdCBwYXJ0ICovXG5cdGZvciAodmFyIGk9cm9vbVswXTsgaTx4OyBpKyspIHsgXG5cdFx0dGhpcy5fbWFwW2ldW3ldID0gMTtcblx0XHR3LnB1c2goW2ksIHldKTsgXG5cdH1cblx0XG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIHJpZ2h0IHBhcnQgKi9cblx0Zm9yICh2YXIgaT14KzE7IGk8PXJvb21bMl07IGkrKykgeyBcblx0XHR0aGlzLl9tYXBbaV1beV0gPSAxO1xuXHRcdHcucHVzaChbaSwgeV0pOyBcblx0fVxuXG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIHRvcCBwYXJ0ICovXG5cdGZvciAodmFyIGo9cm9vbVsxXTsgajx5OyBqKyspIHsgXG5cdFx0dGhpcy5fbWFwW3hdW2pdID0gMTtcblx0XHR3LnB1c2goW3gsIGpdKTsgXG5cdH1cblx0XG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIGJvdHRvbSBwYXJ0ICovXG5cdGZvciAodmFyIGo9eSsxOyBqPD1yb29tWzNdOyBqKyspIHsgXG5cdFx0dGhpcy5fbWFwW3hdW2pdID0gMTtcblx0XHR3LnB1c2goW3gsIGpdKTsgXG5cdH1cblx0XHRcblx0dmFyIHNvbGlkID0gd2FsbHMucmFuZG9tKCk7XG5cdGZvciAodmFyIGk9MDtpPHdhbGxzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgdyA9IHdhbGxzW2ldO1xuXHRcdGlmICh3ID09IHNvbGlkKSB7IGNvbnRpbnVlOyB9XG5cdFx0XG5cdFx0dmFyIGhvbGUgPSB3LnJhbmRvbSgpO1xuXHRcdHRoaXMuX21hcFtob2xlWzBdXVtob2xlWzFdXSA9IDA7XG5cdH1cblxuXHR0aGlzLl9zdGFjay5wdXNoKFtyb29tWzBdLCByb29tWzFdLCB4LTEsIHktMV0pOyAvKiBsZWZ0IHRvcCAqL1xuXHR0aGlzLl9zdGFjay5wdXNoKFt4KzEsIHJvb21bMV0sIHJvb21bMl0sIHktMV0pOyAvKiByaWdodCB0b3AgKi9cblx0dGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgeSsxLCB4LTEsIHJvb21bM11dKTsgLyogbGVmdCBib3R0b20gKi9cblx0dGhpcy5fc3RhY2sucHVzaChbeCsxLCB5KzEsIHJvb21bMl0sIHJvb21bM11dKTsgLyogcmlnaHQgYm90dG9tICovXG59XG4vKipcbiAqIEBjbGFzcyBJY2V5J3MgTWF6ZSBnZW5lcmF0b3JcbiAqIFNlZSBodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1TaW1wbGVfbWF6ZSBmb3IgZXhwbGFuYXRpb25cbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuSWNleU1hemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCByZWd1bGFyaXR5KSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0dGhpcy5fcmVndWxhcml0eSA9IHJlZ3VsYXJpdHkgfHwgMDtcbn1cblJPVC5NYXAuSWNleU1hemUuZXh0ZW5kKFJPVC5NYXApO1xuXG5ST1QuTWFwLkljZXlNYXplLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcblx0dmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcblx0XG5cdHZhciBtYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHRcblx0d2lkdGggLT0gKHdpZHRoICUgMiA/IDEgOiAyKTtcblx0aGVpZ2h0IC09IChoZWlnaHQgJSAyID8gMSA6IDIpO1xuXG5cdHZhciBjeCA9IDA7XG5cdHZhciBjeSA9IDA7XG5cdHZhciBueCA9IDA7XG5cdHZhciBueSA9IDA7XG5cblx0dmFyIGRvbmUgPSAwO1xuXHR2YXIgYmxvY2tlZCA9IGZhbHNlO1xuXHR2YXIgZGlycyA9IFtcblx0XHRbMCwgMF0sXG5cdFx0WzAsIDBdLFxuXHRcdFswLCAwXSxcblx0XHRbMCwgMF1cblx0XTtcblx0ZG8ge1xuXHRcdGN4ID0gMSArIDIqTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSood2lkdGgtMSkgLyAyKTtcblx0XHRjeSA9IDEgKyAyKk1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKGhlaWdodC0xKSAvIDIpO1xuXG5cdFx0aWYgKCFkb25lKSB7IG1hcFtjeF1bY3ldID0gMDsgfVxuXHRcdFxuXHRcdGlmICghbWFwW2N4XVtjeV0pIHtcblx0XHRcdHRoaXMuX3JhbmRvbWl6ZShkaXJzKTtcblx0XHRcdGRvIHtcblx0XHRcdFx0aWYgKE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKHRoaXMuX3JlZ3VsYXJpdHkrMSkpID09IDApIHsgdGhpcy5fcmFuZG9taXplKGRpcnMpOyB9XG5cdFx0XHRcdGJsb2NrZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7aTw0O2krKykge1xuXHRcdFx0XHRcdG54ID0gY3ggKyBkaXJzW2ldWzBdKjI7XG5cdFx0XHRcdFx0bnkgPSBjeSArIGRpcnNbaV1bMV0qMjtcblx0XHRcdFx0XHRpZiAodGhpcy5faXNGcmVlKG1hcCwgbngsIG55LCB3aWR0aCwgaGVpZ2h0KSkge1xuXHRcdFx0XHRcdFx0bWFwW254XVtueV0gPSAwO1xuXHRcdFx0XHRcdFx0bWFwW2N4ICsgZGlyc1tpXVswXV1bY3kgKyBkaXJzW2ldWzFdXSA9IDA7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGN4ID0gbng7XG5cdFx0XHRcdFx0XHRjeSA9IG55O1xuXHRcdFx0XHRcdFx0YmxvY2tlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0ZG9uZSsrO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IHdoaWxlICghYmxvY2tlZCk7XG5cdFx0fVxuXHR9IHdoaWxlIChkb25lKzEgPCB3aWR0aCpoZWlnaHQvNCk7XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuXHRcdH1cblx0fVxuXHR0aGlzLl9tYXAgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5JY2V5TWF6ZS5wcm90b3R5cGUuX3JhbmRvbWl6ZSA9IGZ1bmN0aW9uKGRpcnMpIHtcblx0Zm9yICh2YXIgaT0wO2k8NDtpKyspIHtcblx0XHRkaXJzW2ldWzBdID0gMDtcblx0XHRkaXJzW2ldWzFdID0gMDtcblx0fVxuXHRcblx0c3dpdGNoIChNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKjQpKSB7XG5cdFx0Y2FzZSAwOlxuXHRcdFx0ZGlyc1swXVswXSA9IC0xOyBkaXJzWzFdWzBdID0gMTtcblx0XHRcdGRpcnNbMl1bMV0gPSAtMTsgZGlyc1szXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAxOlxuXHRcdFx0ZGlyc1szXVswXSA9IC0xOyBkaXJzWzJdWzBdID0gMTtcblx0XHRcdGRpcnNbMV1bMV0gPSAtMTsgZGlyc1swXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0ZGlyc1syXVswXSA9IC0xOyBkaXJzWzNdWzBdID0gMTtcblx0XHRcdGRpcnNbMF1bMV0gPSAtMTsgZGlyc1sxXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0ZGlyc1sxXVswXSA9IC0xOyBkaXJzWzBdWzBdID0gMTtcblx0XHRcdGRpcnNbM11bMV0gPSAtMTsgZGlyc1syXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdH1cbn1cblxuUk9ULk1hcC5JY2V5TWF6ZS5wcm90b3R5cGUuX2lzRnJlZSA9IGZ1bmN0aW9uKG1hcCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuXHRpZiAoeCA8IDEgfHwgeSA8IDEgfHwgeCA+PSB3aWR0aCB8fCB5ID49IGhlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuIG1hcFt4XVt5XTtcbn1cbi8qKlxuICogQGNsYXNzIE1hemUgZ2VuZXJhdG9yIC0gRWxsZXIncyBhbGdvcml0aG1cbiAqIFNlZSBodHRwOi8vaG9tZXBhZ2VzLmN3aS5ubC9+dHJvbXAvbWF6ZS5odG1sIGZvciBleHBsYW5hdGlvblxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5FbGxlck1hemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcbn1cblJPVC5NYXAuRWxsZXJNYXplLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5FbGxlck1hemUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciBtYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHR2YXIgdyA9IE1hdGguY2VpbCgodGhpcy5fd2lkdGgtMikvMik7XG5cdFxuXHR2YXIgcmFuZCA9IDkvMjQ7XG5cdFxuXHR2YXIgTCA9IFtdO1xuXHR2YXIgUiA9IFtdO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHRMLnB1c2goaSk7XG5cdFx0Ui5wdXNoKGkpO1xuXHR9XG5cdEwucHVzaCh3LTEpOyAvKiBmYWtlIHN0b3AtYmxvY2sgYXQgdGhlIHJpZ2h0IHNpZGUgKi9cblxuXHRmb3IgKHZhciBqPTE7aiszPHRoaXMuX2hlaWdodDtqKz0yKSB7XG5cdFx0Lyogb25lIHJvdyAqL1xuXHRcdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0XHQvKiBjZWxsIGNvb3JkcyAod2lsbCBiZSBhbHdheXMgZW1wdHkpICovXG5cdFx0XHR2YXIgeCA9IDIqaSsxO1xuXHRcdFx0dmFyIHkgPSBqO1xuXHRcdFx0bWFwW3hdW3ldID0gMDtcblx0XHRcdFxuXHRcdFx0LyogcmlnaHQgY29ubmVjdGlvbiAqL1xuXHRcdFx0aWYgKGkgIT0gTFtpKzFdICYmIFJPVC5STkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkge1xuXHRcdFx0XHR0aGlzLl9hZGRUb0xpc3QoaSwgTCwgUik7XG5cdFx0XHRcdG1hcFt4KzFdW3ldID0gMDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0LyogYm90dG9tIGNvbm5lY3Rpb24gKi9cblx0XHRcdGlmIChpICE9IExbaV0gJiYgUk9ULlJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSB7XG5cdFx0XHRcdC8qIHJlbW92ZSBjb25uZWN0aW9uICovXG5cdFx0XHRcdHRoaXMuX3JlbW92ZUZyb21MaXN0KGksIEwsIFIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0LyogY3JlYXRlIGNvbm5lY3Rpb24gKi9cblx0XHRcdFx0bWFwW3hdW3krMV0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qIGxhc3Qgcm93ICovXG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0LyogY2VsbCBjb29yZHMgKHdpbGwgYmUgYWx3YXlzIGVtcHR5KSAqL1xuXHRcdHZhciB4ID0gMippKzE7XG5cdFx0dmFyIHkgPSBqO1xuXHRcdG1hcFt4XVt5XSA9IDA7XG5cdFx0XG5cdFx0LyogcmlnaHQgY29ubmVjdGlvbiAqL1xuXHRcdGlmIChpICE9IExbaSsxXSAmJiAoaSA9PSBMW2ldIHx8IFJPVC5STkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkpIHtcblx0XHRcdC8qIGRpZyByaWdodCBhbHNvIGlmIHRoZSBjZWxsIGlzIHNlcGFyYXRlZCwgc28gaXQgZ2V0cyBjb25uZWN0ZWQgdG8gdGhlIHJlc3Qgb2YgbWF6ZSAqL1xuXHRcdFx0dGhpcy5fYWRkVG9MaXN0KGksIEwsIFIpO1xuXHRcdFx0bWFwW3grMV1beV0gPSAwO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLl9yZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcblx0fVxuXHRcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJlbW92ZSBcImlcIiBmcm9tIGl0cyBsaXN0XG4gKi9cblJPVC5NYXAuRWxsZXJNYXplLnByb3RvdHlwZS5fcmVtb3ZlRnJvbUxpc3QgPSBmdW5jdGlvbihpLCBMLCBSKSB7XG5cdFJbTFtpXV0gPSBSW2ldO1xuXHRMW1JbaV1dID0gTFtpXTtcblx0UltpXSA9IGk7XG5cdExbaV0gPSBpO1xufVxuXG4vKipcbiAqIEpvaW4gbGlzdHMgd2l0aCBcImlcIiBhbmQgXCJpKzFcIlxuICovXG5ST1QuTWFwLkVsbGVyTWF6ZS5wcm90b3R5cGUuX2FkZFRvTGlzdCA9IGZ1bmN0aW9uKGksIEwsIFIpIHtcblx0UltMW2krMV1dID0gUltpXTtcblx0TFtSW2ldXSA9IExbaSsxXTtcblx0UltpXSA9IGkrMTtcblx0TFtpKzFdID0gaTtcbn1cbi8qKlxuICogQGNsYXNzIENlbGx1bGFyIGF1dG9tYXRvbiBtYXAgZ2VuZXJhdG9yXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uc1xuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuYm9ybl0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGEgbmV3IGNlbGwgdG8gYmUgYm9ybiBpbiBlbXB0eSBzcGFjZVxuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuc3Vydml2ZV0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGFuIGV4aXN0aW5nICBjZWxsIHRvIHN1cnZpdmVcbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neV0gVG9wb2xvZ3kgNCBvciA2IG9yIDhcbiAqL1xuUk9ULk1hcC5DZWxsdWxhciA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdGJvcm46IFs1LCA2LCA3LCA4XSxcblx0XHRzdXJ2aXZlOiBbNCwgNSwgNiwgNywgOF0sXG5cdFx0dG9wb2xvZ3k6IDgsXG5cdFx0Y29ubmVjdGVkOiBmYWxzZVxuXHR9O1xuXHR0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG5cdFxuXHR0aGlzLl9kaXJzID0gUk9ULkRJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG5cdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMCk7XG59XG5ST1QuTWFwLkNlbGx1bGFyLmV4dGVuZChST1QuTWFwKTtcblxuLyoqXG4gKiBGaWxsIHRoZSBtYXAgd2l0aCByYW5kb20gdmFsdWVzXG4gKiBAcGFyYW0ge2Zsb2F0fSBwcm9iYWJpbGl0eSBQcm9iYWJpbGl0eSBmb3IgYSBjZWxsIHRvIGJlY29tZSBhbGl2ZTsgMCA9IGFsbCBlbXB0eSwgMSA9IGFsbCBmdWxsXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLnJhbmRvbWl6ZSA9IGZ1bmN0aW9uKHByb2JhYmlsaXR5KSB7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdHRoaXMuX21hcFtpXVtqXSA9IChST1QuUk5HLmdldFVuaWZvcm0oKSA8IHByb2JhYmlsaXR5ID8gMSA6IDApO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGFuZ2Ugb3B0aW9ucy5cbiAqIEBzZWUgUk9ULk1hcC5DZWxsdWxhclxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oeCwgeSwgdmFsdWUpIHtcblx0dGhpcy5fbWFwW3hdW3ldID0gdmFsdWU7XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciBuZXdNYXAgPSB0aGlzLl9maWxsTWFwKDApO1xuXHR2YXIgYm9ybiA9IHRoaXMuX29wdGlvbnMuYm9ybjtcblx0dmFyIHN1cnZpdmUgPSB0aGlzLl9vcHRpb25zLnN1cnZpdmU7XG5cblxuXHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0dmFyIHdpZHRoU3RlcCA9IDE7XG5cdFx0dmFyIHdpZHRoU3RhcnQgPSAwO1xuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHsgXG5cdFx0XHR3aWR0aFN0ZXAgPSAyO1xuXHRcdFx0d2lkdGhTdGFydCA9IGolMjtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpPXdpZHRoU3RhcnQ7IGk8dGhpcy5fd2lkdGg7IGkrPXdpZHRoU3RlcCkge1xuXG5cdFx0XHR2YXIgY3VyID0gdGhpcy5fbWFwW2ldW2pdO1xuXHRcdFx0dmFyIG5jb3VudCA9IHRoaXMuX2dldE5laWdoYm9ycyhpLCBqKTtcblx0XHRcdFxuXHRcdFx0aWYgKGN1ciAmJiBzdXJ2aXZlLmluZGV4T2YobmNvdW50KSAhPSAtMSkgeyAvKiBzdXJ2aXZlICovXG5cdFx0XHRcdG5ld01hcFtpXVtqXSA9IDE7XG5cdFx0XHR9IGVsc2UgaWYgKCFjdXIgJiYgYm9ybi5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogYm9ybiAqL1xuXHRcdFx0XHRuZXdNYXBbaV1bal0gPSAxO1xuXHRcdFx0fVx0XHRcdFxuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fbWFwID0gbmV3TWFwO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLmNvbm5lY3RlZCkgeyB0aGlzLl9jb21wbGV0ZU1hemUoKTsgfSAvLyBvcHRpb25hbGx5IGNvbm5lY3QgZXZlcnkgc3BhY2VcblxuXHRpZiAoIWNhbGxiYWNrKSB7IHJldHVybjsgfVxuXG5cdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHR2YXIgd2lkdGhTdGVwID0gMTtcblx0XHR2YXIgd2lkdGhTdGFydCA9IDA7XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikgeyBcblx0XHRcdHdpZHRoU3RlcCA9IDI7XG5cdFx0XHR3aWR0aFN0YXJ0ID0gaiUyO1xuXHRcdH1cblx0XHRmb3IgKHZhciBpPXdpZHRoU3RhcnQ7IGk8dGhpcy5fd2lkdGg7IGkrPXdpZHRoU3RlcCkge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgbmV3TWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBHZXQgbmVpZ2hib3IgY291bnQgYXQgW2ksal0gaW4gdGhpcy5fbWFwXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9nZXROZWlnaGJvcnMgPSBmdW5jdGlvbihjeCwgY3kpIHtcblx0dmFyIHJlc3VsdCA9IDA7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX2RpcnMubGVuZ3RoO2krKykge1xuXHRcdHZhciBkaXIgPSB0aGlzLl9kaXJzW2ldO1xuXHRcdHZhciB4ID0gY3ggKyBkaXJbMF07XG5cdFx0dmFyIHkgPSBjeSArIGRpclsxXTtcblx0XHRcblx0XHRpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB4IDwgMCB8fCB5ID49IHRoaXMuX3dpZHRoKSB7IGNvbnRpbnVlOyB9XG5cdFx0cmVzdWx0ICs9ICh0aGlzLl9tYXBbeF1beV0gPT0gMSA/IDEgOiAwKTtcblx0fVxuXHRcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBNYWtlIHN1cmUgZXZlcnkgbm9uLXdhbGwgc3BhY2UgaXMgYWNjZXNzaWJsZS5cbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2NvbXBsZXRlTWF6ZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYWxsRnJlZVNwYWNlID0gW107XG5cdHZhciBub3RDb25uZWN0ZWQgPSB7fTtcblx0Ly8gZmluZCBhbGwgZnJlZSBzcGFjZVxuXHRmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMuX3dpZHRoOyB4KyspIHtcblx0XHRmb3IgKHZhciB5ID0gMDsgeSA8IHRoaXMuX2hlaWdodDsgeSsrKSB7XG5cdFx0XHRpZiAodGhpcy5fZnJlZVNwYWNlKHgsIHkpKSB7XG5cdFx0XHRcdHZhciBwID0gW3gsIHldO1xuXHRcdFx0XHRub3RDb25uZWN0ZWRbdGhpcy5fcG9pbnRLZXkocCldID0gcDtcblx0XHRcdFx0YWxsRnJlZVNwYWNlLnB1c2goW3gsIHldKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0dmFyIHN0YXJ0ID0gYWxsRnJlZVNwYWNlW1JPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBhbGxGcmVlU3BhY2UubGVuZ3RoIC0gMSldO1xuXG5cdHZhciBrZXkgPSB0aGlzLl9wb2ludEtleShzdGFydCk7XG5cdHZhciBjb25uZWN0ZWQgPSB7fTtcblx0Y29ubmVjdGVkW2tleV0gPSBzdGFydDtcblx0ZGVsZXRlIG5vdENvbm5lY3RlZFtrZXldXG5cblx0Ly8gZmluZCB3aGF0J3MgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuXHR0aGlzLl9maW5kQ29ubmVjdGVkKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBbc3RhcnRdKTtcblxuXHR3aGlsZSAoT2JqZWN0LmtleXMobm90Q29ubmVjdGVkKS5sZW5ndGggPiAwKSB7XG5cblx0XHQvLyBmaW5kIHR3byBwb2ludHMgZnJvbSBub3RDb25uZWN0ZWQgdG8gY29ubmVjdGVkXG5cdFx0dmFyIHAgPSB0aGlzLl9nZXRGcm9tVG8oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpO1xuXHRcdHZhciBmcm9tID0gcFswXTsgLy8gbm90Q29ubmVjdGVkXG5cdFx0dmFyIHRvID0gcFsxXTsgLy8gY29ubmVjdGVkXG5cblx0XHQvLyBmaW5kIGV2ZXJ5dGhpbmcgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuXHRcdHZhciBsb2NhbCA9IHt9O1xuXHRcdGxvY2FsW3RoaXMuX3BvaW50S2V5KGZyb20pXSA9IGZyb207XG5cdFx0dGhpcy5fZmluZENvbm5lY3RlZChsb2NhbCwgbm90Q29ubmVjdGVkLCBbZnJvbV0sIHRydWUpO1xuXG5cdFx0Ly8gY29ubmVjdCB0byBhIGNvbm5lY3RlZCBzcXVhcmVcblx0XHR0aGlzLl90dW5uZWxUb0Nvbm5lY3RlZCh0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpO1xuXG5cdFx0Ly8gbm93IGFsbCBvZiBsb2NhbCBpcyBjb25uZWN0ZWRcblx0XHRmb3IgKHZhciBrIGluIGxvY2FsKSB7XG5cdFx0XHR2YXIgcHAgPSBsb2NhbFtrXTtcblx0XHRcdHRoaXMuX21hcFtwcFswXV1bcHBbMV1dID0gMDtcblx0XHRcdGNvbm5lY3RlZFtrXSA9IHBwO1xuXHRcdFx0ZGVsZXRlIG5vdENvbm5lY3RlZFtrXTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBGaW5kIHJhbmRvbSBwb2ludHMgdG8gY29ubmVjdC4gU2VhcmNoIGZvciB0aGUgY2xvc2VzdCBwb2ludCBpbiB0aGUgbGFyZ2VyIHNwYWNlLiBcbiAqIFRoaXMgaXMgdG8gbWluaW1pemUgdGhlIGxlbmd0aCBvZiB0aGUgcGFzc2FnZSB3aGlsZSBtYWludGFpbmluZyBnb29kIHBlcmZvcm1hbmNlLlxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0RnJvbVRvID0gZnVuY3Rpb24oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpIHtcblx0dmFyIGZyb20sIHRvLCBkO1xuXHR2YXIgY29ubmVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGNvbm5lY3RlZCk7XG5cdHZhciBub3RDb25uZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMobm90Q29ubmVjdGVkKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0XHRpZiAoY29ubmVjdGVkS2V5cy5sZW5ndGggPCBub3RDb25uZWN0ZWRLZXlzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGtleXMgPSBjb25uZWN0ZWRLZXlzO1xuXHRcdFx0dG8gPSBjb25uZWN0ZWRba2V5c1tST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwga2V5cy5sZW5ndGggLSAxKV1dXG5cdFx0XHRmcm9tID0gdGhpcy5fZ2V0Q2xvc2VzdCh0bywgbm90Q29ubmVjdGVkKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGtleXMgPSBub3RDb25uZWN0ZWRLZXlzO1xuXHRcdFx0ZnJvbSA9IG5vdENvbm5lY3RlZFtrZXlzW1JPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBrZXlzLmxlbmd0aCAtIDEpXV1cblx0XHRcdHRvID0gdGhpcy5fZ2V0Q2xvc2VzdChmcm9tLCBjb25uZWN0ZWQpO1xuXHRcdH1cblx0XHRkID0gKGZyb21bMF0gLSB0b1swXSkgKiAoZnJvbVswXSAtIHRvWzBdKSArIChmcm9tWzFdIC0gdG9bMV0pICogKGZyb21bMV0gLSB0b1sxXSk7XG5cdFx0aWYgKGQgPCA2NCkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdC8vIGNvbnNvbGUubG9nKFwiPj4+IGNvbm5lY3RlZD1cIiArIHRvICsgXCIgbm90Q29ubmVjdGVkPVwiICsgZnJvbSArIFwiIGRpc3Q9XCIgKyBkKTtcblx0cmV0dXJuIFtmcm9tLCB0b107XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9nZXRDbG9zZXN0ID0gZnVuY3Rpb24ocG9pbnQsIHNwYWNlKSB7XG5cdHZhciBtaW5Qb2ludCA9IG51bGw7XG5cdHZhciBtaW5EaXN0ID0gbnVsbDtcblx0Zm9yIChrIGluIHNwYWNlKSB7XG5cdFx0dmFyIHAgPSBzcGFjZVtrXTtcblx0XHR2YXIgZCA9IChwWzBdIC0gcG9pbnRbMF0pICogKHBbMF0gLSBwb2ludFswXSkgKyAocFsxXSAtIHBvaW50WzFdKSAqIChwWzFdIC0gcG9pbnRbMV0pO1xuXHRcdGlmIChtaW5EaXN0ID09IG51bGwgfHwgZCA8IG1pbkRpc3QpIHtcblx0XHRcdG1pbkRpc3QgPSBkO1xuXHRcdFx0bWluUG9pbnQgPSBwO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWluUG9pbnQ7XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9maW5kQ29ubmVjdGVkID0gZnVuY3Rpb24oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIHN0YWNrLCBrZWVwTm90Q29ubmVjdGVkKSB7XG5cdHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgcCA9IHN0YWNrLnNwbGljZSgwLCAxKVswXTtcblx0XHR2YXIgdGVzdHMgPSBbXG5cdFx0XHRbcFswXSArIDEsIHBbMV1dLFxuXHRcdFx0W3BbMF0gLSAxLCBwWzFdXSxcblx0XHRcdFtwWzBdLCAgICAgcFsxXSArIDFdLFxuXHRcdFx0W3BbMF0sICAgICBwWzFdIC0gMV1cblx0XHRdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBrZXkgPSB0aGlzLl9wb2ludEtleSh0ZXN0c1tpXSk7XG5cdFx0XHRpZiAoY29ubmVjdGVkW2tleV0gPT0gbnVsbCAmJiB0aGlzLl9mcmVlU3BhY2UodGVzdHNbaV1bMF0sIHRlc3RzW2ldWzFdKSkge1xuXHRcdFx0XHRjb25uZWN0ZWRba2V5XSA9IHRlc3RzW2ldO1xuXHRcdFx0XHRpZiAoIWtlZXBOb3RDb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRkZWxldGUgbm90Q29ubmVjdGVkW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RhY2sucHVzaCh0ZXN0c1tpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl90dW5uZWxUb0Nvbm5lY3RlZCA9IGZ1bmN0aW9uKHRvLCBmcm9tLCBjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCkge1xuXHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkoZnJvbSk7XG5cdHZhciBhLCBiO1xuXHRpZiAoZnJvbVswXSA8IHRvWzBdKSB7XG5cdFx0YSA9IGZyb207XG5cdFx0YiA9IHRvO1xuXHR9IGVsc2Uge1xuXHRcdGEgPSB0bztcblx0XHRiID0gZnJvbTtcblx0fVxuXHRmb3IgKHZhciB4eCA9IGFbMF07IHh4IDw9IGJbMF07IHh4KyspIHtcblx0XHR0aGlzLl9tYXBbeHhdW2FbMV1dID0gMDtcblx0XHR2YXIgcCA9IFt4eCwgYVsxXV07XG5cdFx0dmFyIHBrZXkgPSB0aGlzLl9wb2ludEtleShwKTtcblx0XHRjb25uZWN0ZWRbcGtleV0gPSBwO1xuXHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG5cdH1cblxuXHQvLyB4IGlzIG5vdyBmaXhlZFxuXHR2YXIgeCA9IGJbMF07XG5cblx0aWYgKGZyb21bMV0gPCB0b1sxXSkge1xuXHRcdGEgPSBmcm9tO1xuXHRcdGIgPSB0bztcblx0fSBlbHNlIHtcblx0XHRhID0gdG87XG5cdFx0YiA9IGZyb207XG5cdH1cblx0Zm9yICh2YXIgeXkgPSBhWzFdOyB5eSA8IGJbMV07IHl5KyspIHtcblx0XHR0aGlzLl9tYXBbeF1beXldID0gMDtcblx0XHR2YXIgcCA9IFt4LCB5eV07XG5cdFx0dmFyIHBrZXkgPSB0aGlzLl9wb2ludEtleShwKTtcblx0XHRjb25uZWN0ZWRbcGtleV0gPSBwO1xuXHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG5cdH1cbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2ZyZWVTcGFjZSA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIHggPj0gMCAmJiB4IDwgdGhpcy5fd2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLl9oZWlnaHQgJiYgdGhpcy5fbWFwW3hdW3ldICE9IDE7XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9wb2ludEtleSA9IGZ1bmN0aW9uKHApIHtcblx0cmV0dXJuIHBbMF0gKyBcIi5cIiArIHBbMV07XG59XG5cbi8qKlxuICogQGNsYXNzIER1bmdlb24gbWFwOiBoYXMgcm9vbXMgYW5kIGNvcnJpZG9yc1xuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5EdW5nZW9uID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX3Jvb21zID0gW107IC8qIGxpc3Qgb2YgYWxsIHJvb21zICovXG5cdHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xufVxuUk9ULk1hcC5EdW5nZW9uLmV4dGVuZChST1QuTWFwKTtcblxuLyoqXG4gKiBHZXQgYWxsIGdlbmVyYXRlZCByb29tc1xuICogQHJldHVybnMge1JPVC5NYXAuRmVhdHVyZS5Sb29tW119XG4gKi9cblJPVC5NYXAuRHVuZ2Vvbi5wcm90b3R5cGUuZ2V0Um9vbXMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3Jvb21zO1xufVxuXG4vKipcbiAqIEdldCBhbGwgZ2VuZXJhdGVkIGNvcnJpZG9yc1xuICogQHJldHVybnMge1JPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcltdfVxuICovXG5ST1QuTWFwLkR1bmdlb24ucHJvdG90eXBlLmdldENvcnJpZG9ycyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fY29ycmlkb3JzO1xufVxuLyoqXG4gKiBAY2xhc3MgUmFuZG9tIGR1bmdlb24gZ2VuZXJhdG9yIHVzaW5nIGh1bWFuLWxpa2UgZGlnZ2luZyBwYXR0ZXJucy5cbiAqIEhlYXZpbHkgYmFzZWQgb24gTWlrZSBBbmRlcnNvbidzIGlkZWFzIGZyb20gdGhlIFwiVHlyYW50XCIgYWxnbywgbWVudGlvbmVkIGF0IFxuICogaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9RHVuZ2Vvbi1CdWlsZGluZ19BbGdvcml0aG0uXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5EdW5nZW9uXG4gKi9cblJPVC5NYXAuRGlnZ2VyID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLkR1bmdlb24uY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0cm9vbVdpZHRoOiBbMywgOV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSB3aWR0aCAqL1xuXHRcdHJvb21IZWlnaHQ6IFszLCA1XSwgLyogcm9vbSBtaW5pbXVtIGFuZCBtYXhpbXVtIGhlaWdodCAqL1xuXHRcdGNvcnJpZG9yTGVuZ3RoOiBbMywgMTBdLCAvKiBjb3JyaWRvciBtaW5pbXVtIGFuZCBtYXhpbXVtIGxlbmd0aCAqL1xuXHRcdGR1Z1BlcmNlbnRhZ2U6IDAuMiwgLyogd2Ugc3RvcCBhZnRlciB0aGlzIHBlcmNlbnRhZ2Ugb2YgbGV2ZWwgYXJlYSBoYXMgYmVlbiBkdWcgb3V0ICovXG5cdFx0dGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0XG5cdHRoaXMuX2ZlYXR1cmVzID0ge1xuXHRcdFwiUm9vbVwiOiA0LFxuXHRcdFwiQ29ycmlkb3JcIjogNFxuXHR9XG5cdHRoaXMuX2ZlYXR1cmVBdHRlbXB0cyA9IDIwOyAvKiBob3cgbWFueSB0aW1lcyBkbyB3ZSB0cnkgdG8gY3JlYXRlIGEgZmVhdHVyZSBvbiBhIHN1aXRhYmxlIHdhbGwgKi9cblx0dGhpcy5fd2FsbHMgPSB7fTsgLyogdGhlc2UgYXJlIGF2YWlsYWJsZSBmb3IgZGlnZ2luZyAqL1xuXHRcblx0dGhpcy5fZGlnQ2FsbGJhY2sgPSB0aGlzLl9kaWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrID0gdGhpcy5fY2FuQmVEdWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9pc1dhbGxDYWxsYmFjayA9IHRoaXMuX2lzV2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrID0gdGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbn1cblJPVC5NYXAuRGlnZ2VyLmV4dGVuZChST1QuTWFwLkR1bmdlb24pO1xuXG4vKipcbiAqIENyZWF0ZSBhIG1hcFxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dGhpcy5fcm9vbXMgPSBbXTtcblx0dGhpcy5fY29ycmlkb3JzID0gW107XG5cdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdHRoaXMuX3dhbGxzID0ge307XG5cdHRoaXMuX2R1ZyA9IDA7XG5cdHZhciBhcmVhID0gKHRoaXMuX3dpZHRoLTIpICogKHRoaXMuX2hlaWdodC0yKTtcblxuXHR0aGlzLl9maXJzdFJvb20oKTtcblx0XG5cdHZhciB0MSA9IERhdGUubm93KCk7XG5cblx0ZG8ge1xuXHRcdHZhciB0MiA9IERhdGUubm93KCk7XG5cdFx0aWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkgeyBicmVhazsgfVxuXG5cdFx0LyogZmluZCBhIGdvb2Qgd2FsbCAqL1xuXHRcdHZhciB3YWxsID0gdGhpcy5fZmluZFdhbGwoKTtcblx0XHRpZiAoIXdhbGwpIHsgYnJlYWs7IH0gLyogbm8gbW9yZSB3YWxscyAqL1xuXHRcdFxuXHRcdHZhciBwYXJ0cyA9IHdhbGwuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdHZhciBkaXIgPSB0aGlzLl9nZXREaWdnaW5nRGlyZWN0aW9uKHgsIHkpO1xuXHRcdGlmICghZGlyKSB7IGNvbnRpbnVlOyB9IC8qIHRoaXMgd2FsbCBpcyBub3Qgc3VpdGFibGUgKi9cblx0XHRcbi8vXHRcdGNvbnNvbGUubG9nKFwid2FsbFwiLCB4LCB5KTtcblxuXHRcdC8qIHRyeSBhZGRpbmcgYSBmZWF0dXJlICovXG5cdFx0dmFyIGZlYXR1cmVBdHRlbXB0cyA9IDA7XG5cdFx0ZG8ge1xuXHRcdFx0ZmVhdHVyZUF0dGVtcHRzKys7XG5cdFx0XHRpZiAodGhpcy5fdHJ5RmVhdHVyZSh4LCB5LCBkaXJbMF0sIGRpclsxXSkpIHsgLyogZmVhdHVyZSBhZGRlZCAqL1xuXHRcdFx0XHQvL2lmICh0aGlzLl9yb29tcy5sZW5ndGggKyB0aGlzLl9jb3JyaWRvcnMubGVuZ3RoID09IDIpIHsgdGhpcy5fcm9vbXNbMF0uYWRkRG9vcih4LCB5KTsgfSAvKiBmaXJzdCByb29tIG9maWNpYWxseSBoYXMgZG9vcnMgKi9cblx0XHRcdFx0dGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4LCB5KTtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4LWRpclswXSwgeS1kaXJbMV0pO1xuXHRcdFx0XHRicmVhazsgXG5cdFx0XHR9XG5cdFx0fSB3aGlsZSAoZmVhdHVyZUF0dGVtcHRzIDwgdGhpcy5fZmVhdHVyZUF0dGVtcHRzKTtcblx0XHRcblx0XHR2YXIgcHJpb3JpdHlXYWxscyA9IDA7XG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fd2FsbHMpIHsgXG5cdFx0XHRpZiAodGhpcy5fd2FsbHNbaWRdID4gMSkgeyBwcmlvcml0eVdhbGxzKys7IH1cblx0XHR9XG5cblx0fSB3aGlsZSAodGhpcy5fZHVnL2FyZWEgPCB0aGlzLl9vcHRpb25zLmR1Z1BlcmNlbnRhZ2UgfHwgcHJpb3JpdHlXYWxscyk7IC8qIGZpeG1lIG51bWJlciBvZiBwcmlvcml0eSB3YWxscyAqL1xuXG5cdHRoaXMuX2FkZERvb3JzKCk7XG5cblx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHR0aGlzLl93YWxscyA9IHt9O1xuXHR0aGlzLl9tYXAgPSBudWxsO1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2RpZ0NhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSwgdmFsdWUpIHtcblx0aWYgKHZhbHVlID09IDAgfHwgdmFsdWUgPT0gMikgeyAvKiBlbXB0eSAqL1xuXHRcdHRoaXMuX21hcFt4XVt5XSA9IDA7XG5cdFx0dGhpcy5fZHVnKys7XG5cdH0gZWxzZSB7IC8qIHdhbGwgKi9cblx0XHR0aGlzLl93YWxsc1t4K1wiLFwiK3ldID0gMTtcblx0fVxufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2lzV2FsbENhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5ID49IHRoaXMuX2hlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fY2FuQmVEdWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHgrMSA+PSB0aGlzLl93aWR0aCB8fCB5KzEgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9wcmlvcml0eVdhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dGhpcy5fd2FsbHNbeCtcIixcIit5XSA9IDI7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fZmlyc3RSb29tID0gZnVuY3Rpb24oKSB7XG5cdHZhciBjeCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGgvMik7XG5cdHZhciBjeSA9IE1hdGguZmxvb3IodGhpcy5faGVpZ2h0LzIpO1xuXHR2YXIgcm9vbSA9IFJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbUNlbnRlcihjeCwgY3ksIHRoaXMuX29wdGlvbnMpO1xuXHR0aGlzLl9yb29tcy5wdXNoKHJvb20pO1xuXHRyb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG59XG5cbi8qKlxuICogR2V0IGEgc3VpdGFibGUgd2FsbFxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2ZpbmRXYWxsID0gZnVuY3Rpb24oKSB7XG5cdHZhciBwcmlvMSA9IFtdO1xuXHR2YXIgcHJpbzIgPSBbXTtcblx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fd2FsbHMpIHtcblx0XHR2YXIgcHJpbyA9IHRoaXMuX3dhbGxzW2lkXTtcblx0XHRpZiAocHJpbyA9PSAyKSB7IFxuXHRcdFx0cHJpbzIucHVzaChpZCk7IFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcmlvMS5wdXNoKGlkKTtcblx0XHR9XG5cdH1cblx0XG5cdHZhciBhcnIgPSAocHJpbzIubGVuZ3RoID8gcHJpbzIgOiBwcmlvMSk7XG5cdGlmICghYXJyLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfSAvKiBubyB3YWxscyA6LyAqL1xuXHRcblx0dmFyIGlkID0gYXJyLnJhbmRvbSgpO1xuXHRkZWxldGUgdGhpcy5fd2FsbHNbaWRdO1xuXG5cdHJldHVybiBpZDtcbn1cblxuLyoqXG4gKiBUcmllcyBhZGRpbmcgYSBmZWF0dXJlXG4gKiBAcmV0dXJucyB7Ym9vbH0gd2FzIHRoaXMgYSBzdWNjZXNzZnVsIHRyeT9cbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl90cnlGZWF0dXJlID0gZnVuY3Rpb24oeCwgeSwgZHgsIGR5KSB7XG5cdHZhciBmZWF0dXJlID0gUk9ULlJORy5nZXRXZWlnaHRlZFZhbHVlKHRoaXMuX2ZlYXR1cmVzKTtcblx0ZmVhdHVyZSA9IFJPVC5NYXAuRmVhdHVyZVtmZWF0dXJlXS5jcmVhdGVSYW5kb21BdCh4LCB5LCBkeCwgZHksIHRoaXMuX29wdGlvbnMpO1xuXHRcblx0aWYgKCFmZWF0dXJlLmlzVmFsaWQodGhpcy5faXNXYWxsQ2FsbGJhY2ssIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2spKSB7XG4vL1x0XHRjb25zb2xlLmxvZyhcIm5vdCB2YWxpZFwiKTtcbi8vXHRcdGZlYXR1cmUuZGVidWcoKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdGZlYXR1cmUuY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcbi8vXHRmZWF0dXJlLmRlYnVnKCk7XG5cblx0aWYgKGZlYXR1cmUgaW5zdGFuY2VvZiBST1QuTWFwLkZlYXR1cmUuUm9vbSkgeyB0aGlzLl9yb29tcy5wdXNoKGZlYXR1cmUpOyB9XG5cdGlmIChmZWF0dXJlIGluc3RhbmNlb2YgUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yKSB7IFxuXHRcdGZlYXR1cmUuY3JlYXRlUHJpb3JpdHlXYWxscyh0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjayk7XG5cdFx0dGhpcy5fY29ycmlkb3JzLnB1c2goZmVhdHVyZSk7IFxuXHR9XG5cdFxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciBkZWx0YXMgPSBST1QuRElSU1s0XTtcblxuXHRmb3IgKHZhciBpPTA7aTxkZWx0YXMubGVuZ3RoO2krKykge1xuXHRcdHZhciBkZWx0YSA9IGRlbHRhc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGVsdGFbMF07XG5cdFx0dmFyIHkgPSBjeSArIGRlbHRhWzFdO1xuXHRcdGRlbGV0ZSB0aGlzLl93YWxsc1t4K1wiLFwiK3ldO1xuXHRcdHZhciB4ID0gY3ggKyAyKmRlbHRhWzBdO1xuXHRcdHZhciB5ID0gY3kgKyAyKmRlbHRhWzFdO1xuXHRcdGRlbGV0ZSB0aGlzLl93YWxsc1t4K1wiLFwiK3ldO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB2ZWN0b3IgaW4gXCJkaWdnaW5nXCIgZGlyZWN0aW9uLCBvciBmYWxzZSwgaWYgdGhpcyBkb2VzIG5vdCBleGlzdCAob3IgaXMgbm90IHVuaXF1ZSlcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9nZXREaWdnaW5nRGlyZWN0aW9uID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdGlmIChjeCA8PSAwIHx8IGN5IDw9IDAgfHwgY3ggPj0gdGhpcy5fd2lkdGggLSAxIHx8IGN5ID49IHRoaXMuX2hlaWdodCAtIDEpIHsgcmV0dXJuIG51bGw7IH1cblxuXHR2YXIgcmVzdWx0ID0gbnVsbDtcblx0dmFyIGRlbHRhcyA9IFJPVC5ESVJTWzRdO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8ZGVsdGFzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGVsdGEgPSBkZWx0YXNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRlbHRhWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkZWx0YVsxXTtcblx0XHRcblx0XHRpZiAoIXRoaXMuX21hcFt4XVt5XSkgeyAvKiB0aGVyZSBhbHJlYWR5IGlzIGFub3RoZXIgZW1wdHkgbmVpZ2hib3IhICovXG5cdFx0XHRpZiAocmVzdWx0KSB7IHJldHVybiBudWxsOyB9XG5cdFx0XHRyZXN1bHQgPSBkZWx0YTtcblx0XHR9XG5cdH1cblx0XG5cdC8qIG5vIGVtcHR5IG5laWdoYm9yICovXG5cdGlmICghcmVzdWx0KSB7IHJldHVybiBudWxsOyB9XG5cdFxuXHRyZXR1cm4gWy1yZXN1bHRbMF0sIC1yZXN1bHRbMV1dO1xufVxuXG4vKipcbiAqIEZpbmQgZW1wdHkgc3BhY2VzIHN1cnJvdW5kaW5nIHJvb21zLCBhbmQgYXBwbHkgZG9vcnMuXG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fYWRkRG9vcnMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGRhdGEgPSB0aGlzLl9tYXA7XG5cdHZhciBpc1dhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0XHRyZXR1cm4gKGRhdGFbeF1beV0gPT0gMSk7XG5cdH1cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9yb29tcy5sZW5ndGg7IGkrKyApIHtcblx0XHR2YXIgcm9vbSA9IHRoaXMuX3Jvb21zW2ldO1xuXHRcdHJvb20uY2xlYXJEb29ycygpO1xuXHRcdHJvb20uYWRkRG9vcnMoaXNXYWxsQ2FsbGJhY2spO1xuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIGdlbmVyYXRvciB3aGljaCB0cmllcyB0byBmaWxsIHRoZSBzcGFjZSBldmVubHkuIEdlbmVyYXRlcyBpbmRlcGVuZGVudCByb29tcyBhbmQgdHJpZXMgdG8gY29ubmVjdCB0aGVtLlxuICogQGF1Z21lbnRzIFJPVC5NYXAuRHVuZ2VvblxuICovXG5ST1QuTWFwLlVuaWZvcm0gPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuRHVuZ2Vvbi5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0cm9vbVdpZHRoOiBbMywgOV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSB3aWR0aCAqL1xuXHRcdHJvb21IZWlnaHQ6IFszLCA1XSwgLyogcm9vbSBtaW5pbXVtIGFuZCBtYXhpbXVtIGhlaWdodCAqL1xuXHRcdHJvb21EdWdQZXJjZW50YWdlOiAwLjEsIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBwZXJjZW50YWdlIG9mIGxldmVsIGFyZWEgaGFzIGJlZW4gZHVnIG91dCBieSByb29tcyAqL1xuXHRcdHRpbWVMaW1pdDogMTAwMCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgbXVjaCB0aW1lIGhhcyBwYXNzZWQgKG1zZWMpICovXG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cblx0dGhpcy5fcm9vbUF0dGVtcHRzID0gMjA7IC8qIG5ldyByb29tIGlzIGNyZWF0ZWQgTi10aW1lcyB1bnRpbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gZ2VuZXJhdGUgKi9cblx0dGhpcy5fY29ycmlkb3JBdHRlbXB0cyA9IDIwOyAvKiBjb3JyaWRvcnMgYXJlIHRyaWVkIE4tdGltZXMgdW50aWwgdGhlIGxldmVsIGlzIGNvbnNpZGVyZWQgYXMgaW1wb3NzaWJsZSB0byBjb25uZWN0ICovXG5cblx0dGhpcy5fY29ubmVjdGVkID0gW107IC8qIGxpc3Qgb2YgYWxyZWFkeSBjb25uZWN0ZWQgcm9vbXMgKi9cblx0dGhpcy5fdW5jb25uZWN0ZWQgPSBbXTsgLyogbGlzdCBvZiByZW1haW5pbmcgdW5jb25uZWN0ZWQgcm9vbXMgKi9cblx0XG5cdHRoaXMuX2RpZ0NhbGxiYWNrID0gdGhpcy5fZGlnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5fY2FuQmVEdWdDYWxsYmFjayA9IHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5faXNXYWxsQ2FsbGJhY2sgPSB0aGlzLl9pc1dhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xufVxuUk9ULk1hcC5Vbmlmb3JtLmV4dGVuZChST1QuTWFwLkR1bmdlb24pO1xuXG4vKipcbiAqIENyZWF0ZSBhIG1hcC4gSWYgdGhlIHRpbWUgbGltaXQgaGFzIGJlZW4gaGl0LCByZXR1cm5zIG51bGwuXG4gKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHQxID0gRGF0ZS5ub3coKTtcblx0d2hpbGUgKDEpIHtcblx0XHR2YXIgdDIgPSBEYXRlLm5vdygpO1xuXHRcdGlmICh0MiAtIHQxID4gdGhpcy5fb3B0aW9ucy50aW1lTGltaXQpIHsgcmV0dXJuIG51bGw7IH0gLyogdGltZSBsaW1pdCEgKi9cblx0XG5cdFx0dGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XHR0aGlzLl9kdWcgPSAwO1xuXHRcdHRoaXMuX3Jvb21zID0gW107XG5cdFx0dGhpcy5fdW5jb25uZWN0ZWQgPSBbXTtcblx0XHR0aGlzLl9nZW5lcmF0ZVJvb21zKCk7XG5cdFx0aWYgKHRoaXMuX3Jvb21zLmxlbmd0aCA8IDIpIHsgY29udGludWU7IH1cblx0XHRpZiAodGhpcy5fZ2VuZXJhdGVDb3JyaWRvcnMoKSkgeyBicmVhazsgfVxuXHR9XG5cdFxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHN1aXRhYmxlIGFtb3VudCBvZiByb29tc1xuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZVJvb21zID0gZnVuY3Rpb24oKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGgtMjtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQtMjtcblxuXHRkbyB7XG5cdFx0dmFyIHJvb20gPSB0aGlzLl9nZW5lcmF0ZVJvb20oKTtcblx0XHRpZiAodGhpcy5fZHVnLyh3KmgpID4gdGhpcy5fb3B0aW9ucy5yb29tRHVnUGVyY2VudGFnZSkgeyBicmVhazsgfSAvKiBhY2hpZXZlZCByZXF1ZXN0ZWQgYW1vdW50IG9mIGZyZWUgc3BhY2UgKi9cblx0fSB3aGlsZSAocm9vbSk7XG5cblx0LyogZWl0aGVyIGVub3VnaCByb29tcywgb3Igbm90IGFibGUgdG8gZ2VuZXJhdGUgbW9yZSBvZiB0aGVtIDopICovXG59XG5cbi8qKlxuICogVHJ5IHRvIGdlbmVyYXRlIG9uZSByb29tXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2dlbmVyYXRlUm9vbSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY291bnQgPSAwO1xuXHR3aGlsZSAoY291bnQgPCB0aGlzLl9yb29tQXR0ZW1wdHMpIHtcblx0XHRjb3VudCsrO1xuXHRcdFxuXHRcdHZhciByb29tID0gUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tKHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQsIHRoaXMuX29wdGlvbnMpO1xuXHRcdGlmICghcm9vbS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkgeyBjb250aW51ZTsgfVxuXHRcdFxuXHRcdHJvb20uY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcblx0XHR0aGlzLl9yb29tcy5wdXNoKHJvb20pO1xuXHRcdHJldHVybiByb29tO1xuXHR9IFxuXG5cdC8qIG5vIHJvb20gd2FzIGdlbmVyYXRlZCBpbiBhIGdpdmVuIG51bWJlciBvZiBhdHRlbXB0cyAqL1xuXHRyZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgY29ubmVjdG9ycyBiZXdlZW4gcm9vbXNcbiAqIEByZXR1cm5zIHtib29sfSBzdWNjZXNzIFdhcyB0aGlzIGF0dGVtcHQgc3VjY2Vzc2Z1bGw/XG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2dlbmVyYXRlQ29ycmlkb3JzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBjbnQgPSAwO1xuXHR3aGlsZSAoY250IDwgdGhpcy5fY29ycmlkb3JBdHRlbXB0cykge1xuXHRcdGNudCsrO1xuXHRcdHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuXG5cdFx0LyogZGlnIHJvb21zIGludG8gYSBjbGVhciBtYXAgKi9cblx0XHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHRcdGZvciAodmFyIGk9MDtpPHRoaXMuX3Jvb21zLmxlbmd0aDtpKyspIHsgXG5cdFx0XHR2YXIgcm9vbSA9IHRoaXMuX3Jvb21zW2ldO1xuXHRcdFx0cm9vbS5jbGVhckRvb3JzKCk7XG5cdFx0XHRyb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7IFxuXHRcdH1cblxuXHRcdHRoaXMuX3VuY29ubmVjdGVkID0gdGhpcy5fcm9vbXMuc2xpY2UoKS5yYW5kb21pemUoKTtcblx0XHR0aGlzLl9jb25uZWN0ZWQgPSBbXTtcblx0XHRpZiAodGhpcy5fdW5jb25uZWN0ZWQubGVuZ3RoKSB7IHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHRoaXMuX3VuY29ubmVjdGVkLnBvcCgpKTsgfSAvKiBmaXJzdCBvbmUgaXMgYWx3YXlzIGNvbm5lY3RlZCAqL1xuXHRcdFxuXHRcdHdoaWxlICgxKSB7XG5cdFx0XHQvKiAxLiBwaWNrIHJhbmRvbSBjb25uZWN0ZWQgcm9vbSAqL1xuXHRcdFx0dmFyIGNvbm5lY3RlZCA9IHRoaXMuX2Nvbm5lY3RlZC5yYW5kb20oKTtcblx0XHRcdFxuXHRcdFx0LyogMi4gZmluZCBjbG9zZXN0IHVuY29ubmVjdGVkICovXG5cdFx0XHR2YXIgcm9vbTEgPSB0aGlzLl9jbG9zZXN0Um9vbSh0aGlzLl91bmNvbm5lY3RlZCwgY29ubmVjdGVkKTtcblx0XHRcdFxuXHRcdFx0LyogMy4gY29ubmVjdCBpdCB0byBjbG9zZXN0IGNvbm5lY3RlZCAqL1xuXHRcdFx0dmFyIHJvb20yID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fY29ubmVjdGVkLCByb29tMSk7XG5cdFx0XHRcblx0XHRcdHZhciBvayA9IHRoaXMuX2Nvbm5lY3RSb29tcyhyb29tMSwgcm9vbTIpO1xuXHRcdFx0aWYgKCFvaykgeyBicmVhazsgfSAvKiBzdG9wIGNvbm5lY3RpbmcsIHJlLXNodWZmbGUgKi9cblx0XHRcdFxuXHRcdFx0aWYgKCF0aGlzLl91bmNvbm5lY3RlZC5sZW5ndGgpIHsgcmV0dXJuIHRydWU7IH0gLyogZG9uZTsgbm8gcm9vbXMgcmVtYWluICovXG5cdFx0fVxuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBGb3IgYSBnaXZlbiByb29tLCBmaW5kIHRoZSBjbG9zZXN0IG9uZSBmcm9tIHRoZSBsaXN0XG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2Nsb3Nlc3RSb29tID0gZnVuY3Rpb24ocm9vbXMsIHJvb20pIHtcblx0dmFyIGRpc3QgPSBJbmZpbml0eTtcblx0dmFyIGNlbnRlciA9IHJvb20uZ2V0Q2VudGVyKCk7XG5cdHZhciByZXN1bHQgPSBudWxsO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8cm9vbXMubGVuZ3RoO2krKykge1xuXHRcdHZhciByID0gcm9vbXNbaV07XG5cdFx0dmFyIGMgPSByLmdldENlbnRlcigpO1xuXHRcdHZhciBkeCA9IGNbMF0tY2VudGVyWzBdO1xuXHRcdHZhciBkeSA9IGNbMV0tY2VudGVyWzFdO1xuXHRcdHZhciBkID0gZHgqZHgrZHkqZHk7XG5cdFx0XG5cdFx0aWYgKGQgPCBkaXN0KSB7XG5cdFx0XHRkaXN0ID0gZDtcblx0XHRcdHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9jb25uZWN0Um9vbXMgPSBmdW5jdGlvbihyb29tMSwgcm9vbTIpIHtcblx0Lypcblx0XHRyb29tMS5kZWJ1ZygpO1xuXHRcdHJvb20yLmRlYnVnKCk7XG5cdCovXG5cblx0dmFyIGNlbnRlcjEgPSByb29tMS5nZXRDZW50ZXIoKTtcblx0dmFyIGNlbnRlcjIgPSByb29tMi5nZXRDZW50ZXIoKTtcblxuXHR2YXIgZGlmZlggPSBjZW50ZXIyWzBdIC0gY2VudGVyMVswXTtcblx0dmFyIGRpZmZZID0gY2VudGVyMlsxXSAtIGNlbnRlcjFbMV07XG5cblx0aWYgKE1hdGguYWJzKGRpZmZYKSA8IE1hdGguYWJzKGRpZmZZKSkgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBub3J0aC1zb3V0aCB3YWxscyAqL1xuXHRcdHZhciBkaXJJbmRleDEgPSAoZGlmZlkgPiAwID8gMiA6IDApO1xuXHRcdHZhciBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuXHRcdHZhciBtaW4gPSByb29tMi5nZXRMZWZ0KCk7XG5cdFx0dmFyIG1heCA9IHJvb20yLmdldFJpZ2h0KCk7XG5cdFx0dmFyIGluZGV4ID0gMDtcblx0fSBlbHNlIHsgLyogZmlyc3QgdHJ5IGNvbm5lY3RpbmcgZWFzdC13ZXN0IHdhbGxzICovXG5cdFx0dmFyIGRpckluZGV4MSA9IChkaWZmWCA+IDAgPyAxIDogMyk7XG5cdFx0dmFyIGRpckluZGV4MiA9IChkaXJJbmRleDEgKyAyKSAlIDQ7XG5cdFx0dmFyIG1pbiA9IHJvb20yLmdldFRvcCgpO1xuXHRcdHZhciBtYXggPSByb29tMi5nZXRCb3R0b20oKTtcblx0XHR2YXIgaW5kZXggPSAxO1xuXHR9XG5cblx0dmFyIHN0YXJ0ID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTEsIGRpckluZGV4MSk7IC8qIGNvcnJpZG9yIHdpbGwgc3RhcnQgaGVyZSAqL1xuXHRpZiAoIXN0YXJ0KSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChzdGFydFtpbmRleF0gPj0gbWluICYmIHN0YXJ0W2luZGV4XSA8PSBtYXgpIHsgLyogcG9zc2libGUgdG8gY29ubmVjdCB3aXRoIHN0cmFpZ2h0IGxpbmUgKEktbGlrZSkgKi9cblx0XHR2YXIgZW5kID0gc3RhcnQuc2xpY2UoKTtcblx0XHR2YXIgdmFsdWUgPSBudWxsO1xuXHRcdHN3aXRjaCAoZGlySW5kZXgyKSB7XG5cdFx0XHRjYXNlIDA6IHZhbHVlID0gcm9vbTIuZ2V0VG9wKCktMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDE6IHZhbHVlID0gcm9vbTIuZ2V0UmlnaHQoKSsxOyBicmVhaztcblx0XHRcdGNhc2UgMjogdmFsdWUgPSByb29tMi5nZXRCb3R0b20oKSsxOyBicmVhaztcblx0XHRcdGNhc2UgMzogdmFsdWUgPSByb29tMi5nZXRMZWZ0KCktMTsgYnJlYWs7XG5cdFx0fVxuXHRcdGVuZFsoaW5kZXgrMSklMl0gPSB2YWx1ZTtcblx0XHR0aGlzLl9kaWdMaW5lKFtzdGFydCwgZW5kXSk7XG5cdFx0XG5cdH0gZWxzZSBpZiAoc3RhcnRbaW5kZXhdIDwgbWluLTEgfHwgc3RhcnRbaW5kZXhdID4gbWF4KzEpIHsgLyogbmVlZCB0byBzd2l0Y2ggdGFyZ2V0IHdhbGwgKEwtbGlrZSkgKi9cblxuXHRcdHZhciBkaWZmID0gc3RhcnRbaW5kZXhdIC0gY2VudGVyMltpbmRleF07XG5cdFx0c3dpdGNoIChkaXJJbmRleDIpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdGNhc2UgMTpcdHZhciByb3RhdGlvbiA9IChkaWZmIDwgMCA/IDMgOiAxKTsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRjYXNlIDM6XHR2YXIgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAxIDogMyk7IGJyZWFrO1xuXHRcdH1cblx0XHRkaXJJbmRleDIgPSAoZGlySW5kZXgyICsgcm90YXRpb24pICUgNDtcblx0XHRcblx0XHR2YXIgZW5kID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTIsIGRpckluZGV4Mik7XG5cdFx0aWYgKCFlbmQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHR2YXIgbWlkID0gWzAsIDBdO1xuXHRcdG1pZFtpbmRleF0gPSBzdGFydFtpbmRleF07XG5cdFx0dmFyIGluZGV4MiA9IChpbmRleCsxKSUyO1xuXHRcdG1pZFtpbmRleDJdID0gZW5kW2luZGV4Ml07XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIG1pZCwgZW5kXSk7XG5cdFx0XG5cdH0gZWxzZSB7IC8qIHVzZSBjdXJyZW50IHdhbGwgcGFpciwgYnV0IGFkanVzdCB0aGUgbGluZSBpbiB0aGUgbWlkZGxlIChTLWxpa2UpICovXG5cdFxuXHRcdHZhciBpbmRleDIgPSAoaW5kZXgrMSklMjtcblx0XHR2YXIgZW5kID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTIsIGRpckluZGV4Mik7XG5cdFx0aWYgKCFlbmQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0dmFyIG1pZCA9IE1hdGgucm91bmQoKGVuZFtpbmRleDJdICsgc3RhcnRbaW5kZXgyXSkvMik7XG5cblx0XHR2YXIgbWlkMSA9IFswLCAwXTtcblx0XHR2YXIgbWlkMiA9IFswLCAwXTtcblx0XHRtaWQxW2luZGV4XSA9IHN0YXJ0W2luZGV4XTtcblx0XHRtaWQxW2luZGV4Ml0gPSBtaWQ7XG5cdFx0bWlkMltpbmRleF0gPSBlbmRbaW5kZXhdO1xuXHRcdG1pZDJbaW5kZXgyXSA9IG1pZDtcblx0XHR0aGlzLl9kaWdMaW5lKFtzdGFydCwgbWlkMSwgbWlkMiwgZW5kXSk7XG5cdH1cblxuXHRyb29tMS5hZGREb29yKHN0YXJ0WzBdLCBzdGFydFsxXSk7XG5cdHJvb20yLmFkZERvb3IoZW5kWzBdLCBlbmRbMV0pO1xuXHRcblx0dmFyIGluZGV4ID0gdGhpcy5fdW5jb25uZWN0ZWQuaW5kZXhPZihyb29tMSk7XG5cdGlmIChpbmRleCAhPSAtMSkge1xuXHRcdHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG5cdFx0dGhpcy5fY29ubmVjdGVkLnB1c2gocm9vbTEpO1xuXHR9XG5cblx0dmFyIGluZGV4ID0gdGhpcy5fdW5jb25uZWN0ZWQuaW5kZXhPZihyb29tMik7XG5cdGlmIChpbmRleCAhPSAtMSkge1xuXHRcdHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG5cdFx0dGhpcy5fY29ubmVjdGVkLnB1c2gocm9vbTIpO1xuXHR9XG5cdFxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fcGxhY2VJbldhbGwgPSBmdW5jdGlvbihyb29tLCBkaXJJbmRleCkge1xuXHR2YXIgc3RhcnQgPSBbMCwgMF07XG5cdHZhciBkaXIgPSBbMCwgMF07XG5cdHZhciBsZW5ndGggPSAwO1xuXHRcblx0c3dpdGNoIChkaXJJbmRleCkge1xuXHRcdGNhc2UgMDpcblx0XHRcdGRpciA9IFsxLCAwXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLCByb29tLmdldFRvcCgpLTFdO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRSaWdodCgpLXJvb20uZ2V0TGVmdCgpKzE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAxOlxuXHRcdFx0ZGlyID0gWzAsIDFdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRSaWdodCgpKzEsIHJvb20uZ2V0VG9wKCldO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRCb3R0b20oKS1yb29tLmdldFRvcCgpKzE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0ZGlyID0gWzEsIDBdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCksIHJvb20uZ2V0Qm90dG9tKCkrMV07XG5cdFx0XHRsZW5ndGggPSByb29tLmdldFJpZ2h0KCktcm9vbS5nZXRMZWZ0KCkrMTtcblx0XHRicmVhaztcblx0XHRjYXNlIDM6XG5cdFx0XHRkaXIgPSBbMCwgMV07XG5cdFx0XHRzdGFydCA9IFtyb29tLmdldExlZnQoKS0xLCByb29tLmdldFRvcCgpXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0Qm90dG9tKCktcm9vbS5nZXRUb3AoKSsxO1xuXHRcdGJyZWFrO1xuXHR9XG5cdFxuXHR2YXIgYXZhaWwgPSBbXTtcblx0dmFyIGxhc3RCYWRJbmRleCA9IC0yO1xuXG5cdGZvciAodmFyIGk9MDtpPGxlbmd0aDtpKyspIHtcblx0XHR2YXIgeCA9IHN0YXJ0WzBdICsgaSpkaXJbMF07XG5cdFx0dmFyIHkgPSBzdGFydFsxXSArIGkqZGlyWzFdO1xuXHRcdGF2YWlsLnB1c2gobnVsbCk7XG5cdFx0XG5cdFx0dmFyIGlzV2FsbCA9ICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG5cdFx0aWYgKGlzV2FsbCkge1xuXHRcdFx0aWYgKGxhc3RCYWRJbmRleCAhPSBpLTEpIHsgYXZhaWxbaV0gPSBbeCwgeV07IH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGFzdEJhZEluZGV4ID0gaTtcblx0XHRcdGlmIChpKSB7IGF2YWlsW2ktMV0gPSBudWxsOyB9XG5cdFx0fVxuXHR9XG5cdFxuXHRmb3IgKHZhciBpPWF2YWlsLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcblx0XHRpZiAoIWF2YWlsW2ldKSB7IGF2YWlsLnNwbGljZShpLCAxKTsgfVxuXHR9XG5cdHJldHVybiAoYXZhaWwubGVuZ3RoID8gYXZhaWwucmFuZG9tKCkgOiBudWxsKTtcbn1cblxuLyoqXG4gKiBEaWcgYSBwb2x5bGluZS5cbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZGlnTGluZSA9IGZ1bmN0aW9uKHBvaW50cykge1xuXHRmb3IgKHZhciBpPTE7aTxwb2ludHMubGVuZ3RoO2krKykge1xuXHRcdHZhciBzdGFydCA9IHBvaW50c1tpLTFdO1xuXHRcdHZhciBlbmQgPSBwb2ludHNbaV07XG5cdFx0dmFyIGNvcnJpZG9yID0gbmV3IFJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcihzdGFydFswXSwgc3RhcnRbMV0sIGVuZFswXSwgZW5kWzFdKTtcblx0XHRjb3JyaWRvci5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuXHRcdHRoaXMuX2NvcnJpZG9ycy5wdXNoKGNvcnJpZG9yKTtcblx0fVxufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9kaWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlO1xuXHRpZiAodmFsdWUgPT0gMCkgeyB0aGlzLl9kdWcrKzsgfVxufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9pc1dhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9jYW5CZUR1Z0NhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAoeCA8IDEgfHwgeSA8IDEgfHwgeCsxID49IHRoaXMuX3dpZHRoIHx8IHkrMSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG4vKipcbiAqIEBhdXRob3IgaHlha3VnZWlcbiAqIEBjbGFzcyBEdW5nZW9uIGdlbmVyYXRvciB3aGljaCB1c2VzIHRoZSBcIm9yZ2luYWxcIiBSb2d1ZSBkdW5nZW9uIGdlbmVyYXRpb24gYWxnb3JpdGhtLiBTZWUgaHR0cDovL2t1b2kuY29tL35rYW1pa2F6ZS9HYW1lRGVzaWduL2FydDA3X3JvZ3VlX2R1bmdlb24ucGhwXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uc1xuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuY2VsbFdpZHRoPTNdIE51bWJlciBvZiBjZWxscyB0byBjcmVhdGUgb24gdGhlIGhvcml6b250YWwgKG51bWJlciBvZiByb29tcyBob3Jpem9udGFsbHkpXG4gKiBAcGFyYW0ge2ludFtdfSBbb3B0aW9ucy5jZWxsSGVpZ2h0PTNdIE51bWJlciBvZiBjZWxscyB0byBjcmVhdGUgb24gdGhlIHZlcnRpY2FsIChudW1iZXIgb2Ygcm9vbXMgdmVydGljYWxseSkgXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucm9vbVdpZHRoXSBSb29tIG1pbiBhbmQgbWF4IHdpZHRoIC0gbm9ybWFsbHkgc2V0IGF1dG8tbWFnaWNhbGx5IHZpYSB0aGUgY29uc3RydWN0b3IuXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucm9vbUhlaWdodF0gUm9vbSBtaW4gYW5kIG1heCBoZWlnaHQgLSBub3JtYWxseSBzZXQgYXV0by1tYWdpY2FsbHkgdmlhIHRoZSBjb25zdHJ1Y3Rvci4gXG4gKi9cblJPVC5NYXAuUm9ndWUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0Y2VsbFdpZHRoOiAzLCAgLy8gTk9URSB0byBzZWxmLCB0aGVzZSBjb3VsZCBwcm9iYWJseSB3b3JrIHRoZSBzYW1lIGFzIHRoZSByb29tV2lkdGgvcm9vbSBIZWlnaHQgdmFsdWVzXG5cdFx0Y2VsbEhlaWdodDogMyAgLy8gICAgIGllLiBhcyBhbiBhcnJheSB3aXRoIG1pbi1tYXggdmFsdWVzIGZvciBlYWNoIGRpcmVjdGlvbi4uLi5cblx0fVxuXHRcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdFxuXHQvKlxuXHRTZXQgdGhlIHJvb20gc2l6ZXMgYWNjb3JkaW5nIHRvIHRoZSBvdmVyLWFsbCB3aWR0aCBvZiB0aGUgbWFwLCBcblx0YW5kIHRoZSBjZWxsIHNpemVzLiBcblx0Ki9cblx0XG5cdGlmICghdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcInJvb21XaWR0aFwiKSkge1xuXHRcdHRoaXMuX29wdGlvbnNbXCJyb29tV2lkdGhcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl93aWR0aCwgdGhpcy5fb3B0aW9uc1tcImNlbGxXaWR0aFwiXSk7XG5cdH1cblx0aWYgKCF0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KFwicm9vbUhlaWdodFwiKSkge1xuXHRcdHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdID0gdGhpcy5fY2FsY3VsYXRlUm9vbVNpemUodGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zW1wiY2VsbEhlaWdodFwiXSk7XG5cdH1cblx0XG59XG5cblJPVC5NYXAuUm9ndWUuZXh0ZW5kKFJPVC5NYXApOyBcblxuLyoqXG4gKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gKi9cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHRoaXMubWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0dGhpcy5yb29tcyA9IFtdO1xuXHR0aGlzLmNvbm5lY3RlZENlbGxzID0gW107XG5cdFxuXHR0aGlzLl9pbml0Um9vbXMoKTtcblx0dGhpcy5fY29ubmVjdFJvb21zKCk7XG5cdHRoaXMuX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zKCk7XG5cdHRoaXMuX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucygpO1xuXHR0aGlzLl9jcmVhdGVSb29tcygpO1xuXHR0aGlzLl9jcmVhdGVDb3JyaWRvcnMoKTtcblx0XG5cdGlmIChjYWxsYmFjaykge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuXHRcdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLm1hcFtpXVtqXSk7ICAgXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZVJvb21TaXplID0gZnVuY3Rpb24oc2l6ZSwgY2VsbCkge1xuXHR2YXIgbWF4ID0gTWF0aC5mbG9vcigoc2l6ZS9jZWxsKSAqIDAuOCk7XG5cdHZhciBtaW4gPSBNYXRoLmZsb29yKChzaXplL2NlbGwpICogMC4yNSk7XG5cdGlmIChtaW4gPCAyKSBtaW4gPSAyO1xuXHRpZiAobWF4IDwgMikgbWF4ID0gMjtcblx0cmV0dXJuIFttaW4sIG1heF07XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9pbml0Um9vbXMgPSBmdW5jdGlvbiAoKSB7IFxuXHQvLyBjcmVhdGUgcm9vbXMgYXJyYXkuIFRoaXMgaXMgdGhlIFwiZ3JpZFwiIGxpc3QgZnJvbSB0aGUgYWxnby4gIFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHsgIFxuXHRcdHRoaXMucm9vbXMucHVzaChbXSk7XG5cdFx0Zm9yKHZhciBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSB7XG5cdFx0XHR0aGlzLnJvb21zW2ldLnB1c2goe1wieFwiOjAsIFwieVwiOjAsIFwid2lkdGhcIjowLCBcImhlaWdodFwiOjAsIFwiY29ubmVjdGlvbnNcIjpbXSwgXCJjZWxseFwiOmksIFwiY2VsbHlcIjpqfSk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jb25uZWN0Um9vbXMgPSBmdW5jdGlvbigpIHtcblx0Ly9waWNrIHJhbmRvbSBzdGFydGluZyBncmlkXG5cdHZhciBjZ3ggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGgtMSk7XG5cdHZhciBjZ3kgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0LTEpO1xuXHRcblx0dmFyIGlkeDtcblx0dmFyIG5jZ3g7XG5cdHZhciBuY2d5O1xuXHRcblx0dmFyIGZvdW5kID0gZmFsc2U7XG5cdHZhciByb29tO1xuXHR2YXIgb3RoZXJSb29tO1xuXHRcblx0Ly8gZmluZCAgdW5jb25uZWN0ZWQgbmVpZ2hib3VyIGNlbGxzXG5cdGRvIHtcblx0XG5cdFx0Ly92YXIgZGlyVG9DaGVjayA9IFswLDEsMiwzLDQsNSw2LDddO1xuXHRcdHZhciBkaXJUb0NoZWNrID0gWzAsMiw0LDZdO1xuXHRcdGRpclRvQ2hlY2sgPSBkaXJUb0NoZWNrLnJhbmRvbWl6ZSgpO1xuXHRcdFxuXHRcdGRvIHtcblx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0XHRpZHggPSBkaXJUb0NoZWNrLnBvcCgpO1xuXHRcdFx0XG5cdFx0XHRcblx0XHRcdG5jZ3ggPSBjZ3ggKyBST1QuRElSU1s4XVtpZHhdWzBdO1xuXHRcdFx0bmNneSA9IGNneSArIFJPVC5ESVJTWzhdW2lkeF1bMV07XG5cdFx0XHRcblx0XHRcdGlmKG5jZ3ggPCAwIHx8IG5jZ3ggPj0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGgpIGNvbnRpbnVlO1xuXHRcdFx0aWYobmNneSA8IDAgfHwgbmNneSA+PSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQpIGNvbnRpbnVlO1xuXHRcdFx0XG5cdFx0XHRyb29tID0gdGhpcy5yb29tc1tjZ3hdW2NneV07XG5cdFx0XHRcblx0XHRcdGlmKHJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPiAwKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBhcyBsb25nIGFzIHRoaXMgcm9vbSBkb2Vzbid0IGFscmVhZHkgY29vbmVjdCB0byBtZSwgd2UgYXJlIG9rIHdpdGggaXQuIFxuXHRcdFx0XHRpZihyb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMF0gPT0gbmNneCAmJlxuXHRcdFx0XHRyb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMV0gPT0gbmNneSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmNneF1bbmNneV07XG5cdFx0XHRcblx0XHRcdGlmIChvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPT0gMCkgeyBcblx0XHRcdFx0b3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaChbY2d4LGNneV0pO1xuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy5jb25uZWN0ZWRDZWxscy5wdXNoKFtuY2d4LCBuY2d5XSk7XG5cdFx0XHRcdGNneCA9IG5jZ3g7XG5cdFx0XHRcdGNneSA9IG5jZ3k7XG5cdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHR9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDAgJiYgZm91bmQgPT0gZmFsc2UpXG5cdFx0XG5cdH0gd2hpbGUgKGRpclRvQ2hlY2subGVuZ3RoID4gMClcblxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY29ubmVjdFVuY29ubmVjdGVkUm9vbXMgPSBmdW5jdGlvbigpIHtcblx0Ly9XaGlsZSB0aGVyZSBhcmUgdW5jb25uZWN0ZWQgcm9vbXMsIHRyeSB0byBjb25uZWN0IHRoZW0gdG8gYSByYW5kb20gY29ubmVjdGVkIG5laWdoYm9yIFxuXHQvLyhpZiBhIHJvb20gaGFzIG5vIGNvbm5lY3RlZCBuZWlnaGJvcnMgeWV0LCBqdXN0IGtlZXAgY3ljbGluZywgeW91J2xsIGZpbGwgb3V0IHRvIGl0IGV2ZW50dWFsbHkpLlxuXHR2YXIgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcblx0dmFyIGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuXHRcblx0dmFyIHJhbmRvbUNvbm5lY3RlZENlbGw7XG5cdHRoaXMuY29ubmVjdGVkQ2VsbHMgPSB0aGlzLmNvbm5lY3RlZENlbGxzLnJhbmRvbWl6ZSgpO1xuXHR2YXIgcm9vbTtcblx0dmFyIG90aGVyUm9vbTtcblx0dmFyIHZhbGlkUm9vbTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7IGkrKykge1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0OyBqKyspICB7XG5cdFx0XHRcdFxuXHRcdFx0cm9vbSA9IHRoaXMucm9vbXNbaV1bal07XG5cdFx0XHRcblx0XHRcdGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcblx0XHRcdFx0dmFyIGRpcmVjdGlvbnMgPSBbMCwyLDQsNl07XG5cdFx0XHRcdGRpcmVjdGlvbnMgPSBkaXJlY3Rpb25zLnJhbmRvbWl6ZSgpO1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIHZhbGlkUm9vbSA9IGZhbHNlO1xuXHRcdFx0XHRcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhciBkaXJJZHggPSBkaXJlY3Rpb25zLnBvcCgpO1xuXHRcdFx0XHRcdHZhciBuZXdJID0gaSArIFJPVC5ESVJTWzhdW2RpcklkeF1bMF07XG5cdFx0XHRcdFx0dmFyIG5ld0ogPSBqICsgUk9ULkRJUlNbOF1bZGlySWR4XVsxXTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAobmV3SSA8IDAgfHwgbmV3SSA+PSBjdyB8fCBcblx0XHRcdFx0XHRuZXdKIDwgMCB8fCBuZXdKID49IGNoKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tuZXdJXVtuZXdKXTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR2YWxpZFJvb20gPSB0cnVlO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0XHRcdGlmKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdWzBdID09IGkgJiYgXG5cdFx0XHRcdFx0XHRvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXVtrXVsxXSA9PSBqKSB7XG5cdFx0XHRcdFx0XHRcdHZhbGlkUm9vbSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKHZhbGlkUm9vbSkgYnJlYWs7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0gd2hpbGUgKGRpcmVjdGlvbnMubGVuZ3RoKVxuXHRcdFx0XHRcblx0XHRcdFx0aWYodmFsaWRSb29tKSB7IFxuXHRcdFx0XHRcdHJvb21bXCJjb25uZWN0aW9uc1wiXS5wdXNoKCBbb3RoZXJSb29tW1wiY2VsbHhcIl0sIG90aGVyUm9vbVtcImNlbGx5XCJdXSApOyAgXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCItLSBVbmFibGUgdG8gY29ubmVjdCByb29tLlwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zID0gZnVuY3Rpb24oY29ubmVjdGlvbnMpIHtcblx0Ly8gRW1wdHkgZm9yIG5vdy4gXG59XG5cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZVJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vIENyZWF0ZSBSb29tcyBcblx0XG5cdHZhciB3ID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0O1xuXHRcblx0dmFyIGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG5cdHZhciBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcblx0XG5cdHZhciBjd3AgPSBNYXRoLmZsb29yKHRoaXMuX3dpZHRoIC8gY3cpO1xuXHR2YXIgY2hwID0gTWF0aC5mbG9vcih0aGlzLl9oZWlnaHQgLyBjaCk7XG5cdFxuXHR2YXIgcm9vbXc7XG5cdHZhciByb29taDtcblx0dmFyIHJvb21XaWR0aCA9IHRoaXMuX29wdGlvbnNbXCJyb29tV2lkdGhcIl07XG5cdHZhciByb29tSGVpZ2h0ID0gdGhpcy5fb3B0aW9uc1tcInJvb21IZWlnaHRcIl07XG5cdHZhciBzeDtcblx0dmFyIHN5O1xuXHR2YXIgdHg7XG5cdHZhciB0eTtcblx0dmFyIG90aGVyUm9vbTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY3c7IGkrKykge1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2g7IGorKykge1xuXHRcdFx0c3ggPSBjd3AgKiBpO1xuXHRcdFx0c3kgPSBjaHAgKiBqO1xuXHRcdFx0XG5cdFx0XHRpZiAoc3ggPT0gMCkgc3ggPSAxO1xuXHRcdFx0aWYgKHN5ID09IDApIHN5ID0gMTtcblx0XHRcdFxuXHRcdFx0cm9vbXcgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQocm9vbVdpZHRoWzBdLCByb29tV2lkdGhbMV0pO1xuXHRcdFx0cm9vbWggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQocm9vbUhlaWdodFswXSwgcm9vbUhlaWdodFsxXSk7XG5cdFx0XHRcblx0XHRcdGlmIChqID4gMCkge1xuXHRcdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW2ldW2otMV07XG5cdFx0XHRcdHdoaWxlIChzeSAtIChvdGhlclJvb21bXCJ5XCJdICsgb3RoZXJSb29tW1wiaGVpZ2h0XCJdICkgPCAzKSB7XG5cdFx0XHRcdFx0c3krKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaSA+IDApIHtcblx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tpLTFdW2pdO1xuXHRcdFx0XHR3aGlsZShzeCAtIChvdGhlclJvb21bXCJ4XCJdICsgb3RoZXJSb29tW1wid2lkdGhcIl0pIDwgMykge1xuXHRcdFx0XHRcdHN4Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dmFyIHN4T2Zmc2V0ID0gTWF0aC5yb3VuZChST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgY3dwLXJvb213KS8yKTtcblx0XHRcdHZhciBzeU9mZnNldCA9IE1hdGgucm91bmQoUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGNocC1yb29taCkvMik7XG5cdFx0XHRcblx0XHRcdHdoaWxlIChzeCArIHN4T2Zmc2V0ICsgcm9vbXcgPj0gdykge1xuXHRcdFx0XHRpZihzeE9mZnNldCkge1xuXHRcdFx0XHRcdHN4T2Zmc2V0LS07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cm9vbXctLTsgXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0d2hpbGUgKHN5ICsgc3lPZmZzZXQgKyByb29taCA+PSBoKSB7IFxuXHRcdFx0XHRpZihzeU9mZnNldCkge1xuXHRcdFx0XHRcdHN5T2Zmc2V0LS07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cm9vbWgtLTsgXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0c3ggPSBzeCArIHN4T2Zmc2V0O1xuXHRcdFx0c3kgPSBzeSArIHN5T2Zmc2V0O1xuXHRcdFx0XG5cdFx0XHR0aGlzLnJvb21zW2ldW2pdW1wieFwiXSA9IHN4O1xuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcInlcIl0gPSBzeTtcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJ3aWR0aFwiXSA9IHJvb213O1xuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcImhlaWdodFwiXSA9IHJvb21oOyAgXG5cdFx0XHRcblx0XHRcdGZvciAodmFyIGlpID0gc3g7IGlpIDwgc3ggKyByb29tdzsgaWkrKykge1xuXHRcdFx0XHRmb3IgKHZhciBqaiA9IHN5OyBqaiA8IHN5ICsgcm9vbWg7IGpqKyspIHtcblx0XHRcdFx0XHR0aGlzLm1hcFtpaV1bampdID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fSAgXG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9nZXRXYWxsUG9zaXRpb24gPSBmdW5jdGlvbihhUm9vbSwgYURpcmVjdGlvbikge1xuXHR2YXIgcng7XG5cdHZhciByeTtcblx0dmFyIGRvb3I7XG5cdFxuXHRpZiAoYURpcmVjdGlvbiA9PSAxIHx8IGFEaXJlY3Rpb24gPT0gMykge1xuXHRcdHJ4ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KGFSb29tW1wieFwiXSArIDEsIGFSb29tW1wieFwiXSArIGFSb29tW1wid2lkdGhcIl0gLSAyKTtcblx0XHRpZiAoYURpcmVjdGlvbiA9PSAxKSB7XG5cdFx0XHRyeSA9IGFSb29tW1wieVwiXSAtIDI7XG5cdFx0XHRkb29yID0gcnkgKyAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyeSA9IGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdICsgMTtcblx0XHRcdGRvb3IgPSByeSAtMTtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5tYXBbcnhdW2Rvb3JdID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLiBcblx0XHRcblx0fSBlbHNlIGlmIChhRGlyZWN0aW9uID09IDIgfHwgYURpcmVjdGlvbiA9PSA0KSB7XG5cdFx0cnkgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQoYVJvb21bXCJ5XCJdICsgMSwgYVJvb21bXCJ5XCJdICsgYVJvb21bXCJoZWlnaHRcIl0gLSAyKTtcblx0XHRpZihhRGlyZWN0aW9uID09IDIpIHtcblx0XHRcdHJ4ID0gYVJvb21bXCJ4XCJdICsgYVJvb21bXCJ3aWR0aFwiXSArIDE7XG5cdFx0XHRkb29yID0gcnggLSAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyeCA9IGFSb29tW1wieFwiXSAtIDI7XG5cdFx0XHRkb29yID0gcnggKyAxO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLm1hcFtkb29yXVtyeV0gPSAwOyAvLyBpJ20gbm90IHNldHRpbmcgYSBzcGVjaWZpYyAnZG9vcicgdGlsZSB2YWx1ZSByaWdodCBub3csIGp1c3QgZW1wdHkgc3BhY2UuIFxuXHRcdFxuXHR9XG5cdHJldHVybiBbcngsIHJ5XTtcbn1cblxuLyoqKlxuKiBAcGFyYW0gc3RhcnRQb3NpdGlvbiBhIDIgZWxlbWVudCBhcnJheVxuKiBAcGFyYW0gZW5kUG9zaXRpb24gYSAyIGVsZW1lbnQgYXJyYXlcbiovXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fZHJhd0NvcnJpZG9yZSA9IGZ1bmN0aW9uIChzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xuXHR2YXIgeE9mZnNldCA9IGVuZFBvc2l0aW9uWzBdIC0gc3RhcnRQb3NpdGlvblswXTtcblx0dmFyIHlPZmZzZXQgPSBlbmRQb3NpdGlvblsxXSAtIHN0YXJ0UG9zaXRpb25bMV07XG5cdFxuXHR2YXIgeHBvcyA9IHN0YXJ0UG9zaXRpb25bMF07XG5cdHZhciB5cG9zID0gc3RhcnRQb3NpdGlvblsxXTtcblx0XG5cdHZhciB0ZW1wRGlzdDtcblx0dmFyIHhEaXI7XG5cdHZhciB5RGlyO1xuXHRcblx0dmFyIG1vdmU7IC8vIDIgZWxlbWVudCBhcnJheSwgZWxlbWVudCAwIGlzIHRoZSBkaXJlY3Rpb24sIGVsZW1lbnQgMSBpcyB0aGUgdG90YWwgdmFsdWUgdG8gbW92ZS4gXG5cdHZhciBtb3ZlcyA9IFtdOyAvLyBhIGxpc3Qgb2YgMiBlbGVtZW50IGFycmF5c1xuXHRcblx0dmFyIHhBYnMgPSBNYXRoLmFicyh4T2Zmc2V0KTtcblx0dmFyIHlBYnMgPSBNYXRoLmFicyh5T2Zmc2V0KTtcblx0XG5cdHZhciBwZXJjZW50ID0gUk9ULlJORy5nZXRVbmlmb3JtKCk7IC8vIHVzZWQgdG8gc3BsaXQgdGhlIG1vdmUgYXQgZGlmZmVyZW50IHBsYWNlcyBhbG9uZyB0aGUgbG9uZyBheGlzXG5cdHZhciBmaXJzdEhhbGYgPSBwZXJjZW50O1xuXHR2YXIgc2Vjb25kSGFsZiA9IDEgLSBwZXJjZW50O1xuXHRcblx0eERpciA9IHhPZmZzZXQgPiAwID8gMiA6IDY7XG5cdHlEaXIgPSB5T2Zmc2V0ID4gMCA/IDQgOiAwO1xuXHRcblx0aWYgKHhBYnMgPCB5QWJzKSB7XG5cdFx0Ly8gbW92ZSBmaXJzdEhhbGYgb2YgdGhlIHkgb2Zmc2V0XG5cdFx0dGVtcERpc3QgPSBNYXRoLmNlaWwoeUFicyAqIGZpcnN0SGFsZik7XG5cdFx0bW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcblx0XHQvLyBtb3ZlIGFsbCB0aGUgeCBvZmZzZXRcblx0XHRtb3Zlcy5wdXNoKFt4RGlyLCB4QWJzXSk7XG5cdFx0Ly8gbW92ZSBzZW5kSGFsZiBvZiB0aGUgIHkgb2Zmc2V0XG5cdFx0dGVtcERpc3QgPSBNYXRoLmZsb29yKHlBYnMgKiBzZWNvbmRIYWxmKTtcblx0XHRtb3Zlcy5wdXNoKFt5RGlyLCB0ZW1wRGlzdF0pO1xuXHR9IGVsc2Uge1xuXHRcdC8vICBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeCBvZmZzZXRcblx0XHR0ZW1wRGlzdCA9IE1hdGguY2VpbCh4QWJzICogZmlyc3RIYWxmKTtcblx0XHRtb3Zlcy5wdXNoKFt4RGlyLCB0ZW1wRGlzdF0pO1xuXHRcdC8vIG1vdmUgYWxsIHRoZSB5IG9mZnNldFxuXHRcdG1vdmVzLnB1c2goW3lEaXIsIHlBYnNdKTtcblx0XHQvLyBtb3ZlIHNlY29uZEhhbGYgb2YgdGhlIHggb2Zmc2V0LlxuXHRcdHRlbXBEaXN0ID0gTWF0aC5mbG9vcih4QWJzICogc2Vjb25kSGFsZik7XG5cdFx0bW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTsgIFxuXHR9XG5cdFxuXHR0aGlzLm1hcFt4cG9zXVt5cG9zXSA9IDA7XG5cdFxuXHR3aGlsZSAobW92ZXMubGVuZ3RoID4gMCkge1xuXHRcdG1vdmUgPSBtb3Zlcy5wb3AoKTtcblx0XHR3aGlsZSAobW92ZVsxXSA+IDApIHtcblx0XHRcdHhwb3MgKz0gUk9ULkRJUlNbOF1bbW92ZVswXV1bMF07XG5cdFx0XHR5cG9zICs9IFJPVC5ESVJTWzhdW21vdmVbMF1dWzFdO1xuXHRcdFx0dGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuXHRcdFx0bW92ZVsxXSA9IG1vdmVbMV0gLSAxO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY3JlYXRlQ29ycmlkb3JzID0gZnVuY3Rpb24gKCkge1xuXHQvLyBEcmF3IENvcnJpZG9ycyBiZXR3ZWVuIGNvbm5lY3RlZCByb29tc1xuXHRcblx0dmFyIGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG5cdHZhciBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcblx0dmFyIHJvb207XG5cdHZhciBjb25uZWN0aW9uO1xuXHR2YXIgb3RoZXJSb29tO1xuXHR2YXIgd2FsbDtcblx0dmFyIG90aGVyV2FsbDtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY3c7IGkrKykge1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2g7IGorKykge1xuXHRcdFx0cm9vbSA9IHRoaXMucm9vbXNbaV1bal07XG5cdFx0XHRcblx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgcm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdGNvbm5lY3Rpb24gPSByb29tW1wiY29ubmVjdGlvbnNcIl1ba107IFxuXHRcdFx0XHRcblx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tjb25uZWN0aW9uWzBdXVtjb25uZWN0aW9uWzFdXTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIHN0YXJ0IG9uZS5cblx0XHRcdFx0Ly8gZmlndXJlIG91dCB3aGF0IHdhbGwgb3VyIGNvcnJpZG9yIHdpbGwgZW5kIG9uLiBcblx0XHRcdFx0aWYgKG90aGVyUm9vbVtcImNlbGx4XCJdID4gcm9vbVtcImNlbGx4XCJdICkge1xuXHRcdFx0XHRcdHdhbGwgPSAyO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAob3RoZXJSb29tW1wiY2VsbHhcIl0gPCByb29tW1wiY2VsbHhcIl0gKSB7XG5cdFx0XHRcdFx0d2FsbCA9IDQ7XG5cdFx0XHRcdFx0b3RoZXJXYWxsID0gMjtcblx0XHRcdFx0fSBlbHNlIGlmKG90aGVyUm9vbVtcImNlbGx5XCJdID4gcm9vbVtcImNlbGx5XCJdKSB7XG5cdFx0XHRcdFx0d2FsbCA9IDM7XG5cdFx0XHRcdFx0b3RoZXJXYWxsID0gMTtcblx0XHRcdFx0fSBlbHNlIGlmKG90aGVyUm9vbVtcImNlbGx5XCJdIDwgcm9vbVtcImNlbGx5XCJdKSB7XG5cdFx0XHRcdFx0d2FsbCA9IDE7XG5cdFx0XHRcdFx0b3RoZXJXYWxsID0gMztcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy5fZHJhd0NvcnJpZG9yZSh0aGlzLl9nZXRXYWxsUG9zaXRpb24ocm9vbSwgd2FsbCksIHRoaXMuX2dldFdhbGxQb3NpdGlvbihvdGhlclJvb20sIG90aGVyV2FsbCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBmZWF0dXJlOyBoYXMgb3duIC5jcmVhdGUoKSBtZXRob2RcbiAqL1xuUk9ULk1hcC5GZWF0dXJlID0gZnVuY3Rpb24oKSB7fVxuUk9ULk1hcC5GZWF0dXJlLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oY2FuQmVEdWdDYWxsYmFjaykge31cblJPVC5NYXAuRmVhdHVyZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oZGlnQ2FsbGJhY2spIHt9XG5ST1QuTWFwLkZlYXR1cmUucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24oKSB7fVxuUk9ULk1hcC5GZWF0dXJlLmNyZWF0ZVJhbmRvbUF0ID0gZnVuY3Rpb24oeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7fVxuXG4vKipcbiAqIEBjbGFzcyBSb29tXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5GZWF0dXJlXG4gKiBAcGFyYW0ge2ludH0geDFcbiAqIEBwYXJhbSB7aW50fSB5MVxuICogQHBhcmFtIHtpbnR9IHgyXG4gKiBAcGFyYW0ge2ludH0geTJcbiAqIEBwYXJhbSB7aW50fSBbZG9vclhdXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JZXVxuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbSA9IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyLCBkb29yWCwgZG9vclkpIHtcblx0dGhpcy5feDEgPSB4MTtcblx0dGhpcy5feTEgPSB5MTtcblx0dGhpcy5feDIgPSB4Mjtcblx0dGhpcy5feTIgPSB5Mjtcblx0dGhpcy5fZG9vcnMgPSB7fTtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiA0KSB7IHRoaXMuYWRkRG9vcihkb29yWCwgZG9vclkpOyB9XG59XG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5leHRlbmQoUk9ULk1hcC5GZWF0dXJlKTtcblxuLyoqXG4gKiBSb29tIG9mIHJhbmRvbSBzaXplLCB3aXRoIGEgZ2l2ZW4gZG9vcnMgYW5kIGRpcmVjdGlvblxuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcblx0dmFyIHdpZHRoID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG5cdHZhciBoZWlnaHQgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0aWYgKGR4ID09IDEpIHsgLyogdG8gdGhlIHJpZ2h0ICovXG5cdFx0dmFyIHkyID0geSAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkgKiBoZWlnaHQpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh4KzEsIHkyLCB4K3dpZHRoLCB5MitoZWlnaHQtMSwgeCwgeSk7XG5cdH1cblx0XG5cdGlmIChkeCA9PSAtMSkgeyAvKiB0byB0aGUgbGVmdCAqL1xuXHRcdHZhciB5MiA9IHkgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeC13aWR0aCwgeTIsIHgtMSwgeTIraGVpZ2h0LTEsIHgsIHkpO1xuXHR9XG5cblx0aWYgKGR5ID09IDEpIHsgLyogdG8gdGhlIGJvdHRvbSAqL1xuXHRcdHZhciB4MiA9IHggLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh4MiwgeSsxLCB4Mit3aWR0aC0xLCB5K2hlaWdodCwgeCwgeSk7XG5cdH1cblxuXHRpZiAoZHkgPT0gLTEpIHsgLyogdG8gdGhlIHRvcCAqL1xuXHRcdHZhciB4MiA9IHggLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh4MiwgeS1oZWlnaHQsIHgyK3dpZHRoLTEsIHktMSwgeCwgeSk7XG5cdH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkeCBvciBkeSBtdXN0IGJlIDEgb3IgLTFcIik7XG59XG5cbi8qKlxuICogUm9vbSBvZiByYW5kb20gc2l6ZSwgcG9zaXRpb25lZCBhcm91bmQgY2VudGVyIGNvb3Jkc1xuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb21DZW50ZXIgPSBmdW5jdGlvbihjeCwgY3ksIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblxuXHR2YXIgeDEgPSBjeCAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqd2lkdGgpO1xuXHR2YXIgeTEgPSBjeSAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqaGVpZ2h0KTtcblx0dmFyIHgyID0geDEgKyB3aWR0aCAtIDE7XG5cdHZhciB5MiA9IHkxICsgaGVpZ2h0IC0gMTtcblxuXHRyZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xufVxuXG4vKipcbiAqIFJvb20gb2YgcmFuZG9tIHNpemUgd2l0aGluIGEgZ2l2ZW4gZGltZW5zaW9uc1xuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb20gPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcblx0dmFyIHdpZHRoID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG5cdHZhciBoZWlnaHQgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0dmFyIGxlZnQgPSBhdmFpbFdpZHRoIC0gd2lkdGggLSAxO1xuXHR2YXIgdG9wID0gYXZhaWxIZWlnaHQgLSBoZWlnaHQgLSAxO1xuXG5cdHZhciB4MSA9IDEgKyBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKmxlZnQpO1xuXHR2YXIgeTEgPSAxICsgTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSp0b3ApO1xuXHR2YXIgeDIgPSB4MSArIHdpZHRoIC0gMTtcblx0dmFyIHkyID0geTEgKyBoZWlnaHQgLSAxO1xuXG5cdHJldHVybiBuZXcgdGhpcyh4MSwgeTEsIHgyLCB5Mik7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5hZGREb29yID0gZnVuY3Rpb24oeCwgeSkge1xuXHR0aGlzLl9kb29yc1t4K1wiLFwiK3ldID0gMTtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn1cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldERvb3JzID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuX2Rvb3JzKSB7XG5cdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHRjYWxsYmFjayhwYXJzZUludChwYXJ0c1swXSksIHBhcnNlSW50KHBhcnRzWzFdKSk7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5jbGVhckRvb3JzID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2Rvb3JzID0ge307XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuYWRkRG9vcnMgPSBmdW5jdGlvbihpc1dhbGxDYWxsYmFjaykge1xuXHR2YXIgbGVmdCA9IHRoaXMuX3gxLTE7XG5cdHZhciByaWdodCA9IHRoaXMuX3gyKzE7XG5cdHZhciB0b3AgPSB0aGlzLl95MS0xO1xuXHR2YXIgYm90dG9tID0gdGhpcy5feTIrMTtcblxuXHRmb3IgKHZhciB4PWxlZnQ7IHg8PXJpZ2h0OyB4KyspIHtcblx0XHRmb3IgKHZhciB5PXRvcDsgeTw9Ym90dG9tOyB5KyspIHtcblx0XHRcdGlmICh4ICE9IGxlZnQgJiYgeCAhPSByaWdodCAmJiB5ICE9IHRvcCAmJiB5ICE9IGJvdHRvbSkgeyBjb250aW51ZTsgfVxuXHRcdFx0aWYgKGlzV2FsbENhbGxiYWNrKHgsIHkpKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdHRoaXMuYWRkRG9vcih4LCB5KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKFwicm9vbVwiLCB0aGlzLl94MSwgdGhpcy5feTEsIHRoaXMuX3gyLCB0aGlzLl95Mik7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oaXNXYWxsQ2FsbGJhY2ssIGNhbkJlRHVnQ2FsbGJhY2spIHsgXG5cdHZhciBsZWZ0ID0gdGhpcy5feDEtMTtcblx0dmFyIHJpZ2h0ID0gdGhpcy5feDIrMTtcblx0dmFyIHRvcCA9IHRoaXMuX3kxLTE7XG5cdHZhciBib3R0b20gPSB0aGlzLl95MisxO1xuXHRcblx0Zm9yICh2YXIgeD1sZWZ0OyB4PD1yaWdodDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeT10b3A7IHk8PWJvdHRvbTsgeSsrKSB7XG5cdFx0XHRpZiAoeCA9PSBsZWZ0IHx8IHggPT0gcmlnaHQgfHwgeSA9PSB0b3AgfHwgeSA9PSBib3R0b20pIHtcblx0XHRcdFx0aWYgKCFpc1dhbGxDYWxsYmFjayh4LCB5KSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghY2FuQmVEdWdDYWxsYmFjayh4LCB5KSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaWdDYWxsYmFjayBEaWcgY2FsbGJhY2sgd2l0aCBhIHNpZ25hdHVyZSAoeCwgeSwgdmFsdWUpLiBWYWx1ZXM6IDAgPSBlbXB0eSwgMSA9IHdhbGwsIDIgPSBkb29yLiBNdWx0aXBsZSBkb29ycyBhcmUgYWxsb3dlZC5cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7IFxuXHR2YXIgbGVmdCA9IHRoaXMuX3gxLTE7XG5cdHZhciByaWdodCA9IHRoaXMuX3gyKzE7XG5cdHZhciB0b3AgPSB0aGlzLl95MS0xO1xuXHR2YXIgYm90dG9tID0gdGhpcy5feTIrMTtcblx0XG5cdHZhciB2YWx1ZSA9IDA7XG5cdGZvciAodmFyIHg9bGVmdDsgeDw9cmlnaHQ7IHgrKykge1xuXHRcdGZvciAodmFyIHk9dG9wOyB5PD1ib3R0b207IHkrKykge1xuXHRcdFx0aWYgKHgrXCIsXCIreSBpbiB0aGlzLl9kb29ycykge1xuXHRcdFx0XHR2YWx1ZSA9IDI7XG5cdFx0XHR9IGVsc2UgaWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG5cdFx0XHRcdHZhbHVlID0gMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbHVlID0gMDtcblx0XHRcdH1cblx0XHRcdGRpZ0NhbGxiYWNrKHgsIHksIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gW01hdGgucm91bmQoKHRoaXMuX3gxICsgdGhpcy5feDIpLzIpLCBNYXRoLnJvdW5kKCh0aGlzLl95MSArIHRoaXMuX3kyKS8yKV07XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRMZWZ0ID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl94MTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl94Mjtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldFRvcCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feTE7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRCb3R0b20gPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3kyO1xufVxuXG4vKipcbiAqIEBjbGFzcyBDb3JyaWRvclxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WFxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WVxuICogQHBhcmFtIHtpbnR9IGVuZFhcbiAqIEBwYXJhbSB7aW50fSBlbmRZXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvciA9IGZ1bmN0aW9uKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSB7XG5cdHRoaXMuX3N0YXJ0WCA9IHN0YXJ0WDtcblx0dGhpcy5fc3RhcnRZID0gc3RhcnRZO1xuXHR0aGlzLl9lbmRYID0gZW5kWDsgXG5cdHRoaXMuX2VuZFkgPSBlbmRZO1xuXHR0aGlzLl9lbmRzV2l0aEFXYWxsID0gdHJ1ZTtcbn1cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5leHRlbmQoUk9ULk1hcC5GZWF0dXJlKTtcblxuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yLmNyZWF0ZVJhbmRvbUF0ID0gZnVuY3Rpb24oeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7XG5cdHZhciBtaW4gPSBvcHRpb25zLmNvcnJpZG9yTGVuZ3RoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFsxXTtcblx0dmFyIGxlbmd0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHRyZXR1cm4gbmV3IHRoaXMoeCwgeSwgeCArIGR4Kmxlbmd0aCwgeSArIGR5Kmxlbmd0aCk7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbigpIHtcblx0Y29uc29sZS5sb2coXCJjb3JyaWRvclwiLCB0aGlzLl9zdGFydFgsIHRoaXMuX3N0YXJ0WSwgdGhpcy5fZW5kWCwgdGhpcy5fZW5kWSk7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKXsgXG5cdHZhciBzeCA9IHRoaXMuX3N0YXJ0WDtcblx0dmFyIHN5ID0gdGhpcy5fc3RhcnRZO1xuXHR2YXIgZHggPSB0aGlzLl9lbmRYLXN4O1xuXHR2YXIgZHkgPSB0aGlzLl9lbmRZLXN5O1xuXHR2YXIgbGVuZ3RoID0gMSArIE1hdGgubWF4KE1hdGguYWJzKGR4KSwgTWF0aC5hYnMoZHkpKTtcblx0XG5cdGlmIChkeCkgeyBkeCA9IGR4L01hdGguYWJzKGR4KTsgfVxuXHRpZiAoZHkpIHsgZHkgPSBkeS9NYXRoLmFicyhkeSk7IH1cblx0dmFyIG54ID0gZHk7XG5cdHZhciBueSA9IC1keDtcblx0XG5cdHZhciBvayA9IHRydWU7XG5cdGZvciAodmFyIGk9MDsgaTxsZW5ndGg7IGkrKykge1xuXHRcdHZhciB4ID0gc3ggKyBpKmR4O1xuXHRcdHZhciB5ID0gc3kgKyBpKmR5O1xuXG5cdFx0aWYgKCFjYW5CZUR1Z0NhbGxiYWNrKCAgICAgeCwgICAgICB5KSkgeyBvayA9IGZhbHNlOyB9XG5cdFx0aWYgKCFpc1dhbGxDYWxsYmFjayAgKHggKyBueCwgeSArIG55KSkgeyBvayA9IGZhbHNlOyB9XG5cdFx0aWYgKCFpc1dhbGxDYWxsYmFjayAgKHggLSBueCwgeSAtIG55KSkgeyBvayA9IGZhbHNlOyB9XG5cdFx0XG5cdFx0aWYgKCFvaykge1xuXHRcdFx0bGVuZ3RoID0gaTtcblx0XHRcdHRoaXMuX2VuZFggPSB4LWR4O1xuXHRcdFx0dGhpcy5fZW5kWSA9IHktZHk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJZiB0aGUgbGVuZ3RoIGRlZ2VuZXJhdGVkLCB0aGlzIGNvcnJpZG9yIG1pZ2h0IGJlIGludmFsaWRcblx0ICovXG5cdCBcblx0Lyogbm90IHN1cHBvcnRlZCAqL1xuXHRpZiAobGVuZ3RoID09IDApIHsgcmV0dXJuIGZhbHNlOyB9IFxuXHRcblx0IC8qIGxlbmd0aCAxIGFsbG93ZWQgb25seSBpZiB0aGUgbmV4dCBzcGFjZSBpcyBlbXB0eSAqL1xuXHRpZiAobGVuZ3RoID09IDEgJiYgaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcblx0LyoqXG5cdCAqIFdlIGRvIG5vdCB3YW50IHRoZSBjb3JyaWRvciB0byBjcmFzaCBpbnRvIGEgY29ybmVyIG9mIGEgcm9vbTtcblx0ICogaWYgYW55IG9mIHRoZSBlbmRpbmcgY29ybmVycyBpcyBlbXB0eSwgdGhlIE4rMXRoIGNlbGwgb2YgdGhpcyBjb3JyaWRvciBtdXN0IGJlIGVtcHR5IHRvby5cblx0ICogXG5cdCAqIFNpdHVhdGlvbjpcblx0ICogIyMjIyMjIzFcblx0ICogLi4uLi4uLj9cblx0ICogIyMjIyMjIzJcblx0ICogXG5cdCAqIFRoZSBjb3JyaWRvciB3YXMgZHVnIGZyb20gbGVmdCB0byByaWdodC5cblx0ICogMSwgMiAtIHByb2JsZW1hdGljIGNvcm5lcnMsID8gPSBOKzF0aCBjZWxsIChub3QgZHVnKVxuXHQgKi9cblx0dmFyIGZpcnN0Q29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCArIG54LCB0aGlzLl9lbmRZICsgZHkgKyBueSk7XG5cdHZhciBzZWNvbmRDb3JuZXJCYWQgPSAhaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4IC0gbngsIHRoaXMuX2VuZFkgKyBkeSAtIG55KTtcblx0dGhpcy5fZW5kc1dpdGhBV2FsbCA9IGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcblx0aWYgKChmaXJzdENvcm5lckJhZCB8fCBzZWNvbmRDb3JuZXJCYWQpICYmIHRoaXMuX2VuZHNXaXRoQVdhbGwpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHkuXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oZGlnQ2FsbGJhY2spIHsgXG5cdHZhciBzeCA9IHRoaXMuX3N0YXJ0WDtcblx0dmFyIHN5ID0gdGhpcy5fc3RhcnRZO1xuXHR2YXIgZHggPSB0aGlzLl9lbmRYLXN4O1xuXHR2YXIgZHkgPSB0aGlzLl9lbmRZLXN5O1xuXHR2YXIgbGVuZ3RoID0gMStNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG5cdFxuXHRpZiAoZHgpIHsgZHggPSBkeC9NYXRoLmFicyhkeCk7IH1cblx0aWYgKGR5KSB7IGR5ID0gZHkvTWF0aC5hYnMoZHkpOyB9XG5cdHZhciBueCA9IGR5O1xuXHR2YXIgbnkgPSAtZHg7XG5cdFxuXHRmb3IgKHZhciBpPTA7IGk8bGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgeCA9IHN4ICsgaSpkeDtcblx0XHR2YXIgeSA9IHN5ICsgaSpkeTtcblx0XHRkaWdDYWxsYmFjayh4LCB5LCAwKTtcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuY3JlYXRlUHJpb3JpdHlXYWxscyA9IGZ1bmN0aW9uKHByaW9yaXR5V2FsbENhbGxiYWNrKSB7XG5cdGlmICghdGhpcy5fZW5kc1dpdGhBV2FsbCkgeyByZXR1cm47IH1cblxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblxuXHR2YXIgZHggPSB0aGlzLl9lbmRYLXN4O1xuXHR2YXIgZHkgPSB0aGlzLl9lbmRZLXN5O1xuXHRpZiAoZHgpIHsgZHggPSBkeC9NYXRoLmFicyhkeCk7IH1cblx0aWYgKGR5KSB7IGR5ID0gZHkvTWF0aC5hYnMoZHkpOyB9XG5cdHZhciBueCA9IGR5O1xuXHR2YXIgbnkgPSAtZHg7XG5cblx0cHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpO1xuXHRwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgbngsIHRoaXMuX2VuZFkgKyBueSk7XG5cdHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggLSBueCwgdGhpcy5fZW5kWSAtIG55KTtcbn1cbi8qKlxuICogQGNsYXNzIEJhc2Ugbm9pc2UgZ2VuZXJhdG9yXG4gKi9cblJPVC5Ob2lzZSA9IGZ1bmN0aW9uKCkge1xufTtcblxuUk9ULk5vaXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbih4LCB5KSB7fVxuLyoqXG4gKiBBIHNpbXBsZSAyZCBpbXBsZW1lbnRhdGlvbiBvZiBzaW1wbGV4IG5vaXNlIGJ5IE9uZHJlaiBaYXJhXG4gKlxuICogQmFzZWQgb24gYSBzcGVlZC1pbXByb3ZlZCBzaW1wbGV4IG5vaXNlIGFsZ29yaXRobSBmb3IgMkQsIDNEIGFuZCA0RCBpbiBKYXZhLlxuICogV2hpY2ggaXMgYmFzZWQgb24gZXhhbXBsZSBjb2RlIGJ5IFN0ZWZhbiBHdXN0YXZzb24gKHN0ZWd1QGl0bi5saXUuc2UpLlxuICogV2l0aCBPcHRpbWlzYXRpb25zIGJ5IFBldGVyIEVhc3RtYW4gKHBlYXN0bWFuQGRyaXp6bGUuc3RhbmZvcmQuZWR1KS5cbiAqIEJldHRlciByYW5rIG9yZGVyaW5nIG1ldGhvZCBieSBTdGVmYW4gR3VzdGF2c29uIGluIDIwMTIuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3MgMkQgc2ltcGxleCBub2lzZSBnZW5lcmF0b3JcbiAqIEBwYXJhbSB7aW50fSBbZ3JhZGllbnRzPTI1Nl0gUmFuZG9tIGdyYWRpZW50c1xuICovXG5ST1QuTm9pc2UuU2ltcGxleCA9IGZ1bmN0aW9uKGdyYWRpZW50cykge1xuXHRST1QuTm9pc2UuY2FsbCh0aGlzKTtcblxuXHR0aGlzLl9GMiA9IDAuNSAqIChNYXRoLnNxcnQoMykgLSAxKTtcblx0dGhpcy5fRzIgPSAoMyAtIE1hdGguc3FydCgzKSkgLyA2O1xuXG5cdHRoaXMuX2dyYWRpZW50cyA9IFtcblx0XHRbIDAsIC0xXSxcblx0XHRbIDEsIC0xXSxcblx0XHRbIDEsICAwXSxcblx0XHRbIDEsICAxXSxcblx0XHRbIDAsICAxXSxcblx0XHRbLTEsICAxXSxcblx0XHRbLTEsICAwXSxcblx0XHRbLTEsIC0xXVxuXHRdO1xuXG5cdHZhciBwZXJtdXRhdGlvbnMgPSBbXTtcblx0dmFyIGNvdW50ID0gZ3JhZGllbnRzIHx8IDI1Njtcblx0Zm9yICh2YXIgaT0wO2k8Y291bnQ7aSsrKSB7IHBlcm11dGF0aW9ucy5wdXNoKGkpOyB9XG5cdHBlcm11dGF0aW9ucyA9IHBlcm11dGF0aW9ucy5yYW5kb21pemUoKTtcblxuXHR0aGlzLl9wZXJtcyA9IFtdO1xuXHR0aGlzLl9pbmRleGVzID0gW107XG5cblx0Zm9yICh2YXIgaT0wO2k8Mipjb3VudDtpKyspIHtcblx0XHR0aGlzLl9wZXJtcy5wdXNoKHBlcm11dGF0aW9uc1tpICUgY291bnRdKTtcblx0XHR0aGlzLl9pbmRleGVzLnB1c2godGhpcy5fcGVybXNbaV0gJSB0aGlzLl9ncmFkaWVudHMubGVuZ3RoKTtcblx0fVxuXG59O1xuUk9ULk5vaXNlLlNpbXBsZXguZXh0ZW5kKFJPVC5Ob2lzZSk7XG5cblJPVC5Ob2lzZS5TaW1wbGV4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbih4aW4sIHlpbikge1xuXHR2YXIgcGVybXMgPSB0aGlzLl9wZXJtcztcblx0dmFyIGluZGV4ZXMgPSB0aGlzLl9pbmRleGVzO1xuXHR2YXIgY291bnQgPSBwZXJtcy5sZW5ndGgvMjtcblx0dmFyIEcyID0gdGhpcy5fRzI7XG5cblx0dmFyIG4wID0wLCBuMSA9IDAsIG4yID0gMCwgZ2k7IC8vIE5vaXNlIGNvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuXG5cdC8vIFNrZXcgdGhlIGlucHV0IHNwYWNlIHRvIGRldGVybWluZSB3aGljaCBzaW1wbGV4IGNlbGwgd2UncmUgaW5cblx0dmFyIHMgPSAoeGluICsgeWluKSAqIHRoaXMuX0YyOyAvLyBIYWlyeSBmYWN0b3IgZm9yIDJEXG5cdHZhciBpID0gTWF0aC5mbG9vcih4aW4gKyBzKTtcblx0dmFyIGogPSBNYXRoLmZsb29yKHlpbiArIHMpO1xuXHR2YXIgdCA9IChpICsgaikgKiBHMjtcblx0dmFyIFgwID0gaSAtIHQ7IC8vIFVuc2tldyB0aGUgY2VsbCBvcmlnaW4gYmFjayB0byAoeCx5KSBzcGFjZVxuXHR2YXIgWTAgPSBqIC0gdDtcblx0dmFyIHgwID0geGluIC0gWDA7IC8vIFRoZSB4LHkgZGlzdGFuY2VzIGZyb20gdGhlIGNlbGwgb3JpZ2luXG5cdHZhciB5MCA9IHlpbiAtIFkwO1xuXG5cdC8vIEZvciB0aGUgMkQgY2FzZSwgdGhlIHNpbXBsZXggc2hhcGUgaXMgYW4gZXF1aWxhdGVyYWwgdHJpYW5nbGUuXG5cdC8vIERldGVybWluZSB3aGljaCBzaW1wbGV4IHdlIGFyZSBpbi5cblx0dmFyIGkxLCBqMTsgLy8gT2Zmc2V0cyBmb3Igc2Vjb25kIChtaWRkbGUpIGNvcm5lciBvZiBzaW1wbGV4IGluIChpLGopIGNvb3Jkc1xuXHRpZiAoeDAgPiB5MCkge1xuXHRcdGkxID0gMTtcblx0XHRqMSA9IDA7XG5cdH0gZWxzZSB7IC8vIGxvd2VyIHRyaWFuZ2xlLCBYWSBvcmRlcjogKDAsMCktPigxLDApLT4oMSwxKVxuXHRcdGkxID0gMDtcblx0XHRqMSA9IDE7XG5cdH0gLy8gdXBwZXIgdHJpYW5nbGUsIFlYIG9yZGVyOiAoMCwwKS0+KDAsMSktPigxLDEpXG5cblx0Ly8gQSBzdGVwIG9mICgxLDApIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoMS1jLC1jKSBpbiAoeCx5KSwgYW5kXG5cdC8vIGEgc3RlcCBvZiAoMCwxKSBpbiAoaSxqKSBtZWFucyBhIHN0ZXAgb2YgKC1jLDEtYykgaW4gKHgseSksIHdoZXJlXG5cdC8vIGMgPSAoMy1zcXJ0KDMpKS82XG5cdHZhciB4MSA9IHgwIC0gaTEgKyBHMjsgLy8gT2Zmc2V0cyBmb3IgbWlkZGxlIGNvcm5lciBpbiAoeCx5KSB1bnNrZXdlZCBjb29yZHNcblx0dmFyIHkxID0geTAgLSBqMSArIEcyO1xuXHR2YXIgeDIgPSB4MCAtIDEgKyAyKkcyOyAvLyBPZmZzZXRzIGZvciBsYXN0IGNvcm5lciBpbiAoeCx5KSB1bnNrZXdlZCBjb29yZHNcblx0dmFyIHkyID0geTAgLSAxICsgMipHMjtcblxuXHQvLyBXb3JrIG91dCB0aGUgaGFzaGVkIGdyYWRpZW50IGluZGljZXMgb2YgdGhlIHRocmVlIHNpbXBsZXggY29ybmVyc1xuXHR2YXIgaWkgPSBpLm1vZChjb3VudCk7XG5cdHZhciBqaiA9IGoubW9kKGNvdW50KTtcblxuXHQvLyBDYWxjdWxhdGUgdGhlIGNvbnRyaWJ1dGlvbiBmcm9tIHRoZSB0aHJlZSBjb3JuZXJzXG5cdHZhciB0MCA9IDAuNSAtIHgwKngwIC0geTAqeTA7XG5cdGlmICh0MCA+PSAwKSB7XG5cdFx0dDAgKj0gdDA7XG5cdFx0Z2kgPSBpbmRleGVzW2lpK3Blcm1zW2pqXV07XG5cdFx0dmFyIGdyYWQgPSB0aGlzLl9ncmFkaWVudHNbZ2ldO1xuXHRcdG4wID0gdDAgKiB0MCAqIChncmFkWzBdICogeDAgKyBncmFkWzFdICogeTApO1xuXHR9XG5cdFxuXHR2YXIgdDEgPSAwLjUgLSB4MSp4MSAtIHkxKnkxO1xuXHRpZiAodDEgPj0gMCkge1xuXHRcdHQxICo9IHQxO1xuXHRcdGdpID0gaW5kZXhlc1tpaStpMStwZXJtc1tqaitqMV1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMSA9IHQxICogdDEgKiAoZ3JhZFswXSAqIHgxICsgZ3JhZFsxXSAqIHkxKTtcblx0fVxuXHRcblx0dmFyIHQyID0gMC41IC0geDIqeDIgLSB5Mip5Mjtcblx0aWYgKHQyID49IDApIHtcblx0XHR0MiAqPSB0Mjtcblx0XHRnaSA9IGluZGV4ZXNbaWkrMStwZXJtc1tqaisxXV07XG5cdFx0dmFyIGdyYWQgPSB0aGlzLl9ncmFkaWVudHNbZ2ldO1xuXHRcdG4yID0gdDIgKiB0MiAqIChncmFkWzBdICogeDIgKyBncmFkWzFdICogeTIpO1xuXHR9XG5cblx0Ly8gQWRkIGNvbnRyaWJ1dGlvbnMgZnJvbSBlYWNoIGNvcm5lciB0byBnZXQgdGhlIGZpbmFsIG5vaXNlIHZhbHVlLlxuXHQvLyBUaGUgcmVzdWx0IGlzIHNjYWxlZCB0byByZXR1cm4gdmFsdWVzIGluIHRoZSBpbnRlcnZhbCBbLTEsMV0uXG5cdHJldHVybiA3MCAqIChuMCArIG4xICsgbjIpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgRk9WIGFsZ29yaXRobVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbGlnaHRQYXNzZXNDYWxsYmFjayBEb2VzIHRoZSBsaWdodCBwYXNzIHRocm91Z2ggeCx5P1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5PThdIDQvNi84XG4gKi9cblJPVC5GT1YgPSBmdW5jdGlvbihsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKSB7XG5cdHRoaXMuX2xpZ2h0UGFzc2VzID0gbGlnaHRQYXNzZXNDYWxsYmFjaztcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHR0b3BvbG9neTogOFxuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxufTtcblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMzYwLWRlZ3JlZSBjaXJjbGVcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKHgsIHksIFIsIGNhbGxiYWNrKSB7fVxuXG4vKipcbiAqIFJldHVybiBhbGwgbmVpZ2hib3JzIGluIGEgY29uY2VudHJpYyByaW5nXG4gKiBAcGFyYW0ge2ludH0gY3ggY2VudGVyLXhcbiAqIEBwYXJhbSB7aW50fSBjeSBjZW50ZXIteVxuICogQHBhcmFtIHtpbnR9IHIgcmFuZ2VcbiAqL1xuUk9ULkZPVi5wcm90b3R5cGUuX2dldENpcmNsZSA9IGZ1bmN0aW9uKGN4LCBjeSwgcikge1xuXHR2YXIgcmVzdWx0ID0gW107XG5cdHZhciBkaXJzLCBjb3VudEZhY3Rvciwgc3RhcnRPZmZzZXQ7XG5cblx0c3dpdGNoICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5KSB7XG5cdFx0Y2FzZSA0OlxuXHRcdFx0Y291bnRGYWN0b3IgPSAxO1xuXHRcdFx0c3RhcnRPZmZzZXQgPSBbMCwgMV07XG5cdFx0XHRkaXJzID0gW1xuXHRcdFx0XHRST1QuRElSU1s4XVs3XSxcblx0XHRcdFx0Uk9ULkRJUlNbOF1bMV0sXG5cdFx0XHRcdFJPVC5ESVJTWzhdWzNdLFxuXHRcdFx0XHRST1QuRElSU1s4XVs1XVxuXHRcdFx0XVxuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA2OlxuXHRcdFx0ZGlycyA9IFJPVC5ESVJTWzZdO1xuXHRcdFx0Y291bnRGYWN0b3IgPSAxO1xuXHRcdFx0c3RhcnRPZmZzZXQgPSBbLTEsIDFdO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA4OlxuXHRcdFx0ZGlycyA9IFJPVC5ESVJTWzRdO1xuXHRcdFx0Y291bnRGYWN0b3IgPSAyO1xuXHRcdFx0c3RhcnRPZmZzZXQgPSBbLTEsIDFdO1xuXHRcdGJyZWFrO1xuXHR9XG5cblx0Lyogc3RhcnRpbmcgbmVpZ2hib3IgKi9cblx0dmFyIHggPSBjeCArIHN0YXJ0T2Zmc2V0WzBdKnI7XG5cdHZhciB5ID0gY3kgKyBzdGFydE9mZnNldFsxXSpyO1xuXG5cdC8qIGNpcmNsZSAqL1xuXHRmb3IgKHZhciBpPTA7aTxkaXJzLmxlbmd0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajxyKmNvdW50RmFjdG9yO2orKykge1xuXHRcdFx0cmVzdWx0LnB1c2goW3gsIHldKTtcblx0XHRcdHggKz0gZGlyc1tpXVswXTtcblx0XHRcdHkgKz0gZGlyc1tpXVsxXTtcblxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEBjbGFzcyBEaXNjcmV0ZSBzaGFkb3djYXN0aW5nIGFsZ29yaXRobS4gT2Jzb2xldGVkIGJ5IFByZWNpc2Ugc2hhZG93Y2FzdGluZy5cbiAqIEBhdWdtZW50cyBST1QuRk9WXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLkRpc2NyZXRlU2hhZG93Y2FzdGluZy5leHRlbmQoUk9ULkZPVik7XG5cbi8qKlxuICogQHNlZSBST1QuRk9WI2NvbXB1dGVcbiAqL1xuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge1xuXHR2YXIgY2VudGVyID0gdGhpcy5fY29vcmRzO1xuXHR2YXIgbWFwID0gdGhpcy5fbWFwO1xuXG5cdC8qIHRoaXMgcGxhY2UgaXMgYWx3YXlzIHZpc2libGUgKi9cblx0Y2FsbGJhY2soeCwgeSwgMCwgMSk7XG5cblx0Lyogc3RhbmRpbmcgaW4gYSBkYXJrIHBsYWNlLiBGSVhNRSBpcyB0aGlzIGEgZ29vZCBpZGVhPyAgKi9cblx0aWYgKCF0aGlzLl9saWdodFBhc3Nlcyh4LCB5KSkgeyByZXR1cm47IH1cblx0XG5cdC8qIHN0YXJ0IGFuZCBlbmQgYW5nbGVzICovXG5cdHZhciBEQVRBID0gW107XG5cdFxuXHR2YXIgQSwgQiwgY3gsIGN5LCBibG9ja3M7XG5cblx0LyogYW5hbHl6ZSBzdXJyb3VuZGluZyBjZWxscyBpbiBjb25jZW50cmljIHJpbmdzLCBzdGFydGluZyBmcm9tIHRoZSBjZW50ZXIgKi9cblx0Zm9yICh2YXIgcj0xOyByPD1SOyByKyspIHtcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0Q2lyY2xlKHgsIHksIHIpO1xuXHRcdHZhciBhbmdsZSA9IDM2MCAvIG5laWdoYm9ycy5sZW5ndGg7XG5cblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvcnMubGVuZ3RoO2krKykge1xuXHRcdFx0Y3ggPSBuZWlnaGJvcnNbaV1bMF07XG5cdFx0XHRjeSA9IG5laWdoYm9yc1tpXVsxXTtcblx0XHRcdEEgPSBhbmdsZSAqIChpIC0gMC41KTtcblx0XHRcdEIgPSBBICsgYW5nbGU7XG5cdFx0XHRcblx0XHRcdGJsb2NrcyA9ICF0aGlzLl9saWdodFBhc3NlcyhjeCwgY3kpO1xuXHRcdFx0aWYgKHRoaXMuX3Zpc2libGVDb29yZHMoTWF0aC5mbG9vcihBKSwgTWF0aC5jZWlsKEIpLCBibG9ja3MsIERBVEEpKSB7IGNhbGxiYWNrKGN4LCBjeSwgciwgMSk7IH1cblx0XHRcdFxuXHRcdFx0aWYgKERBVEEubGVuZ3RoID09IDIgJiYgREFUQVswXSA9PSAwICYmIERBVEFbMV0gPT0gMzYwKSB7IHJldHVybjsgfSAvKiBjdXRvZmY/ICovXG5cblx0XHR9IC8qIGZvciBhbGwgY2VsbHMgaW4gdGhpcyByaW5nICovXG5cdH0gLyogZm9yIGFsbCByaW5ncyAqL1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW50fSBBIHN0YXJ0IGFuZ2xlXG4gKiBAcGFyYW0ge2ludH0gQiBlbmQgYW5nbGVcbiAqIEBwYXJhbSB7Ym9vbH0gYmxvY2tzIERvZXMgY3VycmVudCBjZWxsIGJsb2NrIHZpc2liaWxpdHk/XG4gKiBAcGFyYW0ge2ludFtdW119IERBVEEgc2hhZG93ZWQgYW5nbGUgcGFpcnNcbiAqL1xuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl92aXNpYmxlQ29vcmRzID0gZnVuY3Rpb24oQSwgQiwgYmxvY2tzLCBEQVRBKSB7XG5cdGlmIChBIDwgMCkgeyBcblx0XHR2YXIgdjEgPSBhcmd1bWVudHMuY2FsbGVlKDAsIEIsIGJsb2NrcywgREFUQSk7XG5cdFx0dmFyIHYyID0gYXJndW1lbnRzLmNhbGxlZSgzNjArQSwgMzYwLCBibG9ja3MsIERBVEEpO1xuXHRcdHJldHVybiB2MSB8fCB2Mjtcblx0fVxuXHRcblx0dmFyIGluZGV4ID0gMDtcblx0d2hpbGUgKGluZGV4IDwgREFUQS5sZW5ndGggJiYgREFUQVtpbmRleF0gPCBBKSB7IGluZGV4Kys7IH1cblx0XG5cdGlmIChpbmRleCA9PSBEQVRBLmxlbmd0aCkgeyAvKiBjb21wbGV0ZWx5IG5ldyBzaGFkb3cgKi9cblx0XHRpZiAoYmxvY2tzKSB7IERBVEEucHVzaChBLCBCKTsgfSBcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0dmFyIGNvdW50ID0gMDtcblx0XG5cdGlmIChpbmRleCAlIDIpIHsgLyogdGhpcyBzaGFkb3cgc3RhcnRzIGluIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2l0aGluIGl0cyBlbmRpbmcgYm91bmRhcnkgKi9cblx0XHR3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEIpIHtcblx0XHRcdGluZGV4Kys7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoY291bnQgPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcblx0XHRpZiAoYmxvY2tzKSB7IFxuXHRcdFx0aWYgKGNvdW50ICUgMikge1xuXHRcdFx0XHREQVRBLnNwbGljZShpbmRleC1jb3VudCwgY291bnQsIEIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHRydWU7XG5cblx0fSBlbHNlIHsgLyogdGhpcyBzaGFkb3cgc3RhcnRzIG91dHNpZGUgYW4gZXhpc3Rpbmcgc2hhZG93LCBvciB3aXRoaW4gYSBzdGFydGluZyBib3VuZGFyeSAqL1xuXHRcdHdoaWxlIChpbmRleCA8IERBVEEubGVuZ3RoICYmIERBVEFbaW5kZXhdIDwgQikge1xuXHRcdFx0aW5kZXgrKztcblx0XHRcdGNvdW50Kys7XG5cdFx0fVxuXHRcdFxuXHRcdC8qIHZpc2libGUgd2hlbiBvdXRzaWRlIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2hlbiBvdmVybGFwcGluZyAqL1xuXHRcdGlmIChBID09IERBVEFbaW5kZXgtY291bnRdICYmIGNvdW50ID09IDEpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XG5cdFx0aWYgKGJsb2NrcykgeyBcblx0XHRcdGlmIChjb3VudCAlIDIpIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50LCBBKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCwgQSwgQik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFx0XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn1cbi8qKlxuICogQGNsYXNzIFByZWNpc2Ugc2hhZG93Y2FzdGluZyBhbGdvcml0aG1cbiAqIEBhdWdtZW50cyBST1QuRk9WXG4gKi9cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcgPSBmdW5jdGlvbihsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5GT1YuY2FsbCh0aGlzLCBsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKTtcbn1cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKipcbiAqIEBzZWUgUk9ULkZPViNjb21wdXRlXG4gKi9cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge1xuXHQvKiB0aGlzIHBsYWNlIGlzIGFsd2F5cyB2aXNpYmxlICovXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXG5cdC8qIHN0YW5kaW5nIGluIGEgZGFyayBwbGFjZS4gRklYTUUgaXMgdGhpcyBhIGdvb2QgaWRlYT8gICovXG5cdGlmICghdGhpcy5fbGlnaHRQYXNzZXMoeCwgeSkpIHsgcmV0dXJuOyB9XG5cdFxuXHQvKiBsaXN0IG9mIGFsbCBzaGFkb3dzICovXG5cdHZhciBTSEFET1dTID0gW107XG5cdFxuXHR2YXIgY3gsIGN5LCBibG9ja3MsIEExLCBBMiwgdmlzaWJpbGl0eTtcblxuXHQvKiBhbmFseXplIHN1cnJvdW5kaW5nIGNlbGxzIGluIGNvbmNlbnRyaWMgcmluZ3MsIHN0YXJ0aW5nIGZyb20gdGhlIGNlbnRlciAqL1xuXHRmb3IgKHZhciByPTE7IHI8PVI7IHIrKykge1xuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXRDaXJjbGUoeCwgeSwgcik7XG5cdFx0dmFyIG5laWdoYm9yQ291bnQgPSBuZWlnaGJvcnMubGVuZ3RoO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JDb3VudDtpKyspIHtcblx0XHRcdGN4ID0gbmVpZ2hib3JzW2ldWzBdO1xuXHRcdFx0Y3kgPSBuZWlnaGJvcnNbaV1bMV07XG5cdFx0XHQvKiBzaGlmdCBoYWxmLWFuLWFuZ2xlIGJhY2t3YXJkcyB0byBtYWludGFpbiBjb25zaXN0ZW5jeSBvZiAwLXRoIGNlbGxzICovXG5cdFx0XHRBMSA9IFtpID8gMippLTEgOiAyKm5laWdoYm9yQ291bnQtMSwgMipuZWlnaGJvckNvdW50XTtcblx0XHRcdEEyID0gWzIqaSsxLCAyKm5laWdoYm9yQ291bnRdOyBcblx0XHRcdFxuXHRcdFx0YmxvY2tzID0gIXRoaXMuX2xpZ2h0UGFzc2VzKGN4LCBjeSk7XG5cdFx0XHR2aXNpYmlsaXR5ID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KEExLCBBMiwgYmxvY2tzLCBTSEFET1dTKTtcblx0XHRcdGlmICh2aXNpYmlsaXR5KSB7IGNhbGxiYWNrKGN4LCBjeSwgciwgdmlzaWJpbGl0eSk7IH1cblxuXHRcdFx0aWYgKFNIQURPV1MubGVuZ3RoID09IDIgJiYgU0hBRE9XU1swXVswXSA9PSAwICYmIFNIQURPV1NbMV1bMF0gPT0gU0hBRE9XU1sxXVsxXSkgeyByZXR1cm47IH0gLyogY3V0b2ZmPyAqL1xuXG5cdFx0fSAvKiBmb3IgYWxsIGNlbGxzIGluIHRoaXMgcmluZyAqL1xuXHR9IC8qIGZvciBhbGwgcmluZ3MgKi9cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ludFsyXX0gQTEgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge2ludFsyXX0gQTIgYXJjIGVuZFxuICogQHBhcmFtIHtib29sfSBibG9ja3MgRG9lcyBjdXJyZW50IGFyYyBibG9jayB2aXNpYmlsaXR5P1xuICogQHBhcmFtIHtpbnRbXVtdfSBTSEFET1dTIGxpc3Qgb2YgYWN0aXZlIHNoYWRvd3NcbiAqL1xuUk9ULkZPVi5QcmVjaXNlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuX2NoZWNrVmlzaWJpbGl0eSA9IGZ1bmN0aW9uKEExLCBBMiwgYmxvY2tzLCBTSEFET1dTKSB7XG5cdGlmIChBMVswXSA+IEEyWzBdKSB7IC8qIHNwbGl0IGludG8gdHdvIHN1Yi1hcmNzICovXG5cdFx0dmFyIHYxID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KEExLCBbQTFbMV0sIEExWzFdXSwgYmxvY2tzLCBTSEFET1dTKTtcblx0XHR2YXIgdjIgPSB0aGlzLl9jaGVja1Zpc2liaWxpdHkoWzAsIDFdLCBBMiwgYmxvY2tzLCBTSEFET1dTKTtcblx0XHRyZXR1cm4gKHYxK3YyKS8yO1xuXHR9XG5cblx0LyogaW5kZXgxOiBmaXJzdCBzaGFkb3cgPj0gQTEgKi9cblx0dmFyIGluZGV4MSA9IDAsIGVkZ2UxID0gZmFsc2U7XG5cdHdoaWxlIChpbmRleDEgPCBTSEFET1dTLmxlbmd0aCkge1xuXHRcdHZhciBvbGQgPSBTSEFET1dTW2luZGV4MV07XG5cdFx0dmFyIGRpZmYgPSBvbGRbMF0qQTFbMV0gLSBBMVswXSpvbGRbMV07XG5cdFx0aWYgKGRpZmYgPj0gMCkgeyAvKiBvbGQgPj0gQTEgKi9cblx0XHRcdGlmIChkaWZmID09IDAgJiYgIShpbmRleDEgJSAyKSkgeyBlZGdlMSA9IHRydWU7IH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRpbmRleDErKztcblx0fVxuXG5cdC8qIGluZGV4MjogbGFzdCBzaGFkb3cgPD0gQTIgKi9cblx0dmFyIGluZGV4MiA9IFNIQURPV1MubGVuZ3RoLCBlZGdlMiA9IGZhbHNlO1xuXHR3aGlsZSAoaW5kZXgyLS0pIHtcblx0XHR2YXIgb2xkID0gU0hBRE9XU1tpbmRleDJdO1xuXHRcdHZhciBkaWZmID0gQTJbMF0qb2xkWzFdIC0gb2xkWzBdKkEyWzFdO1xuXHRcdGlmIChkaWZmID49IDApIHsgLyogb2xkIDw9IEEyICovXG5cdFx0XHRpZiAoZGlmZiA9PSAwICYmIChpbmRleDIgJSAyKSkgeyBlZGdlMiA9IHRydWU7IH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHZhciB2aXNpYmxlID0gdHJ1ZTtcblx0aWYgKGluZGV4MSA9PSBpbmRleDIgJiYgKGVkZ2UxIHx8IGVkZ2UyKSkgeyAgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgb25lIG9mIHRoZSBlZGdlcyBtYXRjaCAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTsgXG5cdH0gZWxzZSBpZiAoZWRnZTEgJiYgZWRnZTIgJiYgaW5kZXgxKzE9PWluZGV4MiAmJiAoaW5kZXgyICUgMikpIHsgLyogY29tcGxldGVseSBlcXVpdmFsZW50IHdpdGggZXhpc3Rpbmcgc2hhZG93ICovXG5cdFx0dmlzaWJsZSA9IGZhbHNlO1xuXHR9IGVsc2UgaWYgKGluZGV4MSA+IGluZGV4MiAmJiAoaW5kZXgxICUgMikpIHsgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgbm90IHRvdWNoaW5nICovXG5cdFx0dmlzaWJsZSA9IGZhbHNlO1xuXHR9XG5cdFxuXHRpZiAoIXZpc2libGUpIHsgcmV0dXJuIDA7IH0gLyogZmFzdCBjYXNlOiBub3QgdmlzaWJsZSAqL1xuXHRcblx0dmFyIHZpc2libGVMZW5ndGgsIFA7XG5cblx0LyogY29tcHV0ZSB0aGUgbGVuZ3RoIG9mIHZpc2libGUgYXJjLCBhZGp1c3QgbGlzdCBvZiBzaGFkb3dzIChpZiBibG9ja2luZykgKi9cblx0dmFyIHJlbW92ZSA9IGluZGV4Mi1pbmRleDErMTtcblx0aWYgKHJlbW92ZSAlIDIpIHtcblx0XHRpZiAoaW5kZXgxICUgMikgeyAvKiBmaXJzdCBlZGdlIHdpdGhpbiBleGlzdGluZyBzaGFkb3csIHNlY29uZCBvdXRzaWRlICovXG5cdFx0XHR2YXIgUCA9IFNIQURPV1NbaW5kZXgxXTtcblx0XHRcdHZpc2libGVMZW5ndGggPSAoQTJbMF0qUFsxXSAtIFBbMF0qQTJbMV0pIC8gKFBbMV0gKiBBMlsxXSk7XG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMik7IH1cblx0XHR9IGVsc2UgeyAvKiBzZWNvbmQgZWRnZSB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93LCBmaXJzdCBvdXRzaWRlICovXG5cdFx0XHR2YXIgUCA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHRcdHZpc2libGVMZW5ndGggPSAoUFswXSpBMVsxXSAtIEExWzBdKlBbMV0pIC8gKEExWzFdICogUFsxXSk7XG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSk7IH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0aWYgKGluZGV4MSAlIDIpIHsgLyogYm90aCBlZGdlcyB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93cyAqL1xuXHRcdFx0dmFyIFAxID0gU0hBRE9XU1tpbmRleDFdO1xuXHRcdFx0dmFyIFAyID0gU0hBRE9XU1tpbmRleDJdO1xuXHRcdFx0dmlzaWJsZUxlbmd0aCA9IChQMlswXSpQMVsxXSAtIFAxWzBdKlAyWzFdKSAvIChQMVsxXSAqIFAyWzFdKTtcblx0XHRcdGlmIChibG9ja3MpIHsgU0hBRE9XUy5zcGxpY2UoaW5kZXgxLCByZW1vdmUpOyB9XG5cdFx0fSBlbHNlIHsgLyogYm90aCBlZGdlcyBvdXRzaWRlIGV4aXN0aW5nIHNoYWRvd3MgKi9cblx0XHRcdGlmIChibG9ja3MpIHsgU0hBRE9XUy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEExLCBBMik7IH1cblx0XHRcdHJldHVybiAxOyAvKiB3aG9sZSBhcmMgdmlzaWJsZSEgKi9cblx0XHR9XG5cdH1cblxuXHR2YXIgYXJjTGVuZ3RoID0gKEEyWzBdKkExWzFdIC0gQTFbMF0qQTJbMV0pIC8gKEExWzFdICogQTJbMV0pO1xuXG5cdHJldHVybiB2aXNpYmxlTGVuZ3RoL2FyY0xlbmd0aDtcbn1cbi8qKlxuICogQGNsYXNzIFJlY3Vyc2l2ZSBzaGFkb3djYXN0aW5nIGFsZ29yaXRobVxuICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgNC84IHRvcG9sb2dpZXMsIG5vdCBoZXhhZ29uYWwuXG4gKiBCYXNlZCBvbiBQZXRlciBIYXJraW5zJyBpbXBsZW1lbnRhdGlvbiBvZiBCasO2cm4gQmVyZ3N0csO2bSdzIGFsZ29yaXRobSBkZXNjcmliZWQgaGVyZTogaHR0cDovL3d3dy5yb2d1ZWJhc2luLmNvbS9pbmRleC5waHA/dGl0bGU9Rk9WX3VzaW5nX3JlY3Vyc2l2ZV9zaGFkb3djYXN0aW5nXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcgPSBmdW5jdGlvbihsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5GT1YuY2FsbCh0aGlzLCBsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKTtcbn1cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5leHRlbmQoUk9ULkZPVik7XG5cbi8qKiBPY3RhbnRzIHVzZWQgZm9yIHRyYW5zbGF0aW5nIHJlY3Vyc2l2ZSBzaGFkb3djYXN0aW5nIG9mZnNldHMgKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTID0gW1xuXHRbLTEsICAwLCAgMCwgIDFdLFxuXHRbIDAsIC0xLCAgMSwgIDBdLFxuXHRbIDAsIC0xLCAtMSwgIDBdLFxuXHRbLTEsICAwLCAgMCwgLTFdLFxuXHRbIDEsICAwLCAgMCwgLTFdLFxuXHRbIDAsICAxLCAtMSwgIDBdLFxuXHRbIDAsICAxLCAgMSwgIDBdLFxuXHRbIDEsICAwLCAgMCwgIDFdXG5dO1xuXG4vKipcbiAqIENvbXB1dGUgdmlzaWJpbGl0eSBmb3IgYSAzNjAtZGVncmVlIGNpcmNsZVxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge1xuXHQvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbaV0sIFIsIGNhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIENvbXB1dGUgdmlzaWJpbGl0eSBmb3IgYSAxODAtZGVncmVlIGFyY1xuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2ludH0gZGlyIERpcmVjdGlvbiB0byBsb29rIGluIChleHByZXNzZWQgaW4gYSBST1QuRElSUyB2YWx1ZSk7XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUxODAgPSBmdW5jdGlvbih4LCB5LCBSLCBkaXIsIGNhbGxiYWNrKSB7XG5cdC8vWW91IGNhbiBhbHdheXMgc2VlIHlvdXIgb3duIHRpbGVcblx0Y2FsbGJhY2soeCwgeSwgMCwgMSk7XG5cdHZhciBwcmV2aW91c09jdGFudCA9IChkaXIgLSAxICsgOCkgJSA4OyAvL05lZWQgdG8gcmV0cmlldmUgdGhlIHByZXZpb3VzIG9jdGFudCB0byByZW5kZXIgYSBmdWxsIDE4MCBkZWdyZWVzXG5cdHZhciBuZXh0UHJldmlvdXNPY3RhbnQgPSAoZGlyIC0gMiArIDgpICUgODsgLy9OZWVkIHRvIHJldHJpZXZlIHRoZSBwcmV2aW91cyB0d28gb2N0YW50cyB0byByZW5kZXIgYSBmdWxsIDE4MCBkZWdyZWVzXG5cdHZhciBuZXh0T2N0YW50ID0gKGRpcisgMSArIDgpICUgODsgLy9OZWVkIHRvIGdyYWIgdG8gbmV4dCBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbbmV4dFByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbcHJldmlvdXNPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tkaXJdLCBSLCBjYWxsYmFjayk7XG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tuZXh0T2N0YW50XSwgUiwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdmlzaWJpbGl0eSBmb3IgYSA5MC1kZWdyZWUgYXJjXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7aW50fSBkaXIgRGlyZWN0aW9uIHRvIGxvb2sgaW4gKGV4cHJlc3NlZCBpbiBhIFJPVC5ESVJTIHZhbHVlKTtcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuY29tcHV0ZTkwID0gZnVuY3Rpb24oeCwgeSwgUiwgZGlyLCBjYWxsYmFjaykge1xuXHQvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXHR2YXIgcHJldmlvdXNPY3RhbnQgPSAoZGlyIC0gMSArIDgpICUgODsgLy9OZWVkIHRvIHJldHJpZXZlIHRoZSBwcmV2aW91cyBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCA5MCBkZWdyZWVzXG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tkaXJdLCBSLCBjYWxsYmFjayk7XG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1twcmV2aW91c09jdGFudF0sIFIsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBSZW5kZXIgb25lIG9jdGFudCAoNDUtZGVncmVlIGFyYykgb2YgdGhlIHZpZXdzaGVkXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBvY3RhbnQgT2N0YW50IHRvIGJlIHJlbmRlcmVkXG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl9yZW5kZXJPY3RhbnQgPSBmdW5jdGlvbih4LCB5LCBvY3RhbnQsIFIsIGNhbGxiYWNrKSB7XG5cdC8vUmFkaXVzIGluY3JlbWVudGVkIGJ5IDEgdG8gcHJvdmlkZSBzYW1lIGNvdmVyYWdlIGFyZWEgYXMgb3RoZXIgc2hhZG93Y2FzdGluZyByYWRpdXNlc1xuXHR0aGlzLl9jYXN0VmlzaWJpbGl0eSh4LCB5LCAxLCAxLjAsIDAuMCwgUiArIDEsIG9jdGFudFswXSwgb2N0YW50WzFdLCBvY3RhbnRbMl0sIG9jdGFudFszXSwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEFjdHVhbGx5IGNhbGN1bGF0ZXMgdGhlIHZpc2liaWxpdHlcbiAqIEBwYXJhbSB7aW50fSBzdGFydFggVGhlIHN0YXJ0aW5nIFggY29vcmRpbmF0ZVxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WSBUaGUgc3RhcnRpbmcgWSBjb29yZGluYXRlXG4gKiBAcGFyYW0ge2ludH0gcm93IFRoZSByb3cgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2Zsb2F0fSB2aXNTbG9wZVN0YXJ0IFRoZSBzbG9wZSB0byBzdGFydCBhdFxuICogQHBhcmFtIHtmbG9hdH0gdmlzU2xvcGVFbmQgVGhlIHNsb3BlIHRvIGVuZCBhdFxuICogQHBhcmFtIHtpbnR9IHJhZGl1cyBUaGUgcmFkaXVzIHRvIHJlYWNoIG91dCB0b1xuICogQHBhcmFtIHtpbnR9IHh4IFxuICogQHBhcmFtIHtpbnR9IHh5IFxuICogQHBhcmFtIHtpbnR9IHl4IFxuICogQHBhcmFtIHtpbnR9IHl5IFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHVzZSB3aGVuIHdlIGhpdCBhIGJsb2NrIHRoYXQgaXMgdmlzaWJsZVxuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl9jYXN0VmlzaWJpbGl0eSA9IGZ1bmN0aW9uKHN0YXJ0WCwgc3RhcnRZLCByb3csIHZpc1Nsb3BlU3RhcnQsIHZpc1Nsb3BlRW5kLCByYWRpdXMsIHh4LCB4eSwgeXgsIHl5LCBjYWxsYmFjaykge1xuXHRpZih2aXNTbG9wZVN0YXJ0IDwgdmlzU2xvcGVFbmQpIHsgcmV0dXJuOyB9XG5cdGZvcih2YXIgaSA9IHJvdzsgaSA8PSByYWRpdXM7IGkrKykge1xuXHRcdHZhciBkeCA9IC1pIC0gMTtcblx0XHR2YXIgZHkgPSAtaTtcblx0XHR2YXIgYmxvY2tlZCA9IGZhbHNlO1xuXHRcdHZhciBuZXdTdGFydCA9IDA7XG5cblx0XHQvLydSb3cnIGNvdWxkIGJlIGNvbHVtbiwgbmFtZXMgaGVyZSBhc3N1bWUgb2N0YW50IDAgYW5kIHdvdWxkIGJlIGZsaXBwZWQgZm9yIGhhbGYgdGhlIG9jdGFudHNcblx0XHR3aGlsZShkeCA8PSAwKSB7XG5cdFx0XHRkeCArPSAxO1xuXG5cdFx0XHQvL1RyYW5zbGF0ZSBmcm9tIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIG1hcCBjb29yZGluYXRlc1xuXHRcdFx0dmFyIG1hcFggPSBzdGFydFggKyBkeCAqIHh4ICsgZHkgKiB4eTtcblx0XHRcdHZhciBtYXBZID0gc3RhcnRZICsgZHggKiB5eCArIGR5ICogeXk7XG5cblx0XHRcdC8vUmFuZ2Ugb2YgdGhlIHJvd1xuXHRcdFx0dmFyIHNsb3BlU3RhcnQgPSAoZHggLSAwLjUpIC8gKGR5ICsgMC41KTtcblx0XHRcdHZhciBzbG9wZUVuZCA9IChkeCArIDAuNSkgLyAoZHkgLSAwLjUpO1xuXHRcdFxuXHRcdFx0Ly9JZ25vcmUgaWYgbm90IHlldCBhdCBsZWZ0IGVkZ2Ugb2YgT2N0YW50XG5cdFx0XHRpZihzbG9wZUVuZCA+IHZpc1Nsb3BlU3RhcnQpIHsgY29udGludWU7IH1cblx0XHRcdFxuXHRcdFx0Ly9Eb25lIGlmIHBhc3QgcmlnaHQgZWRnZVxuXHRcdFx0aWYoc2xvcGVTdGFydCA8IHZpc1Nsb3BlRW5kKSB7IGJyZWFrOyB9XG5cdFx0XHRcdFxuXHRcdFx0Ly9JZiBpdCdzIGluIHJhbmdlLCBpdCdzIHZpc2libGVcblx0XHRcdGlmKChkeCAqIGR4ICsgZHkgKiBkeSkgPCAocmFkaXVzICogcmFkaXVzKSkge1xuXHRcdFx0XHRjYWxsYmFjayhtYXBYLCBtYXBZLCBpLCAxKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZighYmxvY2tlZCkge1xuXHRcdFx0XHQvL0lmIHRpbGUgaXMgYSBibG9ja2luZyB0aWxlLCBjYXN0IGFyb3VuZCBpdFxuXHRcdFx0XHRpZighdGhpcy5fbGlnaHRQYXNzZXMobWFwWCwgbWFwWSkgJiYgaSA8IHJhZGl1cykge1xuXHRcdFx0XHRcdGJsb2NrZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMuX2Nhc3RWaXNpYmlsaXR5KHN0YXJ0WCwgc3RhcnRZLCBpICsgMSwgdmlzU2xvcGVTdGFydCwgc2xvcGVTdGFydCwgcmFkaXVzLCB4eCwgeHksIHl4LCB5eSwgY2FsbGJhY2spO1xuXHRcdFx0XHRcdG5ld1N0YXJ0ID0gc2xvcGVFbmQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vS2VlcCBuYXJyb3dpbmcgaWYgc2Nhbm5pbmcgYWNyb3NzIGEgYmxvY2tcblx0XHRcdFx0aWYoIXRoaXMuX2xpZ2h0UGFzc2VzKG1hcFgsIG1hcFkpKSB7XG5cdFx0XHRcdFx0bmV3U3RhcnQgPSBzbG9wZUVuZDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRcdC8vQmxvY2sgaGFzIGVuZGVkXG5cdFx0XHRcdGJsb2NrZWQgPSBmYWxzZTtcblx0XHRcdFx0dmlzU2xvcGVTdGFydCA9IG5ld1N0YXJ0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihibG9ja2VkKSB7IGJyZWFrOyB9XG5cdH1cbn1cbi8qKlxuICogQG5hbWVzcGFjZSBDb2xvciBvcGVyYXRpb25zXG4gKi9cblJPVC5Db2xvciA9IHtcblx0ZnJvbVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG5cdFx0dmFyIGNhY2hlZCwgcjtcblx0XHRpZiAoc3RyIGluIHRoaXMuX2NhY2hlKSB7XG5cdFx0XHRjYWNoZWQgPSB0aGlzLl9jYWNoZVtzdHJdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoc3RyLmNoYXJBdCgwKSA9PSBcIiNcIikgeyAvKiBoZXggcmdiICovXG5cblx0XHRcdFx0dmFyIHZhbHVlcyA9IHN0ci5tYXRjaCgvWzAtOWEtZl0vZ2kpLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiBwYXJzZUludCh4LCAxNik7IH0pO1xuXHRcdFx0XHRpZiAodmFsdWVzLmxlbmd0aCA9PSAzKSB7XG5cdFx0XHRcdFx0Y2FjaGVkID0gdmFsdWVzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiB4KjE3OyB9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0XHRcdFx0dmFsdWVzW2krMV0gKz0gMTYqdmFsdWVzW2ldO1xuXHRcdFx0XHRcdFx0dmFsdWVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2FjaGVkID0gdmFsdWVzO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSBpZiAoKHIgPSBzdHIubWF0Y2goL3JnYlxcKChbMC05LCBdKylcXCkvaSkpKSB7IC8qIGRlY2ltYWwgcmdiICovXG5cdFx0XHRcdGNhY2hlZCA9IHJbMV0uc3BsaXQoL1xccyosXFxzKi8pLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiBwYXJzZUludCh4KTsgfSk7XG5cdFx0XHR9IGVsc2UgeyAvKiBodG1sIG5hbWUgKi9cblx0XHRcdFx0Y2FjaGVkID0gWzAsIDAsIDBdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9jYWNoZVtzdHJdID0gY2FjaGVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBjYWNoZWQuc2xpY2UoKTtcblx0fSxcblxuXHQvKipcblx0ICogQWRkIHR3byBvciBtb3JlIGNvbG9yc1xuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGFkZDogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHR2YXIgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MTtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdHJlc3VsdFtpXSArPSBhcmd1bWVudHNbal1baV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEFkZCB0d28gb3IgbW9yZSBjb2xvcnMsIE1PRElGSUVTIEZJUlNUIEFSR1VNRU5UXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0YWRkXzogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0Y29sb3IxW2ldICs9IGFyZ3VtZW50c1tqXVtpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbG9yMTtcblx0fSxcblxuXHQvKipcblx0ICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0bXVsdGlwbHk6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRyZXN1bHRbaV0gKj0gYXJndW1lbnRzW2pdW2ldIC8gMjU1O1xuXHRcdFx0fVxuXHRcdFx0cmVzdWx0W2ldID0gTWF0aC5yb3VuZChyZXN1bHRbaV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBNdWx0aXBseSAobWl4KSB0d28gb3IgbW9yZSBjb2xvcnMsIE1PRElGSUVTIEZJUlNUIEFSR1VNRU5UXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0bXVsdGlwbHlfOiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRjb2xvcjFbaV0gKj0gYXJndW1lbnRzW2pdW2ldIC8gMjU1O1xuXHRcdFx0fVxuXHRcdFx0Y29sb3IxW2ldID0gTWF0aC5yb3VuZChjb2xvcjFbaV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gY29sb3IxO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBJbnRlcnBvbGF0ZSAoYmxlbmQpIHR3byBjb2xvcnMgd2l0aCBhIGdpdmVuIGZhY3RvclxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFtmYWN0b3I9MC41XSAwLi4xXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGludGVycG9sYXRlOiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgZmFjdG9yKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7IGZhY3RvciA9IDAuNTsgfVxuXHRcdHZhciByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0cmVzdWx0W2ldID0gTWF0aC5yb3VuZChyZXN1bHRbaV0gKyBmYWN0b3IqKGNvbG9yMltpXS1jb2xvcjFbaV0pKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogSW50ZXJwb2xhdGUgKGJsZW5kKSB0d28gY29sb3JzIHdpdGggYSBnaXZlbiBmYWN0b3IgaW4gSFNMIG1vZGVcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbZmFjdG9yPTAuNV0gMC4uMVxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRpbnRlcnBvbGF0ZUhTTDogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIsIGZhY3Rvcikge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykgeyBmYWN0b3IgPSAwLjU7IH1cblx0XHR2YXIgaHNsMSA9IHRoaXMucmdiMmhzbChjb2xvcjEpO1xuXHRcdHZhciBoc2wyID0gdGhpcy5yZ2IyaHNsKGNvbG9yMik7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGhzbDFbaV0gKz0gZmFjdG9yKihoc2wyW2ldLWhzbDFbaV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5oc2wycmdiKGhzbDEpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBuZXcgcmFuZG9tIGNvbG9yIGJhc2VkIG9uIHRoaXMgb25lXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGRpZmYgU2V0IG9mIHN0YW5kYXJkIGRldmlhdGlvbnNcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0cmFuZG9taXplOiBmdW5jdGlvbihjb2xvciwgZGlmZikge1xuXHRcdGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHsgZGlmZiA9IE1hdGgucm91bmQoUk9ULlJORy5nZXROb3JtYWwoMCwgZGlmZikpOyB9XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHJlc3VsdFtpXSArPSAoZGlmZiBpbnN0YW5jZW9mIEFycmF5ID8gTWF0aC5yb3VuZChST1QuUk5HLmdldE5vcm1hbCgwLCBkaWZmW2ldKSkgOiBkaWZmKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTTC4gRXhwZWN0cyAwLi4yNTUgaW5wdXRzLCBwcm9kdWNlcyAwLi4xIG91dHB1dHMuXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdHJnYjJoc2w6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0dmFyIHIgPSBjb2xvclswXS8yNTU7XG5cdFx0dmFyIGcgPSBjb2xvclsxXS8yNTU7XG5cdFx0dmFyIGIgPSBjb2xvclsyXS8yNTU7XG5cblx0XHR2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYiksIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuXHRcdHZhciBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG5cdFx0aWYgKG1heCA9PSBtaW4pIHtcblx0XHRcdGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZCA9IG1heCAtIG1pbjtcblx0XHRcdHMgPSAobCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbikpO1xuXHRcdFx0c3dpdGNoKG1heCkge1xuXHRcdFx0XHRjYXNlIHI6IGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRoIC89IDY7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFtoLCBzLCBsXTtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi4gRXhwZWN0cyAwLi4xIGlucHV0cywgcHJvZHVjZXMgMC4uMjU1IG91dHB1dHMuXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGhzbDJyZ2I6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0dmFyIGwgPSBjb2xvclsyXTtcblxuXHRcdGlmIChjb2xvclsxXSA9PSAwKSB7XG5cdFx0XHRsID0gTWF0aC5yb3VuZChsKjI1NSk7XG5cdFx0XHRyZXR1cm4gW2wsIGwsIGxdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgaHVlMnJnYiA9IGZ1bmN0aW9uKHAsIHEsIHQpIHtcblx0XHRcdFx0aWYgKHQgPCAwKSB0ICs9IDE7XG5cdFx0XHRcdGlmICh0ID4gMSkgdCAtPSAxO1xuXHRcdFx0XHRpZiAodCA8IDEvNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG5cdFx0XHRcdGlmICh0IDwgMS8yKSByZXR1cm4gcTtcblx0XHRcdFx0aWYgKHQgPCAyLzMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyLzMgLSB0KSAqIDY7XG5cdFx0XHRcdHJldHVybiBwO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcyA9IGNvbG9yWzFdO1xuXHRcdFx0dmFyIHEgPSAobCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcyk7XG5cdFx0XHR2YXIgcCA9IDIgKiBsIC0gcTtcblx0XHRcdHZhciByID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSArIDEvMyk7XG5cdFx0XHR2YXIgZyA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0pO1xuXHRcdFx0dmFyIGIgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdIC0gMS8zKTtcblx0XHRcdHJldHVybiBbTWF0aC5yb3VuZChyKjI1NSksIE1hdGgucm91bmQoZyoyNTUpLCBNYXRoLnJvdW5kKGIqMjU1KV07XG5cdFx0fVxuXHR9LFxuXG5cdHRvUkdCOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHJldHVybiBcInJnYihcIiArIHRoaXMuX2NsYW1wKGNvbG9yWzBdKSArIFwiLFwiICsgdGhpcy5fY2xhbXAoY29sb3JbMV0pICsgXCIsXCIgKyB0aGlzLl9jbGFtcChjb2xvclsyXSkgKyBcIilcIjtcblx0fSxcblxuXHR0b0hleDogZnVuY3Rpb24oY29sb3IpIHtcblx0XHR2YXIgcGFydHMgPSBbXTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0cGFydHMucHVzaCh0aGlzLl9jbGFtcChjb2xvcltpXSkudG9TdHJpbmcoMTYpLmxwYWQoXCIwXCIsIDIpKTtcblx0XHR9XG5cdFx0cmV0dXJuIFwiI1wiICsgcGFydHMuam9pbihcIlwiKTtcblx0fSxcblxuXHRfY2xhbXA6IGZ1bmN0aW9uKG51bSkge1xuXHRcdGlmIChudW0gPCAwKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9IGVsc2UgaWYgKG51bSA+IDI1NSkge1xuXHRcdFx0cmV0dXJuIDI1NTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bTtcblx0XHR9XG5cdH0sXG5cblx0X2NhY2hlOiB7XG5cdFx0XCJibGFja1wiOiBbMCwwLDBdLFxuXHRcdFwibmF2eVwiOiBbMCwwLDEyOF0sXG5cdFx0XCJkYXJrYmx1ZVwiOiBbMCwwLDEzOV0sXG5cdFx0XCJtZWRpdW1ibHVlXCI6IFswLDAsMjA1XSxcblx0XHRcImJsdWVcIjogWzAsMCwyNTVdLFxuXHRcdFwiZGFya2dyZWVuXCI6IFswLDEwMCwwXSxcblx0XHRcImdyZWVuXCI6IFswLDEyOCwwXSxcblx0XHRcInRlYWxcIjogWzAsMTI4LDEyOF0sXG5cdFx0XCJkYXJrY3lhblwiOiBbMCwxMzksMTM5XSxcblx0XHRcImRlZXBza3libHVlXCI6IFswLDE5MSwyNTVdLFxuXHRcdFwiZGFya3R1cnF1b2lzZVwiOiBbMCwyMDYsMjA5XSxcblx0XHRcIm1lZGl1bXNwcmluZ2dyZWVuXCI6IFswLDI1MCwxNTRdLFxuXHRcdFwibGltZVwiOiBbMCwyNTUsMF0sXG5cdFx0XCJzcHJpbmdncmVlblwiOiBbMCwyNTUsMTI3XSxcblx0XHRcImFxdWFcIjogWzAsMjU1LDI1NV0sXG5cdFx0XCJjeWFuXCI6IFswLDI1NSwyNTVdLFxuXHRcdFwibWlkbmlnaHRibHVlXCI6IFsyNSwyNSwxMTJdLFxuXHRcdFwiZG9kZ2VyYmx1ZVwiOiBbMzAsMTQ0LDI1NV0sXG5cdFx0XCJmb3Jlc3RncmVlblwiOiBbMzQsMTM5LDM0XSxcblx0XHRcInNlYWdyZWVuXCI6IFs0NiwxMzksODddLFxuXHRcdFwiZGFya3NsYXRlZ3JheVwiOiBbNDcsNzksNzldLFxuXHRcdFwiZGFya3NsYXRlZ3JleVwiOiBbNDcsNzksNzldLFxuXHRcdFwibGltZWdyZWVuXCI6IFs1MCwyMDUsNTBdLFxuXHRcdFwibWVkaXVtc2VhZ3JlZW5cIjogWzYwLDE3OSwxMTNdLFxuXHRcdFwidHVycXVvaXNlXCI6IFs2NCwyMjQsMjA4XSxcblx0XHRcInJveWFsYmx1ZVwiOiBbNjUsMTA1LDIyNV0sXG5cdFx0XCJzdGVlbGJsdWVcIjogWzcwLDEzMCwxODBdLFxuXHRcdFwiZGFya3NsYXRlYmx1ZVwiOiBbNzIsNjEsMTM5XSxcblx0XHRcIm1lZGl1bXR1cnF1b2lzZVwiOiBbNzIsMjA5LDIwNF0sXG5cdFx0XCJpbmRpZ29cIjogWzc1LDAsMTMwXSxcblx0XHRcImRhcmtvbGl2ZWdyZWVuXCI6IFs4NSwxMDcsNDddLFxuXHRcdFwiY2FkZXRibHVlXCI6IFs5NSwxNTgsMTYwXSxcblx0XHRcImNvcm5mbG93ZXJibHVlXCI6IFsxMDAsMTQ5LDIzN10sXG5cdFx0XCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsMjA1LDE3MF0sXG5cdFx0XCJkaW1ncmF5XCI6IFsxMDUsMTA1LDEwNV0sXG5cdFx0XCJkaW1ncmV5XCI6IFsxMDUsMTA1LDEwNV0sXG5cdFx0XCJzbGF0ZWJsdWVcIjogWzEwNiw5MCwyMDVdLFxuXHRcdFwib2xpdmVkcmFiXCI6IFsxMDcsMTQyLDM1XSxcblx0XHRcInNsYXRlZ3JheVwiOiBbMTEyLDEyOCwxNDRdLFxuXHRcdFwic2xhdGVncmV5XCI6IFsxMTIsMTI4LDE0NF0sXG5cdFx0XCJsaWdodHNsYXRlZ3JheVwiOiBbMTE5LDEzNiwxNTNdLFxuXHRcdFwibGlnaHRzbGF0ZWdyZXlcIjogWzExOSwxMzYsMTUzXSxcblx0XHRcIm1lZGl1bXNsYXRlYmx1ZVwiOiBbMTIzLDEwNCwyMzhdLFxuXHRcdFwibGF3bmdyZWVuXCI6IFsxMjQsMjUyLDBdLFxuXHRcdFwiY2hhcnRyZXVzZVwiOiBbMTI3LDI1NSwwXSxcblx0XHRcImFxdWFtYXJpbmVcIjogWzEyNywyNTUsMjEyXSxcblx0XHRcIm1hcm9vblwiOiBbMTI4LDAsMF0sXG5cdFx0XCJwdXJwbGVcIjogWzEyOCwwLDEyOF0sXG5cdFx0XCJvbGl2ZVwiOiBbMTI4LDEyOCwwXSxcblx0XHRcImdyYXlcIjogWzEyOCwxMjgsMTI4XSxcblx0XHRcImdyZXlcIjogWzEyOCwxMjgsMTI4XSxcblx0XHRcInNreWJsdWVcIjogWzEzNSwyMDYsMjM1XSxcblx0XHRcImxpZ2h0c2t5Ymx1ZVwiOiBbMTM1LDIwNiwyNTBdLFxuXHRcdFwiYmx1ZXZpb2xldFwiOiBbMTM4LDQzLDIyNl0sXG5cdFx0XCJkYXJrcmVkXCI6IFsxMzksMCwwXSxcblx0XHRcImRhcmttYWdlbnRhXCI6IFsxMzksMCwxMzldLFxuXHRcdFwic2FkZGxlYnJvd25cIjogWzEzOSw2OSwxOV0sXG5cdFx0XCJkYXJrc2VhZ3JlZW5cIjogWzE0MywxODgsMTQzXSxcblx0XHRcImxpZ2h0Z3JlZW5cIjogWzE0NCwyMzgsMTQ0XSxcblx0XHRcIm1lZGl1bXB1cnBsZVwiOiBbMTQ3LDExMiwyMTZdLFxuXHRcdFwiZGFya3Zpb2xldFwiOiBbMTQ4LDAsMjExXSxcblx0XHRcInBhbGVncmVlblwiOiBbMTUyLDI1MSwxNTJdLFxuXHRcdFwiZGFya29yY2hpZFwiOiBbMTUzLDUwLDIwNF0sXG5cdFx0XCJ5ZWxsb3dncmVlblwiOiBbMTU0LDIwNSw1MF0sXG5cdFx0XCJzaWVubmFcIjogWzE2MCw4Miw0NV0sXG5cdFx0XCJicm93blwiOiBbMTY1LDQyLDQyXSxcblx0XHRcImRhcmtncmF5XCI6IFsxNjksMTY5LDE2OV0sXG5cdFx0XCJkYXJrZ3JleVwiOiBbMTY5LDE2OSwxNjldLFxuXHRcdFwibGlnaHRibHVlXCI6IFsxNzMsMjE2LDIzMF0sXG5cdFx0XCJncmVlbnllbGxvd1wiOiBbMTczLDI1NSw0N10sXG5cdFx0XCJwYWxldHVycXVvaXNlXCI6IFsxNzUsMjM4LDIzOF0sXG5cdFx0XCJsaWdodHN0ZWVsYmx1ZVwiOiBbMTc2LDE5NiwyMjJdLFxuXHRcdFwicG93ZGVyYmx1ZVwiOiBbMTc2LDIyNCwyMzBdLFxuXHRcdFwiZmlyZWJyaWNrXCI6IFsxNzgsMzQsMzRdLFxuXHRcdFwiZGFya2dvbGRlbnJvZFwiOiBbMTg0LDEzNCwxMV0sXG5cdFx0XCJtZWRpdW1vcmNoaWRcIjogWzE4Niw4NSwyMTFdLFxuXHRcdFwicm9zeWJyb3duXCI6IFsxODgsMTQzLDE0M10sXG5cdFx0XCJkYXJra2hha2lcIjogWzE4OSwxODMsMTA3XSxcblx0XHRcInNpbHZlclwiOiBbMTkyLDE5MiwxOTJdLFxuXHRcdFwibWVkaXVtdmlvbGV0cmVkXCI6IFsxOTksMjEsMTMzXSxcblx0XHRcImluZGlhbnJlZFwiOiBbMjA1LDkyLDkyXSxcblx0XHRcInBlcnVcIjogWzIwNSwxMzMsNjNdLFxuXHRcdFwiY2hvY29sYXRlXCI6IFsyMTAsMTA1LDMwXSxcblx0XHRcInRhblwiOiBbMjEwLDE4MCwxNDBdLFxuXHRcdFwibGlnaHRncmF5XCI6IFsyMTEsMjExLDIxMV0sXG5cdFx0XCJsaWdodGdyZXlcIjogWzIxMSwyMTEsMjExXSxcblx0XHRcInBhbGV2aW9sZXRyZWRcIjogWzIxNiwxMTIsMTQ3XSxcblx0XHRcInRoaXN0bGVcIjogWzIxNiwxOTEsMjE2XSxcblx0XHRcIm9yY2hpZFwiOiBbMjE4LDExMiwyMTRdLFxuXHRcdFwiZ29sZGVucm9kXCI6IFsyMTgsMTY1LDMyXSxcblx0XHRcImNyaW1zb25cIjogWzIyMCwyMCw2MF0sXG5cdFx0XCJnYWluc2Jvcm9cIjogWzIyMCwyMjAsMjIwXSxcblx0XHRcInBsdW1cIjogWzIyMSwxNjAsMjIxXSxcblx0XHRcImJ1cmx5d29vZFwiOiBbMjIyLDE4NCwxMzVdLFxuXHRcdFwibGlnaHRjeWFuXCI6IFsyMjQsMjU1LDI1NV0sXG5cdFx0XCJsYXZlbmRlclwiOiBbMjMwLDIzMCwyNTBdLFxuXHRcdFwiZGFya3NhbG1vblwiOiBbMjMzLDE1MCwxMjJdLFxuXHRcdFwidmlvbGV0XCI6IFsyMzgsMTMwLDIzOF0sXG5cdFx0XCJwYWxlZ29sZGVucm9kXCI6IFsyMzgsMjMyLDE3MF0sXG5cdFx0XCJsaWdodGNvcmFsXCI6IFsyNDAsMTI4LDEyOF0sXG5cdFx0XCJraGFraVwiOiBbMjQwLDIzMCwxNDBdLFxuXHRcdFwiYWxpY2VibHVlXCI6IFsyNDAsMjQ4LDI1NV0sXG5cdFx0XCJob25leWRld1wiOiBbMjQwLDI1NSwyNDBdLFxuXHRcdFwiYXp1cmVcIjogWzI0MCwyNTUsMjU1XSxcblx0XHRcInNhbmR5YnJvd25cIjogWzI0NCwxNjQsOTZdLFxuXHRcdFwid2hlYXRcIjogWzI0NSwyMjIsMTc5XSxcblx0XHRcImJlaWdlXCI6IFsyNDUsMjQ1LDIyMF0sXG5cdFx0XCJ3aGl0ZXNtb2tlXCI6IFsyNDUsMjQ1LDI0NV0sXG5cdFx0XCJtaW50Y3JlYW1cIjogWzI0NSwyNTUsMjUwXSxcblx0XHRcImdob3N0d2hpdGVcIjogWzI0OCwyNDgsMjU1XSxcblx0XHRcInNhbG1vblwiOiBbMjUwLDEyOCwxMTRdLFxuXHRcdFwiYW50aXF1ZXdoaXRlXCI6IFsyNTAsMjM1LDIxNV0sXG5cdFx0XCJsaW5lblwiOiBbMjUwLDI0MCwyMzBdLFxuXHRcdFwibGlnaHRnb2xkZW5yb2R5ZWxsb3dcIjogWzI1MCwyNTAsMjEwXSxcblx0XHRcIm9sZGxhY2VcIjogWzI1MywyNDUsMjMwXSxcblx0XHRcInJlZFwiOiBbMjU1LDAsMF0sXG5cdFx0XCJmdWNoc2lhXCI6IFsyNTUsMCwyNTVdLFxuXHRcdFwibWFnZW50YVwiOiBbMjU1LDAsMjU1XSxcblx0XHRcImRlZXBwaW5rXCI6IFsyNTUsMjAsMTQ3XSxcblx0XHRcIm9yYW5nZXJlZFwiOiBbMjU1LDY5LDBdLFxuXHRcdFwidG9tYXRvXCI6IFsyNTUsOTksNzFdLFxuXHRcdFwiaG90cGlua1wiOiBbMjU1LDEwNSwxODBdLFxuXHRcdFwiY29yYWxcIjogWzI1NSwxMjcsODBdLFxuXHRcdFwiZGFya29yYW5nZVwiOiBbMjU1LDE0MCwwXSxcblx0XHRcImxpZ2h0c2FsbW9uXCI6IFsyNTUsMTYwLDEyMl0sXG5cdFx0XCJvcmFuZ2VcIjogWzI1NSwxNjUsMF0sXG5cdFx0XCJsaWdodHBpbmtcIjogWzI1NSwxODIsMTkzXSxcblx0XHRcInBpbmtcIjogWzI1NSwxOTIsMjAzXSxcblx0XHRcImdvbGRcIjogWzI1NSwyMTUsMF0sXG5cdFx0XCJwZWFjaHB1ZmZcIjogWzI1NSwyMTgsMTg1XSxcblx0XHRcIm5hdmFqb3doaXRlXCI6IFsyNTUsMjIyLDE3M10sXG5cdFx0XCJtb2NjYXNpblwiOiBbMjU1LDIyOCwxODFdLFxuXHRcdFwiYmlzcXVlXCI6IFsyNTUsMjI4LDE5Nl0sXG5cdFx0XCJtaXN0eXJvc2VcIjogWzI1NSwyMjgsMjI1XSxcblx0XHRcImJsYW5jaGVkYWxtb25kXCI6IFsyNTUsMjM1LDIwNV0sXG5cdFx0XCJwYXBheWF3aGlwXCI6IFsyNTUsMjM5LDIxM10sXG5cdFx0XCJsYXZlbmRlcmJsdXNoXCI6IFsyNTUsMjQwLDI0NV0sXG5cdFx0XCJzZWFzaGVsbFwiOiBbMjU1LDI0NSwyMzhdLFxuXHRcdFwiY29ybnNpbGtcIjogWzI1NSwyNDgsMjIwXSxcblx0XHRcImxlbW9uY2hpZmZvblwiOiBbMjU1LDI1MCwyMDVdLFxuXHRcdFwiZmxvcmFsd2hpdGVcIjogWzI1NSwyNTAsMjQwXSxcblx0XHRcInNub3dcIjogWzI1NSwyNTAsMjUwXSxcblx0XHRcInllbGxvd1wiOiBbMjU1LDI1NSwwXSxcblx0XHRcImxpZ2h0eWVsbG93XCI6IFsyNTUsMjU1LDIyNF0sXG5cdFx0XCJpdm9yeVwiOiBbMjU1LDI1NSwyNDBdLFxuXHRcdFwid2hpdGVcIjogWzI1NSwyNTUsMjU1XVxuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBMaWdodGluZyBjb21wdXRhdGlvbiwgYmFzZWQgb24gYSB0cmFkaXRpb25hbCBGT1YgZm9yIG11bHRpcGxlIGxpZ2h0IHNvdXJjZXMgYW5kIG11bHRpcGxlIHBhc3Nlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlZmxlY3Rpdml0eUNhbGxiYWNrIENhbGxiYWNrIHRvIHJldHJpZXZlIGNlbGwgcmVmbGVjdGl2aXR5ICgwLi4xKVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnBhc3Nlcz0xXSBOdW1iZXIgb2YgcGFzc2VzLiAxIGVxdWFscyB0byBzaW1wbGUgRk9WIG9mIGFsbCBsaWdodCBzb3VyY2VzLCA+MSBtZWFucyBhICpoaWdobHkgc2ltcGxpZmllZCogcmFkaW9zaXR5LWxpa2UgYWxnb3JpdGhtLlxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLmVtaXNzaW9uVGhyZXNob2xkPTEwMF0gQ2VsbHMgd2l0aCBlbWlzc2l2aXR5ID4gdGhyZXNob2xkIHdpbGwgYmUgdHJlYXRlZCBhcyBsaWdodCBzb3VyY2UgaW4gdGhlIG5leHQgcGFzcy5cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5yYW5nZT0xMF0gTWF4IGxpZ2h0IHJhbmdlXG4gKi9cblJPVC5MaWdodGluZyA9IGZ1bmN0aW9uKHJlZmxlY3Rpdml0eUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdHRoaXMuX3JlZmxlY3Rpdml0eUNhbGxiYWNrID0gcmVmbGVjdGl2aXR5Q2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0cGFzc2VzOiAxLFxuXHRcdGVtaXNzaW9uVGhyZXNob2xkOiAxMDAsXG5cdFx0cmFuZ2U6IDEwXG5cdH07XG5cdHRoaXMuX2ZvdiA9IG51bGw7XG5cblx0dGhpcy5fbGlnaHRzID0ge307XG5cdHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlID0ge307XG5cdHRoaXMuX2ZvdkNhY2hlID0ge307XG5cblx0dGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEFkanVzdCBvcHRpb25zIGF0IHJ1bnRpbWVcbiAqIEBzZWUgUk9ULkxpZ2h0aW5nXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMucmFuZ2UpIHsgdGhpcy5yZXNldCgpOyB9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFNldCB0aGUgdXNlZCBGaWVsZC1PZi1WaWV3IGFsZ29cbiAqIEBwYXJhbSB7Uk9ULkZPVn0gZm92XG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuc2V0Rk9WID0gZnVuY3Rpb24oZm92KSB7XG5cdHRoaXMuX2ZvdiA9IGZvdjtcblx0dGhpcy5fZm92Q2FjaGUgPSB7fTtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogU2V0IChvciByZW1vdmUpIGEgbGlnaHQgc291cmNlXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7bnVsbCB8fCBzdHJpbmcgfHwgbnVtYmVyWzNdfSBjb2xvclxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldExpZ2h0ID0gZnVuY3Rpb24oeCwgeSwgY29sb3IpIHtcblx0dmFyIGtleSA9IHgrXCIsXCIreTtcblxuXHRpZiAoY29sb3IpIHtcblx0XHR0aGlzLl9saWdodHNba2V5XSA9ICh0eXBlb2YoY29sb3IpID09IFwic3RyaW5nXCIgPyBST1QuQ29sb3IuZnJvbVN0cmluZyhjb2xvcikgOiBjb2xvcik7XG5cdH0gZWxzZSB7XG5cdFx0ZGVsZXRlIHRoaXMuX2xpZ2h0c1trZXldO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlnaHQgc291cmNlc1xuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLmNsZWFyTGlnaHRzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fbGlnaHRzID0ge307XG59XG5cbi8qKlxuICogUmVzZXQgdGhlIHByZS1jb21wdXRlZCB0b3BvbG9neSB2YWx1ZXMuIENhbGwgd2hlbmV2ZXIgdGhlIHVuZGVybHlpbmcgbWFwIGNoYW5nZXMgaXRzIGxpZ2h0LXBhc3NhYmlsaXR5LlxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlID0ge307XG5cdHRoaXMuX2ZvdkNhY2hlID0ge307XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbGlnaHRpbmdcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpZ2h0aW5nQ2FsbGJhY2sgV2lsbCBiZSBjYWxsZWQgd2l0aCAoeCwgeSwgY29sb3IpIGZvciBldmVyeSBsaXQgY2VsbFxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihsaWdodGluZ0NhbGxiYWNrKSB7XG5cdHZhciBkb25lQ2VsbHMgPSB7fTtcblx0dmFyIGVtaXR0aW5nQ2VsbHMgPSB7fTtcblx0dmFyIGxpdENlbGxzID0ge307XG5cblx0Zm9yICh2YXIga2V5IGluIHRoaXMuX2xpZ2h0cykgeyAvKiBwcmVwYXJlIGVtaXR0ZXJzIGZvciBmaXJzdCBwYXNzICovXG5cdFx0dmFyIGxpZ2h0ID0gdGhpcy5fbGlnaHRzW2tleV07XG5cdFx0ZW1pdHRpbmdDZWxsc1trZXldID0gWzAsIDAsIDBdO1xuXHRcdFJPVC5Db2xvci5hZGRfKGVtaXR0aW5nQ2VsbHNba2V5XSwgbGlnaHQpO1xuXHR9XG5cblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fb3B0aW9ucy5wYXNzZXM7aSsrKSB7IC8qIG1haW4gbG9vcCAqL1xuXHRcdHRoaXMuX2VtaXRMaWdodChlbWl0dGluZ0NlbGxzLCBsaXRDZWxscywgZG9uZUNlbGxzKTtcblx0XHRpZiAoaSsxID09IHRoaXMuX29wdGlvbnMucGFzc2VzKSB7IGNvbnRpbnVlOyB9IC8qIG5vdCBmb3IgdGhlIGxhc3QgcGFzcyAqL1xuXHRcdGVtaXR0aW5nQ2VsbHMgPSB0aGlzLl9jb21wdXRlRW1pdHRlcnMobGl0Q2VsbHMsIGRvbmVDZWxscyk7XG5cdH1cblxuXHRmb3IgKHZhciBsaXRLZXkgaW4gbGl0Q2VsbHMpIHsgLyogbGV0IHRoZSB1c2VyIGtub3cgd2hhdCBhbmQgaG93IGlzIGxpdCAqL1xuXHRcdHZhciBwYXJ0cyA9IGxpdEtleS5zcGxpdChcIixcIik7XG5cdFx0dmFyIHggPSBwYXJzZUludChwYXJ0c1swXSk7XG5cdFx0dmFyIHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG5cdFx0bGlnaHRpbmdDYWxsYmFjayh4LCB5LCBsaXRDZWxsc1tsaXRLZXldKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgb25lIGl0ZXJhdGlvbiBmcm9tIGFsbCBlbWl0dGluZyBjZWxsc1xuICogQHBhcmFtIHtvYmplY3R9IGVtaXR0aW5nQ2VsbHMgVGhlc2UgZW1pdCBsaWdodFxuICogQHBhcmFtIHtvYmplY3R9IGxpdENlbGxzIEFkZCBwcm9qZWN0ZWQgbGlnaHQgdG8gdGhlc2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBkb25lQ2VsbHMgVGhlc2UgYWxyZWFkeSBlbWl0dGVkLCBmb3JiaWQgdGhlbSBmcm9tIGZ1cnRoZXIgY2FsY3VsYXRpb25zXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX2VtaXRMaWdodCA9IGZ1bmN0aW9uKGVtaXR0aW5nQ2VsbHMsIGxpdENlbGxzLCBkb25lQ2VsbHMpIHtcblx0Zm9yICh2YXIga2V5IGluIGVtaXR0aW5nQ2VsbHMpIHtcblx0XHR2YXIgcGFydHMgPSBrZXkuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdHRoaXMuX2VtaXRMaWdodEZyb21DZWxsKHgsIHksIGVtaXR0aW5nQ2VsbHNba2V5XSwgbGl0Q2VsbHMpO1xuXHRcdGRvbmVDZWxsc1trZXldID0gMTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBQcmVwYXJlIGEgbGlzdCBvZiBlbWl0dGVycyBmb3IgbmV4dCBwYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gbGl0Q2VsbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBkb25lQ2VsbHNcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX2NvbXB1dGVFbWl0dGVycyA9IGZ1bmN0aW9uKGxpdENlbGxzLCBkb25lQ2VsbHMpIHtcblx0dmFyIHJlc3VsdCA9IHt9O1xuXG5cdGZvciAodmFyIGtleSBpbiBsaXRDZWxscykge1xuXHRcdGlmIChrZXkgaW4gZG9uZUNlbGxzKSB7IGNvbnRpbnVlOyB9IC8qIGFscmVhZHkgZW1pdHRlZCAqL1xuXG5cdFx0dmFyIGNvbG9yID0gbGl0Q2VsbHNba2V5XTtcblxuXHRcdGlmIChrZXkgaW4gdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGUpIHtcblx0XHRcdHZhciByZWZsZWN0aXZpdHkgPSB0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZVtrZXldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBrZXkuc3BsaXQoXCIsXCIpO1xuXHRcdFx0dmFyIHggPSBwYXJzZUludChwYXJ0c1swXSk7XG5cdFx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHRcdHZhciByZWZsZWN0aXZpdHkgPSB0aGlzLl9yZWZsZWN0aXZpdHlDYWxsYmFjayh4LCB5KTtcblx0XHRcdHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlW2tleV0gPSByZWZsZWN0aXZpdHk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlZmxlY3Rpdml0eSA9PSAwKSB7IGNvbnRpbnVlOyB9IC8qIHdpbGwgbm90IHJlZmxlY3QgYXQgYWxsICovXG5cblx0XHQvKiBjb21wdXRlIGVtaXNzaW9uIGNvbG9yICovXG5cdFx0dmFyIGVtaXNzaW9uID0gW107XG5cdFx0dmFyIGludGVuc2l0eSA9IDA7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHZhciBwYXJ0ID0gTWF0aC5yb3VuZChjb2xvcltpXSpyZWZsZWN0aXZpdHkpO1xuXHRcdFx0ZW1pc3Npb25baV0gPSBwYXJ0O1xuXHRcdFx0aW50ZW5zaXR5ICs9IHBhcnQ7XG5cdFx0fVxuXHRcdGlmIChpbnRlbnNpdHkgPiB0aGlzLl9vcHRpb25zLmVtaXNzaW9uVGhyZXNob2xkKSB7IHJlc3VsdFtrZXldID0gZW1pc3Npb247IH1cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29tcHV0ZSBvbmUgaXRlcmF0aW9uIGZyb20gb25lIGNlbGxcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaXRDZWxscyBDZWxsIGRhdGEgdG8gYnkgdXBkYXRlZFxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9lbWl0TGlnaHRGcm9tQ2VsbCA9IGZ1bmN0aW9uKHgsIHksIGNvbG9yLCBsaXRDZWxscykge1xuXHR2YXIga2V5ID0geCtcIixcIit5O1xuXHRpZiAoa2V5IGluIHRoaXMuX2ZvdkNhY2hlKSB7XG5cdFx0dmFyIGZvdiA9IHRoaXMuX2ZvdkNhY2hlW2tleV07XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGZvdiA9IHRoaXMuX3VwZGF0ZUZPVih4LCB5KTtcblx0fVxuXG5cdGZvciAodmFyIGZvdktleSBpbiBmb3YpIHtcblx0XHR2YXIgZm9ybUZhY3RvciA9IGZvdltmb3ZLZXldO1xuXG5cdFx0aWYgKGZvdktleSBpbiBsaXRDZWxscykgeyAvKiBhbHJlYWR5IGxpdCAqL1xuXHRcdFx0dmFyIHJlc3VsdCA9IGxpdENlbGxzW2ZvdktleV07XG5cdFx0fSBlbHNlIHsgLyogbmV3bHkgbGl0ICovXG5cdFx0XHR2YXIgcmVzdWx0ID0gWzAsIDAsIDBdO1xuXHRcdFx0bGl0Q2VsbHNbZm92S2V5XSA9IHJlc3VsdDtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykgeyByZXN1bHRbaV0gKz0gTWF0aC5yb3VuZChjb2xvcltpXSpmb3JtRmFjdG9yKTsgfSAvKiBhZGQgbGlnaHQgY29sb3IgKi9cblx0fVxuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgRk9WIChcImZvcm0gZmFjdG9yXCIpIGZvciBhIHBvdGVudGlhbCBsaWdodCBzb3VyY2UgYXQgW3gseV1cbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5fdXBkYXRlRk9WID0gZnVuY3Rpb24oeCwgeSkge1xuXHR2YXIga2V5MSA9IHgrXCIsXCIreTtcblx0dmFyIGNhY2hlID0ge307XG5cdHRoaXMuX2ZvdkNhY2hlW2tleTFdID0gY2FjaGU7XG5cdHZhciByYW5nZSA9IHRoaXMuX29wdGlvbnMucmFuZ2U7XG5cdHZhciBjYiA9IGZ1bmN0aW9uKHgsIHksIHIsIHZpcykge1xuXHRcdHZhciBrZXkyID0geCtcIixcIit5O1xuXHRcdHZhciBmb3JtRmFjdG9yID0gdmlzICogKDEtci9yYW5nZSk7XG5cdFx0aWYgKGZvcm1GYWN0b3IgPT0gMCkgeyByZXR1cm47IH1cblx0XHRjYWNoZVtrZXkyXSA9IGZvcm1GYWN0b3I7XG5cdH1cblx0dGhpcy5fZm92LmNvbXB1dGUoeCwgeSwgcmFuZ2UsIGNiLmJpbmQodGhpcykpO1xuXG5cdHJldHVybiBjYWNoZTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHBhdGhmaW5kZXJcbiAqIEBwYXJhbSB7aW50fSB0b1ggVGFyZ2V0IFggY29vcmRcbiAqIEBwYXJhbSB7aW50fSB0b1kgVGFyZ2V0IFkgY29vcmRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhc3NhYmxlQ2FsbGJhY2sgQ2FsbGJhY2sgdG8gZGV0ZXJtaW5lIG1hcCBwYXNzYWJpbGl0eVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5PThdXG4gKi9cblJPVC5QYXRoID0gZnVuY3Rpb24odG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0dGhpcy5fdG9YID0gdG9YO1xuXHR0aGlzLl90b1kgPSB0b1k7XG5cdHRoaXMuX2Zyb21YID0gbnVsbDtcblx0dGhpcy5fZnJvbVkgPSBudWxsO1xuXHR0aGlzLl9wYXNzYWJsZUNhbGxiYWNrID0gcGFzc2FibGVDYWxsYmFjaztcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHR0b3BvbG9neTogOFxuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXG5cdHRoaXMuX2RpcnMgPSBST1QuRElSU1t0aGlzLl9vcHRpb25zLnRvcG9sb2d5XTtcblx0aWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gOCkgeyAvKiByZW9yZGVyIGRpcnMgZm9yIG1vcmUgYWVzdGhldGljIHJlc3VsdCAodmVydGljYWwvaG9yaXpvbnRhbCBmaXJzdCkgKi9cblx0XHR0aGlzLl9kaXJzID0gW1xuXHRcdFx0dGhpcy5fZGlyc1swXSxcblx0XHRcdHRoaXMuX2RpcnNbMl0sXG5cdFx0XHR0aGlzLl9kaXJzWzRdLFxuXHRcdFx0dGhpcy5fZGlyc1s2XSxcblx0XHRcdHRoaXMuX2RpcnNbMV0sXG5cdFx0XHR0aGlzLl9kaXJzWzNdLFxuXHRcdFx0dGhpcy5fZGlyc1s1XSxcblx0XHRcdHRoaXMuX2RpcnNbN11cblx0XHRdXG5cdH1cbn1cblxuLyoqXG4gKiBDb21wdXRlIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gcG9pbnRcbiAqIEBwYXJhbSB7aW50fSBmcm9tWFxuICogQHBhcmFtIHtpbnR9IGZyb21ZXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBXaWxsIGJlIGNhbGxlZCBmb3IgZXZlcnkgcGF0aCBpdGVtIHdpdGggYXJndW1lbnRzIFwieFwiIGFuZCBcInlcIlxuICovXG5ST1QuUGF0aC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSwgY2FsbGJhY2spIHtcbn1cblxuUk9ULlBhdGgucHJvdG90eXBlLl9nZXROZWlnaGJvcnMgPSBmdW5jdGlvbihjeCwgY3kpIHtcblx0dmFyIHJlc3VsdCA9IFtdO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9kaXJzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGlyID0gdGhpcy5fZGlyc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGlyWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkaXJbMV07XG5cdFx0XG5cdFx0aWYgKCF0aGlzLl9wYXNzYWJsZUNhbGxiYWNrKHgsIHkpKSB7IGNvbnRpbnVlOyB9XG5cdFx0cmVzdWx0LnB1c2goW3gsIHldKTtcblx0fVxuXHRcblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgRGlqa3N0cmEncyBhbGdvcml0aG06IGFsbCBlZGdlcyBoYXZlIGEgdmFsdWUgb2YgMVxuICogQGF1Z21lbnRzIFJPVC5QYXRoXG4gKiBAc2VlIFJPVC5QYXRoXG4gKi9cblJPVC5QYXRoLkRpamtzdHJhID0gZnVuY3Rpb24odG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULlBhdGguY2FsbCh0aGlzLCB0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyk7XG5cblx0dGhpcy5fY29tcHV0ZWQgPSB7fTtcblx0dGhpcy5fdG9kbyA9IFtdO1xuXHR0aGlzLl9hZGQodG9YLCB0b1ksIG51bGwpO1xufVxuUk9ULlBhdGguRGlqa3N0cmEuZXh0ZW5kKFJPVC5QYXRoKTtcblxuLyoqXG4gKiBDb21wdXRlIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gcG9pbnRcbiAqIEBzZWUgUk9ULlBhdGgjY29tcHV0ZVxuICovXG5ST1QuUGF0aC5EaWprc3RyYS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSwgY2FsbGJhY2spIHtcblx0dmFyIGtleSA9IGZyb21YK1wiLFwiK2Zyb21ZO1xuXHRpZiAoIShrZXkgaW4gdGhpcy5fY29tcHV0ZWQpKSB7IHRoaXMuX2NvbXB1dGUoZnJvbVgsIGZyb21ZKTsgfVxuXHRpZiAoIShrZXkgaW4gdGhpcy5fY29tcHV0ZWQpKSB7IHJldHVybjsgfVxuXHRcblx0dmFyIGl0ZW0gPSB0aGlzLl9jb21wdXRlZFtrZXldO1xuXHR3aGlsZSAoaXRlbSkge1xuXHRcdGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRpdGVtID0gaXRlbS5wcmV2O1xuXHR9XG59XG5cbi8qKlxuICogQ29tcHV0ZSBhIG5vbi1jYWNoZWQgdmFsdWVcbiAqL1xuUk9ULlBhdGguRGlqa3N0cmEucHJvdG90eXBlLl9jb21wdXRlID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZKSB7XG5cdHdoaWxlICh0aGlzLl90b2RvLmxlbmd0aCkge1xuXHRcdHZhciBpdGVtID0gdGhpcy5fdG9kby5zaGlmdCgpO1xuXHRcdGlmIChpdGVtLnggPT0gZnJvbVggJiYgaXRlbS55ID09IGZyb21ZKSB7IHJldHVybjsgfVxuXHRcdFxuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuXHRcdFxuXHRcdGZvciAodmFyIGk9MDtpPG5laWdoYm9ycy5sZW5ndGg7aSsrKSB7XG5cdFx0XHR2YXIgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07XG5cdFx0XHR2YXIgeCA9IG5laWdoYm9yWzBdO1xuXHRcdFx0dmFyIHkgPSBuZWlnaGJvclsxXTtcblx0XHRcdHZhciBpZCA9IHgrXCIsXCIreTtcblx0XHRcdGlmIChpZCBpbiB0aGlzLl9jb21wdXRlZCkgeyBjb250aW51ZTsgfSAvKiBhbHJlYWR5IGRvbmUgKi9cdFxuXHRcdFx0dGhpcy5fYWRkKHgsIHksIGl0ZW0pOyBcblx0XHR9XG5cdH1cbn1cblxuUk9ULlBhdGguRGlqa3N0cmEucHJvdG90eXBlLl9hZGQgPSBmdW5jdGlvbih4LCB5LCBwcmV2KSB7XG5cdHZhciBvYmogPSB7XG5cdFx0eDogeCxcblx0XHR5OiB5LFxuXHRcdHByZXY6IHByZXZcblx0fVxuXHR0aGlzLl9jb21wdXRlZFt4K1wiLFwiK3ldID0gb2JqO1xuXHR0aGlzLl90b2RvLnB1c2gob2JqKTtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgQSogYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5ST1QuUGF0aC5BU3RhciA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5QYXRoLmNhbGwodGhpcywgdG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuXG5cdHRoaXMuX3RvZG8gPSBbXTtcblx0dGhpcy5fZG9uZSA9IHt9O1xuXHR0aGlzLl9mcm9tWCA9IG51bGw7XG5cdHRoaXMuX2Zyb21ZID0gbnVsbDtcbn1cblJPVC5QYXRoLkFTdGFyLmV4dGVuZChST1QuUGF0aCk7XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAc2VlIFJPVC5QYXRoI2NvbXB1dGVcbiAqL1xuUk9ULlBhdGguQVN0YXIucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG5cdHRoaXMuX3RvZG8gPSBbXTtcblx0dGhpcy5fZG9uZSA9IHt9O1xuXHR0aGlzLl9mcm9tWCA9IGZyb21YO1xuXHR0aGlzLl9mcm9tWSA9IGZyb21ZO1xuXHR0aGlzLl9hZGQodGhpcy5fdG9YLCB0aGlzLl90b1ksIG51bGwpO1xuXG5cdHdoaWxlICh0aGlzLl90b2RvLmxlbmd0aCkge1xuXHRcdHZhciBpdGVtID0gdGhpcy5fdG9kby5zaGlmdCgpO1xuXHRcdGlmIChpdGVtLnggPT0gZnJvbVggJiYgaXRlbS55ID09IGZyb21ZKSB7IGJyZWFrOyB9XG5cdFx0dmFyIG5laWdoYm9ycyA9IHRoaXMuX2dldE5laWdoYm9ycyhpdGVtLngsIGl0ZW0ueSk7XG5cblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvcnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuXHRcdFx0dmFyIHggPSBuZWlnaGJvclswXTtcblx0XHRcdHZhciB5ID0gbmVpZ2hib3JbMV07XG5cdFx0XHR2YXIgaWQgPSB4K1wiLFwiK3k7XG5cdFx0XHRpZiAoaWQgaW4gdGhpcy5fZG9uZSkgeyBjb250aW51ZTsgfVxuXHRcdFx0dGhpcy5fYWRkKHgsIHksIGl0ZW0pOyBcblx0XHR9XG5cdH1cblx0XG5cdHZhciBpdGVtID0gdGhpcy5fZG9uZVtmcm9tWCtcIixcIitmcm9tWV07XG5cdGlmICghaXRlbSkgeyByZXR1cm47IH1cblx0XG5cdHdoaWxlIChpdGVtKSB7XG5cdFx0Y2FsbGJhY2soaXRlbS54LCBpdGVtLnkpO1xuXHRcdGl0ZW0gPSBpdGVtLnByZXY7XG5cdH1cbn1cblxuUk9ULlBhdGguQVN0YXIucHJvdG90eXBlLl9hZGQgPSBmdW5jdGlvbih4LCB5LCBwcmV2KSB7XG5cdHZhciBvYmogPSB7XG5cdFx0eDogeCxcblx0XHR5OiB5LFxuXHRcdHByZXY6IHByZXYsXG5cdFx0ZzogKHByZXYgPyBwcmV2LmcrMSA6IDApLFxuXHRcdGg6IHRoaXMuX2Rpc3RhbmNlKHgsIHkpXG5cdH1cblx0dGhpcy5fZG9uZVt4K1wiLFwiK3ldID0gb2JqO1xuXHRcblx0LyogaW5zZXJ0IGludG8gcHJpb3JpdHkgcXVldWUgKi9cblx0XG5cdHZhciBmID0gb2JqLmcgKyBvYmouaDtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fdG9kby5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSB0aGlzLl90b2RvW2ldO1xuXHRcdGlmIChmIDwgaXRlbS5nICsgaXRlbS5oKSB7XG5cdFx0XHR0aGlzLl90b2RvLnNwbGljZShpLCAwLCBvYmopO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fdG9kby5wdXNoKG9iaik7XG59XG5cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5fZGlzdGFuY2UgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHN3aXRjaCAodGhpcy5fb3B0aW9ucy50b3BvbG9neSkge1xuXHRcdGNhc2UgNDpcblx0XHRcdHJldHVybiAoTWF0aC5hYnMoeC10aGlzLl9mcm9tWCkgKyBNYXRoLmFicyh5LXRoaXMuX2Zyb21ZKSk7XG5cdFx0YnJlYWs7XG5cblx0XHRjYXNlIDY6XG5cdFx0XHR2YXIgZHggPSBNYXRoLmFicyh4IC0gdGhpcy5fZnJvbVgpO1xuXHRcdFx0dmFyIGR5ID0gTWF0aC5hYnMoeSAtIHRoaXMuX2Zyb21ZKTtcblx0XHRcdHJldHVybiBkeSArIE1hdGgubWF4KDAsIChkeC1keSkvMik7XG5cdFx0YnJlYWs7XG5cblx0XHRjYXNlIDg6IFxuXHRcdFx0cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKHgtdGhpcy5fZnJvbVgpLCBNYXRoLmFicyh5LXRoaXMuX2Zyb21ZKSk7XG5cdFx0YnJlYWs7XG5cdH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIHRvcG9sb2d5XCIpO1xufVxuLyoqXG4gKiBAY2xhc3MgVGVybWluYWwgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuQmFja2VuZC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXHR0aGlzLl9jeCA9IC0xO1xuXHR0aGlzLl9jeSA9IC0xO1xuXHR0aGlzLl9sYXN0Q29sb3IgPSBcIlwiO1xuXHR0aGlzLl9vcHRpb25zID0ge307XG5cdHRoaXMuX294ID0gMDtcblx0dGhpcy5fb3kgPSAwO1xuXHR0aGlzLl90ZXJtY29sb3IgPSB7fTtcbn1cblJPVC5EaXNwbGF5LlRlcm0uZXh0ZW5kKFJPVC5EaXNwbGF5LkJhY2tlbmQpO1xuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblx0dGhpcy5fb3ggPSBNYXRoLmZsb29yKChwcm9jZXNzLnN0ZG91dC5jb2x1bW5zIC0gb3B0aW9ucy53aWR0aCkgLyAyKTtcblx0dGhpcy5fb3kgPSBNYXRoLmZsb29yKChwcm9jZXNzLnN0ZG91dC5yb3dzIC0gb3B0aW9ucy5oZWlnaHQpIC8gMik7XG5cdHRoaXMuX3Rlcm1jb2xvciA9IG5ldyBST1QuRGlzcGxheS5UZXJtW29wdGlvbnMudGVybUNvbG9yLmNhcGl0YWxpemUoKV0odGhpcy5fY29udGV4dCk7XG5cdHRoaXMuX2NvbnRleHQuX3Rlcm1jb2xvciA9IHRoaXMuX3Rlcm1jb2xvcjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdC8vIGRldGVybWluZSB3aGVyZSB0byBkcmF3IHdoYXQgd2l0aCB3aGF0IGNvbG9yc1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHQvLyBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBtb3ZlIHRoZSB0ZXJtaW5hbCBjdXJzb3Jcblx0dmFyIGR4ID0gdGhpcy5fb3ggKyB4O1xuXHR2YXIgZHkgPSB0aGlzLl9veSArIHk7XG5cdGlmIChkeCA8IDAgfHwgZHggPj0gcHJvY2Vzcy5zdGRvdXQuY29sdW1ucykgeyByZXR1cm47IH1cblx0aWYgKGR5IDwgMCB8fCBkeSA+PSBwcm9jZXNzLnN0ZG91dC5yb3dzKSB7IHJldHVybjsgfVxuXHRpZiAoZHggIT09IHRoaXMuX2N4IHx8IGR5ICE9PSB0aGlzLl9jeSkge1xuXHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKHRoaXMuX3Rlcm1jb2xvci5wb3NpdGlvblRvQW5zaShkeCxkeSkpO1xuXHRcdHRoaXMuX2N4ID0gZHg7XG5cdFx0dGhpcy5fY3kgPSBkeTtcblx0fVxuXG5cdC8vIHRlcm1pbmFscyBhdXRvbWF0aWNhbGx5IGNsZWFyLCBidXQgaWYgd2UncmUgY2xlYXJpbmcgd2hlbiB3ZSdyZVxuXHQvLyBub3Qgb3RoZXJ3aXNlIHByb3ZpZGVkIHdpdGggYSBjaGFyYWN0ZXIsIGp1c3QgdXNlIGEgc3BhY2UgaW5zdGVhZFxuXHRpZiAoY2xlYXJCZWZvcmUpIHtcblx0XHRpZiAoIWNoKSB7XG5cdFx0XHRjaCA9IFwiIFwiO1xuXHRcdH1cblx0fVxuXHRcdFxuXHQvLyBpZiB3ZSdyZSBub3QgY2xlYXJpbmcgYW5kIG5vdCBwcm92aWRlZCB3aXRoIGEgY2hhcmFjdGVyLCBkbyBub3RoaW5nXG5cdGlmICghY2gpIHsgcmV0dXJuOyB9XG5cblx0Ly8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gY2hhbmdlIGNvbG9yc1xuXHR2YXIgbmV3Q29sb3IgPSB0aGlzLl90ZXJtY29sb3IuY29sb3JUb0Fuc2koZmcsYmcpO1xuXHRpZiAobmV3Q29sb3IgIT09IHRoaXMuX2xhc3RDb2xvcikge1xuXHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKG5ld0NvbG9yKTtcblx0XHR0aGlzLl9sYXN0Q29sb3IgPSBuZXdDb2xvcjtcblx0fVxuXG5cdC8vIHdyaXRlIHRoZSBwcm92aWRlZCBzeW1ib2wgdG8gdGhlIGRpc3BsYXlcblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0cHJvY2Vzcy5zdGRvdXQud3JpdGUoY2hhcnNbMF0pO1xuXG5cdC8vIHVwZGF0ZSBvdXIgcG9zaXRpb24sIGdpdmVuIHRoYXQgd2Ugd3JvdGUgYSBjaGFyYWN0ZXJcblx0dGhpcy5fY3grKztcblx0aWYgKHRoaXMuX2N4ID49IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMpIHtcblx0XHR0aGlzLl9jeCA9IDA7XG5cdFx0dGhpcy5fY3krKztcblx0fVxufVxuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiBbcHJvY2Vzcy5zdGRvdXQuY29sdW1ucywgcHJvY2Vzcy5zdGRvdXQucm93c107XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiAxMjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gW3gseV1cbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHRlcm1pbmFsIGNvZGUgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5UZXJtLkNvbG9yID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHR0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUuY2xlYXJUb0Fuc2kgPSBmdW5jdGlvbihiZykge1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLkNvbG9yLnByb3RvdHlwZS5jb2xvclRvQW5zaSA9IGZ1bmN0aW9uKGZnLCBiZykge1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLkNvbG9yLnByb3RvdHlwZS5wb3NpdGlvblRvQW5zaSA9IGZ1bmN0aW9uKHgsIHkpIHtcbn1cbi8qKlxuICogQGNsYXNzIHh0ZXJtIHRlcm1pbmFsIGNvZGUgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRST1QuRGlzcGxheS5UZXJtLkNvbG9yLmNhbGwodGhpcywgY29udGV4dCk7XG59XG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLmV4dGVuZChST1QuRGlzcGxheS5UZXJtLkNvbG9yKTtcblxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5wcm90b3R5cGUuY2xlYXJUb0Fuc2kgPSBmdW5jdGlvbihiZykge1xuXHRyZXR1cm4gXCJcXHgxYlswOzQ4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihiZylcblx0XHQrIFwibVxceDFiWzJKXCI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLmNvbG9yVG9BbnNpID0gZnVuY3Rpb24oZmcsIGJnKSB7XG5cdHJldHVybiBcIlxceDFiWzA7Mzg7NTtcIlxuXHRcdCsgdGhpcy5fdGVybWNvbG9yKGZnKVxuXHRcdCsgXCI7NDg7NTtcIlxuXHRcdCsgdGhpcy5fdGVybWNvbG9yKGJnKVxuXHRcdCsgXCJtXCI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLnBvc2l0aW9uVG9BbnNpID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gXCJcXHgxYltcIiArICh5KzEpICsgXCI7XCIgKyAoeCsxKSArIFwiSFwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5fdGVybWNvbG9yID0gZnVuY3Rpb24oY29sb3IpIHtcblx0dmFyIFNSQ19DT0xPUlMgPSAyNTYuMDtcblx0dmFyIERTVF9DT0xPUlMgPSA2LjA7XG5cdHZhciBDT0xPUl9SQVRJTyA9IERTVF9DT0xPUlMgLyBTUkNfQ09MT1JTO1xuXHR2YXIgcmdiID0gUk9ULkNvbG9yLmZyb21TdHJpbmcoY29sb3IpO1xuXHR2YXIgciA9IE1hdGguZmxvb3IocmdiWzBdICogQ09MT1JfUkFUSU8pO1xuXHR2YXIgZyA9IE1hdGguZmxvb3IocmdiWzFdICogQ09MT1JfUkFUSU8pO1xuXHR2YXIgYiA9IE1hdGguZmxvb3IocmdiWzJdICogQ09MT1JfUkFUSU8pO1xuXHRyZXR1cm4gciozNiArIGcqNiArIGIqMSArIDE2O1xufVxuLyoqXG4gKiBFeHBvcnQgdG8gTm9kZS5qcyBtb2R1bGVcbiAqL1xuZm9yICh2YXIgcCBpbiBST1QpIHtcblx0ZXhwb3J0c1twXSA9IFJPVFtwXTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvaW5kZXgnKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wb255ZmlsbCA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKTtcblxudmFyIF9wb255ZmlsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb255ZmlsbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIHJvb3Q7IC8qIGdsb2JhbCB3aW5kb3cgKi9cblxuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSAoMCwgX3BvbnlmaWxsMlsnZGVmYXVsdCddKShyb290KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHJlc3VsdDsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGw7XG5mdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgX1N5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgX1N5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChfU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IF9TeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gX1N5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0X1N5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59OyIsImltcG9ydCB7IGFwcGx5TWlkZGxld2FyZSwgY3JlYXRlU3RvcmUgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgY3JlYXRlTG9nZ2VyIGZyb20gJ3JlZHV4LWxvZ2dlcic7XG5pbXBvcnQgUk9UIGZyb20gJ3JvdC1qcyc7XG5cbmltcG9ydCBnYW1lUmVkdWNlciBmcm9tICcuL3JlZHVjZXJzJztcbmltcG9ydCBpbml0aWFsU3RhdGUgZnJvbSAnLi9pbml0aWFsU3RhdGUnO1xuXG5pbXBvcnQgR2FtZSBmcm9tICcuL2dhbWUnO1xuXG4oKHdpbmRvdywgY29uc29sZSkgPT4ge1xuICAvLyB3aW5kb3cuU1RBVEUgPSBjcmVhdGVTdG9yZShcbiAgLy8gICBnYW1lUmVkdWNlcixcbiAgLy8gICBpbml0aWFsU3RhdGUsXG4gIC8vICAgYXBwbHlNaWRkbGV3YXJlKGNyZWF0ZUxvZ2dlcigpKVxuICAvLyApO1xuXG4gIGNvbnN0IEdBTUUgPSBHYW1lLmluaXQoKTtcbiAgR0FNRS5zd2l0Y2hTY3JlZW4oR0FNRS5TY3JlZW4uU3RhcnRTY3JlZW4pO1xuXG4gIGNvbnN0IG1haW5EaXNwbGF5ID0gR0FNRS5nZXREaXNwbGF5KCk7XG4gIC8vIGNvbnN0IGdhbWVDb25zb2xlID0gbmV3IFJPVC5EaXNwbGF5KHtcbiAgLy8gICB3aWR0aDogNDUsXG4gIC8vICAgaGVpZ2h0OiAxMCxcbiAgLy8gICBmb250U2l6ZTogMTUsXG4gIC8vICAgZm9yY2VTcXVhcmVSYXRpbzogdHJ1ZSxcbiAgLy8gfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tZGlzcGxheScpLmFwcGVuZENoaWxkKG1haW5EaXNwbGF5LmdldENvbnRhaW5lcigpKTtcbiAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnNvbGUnKS5hcHBlbmRDaGlsZChnYW1lQ29uc29sZS5nZXRDb250YWluZXIoKSk7XG5cbiAgLy8gd2luZG93LlNUQVRFLmRpc3BhdGNoKHtcbiAgLy8gICB0eXBlOiAnQUREX01FU1NBR0UnLFxuICAvLyAgIG1lc3NhZ2U6IHsgdGV4dDogJ2hlbGxvLCB3b3JsZCEnIH0sXG4gIC8vIH0pO1xufSkod2luZG93LCB3aW5kb3cuY29uc29sZSk7XG4iLCJpbXBvcnQgR2x5cGggZnJvbSAnLi9nbHlwaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSBleHRlbmRzIEdseXBoIHtcbiAgY29uc3RydWN0b3IocHJvcGVydGllcyA9IHt9KSB7XG4gICAgc3VwZXIocHJvcGVydGllcyk7XG5cbiAgICB0aGlzLl9uYW1lID0gcHJvcGVydGllcy5uYW1lIHx8ICcnO1xuICAgIHRoaXMuX3ggPSBwcm9wZXJ0aWVzLnggfHwgMDtcbiAgICB0aGlzLl95ID0gcHJvcGVydGllcy55IHx8IDA7XG4gICAgdGhpcy5fbWFwID0gbnVsbDtcblxuICAgIHRoaXMuX2F0dGFjaGVkTWl4aW5zID0ge307XG4gICAgdGhpcy5fYXR0YWNoZWRNaXhpbkdyb3VwcyA9IHt9O1xuICAgIGNvbnN0IG1peGlucyA9IHByb3BlcnRpZXMubWl4aW5zIHx8IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBtaXhpbiA9IG1peGluc1tpXTtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhtaXhpbik7XG5cbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2tdO1xuXG4gICAgICAgIGlmIChrZXkgIT09ICdpbml0JyAmJiBrZXkgIT09ICduYW1lJyAmJiBrZXkgIT09ICdncm91cE5hbWUnICYmICF0aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB0aGlzW2tleV0gPSBtaXhpbltrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRNaXhpbnNbbWl4aW4ubmFtZV0gPSB0cnVlO1xuICAgICAgICBpZiAobWl4aW4uZ3JvdXBOYW1lKSB7XG4gICAgICAgICAgdGhpcy5fYXR0YWNoZWRNaXhpbkdyb3Vwc1ttaXhpbi5ncm91cE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaXhpbi5pbml0KSB7XG4gICAgICAgICAgbWl4aW4uaW5pdC5jYWxsKHRoaXMsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFzTWl4aW4ob2JqKSB7XG4gICAgY29uc3QgbWl4aW4gPSAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpID8gb2JqLm5hbWUgOiBvYmo7XG4gICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkTWl4aW5Hcm91cHNbbWl4aW5dIHx8IHRoaXMuX2F0dGFjaGVkTWl4aW5zW21peGluXTtcbiAgfVxuXG4gIHNldE5hbWUobmFtZSkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICB9XG5cbiAgc2V0WCh4KSB7XG4gICAgdGhpcy5feCA9IHg7XG4gIH1cblxuICBzZXRZKHkpIHtcbiAgICB0aGlzLl95ID0geTtcbiAgfVxuXG4gIGdldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cblxuICBnZXRYKCkge1xuICAgIHJldHVybiB0aGlzLl94O1xuICB9XG5cbiAgZ2V0WSgpIHtcbiAgICByZXR1cm4gdGhpcy5feTtcbiAgfVxuXG4gIHNldE1hcChtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gIH1cblxuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2x5cGgge1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzID0ge30pIHtcbiAgICB0aGlzLl9jaGFyID0gcHJvcGVydGllcy5jaGFyIHx8ICcgJztcbiAgICB0aGlzLl9mZyA9IHByb3BlcnRpZXMuZmcgfHwgJ3doaXRlJztcbiAgICB0aGlzLl9iZyA9IHByb3BlcnRpZXMuYmcgfHwgJ2JsYWNrJztcbiAgfVxuXG4gIGdldENoYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYXI7XG4gIH1cblxuICBnZXRCYWNrZ3JvdW5kKCkge1xuICAgIHJldHVybiB0aGlzLl9iZztcbiAgfVxuXG4gIGdldEZvcmVncm91bmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZnO1xuICB9XG59XG4iLCJpbXBvcnQgUk9UIGZyb20gJ3JvdC1qcyc7XG5pbXBvcnQgU2NyZWVuIGZyb20gJy4vc2NyZWVuJztcblxuY29uc3QgZGlzcGxheURlZmF1bHRzID0ge1xuICB3aWR0aDogODAsXG4gIGhlaWdodDogMjQsXG4gIGZvbnRTaXplOiAxNSxcbiAgZm9yY2VTcXVhcmVSYXRpbzogdHJ1ZSxcbn07XG5cbmNvbnN0IEdhbWUgPSB7XG4gIFNjcmVlbixcblxuICBfZGlzcGxheTogbnVsbCxcbiAgX2N1cnJlbnRTY3JlZW46IG51bGwsXG4gIF9zY3JlZW5XaWR0aDogZGlzcGxheURlZmF1bHRzLndpZHRoLFxuICBfc2NyZWVuSGVpZ2h0OiBkaXNwbGF5RGVmYXVsdHMuaGVpZ2h0LFxuXG4gIGluaXQob3B0aW9ucykge1xuICAgIHRoaXMuX2Rpc3BsYXkgPSBuZXcgUk9ULkRpc3BsYXkoT2JqZWN0LmFzc2lnbih7fSwgZGlzcGxheURlZmF1bHRzLCBvcHRpb25zKSk7XG4gICAgY29uc3QgX2dhbWUgPSB0aGlzO1xuICAgIGNvbnN0IGJpbmRFdmVudFRvU2NyZWVuID0gKGV2ZW50KSA9PiB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgKGUpID0+IHtcbiAgICAgICAgaWYgKF9nYW1lLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICAgICAgX2dhbWUuX2N1cnJlbnRTY3JlZW4uaGFuZGxlSW5wdXQoZXZlbnQsIGUsIF9nYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBbJ2tleWRvd24nLCAna2V5dXAnLCAna2V5cHJlc3MnXS5mb3JFYWNoKGJpbmRFdmVudFRvU2NyZWVuKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICByZWZyZXNoKCkge1xuICAgIHRoaXMuX2Rpc3BsYXkuY2xlYXIoKTtcbiAgICB0aGlzLl9jdXJyZW50U2NyZWVuLnJlbmRlcih0aGlzLl9kaXNwbGF5LCB0aGlzKTtcbiAgfSxcblxuICBnZXREaXNwbGF5KCkge1xuICAgIHJldHVybiB0aGlzLl9kaXNwbGF5O1xuICB9LFxuXG4gIGdldFNjcmVlbldpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl9zY3JlZW5XaWR0aDtcbiAgfSxcblxuICBnZXRTY3JlZW5IZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NjcmVlbkhlaWdodDtcbiAgfSxcblxuICBzd2l0Y2hTY3JlZW4oc2NyZWVuKSB7XG4gICAgaWYgKHRoaXMuX2N1cnJlbnRTY3JlZW4gIT09IG51bGwpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4uZXhpdCgpO1xuICAgIH1cblxuICAgIHRoaXMuZ2V0RGlzcGxheSgpLmNsZWFyKCk7XG5cbiAgICB0aGlzLl9jdXJyZW50U2NyZWVuID0gc2NyZWVuO1xuXG4gICAgaWYgKCF0aGlzLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9jdXJyZW50U2NyZWVuLmVudGVyKCk7XG4gICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lO1xuIiwiaW1wb3J0IFJPVCBmcm9tICdyb3QtanMnO1xuaW1wb3J0IHsgRnVuZ3VzVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlcyc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vZW50aXR5JztcbmltcG9ydCB7IE51bGxUaWxlLCBGbG9vclRpbGUgfSBmcm9tICcuL3RpbGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXAge1xuICBjb25zdHJ1Y3Rvcih0aWxlcywgcGxheWVyKSB7XG4gICAgLy8gdGlsZXNcbiAgICB0aGlzLl90aWxlcyA9IHRpbGVzO1xuICAgIHRoaXMuX3dpZHRoID0gdGlsZXMubGVuZ3RoO1xuICAgIHRoaXMuX2hlaWdodCA9IHRpbGVzWzBdLmxlbmd0aDtcblxuICAgIC8vIGVudGl0aWVzXG4gICAgdGhpcy5fZW50aXRpZXMgPSBbXTtcbiAgICB0aGlzLl9zY2hlZHVsZXIgPSBuZXcgUk9ULlNjaGVkdWxlci5TaW1wbGUoKTtcbiAgICB0aGlzLl9lbmdpbmUgPSBuZXcgUk9ULkVuZ2luZSh0aGlzLl9zY2hlZHVsZXIpO1xuXG4gICAgdGhpcy5hZGRFbnRpdHlBdFJhbmRvbVBvc2l0aW9uKHBsYXllcik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihuZXcgRW50aXR5KEZ1bmd1c1RlbXBsYXRlKSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0V2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICB9XG5cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gIH1cblxuICBnZXRUaWxlKHgsIHkpIHtcbiAgICBsZXQgcmV0ID0gTnVsbFRpbGU7XG4gICAgaWYgKCEoeCA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuaGVpZ2h0KSkge1xuICAgICAgcmV0ID0gdGhpcy5fdGlsZXNbeF1beV0gfHwgcmV0O1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG5cbiAgZGlnKHgsIHkpIHtcbiAgICBpZiAodGhpcy5nZXRUaWxlKHgsIHkpLmlzRGlnZ2FibGUoKSkge1xuICAgICAgdGhpcy5fdGlsZXNbeF1beV0gPSBGbG9vclRpbGU7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmFuZG9tRmxvb3JQb3NpdGlvbigpIHtcbiAgICBsZXQgeDtcbiAgICBsZXQgeTtcbiAgICBkbyB7XG4gICAgICB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fd2lkdGgpO1xuICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX2hlaWdodCk7XG4gICAgfSB3aGlsZSAoIXRoaXMuaXNFbXB0eUZsb29yKHgsIHkpKTtcbiAgICByZXR1cm4geyB4LCB5IH07XG4gIH1cblxuICBnZXRFbmdpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcbiAgfVxuXG4gIGdldEVudGl0aWVzKCkge1xuICAgIHJldHVybiB0aGlzLl9lbnRpdGllcztcbiAgfVxuXG4gIGdldEVudGl0eUF0KHgsIHkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2VudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZW50aXR5ID0gdGhpcy5fZW50aXRpZXNbaV07XG4gICAgICBpZiAoZW50aXR5LmdldFgoKSA9PSB4ICYmIGVudGl0eS5nZXRZKCkgPT0geSkge1xuICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGFkZEVudGl0eShlbnRpdHkpIHtcbiAgICBpZiAoZW50aXR5LmdldFgoKSA8IDAgfHwgZW50aXR5LmdldFgoKSA+PSB0aGlzLl93aWR0aCB8fCBlbnRpdHkuZ2V0WSgpIDwgMCB8fCBlbnRpdHkuZ2V0WSgpID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZGRpbmcgZW50aXR5IG91dCBvZiBib3VuZHMuJyk7XG4gICAgfVxuXG4gICAgZW50aXR5LnNldE1hcCh0aGlzKTtcbiAgICB0aGlzLl9lbnRpdGllcy5wdXNoKGVudGl0eSk7XG5cbiAgICBpZiAoZW50aXR5Lmhhc01peGluKCdBY3RvcicpKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZXIuYWRkKGVudGl0eSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihlbnRpdHkpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2V0UmFuZG9tRmxvb3JQb3NpdGlvbigpO1xuICAgIGVudGl0eS5zZXRYKHBvc2l0aW9uLngpO1xuICAgIGVudGl0eS5zZXRZKHBvc2l0aW9uLnkpO1xuICAgIHRoaXMuYWRkRW50aXR5KGVudGl0eSk7XG4gIH1cblxuICByZW1vdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX2VudGl0aWVzW2ldID09IGVudGl0eSkge1xuICAgICAgICB0aGlzLl9lbnRpdGllcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW50aXR5Lmhhc01peGluKCdBY3RvcicpKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZXIucmVtb3ZlKGVudGl0eSk7XG4gICAgfVxuICB9XG5cbiAgaXNFbXB0eUZsb29yKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaWxlKHgsIHkpID09IEZsb29yVGlsZSAmJiAhdGhpcy5nZXRFbnRpdHlBdCh4LCB5KTtcbiAgfVxufVxuIiwiaW1wb3J0IEVudGl0eSBmcm9tICcuL2VudGl0eSc7XG5pbXBvcnQgeyBGdW5ndXNUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGVzJztcblxuZXhwb3J0IGNvbnN0IE1vdmVhYmxlID0ge1xuICBuYW1lOiAnTW92ZWFibGUnLFxuICB0cnlNb3ZlKHgsIHksIG1hcCkge1xuICAgIGNvbnN0IHRpbGUgPSBtYXAuZ2V0VGlsZSh4LCB5KTtcbiAgICBjb25zdCB0YXJnZXQgPSBtYXAuZ2V0RW50aXR5QXQoeCwgeSk7XG5cbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBpZiAodGhpcy5oYXNNaXhpbignQXR0YWNrZXInKSkge1xuICAgICAgICB0aGlzLmF0dGFjayh0YXJnZXQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRpbGUuaXNXYWxrYWJsZSgpKSB7XG4gICAgICB0aGlzLl94ID0geDtcbiAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICh0aWxlLmlzRGlnZ2FibGUoKSkge1xuICAgICAgaWYgKHRoaXMuaGFzTWl4aW4oJ0RpZ2dlcicpKSB7XG4gICAgICAgIHRoaXMuZGlnKHgsIHksIG1hcCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgUGxheWVyQWN0b3IgPSB7XG4gIG5hbWU6ICdQbGF5ZXJBY3RvcicsXG4gIGdyb3VwTmFtZTogJ0FjdG9yJyxcblxuICBhY3QoKSB7XG4gICAgLy8gR0FNRS5yZWZyZXNoKCk7XG4gICAgdGhpcy5nZXRNYXAoKS5nZXRFbmdpbmUoKS5sb2NrKCk7XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgRnVuZ3VzQWN0b3IgPSB7XG4gIG5hbWU6ICdGdW5ndXNBY3RvcicsXG4gIGdyb3VwTmFtZTogJ0FjdG9yJyxcbiAgaW5pdCgpIHtcbiAgICB0aGlzLl9ncm93dGhzUmVtYWluaW5nID0gNTtcbiAgfSxcbiAgYWN0KCkge1xuICAgIGlmICh0aGlzLl9ncm93dGhzUmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPD0gMC4wMikge1xuICAgICAgICBjb25zdCB4T2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgLSAxO1xuICAgICAgICBjb25zdCB5T2Zmc2V0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgLSAxO1xuICAgICAgICBpZiAoeE9mZnNldCAhPT0gMCB8fCB5T2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZ2V0TWFwKCkuaXNFbXB0eUZsb29yKHRoaXMuZ2V0WCgpICsgeE9mZnNldCwgdGhpcy5nZXRZKCkgKyB5T2Zmc2V0KSkge1xuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gbmV3IEVudGl0eShGdW5ndXNUZW1wbGF0ZSk7XG4gICAgICAgICAgICBlbnRpdHkuc2V0WCh0aGlzLmdldFgoKSArIHhPZmZzZXQpO1xuICAgICAgICAgICAgZW50aXR5LnNldFkodGhpcy5nZXRZKCkgKyB5T2Zmc2V0KTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TWFwKCkuYWRkRW50aXR5KGVudGl0eSk7XG4gICAgICAgICAgICB0aGlzLl9ncm93dGhzUmVtYWluaW5nLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IERlc3RydWN0aWJsZSA9IHtcbiAgbmFtZTogJ0Rlc3RydWN0aWJsZScsXG4gIGluaXQoKSB7XG4gICAgdGhpcy5faHAgPSAxO1xuICB9LFxuICB0YWtlRGFtYWdlKGF0dGFja2VyLCBkYW1hZ2UpIHtcbiAgICB0aGlzLl9ocCAtPSBkYW1hZ2U7XG4gICAgaWYgKHRoaXMuX2hwIDw9IDApIHtcbiAgICAgIHRoaXMuZ2V0TWFwKCkucmVtb3ZlRW50aXR5KHRoaXMpO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBEaWdnZXIgPSB7XG4gIG5hbWU6ICdTaW1wbGVEaWdnZXInLFxuICBncm91cE5hbWU6ICdEaWdnZXInLFxuICBkaWcoeCwgeSwgbWFwKSB7XG4gICAgbWFwLmRpZyh4LCB5KTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTaW1wbGVBdHRhY2tlciA9IHtcbiAgbmFtZTogJ1NpbXBsZUF0dGFja2VyJyxcbiAgZ3JvdXBOYW1lOiAnQXR0YWNrZXInLFxuICBhdHRhY2sodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5oYXNNaXhpbignRGVzdHJ1Y3RpYmxlJykpIHtcbiAgICAgIHRhcmdldC50YWtlRGFtYWdlKHRoaXMsIDEpO1xuICAgIH1cbiAgfSxcbn07XG4iLCJpbXBvcnQgUk9UIGZyb20gJ3JvdC1qcyc7XG5pbXBvcnQgeyBOdWxsVGlsZSwgV2FsbFRpbGUsIEZsb29yVGlsZSB9IGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgTWFwIGZyb20gJy4vbWFwJztcbmltcG9ydCBFbnRpdHkgZnJvbSAnLi9lbnRpdHknO1xuaW1wb3J0IHsgUGxheWVyVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlcyc7XG5cbmNvbnN0IFN0YXJ0U2NyZWVuID0ge1xuICBlbnRlcjogKCkgPT4gY29uc29sZS5sb2coJ0VudGVyZWQgU3RhcnRTY3JlZW4nKSxcbiAgZXhpdDogKCkgPT4gY29uc29sZS5sb2coJ0V4aXRlZCBTdGFydFNjcmVlbicpLFxuICByZW5kZXI6IChkaXNwbGF5KSA9PiB7XG4gICAgZGlzcGxheS5kcmF3VGV4dCgxLCAxLCAnJWN7eWVsbG93fUphdmFzY3JpcHQgUm9ndWVsaWtlJyk7XG4gICAgZGlzcGxheS5kcmF3VGV4dCgxLCAyLCAnUHJlc3MgW0VudGVyXSB0byBzdGFydCEnKTtcbiAgfSxcbiAgaGFuZGxlSW5wdXQ6ICh0eXBlLCBldmVudCwgZ2FtZSkgPT4ge1xuICAgIGlmICh0eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfUkVUVVJOKSB7XG4gICAgICAgIGdhbWUuc3dpdGNoU2NyZWVuKFBsYXlTY3JlZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbn07XG5cbmNvbnN0IFBsYXlTY3JlZW4gPSB7XG4gIF9tYXA6IG51bGwsXG4gIF9wbGF5ZXI6IG51bGwsXG5cbiAgZW50ZXIoKSB7XG4gICAgY29uc3QgbWFwV2lkdGggPSAxMDA7XG4gICAgY29uc3QgbWFwSGVpZ2h0ID0gNDg7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gbmV3IFJPVC5NYXAuQ2VsbHVsYXIobWFwV2lkdGgsIG1hcEhlaWdodCk7XG4gICAgY29uc3QgdG90YWxJdGVyYXRpb25zID0gMztcbiAgICBjb25zdCBtYXAgPSBbXTtcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG1hcFdpZHRoOyB4KyspIHtcbiAgICAgIG1hcC5wdXNoKFtdKTtcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgbWFwSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgbWFwW3hdLnB1c2goTnVsbFRpbGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5lcmF0b3IucmFuZG9taXplKDAuNSk7XG4gICAgLy8gSXRlcmF0aXZlbHkgc21vb3RoZW4gdGhlIG1hcFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxJdGVyYXRpb25zIC0gMTsgaSsrKSB7XG4gICAgICBnZW5lcmF0b3IuY3JlYXRlKCk7XG4gICAgfVxuICAgIC8vIFNtb290aGVuIGl0IG9uZSBsYXN0IHRpbWUgYW5kIHRoZW4gdXBkYXRlIG91ciBtYXBcbiAgICBnZW5lcmF0b3IuY3JlYXRlKCh4LCB5LCB2KSA9PiB7XG4gICAgICBpZiAodiA9PT0gMSkge1xuICAgICAgICBtYXBbeF1beV0gPSBGbG9vclRpbGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBbeF1beV0gPSBXYWxsVGlsZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3BsYXllciA9IG5ldyBFbnRpdHkoUGxheWVyVGVtcGxhdGUpO1xuICAgIHRoaXMuX21hcCA9IG5ldyBNYXAobWFwLCB0aGlzLl9wbGF5ZXIpO1xuICAgIHRoaXMuX21hcC5nZXRFbmdpbmUoKS5zdGFydCgpO1xuICB9LFxuXG4gIG1vdmUoZFgsIGRZKSB7XG4gICAgY29uc3QgbmV3WCA9IHRoaXMuX3BsYXllci5nZXRYKCkgKyBkWDtcbiAgICBjb25zdCBuZXdZID0gdGhpcy5fcGxheWVyLmdldFkoKSArIGRZO1xuXG4gICAgdGhpcy5fcGxheWVyLnRyeU1vdmUobmV3WCwgbmV3WSwgdGhpcy5fbWFwKTtcbiAgfSxcblxuICByZW5kZXIoZGlzcGxheSwgZ2FtZSkge1xuICAgIGNvbnN0IHNjcmVlbldpZHRoID0gZ2FtZS5nZXRTY3JlZW5XaWR0aCgpO1xuICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IGdhbWUuZ2V0U2NyZWVuSGVpZ2h0KCk7XG5cbiAgICBjb25zdCB0b3BMZWZ0WCA9IE1hdGgubWluKFxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuX3BsYXllci5nZXRYKCkgLSAoc2NyZWVuV2lkdGggLyAyKVxuICAgICAgKSxcbiAgICAgIHRoaXMuX21hcC5nZXRXaWR0aCgpIC0gc2NyZWVuV2lkdGhcbiAgICApO1xuICAgIGNvbnN0IHRvcExlZnRZID0gTWF0aC5taW4oXG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5fcGxheWVyLmdldFkoKSAtIChzY3JlZW5IZWlnaHQgLyAyKVxuICAgICAgKSxcbiAgICAgIHRoaXMuX21hcC5nZXRIZWlnaHQoKSAtIHNjcmVlbkhlaWdodFxuICAgICk7XG5cbiAgICBmb3IgKGxldCB4ID0gdG9wTGVmdFg7IHggPCB0b3BMZWZ0WCArIHNjcmVlbldpZHRoOyB4KyspIHtcbiAgICAgIGZvciAobGV0IHkgPSB0b3BMZWZ0WTsgeSA8IHRvcExlZnRZICsgc2NyZWVuSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX21hcC5nZXRUaWxlKHgsIHkpO1xuICAgICAgICBkaXNwbGF5LmRyYXcoXG4gICAgICAgICAgeCAtIHRvcExlZnRYLFxuICAgICAgICAgIHkgLSB0b3BMZWZ0WSxcbiAgICAgICAgICB0aWxlLmdldENoYXIoKSxcbiAgICAgICAgICB0aWxlLmdldEZvcmVncm91bmQoKSxcbiAgICAgICAgICB0aWxlLmdldEJhY2tncm91bmQoKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMuX21hcC5nZXRFbnRpdGllcygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVudGl0eSA9IGVudGl0aWVzW2ldO1xuICAgICAgaWYgKGVudGl0eS5nZXRYKCkgPj0gdG9wTGVmdFggJiYgZW50aXR5LmdldFkoKSA+PSB0b3BMZWZ0WSAmJiBlbnRpdHkuZ2V0WCgpIDwgdG9wTGVmdFggKyBzY3JlZW5XaWR0aCAmJiBlbnRpdHkuZ2V0WSgpIDwgdG9wTGVmdFkgKyBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgZGlzcGxheS5kcmF3KFxuICAgICAgICAgIGVudGl0eS5nZXRYKCkgLSB0b3BMZWZ0WCxcbiAgICAgICAgICBlbnRpdHkuZ2V0WSgpIC0gdG9wTGVmdFksXG4gICAgICAgICAgZW50aXR5LmdldENoYXIoKSxcbiAgICAgICAgICBlbnRpdHkuZ2V0Rm9yZWdyb3VuZCgpLFxuICAgICAgICAgIGVudGl0eS5nZXRCYWNrZ3JvdW5kKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgaGFuZGxlSW5wdXQodHlwZSwgZXZlbnQsIGdhbWUpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2tleWRvd24nKSB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gUk9ULlZLX1JFVFVSTikge1xuICAgICAgICBnYW1lLnN3aXRjaFNjcmVlbihXaW5TY3JlZW4pO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfRVNDQVBFKSB7XG4gICAgICAgIGdhbWUuc3dpdGNoU2NyZWVuKExvc2VTY3JlZW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbW92ZW1lbnRcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IFJPVC5WS19MRUZUKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlKC0xLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfUklHSFQpIHtcbiAgICAgICAgICB0aGlzLm1vdmUoMSwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gUk9ULlZLX1VQKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlKDAsIC0xKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfRE9XTikge1xuICAgICAgICAgIHRoaXMubW92ZSgwLCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAuZ2V0RW5naW5lKCkudW5sb2NrKCk7XG4gICAgICAgIGdhbWUucmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBleGl0KCkge1xuICAgIGNvbnNvbGUubG9nKCdFeGl0ZWQgUGxheVNjcmVlbicpO1xuICB9LFxufTtcblxuY29uc3QgV2luU2NyZWVuID0ge1xuICBlbnRlcjogKCkgPT4gY29uc29sZS5sb2coJ0VudGVyZWQgV2luU2NyZWVuJyksXG4gIGV4aXQ6ICgpID0+IGNvbnNvbGUubG9nKCdFeGl0ZWQgV2luU2NyZWVuJyksXG4gIHJlbmRlcjogKGRpc3BsYXkpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIyOyBpKyspIHtcbiAgICAgIC8vIEdlbmVyYXRlIHJhbmRvbSBiYWNrZ3JvdW5kIGNvbG9yc1xuICAgICAgY29uc3QgciA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1NSk7XG4gICAgICBjb25zdCBnID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KTtcbiAgICAgIGNvbnN0IGIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpO1xuICAgICAgY29uc3QgYmFja2dyb3VuZCA9IFJPVC5Db2xvci50b1JHQihbciwgZywgYl0pO1xuICAgICAgZGlzcGxheS5kcmF3VGV4dCgyLCBpICsgMSwgYCVieyR7YmFja2dyb3VuZH19WW91IHdpbiFgKTtcbiAgICB9XG4gIH0sXG4gIGhhbmRsZUlucHV0OiAodHlwZSwgZXZlbnQsIGdhbWUpID0+IHsgfSxcbn07XG5cbmNvbnN0IExvc2VTY3JlZW4gPSB7XG4gIGVudGVyOiAoKSA9PiBjb25zb2xlLmxvZygnRW50ZXJlZCBMb3NlU2NyZWVuJyksXG4gIGV4aXQ6ICgpID0+IGNvbnNvbGUubG9nKCdFeGl0ZWQgTG9zZVNjcmVlbicpLFxuICByZW5kZXI6IChkaXNwbGF5KSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMjsgaSsrKSB7XG4gICAgICBkaXNwbGF5LmRyYXdUZXh0KDIsIGkgKyAxLCAnJWJ7cmVkfVlvdSBsb3NlISA6KCcpO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlSW5wdXQ6ICh0eXBlLCBldmVudCwgZ2FtZSkgPT4geyB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBTdGFydFNjcmVlbixcbiAgUGxheVNjcmVlbixcbiAgV2luU2NyZWVuLFxuICBMb3NlU2NyZWVuLFxufTtcbiIsImltcG9ydCB7XG4gIE1vdmVhYmxlLFxuICBQbGF5ZXJBY3RvcixcbiAgRnVuZ3VzQWN0b3IsXG4gIFNpbXBsZUF0dGFja2VyLFxuICBEZXN0cnVjdGlibGUsXG4gIERpZ2dlcixcbn0gZnJvbSAnLi9taXhpbnMnO1xuXG5leHBvcnQgY29uc3QgUGxheWVyVGVtcGxhdGUgPSB7XG4gIGNoYXI6ICdAJyxcbiAgZmc6ICd3aGl0ZScsXG4gIGJnOiAnYmxhY2snLFxuICBtaXhpbnM6IFtNb3ZlYWJsZSwgUGxheWVyQWN0b3IsIFNpbXBsZUF0dGFja2VyLCBEaWdnZXIsIERlc3RydWN0aWJsZV0sXG59O1xuXG5leHBvcnQgY29uc3QgRnVuZ3VzVGVtcGxhdGUgPSB7XG4gIGNoYXI6ICdGJyxcbiAgZmc6ICdncmVlbicsXG4gIG1peGluczogW0Z1bmd1c0FjdG9yLCBEZXN0cnVjdGlibGVdLFxufTtcbiIsImltcG9ydCBHbHlwaCBmcm9tICcuL2dseXBoJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBleHRlbmRzIEdseXBoIHtcbiAgY29uc3RydWN0b3IocHJvcGVydGllcyA9IHt9KSB7XG4gICAgc3VwZXIocHJvcGVydGllcyk7XG5cbiAgICB0aGlzLl9pc1dhbGthYmxlID0gcHJvcGVydGllcy5pc1dhbGthYmxlIHx8IGZhbHNlO1xuICAgIHRoaXMuX2lzRGlnZ2FibGUgPSBwcm9wZXJ0aWVzLmlzRGlnZ2FibGUgfHwgZmFsc2U7XG4gIH1cblxuICBpc1dhbGthYmxlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1dhbGthYmxlO1xuICB9XG5cbiAgaXNEaWdnYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNEaWdnYWJsZTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgTnVsbFRpbGUgPSBuZXcgVGlsZSh7fSk7XG5leHBvcnQgY29uc3QgRmxvb3JUaWxlID0gbmV3IFRpbGUoe1xuICBjaGFyOiAnLicsXG4gIGlzV2Fsa2FibGU6IHRydWUsXG59KTtcbmV4cG9ydCBjb25zdCBXYWxsVGlsZSA9IG5ldyBUaWxlKHtcbiAgY2hhcjogJyMnLFxuICBmZzogJ2dvbGRlbnJvZCcsXG4gIGlzRGlnZ2FibGU6IHRydWUsXG59KTtcbiIsImNvbnN0IGluaXRpYWxTdGF0ZSA9IHsgZ2FtZTogeyBtZXNzYWdlczogW10gfSB9O1xuXG5leHBvcnQgZGVmYXVsdCBpbml0aWFsU3RhdGU7XG4iLCJpbXBvcnQgaW5pdGlhbFN0YXRlIGZyb20gJy4uL2luaXRpYWxTdGF0ZSc7XG5cbmNvbnN0IGdhbWUgPSAoc3RhdGUgPSBpbml0aWFsU3RhdGUuZ2FtZSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlICdBRERfTUVTU0FHRSc6XG4gICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsgbWVzc2FnZXM6IHN0YXRlLm1lc3NhZ2VzLmNvbmNhdChbYWN0aW9uLm1lc3NhZ2VdKSB9KTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnYW1lO1xuIiwiaW1wb3J0IHsgY29tYmluZVJlZHVjZXJzIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IGdhbWUgZnJvbSAnLi9nYW1lJztcblxuY29uc3QgR2FtZSA9IGNvbWJpbmVSZWR1Y2Vycyh7XG4gIGdhbWUsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZTtcbiJdfQ==
