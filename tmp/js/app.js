!function t(e,i,r){function n(a,s){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!s&&h)return h(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return n(i?i:t)},u,u.exports,t,e,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(t,e,i){(function(t){!function(t,r){"use strict";"function"==typeof define&&define.amd?define([],function(){return r()}):"object"==typeof i?e.exports=r():t.DeepDiff=r()}(this,function(e){"use strict";function i(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function r(t,e){Object.defineProperty(this,"kind",{value:t,enumerable:!0}),e&&e.length&&Object.defineProperty(this,"path",{value:e,enumerable:!0})}function n(t,e,i){n.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0}),Object.defineProperty(this,"rhs",{value:i,enumerable:!0})}function o(t,e){o.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:e,enumerable:!0})}function a(t,e){a.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:e,enumerable:!0})}function s(t,e,i){s.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:e,enumerable:!0}),Object.defineProperty(this,"item",{value:i,enumerable:!0})}function h(t,e,i){var r=t.slice((i||e)+1||t.length);return t.length=e<0?t.length+e:e,t.push.apply(t,r),t}function c(t){var e=typeof t;return"object"!==e?e:t===Math?"math":null===t?"null":Array.isArray(t)?"array":"[object Date]"===Object.prototype.toString.call(t)?"date":"undefined"!=typeof t.toString&&/^\/.*\//.test(t.toString())?"regexp":"object"}function u(t,i,r,l,f,p,_){f=f||[];var d=f.slice(0);if("undefined"!=typeof p){if(l){if("function"==typeof l&&l(d,p))return;if("object"==typeof l){if(l.prefilter&&l.prefilter(d,p))return;if(l.normalize){var g=l.normalize(d,p,t,i);g&&(t=g[0],i=g[1])}}}d.push(p)}"regexp"===c(t)&&"regexp"===c(i)&&(t=t.toString(),i=i.toString());var v=typeof t,y=typeof i;if("undefined"===v)"undefined"!==y&&r(new o(d,i));else if("undefined"===y)r(new a(d,t));else if(c(t)!==c(i))r(new n(d,t,i));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(i)&&t-i!==0)r(new n(d,t,i));else if("object"===v&&null!==t&&null!==i){if(_=_||[],_.indexOf(t)<0){if(_.push(t),Array.isArray(t)){var m;t.length;for(m=0;m<t.length;m++)m>=i.length?r(new s(d,m,new a(e,t[m]))):u(t[m],i[m],r,l,d,m,_);for(;m<i.length;)r(new s(d,m,new o(e,i[m++])))}else{var b=Object.keys(t),w=Object.keys(i);b.forEach(function(n,o){var a=w.indexOf(n);a>=0?(u(t[n],i[n],r,l,d,n,_),w=h(w,a)):u(t[n],e,r,l,d,n,_)}),w.forEach(function(t){u(e,i[t],r,l,d,t,_)})}_.length=_.length-1}}else t!==i&&("number"===v&&isNaN(t)&&isNaN(i)||r(new n(d,t,i)))}function l(t,i,r,n){return n=n||[],u(t,i,function(t){t&&n.push(t)},r),n.length?n:e}function f(t,e,i){if(i.path&&i.path.length){var r,n=t[e],o=i.path.length-1;for(r=0;r<o;r++)n=n[i.path[r]];switch(i.kind){case"A":f(n[i.path[r]],i.index,i.item);break;case"D":delete n[i.path[r]];break;case"E":case"N":n[i.path[r]]=i.rhs}}else switch(i.kind){case"A":f(t[e],i.index,i.item);break;case"D":t=h(t,e);break;case"E":case"N":t[e]=i.rhs}return t}function p(t,e,i){if(t&&e&&i&&i.kind){for(var r=t,n=-1,o=i.path?i.path.length-1:0;++n<o;)"undefined"==typeof r[i.path[n]]&&(r[i.path[n]]="number"==typeof i.path[n]?[]:{}),r=r[i.path[n]];switch(i.kind){case"A":f(i.path?r[i.path[n]]:r,i.index,i.item);break;case"D":delete r[i.path[n]];break;case"E":case"N":r[i.path[n]]=i.rhs}}}function _(t,e,i){if(i.path&&i.path.length){var r,n=t[e],o=i.path.length-1;for(r=0;r<o;r++)n=n[i.path[r]];switch(i.kind){case"A":_(n[i.path[r]],i.index,i.item);break;case"D":n[i.path[r]]=i.lhs;break;case"E":n[i.path[r]]=i.lhs;break;case"N":delete n[i.path[r]]}}else switch(i.kind){case"A":_(t[e],i.index,i.item);break;case"D":t[e]=i.lhs;break;case"E":t[e]=i.lhs;break;case"N":t=h(t,e)}return t}function d(t,e,i){if(t&&e&&i&&i.kind){var r,n,o=t;for(n=i.path.length-1,r=0;r<n;r++)"undefined"==typeof o[i.path[r]]&&(o[i.path[r]]={}),o=o[i.path[r]];switch(i.kind){case"A":_(o[i.path[r]],i.index,i.item);break;case"D":o[i.path[r]]=i.lhs;break;case"E":o[i.path[r]]=i.lhs;break;case"N":delete o[i.path[r]]}}}function g(t,e,i){if(t&&e){var r=function(r){i&&!i(t,e,r)||p(t,e,r)};u(t,e,r)}}var v,y,m=[];return v="object"==typeof t&&t?t:"undefined"!=typeof window?window:{},y=v.DeepDiff,y&&m.push(function(){"undefined"!=typeof y&&v.DeepDiff===l&&(v.DeepDiff=y,y=e)}),i(n,r),i(o,r),i(a,r),i(s,r),Object.defineProperties(l,{diff:{value:l,enumerable:!0},observableDiff:{value:u,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:d,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof y},enumerable:!0},noConflict:{value:function(){return m&&(m.forEach(function(t){t()}),m=null),l},enumerable:!0}}),l})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,i){var r=t("./_root"),n=r.Symbol;e.exports=n},{"./_root":9}],3:[function(t,e,i){function r(t){return null==t?void 0===t?h:s:c&&c in Object(t)?o(t):a(t)}var n=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),s="[object Null]",h="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=r},{"./_Symbol":2,"./_getRawTag":6,"./_objectToString":7}],4:[function(t,e,i){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,i){var r=t("./_overArg"),n=r(Object.getPrototypeOf,Object);e.exports=n},{"./_overArg":8}],6:[function(t,e,i){function r(t){var e=a.call(t,h),i=t[h];try{t[h]=void 0;var r=!0}catch(n){}var o=s.call(t);return r&&(e?t[h]=i:delete t[h]),o}var n=t("./_Symbol"),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,h=n?n.toStringTag:void 0;e.exports=r},{"./_Symbol":2}],7:[function(t,e,i){function r(t){return o.call(t)}var n=Object.prototype,o=n.toString;e.exports=r},{}],8:[function(t,e,i){function r(t,e){return function(i){return t(e(i))}}e.exports=r},{}],9:[function(t,e,i){var r=t("./_freeGlobal"),n="object"==typeof self&&self&&self.Object===Object&&self,o=r||n||Function("return this")();e.exports=o},{"./_freeGlobal":4}],10:[function(t,e,i){function r(t){return null!=t&&"object"==typeof t}e.exports=r},{}],11:[function(t,e,i){function r(t){if(!a(t)||n(t)!=s)return!1;var e=o(t);if(null===e)return!0;var i=l.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&u.call(i)==f}var n=t("./_baseGetTag"),o=t("./_getPrototype"),a=t("./isObjectLike"),s="[object Object]",h=Function.prototype,c=Object.prototype,u=h.toString,l=c.hasOwnProperty,f=u.call(Object);e.exports=r},{"./_baseGetTag":3,"./_getPrototype":5,"./isObjectLike":10}],12:[function(t,e,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){g&&_&&(g=!1,_.length?d=_.concat(d):v=-1,d.length&&h())}function h(){if(!g){var t=o(s);g=!0;for(var e=d.length;e;){for(_=d,d=[];++v<e;)_&&_[v].run();v=-1,e=d.length}_=null,g=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(t){f=n}}();var _,d=[],g=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new c(t,e)),1!==d.length||g||o(h)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],13:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function a(t,e,i,r){switch("undefined"==typeof t?"undefined":o(t)){case"object":return"function"==typeof t[r]?t[r].apply(t,n(i)):t[r];case"function":return t(e);default:return t}}function s(t){var e=t.timestamp,i=t.duration;return function(t,r,n){var o=["action"];return e&&o.push("@ "+r),o.push(t.type),i&&o.push("(in "+n.toFixed(2)+" ms)"),o.join(" ")}}function h(t,e){var i=e.logger,r=e.actionTransformer,n=e.titleFormatter,o=void 0===n?s(e):n,h=e.collapsed,u=e.colors,f=e.level,p=e.diff;t.forEach(function(e,n){var s=e.started,_=e.startedTime,d=e.action,g=e.prevState,v=e.error,y=e.took,m=e.nextState,b=t[n+1];b&&(m=b.prevState,y=b.started-s);var w=r(d),M="function"==typeof h?h(function(){return m},d):h,x=(0,c.formatTime)(_),S=u.title?"color: "+u.title(w)+";":null,T=o(w,x,y);try{M?u.title?i.groupCollapsed("%c "+T,S):i.groupCollapsed(T):u.title?i.group("%c "+T,S):i.group(T)}catch(k){i.log(T)}var E=a(f,w,[g],"prevState"),D=a(f,w,[w],"action"),R=a(f,w,[v,g],"error"),C=a(f,w,[m],"nextState");E&&(u.prevState?i[E]("%c prev state","color: "+u.prevState(g)+"; font-weight: bold",g):i[E]("prev state",g)),D&&(u.action?i[D]("%c action","color: "+u.action(w)+"; font-weight: bold",w):i[D]("action",w)),v&&R&&(u.error?i[R]("%c error","color: "+u.error(v,g)+"; font-weight: bold",v):i[R]("error",v)),C&&(u.nextState?i[C]("%c next state","color: "+u.nextState(m)+"; font-weight: bold",m):i[C]("next state",m)),p&&(0,l["default"])(g,m,i,M);try{i.groupEnd()}catch(k){i.log("—— log end ——")}})}Object.defineProperty(i,"__esModule",{value:!0}),i.printBuffer=h;var c=t("./helpers"),u=t("./diff"),l=r(u)},{"./diff":15,"./helpers":16}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i["default"]={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(t){return t},actionTransformer:function(t){return t},errorTransformer:function(t){return t},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=i["default"]},{}],15:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t){return"color: "+c[t].color+"; font-weight: bold"}function o(t){var e=t.kind,i=t.path,r=t.lhs,n=t.rhs,o=t.index,a=t.item;switch(e){case"E":return i.join(".")+" "+r+" → "+n;case"N":return i.join(".")+" "+n;case"D":return""+i.join(".");case"A":return[i.join(".")+"["+o+"]",a];default:return null}}function a(t,e,i,r){var a=(0,h["default"])(t,e);try{r?i.groupCollapsed("diff"):i.group("diff")}catch(s){i.log("diff")}a?a.forEach(function(t){var e=t.kind,r=o(t);i.log("%c "+c[e].text,n(e),r)}):i.log("—— no diff ——");try{i.groupEnd()}catch(s){i.log("—— diff end —— ")}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=a;var s=t("deep-diff"),h=r(s),c={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=i["default"]},{"deep-diff":1}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=i.repeat=function(t,e){return new Array(e+1).join(t)},n=i.pad=function(t,e){return r("0",e-t.toString().length)+t};i.formatTime=function(t){return n(t.getHours(),2)+":"+n(t.getMinutes(),2)+":"+n(t.getSeconds(),2)+"."+n(t.getMilliseconds(),3)},i.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},{}],17:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=o({},c["default"],t),i=e.logger,r=e.transformer,n=e.stateTransformer,h=e.errorTransformer,u=e.predicate,l=e.logErrors,f=e.diffPredicate;if("undefined"==typeof i)return function(){return function(t){return function(e){return t(e)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var p=[];return function(t){var i=t.getState;return function(t){return function(r){if("function"==typeof u&&!u(i,r))return t(r);var c={};p.push(c),c.started=s.timer.now(),c.startedTime=new Date,c.prevState=n(i()),c.action=r;var _=void 0;if(l)try{_=t(r)}catch(d){c.error=h(d)}else _=t(r);c.took=s.timer.now()-c.started,c.nextState=n(i());var g=e.diff&&"function"==typeof f?f(i,r):e.diff;if((0,a.printBuffer)(p,o({},e,{diff:g})),p.length=0,c.error)throw c.error;return _}}}}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};Object.defineProperty(i,"__esModule",{value:!0});var a=t("./core"),s=t("./helpers"),h=t("./defaults"),c=r(h);i["default"]=n,e.exports=i["default"]},{"./core":13,"./defaults":14,"./helpers":16}],18:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return function(i,r,n){var a=t(i,r,n),h=a.dispatch,c=[],u={getState:a.getState,dispatch:function(t){return h(t)}};return c=e.map(function(t){return t(u)}),h=s["default"].apply(void 0,c)(a.dispatch),o({},a,{dispatch:h})}}}i.__esModule=!0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};i["default"]=n;var a=t("./compose"),s=r(a)},{"./compose":21}],19:[function(t,e,i){"use strict";function r(t,e){return function(){return e(t.apply(void 0,arguments))}}function n(t,e){if("function"==typeof t)return r(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var i=Object.keys(t),n={},o=0;o<i.length;o++){var a=i[o],s=t[a];"function"==typeof s&&(n[a]=r(s,e))}return n}i.__esModule=!0,i["default"]=n},{}],20:[function(t,e,i){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){var i=e&&e.type,r=i&&'"'+i.toString()+'"'||"an action";return"Given action "+r+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(t,e,i,r){var n=Object.keys(e),o=i&&i.type===h.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===n.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,u["default"])(t))return"The "+o+' has unexpected type of "'+{}.toString.call(t).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+n.join('", "')+'"');var a=Object.keys(t).filter(function(t){return!e.hasOwnProperty(t)&&!r[t]});return a.forEach(function(t){r[t]=!0}),a.length>0?"Unexpected "+(a.length>1?"keys":"key")+" "+('"'+a.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+n.join('", "')+'". Unexpected keys will be ignored.'):void 0}function a(t){Object.keys(t).forEach(function(e){var i=t[e],r=i(void 0,{type:h.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var n="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof i(void 0,{type:n}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+h.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function s(t){for(var i=Object.keys(t),r={},s=0;s<i.length;s++){var h=i[s];"production"!==e.env.NODE_ENV&&"undefined"==typeof t[h]&&(0,f["default"])('No reducer provided for key "'+h+'"'),"function"==typeof t[h]&&(r[h]=t[h])}var c=Object.keys(r);if("production"!==e.env.NODE_ENV)var u={};var l;try{a(r)}catch(p){l=p}return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=arguments[1];if(l)throw l;if("production"!==e.env.NODE_ENV){var a=o(t,r,i,u);a&&(0,f["default"])(a)}for(var s=!1,h={},p=0;p<c.length;p++){var _=c[p],d=r[_],g=t[_],v=d(g,i);if("undefined"==typeof v){var y=n(_,i);throw new Error(y)}h[_]=v,s=s||v!==g}return s?h:t}}i.__esModule=!0,i["default"]=s;var h=t("./createStore"),c=t("lodash/isPlainObject"),u=r(c),l=t("./utils/warning"),f=r(l)}).call(this,t("_process"))},{"./createStore":22,"./utils/warning":24,_process:12,"lodash/isPlainObject":11}],21:[function(t,e,i){"use strict";function r(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if(0===e.length)return function(t){return t};if(1===e.length)return e[0];var r=e[e.length-1],n=e.slice(0,-1);return function(){return n.reduceRight(function(t,e){return e(t)},r.apply(void 0,arguments))}}i.__esModule=!0,i["default"]=r},{}],22:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i){function r(){v===g&&(v=g.slice())}function o(){return d}function s(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return r(),v.push(t),function(){if(e){e=!1,r();var i=v.indexOf(t);v.splice(i,1)}}}function u(t){if(!(0,a["default"])(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,d=_(d,t)}finally{y=!1}for(var e=g=v,i=0;i<e.length;i++)e[i]();return t}function l(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");_=t,u({type:c.INIT})}function f(){var t,e=s;return t={subscribe:function(t){function i(){t.next&&t.next(o())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");i();var r=e(i);return{unsubscribe:r}}},t[h["default"]]=function(){return this},t}var p;if("function"==typeof e&&"undefined"==typeof i&&(i=e,e=void 0),"undefined"!=typeof i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(n)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var _=t,d=e,g=[],v=g,y=!1;return u({type:c.INIT}),p={dispatch:u,subscribe:s,getState:o,replaceReducer:l},p[h["default"]]=f,p}i.__esModule=!0,i.ActionTypes=void 0,i["default"]=n;var o=t("lodash/isPlainObject"),a=r(o),s=t("symbol-observable"),h=r(s),c=i.ActionTypes={INIT:"@@redux/INIT"}},{"lodash/isPlainObject":11,"symbol-observable":26}],23:[function(t,e,i){(function(e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(){}i.__esModule=!0,i.compose=i.applyMiddleware=i.bindActionCreators=i.combineReducers=i.createStore=void 0;var o=t("./createStore"),a=r(o),s=t("./combineReducers"),h=r(s),c=t("./bindActionCreators"),u=r(c),l=t("./applyMiddleware"),f=r(l),p=t("./compose"),_=r(p),d=t("./utils/warning"),g=r(d);"production"!==e.env.NODE_ENV&&"string"==typeof n.name&&"isCrushed"!==n.name&&(0,g["default"])("You are currently using minified code outside of NODE_ENV === 'production'. This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) to ensure you have the correct code for your production build."),i.createStore=a["default"],i.combineReducers=h["default"],i.bindActionCreators=u["default"],i.applyMiddleware=f["default"],i.compose=_["default"]}).call(this,t("_process"))},{"./applyMiddleware":18,"./bindActionCreators":19,"./combineReducers":20,"./compose":21,"./createStore":22,"./utils/warning":24,_process:12}],24:[function(t,e,i){"use strict";function r(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(e){}}i.__esModule=!0,i["default"]=r},{}],25:[function(t,e,i){(function(t,e){e.requestAnimationFrame=function(t){return setTimeout(t,1e3/60)},e.document={body:{appendChild:function(t){},scrollLeft:0,scrollTop:0},createElement:function(e){var i;return i={getBoundingClientRect:function(){var t;return t={left:0,top:0}},getContext:function(e){var r;return r={_termcolor:null,beginPath:function(){},canvas:i,clearRect:function(e,i,r,n){if(null!==this._termcolor){var o=this._termcolor.clearToAnsi(this.fillStyle);t.stdout.write(o)}},drawImage:function(t,e,i,r,n,o,a,s,h){},fill:function(){},fillRect:function(e,i,r,n){if(null!==this._termcolor){var o=this._termcolor.clearToAnsi(this.fillStyle);t.stdout.write(o)}},fillStyle:"#000",fillText:function(t,e,i){},font:"monospace",lineTo:function(t,e){},measureText:function(t){var e;return e={width:12}},moveTo:function(t,e){},textAlign:"center",textBaseline:"middle"}},height:0,style:{left:"100px",position:"absolute",top:"100px",visibility:"hidden"},width:0}},documentElement:{scrollLeft:0,scrollTop:0}};var r={isSupported:function(){return!(!document.createElement("canvas").getContext||!Function.prototype.bind)},DEFAULT_WIDTH:80,DEFAULT_HEIGHT:25,DIRS:{4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},VK_CANCEL:3,VK_HELP:6,VK_BACK_SPACE:8,VK_TAB:9,VK_CLEAR:12,VK_RETURN:13,VK_ENTER:14,VK_SHIFT:16,VK_CONTROL:17,VK_ALT:18,VK_PAUSE:19,VK_CAPS_LOCK:20,VK_ESCAPE:27,VK_SPACE:32,VK_PAGE_UP:33,VK_PAGE_DOWN:34,VK_END:35,VK_HOME:36,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40,VK_PRINTSCREEN:44,VK_INSERT:45,VK_DELETE:46,VK_0:48,VK_1:49,VK_2:50,VK_3:51,VK_4:52,VK_5:53,VK_6:54,VK_7:55,VK_8:56,VK_9:57,VK_COLON:58,VK_SEMICOLON:59,VK_LESS_THAN:60,VK_EQUALS:61,VK_GREATER_THAN:62,VK_QUESTION_MARK:63,VK_AT:64,VK_A:65,VK_B:66,VK_C:67,VK_D:68,VK_E:69,VK_F:70,VK_G:71,VK_H:72,VK_I:73,VK_J:74,VK_K:75,VK_L:76,VK_M:77,VK_N:78,VK_O:79,VK_P:80,VK_Q:81,VK_R:82,VK_S:83,VK_T:84,VK_U:85,VK_V:86,VK_W:87,VK_X:88,VK_Y:89,VK_Z:90,VK_CONTEXT_MENU:93,VK_NUMPAD0:96,VK_NUMPAD1:97,VK_NUMPAD2:98,VK_NUMPAD3:99,VK_NUMPAD4:100,VK_NUMPAD5:101,VK_NUMPAD6:102,VK_NUMPAD7:103,VK_NUMPAD8:104,VK_NUMPAD9:105,VK_MULTIPLY:106,VK_ADD:107,VK_SEPARATOR:108,VK_SUBTRACT:109,VK_DECIMAL:110,VK_DIVIDE:111,VK_F1:112,VK_F2:113,VK_F3:114,VK_F4:115,VK_F5:116,VK_F6:117,VK_F7:118,VK_F8:119,VK_F9:120,VK_F10:121,VK_F11:122,VK_F12:123,VK_F13:124,VK_F14:125,VK_F15:126,VK_F16:127,VK_F17:128,VK_F18:129,VK_F19:130,VK_F20:131,VK_F21:132,VK_F22:133,VK_F23:134,VK_F24:135,VK_NUM_LOCK:144,VK_SCROLL_LOCK:145,VK_CIRCUMFLEX:160,VK_EXCLAMATION:161,VK_DOUBLE_QUOTE:162,VK_HASH:163,VK_DOLLAR:164,VK_PERCENT:165,VK_AMPERSAND:166,VK_UNDERSCORE:167,VK_OPEN_PAREN:168,VK_CLOSE_PAREN:169,VK_ASTERISK:170,VK_PLUS:171,VK_PIPE:172,VK_HYPHEN_MINUS:173,VK_OPEN_CURLY_BRACKET:174,VK_CLOSE_CURLY_BRACKET:175,VK_TILDE:176,VK_COMMA:188,VK_PERIOD:190,VK_SLASH:191,VK_BACK_QUOTE:192,VK_OPEN_BRACKET:219,VK_BACK_SLASH:220,VK_CLOSE_BRACKET:221,VK_QUOTE:222,VK_META:224,VK_ALTGR:225,VK_WIN:91,VK_KANA:21,VK_HANGUL:21,VK_EISU:22,VK_JUNJA:23,VK_FINAL:24,VK_HANJA:25,VK_KANJI:25,VK_CONVERT:28,VK_NONCONVERT:29,VK_ACCEPT:30,VK_MODECHANGE:31,VK_SELECT:41,VK_PRINT:42,VK_EXECUTE:43,VK_SLEEP:95};r.Text={RE_COLORS:/%([bc]){([^}]*)}/g,TYPE_TEXT:0,TYPE_NEWLINE:1,TYPE_FG:2,TYPE_BG:3,measure:function(t,e){for(var i={width:0,height:1},r=this.tokenize(t,e),n=0,o=0;o<r.length;o++){var a=r[o];switch(a.type){case this.TYPE_TEXT:n+=a.value.length;break;case this.TYPE_NEWLINE:i.height++,i.width=Math.max(i.width,n),n=0}}return i.width=Math.max(i.width,n),i},tokenize:function(t,e){var i=[],n=0;t.replace(this.RE_COLORS,function(e,o,a,s){var h=t.substring(n,s);return h.length&&i.push({type:r.Text.TYPE_TEXT,value:h}),i.push({type:"c"==o?r.Text.TYPE_FG:r.Text.TYPE_BG,value:a.trim()}),n=s+e.length,""});var o=t.substring(n);return o.length&&i.push({type:r.Text.TYPE_TEXT,value:o}),this._breakLines(i,e)},_breakLines:function(t,e){e||(e=1/0);for(var i=0,n=0,o=-1;i<t.length;){var a=t[i];if(a.type==r.Text.TYPE_NEWLINE&&(n=0,o=-1),a.type==r.Text.TYPE_TEXT){for(;0==n&&" "==a.value.charAt(0);)a.value=a.value.substring(1);var s=a.value.indexOf("\n");if(s!=-1){a.value=this._breakInsideToken(t,i,s,!0);for(var h=a.value.split("");h.length&&" "==h[h.length-1];)h.pop();a.value=h.join("")}if(a.value.length){if(n+a.value.length>e){for(var s=-1;;){var c=a.value.indexOf(" ",s+1);if(c==-1)break;if(n+c>e)break;s=c}if(s!=-1)a.value=this._breakInsideToken(t,i,s,!0);else if(o!=-1){var a=t[o],u=a.value.lastIndexOf(" ");a.value=this._breakInsideToken(t,o,u,!0),i=o}else a.value=this._breakInsideToken(t,i,e-n,!1)}else n+=a.value.length,a.value.indexOf(" ")!=-1&&(o=i);i++}else t.splice(i,1)}else i++}t.push({type:r.Text.TYPE_NEWLINE});for(var l=null,i=0;i<t.length;i++){var a=t[i];switch(a.type){case r.Text.TYPE_TEXT:l=a;break;case r.Text.TYPE_NEWLINE:if(l){for(var h=l.value.split("");h.length&&" "==h[h.length-1];)h.pop();l.value=h.join("")}l=null}}return t.pop(),t},_breakInsideToken:function(t,e,i,n){var o={type:r.Text.TYPE_NEWLINE},a={type:r.Text.TYPE_TEXT,value:t[e].value.substring(i+(n?1:0))};return t.splice(e+1,0,o,a),t[e].value.substring(0,i)}},Array.prototype.random=Array.prototype.random||function(){return this.length?this[Math.floor(r.RNG.getUniform()*this.length)]:null},Array.prototype.randomize=Array.prototype.randomize||function(){for(var t=[];this.length;){var e=this.indexOf(this.random());t.push(this.splice(e,1)[0])}return t},Number.prototype.mod=Number.prototype.mod||function(t){return(this%t+t)%t},String.prototype.capitalize=String.prototype.capitalize||function(){return this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.lpad=String.prototype.lpad||function(t,e){for(var i=t||"0",r=e||2,n="";n.length<r-this.length;)n+=i;return n=n.substring(0,r-this.length),n+this},String.prototype.rpad=String.prototype.rpad||function(t,e){for(var i=t||"0",r=e||2,n="";n.length<r-this.length;)n+=i;return n=n.substring(0,r-this.length),this+n},String.format=String.format||function(t){var e=String.format.map,i=Array.prototype.slice.call(arguments,1),r=function(r,n,o,a){if("%"==t.charAt(a-1))return r.substring(1);if(!i.length)return r;var s=i[0],h=n||o,c=h.split(","),u=c.shift(),l=e[u.toLowerCase()];if(!l)return r;var s=i.shift(),f=s[l].apply(s,c),p=u.charAt(0);return p!=p.toLowerCase()&&(f=f.capitalize()),f};return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,r)},String.format.map=String.format.map||{s:"toString"},String.prototype.format=String.prototype.format||function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),String.format.apply(String,t)},Object.create||(Object.create=function(t){var e=function(){};return e.prototype=t,new e}),Function.prototype.extend=Function.prototype.extend||function(t){return this.prototype=Object.create(t.prototype),this.prototype.constructor=this,this},"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)}),r.Display=function(t){var e=document.createElement("canvas");this._context=e.getContext("2d"),this._data={},this._dirty=!1,this._options={},this._backend=null;var i={width:r.DEFAULT_WIDTH,height:r.DEFAULT_HEIGHT,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1,termColor:"xterm"};for(var n in t)i[n]=t[n];this.setOptions(i),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),requestAnimationFrame(this._tick)},r.Display.prototype.DEBUG=function(t,e,i){var r=[this._options.bg,this._options.fg];this.draw(t,e,null,null,r[i%r.length])},r.Display.prototype.clear=function(){this._data={},this._dirty=!0},r.Display.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e];if(t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){t.layout&&(this._backend=new(r.Display[t.layout.capitalize()])(this._context));var i=(this._options.fontStyle?this._options.fontStyle+" ":"")+this._options.fontSize+"px "+this._options.fontFamily;this._context.font=i,this._backend.compute(this._options),this._context.font=i,this._context.textAlign="center",this._context.textBaseline="middle",this._dirty=!0}return this},r.Display.prototype.getOptions=function(){return this._options},r.Display.prototype.getContainer=function(){return this._context.canvas},r.Display.prototype.computeSize=function(t,e){return this._backend.computeSize(t,e,this._options)},r.Display.prototype.computeFontSize=function(t,e){return this._backend.computeFontSize(t,e,this._options)},r.Display.prototype.eventToPosition=function(t){if(t.touches)var e=t.touches[0].clientX,i=t.touches[0].clientY;else var e=t.clientX,i=t.clientY;var r=this._context.canvas.getBoundingClientRect();return e-=r.left,i-=r.top,e<0||i<0||e>=this._context.canvas.width||i>=this._context.canvas.height?[-1,-1]:this._backend.eventToPosition(e,i)},r.Display.prototype.draw=function(t,e,i,r,n){r||(r=this._options.fg),n||(n=this._options.bg),this._data[t+","+e]=[t,e,i,r,n],this._dirty!==!0&&(this._dirty||(this._dirty={}),this._dirty[t+","+e]=!0)},r.Display.prototype.drawText=function(t,e,i,n){var o=null,a=null,s=t,h=e,c=1;n||(n=this._options.width-t);for(var u=r.Text.tokenize(i,n);u.length;){var l=u.shift();switch(l.type){case r.Text.TYPE_TEXT:for(var f=!1,p=!1,_=!1,d=!1,g=0;g<l.value.length;g++){var v=l.value.charCodeAt(g),y=l.value.charAt(g);_=v>255&&v<65377||v>65500&&v<65512&&v>65518,f=32==y.charCodeAt(0)||12288==y.charCodeAt(0),!d||_||f||s++,_&&!p&&s++,this.draw(s++,h,y,o,a),p=f,d=_}break;case r.Text.TYPE_FG:o=l.value||null;break;case r.Text.TYPE_BG:a=l.value||null;break;case r.Text.TYPE_NEWLINE:s=t,h++,c++}}return c},r.Display.prototype._tick=function(){if(requestAnimationFrame(this._tick),this._dirty){if(this._dirty===!0){this._context.fillStyle=this._options.bg,this._context.fillRect(0,0,this._context.canvas.width,this._context.canvas.height);for(var t in this._data)this._draw(t,!1)}else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}},r.Display.prototype._draw=function(t,e){var i=this._data[t];i[4]!=this._options.bg&&(e=!0),this._backend.draw(i,e)},r.Display.Backend=function(t){
this._context=t},r.Display.Backend.prototype.compute=function(t){},r.Display.Backend.prototype.draw=function(t,e){},r.Display.Backend.prototype.computeSize=function(t,e){},r.Display.Backend.prototype.computeFontSize=function(t,e){},r.Display.Backend.prototype.eventToPosition=function(t,e){},r.Display.Rect=function(t){r.Display.Backend.call(this,t),this._spacingX=0,this._spacingY=0,this._canvasCache={},this._options={}},r.Display.Rect.extend(r.Display.Backend),r.Display.Rect.cache=!1,r.Display.Rect.prototype.compute=function(t){this._canvasCache={},this._options=t;var e=Math.ceil(this._context.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),this._options.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._context.canvas.width=t.width*this._spacingX,this._context.canvas.height=t.height*this._spacingY},r.Display.Rect.prototype.draw=function(t,e){this.constructor.cache?this._drawWithCache(t,e):this._drawNoCache(t,e)},r.Display.Rect.prototype._drawWithCache=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=""+n+o+a;if(s in this._canvasCache)var h=this._canvasCache[s];else{var c=this._options.border,h=document.createElement("canvas"),u=h.getContext("2d");if(h.width=this._spacingX,h.height=this._spacingY,u.fillStyle=a,u.fillRect(c,c,h.width-c,h.height-c),n){u.fillStyle=o,u.font=this._context.font,u.textAlign="center",u.textBaseline="middle";for(var l=[].concat(n),f=0;f<l.length;f++)u.fillText(l[f],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[s]=h}this._context.drawImage(h,i*this._spacingX,r*this._spacingY)},r.Display.Rect.prototype._drawNoCache=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4];if(e){var s=this._options.border;this._context.fillStyle=a,this._context.fillRect(i*this._spacingX+s,r*this._spacingY+s,this._spacingX-s,this._spacingY-s)}if(n){this._context.fillStyle=o;for(var h=[].concat(n),c=0;c<h.length;c++)this._context.fillText(h[c],(i+.5)*this._spacingX,Math.ceil((r+.5)*this._spacingY))}},r.Display.Rect.prototype.computeSize=function(t,e){var i=Math.floor(t/this._spacingX),r=Math.floor(e/this._spacingY);return[i,r]},r.Display.Rect.prototype.computeFontSize=function(t,e){var i=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height),n=this._context.font;this._context.font="100px "+this._options.fontFamily;var o=Math.ceil(this._context.measureText("W").width);this._context.font=n;var a=o/100,s=a*r/i;return s>1&&(r=Math.floor(r/s)),Math.floor(r/this._options.spacing)},r.Display.Rect.prototype.eventToPosition=function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]},r.Display.Hex=function(t){r.Display.Backend.call(this,t),this._spacingX=0,this._spacingY=0,this._hexSize=0,this._options={}},r.Display.Hex.extend(r.Display.Backend),r.Display.Hex.prototype.compute=function(t){this._options=t;var e=Math.ceil(this._context.measureText("W").width);if(this._hexSize=Math.floor(t.spacing*(t.fontSize+e/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,t.transpose)var i="height",r="width";else var i="width",r="height";this._context.canvas[i]=Math.ceil((t.width+1)*this._spacingX),this._context.canvas[r]=Math.ceil((t.height-1)*this._spacingY+2*this._hexSize)},r.Display.Hex.prototype.draw=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=[(i+1)*this._spacingX,r*this._spacingY+this._hexSize];if(this._options.transpose&&s.reverse(),e&&(this._context.fillStyle=a,this._fill(s[0],s[1])),n){this._context.fillStyle=o;for(var h=[].concat(n),c=0;c<h.length;c++)this._context.fillText(h[c],s[0],Math.ceil(s[1]))}},r.Display.Hex.prototype.computeSize=function(t,e){this._options.transpose&&(t+=e,e=t-e,t-=e);var i=Math.floor(t/this._spacingX)-1,r=Math.floor((e-2*this._hexSize)/this._spacingY+1);return[i,r]},r.Display.Hex.prototype.computeFontSize=function(t,e){this._options.transpose&&(t+=e,e=t-e,t-=e);var i=2*t/((this._options.width+1)*Math.sqrt(3))-1,r=e/(2+1.5*(this._options.height-1)),n=Math.min(i,r),o=this._context.font;this._context.font="100px "+this._options.fontFamily;var a=Math.ceil(this._context.measureText("W").width);this._context.font=o;var s=a/100;n=Math.floor(n)+1;var h=2*n/(this._options.spacing*(1+s/Math.sqrt(3)));return Math.ceil(h)-1},r.Display.Hex.prototype.eventToPosition=function(t,e){if(this._options.transpose){t+=e,e=t-e,t-=e;var i="width"}else var i="height";var r=this._context.canvas[i]/this._options[i];return e=Math.floor(e/r),e.mod(2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]},r.Display.Hex.prototype._fill=function(t,e){var i=this._hexSize,r=this._options.border;this._context.beginPath(),this._options.transpose?(this._context.moveTo(t-i+r,e),this._context.lineTo(t-i/2+r,e+this._spacingX-r),this._context.lineTo(t+i/2-r,e+this._spacingX-r),this._context.lineTo(t+i-r,e),this._context.lineTo(t+i/2-r,e-this._spacingX+r),this._context.lineTo(t-i/2+r,e-this._spacingX+r),this._context.lineTo(t-i+r,e)):(this._context.moveTo(t,e-i+r),this._context.lineTo(t+this._spacingX-r,e-i/2+r),this._context.lineTo(t+this._spacingX-r,e+i/2-r),this._context.lineTo(t,e+i-r),this._context.lineTo(t-this._spacingX+r,e+i/2-r),this._context.lineTo(t-this._spacingX+r,e-i/2+r),this._context.lineTo(t,e-i+r)),this._context.fill()},r.Display.Tile=function(t){r.Display.Rect.call(this,t),this._options={},this._colorCanvas=document.createElement("canvas")},r.Display.Tile.extend(r.Display.Rect),r.Display.Tile.prototype.compute=function(t){this._options=t,this._context.canvas.width=t.width*t.tileWidth,this._context.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight},r.Display.Tile.prototype.draw=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],a=t[4],s=this._options.tileWidth,h=this._options.tileHeight;if(e&&(this._options.tileColorize?this._context.clearRect(i*s,r*h,s,h):(this._context.fillStyle=a,this._context.fillRect(i*s,r*h,s,h))),n)for(var c=[].concat(n),u=0;u<c.length;u++){var l=this._options.tileMap[c[u]];if(!l)throw new Error("Char '"+c[u]+"' not found in tileMap");if(this._options.tileColorize){var f=this._colorCanvas,p=f.getContext("2d");p.clearRect(0,0,s,h),p.drawImage(this._options.tileSet,l[0],l[1],s,h,0,0,s,h),"transparent"!=o&&(p.fillStyle=o,p.globalCompositeOperation="source-atop",p.fillRect(0,0,s,h)),"transparent"!=a&&(p.fillStyle=a,p.globalCompositeOperation="destination-over",p.fillRect(0,0,s,h)),this._context.drawImage(f,i*s,r*h,s,h)}else this._context.drawImage(this._options.tileSet,l[0],l[1],s,h,i*s,r*h,s,h)}},r.Display.Tile.prototype.computeSize=function(t,e){var i=Math.floor(t/this._options.tileWidth),r=Math.floor(e/this._options.tileHeight);return[i,r]},r.Display.Tile.prototype.computeFontSize=function(t,e){var i=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height);return[i,r]},r.Display.Tile.prototype.eventToPosition=function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]},r.RNG={getSeed:function(){return this._seed},setSeed:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*this._frac,t=69069*t+1>>>0,this._s1=t*this._frac,t=69069*t+1>>>0,this._s2=t*this._frac,this._c=1,this},getUniform:function(){var t=2091639*this._s0+this._c*this._frac;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2},getUniformInt:function(t,e){var i=Math.max(t,e),r=Math.min(t,e);return Math.floor(this.getUniform()*(i-r+1))+r},getNormal:function(t,e){do var i=2*this.getUniform()-1,r=2*this.getUniform()-1,n=i*i+r*r;while(n>1||0==n);var o=i*Math.sqrt(-2*Math.log(n)/n);return(t||0)+o*(e||1)},getPercentage:function(){return 1+Math.floor(100*this.getUniform())},getWeightedValue:function(t){var e=0;for(var i in t)e+=t[i];var r=this.getUniform()*e,n=0;for(var i in t)if(n+=t[i],r<n)return i;return i},getState:function(){return[this._s0,this._s1,this._s2,this._c]},setState:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this},clone:function(){var t=Object.create(this);return t.setState(this.getState()),t},_s0:0,_s1:0,_s2:0,_c:0,_frac:2.3283064365386963e-10},r.RNG.setSeed(Date.now()),r.StringGenerator=function(t){this._options={words:!1,order:3,prior:.001};for(var e in t)this._options[e]=t[e];this._boundary=String.fromCharCode(0),this._suffix=this._boundary,this._prefix=[];for(var i=0;i<this._options.order;i++)this._prefix.push(this._boundary);this._priorValues={},this._priorValues[this._boundary]=this._options.prior,this._data={}},r.StringGenerator.prototype.clear=function(){this._data={},this._priorValues={}},r.StringGenerator.prototype.generate=function(){for(var t=[this._sample(this._prefix)];t[t.length-1]!=this._boundary;)t.push(this._sample(t));return this._join(t.slice(0,-1))},r.StringGenerator.prototype.observe=function(t){for(var e=this._split(t),i=0;i<e.length;i++)this._priorValues[e[i]]=this._options.prior;e=this._prefix.concat(e).concat(this._suffix);for(var i=this._options.order;i<e.length;i++)for(var r=e.slice(i-this._options.order,i),n=e[i],o=0;o<r.length;o++){var a=r.slice(o);this._observeEvent(a,n)}},r.StringGenerator.prototype.getStats=function(){var t=[],e=0;for(var i in this._priorValues)e++;e--,t.push("distinct samples: "+e);var r=0,n=0;for(var i in this._data){r++;for(var o in this._data[i])n++}return t.push("dictionary size (contexts): "+r),t.push("dictionary size (events): "+n),t.join(", ")},r.StringGenerator.prototype._split=function(t){return t.split(this._options.words?/\s+/:"")},r.StringGenerator.prototype._join=function(t){return t.join(this._options.words?" ":"")},r.StringGenerator.prototype._observeEvent=function(t,e){var i=this._join(t);i in this._data||(this._data[i]={});var r=this._data[i];e in r||(r[e]=0),r[e]++},r.StringGenerator.prototype._sample=function(t){t=this._backoff(t);var e=this._join(t),i=this._data[e],n={};if(this._options.prior){for(var o in this._priorValues)n[o]=this._priorValues[o];for(var o in i)n[o]+=i[o]}else n=i;return r.RNG.getWeightedValue(n)},r.StringGenerator.prototype._backoff=function(t){for(t.length>this._options.order?t=t.slice(-this._options.order):t.length<this._options.order&&(t=this._prefix.slice(0,this._options.order-t.length).concat(t));!(this._join(t)in this._data)&&t.length>0;)t=t.slice(1);return t},r.EventQueue=function(){this._time=0,this._events=[],this._eventTimes=[]},r.EventQueue.prototype.getTime=function(){return this._time},r.EventQueue.prototype.clear=function(){return this._events=[],this._eventTimes=[],this},r.EventQueue.prototype.add=function(t,e){for(var i=this._events.length,r=0;r<this._eventTimes.length;r++)if(this._eventTimes[r]>e){i=r;break}this._events.splice(i,0,t),this._eventTimes.splice(i,0,e)},r.EventQueue.prototype.get=function(){if(!this._events.length)return null;var t=this._eventTimes.splice(0,1)[0];if(t>0){this._time+=t;for(var e=0;e<this._eventTimes.length;e++)this._eventTimes[e]-=t}return this._events.splice(0,1)[0]},r.EventQueue.prototype.remove=function(t){var e=this._events.indexOf(t);return e!=-1&&(this._remove(e),!0)},r.EventQueue.prototype._remove=function(t){this._events.splice(t,1),this._eventTimes.splice(t,1)},r.Scheduler=function(){this._queue=new r.EventQueue,this._repeat=[],this._current=null},r.Scheduler.prototype.getTime=function(){return this._queue.getTime()},r.Scheduler.prototype.add=function(t,e){return e&&this._repeat.push(t),this},r.Scheduler.prototype.clear=function(){return this._queue.clear(),this._repeat=[],this._current=null,this},r.Scheduler.prototype.remove=function(t){var e=this._queue.remove(t),i=this._repeat.indexOf(t);return i!=-1&&this._repeat.splice(i,1),this._current==t&&(this._current=null),e},r.Scheduler.prototype.next=function(){return this._current=this._queue.get(),this._current},r.Scheduler.Simple=function(){r.Scheduler.call(this)},r.Scheduler.Simple.extend(r.Scheduler),r.Scheduler.Simple.prototype.add=function(t,e){return this._queue.add(t,0),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Simple.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&this._queue.add(this._current,0),r.Scheduler.prototype.next.call(this)},r.Scheduler.Speed=function(){r.Scheduler.call(this)},r.Scheduler.Speed.extend(r.Scheduler),r.Scheduler.Speed.prototype.add=function(t,e){return this._queue.add(t,1/t.getSpeed()),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Speed.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&this._queue.add(this._current,1/this._current.getSpeed()),r.Scheduler.prototype.next.call(this)},r.Scheduler.Action=function(){r.Scheduler.call(this),this._defaultDuration=1,this._duration=this._defaultDuration},r.Scheduler.Action.extend(r.Scheduler),r.Scheduler.Action.prototype.add=function(t,e,i){return this._queue.add(t,i||this._defaultDuration),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Action.prototype.clear=function(){return this._duration=this._defaultDuration,r.Scheduler.prototype.clear.call(this)},r.Scheduler.Action.prototype.remove=function(t){return t==this._current&&(this._duration=this._defaultDuration),r.Scheduler.prototype.remove.call(this,t)},r.Scheduler.Action.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&(this._queue.add(this._current,this._duration||this._defaultDuration),this._duration=this._defaultDuration),r.Scheduler.prototype.next.call(this)},r.Scheduler.Action.prototype.setDuration=function(t){return this._current&&(this._duration=t),this},r.Engine=function(t){this._scheduler=t,this._lock=1},r.Engine.prototype.start=function(){return this.unlock()},r.Engine.prototype.lock=function(){return this._lock++,this},r.Engine.prototype.unlock=function(){if(!this._lock)throw new Error("Cannot unlock unlocked engine");for(this._lock--;!this._lock;){var t=this._scheduler.next();if(!t)return this.lock();var e=t.act();e&&e.then&&(this.lock(),e.then(this.unlock.bind(this)))}return this},r.Map=function(t,e){this._width=t||r.DEFAULT_WIDTH,this._height=e||r.DEFAULT_HEIGHT},r.Map.prototype.create=function(t){},r.Map.prototype._fillMap=function(t){for(var e=[],i=0;i<this._width;i++){e.push([]);for(var r=0;r<this._height;r++)e[i].push(t)}return e},r.Map.Arena=function(t,e){r.Map.call(this,t,e)},r.Map.Arena.extend(r.Map),r.Map.Arena.prototype.create=function(t){for(var e=this._width-1,i=this._height-1,r=0;r<=e;r++)for(var n=0;n<=i;n++){var o=r&&n&&r<e&&n<i;t(r,n,o?0:1)}return this},r.Map.DividedMaze=function(t,e){r.Map.call(this,t,e),this._stack=[]},r.Map.DividedMaze.extend(r.Map),r.Map.DividedMaze.prototype.create=function(t){var e=this._width,i=this._height;this._map=[];for(var r=0;r<e;r++){this._map.push([]);for(var n=0;n<i;n++){var o=0==r||0==n||r+1==e||n+1==i;this._map[r].push(o?1:0)}}this._stack=[[1,1,e-2,i-2]],this._process();for(var r=0;r<e;r++)for(var n=0;n<i;n++)t(r,n,this._map[r][n]);return this._map=null,this},r.Map.DividedMaze.prototype._process=function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}},r.Map.DividedMaze.prototype._partitionRoom=function(t){for(var e=[],i=[],r=t[0]+1;r<t[2];r++){var n=this._map[r][t[1]-1],o=this._map[r][t[3]+1];!n||!o||r%2||e.push(r)}for(var a=t[1]+1;a<t[3];a++){var s=this._map[t[0]-1][a],h=this._map[t[2]+1][a];!s||!h||a%2||i.push(a)}if(e.length&&i.length){var c=e.random(),u=i.random();this._map[c][u]=1;var l=[],f=[];l.push(f);for(var r=t[0];r<c;r++)this._map[r][u]=1,f.push([r,u]);var f=[];l.push(f);for(var r=c+1;r<=t[2];r++)this._map[r][u]=1,f.push([r,u]);var f=[];l.push(f);for(var a=t[1];a<u;a++)this._map[c][a]=1,f.push([c,a]);var f=[];l.push(f);for(var a=u+1;a<=t[3];a++)this._map[c][a]=1,f.push([c,a]);for(var p=l.random(),r=0;r<l.length;r++){var f=l[r];if(f!=p){var _=f.random();this._map[_[0]][_[1]]=0}}this._stack.push([t[0],t[1],c-1,u-1]),this._stack.push([c+1,t[1],t[2],u-1]),this._stack.push([t[0],u+1,c-1,t[3]]),this._stack.push([c+1,u+1,t[2],t[3]])}},r.Map.IceyMaze=function(t,e,i){r.Map.call(this,t,e),this._regularity=i||0},r.Map.IceyMaze.extend(r.Map),r.Map.IceyMaze.prototype.create=function(t){var e=this._width,i=this._height,n=this._fillMap(1);e-=e%2?1:2,i-=i%2?1:2;var o=0,a=0,s=0,h=0,c=0,u=!1,l=[[0,0],[0,0],[0,0],[0,0]];do if(o=1+2*Math.floor(r.RNG.getUniform()*(e-1)/2),a=1+2*Math.floor(r.RNG.getUniform()*(i-1)/2),c||(n[o][a]=0),!n[o][a]){this._randomize(l);do{0==Math.floor(r.RNG.getUniform()*(this._regularity+1))&&this._randomize(l),u=!0;for(var f=0;f<4;f++)if(s=o+2*l[f][0],h=a+2*l[f][1],this._isFree(n,s,h,e,i)){n[s][h]=0,n[o+l[f][0]][a+l[f][1]]=0,o=s,a=h,u=!1,c++;break}}while(!u)}while(c+1<e*i/4);for(var f=0;f<this._width;f++)for(var p=0;p<this._height;p++)t(f,p,n[f][p]);return this._map=null,this},r.Map.IceyMaze.prototype._randomize=function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*r.RNG.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}},r.Map.IceyMaze.prototype._isFree=function(t,e,i,r,n){return!(e<1||i<1||e>=r||i>=n)&&t[e][i]},r.Map.EllerMaze=function(t,e){r.Map.call(this,t,e)},r.Map.EllerMaze.extend(r.Map),r.Map.EllerMaze.prototype.create=function(t){for(var e=this._fillMap(1),i=Math.ceil((this._width-2)/2),n=.375,o=[],a=[],s=0;s<i;s++)o.push(s),a.push(s);o.push(i-1);for(var h=1;h+3<this._height;h+=2)for(var s=0;s<i;s++){var c=2*s+1,u=h;e[c][u]=0,s!=o[s+1]&&r.RNG.getUniform()>n&&(this._addToList(s,o,a),e[c+1][u]=0),s!=o[s]&&r.RNG.getUniform()>n?this._removeFromList(s,o,a):e[c][u+1]=0}for(var s=0;s<i;s++){var c=2*s+1,u=h;e[c][u]=0,s!=o[s+1]&&(s==o[s]||r.RNG.getUniform()>n)&&(this._addToList(s,o,a),e[c+1][u]=0),this._removeFromList(s,o,a)}for(var s=0;s<this._width;s++)for(var h=0;h<this._height;h++)t(s,h,e[s][h]);return this},r.Map.EllerMaze.prototype._removeFromList=function(t,e,i){i[e[t]]=i[t],e[i[t]]=e[t],i[t]=t,e[t]=t},r.Map.EllerMaze.prototype._addToList=function(t,e,i){i[e[t+1]]=i[t],e[i[t]]=e[t+1],i[t]=t+1,e[t+1]=t},r.Map.Cellular=function(t,e,i){r.Map.call(this,t,e),this._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8,connected:!1},this.setOptions(i),this._dirs=r.DIRS[this._options.topology],this._map=this._fillMap(0)},r.Map.Cellular.extend(r.Map),r.Map.Cellular.prototype.randomize=function(t){for(var e=0;e<this._width;e++)for(var i=0;i<this._height;i++)this._map[e][i]=r.RNG.getUniform()<t?1:0;return this},r.Map.Cellular.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e]},r.Map.Cellular.prototype.set=function(t,e,i){this._map[t][e]=i},r.Map.Cellular.prototype.create=function(t){for(var e=this._fillMap(0),i=this._options.born,r=this._options.survive,n=0;n<this._height;n++){var o=1,a=0;6==this._options.topology&&(o=2,a=n%2);for(var s=a;s<this._width;s+=o){var h=this._map[s][n],c=this._getNeighbors(s,n);h&&r.indexOf(c)!=-1?e[s][n]=1:h||i.indexOf(c)==-1||(e[s][n]=1)}}if(this._map=e,this._options.connected&&this._completeMaze(),t)for(var n=0;n<this._height;n++){var o=1,a=0;6==this._options.topology&&(o=2,a=n%2);for(var s=a;s<this._width;s+=o)t(s,n,e[s][n])}},r.Map.Cellular.prototype._getNeighbors=function(t,e){for(var i=0,r=0;r<this._dirs.length;r++){var n=this._dirs[r],o=t+n[0],a=e+n[1];o<0||o>=this._width||o<0||a>=this._width||(i+=1==this._map[o][a]?1:0)}return i},r.Map.Cellular.prototype._completeMaze=function(){for(var t=[],e={},i=0;i<this._width;i++)for(var n=0;n<this._height;n++)if(this._freeSpace(i,n)){var o=[i,n];e[this._pointKey(o)]=o,t.push([i,n])}var a=t[r.RNG.getUniformInt(0,t.length-1)],s=this._pointKey(a),h={};for(h[s]=a,delete e[s],this._findConnected(h,e,[a]);Object.keys(e).length>0;){var o=this._getFromTo(h,e),c=o[0],u=o[1],l={};l[this._pointKey(c)]=c,this._findConnected(l,e,[c],!0),this._tunnelToConnected(u,c,h,e);for(var f in l){var p=l[f];this._map[p[0]][p[1]]=0,h[f]=p,delete e[f]}}},r.Map.Cellular.prototype._getFromTo=function(t,e){for(var i,n,o,a=Object.keys(t),s=Object.keys(e),h=0;h<5;h++){if(a.length<s.length){var c=a;n=t[c[r.RNG.getUniformInt(0,c.length-1)]],i=this._getClosest(n,e)}else{var c=s;i=e[c[r.RNG.getUniformInt(0,c.length-1)]],n=this._getClosest(i,t)}if(o=(i[0]-n[0])*(i[0]-n[0])+(i[1]-n[1])*(i[1]-n[1]),o<64)break}return[i,n]},r.Map.Cellular.prototype._getClosest=function(t,e){var i=null,r=null;for(k in e){var n=e[k],o=(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]);(null==r||o<r)&&(r=o,i=n)}return i},r.Map.Cellular.prototype._findConnected=function(t,e,i,r){for(;i.length>0;)for(var n=i.splice(0,1)[0],o=[[n[0]+1,n[1]],[n[0]-1,n[1]],[n[0],n[1]+1],[n[0],n[1]-1]],a=0;a<o.length;a++){var s=this._pointKey(o[a]);null==t[s]&&this._freeSpace(o[a][0],o[a][1])&&(t[s]=o[a],r||delete e[s],i.push(o[a]))}},r.Map.Cellular.prototype._tunnelToConnected=function(t,e,i,r){var n,o;this._pointKey(e);e[0]<t[0]?(n=e,o=t):(n=t,o=e);for(var a=n[0];a<=o[0];a++){this._map[a][n[1]]=0;var s=[a,n[1]],h=this._pointKey(s);i[h]=s,delete r[h]}var c=o[0];e[1]<t[1]?(n=e,o=t):(n=t,o=e);for(var u=n[1];u<o[1];u++){this._map[c][u]=0;var s=[c,u],h=this._pointKey(s);i[h]=s,delete r[h]}},r.Map.Cellular.prototype._freeSpace=function(t,e){return t>=0&&t<this._width&&e>=0&&e<this._height&&1!=this._map[t][e]},r.Map.Cellular.prototype._pointKey=function(t){return t[0]+"."+t[1]},r.Map.Dungeon=function(t,e){r.Map.call(this,t,e),this._rooms=[],this._corridors=[]},r.Map.Dungeon.extend(r.Map),r.Map.Dungeon.prototype.getRooms=function(){return this._rooms},r.Map.Dungeon.prototype.getCorridors=function(){return this._corridors},r.Map.Digger=function(t,e,i){r.Map.Dungeon.call(this,t,e),this._options={roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3};for(var n in i)this._options[n]=i[n];this._features={Room:4,Corridor:4},this._featureAttempts=20,this._walls={},this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this),this._priorityWallCallback=this._priorityWallCallback.bind(this)},r.Map.Digger.extend(r.Map.Dungeon),r.Map.Digger.prototype.create=function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var i=Date.now();do{var r=Date.now();if(r-i>this._options.timeLimit)break;var n=this._findWall();if(!n)break;var o=n.split(","),a=parseInt(o[0]),s=parseInt(o[1]),h=this._getDiggingDirection(a,s);if(h){var c=0;do if(c++,this._tryFeature(a,s,h[0],h[1])){this._removeSurroundingWalls(a,s),this._removeSurroundingWalls(a-h[0],s-h[1]);break}while(c<this._featureAttempts);var u=0;for(var l in this._walls)this._walls[l]>1&&u++}}while(this._dug/e<this._options.dugPercentage||u);if(this._addDoors(),t)for(var f=0;f<this._width;f++)for(var p=0;p<this._height;p++)t(f,p,this._map[f][p]);return this._walls={},this._map=null,this},r.Map.Digger.prototype._digCallback=function(t,e,i){0==i||2==i?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1},r.Map.Digger.prototype._isWallCallback=function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]},r.Map.Digger.prototype._canBeDugCallback=function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]},r.Map.Digger.prototype._priorityWallCallback=function(t,e){this._walls[t+","+e]=2},r.Map.Digger.prototype._firstRoom=function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),i=r.Map.Feature.Room.createRandomCenter(t,e,this._options);this._rooms.push(i),i.create(this._digCallback)},r.Map.Digger.prototype._findWall=function(){var t=[],e=[];for(var i in this._walls){var r=this._walls[i];2==r?e.push(i):t.push(i)}var n=e.length?e:t;if(!n.length)return null;var i=n.random();return delete this._walls[i],i},r.Map.Digger.prototype._tryFeature=function(t,e,i,n){var o=r.RNG.getWeightedValue(this._features);return o=r.Map.Feature[o].createRandomAt(t,e,i,n,this._options),!!o.isValid(this._isWallCallback,this._canBeDugCallback)&&(o.create(this._digCallback),o instanceof r.Map.Feature.Room&&this._rooms.push(o),o instanceof r.Map.Feature.Corridor&&(o.createPriorityWalls(this._priorityWallCallback),this._corridors.push(o)),!0)},r.Map.Digger.prototype._removeSurroundingWalls=function(t,e){for(var i=r.DIRS[4],n=0;n<i.length;n++){var o=i[n],a=t+o[0],s=e+o[1];delete this._walls[a+","+s];var a=t+2*o[0],s=e+2*o[1];delete this._walls[a+","+s]}},r.Map.Digger.prototype._getDiggingDirection=function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var i=null,n=r.DIRS[4],o=0;o<n.length;o++){var a=n[o],s=t+a[0],h=e+a[1];if(!this._map[s][h]){if(i)return null;i=a}}return i?[-i[0],-i[1]]:null},r.Map.Digger.prototype._addDoors=function(){for(var t=this._map,e=function(e,i){return 1==t[e][i]},i=0;i<this._rooms.length;i++){var r=this._rooms[i];r.clearDoors(),r.addDoors(e)}},r.Map.Uniform=function(t,e,i){r.Map.Dungeon.call(this,t,e),this._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3};for(var n in i)this._options[n]=i[n];this._roomAttempts=20,this._corridorAttempts=20,this._connected=[],this._unconnected=[],this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this)},r.Map.Uniform.extend(r.Map.Dungeon),r.Map.Uniform.prototype.create=function(t){for(var e=Date.now();;){var i=Date.now();if(i-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var r=0;r<this._width;r++)for(var n=0;n<this._height;n++)t(r,n,this._map[r][n]);return this},r.Map.Uniform.prototype._generateRooms=function(){var t=this._width-2,e=this._height-2;do{var i=this._generateRoom();if(this._dug/(t*e)>this._options.roomDugPercentage)break}while(i)},r.Map.Uniform.prototype._generateRoom=function(){for(var t=0;t<this._roomAttempts;){t++;var e=r.Map.Feature.Room.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null},r.Map.Uniform.prototype._generateCorridors=function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var i=this._rooms[e];i.clearDoors(),i.create(this._digCallback)}for(this._unconnected=this._rooms.slice().randomize(),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var r=this._connected.random(),n=this._closestRoom(this._unconnected,r),o=this._closestRoom(this._connected,n),a=this._connectRooms(n,o);if(!a)break;if(!this._unconnected.length)return!0}}return!1},r.Map.Uniform.prototype._closestRoom=function(t,e){for(var i=1/0,r=e.getCenter(),n=null,o=0;o<t.length;o++){var a=t[o],s=a.getCenter(),h=s[0]-r[0],c=s[1]-r[1],u=h*h+c*c;u<i&&(i=u,n=a)}return n},r.Map.Uniform.prototype._connectRooms=function(t,e){var i=t.getCenter(),r=e.getCenter(),n=r[0]-i[0],o=r[1]-i[1];if(Math.abs(n)<Math.abs(o))var a=o>0?2:0,s=(a+2)%4,h=e.getLeft(),c=e.getRight(),u=0;else var a=n>0?1:3,s=(a+2)%4,h=e.getTop(),c=e.getBottom(),u=1;var l=this._placeInWall(t,a);if(!l)return!1;if(l[u]>=h&&l[u]<=c){var f=l.slice(),p=null;switch(s){case 0:p=e.getTop()-1;break;case 1:p=e.getRight()+1;break;case 2:p=e.getBottom()+1;break;case 3:p=e.getLeft()-1}f[(u+1)%2]=p,this._digLine([l,f])}else if(l[u]<h-1||l[u]>c+1){var _=l[u]-r[u];switch(s){case 0:case 1:var d=_<0?3:1;break;case 2:case 3:var d=_<0?1:3}s=(s+d)%4;var f=this._placeInWall(e,s);if(!f)return!1;var g=[0,0];g[u]=l[u];var v=(u+1)%2;g[v]=f[v],this._digLine([l,g,f])}else{var v=(u+1)%2,f=this._placeInWall(e,s);if(!f)return!1;var g=Math.round((f[v]+l[v])/2),y=[0,0],m=[0,0];y[u]=l[u],y[v]=g,m[u]=f[u],m[v]=g,this._digLine([l,y,m,f])}t.addDoor(l[0],l[1]),e.addDoor(f[0],f[1]);var u=this._unconnected.indexOf(t);u!=-1&&(this._unconnected.splice(u,1),this._connected.push(t));var u=this._unconnected.indexOf(e);return u!=-1&&(this._unconnected.splice(u,1),this._connected.push(e)),!0},r.Map.Uniform.prototype._placeInWall=function(t,e){var i=[0,0],r=[0,0],n=0;switch(e){case 0:r=[1,0],i=[t.getLeft(),t.getTop()-1],n=t.getRight()-t.getLeft()+1;break;case 1:r=[0,1],i=[t.getRight()+1,t.getTop()],n=t.getBottom()-t.getTop()+1;break;case 2:r=[1,0],i=[t.getLeft(),t.getBottom()+1],n=t.getRight()-t.getLeft()+1;break;case 3:r=[0,1],i=[t.getLeft()-1,t.getTop()],n=t.getBottom()-t.getTop()+1}for(var o=[],a=-2,s=0;s<n;s++){var h=i[0]+s*r[0],c=i[1]+s*r[1];o.push(null);var u=1==this._map[h][c];u?a!=s-1&&(o[s]=[h,c]):(a=s,s&&(o[s-1]=null))}for(var s=o.length-1;s>=0;s--)o[s]||o.splice(s,1);return o.length?o.random():null},r.Map.Uniform.prototype._digLine=function(t){for(var e=1;e<t.length;e++){var i=t[e-1],n=t[e],o=new r.Map.Feature.Corridor(i[0],i[1],n[0],n[1]);o.create(this._digCallback),this._corridors.push(o)}},r.Map.Uniform.prototype._digCallback=function(t,e,i){this._map[t][e]=i,0==i&&this._dug++},r.Map.Uniform.prototype._isWallCallback=function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]},r.Map.Uniform.prototype._canBeDugCallback=function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]},r.Map.Rogue=function(t,e,i){r.Map.call(this,t,e),this._options={cellWidth:3,cellHeight:3};for(var n in i)this._options[n]=i[n];this._options.hasOwnProperty("roomWidth")||(this._options.roomWidth=this._calculateRoomSize(this._width,this._options.cellWidth)),this._options.hasOwnProperty("roomHeight")||(this._options.roomHeight=this._calculateRoomSize(this._height,this._options.cellHeight))},r.Map.Rogue.extend(r.Map),r.Map.Rogue.prototype.create=function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var i=0;i<this._height;i++)t(e,i,this.map[e][i]);return this},r.Map.Rogue.prototype._calculateRoomSize=function(t,e){var i=Math.floor(t/e*.8),r=Math.floor(t/e*.25);return r<2&&(r=2),i<2&&(i=2),[r,i]},r.Map.Rogue.prototype._initRooms=function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}},r.Map.Rogue.prototype._connectRooms=function(){var t,e,i,n,o,a=r.RNG.getUniformInt(0,this._options.cellWidth-1),s=r.RNG.getUniformInt(0,this._options.cellHeight-1),h=!1;do{var c=[0,2,4,6];c=c.randomize();do if(h=!1,t=c.pop(),e=a+r.DIRS[8][t][0],i=s+r.DIRS[8][t][1],!(e<0||e>=this._options.cellWidth||i<0||i>=this._options.cellHeight)){if(n=this.rooms[a][s],n.connections.length>0&&n.connections[0][0]==e&&n.connections[0][1]==i)break;o=this.rooms[e][i],0==o.connections.length&&(o.connections.push([a,s]),this.connectedCells.push([e,i]),a=e,s=i,h=!0)}while(c.length>0&&0==h)}while(c.length>0)},r.Map.Rogue.prototype._connectUnconnectedRooms=function(){var t=this._options.cellWidth,e=this._options.cellHeight;this.connectedCells=this.connectedCells.randomize();for(var i,n,o,a=0;a<this._options.cellWidth;a++)for(var s=0;s<this._options.cellHeight;s++)if(i=this.rooms[a][s],0==i.connections.length){var h=[0,2,4,6];h=h.randomize();var o=!1;do{var c=h.pop(),u=a+r.DIRS[8][c][0],l=s+r.DIRS[8][c][1];if(!(u<0||u>=t||l<0||l>=e)){if(n=this.rooms[u][l],o=!0,0==n.connections.length)break;for(var f=0;f<n.connections.length;f++)if(n.connections[f][0]==a&&n.connections[f][1]==s){o=!1;break}if(o)break}}while(h.length);o?i.connections.push([n.cellx,n.celly]):console.log("-- Unable to connect room.")}},r.Map.Rogue.prototype._createRandomRoomConnections=function(t){},r.Map.Rogue.prototype._createRooms=function(){for(var t,e,i,n,o,a=this._width,s=this._height,h=this._options.cellWidth,c=this._options.cellHeight,u=Math.floor(this._width/h),l=Math.floor(this._height/c),f=this._options.roomWidth,p=this._options.roomHeight,_=0;_<h;_++)for(var d=0;d<c;d++){
if(i=u*_,n=l*d,0==i&&(i=1),0==n&&(n=1),t=r.RNG.getUniformInt(f[0],f[1]),e=r.RNG.getUniformInt(p[0],p[1]),d>0)for(o=this.rooms[_][d-1];n-(o.y+o.height)<3;)n++;if(_>0)for(o=this.rooms[_-1][d];i-(o.x+o.width)<3;)i++;for(var g=Math.round(r.RNG.getUniformInt(0,u-t)/2),v=Math.round(r.RNG.getUniformInt(0,l-e)/2);i+g+t>=a;)g?g--:t--;for(;n+v+e>=s;)v?v--:e--;i+=g,n+=v,this.rooms[_][d].x=i,this.rooms[_][d].y=n,this.rooms[_][d].width=t,this.rooms[_][d].height=e;for(var y=i;y<i+t;y++)for(var m=n;m<n+e;m++)this.map[y][m]=0}},r.Map.Rogue.prototype._getWallPosition=function(t,e){var i,n,o;return 1==e||3==e?(i=r.RNG.getUniformInt(t.x+1,t.x+t.width-2),1==e?(n=t.y-2,o=n+1):(n=t.y+t.height+1,o=n-1),this.map[i][o]=0):2!=e&&4!=e||(n=r.RNG.getUniformInt(t.y+1,t.y+t.height-2),2==e?(i=t.x+t.width+1,o=i-1):(i=t.x-2,o=i+1),this.map[o][n]=0),[i,n]},r.Map.Rogue.prototype._drawCorridore=function(t,e){var i,n,o,a,s=e[0]-t[0],h=e[1]-t[1],c=t[0],u=t[1],l=[],f=Math.abs(s),p=Math.abs(h),_=r.RNG.getUniform(),d=_,g=1-_;for(n=s>0?2:6,o=h>0?4:0,f<p?(i=Math.ceil(p*d),l.push([o,i]),l.push([n,f]),i=Math.floor(p*g),l.push([o,i])):(i=Math.ceil(f*d),l.push([n,i]),l.push([o,p]),i=Math.floor(f*g),l.push([n,i])),this.map[c][u]=0;l.length>0;)for(a=l.pop();a[1]>0;)c+=r.DIRS[8][a[0]][0],u+=r.DIRS[8][a[0]][1],this.map[c][u]=0,a[1]=a[1]-1},r.Map.Rogue.prototype._createCorridors=function(){for(var t,e,i,r,n,o=this._options.cellWidth,a=this._options.cellHeight,s=0;s<o;s++)for(var h=0;h<a;h++){t=this.rooms[s][h];for(var c=0;c<t.connections.length;c++)e=t.connections[c],i=this.rooms[e[0]][e[1]],i.cellx>t.cellx?(r=2,n=4):i.cellx<t.cellx?(r=4,n=2):i.celly>t.celly?(r=3,n=1):i.celly<t.celly&&(r=1,n=3),this._drawCorridore(this._getWallPosition(t,r),this._getWallPosition(i,n))}},r.Map.Feature=function(){},r.Map.Feature.prototype.isValid=function(t){},r.Map.Feature.prototype.create=function(t){},r.Map.Feature.prototype.debug=function(){},r.Map.Feature.createRandomAt=function(t,e,i,r,n){},r.Map.Feature.Room=function(t,e,i,r,n,o){this._x1=t,this._y1=e,this._x2=i,this._y2=r,this._doors={},arguments.length>4&&this.addDoor(n,o)},r.Map.Feature.Room.extend(r.Map.Feature),r.Map.Feature.Room.createRandomAt=function(t,e,i,n,o){var a=o.roomWidth[0],s=o.roomWidth[1],h=r.RNG.getUniformInt(a,s),a=o.roomHeight[0],s=o.roomHeight[1],c=r.RNG.getUniformInt(a,s);if(1==i){var u=e-Math.floor(r.RNG.getUniform()*c);return new this(t+1,u,t+h,u+c-1,t,e)}if(i==-1){var u=e-Math.floor(r.RNG.getUniform()*c);return new this(t-h,u,t-1,u+c-1,t,e)}if(1==n){var l=t-Math.floor(r.RNG.getUniform()*h);return new this(l,e+1,l+h-1,e+c,t,e)}if(n==-1){var l=t-Math.floor(r.RNG.getUniform()*h);return new this(l,e-c,l+h-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")},r.Map.Feature.Room.createRandomCenter=function(t,e,i){var n=i.roomWidth[0],o=i.roomWidth[1],a=r.RNG.getUniformInt(n,o),n=i.roomHeight[0],o=i.roomHeight[1],s=r.RNG.getUniformInt(n,o),h=t-Math.floor(r.RNG.getUniform()*a),c=e-Math.floor(r.RNG.getUniform()*s),u=h+a-1,l=c+s-1;return new this(h,c,u,l)},r.Map.Feature.Room.createRandom=function(t,e,i){var n=i.roomWidth[0],o=i.roomWidth[1],a=r.RNG.getUniformInt(n,o),n=i.roomHeight[0],o=i.roomHeight[1],s=r.RNG.getUniformInt(n,o),h=t-a-1,c=e-s-1,u=1+Math.floor(r.RNG.getUniform()*h),l=1+Math.floor(r.RNG.getUniform()*c),f=u+a-1,p=l+s-1;return new this(u,l,f,p)},r.Map.Feature.Room.prototype.addDoor=function(t,e){return this._doors[t+","+e]=1,this},r.Map.Feature.Room.prototype.getDoors=function(t){for(var e in this._doors){var i=e.split(",");t(parseInt(i[0]),parseInt(i[1]))}return this},r.Map.Feature.Room.prototype.clearDoors=function(){return this._doors={},this},r.Map.Feature.Room.prototype.addDoors=function(t){for(var e=this._x1-1,i=this._x2+1,r=this._y1-1,n=this._y2+1,o=e;o<=i;o++)for(var a=r;a<=n;a++)o!=e&&o!=i&&a!=r&&a!=n||t(o,a)||this.addDoor(o,a);return this},r.Map.Feature.Room.prototype.debug=function(){console.log("room",this._x1,this._y1,this._x2,this._y2)},r.Map.Feature.Room.prototype.isValid=function(t,e){for(var i=this._x1-1,r=this._x2+1,n=this._y1-1,o=this._y2+1,a=i;a<=r;a++)for(var s=n;s<=o;s++)if(a==i||a==r||s==n||s==o){if(!t(a,s))return!1}else if(!e(a,s))return!1;return!0},r.Map.Feature.Room.prototype.create=function(t){for(var e=this._x1-1,i=this._x2+1,r=this._y1-1,n=this._y2+1,o=0,a=e;a<=i;a++)for(var s=r;s<=n;s++)o=a+","+s in this._doors?2:a==e||a==i||s==r||s==n?1:0,t(a,s,o)},r.Map.Feature.Room.prototype.getCenter=function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]},r.Map.Feature.Room.prototype.getLeft=function(){return this._x1},r.Map.Feature.Room.prototype.getRight=function(){return this._x2},r.Map.Feature.Room.prototype.getTop=function(){return this._y1},r.Map.Feature.Room.prototype.getBottom=function(){return this._y2},r.Map.Feature.Corridor=function(t,e,i,r){this._startX=t,this._startY=e,this._endX=i,this._endY=r,this._endsWithAWall=!0},r.Map.Feature.Corridor.extend(r.Map.Feature),r.Map.Feature.Corridor.createRandomAt=function(t,e,i,n,o){var a=o.corridorLength[0],s=o.corridorLength[1],h=r.RNG.getUniformInt(a,s);return new this(t,e,t+i*h,e+n*h)},r.Map.Feature.Corridor.prototype.debug=function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)},r.Map.Feature.Corridor.prototype.isValid=function(t,e){var i=this._startX,r=this._startY,n=this._endX-i,o=this._endY-r,a=1+Math.max(Math.abs(n),Math.abs(o));n&&(n/=Math.abs(n)),o&&(o/=Math.abs(o));for(var s=o,h=-n,c=!0,u=0;u<a;u++){var l=i+u*n,f=r+u*o;if(e(l,f)||(c=!1),t(l+s,f+h)||(c=!1),t(l-s,f-h)||(c=!1),!c){a=u,this._endX=l-n,this._endY=f-o;break}}if(0==a)return!1;if(1==a&&t(this._endX+n,this._endY+o))return!1;var p=!t(this._endX+n+s,this._endY+o+h),_=!t(this._endX+n-s,this._endY+o-h);return this._endsWithAWall=t(this._endX+n,this._endY+o),!p&&!_||!this._endsWithAWall},r.Map.Feature.Corridor.prototype.create=function(t){var e=this._startX,i=this._startY,r=this._endX-e,n=this._endY-i,o=1+Math.max(Math.abs(r),Math.abs(n));r&&(r/=Math.abs(r)),n&&(n/=Math.abs(n));for(var a=0;a<o;a++){var s=e+a*r,h=i+a*n;t(s,h,0)}return!0},r.Map.Feature.Corridor.prototype.createPriorityWalls=function(t){if(this._endsWithAWall){var e=this._startX,i=this._startY,r=this._endX-e,n=this._endY-i;r&&(r/=Math.abs(r)),n&&(n/=Math.abs(n));var o=n,a=-r;t(this._endX+r,this._endY+n),t(this._endX+o,this._endY+a),t(this._endX-o,this._endY-a)}},r.Noise=function(){},r.Noise.prototype.get=function(t,e){},r.Noise.Simplex=function(t){r.Noise.call(this),this._F2=.5*(Math.sqrt(3)-1),this._G2=(3-Math.sqrt(3))/6,this._gradients=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]];for(var e=[],i=t||256,n=0;n<i;n++)e.push(n);e=e.randomize(),this._perms=[],this._indexes=[];for(var n=0;n<2*i;n++)this._perms.push(e[n%i]),this._indexes.push(this._perms[n]%this._gradients.length)},r.Noise.Simplex.extend(r.Noise),r.Noise.Simplex.prototype.get=function(t,e){var i,r,n,o=this._perms,a=this._indexes,s=o.length/2,h=this._G2,c=0,u=0,l=0,f=(t+e)*this._F2,p=Math.floor(t+f),_=Math.floor(e+f),d=(p+_)*h,g=p-d,v=_-d,y=t-g,m=e-v;y>m?(r=1,n=0):(r=0,n=1);var b=y-r+h,w=m-n+h,M=y-1+2*h,x=m-1+2*h,S=p.mod(s),T=_.mod(s),k=.5-y*y-m*m;if(k>=0){k*=k,i=a[S+o[T]];var E=this._gradients[i];c=k*k*(E[0]*y+E[1]*m)}var D=.5-b*b-w*w;if(D>=0){D*=D,i=a[S+r+o[T+n]];var E=this._gradients[i];u=D*D*(E[0]*b+E[1]*w)}var R=.5-M*M-x*x;if(R>=0){R*=R,i=a[S+1+o[T+1]];var E=this._gradients[i];l=R*R*(E[0]*M+E[1]*x)}return 70*(c+u+l)},r.FOV=function(t,e){this._lightPasses=t,this._options={topology:8};for(var i in e)this._options[i]=e[i]},r.FOV.prototype.compute=function(t,e,i,r){},r.FOV.prototype._getCircle=function(t,e,i){var n,o,a,s=[];switch(this._options.topology){case 4:o=1,a=[0,1],n=[r.DIRS[8][7],r.DIRS[8][1],r.DIRS[8][3],r.DIRS[8][5]];break;case 6:n=r.DIRS[6],o=1,a=[-1,1];break;case 8:n=r.DIRS[4],o=2,a=[-1,1]}for(var h=t+a[0]*i,c=e+a[1]*i,u=0;u<n.length;u++)for(var l=0;l<i*o;l++)s.push([h,c]),h+=n[u][0],c+=n[u][1];return s},r.FOV.DiscreteShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.DiscreteShadowcasting.extend(r.FOV),r.FOV.DiscreteShadowcasting.prototype.compute=function(t,e,i,r){this._coords,this._map;if(r(t,e,0,1),this._lightPasses(t,e))for(var n,o,a,s,h,c=[],u=1;u<=i;u++)for(var l=this._getCircle(t,e,u),f=360/l.length,p=0;p<l.length;p++)if(a=l[p][0],s=l[p][1],n=f*(p-.5),o=n+f,h=!this._lightPasses(a,s),this._visibleCoords(Math.floor(n),Math.ceil(o),h,c)&&r(a,s,u,1),2==c.length&&0==c[0]&&360==c[1])return},r.FOV.DiscreteShadowcasting.prototype._visibleCoords=function(t,e,i,r){if(t<0){var n=arguments.callee(0,e,i,r),o=arguments.callee(360+t,360,i,r);return n||o}for(var a=0;a<r.length&&r[a]<t;)a++;if(a==r.length)return i&&r.push(t,e),!0;var s=0;if(a%2){for(;a<r.length&&r[a]<e;)a++,s++;return 0!=s&&(i&&(s%2?r.splice(a-s,s,e):r.splice(a-s,s)),!0)}for(;a<r.length&&r[a]<e;)a++,s++;return(t!=r[a-s]||1!=s)&&(i&&(s%2?r.splice(a-s,s,t):r.splice(a-s,s,t,e)),!0)},r.FOV.PreciseShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.PreciseShadowcasting.extend(r.FOV),r.FOV.PreciseShadowcasting.prototype.compute=function(t,e,i,r){if(r(t,e,0,1),this._lightPasses(t,e))for(var n,o,a,s,h,c,u=[],l=1;l<=i;l++)for(var f=this._getCircle(t,e,l),p=f.length,_=0;_<p;_++)if(n=f[_][0],o=f[_][1],s=[_?2*_-1:2*p-1,2*p],h=[2*_+1,2*p],a=!this._lightPasses(n,o),c=this._checkVisibility(s,h,a,u),c&&r(n,o,l,c),2==u.length&&0==u[0][0]&&u[1][0]==u[1][1])return},r.FOV.PreciseShadowcasting.prototype._checkVisibility=function(t,e,i,r){if(t[0]>e[0]){var n=this._checkVisibility(t,[t[1],t[1]],i,r),o=this._checkVisibility([0,1],e,i,r);return(n+o)/2}for(var a=0,s=!1;a<r.length;){var h=r[a],c=h[0]*t[1]-t[0]*h[1];if(c>=0){0!=c||a%2||(s=!0);break}a++}for(var u=r.length,l=!1;u--;){var h=r[u],c=e[0]*h[1]-h[0]*e[1];if(c>=0){0==c&&u%2&&(l=!0);break}}var f=!0;if(a==u&&(s||l)?f=!1:s&&l&&a+1==u&&u%2?f=!1:a>u&&a%2&&(f=!1),!f)return 0;var p,_,d=u-a+1;if(d%2)if(a%2){var _=r[a];p=(e[0]*_[1]-_[0]*e[1])/(_[1]*e[1]),i&&r.splice(a,d,e)}else{var _=r[u];p=(_[0]*t[1]-t[0]*_[1])/(t[1]*_[1]),i&&r.splice(a,d,t)}else{if(!(a%2))return i&&r.splice(a,d,t,e),1;var g=r[a],v=r[u];p=(v[0]*g[1]-g[0]*v[1])/(g[1]*v[1]),i&&r.splice(a,d)}var y=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]);return p/y},r.FOV.RecursiveShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.RecursiveShadowcasting.extend(r.FOV),r.FOV.RecursiveShadowcasting.OCTANTS=[[-1,0,0,1],[0,-1,1,0],[0,-1,-1,0],[-1,0,0,-1],[1,0,0,-1],[0,1,-1,0],[0,1,1,0],[1,0,0,1]],r.FOV.RecursiveShadowcasting.prototype.compute=function(t,e,i,n){n(t,e,0,1);for(var o=0;o<r.FOV.RecursiveShadowcasting.OCTANTS.length;o++)this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[o],i,n)},r.FOV.RecursiveShadowcasting.prototype.compute180=function(t,e,i,n,o){o(t,e,0,1);var a=(n-1+8)%8,s=(n-2+8)%8,h=(n+1+8)%8;this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[s],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[a],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[n],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[h],i,o)},r.FOV.RecursiveShadowcasting.prototype.compute90=function(t,e,i,n,o){o(t,e,0,1);var a=(n-1+8)%8;this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[n],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[a],i,o)},r.FOV.RecursiveShadowcasting.prototype._renderOctant=function(t,e,i,r,n){this._castVisibility(t,e,1,1,0,r+1,i[0],i[1],i[2],i[3],n)},r.FOV.RecursiveShadowcasting.prototype._castVisibility=function(t,e,i,r,n,o,a,s,h,c,u){if(!(r<n))for(var l=i;l<=o;l++){for(var f=-l-1,p=-l,_=!1,d=0;f<=0;){f+=1;var g=t+f*a+p*s,v=e+f*h+p*c,y=(f-.5)/(p+.5),m=(f+.5)/(p-.5);if(!(m>r)){if(y<n)break;if(f*f+p*p<o*o&&u(g,v,l,1),_){if(!this._lightPasses(g,v)){d=m;continue}_=!1,r=d}else!this._lightPasses(g,v)&&l<o&&(_=!0,this._castVisibility(t,e,l+1,r,y,o,a,s,h,c,u),d=m)}}if(_)break}},r.Color={fromString:function(t){var e,i;if(t in this._cache)e=this._cache[t];else{if("#"==t.charAt(0)){var r=t.match(/[0-9a-f]/gi).map(function(t){return parseInt(t,16)});if(3==r.length)e=r.map(function(t){return 17*t});else{for(var n=0;n<3;n++)r[n+1]+=16*r[n],r.splice(n,1);e=r}}else e=(i=t.match(/rgb\(([0-9, ]+)\)/i))?i[1].split(/\s*,\s*/).map(function(t){return parseInt(t)}):[0,0,0];this._cache[t]=e}return e.slice()},add:function(t,e){for(var i=t.slice(),r=0;r<3;r++)for(var n=1;n<arguments.length;n++)i[r]+=arguments[n][r];return i},add_:function(t,e){for(var i=0;i<3;i++)for(var r=1;r<arguments.length;r++)t[i]+=arguments[r][i];return t},multiply:function(t,e){for(var i=t.slice(),r=0;r<3;r++){for(var n=1;n<arguments.length;n++)i[r]*=arguments[n][r]/255;i[r]=Math.round(i[r])}return i},multiply_:function(t,e){for(var i=0;i<3;i++){for(var r=1;r<arguments.length;r++)t[i]*=arguments[r][i]/255;t[i]=Math.round(t[i])}return t},interpolate:function(t,e,i){arguments.length<3&&(i=.5);for(var r=t.slice(),n=0;n<3;n++)r[n]=Math.round(r[n]+i*(e[n]-t[n]));return r},interpolateHSL:function(t,e,i){arguments.length<3&&(i=.5);for(var r=this.rgb2hsl(t),n=this.rgb2hsl(e),o=0;o<3;o++)r[o]+=i*(n[o]-r[o]);return this.hsl2rgb(r)},randomize:function(t,e){e instanceof Array||(e=Math.round(r.RNG.getNormal(0,e)));for(var i=t.slice(),n=0;n<3;n++)i[n]+=e instanceof Array?Math.round(r.RNG.getNormal(0,e[n])):e;return i},rgb2hsl:function(t){var e,i,r=t[0]/255,n=t[1]/255,o=t[2]/255,a=Math.max(r,n,o),s=Math.min(r,n,o),h=(a+s)/2;if(a==s)e=i=0;else{var c=a-s;switch(i=h>.5?c/(2-a-s):c/(a+s),a){case r:e=(n-o)/c+(n<o?6:0);break;case n:e=(o-r)/c+2;break;case o:e=(r-n)/c+4}e/=6}return[e,i,h]},hsl2rgb:function(t){var e=t[2];if(0==t[1])return e=Math.round(255*e),[e,e,e];var i=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},r=t[1],n=e<.5?e*(1+r):e+r-e*r,o=2*e-n,a=i(o,n,t[0]+1/3),s=i(o,n,t[0]),h=i(o,n,t[0]-1/3);return[Math.round(255*a),Math.round(255*s),Math.round(255*h)]},toRGB:function(t){return"rgb("+this._clamp(t[0])+","+this._clamp(t[1])+","+this._clamp(t[2])+")"},toHex:function(t){for(var e=[],i=0;i<3;i++)e.push(this._clamp(t[i]).toString(16).lpad("0",2));return"#"+e.join("")},_clamp:function(t){return t<0?0:t>255?255:t},_cache:{black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},r.Lighting=function(t,e){this._reflectivityCallback=t,this._options={passes:1,emissionThreshold:100,range:10},this._fov=null,this._lights={},this._reflectivityCache={},this._fovCache={},this.setOptions(e)},r.Lighting.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e];return t&&t.range&&this.reset(),this},r.Lighting.prototype.setFOV=function(t){return this._fov=t,this._fovCache={},this},r.Lighting.prototype.setLight=function(t,e,i){var n=t+","+e;return i?this._lights[n]="string"==typeof i?r.Color.fromString(i):i:delete this._lights[n],this},r.Lighting.prototype.clearLights=function(){this._lights={}},r.Lighting.prototype.reset=function(){return this._reflectivityCache={},this._fovCache={},this},r.Lighting.prototype.compute=function(t){var e={},i={},n={};for(var o in this._lights){var a=this._lights[o];i[o]=[0,0,0],r.Color.add_(i[o],a)}for(var s=0;s<this._options.passes;s++)this._emitLight(i,n,e),s+1!=this._options.passes&&(i=this._computeEmitters(n,e));for(var h in n){var c=h.split(","),u=parseInt(c[0]),l=parseInt(c[1]);t(u,l,n[h])}return this},r.Lighting.prototype._emitLight=function(t,e,i){for(var r in t){var n=r.split(","),o=parseInt(n[0]),a=parseInt(n[1]);this._emitLightFromCell(o,a,t[r],e),i[r]=1}return this},r.Lighting.prototype._computeEmitters=function(t,e){var i={};for(var r in t)if(!(r in e)){var n=t[r];if(r in this._reflectivityCache)var o=this._reflectivityCache[r];else{var a=r.split(","),s=parseInt(a[0]),h=parseInt(a[1]),o=this._reflectivityCallback(s,h);this._reflectivityCache[r]=o}if(0!=o){for(var c=[],u=0,l=0;l<3;l++){var f=Math.round(n[l]*o);c[l]=f,u+=f}u>this._options.emissionThreshold&&(i[r]=c)}}return i},r.Lighting.prototype._emitLightFromCell=function(t,e,i,r){var n=t+","+e;if(n in this._fovCache)var o=this._fovCache[n];else var o=this._updateFOV(t,e);for(var a in o){var s=o[a];if(a in r)var h=r[a];else{var h=[0,0,0];r[a]=h}for(var c=0;c<3;c++)h[c]+=Math.round(i[c]*s)}return this},r.Lighting.prototype._updateFOV=function(t,e){var i=t+","+e,r={};this._fovCache[i]=r;var n=this._options.range,o=function(t,e,i,o){var a=t+","+e,s=o*(1-i/n);0!=s&&(r[a]=s)};return this._fov.compute(t,e,n,o.bind(this)),r},r.Path=function(t,e,i,n){this._toX=t,this._toY=e,this._fromX=null,this._fromY=null,this._passableCallback=i,this._options={topology:8};for(var o in n)this._options[o]=n[o];this._dirs=r.DIRS[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])},r.Path.prototype.compute=function(t,e,i){},r.Path.prototype._getNeighbors=function(t,e){for(var i=[],r=0;r<this._dirs.length;r++){var n=this._dirs[r],o=t+n[0],a=e+n[1];this._passableCallback(o,a)&&i.push([o,a])}return i},r.Path.Dijkstra=function(t,e,i,n){r.Path.call(this,t,e,i,n),this._computed={},this._todo=[],this._add(t,e,null)},r.Path.Dijkstra.extend(r.Path),r.Path.Dijkstra.prototype.compute=function(t,e,i){var r=t+","+e;if(r in this._computed||this._compute(t,e),r in this._computed)for(var n=this._computed[r];n;)i(n.x,n.y),n=n.prev},r.Path.Dijkstra.prototype._compute=function(t,e){for(;this._todo.length;){var i=this._todo.shift();if(i.x==t&&i.y==e)return;for(var r=this._getNeighbors(i.x,i.y),n=0;n<r.length;n++){var o=r[n],a=o[0],s=o[1],h=a+","+s;h in this._computed||this._add(a,s,i)}}},r.Path.Dijkstra.prototype._add=function(t,e,i){var r={x:t,y:e,prev:i};this._computed[t+","+e]=r,this._todo.push(r)},r.Path.AStar=function(t,e,i,n){r.Path.call(this,t,e,i,n),this._todo=[],this._done={},this._fromX=null,this._fromY=null},r.Path.AStar.extend(r.Path),r.Path.AStar.prototype.compute=function(t,e,i){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var r=this._todo.shift();if(r.x==t&&r.y==e)break;for(var n=this._getNeighbors(r.x,r.y),o=0;o<n.length;o++){var a=n[o],s=a[0],h=a[1],c=s+","+h;c in this._done||this._add(s,h,r)}}var r=this._done[t+","+e];if(r)for(;r;)i(r.x,r.y),r=r.prev},r.Path.AStar.prototype._add=function(t,e,i){var r={x:t,y:e,prev:i,g:i?i.g+1:0,h:this._distance(t,e)};this._done[t+","+e]=r;for(var n=r.g+r.h,o=0;o<this._todo.length;o++){var a=this._todo[o];if(n<a.g+a.h)return void this._todo.splice(o,0,r)}this._todo.push(r)},r.Path.AStar.prototype._distance=function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var i=Math.abs(t-this._fromX),r=Math.abs(e-this._fromY);return r+Math.max(0,(i-r)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}throw new Error("Illegal topology")},r.Display.Term=function(t){r.Display.Backend.call(this,t),this._cx=-1,this._cy=-1,this._lastColor="",this._options={},this._ox=0,this._oy=0,this._termcolor={}},r.Display.Term.extend(r.Display.Backend),r.Display.Term.prototype.compute=function(e){this._options=e,this._ox=Math.floor((t.stdout.columns-e.width)/2),this._oy=Math.floor((t.stdout.rows-e.height)/2),this._termcolor=new(r.Display.Term[e.termColor.capitalize()])(this._context),this._context._termcolor=this._termcolor},r.Display.Term.prototype.draw=function(e,i){var r=e[0],n=e[1],o=e[2],a=e[3],s=e[4],h=this._ox+r,c=this._oy+n;if(!(h<0||h>=t.stdout.columns)&&!(c<0||c>=t.stdout.rows)&&(h===this._cx&&c===this._cy||(t.stdout.write(this._termcolor.positionToAnsi(h,c)),this._cx=h,this._cy=c),i&&(o||(o=" ")),o)){var u=this._termcolor.colorToAnsi(a,s);u!==this._lastColor&&(t.stdout.write(u),this._lastColor=u);var l=[].concat(o);t.stdout.write(l[0]),this._cx++,this._cx>=t.stdout.columns&&(this._cx=0,this._cy++)}},r.Display.Term.prototype.computeSize=function(e,i){return[t.stdout.columns,t.stdout.rows]},r.Display.Term.prototype.computeFontSize=function(t,e){return 12},r.Display.Term.prototype.eventToPosition=function(t,e){return[t,e]},r.Display.Term.Color=function(t){this._context=t},r.Display.Term.Color.prototype.clearToAnsi=function(t){},r.Display.Term.Color.prototype.colorToAnsi=function(t,e){},r.Display.Term.Color.prototype.positionToAnsi=function(t,e){},r.Display.Term.Xterm=function(t){r.Display.Term.Color.call(this,t)},r.Display.Term.Xterm.extend(r.Display.Term.Color),r.Display.Term.Xterm.prototype.clearToAnsi=function(t){return"[0;48;5;"+this._termcolor(t)+"m[2J"},r.Display.Term.Xterm.prototype.colorToAnsi=function(t,e){return"[0;38;5;"+this._termcolor(t)+";48;5;"+this._termcolor(e)+"m"},r.Display.Term.Xterm.prototype.positionToAnsi=function(t,e){return"["+(e+1)+";"+(t+1)+"H"},r.Display.Term.Xterm.prototype._termcolor=function(t){var e=256,i=6,n=i/e,o=r.Color.fromString(t),a=Math.floor(o[0]*n),s=Math.floor(o[1]*n),h=Math.floor(o[2]*n);return 36*a+6*s+1*h+16};for(var n in r)i[n]=r[n]}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:12}],26:[function(t,e,i){e.exports=t("./lib/index")},{"./lib/index":27}],27:[function(t,e,i){(function(r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var o,a=t("./ponyfill"),s=n(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof e?e:Function("return this")();var h=(0,s["default"])(o);i["default"]=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ponyfill":28}],28:[function(t,e,i){"use strict";function r(t){var e,i=t.Symbol;return"function"==typeof i?i.observable?e=i.observable:(e=i("observable"),i.observable=e):e="@@observable",e}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=r},{}],29:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var n=(t("redux"),t("redux-logger")),o=(r(n),t("rot-js")),a=(r(o),t("./reducers")),s=(r(a),t("./initialState")),h=(r(s),t("./game")),c=r(h);!function(t,e){var i=c["default"].init();i.switchScreen(i.Screen.StartScreen);var r=i.getDisplay();document.querySelector("#main-display").appendChild(r.getContainer())}(window,window.console)},{"./game":32,"./initialState":38,"./reducers":40,redux:23,"redux-logger":17,"rot-js":25}],30:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),c=t("./glyph"),u=r(c),l=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i._name=t.name||"",i._x=t.x||0,i._y=t.y||0,i._map=null,i._attachedMixins={},i._attachedMixinGroups={};for(var r=t.mixins||[],a=0;a<r.length;a++)for(var s=r[a],h=Object.keys(s),c=0;c<h.length;c++){var u=h[c];"init"===u||"name"===u||"groupName"===u||i.hasOwnProperty(u)||(i[u]=s[u]),i._attachedMixins[s.name]=!0,s.groupName&&(i._attachedMixinGroups[s.groupName]=!0),s.init&&s.init.call(i,t)}return i}return a(e,t),h(e,[{key:"hasMixin",value:function(){function t(t){var e="object"===("undefined"==typeof t?"undefined":s(t))?t.name:t;return this._attachedMixinGroups[e]||this._attachedMixins[e]}return t}()},{key:"setName",value:function(){function t(t){this._name=t}return t}()},{key:"setX",value:function(){function t(t){this._x=t}return t}()},{key:"setY",value:function(){function t(t){this._y=t}return t}()},{key:"getName",value:function(){function t(){return this._name}return t}()},{key:"getX",value:function(){function t(){return this._x}return t}()},{key:"getY",value:function(){function t(){return this._y}return t}()},{key:"setMap",value:function(){function t(t){this._map=t}return t}()},{key:"getMap",value:function(){function t(){return this._map}return t}()}]),e}(u["default"]);i["default"]=l},{"./glyph":31}],31:[function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this._char=e["char"]||" ",this._fg=e.fg||"white",this._bg=e.bg||"black"}return n(t,[{key:"getChar",value:function(){function t(){return this._char}return t}()},{key:"getBackground",value:function(){function t(){return this._bg}return t}()},{key:"getForeground",value:function(){function t(){return this._fg}return t}()}]),t}();i["default"]=o},{}],32:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("rot-js"),o=r(n),a=t("./screen"),s=r(a),h={width:80,height:24,fontSize:15,forceSquareRatio:!0},c={Screen:s["default"],_display:null,_currentScreen:null,_screenWidth:h.width,_screenHeight:h.height,init:function(){function t(t){this._display=new o["default"].Display(Object.assign({},h,t));var e=this,i=function(){function t(t){window.addEventListener(t,function(i){null!==e._currentScreen&&e._currentScreen.handleInput(t,i,e)})}return t}();return["keydown","keyup","keypress"].forEach(i),this}return t}(),refresh:function(){function t(){this._display.clear(),this._currentScreen.render(this._display,this)}return t}(),getDisplay:function(){function t(){return this._display}return t}(),getScreenWidth:function(){function t(){return this._screenWidth}return t}(),getScreenHeight:function(){function t(){return this._screenHeight}return t}(),switchScreen:function(){function t(t){null!==this._currentScreen&&this._currentScreen.exit(),this.getDisplay().clear(),this._currentScreen=t,null!==!this._currentScreen&&(this._currentScreen.enter(),this.refresh())}return t}()};i["default"]=c},{"./screen":35,"rot-js":25}],33:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),a=t("rot-js"),s=r(a),h=t("./templates"),c=t("./entity"),u=r(c),l=t("./tile"),f=function(){function t(e,i){n(this,t),this._tiles=e,this._width=e.length,this._height=e[0].length,this._entities=[],this._scheduler=new s["default"].Scheduler.Simple,this._engine=new s["default"].Engine(this._scheduler),this.addEntityAtRandomPosition(i);for(var r=0;r<50;r++)this.addEntityAtRandomPosition(new u["default"](h.FungusTemplate))}return o(t,[{key:"getWidth",value:function(){function t(){return this._width}return t}()},{key:"getHeight",value:function(){function t(){return this._height}return t}()},{key:"getTile",value:function(){function t(t,e){var i=l.NullTile;return t<0||t>=this._width||e<0||e>=this.height||(i=this._tiles[t][e]||i),i}return t}()},{key:"dig",value:function(){function t(t,e){this.getTile(t,e).isDiggable()&&(this._tiles[t][e]=l.FloorTile)}return t}()},{key:"getRandomFloorPosition",value:function(){function t(){var t=void 0,e=void 0;do t=Math.floor(Math.random()*this._width),e=Math.floor(Math.random()*this._height);while(!this.isEmptyFloor(t,e));return{x:t,y:e}}return t}()},{key:"getEngine",value:function(){function t(){return this._engine}return t}()},{key:"getEntities",value:function(){function t(){return this._entities}return t}()},{key:"getEntityAt",value:function(){
function t(t,e){for(var i=0;i<this._entities.length;i++){var r=this._entities[i];if(r.getX()==t&&r.getY()==e)return r}return null}return t}()},{key:"addEntity",value:function(){function t(t){if(t.getX()<0||t.getX()>=this._width||t.getY()<0||t.getY()>=this._height)throw new Error("Adding entity out of bounds.");t.setMap(this),this._entities.push(t),t.hasMixin("Actor")&&this._scheduler.add(t,!0)}return t}()},{key:"addEntityAtRandomPosition",value:function(){function t(t){var e=this.getRandomFloorPosition();t.setX(e.x),t.setY(e.y),this.addEntity(t)}return t}()},{key:"removeEntity",value:function(){function t(t){for(var e=0;e<this._entities.length;e++)if(this._entities[e]==t){this._entities.splice(e,1);break}t.hasMixin("Actor")&&this._scheduler.remove(t)}return t}()},{key:"isEmptyFloor",value:function(){function t(t,e){return this.getTile(t,e)==l.FloorTile&&!this.getEntityAt(t,e)}return t}()}]),t}();i["default"]=f},{"./entity":30,"./templates":36,"./tile":37,"rot-js":25}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.Moveable={name:"Moveable",tryMove:function(){function t(t,e,i){var r=i.getTile(t,e),n=i.getEntityAt(t,e);if(n){if(this.hasMixin("Attacker"))return this.attack(n),!0}else{if(r.isWalkable())return this._x=t,this._y=e,!0;if(r.isDiggable()&&this.hasMixin("Digger"))return this.dig(t,e,i),!0}return!1}return t}()},i.PlayerActor={name:"PlayerActor",groupName:"Actor",act:function(){function t(){this.getMap().getEngine().lock()}return t}()},i.FungusActor={name:"FungusActor",groupName:"Actor",act:function(){function t(){}return t}()},i.Destructible={name:"Destructible",init:function(){function t(){this._hp=1}return t}(),takeDamage:function(){function t(t,e){this._hp-=e,this._hp<=0&&this.getMap().removeEntity(this)}return t}()},i.Digger={name:"SimpleDigger",groupName:"Digger",dig:function(){function t(t,e,i){i.dig(t,e)}return t}()},i.SimpleAttacker={name:"SimpleAttacker",groupName:"Attacker",attack:function(){function t(t){t.hasMixin("Destructible")&&t.takeDamage(this,1)}return t}()}},{}],35:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("rot-js"),o=r(n),a=t("./tile"),s=t("./map"),h=r(s),c=t("./entity"),u=r(c),l=t("./templates"),f={enter:function(){function t(){return console.log("Entered StartScreen")}return t}(),exit:function(){function t(){return console.log("Exited StartScreen")}return t}(),render:function(){function t(t){t.drawText(1,1,"%c{yellow}Javascript Roguelike"),t.drawText(1,2,"Press [Enter] to start!")}return t}(),handleInput:function(){function t(t,e,i){"keydown"===t&&e.keyCode===o["default"].VK_RETURN&&i.switchScreen(p)}return t}()},p={_map:null,_player:null,enter:function(){function t(){for(var t=150,e=150,i=new o["default"].Map.Cellular(t,e),r=3,n=[],s=0;s<t;s++){n.push([]);for(var c=0;c<e;c++)n[s].push(a.NullTile)}i.randomize(.5);for(var f=0;f<r-1;f++)i.create();i.create(function(t,e,i){1===i?n[t][e]=a.FloorTile:n[t][e]=a.WallTile}),this._player=new u["default"](l.PlayerTemplate),this._map=new h["default"](n,this._player),this._map.getEngine().start()}return t}(),move:function(){function t(t,e){var i=this._player.getX()+t,r=this._player.getY()+e;this._player.tryMove(i,r,this._map)}return t}(),render:function(){function t(t,e){for(var i=e.getScreenWidth(),r=e.getScreenHeight(),n=Math.min(Math.max(0,this._player.getX()-i/2),this._map.getWidth()-i),o=Math.min(Math.max(0,this._player.getY()-r/2),this._map.getHeight()-r),a=n;a<n+i;a++)for(var s=o;s<o+r;s++){var h=this._map.getTile(a,s);t.draw(a-n,s-o,h.getChar(),h.getForeground(),h.getBackground())}for(var c=this._map.getEntities(),u=0;u<c.length;u++){var l=c[u];l.getX()>=n&&l.getY()>=o&&l.getX()<n+i&&l.getY()<o+r&&t.draw(l.getX()-n,l.getY()-o,l.getChar(),l.getForeground(),l.getBackground())}}return t}(),handleInput:function(){function t(t,e,i){"keydown"===t&&(e.keyCode===o["default"].VK_RETURN?i.switchScreen(_):e.keyCode===o["default"].VK_ESCAPE?i.switchScreen(d):(e.keyCode===o["default"].VK_LEFT?this.move(-1,0):e.keyCode===o["default"].VK_RIGHT?this.move(1,0):e.keyCode===o["default"].VK_UP?this.move(0,-1):e.keyCode===o["default"].VK_DOWN&&this.move(0,1),this._map.getEngine().unlock(),i.refresh()))}return t}(),exit:function(){function t(){console.log("Exited PlayScreen")}return t}()},_={enter:function(){function t(){return console.log("Entered WinScreen")}return t}(),exit:function(){function t(){return console.log("Exited WinScreen")}return t}(),render:function(){function t(t){for(var e=0;e<22;e++){var i=Math.round(255*Math.random()),r=Math.round(255*Math.random()),n=Math.round(255*Math.random()),a=o["default"].Color.toRGB([i,r,n]);t.drawText(2,e+1,"%b{"+String(a)+"}You win!")}}return t}(),handleInput:function(){function t(t,e,i){}return t}()},d={enter:function(){function t(){return console.log("Entered LoseScreen")}return t}(),exit:function(){function t(){return console.log("Exited LoseScreen")}return t}(),render:function(){function t(t){for(var e=0;e<22;e++)t.drawText(2,e+1,"%b{red}You lose! :(")}return t}(),handleInput:function(){function t(t,e,i){}return t}()};i["default"]={StartScreen:f,PlayScreen:p,WinScreen:_,LoseScreen:d}},{"./entity":30,"./map":33,"./templates":36,"./tile":37,"rot-js":25}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FungusTemplate=i.PlayerTemplate=void 0;var r=t("./mixins");i.PlayerTemplate={"char":"@",fg:"white",bg:"black",mixins:[r.Moveable,r.PlayerActor,r.SimpleAttacker,r.Digger,r.Destructible]},i.FungusTemplate={"char":"F",fg:"green",mixins:[r.FungusActor,r.Destructible]}},{"./mixins":34}],37:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0}),i.WallTile=i.FloorTile=i.NullTile=void 0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),h=t("./glyph"),c=r(h),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._isWalkable=t.isWalkable||!1,i._isDiggable=t.isDiggable||!1,i}return a(e,t),s(e,[{key:"isWalkable",value:function(){function t(){return this._isWalkable}return t}()},{key:"isDiggable",value:function(){function t(){return this._isDiggable}return t}()}]),e}(c["default"]);i["default"]=u;i.NullTile=new u({}),i.FloorTile=new u({"char":".",isWalkable:!0}),i.WallTile=new u({"char":"#",fg:"goldenrod",isDiggable:!0})},{"./glyph":31}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={game:{messages:[]}};i["default"]=r},{}],39:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("../initialState"),o=r(n),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o["default"].game,e=arguments[1];switch(e.type){case"ADD_MESSAGE":return Object.assign({},t,{messages:t.messages.concat([e.message])});default:return t}};i["default"]=a},{"../initialState":38}],40:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("redux"),o=t("./game"),a=r(o),s=(0,n.combineReducers)({game:a["default"]});i["default"]=s},{"./game":39,redux:23}]},{},[29]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAuanMiLCJub2RlX21vZHVsZXMvZGVlcC1kaWZmL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gvX2ZyZWVHbG9iYWwuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19nZXRQcm90b3R5cGUuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19nZXRSYXdUYWcuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19vYmplY3RUb1N0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gvX292ZXJBcmcuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdExpa2UuanMiLCJub2RlX21vZHVsZXMvbG9kYXNoL2lzUGxhaW5PYmplY3QuanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4LWxvZ2dlci9saWIvY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC1sb2dnZXIvbGliL2RlZmF1bHRzLmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4LWxvZ2dlci9saWIvZGlmZi5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC1sb2dnZXIvbGliL2hlbHBlcnMuanMiLCJub2RlX21vZHVsZXMvcmVkdXgtbG9nZ2VyL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC9saWIvYXBwbHlNaWRkbGV3YXJlLmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4L2xpYi9iaW5kQWN0aW9uQ3JlYXRvcnMuanMiLCJub2RlX21vZHVsZXMvcmVkdXgvbGliL2NvbWJpbmVSZWR1Y2Vycy5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC9saWIvY29tcG9zZS5qcyIsIm5vZGVfbW9kdWxlcy9yZWR1eC9saWIvY3JlYXRlU3RvcmUuanMiLCJub2RlX21vZHVsZXMvcmVkdXgvbGliL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3JlZHV4L2xpYi91dGlscy93YXJuaW5nLmpzIiwibm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcm90LmpzIiwibm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9saWIvcG9ueWZpbGwuanMiLCJzcmMvZXM2L2FwcC5qcyIsInNyYy9lczYvZ2FtZS9lbnRpdHkuanMiLCJzcmMvZXM2L2dhbWUvZ2x5cGguanMiLCJzcmMvZXM2L2dhbWUvaW5kZXguanMiLCJzcmMvZXM2L2dhbWUvbWFwLmpzIiwic3JjL2VzNi9nYW1lL21peGlucy5qcyIsInNyYy9lczYvZ2FtZS9zY3JlZW4uanMiLCJzcmMvZXM2L2dhbWUvdGVtcGxhdGVzLmpzIiwic3JjL2VzNi9nYW1lL3RpbGUuanMiLCJzcmMvZXM2L2luaXRpYWxTdGF0ZS5qcyIsInNyYy9lczYvcmVkdWNlcnMvZ2FtZS5qcyIsInNyYy9lczYvcmVkdWNlcnMvaW5kZXguanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiZ2xvYmFsIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJEZWVwRGlmZiIsInRoaXMiLCJ1bmRlZmluZWQiLCJpbmhlcml0cyIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwiRGlmZiIsImtpbmQiLCJwYXRoIiwiZGVmaW5lUHJvcGVydHkiLCJEaWZmRWRpdCIsIm9yaWdpbiIsIkRpZmZOZXciLCJEaWZmRGVsZXRlZCIsIkRpZmZBcnJheSIsImluZGV4IiwiaXRlbSIsImFycmF5UmVtb3ZlIiwiYXJyIiwiZnJvbSIsInRvIiwicmVzdCIsInNsaWNlIiwicHVzaCIsImFwcGx5IiwicmVhbFR5cGVPZiIsInN1YmplY3QiLCJ0eXBlIiwiTWF0aCIsIkFycmF5IiwiaXNBcnJheSIsInRvU3RyaW5nIiwidGVzdCIsImRlZXBEaWZmIiwibGhzIiwicmhzIiwiY2hhbmdlcyIsInByZWZpbHRlciIsImtleSIsInN0YWNrIiwiY3VycmVudFBhdGgiLCJub3JtYWxpemUiLCJhbHQiLCJsdHlwZSIsInJ0eXBlIiwiaW5kZXhPZiIsImFrZXlzIiwia2V5cyIsInBrZXlzIiwiZm9yRWFjaCIsImsiLCJvdGhlciIsImlzTmFOIiwiYWNjdW11bGF0ZURpZmYiLCJhY2N1bSIsImRpZmYiLCJhcHBseUFycmF5Q2hhbmdlIiwiY2hhbmdlIiwiaXQiLCJhcHBseUNoYW5nZSIsInRhcmdldCIsInNvdXJjZSIsImxhc3QiLCJyZXZlcnRBcnJheUNoYW5nZSIsInJldmVydENoYW5nZSIsImFwcGx5RGlmZiIsImZpbHRlciIsIm9uQ2hhbmdlIiwiJHNjb3BlIiwiY29uZmxpY3QiLCJjb25mbGljdFJlc29sdXRpb24iLCJ3aW5kb3ciLCJkZWZpbmVQcm9wZXJ0aWVzIiwib2JzZXJ2YWJsZURpZmYiLCJpc0NvbmZsaWN0Iiwibm9Db25mbGljdCIsInNlbGYiLCIyIiwiU3ltYm9sIiwiLi9fcm9vdCIsIjMiLCJiYXNlR2V0VGFnIiwidW5kZWZpbmVkVGFnIiwibnVsbFRhZyIsInN5bVRvU3RyaW5nVGFnIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJ0b1N0cmluZ1RhZyIsIi4vX1N5bWJvbCIsIi4vX2dldFJhd1RhZyIsIi4vX29iamVjdFRvU3RyaW5nIiwiNCIsImZyZWVHbG9iYWwiLCI1Iiwib3ZlckFyZyIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwiLi9fb3ZlckFyZyIsIjYiLCJpc093biIsImhhc093blByb3BlcnR5IiwidGFnIiwidW5tYXNrZWQiLCJyZXN1bHQiLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdFByb3RvIiwiNyIsIjgiLCJmdW5jIiwidHJhbnNmb3JtIiwiYXJnIiwiOSIsImZyZWVTZWxmIiwiRnVuY3Rpb24iLCIuL19mcmVlR2xvYmFsIiwiMTAiLCJpc09iamVjdExpa2UiLCIxMSIsImlzUGxhaW5PYmplY3QiLCJvYmplY3RUYWciLCJwcm90byIsIkN0b3IiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwiZnVuY1Byb3RvIiwiLi9fYmFzZUdldFRhZyIsIi4vX2dldFByb3RvdHlwZSIsIi4vaXNPYmplY3RMaWtlIiwiMTIiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjYWNoZWRTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsInJ1bkNsZWFyVGltZW91dCIsIm1hcmtlciIsImNhY2hlZENsZWFyVGltZW91dCIsImNsZWFyVGltZW91dCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJjb25jYXQiLCJxdWV1ZUluZGV4IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJJdGVtIiwiYXJyYXkiLCJub29wIiwicHJvY2VzcyIsIm5leHRUaWNrIiwiYXJncyIsImFyZ3VtZW50cyIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsImJpbmRpbmciLCJuYW1lIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIjEzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyMiIsIl90eXBlb2YiLCJnZXRMb2dMZXZlbCIsImxldmVsIiwiYWN0aW9uIiwicGF5bG9hZCIsImRlZmF1bHRUaXRsZUZvcm1hdHRlciIsIm9wdGlvbnMiLCJ0aW1lc3RhbXAiLCJkdXJhdGlvbiIsInRpbWUiLCJ0b29rIiwicGFydHMiLCJ0b0ZpeGVkIiwiam9pbiIsInByaW50QnVmZmVyIiwiYnVmZmVyIiwibG9nZ2VyIiwiYWN0aW9uVHJhbnNmb3JtZXIiLCJfb3B0aW9ucyR0aXRsZUZvcm1hdHQiLCJ0aXRsZUZvcm1hdHRlciIsImNvbGxhcHNlZCIsImNvbG9ycyIsImxvZ0VudHJ5Iiwic3RhcnRlZCIsInN0YXJ0ZWRUaW1lIiwicHJldlN0YXRlIiwiZXJyb3IiLCJuZXh0U3RhdGUiLCJuZXh0RW50cnkiLCJmb3JtYXR0ZWRBY3Rpb24iLCJpc0NvbGxhcHNlZCIsImZvcm1hdHRlZFRpbWUiLCJfaGVscGVycyIsImZvcm1hdFRpbWUiLCJ0aXRsZUNTUyIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXAiLCJsb2ciLCJwcmV2U3RhdGVMZXZlbCIsImFjdGlvbkxldmVsIiwiZXJyb3JMZXZlbCIsIm5leHRTdGF0ZUxldmVsIiwiX2RpZmYyIiwiZ3JvdXBFbmQiLCJfZGlmZiIsIi4vZGlmZiIsIi4vaGVscGVycyIsIjE0IiwiY29uc29sZSIsImxvZ0Vycm9ycyIsInByZWRpY2F0ZSIsInN0YXRlVHJhbnNmb3JtZXIiLCJzdGF0ZSIsImVycm9yVHJhbnNmb3JtZXIiLCJkaWZmUHJlZGljYXRlIiwidHJhbnNmb3JtZXIiLCIxNSIsInN0eWxlIiwiZGljdGlvbmFyeSIsImNvbG9yIiwicmVuZGVyIiwiZGlmZkxvZ2dlciIsIm5ld1N0YXRlIiwiX2RlZXBEaWZmMiIsImVsZW0iLCJvdXRwdXQiLCJ0ZXh0IiwiX2RlZXBEaWZmIiwiRSIsIk4iLCJEIiwiQSIsImRlZXAtZGlmZiIsIjE2IiwicmVwZWF0Iiwic3RyIiwidGltZXMiLCJwYWQiLCJudW0iLCJtYXhMZW5ndGgiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwidGltZXIiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIkRhdGUiLCIxNyIsImNyZWF0ZUxvZ2dlciIsImxvZ2dlck9wdGlvbnMiLCJfZXh0ZW5kcyIsIl9kZWZhdWx0czIiLCJuZXh0IiwibG9nQnVmZmVyIiwiX3JlZiIsImdldFN0YXRlIiwicmV0dXJuZWRWYWx1ZSIsIl9jb3JlIiwiYXNzaWduIiwiX2RlZmF1bHRzIiwiLi9jb3JlIiwiLi9kZWZhdWx0cyIsIjE4IiwiYXBwbHlNaWRkbGV3YXJlIiwiX2xlbiIsIm1pZGRsZXdhcmVzIiwiX2tleSIsImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwiZW5oYW5jZXIiLCJzdG9yZSIsIl9kaXNwYXRjaCIsImRpc3BhdGNoIiwiY2hhaW4iLCJtaWRkbGV3YXJlQVBJIiwibWFwIiwibWlkZGxld2FyZSIsIl9jb21wb3NlMiIsIl9jb21wb3NlIiwiLi9jb21wb3NlIiwiMTkiLCJiaW5kQWN0aW9uQ3JlYXRvciIsImFjdGlvbkNyZWF0b3IiLCJiaW5kQWN0aW9uQ3JlYXRvcnMiLCJhY3Rpb25DcmVhdG9ycyIsImJvdW5kQWN0aW9uQ3JlYXRvcnMiLCIyMCIsImdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlIiwiYWN0aW9uVHlwZSIsImFjdGlvbk5hbWUiLCJnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlIiwiaW5wdXRTdGF0ZSIsInJlZHVjZXJzIiwidW5leHBlY3RlZEtleUNhY2hlIiwicmVkdWNlcktleXMiLCJhcmd1bWVudE5hbWUiLCJfY3JlYXRlU3RvcmUiLCJBY3Rpb25UeXBlcyIsIklOSVQiLCJfaXNQbGFpbk9iamVjdDIiLCJtYXRjaCIsInVuZXhwZWN0ZWRLZXlzIiwiYXNzZXJ0UmVkdWNlclNhbml0eSIsImluaXRpYWxTdGF0ZSIsInJhbmRvbSIsInN1YnN0cmluZyIsInNwbGl0IiwiY29tYmluZVJlZHVjZXJzIiwiZmluYWxSZWR1Y2VycyIsIk5PREVfRU5WIiwiX3dhcm5pbmcyIiwiZmluYWxSZWR1Y2VyS2V5cyIsInNhbml0eUVycm9yIiwid2FybmluZ01lc3NhZ2UiLCJoYXNDaGFuZ2VkIiwicHJldmlvdXNTdGF0ZUZvcktleSIsIm5leHRTdGF0ZUZvcktleSIsImVycm9yTWVzc2FnZSIsIl9pc1BsYWluT2JqZWN0IiwiX3dhcm5pbmciLCIuL2NyZWF0ZVN0b3JlIiwiLi91dGlscy93YXJuaW5nIiwiX3Byb2Nlc3MiLCJsb2Rhc2gvaXNQbGFpbk9iamVjdCIsIjIxIiwiY29tcG9zZSIsImZ1bmNzIiwicmVkdWNlUmlnaHQiLCJjb21wb3NlZCIsIjIyIiwiZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycyIsIm5leHRMaXN0ZW5lcnMiLCJjdXJyZW50TGlzdGVuZXJzIiwiY3VycmVudFN0YXRlIiwic3Vic2NyaWJlIiwibGlzdGVuZXIiLCJpc1N1YnNjcmliZWQiLCJzcGxpY2UiLCJpc0Rpc3BhdGNoaW5nIiwiY3VycmVudFJlZHVjZXIiLCJsaXN0ZW5lcnMiLCJyZXBsYWNlUmVkdWNlciIsIm5leHRSZWR1Y2VyIiwib2JzZXJ2YWJsZSIsIm91dGVyU3Vic2NyaWJlIiwib2JzZXJ2ZXIiLCJvYnNlcnZlU3RhdGUiLCJUeXBlRXJyb3IiLCJ1bnN1YnNjcmliZSIsIl9zeW1ib2xPYnNlcnZhYmxlMiIsIl9yZWYyIiwiX3N5bWJvbE9ic2VydmFibGUiLCJzeW1ib2wtb2JzZXJ2YWJsZSIsIjIzIiwiaXNDcnVzaGVkIiwiX2NyZWF0ZVN0b3JlMiIsIl9jb21iaW5lUmVkdWNlcnMiLCJfY29tYmluZVJlZHVjZXJzMiIsIl9iaW5kQWN0aW9uQ3JlYXRvcnMiLCJfYmluZEFjdGlvbkNyZWF0b3JzMiIsIl9hcHBseU1pZGRsZXdhcmUiLCJfYXBwbHlNaWRkbGV3YXJlMiIsIi4vYXBwbHlNaWRkbGV3YXJlIiwiLi9iaW5kQWN0aW9uQ3JlYXRvcnMiLCIuL2NvbWJpbmVSZWR1Y2VycyIsIjI0Iiwid2FybmluZyIsIm1lc3NhZ2UiLCIyNSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNiIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjaGlsZCIsInNjcm9sbExlZnQiLCJzY3JvbGxUb3AiLCJjcmVhdGVFbGVtZW50IiwiY2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdCIsImxlZnQiLCJ0b3AiLCJnZXRDb250ZXh0IiwiY29udGV4dCIsIl90ZXJtY29sb3IiLCJiZWdpblBhdGgiLCJjbGVhclJlY3QiLCJ4IiwieSIsInciLCJoIiwiY2xlYXJDbWQiLCJjbGVhclRvQW5zaSIsImZpbGxTdHlsZSIsInN0ZG91dCIsIndyaXRlIiwiZHJhd0ltYWdlIiwiYiIsImMiLCJkIiwiZyIsImZpbGwiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiY2hzIiwiZm9udCIsImxpbmVUbyIsIm1lYXN1cmVUZXh0IiwiY2giLCJ3aWR0aCIsIm1vdmVUbyIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImhlaWdodCIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImRvY3VtZW50RWxlbWVudCIsIlJPVCIsImlzU3VwcG9ydGVkIiwiYmluZCIsIkRFRkFVTFRfV0lEVEgiLCJERUZBVUxUX0hFSUdIVCIsIkRJUlMiLCJWS19DQU5DRUwiLCJWS19IRUxQIiwiVktfQkFDS19TUEFDRSIsIlZLX1RBQiIsIlZLX0NMRUFSIiwiVktfUkVUVVJOIiwiVktfRU5URVIiLCJWS19TSElGVCIsIlZLX0NPTlRST0wiLCJWS19BTFQiLCJWS19QQVVTRSIsIlZLX0NBUFNfTE9DSyIsIlZLX0VTQ0FQRSIsIlZLX1NQQUNFIiwiVktfUEFHRV9VUCIsIlZLX1BBR0VfRE9XTiIsIlZLX0VORCIsIlZLX0hPTUUiLCJWS19MRUZUIiwiVktfVVAiLCJWS19SSUdIVCIsIlZLX0RPV04iLCJWS19QUklOVFNDUkVFTiIsIlZLX0lOU0VSVCIsIlZLX0RFTEVURSIsIlZLXzAiLCJWS18xIiwiVktfMiIsIlZLXzMiLCJWS180IiwiVktfNSIsIlZLXzYiLCJWS183IiwiVktfOCIsIlZLXzkiLCJWS19DT0xPTiIsIlZLX1NFTUlDT0xPTiIsIlZLX0xFU1NfVEhBTiIsIlZLX0VRVUFMUyIsIlZLX0dSRUFURVJfVEhBTiIsIlZLX1FVRVNUSU9OX01BUksiLCJWS19BVCIsIlZLX0EiLCJWS19CIiwiVktfQyIsIlZLX0QiLCJWS19FIiwiVktfRiIsIlZLX0ciLCJWS19IIiwiVktfSSIsIlZLX0oiLCJWS19LIiwiVktfTCIsIlZLX00iLCJWS19OIiwiVktfTyIsIlZLX1AiLCJWS19RIiwiVktfUiIsIlZLX1MiLCJWS19UIiwiVktfVSIsIlZLX1YiLCJWS19XIiwiVktfWCIsIlZLX1kiLCJWS19aIiwiVktfQ09OVEVYVF9NRU5VIiwiVktfTlVNUEFEMCIsIlZLX05VTVBBRDEiLCJWS19OVU1QQUQyIiwiVktfTlVNUEFEMyIsIlZLX05VTVBBRDQiLCJWS19OVU1QQUQ1IiwiVktfTlVNUEFENiIsIlZLX05VTVBBRDciLCJWS19OVU1QQUQ4IiwiVktfTlVNUEFEOSIsIlZLX01VTFRJUExZIiwiVktfQUREIiwiVktfU0VQQVJBVE9SIiwiVktfU1VCVFJBQ1QiLCJWS19ERUNJTUFMIiwiVktfRElWSURFIiwiVktfRjEiLCJWS19GMiIsIlZLX0YzIiwiVktfRjQiLCJWS19GNSIsIlZLX0Y2IiwiVktfRjciLCJWS19GOCIsIlZLX0Y5IiwiVktfRjEwIiwiVktfRjExIiwiVktfRjEyIiwiVktfRjEzIiwiVktfRjE0IiwiVktfRjE1IiwiVktfRjE2IiwiVktfRjE3IiwiVktfRjE4IiwiVktfRjE5IiwiVktfRjIwIiwiVktfRjIxIiwiVktfRjIyIiwiVktfRjIzIiwiVktfRjI0IiwiVktfTlVNX0xPQ0siLCJWS19TQ1JPTExfTE9DSyIsIlZLX0NJUkNVTUZMRVgiLCJWS19FWENMQU1BVElPTiIsIlZLX0RPVUJMRV9RVU9URSIsIlZLX0hBU0giLCJWS19ET0xMQVIiLCJWS19QRVJDRU5UIiwiVktfQU1QRVJTQU5EIiwiVktfVU5ERVJTQ09SRSIsIlZLX09QRU5fUEFSRU4iLCJWS19DTE9TRV9QQVJFTiIsIlZLX0FTVEVSSVNLIiwiVktfUExVUyIsIlZLX1BJUEUiLCJWS19IWVBIRU5fTUlOVVMiLCJWS19PUEVOX0NVUkxZX0JSQUNLRVQiLCJWS19DTE9TRV9DVVJMWV9CUkFDS0VUIiwiVktfVElMREUiLCJWS19DT01NQSIsIlZLX1BFUklPRCIsIlZLX1NMQVNIIiwiVktfQkFDS19RVU9URSIsIlZLX09QRU5fQlJBQ0tFVCIsIlZLX0JBQ0tfU0xBU0giLCJWS19DTE9TRV9CUkFDS0VUIiwiVktfUVVPVEUiLCJWS19NRVRBIiwiVktfQUxUR1IiLCJWS19XSU4iLCJWS19LQU5BIiwiVktfSEFOR1VMIiwiVktfRUlTVSIsIlZLX0pVTkpBIiwiVktfRklOQUwiLCJWS19IQU5KQSIsIlZLX0tBTkpJIiwiVktfQ09OVkVSVCIsIlZLX05PTkNPTlZFUlQiLCJWS19BQ0NFUFQiLCJWS19NT0RFQ0hBTkdFIiwiVktfU0VMRUNUIiwiVktfUFJJTlQiLCJWS19FWEVDVVRFIiwiVktfU0xFRVAiLCJUZXh0IiwiUkVfQ09MT1JTIiwiVFlQRV9URVhUIiwiVFlQRV9ORVdMSU5FIiwiVFlQRV9GRyIsIlRZUEVfQkciLCJtZWFzdXJlIiwibWF4V2lkdGgiLCJ0b2tlbnMiLCJ0b2tlbml6ZSIsImxpbmVXaWR0aCIsInRva2VuIiwibWF4Iiwib2Zmc2V0IiwicmVwbGFjZSIsInBhcnQiLCJ0cmltIiwiX2JyZWFrTGluZXMiLCJJbmZpbml0eSIsImxpbmVMZW5ndGgiLCJsYXN0VG9rZW5XaXRoU3BhY2UiLCJjaGFyQXQiLCJfYnJlYWtJbnNpZGVUb2tlbiIsInBvcCIsIm5leHRJbmRleCIsImJyZWFrSW5kZXgiLCJsYXN0SW5kZXhPZiIsImxhc3RUZXh0VG9rZW4iLCJ0b2tlbkluZGV4IiwicmVtb3ZlQnJlYWtDaGFyIiwibmV3QnJlYWtUb2tlbiIsIm5ld1RleHRUb2tlbiIsImZsb29yIiwiUk5HIiwiZ2V0VW5pZm9ybSIsInJhbmRvbWl6ZSIsIk51bWJlciIsIm1vZCIsIlN0cmluZyIsImNhcGl0YWxpemUiLCJ0b1VwcGVyQ2FzZSIsImxwYWQiLCJjaGFyYWN0ZXIiLCJjb3VudCIsImNudCIsInJwYWQiLCJmb3JtYXQiLCJ0ZW1wbGF0ZSIsInJlcGxhY2VyIiwiZ3JvdXAxIiwiZ3JvdXAyIiwic2hpZnQiLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2VkIiwiZmlyc3QiLCJ1bnNoaWZ0IiwidG1wIiwiZXh0ZW5kIiwicGFyZW50IiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtb3pDYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwib0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwibXNDYW5jZWxBbmltYXRpb25GcmFtZSIsImlkIiwiRGlzcGxheSIsIl9jb250ZXh0IiwiX2RhdGEiLCJfZGlydHkiLCJfb3B0aW9ucyIsIl9iYWNrZW5kIiwiZGVmYXVsdE9wdGlvbnMiLCJ0cmFuc3Bvc2UiLCJsYXlvdXQiLCJmb250U2l6ZSIsInNwYWNpbmciLCJib3JkZXIiLCJmb3JjZVNxdWFyZVJhdGlvIiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsImZnIiwiYmciLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwidGlsZU1hcCIsInRpbGVTZXQiLCJ0aWxlQ29sb3JpemUiLCJ0ZXJtQ29sb3IiLCJwIiwic2V0T3B0aW9ucyIsIkRFQlVHIiwiX3RpY2siLCJ3aGF0IiwiZHJhdyIsImNsZWFyIiwiY29tcHV0ZSIsImdldE9wdGlvbnMiLCJnZXRDb250YWluZXIiLCJjb21wdXRlU2l6ZSIsImF2YWlsV2lkdGgiLCJhdmFpbEhlaWdodCIsImNvbXB1dGVGb250U2l6ZSIsImV2ZW50VG9Qb3NpdGlvbiIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImRyYXdUZXh0IiwiY3giLCJjeSIsImxpbmVzIiwiaXNTcGFjZSIsImlzUHJldlNwYWNlIiwiaXNGdWxsV2lkdGgiLCJpc1ByZXZGdWxsV2lkdGgiLCJjYyIsImNoYXJDb2RlQXQiLCJfZHJhdyIsImNsZWFyQmVmb3JlIiwiZGF0YSIsIkJhY2tlbmQiLCJSZWN0IiwiX3NwYWNpbmdYIiwiX3NwYWNpbmdZIiwiX2NhbnZhc0NhY2hlIiwiY2FjaGUiLCJjaGFyV2lkdGgiLCJjZWlsIiwiX2RyYXdXaXRoQ2FjaGUiLCJfZHJhd05vQ2FjaGUiLCJoYXNoIiwiY3R4IiwiY2hhcnMiLCJib3hXaWR0aCIsImJveEhlaWdodCIsIm9sZEZvbnQiLCJyYXRpbyIsIndpZHRoRnJhY3Rpb24iLCJIZXgiLCJfaGV4U2l6ZSIsInNxcnQiLCJ4cHJvcCIsInlwcm9wIiwicHgiLCJyZXZlcnNlIiwiX2ZpbGwiLCJoZXhTaXplV2lkdGgiLCJoZXhTaXplSGVpZ2h0IiwiaGV4U2l6ZSIsIm1pbiIsInByb3AiLCJzaXplIiwiVGlsZSIsIl9jb2xvckNhbnZhcyIsInRpbGUiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJnZXRTZWVkIiwiX3NlZWQiLCJzZXRTZWVkIiwic2VlZCIsIl9zMCIsIl9mcmFjIiwiX3MxIiwiX3MyIiwiX2MiLCJnZXRVbmlmb3JtSW50IiwibG93ZXJCb3VuZCIsInVwcGVyQm91bmQiLCJnZXROb3JtYWwiLCJtZWFuIiwic3RkZGV2IiwidiIsImdhdXNzIiwiZ2V0UGVyY2VudGFnZSIsImdldFdlaWdodGVkVmFsdWUiLCJ0b3RhbCIsInNldFN0YXRlIiwiY2xvbmUiLCJTdHJpbmdHZW5lcmF0b3IiLCJ3b3JkcyIsIm9yZGVyIiwicHJpb3IiLCJfYm91bmRhcnkiLCJmcm9tQ2hhckNvZGUiLCJfc3VmZml4IiwiX3ByZWZpeCIsIl9wcmlvclZhbHVlcyIsImdlbmVyYXRlIiwiX3NhbXBsZSIsIl9qb2luIiwib2JzZXJ2ZSIsInN0cmluZyIsIl9zcGxpdCIsImV2ZW50IiwiaiIsInN1YmNvbnRleHQiLCJfb2JzZXJ2ZUV2ZW50IiwiZ2V0U3RhdHMiLCJwcmlvckNvdW50IiwiZGF0YUNvdW50IiwiZXZlbnRDb3VudCIsIl9iYWNrb2ZmIiwiYXZhaWxhYmxlIiwiRXZlbnRRdWV1ZSIsIl90aW1lIiwiX2V2ZW50cyIsIl9ldmVudFRpbWVzIiwiZ2V0VGltZSIsImFkZCIsImdldCIsInJlbW92ZSIsIl9yZW1vdmUiLCJTY2hlZHVsZXIiLCJfcXVldWUiLCJfcmVwZWF0IiwiX2N1cnJlbnQiLCJTaW1wbGUiLCJTcGVlZCIsImdldFNwZWVkIiwiQWN0aW9uIiwiX2RlZmF1bHREdXJhdGlvbiIsIl9kdXJhdGlvbiIsInNldER1cmF0aW9uIiwiRW5naW5lIiwic2NoZWR1bGVyIiwiX3NjaGVkdWxlciIsIl9sb2NrIiwic3RhcnQiLCJ1bmxvY2siLCJsb2NrIiwiYWN0b3IiLCJhY3QiLCJ0aGVuIiwiTWFwIiwiX3dpZHRoIiwiX2hlaWdodCIsImNhbGxiYWNrIiwiX2ZpbGxNYXAiLCJBcmVuYSIsImVtcHR5IiwiRGl2aWRlZE1hemUiLCJfc3RhY2siLCJfbWFwIiwicm9vbSIsIl9wYXJ0aXRpb25Sb29tIiwiYXZhaWxYIiwiYXZhaWxZIiwiYm90dG9tIiwicmlnaHQiLCJ3YWxscyIsInNvbGlkIiwiaG9sZSIsIkljZXlNYXplIiwicmVndWxhcml0eSIsIl9yZWd1bGFyaXR5IiwibngiLCJueSIsImRvbmUiLCJibG9ja2VkIiwiZGlycyIsIl9yYW5kb21pemUiLCJfaXNGcmVlIiwiRWxsZXJNYXplIiwicmFuZCIsIkwiLCJSIiwiX2FkZFRvTGlzdCIsIl9yZW1vdmVGcm9tTGlzdCIsIkNlbGx1bGFyIiwiYm9ybiIsInN1cnZpdmUiLCJ0b3BvbG9neSIsImNvbm5lY3RlZCIsIl9kaXJzIiwicHJvYmFiaWxpdHkiLCJzZXQiLCJuZXdNYXAiLCJ3aWR0aFN0ZXAiLCJ3aWR0aFN0YXJ0IiwiY3VyIiwibmNvdW50IiwiX2dldE5laWdoYm9ycyIsIl9jb21wbGV0ZU1hemUiLCJhbGxGcmVlU3BhY2UiLCJub3RDb25uZWN0ZWQiLCJfZnJlZVNwYWNlIiwiX3BvaW50S2V5IiwiX2ZpbmRDb25uZWN0ZWQiLCJfZ2V0RnJvbVRvIiwibG9jYWwiLCJfdHVubmVsVG9Db25uZWN0ZWQiLCJwcCIsImNvbm5lY3RlZEtleXMiLCJub3RDb25uZWN0ZWRLZXlzIiwiX2dldENsb3Nlc3QiLCJwb2ludCIsInNwYWNlIiwibWluUG9pbnQiLCJtaW5EaXN0Iiwia2VlcE5vdENvbm5lY3RlZCIsInRlc3RzIiwieHgiLCJwa2V5IiwieXkiLCJEdW5nZW9uIiwiX3Jvb21zIiwiX2NvcnJpZG9ycyIsImdldFJvb21zIiwiZ2V0Q29ycmlkb3JzIiwiRGlnZ2VyIiwicm9vbVdpZHRoIiwicm9vbUhlaWdodCIsImNvcnJpZG9yTGVuZ3RoIiwiZHVnUGVyY2VudGFnZSIsInRpbWVMaW1pdCIsIl9mZWF0dXJlcyIsIlJvb20iLCJDb3JyaWRvciIsIl9mZWF0dXJlQXR0ZW1wdHMiLCJfd2FsbHMiLCJfZGlnQ2FsbGJhY2siLCJfY2FuQmVEdWdDYWxsYmFjayIsIl9pc1dhbGxDYWxsYmFjayIsIl9wcmlvcml0eVdhbGxDYWxsYmFjayIsIl9kdWciLCJhcmVhIiwiX2ZpcnN0Um9vbSIsInQxIiwidDIiLCJ3YWxsIiwiX2ZpbmRXYWxsIiwicGFyc2VJbnQiLCJfZ2V0RGlnZ2luZ0RpcmVjdGlvbiIsImZlYXR1cmVBdHRlbXB0cyIsIl90cnlGZWF0dXJlIiwiX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMiLCJwcmlvcml0eVdhbGxzIiwiX2FkZERvb3JzIiwiRmVhdHVyZSIsImNyZWF0ZVJhbmRvbUNlbnRlciIsInByaW8xIiwicHJpbzIiLCJwcmlvIiwiZHgiLCJkeSIsImZlYXR1cmUiLCJjcmVhdGVSYW5kb21BdCIsImlzVmFsaWQiLCJjcmVhdGVQcmlvcml0eVdhbGxzIiwiZGVsdGFzIiwiZGVsdGEiLCJpc1dhbGxDYWxsYmFjayIsImNsZWFyRG9vcnMiLCJhZGREb29ycyIsIlVuaWZvcm0iLCJyb29tRHVnUGVyY2VudGFnZSIsIl9yb29tQXR0ZW1wdHMiLCJfY29ycmlkb3JBdHRlbXB0cyIsIl9jb25uZWN0ZWQiLCJfdW5jb25uZWN0ZWQiLCJfZ2VuZXJhdGVSb29tcyIsIl9nZW5lcmF0ZUNvcnJpZG9ycyIsIl9nZW5lcmF0ZVJvb20iLCJjcmVhdGVSYW5kb20iLCJyb29tMSIsIl9jbG9zZXN0Um9vbSIsInJvb20yIiwib2siLCJfY29ubmVjdFJvb21zIiwicm9vbXMiLCJkaXN0IiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwiY2VudGVyMSIsImNlbnRlcjIiLCJkaWZmWCIsImRpZmZZIiwiYWJzIiwiZGlySW5kZXgxIiwiZGlySW5kZXgyIiwiZ2V0TGVmdCIsImdldFJpZ2h0IiwiZ2V0VG9wIiwiZ2V0Qm90dG9tIiwiX3BsYWNlSW5XYWxsIiwiZW5kIiwiX2RpZ0xpbmUiLCJyb3RhdGlvbiIsIm1pZCIsImluZGV4MiIsInJvdW5kIiwibWlkMSIsIm1pZDIiLCJhZGREb29yIiwiZGlySW5kZXgiLCJhdmFpbCIsImxhc3RCYWRJbmRleCIsImlzV2FsbCIsInBvaW50cyIsImNvcnJpZG9yIiwiUm9ndWUiLCJjZWxsV2lkdGgiLCJjZWxsSGVpZ2h0IiwiX2NhbGN1bGF0ZVJvb21TaXplIiwiY29ubmVjdGVkQ2VsbHMiLCJfaW5pdFJvb21zIiwiX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zIiwiX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyIsIl9jcmVhdGVSb29tcyIsIl9jcmVhdGVDb3JyaWRvcnMiLCJjZWxsIiwiY29ubmVjdGlvbnMiLCJjZWxseCIsImNlbGx5IiwiaWR4IiwibmNneCIsIm5jZ3kiLCJvdGhlclJvb20iLCJjZ3giLCJjZ3kiLCJmb3VuZCIsImRpclRvQ2hlY2siLCJjdyIsInZhbGlkUm9vbSIsImRpcmVjdGlvbnMiLCJkaXJJZHgiLCJuZXdJIiwibmV3SiIsInJvb213Iiwicm9vbWgiLCJzeCIsInN5IiwiY3dwIiwiY2hwIiwic3hPZmZzZXQiLCJzeU9mZnNldCIsImlpIiwiamoiLCJfZ2V0V2FsbFBvc2l0aW9uIiwiYVJvb20iLCJhRGlyZWN0aW9uIiwicngiLCJyeSIsImRvb3IiLCJfZHJhd0NvcnJpZG9yZSIsInN0YXJ0UG9zaXRpb24iLCJlbmRQb3NpdGlvbiIsInRlbXBEaXN0IiwieERpciIsInlEaXIiLCJtb3ZlIiwieE9mZnNldCIsInlPZmZzZXQiLCJ4cG9zIiwieXBvcyIsIm1vdmVzIiwieEFicyIsInlBYnMiLCJwZXJjZW50IiwiZmlyc3RIYWxmIiwic2Vjb25kSGFsZiIsImNvbm5lY3Rpb24iLCJvdGhlcldhbGwiLCJjYW5CZUR1Z0NhbGxiYWNrIiwiZGlnQ2FsbGJhY2siLCJkZWJ1ZyIsIngxIiwieTEiLCJ4MiIsInkyIiwiZG9vclgiLCJkb29yWSIsIl94MSIsIl95MSIsIl94MiIsIl95MiIsIl9kb29ycyIsImdldERvb3JzIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJfc3RhcnRYIiwiX3N0YXJ0WSIsIl9lbmRYIiwiX2VuZFkiLCJfZW5kc1dpdGhBV2FsbCIsImZpcnN0Q29ybmVyQmFkIiwic2Vjb25kQ29ybmVyQmFkIiwicHJpb3JpdHlXYWxsQ2FsbGJhY2siLCJOb2lzZSIsIlNpbXBsZXgiLCJncmFkaWVudHMiLCJfRjIiLCJfRzIiLCJfZ3JhZGllbnRzIiwicGVybXV0YXRpb25zIiwiX3Blcm1zIiwiX2luZGV4ZXMiLCJ4aW4iLCJ5aW4iLCJnaSIsImkxIiwiajEiLCJwZXJtcyIsImluZGV4ZXMiLCJHMiIsIm4wIiwibjEiLCJuMiIsIlgwIiwiWTAiLCJ4MCIsInkwIiwidDAiLCJncmFkIiwiRk9WIiwibGlnaHRQYXNzZXNDYWxsYmFjayIsIl9saWdodFBhc3NlcyIsIl9nZXRDaXJjbGUiLCJjb3VudEZhY3RvciIsInN0YXJ0T2Zmc2V0IiwiRGlzY3JldGVTaGFkb3djYXN0aW5nIiwiX2Nvb3JkcyIsIkIiLCJibG9ja3MiLCJEQVRBIiwibmVpZ2hib3JzIiwiYW5nbGUiLCJfdmlzaWJsZUNvb3JkcyIsInYxIiwiY2FsbGVlIiwidjIiLCJQcmVjaXNlU2hhZG93Y2FzdGluZyIsIkExIiwiQTIiLCJTSEFET1dTIiwibmVpZ2hib3JDb3VudCIsIl9jaGVja1Zpc2liaWxpdHkiLCJpbmRleDEiLCJlZGdlMSIsIm9sZCIsImVkZ2UyIiwidmlzaWJsZSIsInZpc2libGVMZW5ndGgiLCJQIiwiUDEiLCJQMiIsImFyY0xlbmd0aCIsIlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmciLCJPQ1RBTlRTIiwiX3JlbmRlck9jdGFudCIsImNvbXB1dGUxODAiLCJwcmV2aW91c09jdGFudCIsIm5leHRQcmV2aW91c09jdGFudCIsIm5leHRPY3RhbnQiLCJjb21wdXRlOTAiLCJvY3RhbnQiLCJfY2FzdFZpc2liaWxpdHkiLCJyb3ciLCJ2aXNTbG9wZVN0YXJ0IiwidmlzU2xvcGVFbmQiLCJyYWRpdXMiLCJ4eSIsInl4IiwibmV3U3RhcnQiLCJtYXBYIiwibWFwWSIsInNsb3BlU3RhcnQiLCJzbG9wZUVuZCIsIkNvbG9yIiwiZnJvbVN0cmluZyIsImNhY2hlZCIsIl9jYWNoZSIsInZhbHVlcyIsImNvbG9yMSIsImNvbG9yMiIsImFkZF8iLCJtdWx0aXBseSIsIm11bHRpcGx5XyIsImludGVycG9sYXRlIiwiZmFjdG9yIiwiaW50ZXJwb2xhdGVIU0wiLCJoc2wxIiwicmdiMmhzbCIsImhzbDIiLCJoc2wycmdiIiwiaHVlMnJnYiIsInEiLCJ0b1JHQiIsIl9jbGFtcCIsInRvSGV4IiwiYmxhY2siLCJuYXZ5IiwiZGFya2JsdWUiLCJtZWRpdW1ibHVlIiwiYmx1ZSIsImRhcmtncmVlbiIsImdyZWVuIiwidGVhbCIsImRhcmtjeWFuIiwiZGVlcHNreWJsdWUiLCJkYXJrdHVycXVvaXNlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJsaW1lIiwic3ByaW5nZ3JlZW4iLCJhcXVhIiwiY3lhbiIsIm1pZG5pZ2h0Ymx1ZSIsImRvZGdlcmJsdWUiLCJmb3Jlc3RncmVlbiIsInNlYWdyZWVuIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJsaW1lZ3JlZW4iLCJtZWRpdW1zZWFncmVlbiIsInR1cnF1b2lzZSIsInJveWFsYmx1ZSIsInN0ZWVsYmx1ZSIsImRhcmtzbGF0ZWJsdWUiLCJtZWRpdW10dXJxdW9pc2UiLCJpbmRpZ28iLCJkYXJrb2xpdmVncmVlbiIsImNhZGV0Ymx1ZSIsImNvcm5mbG93ZXJibHVlIiwibWVkaXVtYXF1YW1hcmluZSIsImRpbWdyYXkiLCJkaW1ncmV5Iiwic2xhdGVibHVlIiwib2xpdmVkcmFiIiwic2xhdGVncmF5Iiwic2xhdGVncmV5IiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsIm1lZGl1bXNsYXRlYmx1ZSIsImxhd25ncmVlbiIsImNoYXJ0cmV1c2UiLCJhcXVhbWFyaW5lIiwibWFyb29uIiwicHVycGxlIiwib2xpdmUiLCJncmF5IiwiZ3JleSIsInNreWJsdWUiLCJsaWdodHNreWJsdWUiLCJibHVldmlvbGV0IiwiZGFya3JlZCIsImRhcmttYWdlbnRhIiwic2FkZGxlYnJvd24iLCJkYXJrc2VhZ3JlZW4iLCJsaWdodGdyZWVuIiwibWVkaXVtcHVycGxlIiwiZGFya3Zpb2xldCIsInBhbGVncmVlbiIsImRhcmtvcmNoaWQiLCJ5ZWxsb3dncmVlbiIsInNpZW5uYSIsImJyb3duIiwiZGFya2dyYXkiLCJkYXJrZ3JleSIsImxpZ2h0Ymx1ZSIsImdyZWVueWVsbG93IiwicGFsZXR1cnF1b2lzZSIsImxpZ2h0c3RlZWxibHVlIiwicG93ZGVyYmx1ZSIsImZpcmVicmljayIsImRhcmtnb2xkZW5yb2QiLCJtZWRpdW1vcmNoaWQiLCJyb3N5YnJvd24iLCJkYXJra2hha2kiLCJzaWx2ZXIiLCJtZWRpdW12aW9sZXRyZWQiLCJpbmRpYW5yZWQiLCJwZXJ1IiwiY2hvY29sYXRlIiwidGFuIiwibGlnaHRncmF5IiwibGlnaHRncmV5IiwicGFsZXZpb2xldHJlZCIsInRoaXN0bGUiLCJvcmNoaWQiLCJnb2xkZW5yb2QiLCJjcmltc29uIiwiZ2FpbnNib3JvIiwicGx1bSIsImJ1cmx5d29vZCIsImxpZ2h0Y3lhbiIsImxhdmVuZGVyIiwiZGFya3NhbG1vbiIsInZpb2xldCIsInBhbGVnb2xkZW5yb2QiLCJsaWdodGNvcmFsIiwia2hha2kiLCJhbGljZWJsdWUiLCJob25leWRldyIsImF6dXJlIiwic2FuZHlicm93biIsIndoZWF0IiwiYmVpZ2UiLCJ3aGl0ZXNtb2tlIiwibWludGNyZWFtIiwiZ2hvc3R3aGl0ZSIsInNhbG1vbiIsImFudGlxdWV3aGl0ZSIsImxpbmVuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJvbGRsYWNlIiwicmVkIiwiZnVjaHNpYSIsIm1hZ2VudGEiLCJkZWVwcGluayIsIm9yYW5nZXJlZCIsInRvbWF0byIsImhvdHBpbmsiLCJjb3JhbCIsImRhcmtvcmFuZ2UiLCJsaWdodHNhbG1vbiIsIm9yYW5nZSIsImxpZ2h0cGluayIsInBpbmsiLCJnb2xkIiwicGVhY2hwdWZmIiwibmF2YWpvd2hpdGUiLCJtb2NjYXNpbiIsImJpc3F1ZSIsIm1pc3R5cm9zZSIsImJsYW5jaGVkYWxtb25kIiwicGFwYXlhd2hpcCIsImxhdmVuZGVyYmx1c2giLCJzZWFzaGVsbCIsImNvcm5zaWxrIiwibGVtb25jaGlmZm9uIiwiZmxvcmFsd2hpdGUiLCJzbm93IiwieWVsbG93IiwibGlnaHR5ZWxsb3ciLCJpdm9yeSIsIndoaXRlIiwiTGlnaHRpbmciLCJyZWZsZWN0aXZpdHlDYWxsYmFjayIsIl9yZWZsZWN0aXZpdHlDYWxsYmFjayIsInBhc3NlcyIsImVtaXNzaW9uVGhyZXNob2xkIiwicmFuZ2UiLCJfZm92IiwiX2xpZ2h0cyIsIl9yZWZsZWN0aXZpdHlDYWNoZSIsIl9mb3ZDYWNoZSIsInJlc2V0Iiwic2V0Rk9WIiwiZm92Iiwic2V0TGlnaHQiLCJjbGVhckxpZ2h0cyIsImxpZ2h0aW5nQ2FsbGJhY2siLCJkb25lQ2VsbHMiLCJlbWl0dGluZ0NlbGxzIiwibGl0Q2VsbHMiLCJsaWdodCIsIl9lbWl0TGlnaHQiLCJfY29tcHV0ZUVtaXR0ZXJzIiwibGl0S2V5IiwiX2VtaXRMaWdodEZyb21DZWxsIiwicmVmbGVjdGl2aXR5IiwiZW1pc3Npb24iLCJpbnRlbnNpdHkiLCJfdXBkYXRlRk9WIiwiZm92S2V5IiwiZm9ybUZhY3RvciIsImtleTEiLCJ2aXMiLCJrZXkyIiwiUGF0aCIsInRvWCIsInRvWSIsInBhc3NhYmxlQ2FsbGJhY2siLCJfdG9YIiwiX3RvWSIsIl9mcm9tWCIsIl9mcm9tWSIsIl9wYXNzYWJsZUNhbGxiYWNrIiwiZnJvbVgiLCJmcm9tWSIsIkRpamtzdHJhIiwiX2NvbXB1dGVkIiwiX3RvZG8iLCJfYWRkIiwiX2NvbXB1dGUiLCJwcmV2IiwibmVpZ2hib3IiLCJBU3RhciIsIl9kb25lIiwiX2Rpc3RhbmNlIiwiVGVybSIsIl9jeCIsIl9jeSIsIl9sYXN0Q29sb3IiLCJfb3giLCJfb3kiLCJjb2x1bW5zIiwicm93cyIsInBvc2l0aW9uVG9BbnNpIiwibmV3Q29sb3IiLCJjb2xvclRvQW5zaSIsIlh0ZXJtIiwiU1JDX0NPTE9SUyIsIkRTVF9DT0xPUlMiLCJDT0xPUl9SQVRJTyIsInJnYiIsIjI2IiwiLi9saWIvaW5kZXgiLCIyNyIsIl9wb255ZmlsbCIsIl9wb255ZmlsbDIiLCIuL3BvbnlmaWxsIiwiMjgiLCJzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwiLCJfU3ltYm9sIiwiMjkiLCJfcmVkdXhMb2dnZXIiLCJfcm90SnMiLCJfcmVkdWNlcnMiLCJfaW5pdGlhbFN0YXRlIiwiX2dhbWUiLCJfZ2FtZTIiLCJHQU1FIiwiaW5pdCIsInN3aXRjaFNjcmVlbiIsIlNjcmVlbiIsIlN0YXJ0U2NyZWVuIiwibWFpbkRpc3BsYXkiLCJnZXREaXNwbGF5IiwicXVlcnlTZWxlY3RvciIsIi4vZ2FtZSIsIi4vaW5pdGlhbFN0YXRlIiwiLi9yZWR1Y2VycyIsInJlZHV4IiwicmVkdXgtbG9nZ2VyIiwicm90LWpzIiwiMzAiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfZ2x5cGgiLCJfZ2x5cGgyIiwiRW50aXR5IiwiX0dseXBoIiwicHJvcGVydGllcyIsIl90aGlzIiwiX25hbWUiLCJfeCIsIl95IiwiX2F0dGFjaGVkTWl4aW5zIiwiX2F0dGFjaGVkTWl4aW5Hcm91cHMiLCJtaXhpbnMiLCJtaXhpbiIsImdyb3VwTmFtZSIsImhhc01peGluIiwic2V0TmFtZSIsInNldFgiLCJzZXRZIiwiZ2V0TmFtZSIsImdldFgiLCJnZXRZIiwic2V0TWFwIiwiZ2V0TWFwIiwiLi9nbHlwaCIsIjMxIiwiR2x5cGgiLCJfY2hhciIsIl9mZyIsIl9iZyIsImdldENoYXIiLCJnZXRCYWNrZ3JvdW5kIiwiZ2V0Rm9yZWdyb3VuZCIsIjMyIiwiX3JvdEpzMiIsIl9zY3JlZW4iLCJfc2NyZWVuMiIsImRpc3BsYXlEZWZhdWx0cyIsIkdhbWUiLCJfZGlzcGxheSIsIl9jdXJyZW50U2NyZWVuIiwiX3NjcmVlbldpZHRoIiwiX3NjcmVlbkhlaWdodCIsImJpbmRFdmVudFRvU2NyZWVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUlucHV0IiwicmVmcmVzaCIsImdldFNjcmVlbldpZHRoIiwiZ2V0U2NyZWVuSGVpZ2h0Iiwic2NyZWVuIiwiZXhpdCIsImVudGVyIiwiLi9zY3JlZW4iLCIzMyIsIl90ZW1wbGF0ZXMiLCJfZW50aXR5IiwiX2VudGl0eTIiLCJfdGlsZSIsInRpbGVzIiwicGxheWVyIiwiX3RpbGVzIiwiX2VudGl0aWVzIiwiX2VuZ2luZSIsImFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24iLCJGdW5ndXNUZW1wbGF0ZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiZ2V0VGlsZSIsInJldCIsIk51bGxUaWxlIiwiZGlnIiwiaXNEaWdnYWJsZSIsIkZsb29yVGlsZSIsImdldFJhbmRvbUZsb29yUG9zaXRpb24iLCJpc0VtcHR5Rmxvb3IiLCJnZXRFbmdpbmUiLCJnZXRFbnRpdGllcyIsImdldEVudGl0eUF0IiwiZW50aXR5IiwiYWRkRW50aXR5IiwicmVtb3ZlRW50aXR5IiwiLi9lbnRpdHkiLCIuL3RlbXBsYXRlcyIsIi4vdGlsZSIsIjM0IiwiTW92ZWFibGUiLCJ0cnlNb3ZlIiwiYXR0YWNrIiwiaXNXYWxrYWJsZSIsIlBsYXllckFjdG9yIiwiRnVuZ3VzQWN0b3IiLCJEZXN0cnVjdGlibGUiLCJfaHAiLCJ0YWtlRGFtYWdlIiwiYXR0YWNrZXIiLCJkYW1hZ2UiLCJTaW1wbGVBdHRhY2tlciIsIjM1IiwiX21hcDIiLCJkaXNwbGF5IiwiZ2FtZSIsImtleUNvZGUiLCJQbGF5U2NyZWVuIiwiX3BsYXllciIsIm1hcFdpZHRoIiwibWFwSGVpZ2h0IiwiZ2VuZXJhdG9yIiwidG90YWxJdGVyYXRpb25zIiwiV2FsbFRpbGUiLCJQbGF5ZXJUZW1wbGF0ZSIsImRYIiwiZFkiLCJuZXdYIiwibmV3WSIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwidG9wTGVmdFgiLCJ0b3BMZWZ0WSIsImVudGl0aWVzIiwiV2luU2NyZWVuIiwiTG9zZVNjcmVlbiIsImJhY2tncm91bmQiLCIuL21hcCIsIjM2IiwiX21peGlucyIsImNoYXIiLCIuL21peGlucyIsIjM3IiwiX2lzV2Fsa2FibGUiLCJfaXNEaWdnYWJsZSIsIjM4IiwibWVzc2FnZXMiLCIzOSIsIl9pbml0aWFsU3RhdGUyIiwiLi4vaW5pdGlhbFN0YXRlIiwiNDAiLCJfcmVkdXgiXSwibWFwcGluZ3MiOiJDQUFBLFFBQUFBLEdBQUFDLEVBQUFDLEVBQUFDLEdBQUEsUUFBQUMsR0FBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLEdBQUFFLEdBQUEsa0JBQUFDLFVBQUFBLE9BQUEsS0FBQUYsR0FBQUMsRUFBQSxNQUFBQSxHQUFBRixHQUFBLEVBQUEsSUFBQUksRUFBQSxNQUFBQSxHQUFBSixHQUFB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LEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsZ0JBQUEsR0FFQUMsV0FBQSxHQUVBQyxXQUFBLEdBRUFDLFdBQUEsR0FFQUMsV0FBQSxHQUVBQyxXQUFBLElBRUFDLFdBQUEsSUFFQUMsV0FBQSxJQUVBQyxXQUFBLElBRUFDLFdBQUEsSUFFQUMsV0FBQSxJQUVBQyxZQUFBLElBRUFDLE9BQUEsSUFFQUMsYUFBQSxJQUVBQyxZQUFBLElBRUFDLFdBQUEsSUFFQUMsVUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxZQUFBLElBRUFDLGVBQUEsSUFFQUMsY0FBQSxJQUVBQyxlQUFBLElBRUFDLGdCQUFBLElBRUFDLFFBQUEsSUFFQUMsVUFBQSxJQUVBQyxXQUFBLElBRUFDLGFBQUEsSUFFQUMsY0FBQSxJQUVBQyxjQUFBLElBRUFDLGVBQUEsSUFFQUMsWUFBQSxJQUVBQyxRQUFBLElBRUFDLFFBQUEsSUFFQUMsZ0JBQUEsSUFFQUMsc0JBQUEsSUFFQUMsdUJBQUEsSUFFQUMsU0FB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QUNBQyxnQkFBQSxHQUFBLElBQUEsSUFDQUMsV0FBQSxHQUFBLElBQUEsS0FDQUMsZ0JBQUEsSUFBQSxJQUFBLEtBQ0FDLGtCQUFBLElBQUEsSUFBQSxLQUNBQyxTQUFBLElBQUEsSUFBQSxLQUNBQyxTQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsR0FBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxJQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxnQkFBQSxJQUFBLElBQUEsS0FDQUMsZ0JBQUEsSUFBQSxJQUFBLEtBQ0FDLGlCQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxHQUNBQyxZQUFBLElBQUEsSUFBQSxHQUNBQyxZQUFBLElBQUEsSUFBQSxLQUNBQyxRQUFBLElBQUEsRUFBQSxHQUNBQyxRQUFBLElBQUEsRUFBQSxLQUNBQyxPQUFBLElBQUEsSUFBQSxHQUNBQyxNQUFBLElBQUEsSUFBQSxLQUNBQyxNQUFBLElBQUEsSUFBQSxLQUNBQyxTQUFBLElBQUEsSUFBQSxLQUNBQyxjQUFBLElBQUEsSUFBQSxLQUNBQyxZQUFBLElBQUEsR0FBQSxLQUNBQyxTQUFBLElBQUEsRUFBQSxHQUNBQyxhQUFBLElBQUEsRUFBQSxLQUNBQyxhQUFBLElBQUEsR0FBQSxJQUNBQyxjQUFBLElBQUEsSUFBQSxLQUNBQyxZQUFBLElBQUEsSUFBQSxLQUNBQyxjQUFBLElBQUEsSUFBQSxLQUNBQyxZQUFBLElBQUEsRUFBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxZQUFBLElBQUEsR0FBQSxLQUNBQyxhQUFBLElBQUEsSUFBQSxJQUNBQyxRQUFBLElBQUEsR0FBQSxJQUNBQyxPQUFBLElBQUEsR0FBQSxJQUNBQyxVQUFBLElBQUEsSUFBQSxLQUNBQyxVQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxhQUFBLElBQUEsSUFBQSxJQUNBQyxlQUFBLElBQUEsSUFBQSxLQUNBQyxnQkFBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLEdBQUEsSUFDQUMsZUFBQSxJQUFBLElBQUEsSUFDQUMsY0FBQSxJQUFBLEdBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsUUFBQSxJQUFBLElBQUEsS0FDQUMsaUJBQUEsSUFBQSxHQUFBLEtBQ0FDLFdBQUEsSUFBQSxHQUFBLElBQ0FDLE1BQUEsSUFBQSxJQUFBLElBQ0FDLFdBQUEsSUFBQSxJQUFBLElBQ0FDLEtBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLGVBQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLFFBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLElBQ0FDLFNBQUEsSUFBQSxHQUFBLElBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLE1BQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFVBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLFFBQUEsSUFBQSxJQUFBLEtBQ0FDLGVBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLE9BQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFVBQUEsSUFBQSxJQUFBLEtBQ0FDLE9BQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxJQUFBLElBQ0FDLE9BQUEsSUFBQSxJQUFBLEtBQ0FDLE9BQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLFFBQUEsSUFBQSxJQUFBLEtBQ0FDLGNBQUEsSUFBQSxJQUFBLEtBQ0FDLE9BQUEsSUFBQSxJQUFBLEtBQ0FDLHNCQUFBLElBQUEsSUFBQSxLQUNBQyxTQUFBLElBQUEsSUFBQSxLQUNBQyxL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LEd1Q2gwUVQsSUFBQWk1QyxHQUFBNTZDLEVBQUEsbUJ2Q3EwUUlrbEQsRUFBaUJ6NEMsRUFBdUJtdUMsR3VDbjBRdENxSSxFQUFPLFdBQXVDLEdBQXRDOXlDLEdBQXNDL0UsVUFBQTVLLE9BQUEsR0FBQVUsU0FBQWtLLFVBQUEsR0FBQUEsVUFBQSxHQUE5Qjg1QyxFQUFBLFdBQWFqQyxLQUFNLzFDLEVBQVc5QixVQUFBLEVBQ2xELFFBQVE4QixFQUFPOUosTUFDYixJQUFLLGNBQ0gsTUFBTzVCLFFBQU8wUixVQUFXL0MsR0FBUzYwQyxTQUFVNzBDLEVBQU02MEMsU0FBU3g2QyxRQUFRMEMsRUFBTzhNLFdBQzVFLFNBQ0UsTUFBTzdKLEl2QzgwUWI3UCxHQUFRLFd1QzEwUU8yaUQsSXZDNDBRWmtDLGtCQUFrQixLQUFLQyxJQUFJLFNBQVNwbEQsRUFBUVUsRUFBT0osR0FDdEQsWUFZQSxTQUFTbU0sR0FBdUJDLEdBQU8sTUFBT0EsSUFBT0EsRUFBSUMsV0FBYUQsR0FBUUUsVUFBV0YsR0FWekZsTCxPQUFPVSxlQUFlNUIsRUFBUyxjQUM3QnFCLE9BQU8sR3dDMzFRVCxJQUFBMGpELEdBQUFybEQsRUFBQSxTQUNBNjZDLEVBQUE3NkMsRUFBQSxVeENpMlFJODZDLEVBQVNydUMsRUFBdUJvdUMsR3dDLzFROUJzRSxHQUFPLEVBQUFrRyxFQUFBanZDLGtCQUNYNnNDLEtBQUFuSSxFQUFBLFl4Q3MyUUZ4NkMsR0FBUSxXd0NuMlFPNitDLEl4Q3EyUVo1RCxTQUFTLEdBQUdHLE1BQVEsVUFBVSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8qIVxuICogZGVlcC1kaWZmLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSgpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgIHJvb3QuRGVlcERpZmYgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24odW5kZWZpbmVkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHNjb3BlLCBjb25mbGljdCwgY29uZmxpY3RSZXNvbHV0aW9uID0gW107XG4gIGlmICh0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwpIHtcbiAgICAkc2NvcGUgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAkc2NvcGUgPSB3aW5kb3c7XG4gIH0gZWxzZSB7XG4gICAgJHNjb3BlID0ge307XG4gIH1cbiAgY29uZmxpY3QgPSAkc2NvcGUuRGVlcERpZmY7XG4gIGlmIChjb25mbGljdCkge1xuICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5wdXNoKFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbmZsaWN0ICYmICRzY29wZS5EZWVwRGlmZiA9PT0gYWNjdW11bGF0ZURpZmYpIHtcbiAgICAgICAgICAkc2NvcGUuRGVlcERpZmYgPSBjb25mbGljdDtcbiAgICAgICAgICBjb25mbGljdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvLyBub2RlanMgY29tcGF0aWJsZSBvbiBzZXJ2ZXIgc2lkZSBhbmQgaW4gdGhlIGJyb3dzZXIuXG4gIGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yO1xuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIERpZmYoa2luZCwgcGF0aCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAna2luZCcsIHtcbiAgICAgIHZhbHVlOiBraW5kLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BhdGgnLCB7XG4gICAgICAgIHZhbHVlOiBwYXRoLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBEaWZmRWRpdChwYXRoLCBvcmlnaW4sIHZhbHVlKSB7XG4gICAgRGlmZkVkaXQuc3VwZXJfLmNhbGwodGhpcywgJ0UnLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xocycsIHtcbiAgICAgIHZhbHVlOiBvcmlnaW4sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkVkaXQsIERpZmYpO1xuXG4gIGZ1bmN0aW9uIERpZmZOZXcocGF0aCwgdmFsdWUpIHtcbiAgICBEaWZmTmV3LnN1cGVyXy5jYWxsKHRoaXMsICdOJywgcGF0aCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZk5ldywgRGlmZik7XG5cbiAgZnVuY3Rpb24gRGlmZkRlbGV0ZWQocGF0aCwgdmFsdWUpIHtcbiAgICBEaWZmRGVsZXRlZC5zdXBlcl8uY2FsbCh0aGlzLCAnRCcsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGluaGVyaXRzKERpZmZEZWxldGVkLCBEaWZmKTtcblxuICBmdW5jdGlvbiBEaWZmQXJyYXkocGF0aCwgaW5kZXgsIGl0ZW0pIHtcbiAgICBEaWZmQXJyYXkuc3VwZXJfLmNhbGwodGhpcywgJ0EnLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2luZGV4Jywge1xuICAgICAgdmFsdWU6IGluZGV4LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaXRlbScsIHtcbiAgICAgIHZhbHVlOiBpdGVtLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGluaGVyaXRzKERpZmZBcnJheSwgRGlmZik7XG5cbiAgZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyLCBmcm9tLCB0bykge1xuICAgIHZhciByZXN0ID0gYXJyLnNsaWNlKCh0byB8fCBmcm9tKSArIDEgfHwgYXJyLmxlbmd0aCk7XG4gICAgYXJyLmxlbmd0aCA9IGZyb20gPCAwID8gYXJyLmxlbmd0aCArIGZyb20gOiBmcm9tO1xuICAgIGFyci5wdXNoLmFwcGx5KGFyciwgcmVzdCk7XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWxUeXBlT2Yoc3ViamVjdCkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHN1YmplY3Q7XG4gICAgaWYgKHR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG5cbiAgICBpZiAoc3ViamVjdCA9PT0gTWF0aCkge1xuICAgICAgcmV0dXJuICdtYXRoJztcbiAgICB9IGVsc2UgaWYgKHN1YmplY3QgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG4gICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdWJqZWN0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgICByZXR1cm4gJ2RhdGUnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1YmplY3QudG9TdHJpbmcgIT09ICd1bmRlZmluZWQnICYmIC9eXFwvLipcXC8vLnRlc3Qoc3ViamVjdC50b1N0cmluZygpKSkge1xuICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgIH1cbiAgICByZXR1cm4gJ29iamVjdCc7XG4gIH1cblxuICBmdW5jdGlvbiBkZWVwRGlmZihsaHMsIHJocywgY2hhbmdlcywgcHJlZmlsdGVyLCBwYXRoLCBrZXksIHN0YWNrKSB7XG4gICAgcGF0aCA9IHBhdGggfHwgW107XG4gICAgdmFyIGN1cnJlbnRQYXRoID0gcGF0aC5zbGljZSgwKTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChwcmVmaWx0ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZihwcmVmaWx0ZXIpID09PSAnZnVuY3Rpb24nICYmIHByZWZpbHRlcihjdXJyZW50UGF0aCwga2V5KSkgeyByZXR1cm47IH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mKHByZWZpbHRlcikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgaWYgKHByZWZpbHRlci5wcmVmaWx0ZXIgJiYgcHJlZmlsdGVyLnByZWZpbHRlcihjdXJyZW50UGF0aCwga2V5KSkgeyByZXR1cm47IH1cbiAgICAgICAgICBpZiAocHJlZmlsdGVyLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgdmFyIGFsdCA9IHByZWZpbHRlci5ub3JtYWxpemUoY3VycmVudFBhdGgsIGtleSwgbGhzLCByaHMpO1xuICAgICAgICAgICAgaWYgKGFsdCkge1xuICAgICAgICAgICAgICBsaHMgPSBhbHRbMF07XG4gICAgICAgICAgICAgIHJocyA9IGFsdFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1cnJlbnRQYXRoLnB1c2goa2V5KTtcbiAgICB9XG5cbiAgICAvLyBVc2Ugc3RyaW5nIGNvbXBhcmlzb24gZm9yIHJlZ2V4ZXNcbiAgICBpZiAocmVhbFR5cGVPZihsaHMpID09PSAncmVnZXhwJyAmJiByZWFsVHlwZU9mKHJocykgPT09ICdyZWdleHAnKSB7XG4gICAgICBsaHMgPSBsaHMudG9TdHJpbmcoKTtcbiAgICAgIHJocyA9IHJocy50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHZhciBsdHlwZSA9IHR5cGVvZiBsaHM7XG4gICAgdmFyIHJ0eXBlID0gdHlwZW9mIHJocztcbiAgICBpZiAobHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAocnR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNoYW5nZXMobmV3IERpZmZOZXcoY3VycmVudFBhdGgsIHJocykpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRGVsZXRlZChjdXJyZW50UGF0aCwgbGhzKSk7XG4gICAgfSBlbHNlIGlmIChyZWFsVHlwZU9mKGxocykgIT09IHJlYWxUeXBlT2YocmhzKSkge1xuICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG4gICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobGhzKSA9PT0gJ1tvYmplY3QgRGF0ZV0nICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgKChsaHMgLSByaHMpICE9PSAwKSkge1xuICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG4gICAgfSBlbHNlIGlmIChsdHlwZSA9PT0gJ29iamVjdCcgJiYgbGhzICE9PSBudWxsICYmIHJocyAhPT0gbnVsbCkge1xuICAgICAgc3RhY2sgPSBzdGFjayB8fCBbXTtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKGxocykgPCAwKSB7XG4gICAgICAgIHN0YWNrLnB1c2gobGhzKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGhzKSkge1xuICAgICAgICAgIHZhciBpLCBsZW4gPSBsaHMubGVuZ3RoO1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IHJocy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkFycmF5KGN1cnJlbnRQYXRoLCBpLCBuZXcgRGlmZkRlbGV0ZWQodW5kZWZpbmVkLCBsaHNbaV0pKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkZWVwRGlmZihsaHNbaV0sIHJoc1tpXSwgY2hhbmdlcywgcHJlZmlsdGVyLCBjdXJyZW50UGF0aCwgaSwgc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoaSA8IHJocy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNoYW5nZXMobmV3IERpZmZBcnJheShjdXJyZW50UGF0aCwgaSwgbmV3IERpZmZOZXcodW5kZWZpbmVkLCByaHNbaSsrXSkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGFrZXlzID0gT2JqZWN0LmtleXMobGhzKTtcbiAgICAgICAgICB2YXIgcGtleXMgPSBPYmplY3Qua2V5cyhyaHMpO1xuICAgICAgICAgIGFrZXlzLmZvckVhY2goZnVuY3Rpb24oaywgaSkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gcGtleXMuaW5kZXhPZihrKTtcbiAgICAgICAgICAgIGlmIChvdGhlciA+PSAwKSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1trXSwgcmhzW2tdLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgICAgIHBrZXlzID0gYXJyYXlSZW1vdmUocGtleXMsIG90aGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1trXSwgdW5kZWZpbmVkLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcGtleXMuZm9yRWFjaChmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICBkZWVwRGlmZih1bmRlZmluZWQsIHJoc1trXSwgY2hhbmdlcywgcHJlZmlsdGVyLCBjdXJyZW50UGF0aCwgaywgc3RhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHN0YWNrLmxlbmd0aCA9IHN0YWNrLmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsaHMgIT09IHJocykge1xuICAgICAgaWYgKCEobHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKGxocykgJiYgaXNOYU4ocmhzKSkpIHtcbiAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWNjdW11bGF0ZURpZmYobGhzLCByaHMsIHByZWZpbHRlciwgYWNjdW0pIHtcbiAgICBhY2N1bSA9IGFjY3VtIHx8IFtdO1xuICAgIGRlZXBEaWZmKGxocywgcmhzLFxuICAgICAgZnVuY3Rpb24oZGlmZikge1xuICAgICAgICBpZiAoZGlmZikge1xuICAgICAgICAgIGFjY3VtLnB1c2goZGlmZik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcmVmaWx0ZXIpO1xuICAgIHJldHVybiAoYWNjdW0ubGVuZ3RoKSA/IGFjY3VtIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlBcnJheUNoYW5nZShhcnIsIGluZGV4LCBjaGFuZ2UpIHtcbiAgICBpZiAoY2hhbmdlLnBhdGggJiYgY2hhbmdlLnBhdGgubGVuZ3RoKSB7XG4gICAgICB2YXIgaXQgPSBhcnJbaW5kZXhdLFxuICAgICAgICAgIGksIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgYXBwbHlBcnJheUNoYW5nZShpdFtjaGFuZ2UucGF0aFtpXV0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICBkZWxldGUgaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLnJocztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGFycltpbmRleF0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlDaGFuZ2UodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSkge1xuICAgIGlmICh0YXJnZXQgJiYgc291cmNlICYmIGNoYW5nZSAmJiBjaGFuZ2Uua2luZCkge1xuICAgICAgdmFyIGl0ID0gdGFyZ2V0LFxuICAgICAgICAgIGkgPSAtMSxcbiAgICAgICAgICBsYXN0ID0gY2hhbmdlLnBhdGggPyBjaGFuZ2UucGF0aC5sZW5ndGggLSAxIDogMDtcbiAgICAgIHdoaWxlICgrK2kgPCBsYXN0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRbY2hhbmdlLnBhdGhbaV1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9ICh0eXBlb2YgY2hhbmdlLnBhdGhbaV0gPT09ICdudW1iZXInKSA/IFtdIDoge307XG4gICAgICAgIH1cbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoY2hhbmdlLnBhdGggPyBpdFtjaGFuZ2UucGF0aFtpXV0gOiBpdCwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydEFycmF5Q2hhbmdlKGFyciwgaW5kZXgsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UucGF0aCAmJiBjaGFuZ2UucGF0aC5sZW5ndGgpIHtcbiAgICAgIC8vIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG9iamVjdCBhdCB0aGUgaW5kZXggaGFzIGNoYW5nZWQuLi5cbiAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG4gICAgICAgICAgaSwgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG4gICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShpdFtjaGFuZ2UucGF0aFtpXV0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBkZWxldGUgaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGUgYXJyYXkgaXRlbSBpcyBkaWZmZXJlbnQuLi5cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICBhcnJbaW5kZXhdID0gY2hhbmdlLmxocztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgYXJyID0gYXJyYXlSZW1vdmUoYXJyLCBpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnRDaGFuZ2UodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSkge1xuICAgIGlmICh0YXJnZXQgJiYgc291cmNlICYmIGNoYW5nZSAmJiBjaGFuZ2Uua2luZCkge1xuICAgICAgdmFyIGl0ID0gdGFyZ2V0LFxuICAgICAgICAgIGksIHU7XG4gICAgICB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdFtjaGFuZ2UucGF0aFtpXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIC8vIEFycmF5IHdhcyBtb2RpZmllZC4uLlxuICAgICAgICAgIC8vIGl0IHdpbGwgYmUgYW4gYXJyYXkuLi5cbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShpdFtjaGFuZ2UucGF0aFtpXV0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICAvLyBJdGVtIHdhcyBkZWxldGVkLi4uXG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgLy8gSXRlbSB3YXMgZWRpdGVkLi4uXG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgLy8gSXRlbSBpcyBuZXcuLi5cbiAgICAgICAgICBkZWxldGUgaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5RGlmZih0YXJnZXQsIHNvdXJjZSwgZmlsdGVyKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UpIHtcbiAgICAgIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZSkge1xuICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSkpIHtcbiAgICAgICAgICBhcHBseUNoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRlZXBEaWZmKHRhcmdldCwgc291cmNlLCBvbkNoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYWNjdW11bGF0ZURpZmYsIHtcblxuICAgIGRpZmY6IHtcbiAgICAgIHZhbHVlOiBhY2N1bXVsYXRlRGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG9ic2VydmFibGVEaWZmOiB7XG4gICAgICB2YWx1ZTogZGVlcERpZmYsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBhcHBseURpZmY6IHtcbiAgICAgIHZhbHVlOiBhcHBseURpZmYsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBhcHBseUNoYW5nZToge1xuICAgICAgdmFsdWU6IGFwcGx5Q2hhbmdlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgcmV2ZXJ0Q2hhbmdlOiB7XG4gICAgICB2YWx1ZTogcmV2ZXJ0Q2hhbmdlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgaXNDb25mbGljdDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBjb25mbGljdDtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBub0NvbmZsaWN0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjb25mbGljdFJlc29sdXRpb24pIHtcbiAgICAgICAgICBjb25mbGljdFJlc29sdXRpb24uZm9yRWFjaChmdW5jdGlvbihpdCkge1xuICAgICAgICAgICAgaXQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25mbGljdFJlc29sdXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYWNjdW11bGF0ZURpZmY7XG59KSk7XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG5cbn0se1wiLi9fcm9vdFwiOjl9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbnZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKSxcbiAgICBnZXRSYXdUYWcgPSByZXF1aXJlKCcuL19nZXRSYXdUYWcnKSxcbiAgICBvYmplY3RUb1N0cmluZyA9IHJlcXVpcmUoJy4vX29iamVjdFRvU3RyaW5nJyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBudWxsVGFnID0gJ1tvYmplY3QgTnVsbF0nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYCB3aXRob3V0IGZhbGxiYWNrcyBmb3IgYnVnZ3kgZW52aXJvbm1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZFRhZyA6IG51bGxUYWc7XG4gIH1cbiAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgID8gZ2V0UmF3VGFnKHZhbHVlKVxuICAgIDogb2JqZWN0VG9TdHJpbmcodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VHZXRUYWc7XG5cbn0se1wiLi9fU3ltYm9sXCI6MixcIi4vX2dldFJhd1RhZ1wiOjYsXCIuL19vYmplY3RUb1N0cmluZ1wiOjd9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG5cbn0se31dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIG92ZXJBcmcgPSByZXF1aXJlKCcuL19vdmVyQXJnJyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFByb3RvdHlwZTtcblxufSx7XCIuL19vdmVyQXJnXCI6OH1dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuXG59LHtcIi4vX1N5bWJvbFwiOjJ9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuXG59LHt9XSw4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG5cbn0se31dLDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xudmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuXG59LHtcIi4vX2ZyZWVHbG9iYWxcIjo0fV0sMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuXG59LHt9XSwxMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG52YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcblxufSx7XCIuL19iYXNlR2V0VGFnXCI6MyxcIi4vX2dldFByb3RvdHlwZVwiOjUsXCIuL2lzT2JqZWN0TGlrZVwiOjEwfV0sMTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxufSx7fV0sMTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5wcmludEJ1ZmZlciA9IHByaW50QnVmZmVyO1xuXG52YXIgX2hlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTtcblxudmFyIF9kaWZmID0gcmVxdWlyZSgnLi9kaWZmJyk7XG5cbnZhciBfZGlmZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kaWZmKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfSBlbHNlIHsgcmV0dXJuIEFycmF5LmZyb20oYXJyKTsgfSB9XG5cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9XG5cbi8qKlxuICogR2V0IGxvZyBsZXZlbCBzdHJpbmcgYmFzZWQgb24gc3VwcGxpZWQgcGFyYW1zXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCBmdW5jdGlvbiB8IG9iamVjdH0gbGV2ZWwgLSBjb25zb2xlW2xldmVsXVxuICogQHBhcmFtIHtvYmplY3R9IGFjdGlvbiAtIHNlbGVjdGVkIGFjdGlvblxuICogQHBhcmFtIHthcnJheX0gcGF5bG9hZCAtIHNlbGVjdGVkIHBheWxvYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gbG9nIGVudHJ5IHR5cGVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBsZXZlbFxuICovXG5mdW5jdGlvbiBnZXRMb2dMZXZlbChsZXZlbCwgYWN0aW9uLCBwYXlsb2FkLCB0eXBlKSB7XG4gIHN3aXRjaCAodHlwZW9mIGxldmVsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihsZXZlbCkpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuIHR5cGVvZiBsZXZlbFt0eXBlXSA9PT0gJ2Z1bmN0aW9uJyA/IGxldmVsW3R5cGVdLmFwcGx5KGxldmVsLCBfdG9Db25zdW1hYmxlQXJyYXkocGF5bG9hZCkpIDogbGV2ZWxbdHlwZV07XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgcmV0dXJuIGxldmVsKGFjdGlvbik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0VGl0bGVGb3JtYXR0ZXIob3B0aW9ucykge1xuICB2YXIgdGltZXN0YW1wID0gb3B0aW9ucy50aW1lc3RhbXA7XG4gIHZhciBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb247XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24sIHRpbWUsIHRvb2spIHtcbiAgICB2YXIgcGFydHMgPSBbJ2FjdGlvbiddO1xuICAgIGlmICh0aW1lc3RhbXApIHtcbiAgICAgIHBhcnRzLnB1c2goJ0AgJyArIHRpbWUpO1xuICAgIH1cbiAgICBwYXJ0cy5wdXNoKGFjdGlvbi50eXBlKTtcbiAgICBpZiAoZHVyYXRpb24pIHtcbiAgICAgIHBhcnRzLnB1c2goJyhpbiAnICsgdG9vay50b0ZpeGVkKDIpICsgJyBtcyknKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJyAnKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHJpbnRCdWZmZXIoYnVmZmVyLCBvcHRpb25zKSB7XG4gIHZhciBsb2dnZXIgPSBvcHRpb25zLmxvZ2dlcjtcbiAgdmFyIGFjdGlvblRyYW5zZm9ybWVyID0gb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lcjtcbiAgdmFyIF9vcHRpb25zJHRpdGxlRm9ybWF0dCA9IG9wdGlvbnMudGl0bGVGb3JtYXR0ZXI7XG4gIHZhciB0aXRsZUZvcm1hdHRlciA9IF9vcHRpb25zJHRpdGxlRm9ybWF0dCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFRpdGxlRm9ybWF0dGVyKG9wdGlvbnMpIDogX29wdGlvbnMkdGl0bGVGb3JtYXR0O1xuICB2YXIgY29sbGFwc2VkID0gb3B0aW9ucy5jb2xsYXBzZWQ7XG4gIHZhciBjb2xvcnMgPSBvcHRpb25zLmNvbG9ycztcbiAgdmFyIGxldmVsID0gb3B0aW9ucy5sZXZlbDtcbiAgdmFyIGRpZmYgPSBvcHRpb25zLmRpZmY7XG5cbiAgYnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKGxvZ0VudHJ5LCBrZXkpIHtcbiAgICB2YXIgc3RhcnRlZCA9IGxvZ0VudHJ5LnN0YXJ0ZWQ7XG4gICAgdmFyIHN0YXJ0ZWRUaW1lID0gbG9nRW50cnkuc3RhcnRlZFRpbWU7XG4gICAgdmFyIGFjdGlvbiA9IGxvZ0VudHJ5LmFjdGlvbjtcbiAgICB2YXIgcHJldlN0YXRlID0gbG9nRW50cnkucHJldlN0YXRlO1xuICAgIHZhciBlcnJvciA9IGxvZ0VudHJ5LmVycm9yO1xuICAgIHZhciB0b29rID0gbG9nRW50cnkudG9vaztcbiAgICB2YXIgbmV4dFN0YXRlID0gbG9nRW50cnkubmV4dFN0YXRlO1xuXG4gICAgdmFyIG5leHRFbnRyeSA9IGJ1ZmZlcltrZXkgKyAxXTtcblxuICAgIGlmIChuZXh0RW50cnkpIHtcbiAgICAgIG5leHRTdGF0ZSA9IG5leHRFbnRyeS5wcmV2U3RhdGU7XG4gICAgICB0b29rID0gbmV4dEVudHJ5LnN0YXJ0ZWQgLSBzdGFydGVkO1xuICAgIH1cblxuICAgIC8vIE1lc3NhZ2VcbiAgICB2YXIgZm9ybWF0dGVkQWN0aW9uID0gYWN0aW9uVHJhbnNmb3JtZXIoYWN0aW9uKTtcbiAgICB2YXIgaXNDb2xsYXBzZWQgPSB0eXBlb2YgY29sbGFwc2VkID09PSAnZnVuY3Rpb24nID8gY29sbGFwc2VkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgfSwgYWN0aW9uKSA6IGNvbGxhcHNlZDtcblxuICAgIHZhciBmb3JtYXR0ZWRUaW1lID0gKDAsIF9oZWxwZXJzLmZvcm1hdFRpbWUpKHN0YXJ0ZWRUaW1lKTtcbiAgICB2YXIgdGl0bGVDU1MgPSBjb2xvcnMudGl0bGUgPyAnY29sb3I6ICcgKyBjb2xvcnMudGl0bGUoZm9ybWF0dGVkQWN0aW9uKSArICc7JyA6IG51bGw7XG4gICAgdmFyIHRpdGxlID0gdGl0bGVGb3JtYXR0ZXIoZm9ybWF0dGVkQWN0aW9uLCBmb3JtYXR0ZWRUaW1lLCB0b29rKTtcblxuICAgIC8vIFJlbmRlclxuICAgIHRyeSB7XG4gICAgICBpZiAoaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgaWYgKGNvbG9ycy50aXRsZSkgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKCclYyAnICsgdGl0bGUsIHRpdGxlQ1NTKTtlbHNlIGxvZ2dlci5ncm91cENvbGxhcHNlZCh0aXRsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY29sb3JzLnRpdGxlKSBsb2dnZXIuZ3JvdXAoJyVjICcgKyB0aXRsZSwgdGl0bGVDU1MpO2Vsc2UgbG9nZ2VyLmdyb3VwKHRpdGxlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIubG9nKHRpdGxlKTtcbiAgICB9XG5cbiAgICB2YXIgcHJldlN0YXRlTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbcHJldlN0YXRlXSwgJ3ByZXZTdGF0ZScpO1xuICAgIHZhciBhY3Rpb25MZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtmb3JtYXR0ZWRBY3Rpb25dLCAnYWN0aW9uJyk7XG4gICAgdmFyIGVycm9yTGV2ZWwgPSBnZXRMb2dMZXZlbChsZXZlbCwgZm9ybWF0dGVkQWN0aW9uLCBbZXJyb3IsIHByZXZTdGF0ZV0sICdlcnJvcicpO1xuICAgIHZhciBuZXh0U3RhdGVMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtuZXh0U3RhdGVdLCAnbmV4dFN0YXRlJyk7XG5cbiAgICBpZiAocHJldlN0YXRlTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMucHJldlN0YXRlKSBsb2dnZXJbcHJldlN0YXRlTGV2ZWxdKCclYyBwcmV2IHN0YXRlJywgJ2NvbG9yOiAnICsgY29sb3JzLnByZXZTdGF0ZShwcmV2U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBwcmV2U3RhdGUpO2Vsc2UgbG9nZ2VyW3ByZXZTdGF0ZUxldmVsXSgncHJldiBzdGF0ZScsIHByZXZTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbkxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLmFjdGlvbikgbG9nZ2VyW2FjdGlvbkxldmVsXSgnJWMgYWN0aW9uJywgJ2NvbG9yOiAnICsgY29sb3JzLmFjdGlvbihmb3JtYXR0ZWRBY3Rpb24pICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBmb3JtYXR0ZWRBY3Rpb24pO2Vsc2UgbG9nZ2VyW2FjdGlvbkxldmVsXSgnYWN0aW9uJywgZm9ybWF0dGVkQWN0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoZXJyb3IgJiYgZXJyb3JMZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5lcnJvcikgbG9nZ2VyW2Vycm9yTGV2ZWxdKCclYyBlcnJvcicsICdjb2xvcjogJyArIGNvbG9ycy5lcnJvcihlcnJvciwgcHJldlN0YXRlKSArICc7IGZvbnQtd2VpZ2h0OiBib2xkJywgZXJyb3IpO2Vsc2UgbG9nZ2VyW2Vycm9yTGV2ZWxdKCdlcnJvcicsIGVycm9yKTtcbiAgICB9XG5cbiAgICBpZiAobmV4dFN0YXRlTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMubmV4dFN0YXRlKSBsb2dnZXJbbmV4dFN0YXRlTGV2ZWxdKCclYyBuZXh0IHN0YXRlJywgJ2NvbG9yOiAnICsgY29sb3JzLm5leHRTdGF0ZShuZXh0U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBuZXh0U3RhdGUpO2Vsc2UgbG9nZ2VyW25leHRTdGF0ZUxldmVsXSgnbmV4dCBzdGF0ZScsIG5leHRTdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRpZmYpIHtcbiAgICAgICgwLCBfZGlmZjIuZGVmYXVsdCkocHJldlN0YXRlLCBuZXh0U3RhdGUsIGxvZ2dlciwgaXNDb2xsYXBzZWQpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuZ3JvdXBFbmQoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIubG9nKCfigJTigJQgbG9nIGVuZCDigJTigJQnKTtcbiAgICB9XG4gIH0pO1xufVxufSx7XCIuL2RpZmZcIjoxNSxcIi4vaGVscGVyc1wiOjE2fV0sMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIGxldmVsOiBcImxvZ1wiLFxuICBsb2dnZXI6IGNvbnNvbGUsXG4gIGxvZ0Vycm9yczogdHJ1ZSxcbiAgY29sbGFwc2VkOiB1bmRlZmluZWQsXG4gIHByZWRpY2F0ZTogdW5kZWZpbmVkLFxuICBkdXJhdGlvbjogZmFsc2UsXG4gIHRpbWVzdGFtcDogdHJ1ZSxcbiAgc3RhdGVUcmFuc2Zvcm1lcjogZnVuY3Rpb24gc3RhdGVUcmFuc2Zvcm1lcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfSxcbiAgYWN0aW9uVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb247XG4gIH0sXG4gIGVycm9yVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtZXIoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH0sXG4gIGNvbG9yczoge1xuICAgIHRpdGxlOiBmdW5jdGlvbiB0aXRsZSgpIHtcbiAgICAgIHJldHVybiBcImluaGVyaXRcIjtcbiAgICB9LFxuICAgIHByZXZTdGF0ZTogZnVuY3Rpb24gcHJldlN0YXRlKCkge1xuICAgICAgcmV0dXJuIFwiIzlFOUU5RVwiO1xuICAgIH0sXG4gICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCIjMDNBOUY0XCI7XG4gICAgfSxcbiAgICBuZXh0U3RhdGU6IGZ1bmN0aW9uIG5leHRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBcIiM0Q0FGNTBcIjtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgIHJldHVybiBcIiNGMjA0MDRcIjtcbiAgICB9XG4gIH0sXG4gIGRpZmY6IGZhbHNlLFxuICBkaWZmUHJlZGljYXRlOiB1bmRlZmluZWQsXG5cbiAgLy8gRGVwcmVjYXRlZCBvcHRpb25zXG4gIHRyYW5zZm9ybWVyOiB1bmRlZmluZWRcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbn0se31dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRpZmZMb2dnZXI7XG5cbnZhciBfZGVlcERpZmYgPSByZXF1aXJlKCdkZWVwLWRpZmYnKTtcblxudmFyIF9kZWVwRGlmZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRGlmZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mbGl0Yml0L2RpZmYjZGlmZmVyZW5jZXNcbnZhciBkaWN0aW9uYXJ5ID0ge1xuICAnRSc6IHtcbiAgICBjb2xvcjogJyMyMTk2RjMnLFxuICAgIHRleHQ6ICdDSEFOR0VEOidcbiAgfSxcbiAgJ04nOiB7XG4gICAgY29sb3I6ICcjNENBRjUwJyxcbiAgICB0ZXh0OiAnQURERUQ6J1xuICB9LFxuICAnRCc6IHtcbiAgICBjb2xvcjogJyNGNDQzMzYnLFxuICAgIHRleHQ6ICdERUxFVEVEOidcbiAgfSxcbiAgJ0EnOiB7XG4gICAgY29sb3I6ICcjMjE5NkYzJyxcbiAgICB0ZXh0OiAnQVJSQVk6J1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdHlsZShraW5kKSB7XG4gIHJldHVybiAnY29sb3I6ICcgKyBkaWN0aW9uYXJ5W2tpbmRdLmNvbG9yICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoZGlmZikge1xuICB2YXIga2luZCA9IGRpZmYua2luZDtcbiAgdmFyIHBhdGggPSBkaWZmLnBhdGg7XG4gIHZhciBsaHMgPSBkaWZmLmxocztcbiAgdmFyIHJocyA9IGRpZmYucmhzO1xuICB2YXIgaW5kZXggPSBkaWZmLmluZGV4O1xuICB2YXIgaXRlbSA9IGRpZmYuaXRlbTtcblxuICBzd2l0Y2ggKGtpbmQpIHtcbiAgICBjYXNlICdFJzpcbiAgICAgIHJldHVybiBwYXRoLmpvaW4oJy4nKSArICcgJyArIGxocyArICcg4oaSICcgKyByaHM7XG4gICAgY2FzZSAnTic6XG4gICAgICByZXR1cm4gcGF0aC5qb2luKCcuJykgKyAnICcgKyByaHM7XG4gICAgY2FzZSAnRCc6XG4gICAgICByZXR1cm4gJycgKyBwYXRoLmpvaW4oJy4nKTtcbiAgICBjYXNlICdBJzpcbiAgICAgIHJldHVybiBbcGF0aC5qb2luKCcuJykgKyAnWycgKyBpbmRleCArICddJywgaXRlbV07XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRpZmZMb2dnZXIocHJldlN0YXRlLCBuZXdTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCkge1xuICB2YXIgZGlmZiA9ICgwLCBfZGVlcERpZmYyLmRlZmF1bHQpKHByZXZTdGF0ZSwgbmV3U3RhdGUpO1xuXG4gIHRyeSB7XG4gICAgaWYgKGlzQ29sbGFwc2VkKSB7XG4gICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJ2RpZmYnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nZ2VyLmdyb3VwKCdkaWZmJyk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmxvZygnZGlmZicpO1xuICB9XG5cbiAgaWYgKGRpZmYpIHtcbiAgICBkaWZmLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgIHZhciBraW5kID0gZWxlbS5raW5kO1xuXG4gICAgICB2YXIgb3V0cHV0ID0gcmVuZGVyKGVsZW0pO1xuXG4gICAgICBsb2dnZXIubG9nKCclYyAnICsgZGljdGlvbmFyeVtraW5kXS50ZXh0LCBzdHlsZShraW5kKSwgb3V0cHV0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgbm8gZGlmZiDigJTigJQnKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKCfigJTigJQgZGlmZiBlbmQg4oCU4oCUICcpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbn0se1wiZGVlcC1kaWZmXCI6MX1dLDE2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIHJlcGVhdCA9IGV4cG9ydHMucmVwZWF0ID0gZnVuY3Rpb24gcmVwZWF0KHN0ciwgdGltZXMpIHtcbiAgcmV0dXJuIG5ldyBBcnJheSh0aW1lcyArIDEpLmpvaW4oc3RyKTtcbn07XG5cbnZhciBwYWQgPSBleHBvcnRzLnBhZCA9IGZ1bmN0aW9uIHBhZChudW0sIG1heExlbmd0aCkge1xuICByZXR1cm4gcmVwZWF0KFwiMFwiLCBtYXhMZW5ndGggLSBudW0udG9TdHJpbmcoKS5sZW5ndGgpICsgbnVtO1xufTtcblxudmFyIGZvcm1hdFRpbWUgPSBleHBvcnRzLmZvcm1hdFRpbWUgPSBmdW5jdGlvbiBmb3JtYXRUaW1lKHRpbWUpIHtcbiAgcmV0dXJuIHBhZCh0aW1lLmdldEhvdXJzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRNaW51dGVzKCksIDIpICsgXCI6XCIgKyBwYWQodGltZS5nZXRTZWNvbmRzKCksIDIpICsgXCIuXCIgKyBwYWQodGltZS5nZXRNaWxsaXNlY29uZHMoKSwgMyk7XG59O1xuXG4vLyBVc2UgcGVyZm9ybWFuY2UgQVBJIGlmIGl0J3MgYXZhaWxhYmxlIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgcHJlY2lzaW9uXG52YXIgdGltZXIgPSBleHBvcnRzLnRpbWVyID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsICYmIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09IFwiZnVuY3Rpb25cIiA/IHBlcmZvcm1hbmNlIDogRGF0ZTtcbn0se31dLDE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG52YXIgX2RlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG52YXIgX2RlZmF1bHRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmF1bHRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBDcmVhdGVzIGxvZ2dlciB3aXRoIGZvbGxvd2luZyBvcHRpb25zXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBsb2dnZXJcbiAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb24gfCBvYmplY3R9IG9wdGlvbnMubGV2ZWwgLSBjb25zb2xlW2xldmVsXVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmR1cmF0aW9uIC0gcHJpbnQgZHVyYXRpb24gb2YgZWFjaCBhY3Rpb24/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMudGltZXN0YW1wIC0gcHJpbnQgdGltZXN0YW1wIHdpdGggZWFjaCBhY3Rpb24/XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5jb2xvcnMgLSBjdXN0b20gY29sb3JzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5sb2dnZXIgLSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgYGNvbnNvbGVgIEFQSVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmxvZ0Vycm9ycyAtIHNob3VsZCBlcnJvcnMgaW4gYWN0aW9uIGV4ZWN1dGlvbiBiZSBjYXVnaHQsIGxvZ2dlZCwgYW5kIHJlLXRocm93bj9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5jb2xsYXBzZWQgLSBpcyBncm91cCBjb2xsYXBzZWQ/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucHJlZGljYXRlIC0gY29uZGl0aW9uIHdoaWNoIHJlc29sdmVzIGxvZ2dlciBiZWhhdmlvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIHN0YXRlIGJlZm9yZSBwcmludFxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBhY3Rpb24gYmVmb3JlIHByaW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLmVycm9yVHJhbnNmb3JtZXIgLSB0cmFuc2Zvcm0gZXJyb3IgYmVmb3JlIHByaW50XG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufSBsb2dnZXIgbWlkZGxld2FyZVxuICovXG5mdW5jdGlvbiBjcmVhdGVMb2dnZXIoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgdmFyIGxvZ2dlck9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgX2RlZmF1bHRzMi5kZWZhdWx0LCBvcHRpb25zKTtcblxuICB2YXIgbG9nZ2VyID0gbG9nZ2VyT3B0aW9ucy5sb2dnZXI7XG4gIHZhciB0cmFuc2Zvcm1lciA9IGxvZ2dlck9wdGlvbnMudHJhbnNmb3JtZXI7XG4gIHZhciBzdGF0ZVRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyO1xuICB2YXIgZXJyb3JUcmFuc2Zvcm1lciA9IGxvZ2dlck9wdGlvbnMuZXJyb3JUcmFuc2Zvcm1lcjtcbiAgdmFyIHByZWRpY2F0ZSA9IGxvZ2dlck9wdGlvbnMucHJlZGljYXRlO1xuICB2YXIgbG9nRXJyb3JzID0gbG9nZ2VyT3B0aW9ucy5sb2dFcnJvcnM7XG4gIHZhciBkaWZmUHJlZGljYXRlID0gbG9nZ2VyT3B0aW9ucy5kaWZmUHJlZGljYXRlO1xuXG4gIC8vIFJldHVybiBpZiAnY29uc29sZScgb2JqZWN0IGlzIG5vdCBkZWZpbmVkXG5cbiAgaWYgKHR5cGVvZiBsb2dnZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICBpZiAodHJhbnNmb3JtZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdPcHRpb24gXFwndHJhbnNmb3JtZXJcXCcgaXMgZGVwcmVjYXRlZCwgdXNlIFxcJ3N0YXRlVHJhbnNmb3JtZXJcXCcgaW5zdGVhZCEnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cblxuICB2YXIgbG9nQnVmZmVyID0gW107XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGdldFN0YXRlID0gX3JlZi5nZXRTdGF0ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIC8vIEV4aXQgZWFybHkgaWYgcHJlZGljYXRlIGZ1bmN0aW9uIHJldHVybnMgJ2ZhbHNlJ1xuICAgICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhcHJlZGljYXRlKGdldFN0YXRlLCBhY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2dFbnRyeSA9IHt9O1xuICAgICAgICBsb2dCdWZmZXIucHVzaChsb2dFbnRyeSk7XG5cbiAgICAgICAgbG9nRW50cnkuc3RhcnRlZCA9IF9oZWxwZXJzLnRpbWVyLm5vdygpO1xuICAgICAgICBsb2dFbnRyeS5zdGFydGVkVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxvZ0VudHJ5LnByZXZTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG4gICAgICAgIGxvZ0VudHJ5LmFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICB2YXIgcmV0dXJuZWRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGxvZ0Vycm9ycykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ0VudHJ5LmVycm9yID0gZXJyb3JUcmFuc2Zvcm1lcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IG5leHQoYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ0VudHJ5LnRvb2sgPSBfaGVscGVycy50aW1lci5ub3coKSAtIGxvZ0VudHJ5LnN0YXJ0ZWQ7XG4gICAgICAgIGxvZ0VudHJ5Lm5leHRTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG5cbiAgICAgICAgdmFyIGRpZmYgPSBsb2dnZXJPcHRpb25zLmRpZmYgJiYgdHlwZW9mIGRpZmZQcmVkaWNhdGUgPT09ICdmdW5jdGlvbicgPyBkaWZmUHJlZGljYXRlKGdldFN0YXRlLCBhY3Rpb24pIDogbG9nZ2VyT3B0aW9ucy5kaWZmO1xuXG4gICAgICAgICgwLCBfY29yZS5wcmludEJ1ZmZlcikobG9nQnVmZmVyLCBfZXh0ZW5kcyh7fSwgbG9nZ2VyT3B0aW9ucywgeyBkaWZmOiBkaWZmIH0pKTtcbiAgICAgICAgbG9nQnVmZmVyLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgaWYgKGxvZ0VudHJ5LmVycm9yKSB0aHJvdyBsb2dFbnRyeS5lcnJvcjtcbiAgICAgICAgcmV0dXJuIHJldHVybmVkVmFsdWU7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUxvZ2dlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xufSx7XCIuL2NvcmVcIjoxMyxcIi4vZGVmYXVsdHNcIjoxNCxcIi4vaGVscGVyc1wiOjE2fV0sMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBhcHBseU1pZGRsZXdhcmU7XG5cbnZhciBfY29tcG9zZSA9IHJlcXVpcmUoJy4vY29tcG9zZScpO1xuXG52YXIgX2NvbXBvc2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9zZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCBhcHBsaWVzIG1pZGRsZXdhcmUgdG8gdGhlIGRpc3BhdGNoIG1ldGhvZFxuICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuICogYXN5bmNocm9ub3VzIGFjdGlvbnMgaW4gYSBjb25jaXNlIG1hbm5lciwgb3IgbG9nZ2luZyBldmVyeSBhY3Rpb24gcGF5bG9hZC5cbiAqXG4gKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG4gKlxuICogQmVjYXVzZSBtaWRkbGV3YXJlIGlzIHBvdGVudGlhbGx5IGFzeW5jaHJvbm91cywgdGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0XG4gKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG4gKlxuICogTm90ZSB0aGF0IGVhY2ggbWlkZGxld2FyZSB3aWxsIGJlIGdpdmVuIHRoZSBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIGZ1bmN0aW9uc1xuICogYXMgbmFtZWQgYXJndW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIFRoZSBtaWRkbGV3YXJlIGNoYWluIHRvIGJlIGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWlkZGxld2FyZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGNyZWF0ZVN0b3JlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcik7XG4gICAgICB2YXIgX2Rpc3BhdGNoID0gc3RvcmUuZGlzcGF0Y2g7XG4gICAgICB2YXIgY2hhaW4gPSBbXTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBfY29tcG9zZTJbJ2RlZmF1bHQnXS5hcHBseSh1bmRlZmluZWQsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG5cbiAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc3RvcmUsIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn1cbn0se1wiLi9jb21wb3NlXCI6MjF9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzWydkZWZhdWx0J10gPSBiaW5kQWN0aW9uQ3JlYXRvcnM7XG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgJyArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyAnLiAnICsgJ0RpZCB5b3Ugd3JpdGUgXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiIGluc3RlYWQgb2YgXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXCI/Jyk7XG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFjdGlvbkNyZWF0b3JzKTtcbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cbn0se31dLDIwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2Vzcyl7XG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzWydkZWZhdWx0J10gPSBjb21iaW5lUmVkdWNlcnM7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnLi91dGlscy93YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbk5hbWUgPSBhY3Rpb25UeXBlICYmICdcIicgKyBhY3Rpb25UeXBlLnRvU3RyaW5nKCkgKyAnXCInIHx8ICdhbiBhY3Rpb24nO1xuXG4gIHJldHVybiAnR2l2ZW4gYWN0aW9uICcgKyBhY3Rpb25OYW1lICsgJywgcmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiAnICsgJ1RvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4nO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSkge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IF9jcmVhdGVTdG9yZS5BY3Rpb25UeXBlcy5JTklUID8gJ3ByZWxvYWRlZFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyWydkZWZhdWx0J10pKGlucHV0U3RhdGUpKSB7XG4gICAgcmV0dXJuICdUaGUgJyArIGFyZ3VtZW50TmFtZSArICcgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArICdcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyAnICsgKCdrZXlzOiBcIicgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArICdcIicpO1xuICB9XG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldO1xuICB9KTtcblxuICB1bmV4cGVjdGVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuXG4gIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuICdVbmV4cGVjdGVkICcgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArICcgJyArICgnXCInICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyAnXCIgZm91bmQgaW4gJyArIGFyZ3VtZW50TmFtZSArICcuICcpICsgJ0V4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogJyArICgnXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNhbml0eShyZWR1Y2Vycykge1xuICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgIHZhciBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwgeyB0eXBlOiBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VyIFwiJyArIGtleSArICdcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiAnICsgJ0lmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCAnICsgJ2V4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgJyArICdub3QgYmUgdW5kZWZpbmVkLicpO1xuICAgIH1cblxuICAgIHZhciB0eXBlID0gJ0BAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05fJyArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdCgnJykuam9pbignLicpO1xuICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogdHlwZSB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gJyArICgnRG9uXFwndCB0cnkgdG8gaGFuZGxlICcgKyBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCArICcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiAnKSArICduYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSAnICsgJ2N1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsICcgKyAnaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlICcgKyAnYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLicpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG4gKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG4gKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG4gKiByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgY29tYmluZWQgaW50byBvbmUuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluXG4gKiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyIHJldHVyblxuICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICogaWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGVtIHdhcyB1bmRlZmluZWQsIGFuZCB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55XG4gKiB1bnJlY29nbml6ZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBldmVyeSByZWR1Y2VyIGluc2lkZSB0aGVcbiAqIHBhc3NlZCBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cbiAqL1xuZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICgwLCBfd2FybmluZzJbJ2RlZmF1bHQnXSkoJ05vIHJlZHVjZXIgcHJvdmlkZWQgZm9yIGtleSBcIicgKyBrZXkgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgfVxuICB9XG4gIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgdW5leHBlY3RlZEtleUNhY2hlID0ge307XG4gIH1cblxuICB2YXIgc2FuaXR5RXJyb3I7XG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNhbml0eShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNhbml0eUVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbigpIHtcbiAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzWzFdO1xuXG4gICAgaWYgKHNhbml0eUVycm9yKSB7XG4gICAgICB0aHJvdyBzYW5pdHlFcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpO1xuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgICgwLCBfd2FybmluZzJbJ2RlZmF1bHQnXSkod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGZpbmFsUmVkdWNlcktleXNbaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNba2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVba2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBuZXh0U3RhdGVba2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKVxuXG59LHtcIi4vY3JlYXRlU3RvcmVcIjoyMixcIi4vdXRpbHMvd2FybmluZ1wiOjI0LFwiX3Byb2Nlc3NcIjoxMixcImxvZGFzaC9pc1BsYWluT2JqZWN0XCI6MTF9XSwyMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gY29tcG9zZTtcbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cblxuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZnVuY3NbMF07XG4gIH1cblxuICB2YXIgbGFzdCA9IGZ1bmNzW2Z1bmNzLmxlbmd0aCAtIDFdO1xuICB2YXIgcmVzdCA9IGZ1bmNzLnNsaWNlKDAsIC0xKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcmVzdC5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY29tcG9zZWQsIGYpIHtcbiAgICAgIHJldHVybiBmKGNvbXBvc2VkKTtcbiAgICB9LCBsYXN0LmFwcGx5KHVuZGVmaW5lZCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG59LHt9XSwyMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkFjdGlvblR5cGVzID0gdW5kZWZpbmVkO1xuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlU3RvcmU7XG5cbnZhciBfaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJ2xvZGFzaC9pc1BsYWluT2JqZWN0Jyk7XG5cbnZhciBfaXNQbGFpbk9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1BsYWluT2JqZWN0KTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlID0gcmVxdWlyZSgnc3ltYm9sLW9ic2VydmFibGUnKTtcblxudmFyIF9zeW1ib2xPYnNlcnZhYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbE9ic2VydmFibGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbi8qKlxuICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuICogRm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuICovXG52YXIgQWN0aW9uVHlwZXMgPSBleHBvcnRzLkFjdGlvblR5cGVzID0ge1xuICBJTklUOiAnQEByZWR1eC9JTklUJ1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgUmVkdXggc3RvcmUgdGhhdCBob2xkcyB0aGUgc3RhdGUgdHJlZS5cbiAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuICpcbiAqIFRoZXJlIHNob3VsZCBvbmx5IGJlIGEgc2luZ2xlIHN0b3JlIGluIHlvdXIgYXBwLiBUbyBzcGVjaWZ5IGhvdyBkaWZmZXJlbnRcbiAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcbiAqIGludG8gYSBzaW5nbGUgcmVkdWNlciBmdW5jdGlvbiBieSB1c2luZyBgY29tYmluZVJlZHVjZXJzYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG4gKiB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgYWN0aW9uIHRvIGhhbmRsZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gW3ByZWxvYWRlZFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmhhbmNlciBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZW5oYW5jZXIgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG4gIHZhciBjdXJyZW50U3RhdGUgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKG5leHRMaXN0ZW5lcnMgPT09IGN1cnJlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgICB2YXIgaW5kZXggPSBuZXh0TGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgbmV4dExpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCEoMCwgX2lzUGxhaW5PYmplY3QyWydkZWZhdWx0J10pKGFjdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuICcgKyAnVXNlIGN1c3RvbSBtaWRkbGV3YXJlIGZvciBhc3luYyBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgbGlzdGVuZXJzW2ldKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgcmVkdWNlciBjdXJyZW50bHkgdXNlZCBieSB0aGUgc3RvcmUgdG8gY2FsY3VsYXRlIHRoZSBzdGF0ZS5cbiAgICpcbiAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuICAgKiBsb2FkIHNvbWUgb2YgdGhlIHJlZHVjZXJzIGR5bmFtaWNhbGx5LiBZb3UgbWlnaHQgYWxzbyBuZWVkIHRoaXMgaWYgeW91XG4gICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFJlZHVjZXIgVGhlIHJlZHVjZXIgZm9yIHRoZSBzdG9yZSB0byB1c2UgaW5zdGVhZC5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcihuZXh0UmVkdWNlcikge1xuICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IEFjdGlvblR5cGVzLklOSVQgfSk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBvYnNlcnZhYmxlIHByb3Bvc2FsOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vemVucGFyc2luZy9lcy1vYnNlcnZhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIG91dGVyU3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbWluaW1hbCBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbiBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG4gICAgICAgKiBAcmV0dXJucyB7c3Vic2NyaXB0aW9ufSBBbiBvYmplY3Qgd2l0aCBhbiBgdW5zdWJzY3JpYmVgIG1ldGhvZCB0aGF0IGNhblxuICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlIH07XG4gICAgICB9XG4gICAgfSwgX3JlZltfc3ltYm9sT2JzZXJ2YWJsZTJbJ2RlZmF1bHQnXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9XG5cbiAgLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG4gIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcblxuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbX3N5bWJvbE9ic2VydmFibGUyWydkZWZhdWx0J11dID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG59XG59LHtcImxvZGFzaC9pc1BsYWluT2JqZWN0XCI6MTEsXCJzeW1ib2wtb2JzZXJ2YWJsZVwiOjI2fV0sMjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzKXtcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuY29tcG9zZSA9IGV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBleHBvcnRzLmNvbWJpbmVSZWR1Y2VycyA9IGV4cG9ydHMuY3JlYXRlU3RvcmUgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlU3RvcmUgPSByZXF1aXJlKCcuL2NyZWF0ZVN0b3JlJyk7XG5cbnZhciBfY3JlYXRlU3RvcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlU3RvcmUpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VycyA9IHJlcXVpcmUoJy4vY29tYmluZVJlZHVjZXJzJyk7XG5cbnZhciBfY29tYmluZVJlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbWJpbmVSZWR1Y2Vycyk7XG5cbnZhciBfYmluZEFjdGlvbkNyZWF0b3JzID0gcmVxdWlyZSgnLi9iaW5kQWN0aW9uQ3JlYXRvcnMnKTtcblxudmFyIF9iaW5kQWN0aW9uQ3JlYXRvcnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmluZEFjdGlvbkNyZWF0b3JzKTtcblxudmFyIF9hcHBseU1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL2FwcGx5TWlkZGxld2FyZScpO1xuXG52YXIgX2FwcGx5TWlkZGxld2FyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcHBseU1pZGRsZXdhcmUpO1xuXG52YXIgX2NvbXBvc2UgPSByZXF1aXJlKCcuL2NvbXBvc2UnKTtcblxudmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCcuL3V0aWxzL3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbi8qXG4qIFRoaXMgaXMgYSBkdW1teSBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgZnVuY3Rpb24gbmFtZSBoYXMgYmVlbiBhbHRlcmVkIGJ5IG1pbmlmaWNhdGlvbi5cbiogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuKi9cbmZ1bmN0aW9uIGlzQ3J1c2hlZCgpIHt9XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG4gICgwLCBfd2FybmluZzJbJ2RlZmF1bHQnXSkoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXFwncHJvZHVjdGlvblxcJy4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIERlZmluZVBsdWdpbiBmb3Igd2VicGFjayAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMDAzMDAzMSkgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xufVxuXG5leHBvcnRzLmNyZWF0ZVN0b3JlID0gX2NyZWF0ZVN0b3JlMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBfY29tYmluZVJlZHVjZXJzMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5iaW5kQWN0aW9uQ3JlYXRvcnMgPSBfYmluZEFjdGlvbkNyZWF0b3JzMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5hcHBseU1pZGRsZXdhcmUgPSBfYXBwbHlNaWRkbGV3YXJlMlsnZGVmYXVsdCddO1xuZXhwb3J0cy5jb21wb3NlID0gX2NvbXBvc2UyWydkZWZhdWx0J107XG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSlcblxufSx7XCIuL2FwcGx5TWlkZGxld2FyZVwiOjE4LFwiLi9iaW5kQWN0aW9uQ3JlYXRvcnNcIjoxOSxcIi4vY29tYmluZVJlZHVjZXJzXCI6MjAsXCIuL2NvbXBvc2VcIjoyMSxcIi4vY3JlYXRlU3RvcmVcIjoyMixcIi4vdXRpbHMvd2FybmluZ1wiOjI0LFwiX3Byb2Nlc3NcIjoxMn1dLDI0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHdhcm5pbmc7XG4vKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG4gICAgLy8gXCJicmVhayBvbiBhbGwgZXhjZXB0aW9uc1wiIGluIHlvdXIgY29uc29sZSxcbiAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cbiAgfSBjYXRjaCAoZSkge31cbiAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xufVxufSx7fV0sMjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChwcm9jZXNzLGdsb2JhbCl7XG4vKlxuXHRUaGlzIGlzIHJvdC5qcywgdGhlIFJPZ3VlbGlrZSBUb29sa2l0IGluIEphdmFTY3JpcHQuXG5cdFZlcnNpb24gMC42fmRldiwgZ2VuZXJhdGVkIG9uIE1vbiBOb3YgMzAgMTA6MzQ6NDIgQ0VUIDIwMTUuXG4qL1xuLyoqXG4gKiBBZGQgb2JqZWN0cyBmb3IgTm9kZS5qcyBlbnZpcm9ubWVudFxuICovXG5nbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2IpIHtcblx0cmV0dXJuIHNldFRpbWVvdXQoY2IsIDEwMDAvNjApO1xufTtcblxuZ2xvYmFsLmRvY3VtZW50ID0ge1xuXHRib2R5OiB7XG5cdFx0YXBwZW5kQ2hpbGQ6IGZ1bmN0aW9uKGNoaWxkKSB7fSxcblx0XHRzY3JvbGxMZWZ0OiAwLFxuXHRcdHNjcm9sbFRvcDogMFxuXHR9LFxuXHRjcmVhdGVFbGVtZW50OiBmdW5jdGlvbih0eXBlKSB7XG5cdFx0dmFyIGNhbnZhcztcblx0XHRyZXR1cm4gY2FudmFzID0ge1xuXHRcdFx0Z2V0Qm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHJlY3Q7XG5cdFx0XHRcdHJldHVybiByZWN0ID0ge1xuXHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0dG9wOiAwXG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0Z2V0Q29udGV4dDogZnVuY3Rpb24odHlwZSkge1xuXHRcdFx0XHR2YXIgY29udGV4dDtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQgPSB7XG5cdFx0XHRcdFx0X3Rlcm1jb2xvcjogbnVsbCxcblx0XHRcdFx0XHRiZWdpblBhdGg6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRcdFx0Y2FudmFzOiBjYW52YXMsXG5cdFx0XHRcdFx0Y2xlYXJSZWN0OiBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG5cdFx0XHRcdFx0XHRpZih0aGlzLl90ZXJtY29sb3IgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGNsZWFyQ21kID0gdGhpcy5fdGVybWNvbG9yLmNsZWFyVG9BbnNpKHRoaXMuZmlsbFN0eWxlKTtcblx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGRvdXQud3JpdGUoY2xlYXJDbWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZHJhd0ltYWdlOiBmdW5jdGlvbihhLCBiLCBjLCBkLCBlLCBmLCBnLCBoLCBpKSB7fSxcblx0XHRcdFx0XHRmaWxsOiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0XHRcdGZpbGxSZWN0OiBmdW5jdGlvbih4LCB5LCB3LCBoKSB7XG5cdFx0XHRcdFx0XHRpZih0aGlzLl90ZXJtY29sb3IgIT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGNsZWFyQ21kID0gdGhpcy5fdGVybWNvbG9yLmNsZWFyVG9BbnNpKHRoaXMuZmlsbFN0eWxlKTtcblx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGRvdXQud3JpdGUoY2xlYXJDbWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZmlsbFN0eWxlOiBcIiMwMDBcIixcblx0XHRcdFx0XHRmaWxsVGV4dDogZnVuY3Rpb24oY2hzLCB4LCB5KSB7fSxcblx0XHRcdFx0XHRmb250OiBcIm1vbm9zcGFjZVwiLFxuXHRcdFx0XHRcdGxpbmVUbzogZnVuY3Rpb24oeCwgeSkge30sXG5cdFx0XHRcdFx0bWVhc3VyZVRleHQ6IGZ1bmN0aW9uKGNoKSB7XG5cdFx0XHRcdFx0XHR2YXIgcmVzdWx0O1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdCA9IHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6IDEyXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0bW92ZVRvOiBmdW5jdGlvbih4LCB5KSB7fSxcblx0XHRcdFx0XHR0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG5cdFx0XHRcdFx0dGV4dEJhc2VsaW5lOiBcIm1pZGRsZVwiXG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdFx0aGVpZ2h0OiAwLFxuXHRcdFx0c3R5bGU6IHtcblx0XHRcdFx0bGVmdDogXCIxMDBweFwiLFxuXHRcdFx0XHRwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuXHRcdFx0XHR0b3A6IFwiMTAwcHhcIixcblx0XHRcdFx0dmlzaWJpbGl0eTogXCJoaWRkZW5cIlxuXHRcdFx0fSxcblx0XHRcdHdpZHRoOiAwXG5cdFx0fTtcblx0fSxcblx0ZG9jdW1lbnRFbGVtZW50OiB7XG5cdFx0c2Nyb2xsTGVmdDogMCxcblx0XHRzY3JvbGxUb3A6IDBcblx0fVxufTtcbi8qKlxuICogQG5hbWVzcGFjZSBUb3AtbGV2ZWwgUk9UIG5hbWVzcGFjZVxuICovXG52YXIgUk9UID0ge1xuXHQvKipcblx0ICogQHJldHVybnMge2Jvb2x9IElzIHJvdC5qcyBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyP1xuXHQgKi9cblx0aXNTdXBwb3J0ZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAhIShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpO1xuXHR9LFxuXG5cdC8qKiBEZWZhdWx0IHdpdGggZm9yIGRpc3BsYXkgYW5kIG1hcCBnZW5lcmF0b3JzICovXG5cdERFRkFVTFRfV0lEVEg6IDgwLFxuXHQvKiogRGVmYXVsdCBoZWlnaHQgZm9yIGRpc3BsYXkgYW5kIG1hcCBnZW5lcmF0b3JzICovXG5cdERFRkFVTFRfSEVJR0hUOiAyNSxcblxuXHQvKiogRGlyZWN0aW9uYWwgY29uc3RhbnRzLiBPcmRlcmluZyBpcyBpbXBvcnRhbnQhICovXG5cdERJUlM6IHtcblx0XHRcIjRcIjogW1xuXHRcdFx0WyAwLCAtMV0sXG5cdFx0XHRbIDEsICAwXSxcblx0XHRcdFsgMCwgIDFdLFxuXHRcdFx0Wy0xLCAgMF1cblx0XHRdLFxuXHRcdFwiOFwiOiBbXG5cdFx0XHRbIDAsIC0xXSxcblx0XHRcdFsgMSwgLTFdLFxuXHRcdFx0WyAxLCAgMF0sXG5cdFx0XHRbIDEsICAxXSxcblx0XHRcdFsgMCwgIDFdLFxuXHRcdFx0Wy0xLCAgMV0sXG5cdFx0XHRbLTEsICAwXSxcblx0XHRcdFstMSwgLTFdXG5cdFx0XSxcblx0XHRcIjZcIjogW1xuXHRcdFx0Wy0xLCAtMV0sXG5cdFx0XHRbIDEsIC0xXSxcblx0XHRcdFsgMiwgIDBdLFxuXHRcdFx0WyAxLCAgMV0sXG5cdFx0XHRbLTEsICAxXSxcblx0XHRcdFstMiwgIDBdXG5cdFx0XVxuXHR9LFxuXG5cdC8qKiBDYW5jZWwga2V5LiAqL1xuXHRWS19DQU5DRUw6IDMsIFxuXHQvKiogSGVscCBrZXkuICovXG5cdFZLX0hFTFA6IDYsIFxuXHQvKiogQmFja3NwYWNlIGtleS4gKi9cblx0VktfQkFDS19TUEFDRTogOCwgXG5cdC8qKiBUYWIga2V5LiAqL1xuXHRWS19UQUI6IDksIFxuXHQvKiogNSBrZXkgb24gTnVtcGFkIHdoZW4gTnVtTG9jayBpcyB1bmxvY2tlZC4gT3Igb24gTWFjLCBjbGVhciBrZXkgd2hpY2ggaXMgcG9zaXRpb25lZCBhdCBOdW1Mb2NrIGtleS4gKi9cblx0VktfQ0xFQVI6IDEyLCBcblx0LyoqIFJldHVybi9lbnRlciBrZXkgb24gdGhlIG1haW4ga2V5Ym9hcmQuICovXG5cdFZLX1JFVFVSTjogMTMsIFxuXHQvKiogUmVzZXJ2ZWQsIGJ1dCBub3QgdXNlZC4gKi9cblx0VktfRU5URVI6IDE0LCBcblx0LyoqIFNoaWZ0IGtleS4gKi9cblx0VktfU0hJRlQ6IDE2LCBcblx0LyoqIENvbnRyb2wga2V5LiAqL1xuXHRWS19DT05UUk9MOiAxNywgXG5cdC8qKiBBbHQgKE9wdGlvbiBvbiBNYWMpIGtleS4gKi9cblx0VktfQUxUOiAxOCwgXG5cdC8qKiBQYXVzZSBrZXkuICovXG5cdFZLX1BBVVNFOiAxOSwgXG5cdC8qKiBDYXBzIGxvY2suICovXG5cdFZLX0NBUFNfTE9DSzogMjAsIFxuXHQvKiogRXNjYXBlIGtleS4gKi9cblx0VktfRVNDQVBFOiAyNywgXG5cdC8qKiBTcGFjZSBiYXIuICovXG5cdFZLX1NQQUNFOiAzMiwgXG5cdC8qKiBQYWdlIFVwIGtleS4gKi9cblx0VktfUEFHRV9VUDogMzMsIFxuXHQvKiogUGFnZSBEb3duIGtleS4gKi9cblx0VktfUEFHRV9ET1dOOiAzNCwgXG5cdC8qKiBFbmQga2V5LiAqL1xuXHRWS19FTkQ6IDM1LCBcblx0LyoqIEhvbWUga2V5LiAqL1xuXHRWS19IT01FOiAzNiwgXG5cdC8qKiBMZWZ0IGFycm93LiAqL1xuXHRWS19MRUZUOiAzNywgXG5cdC8qKiBVcCBhcnJvdy4gKi9cblx0VktfVVA6IDM4LCBcblx0LyoqIFJpZ2h0IGFycm93LiAqL1xuXHRWS19SSUdIVDogMzksIFxuXHQvKiogRG93biBhcnJvdy4gKi9cblx0VktfRE9XTjogNDAsIFxuXHQvKiogUHJpbnQgU2NyZWVuIGtleS4gKi9cblx0VktfUFJJTlRTQ1JFRU46IDQ0LCBcblx0LyoqIElucyhlcnQpIGtleS4gKi9cblx0VktfSU5TRVJUOiA0NSwgXG5cdC8qKiBEZWwoZXRlKSBrZXkuICovXG5cdFZLX0RFTEVURTogNDYsIFxuXHQvKioqL1xuXHRWS18wOiA0OCxcblx0LyoqKi9cblx0VktfMTogNDksXG5cdC8qKiovXG5cdFZLXzI6IDUwLFxuXHQvKioqL1xuXHRWS18zOiA1MSxcblx0LyoqKi9cblx0VktfNDogNTIsXG5cdC8qKiovXG5cdFZLXzU6IDUzLFxuXHQvKioqL1xuXHRWS182OiA1NCxcblx0LyoqKi9cblx0VktfNzogNTUsXG5cdC8qKiovXG5cdFZLXzg6IDU2LFxuXHQvKioqL1xuXHRWS185OiA1Nyxcblx0LyoqIENvbG9uICg6KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQ09MT046IDU4LCBcblx0LyoqIFNlbWljb2xvbiAoOykga2V5LiAqL1xuXHRWS19TRU1JQ09MT046IDU5LCBcblx0LyoqIExlc3MtdGhhbiAoPCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0xFU1NfVEhBTjogNjAsIFxuXHQvKiogRXF1YWxzICg9KSBrZXkuICovXG5cdFZLX0VRVUFMUzogNjEsIFxuXHQvKiogR3JlYXRlci10aGFuICg+KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfR1JFQVRFUl9USEFOOiA2MiwgXG5cdC8qKiBRdWVzdGlvbiBtYXJrICg/KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUVVFU1RJT05fTUFSSzogNjMsIFxuXHQvKiogQXRtYXJrIChAKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQVQ6IDY0LCBcblx0LyoqKi9cblx0VktfQTogNjUsXG5cdC8qKiovXG5cdFZLX0I6IDY2LFxuXHQvKioqL1xuXHRWS19DOiA2Nyxcblx0LyoqKi9cblx0VktfRDogNjgsXG5cdC8qKiovXG5cdFZLX0U6IDY5LFxuXHQvKioqL1xuXHRWS19GOiA3MCxcblx0LyoqKi9cblx0VktfRzogNzEsXG5cdC8qKiovXG5cdFZLX0g6IDcyLFxuXHQvKioqL1xuXHRWS19JOiA3Myxcblx0LyoqKi9cblx0VktfSjogNzQsXG5cdC8qKiovXG5cdFZLX0s6IDc1LFxuXHQvKioqL1xuXHRWS19MOiA3Nixcblx0LyoqKi9cblx0VktfTTogNzcsXG5cdC8qKiovXG5cdFZLX046IDc4LFxuXHQvKioqL1xuXHRWS19POiA3OSxcblx0LyoqKi9cblx0VktfUDogODAsXG5cdC8qKiovXG5cdFZLX1E6IDgxLFxuXHQvKioqL1xuXHRWS19SOiA4Mixcblx0LyoqKi9cblx0VktfUzogODMsXG5cdC8qKiovXG5cdFZLX1Q6IDg0LFxuXHQvKioqL1xuXHRWS19VOiA4NSxcblx0LyoqKi9cblx0VktfVjogODYsXG5cdC8qKiovXG5cdFZLX1c6IDg3LFxuXHQvKioqL1xuXHRWS19YOiA4OCxcblx0LyoqKi9cblx0VktfWTogODksXG5cdC8qKiovXG5cdFZLX1o6IDkwLFxuXHQvKioqL1xuXHRWS19DT05URVhUX01FTlU6IDkzLFxuXHQvKiogMCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDA6IDk2LCBcblx0LyoqIDEgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQxOiA5NywgXG5cdC8qKiAyIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMjogOTgsIFxuXHQvKiogMyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDM6IDk5LCBcblx0LyoqIDQgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ0OiAxMDAsIFxuXHQvKiogNSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDU6IDEwMSwgXG5cdC8qKiA2IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENjogMTAyLCBcblx0LyoqIDcgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ3OiAxMDMsIFxuXHQvKiogOCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDg6IDEwNCwgXG5cdC8qKiA5IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEOTogMTA1LCBcblx0LyoqICogb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19NVUxUSVBMWTogMTA2LFxuXHQvKiogKyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX0FERDogMTA3LCBcblx0LyoqKi9cblx0VktfU0VQQVJBVE9SOiAxMDgsXG5cdC8qKiAtIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfU1VCVFJBQ1Q6IDEwOSwgXG5cdC8qKiBEZWNpbWFsIHBvaW50IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfREVDSU1BTDogMTEwLCBcblx0LyoqIC8gb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19ESVZJREU6IDExMSwgXG5cdC8qKiBGMSBrZXkuICovXG5cdFZLX0YxOiAxMTIsIFxuXHQvKiogRjIga2V5LiAqL1xuXHRWS19GMjogMTEzLCBcblx0LyoqIEYzIGtleS4gKi9cblx0VktfRjM6IDExNCwgXG5cdC8qKiBGNCBrZXkuICovXG5cdFZLX0Y0OiAxMTUsIFxuXHQvKiogRjUga2V5LiAqL1xuXHRWS19GNTogMTE2LCBcblx0LyoqIEY2IGtleS4gKi9cblx0VktfRjY6IDExNywgXG5cdC8qKiBGNyBrZXkuICovXG5cdFZLX0Y3OiAxMTgsIFxuXHQvKiogRjgga2V5LiAqL1xuXHRWS19GODogMTE5LCBcblx0LyoqIEY5IGtleS4gKi9cblx0VktfRjk6IDEyMCwgXG5cdC8qKiBGMTAga2V5LiAqL1xuXHRWS19GMTA6IDEyMSwgXG5cdC8qKiBGMTEga2V5LiAqL1xuXHRWS19GMTE6IDEyMiwgXG5cdC8qKiBGMTIga2V5LiAqL1xuXHRWS19GMTI6IDEyMywgXG5cdC8qKiBGMTMga2V5LiAqL1xuXHRWS19GMTM6IDEyNCwgXG5cdC8qKiBGMTQga2V5LiAqL1xuXHRWS19GMTQ6IDEyNSwgXG5cdC8qKiBGMTUga2V5LiAqL1xuXHRWS19GMTU6IDEyNiwgXG5cdC8qKiBGMTYga2V5LiAqL1xuXHRWS19GMTY6IDEyNywgXG5cdC8qKiBGMTcga2V5LiAqL1xuXHRWS19GMTc6IDEyOCwgXG5cdC8qKiBGMTgga2V5LiAqL1xuXHRWS19GMTg6IDEyOSwgXG5cdC8qKiBGMTkga2V5LiAqL1xuXHRWS19GMTk6IDEzMCwgXG5cdC8qKiBGMjAga2V5LiAqL1xuXHRWS19GMjA6IDEzMSwgXG5cdC8qKiBGMjEga2V5LiAqL1xuXHRWS19GMjE6IDEzMiwgXG5cdC8qKiBGMjIga2V5LiAqL1xuXHRWS19GMjI6IDEzMywgXG5cdC8qKiBGMjMga2V5LiAqL1xuXHRWS19GMjM6IDEzNCwgXG5cdC8qKiBGMjQga2V5LiAqL1xuXHRWS19GMjQ6IDEzNSwgXG5cdC8qKiBOdW0gTG9jayBrZXkuICovXG5cdFZLX05VTV9MT0NLOiAxNDQsIFxuXHQvKiogU2Nyb2xsIExvY2sga2V5LiAqL1xuXHRWS19TQ1JPTExfTE9DSzogMTQ1LCBcblx0LyoqIENpcmN1bWZsZXggKF4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DSVJDVU1GTEVYOiAxNjAsIFxuXHQvKiogRXhjbGFtYXRpb24gKCEpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19FWENMQU1BVElPTjogMTYxLCBcblx0LyoqIERvdWJsZSBxdW90ZSAoKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRE9VQkxFX1FVT1RFOiAxNjIsIFxuXHQvKiogSGFzaCAoIykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0hBU0g6IDE2MywgXG5cdC8qKiBEb2xsYXIgc2lnbiAoJCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0RPTExBUjogMTY0LCBcblx0LyoqIFBlcmNlbnQgKCUpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19QRVJDRU5UOiAxNjUsIFxuXHQvKiogQW1wZXJzYW5kICgmKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQU1QRVJTQU5EOiAxNjYsIFxuXHQvKiogVW5kZXJzY29yZSAoXykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1VOREVSU0NPUkU6IDE2NywgXG5cdC8qKiBPcGVuIHBhcmVudGhlc2lzICgoKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfT1BFTl9QQVJFTjogMTY4LCBcblx0LyoqIENsb3NlIHBhcmVudGhlc2lzICgpKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQ0xPU0VfUEFSRU46IDE2OSwgXG5cdC8qIEFzdGVyaXNrICgqKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQVNURVJJU0s6IDE3MCxcblx0LyoqIFBsdXMgKCspIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19QTFVTOiAxNzEsIFxuXHQvKiogUGlwZSAofCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1BJUEU6IDE3MiwgXG5cdC8qKiBIeXBoZW4tVVMvZG9jcy9NaW51cyAoLSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0hZUEhFTl9NSU5VUzogMTczLCBcblx0LyoqIE9wZW4gY3VybHkgYnJhY2tldCAoeykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX09QRU5fQ1VSTFlfQlJBQ0tFVDogMTc0LCBcblx0LyoqIENsb3NlIGN1cmx5IGJyYWNrZXQgKH0pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DTE9TRV9DVVJMWV9CUkFDS0VUOiAxNzUsIFxuXHQvKiogVGlsZGUgKH4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19USUxERTogMTc2LCBcblx0LyoqIENvbW1hICgsKSBrZXkuICovXG5cdFZLX0NPTU1BOiAxODgsIFxuXHQvKiogUGVyaW9kICguKSBrZXkuICovXG5cdFZLX1BFUklPRDogMTkwLCBcblx0LyoqIFNsYXNoICgvKSBrZXkuICovXG5cdFZLX1NMQVNIOiAxOTEsIFxuXHQvKiogQmFjayB0aWNrIChgKSBrZXkuICovXG5cdFZLX0JBQ0tfUVVPVEU6IDE5MiwgXG5cdC8qKiBPcGVuIHNxdWFyZSBicmFja2V0IChbKSBrZXkuICovXG5cdFZLX09QRU5fQlJBQ0tFVDogMjE5LCBcblx0LyoqIEJhY2sgc2xhc2ggKFxcKSBrZXkuICovXG5cdFZLX0JBQ0tfU0xBU0g6IDIyMCwgXG5cdC8qKiBDbG9zZSBzcXVhcmUgYnJhY2tldCAoXSkga2V5LiAqL1xuXHRWS19DTE9TRV9CUkFDS0VUOiAyMjEsIFxuXHQvKiogUXVvdGUgKCcnJykga2V5LiAqL1xuXHRWS19RVU9URTogMjIyLCBcblx0LyoqIE1ldGEga2V5IG9uIExpbnV4LCBDb21tYW5kIGtleSBvbiBNYWMuICovXG5cdFZLX01FVEE6IDIyNCwgXG5cdC8qKiBBbHRHciBrZXkgb24gTGludXguIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQUxUR1I6IDIyNSwgXG5cdC8qKiBXaW5kb3dzIGxvZ28ga2V5IG9uIFdpbmRvd3MuIE9yIFN1cGVyIG9yIEh5cGVyIGtleSBvbiBMaW51eC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19XSU46IDkxLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19LQU5BOiAyMSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfSEFOR1VMOiAyMSwgXG5cdC8qKiDoi7HmlbAga2V5IG9uIEphcGFuZXNlIE1hYyBrZXlib2FyZC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19FSVNVOiAyMiwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfSlVOSkE6IDIzLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19GSU5BTDogMjQsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0hBTkpBOiAyNSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfS0FOSkk6IDI1LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19DT05WRVJUOiAyOCwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfTk9OQ09OVkVSVDogMjksIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0FDQ0VQVDogMzAsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX01PREVDSEFOR0U6IDMxLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19TRUxFQ1Q6IDQxLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19QUklOVDogNDIsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0VYRUNVVEU6IDQzLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLlx0ICovXG5cdFZLX1NMRUVQOiA5NSBcbn07XG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqIENvbnRhaW5zIHRleHQgdG9rZW5pemF0aW9uIGFuZCBicmVha2luZyByb3V0aW5lc1xuICovXG5ST1QuVGV4dCA9IHtcblx0UkVfQ09MT1JTOiAvJShbYmNdKXsoW159XSopfS9nLFxuXG5cdC8qIHRva2VuIHR5cGVzICovXG5cdFRZUEVfVEVYVDpcdFx0MCxcblx0VFlQRV9ORVdMSU5FOlx0MSxcblx0VFlQRV9GRzpcdFx0Mixcblx0VFlQRV9CRzpcdFx0MyxcblxuXHQvKipcblx0ICogTWVhc3VyZSBzaXplIG9mIGEgcmVzdWx0aW5nIHRleHQgYmxvY2tcblx0ICovXG5cdG1lYXN1cmU6IGZ1bmN0aW9uKHN0ciwgbWF4V2lkdGgpIHtcblx0XHR2YXIgcmVzdWx0ID0ge3dpZHRoOjAsIGhlaWdodDoxfTtcblx0XHR2YXIgdG9rZW5zID0gdGhpcy50b2tlbml6ZShzdHIsIG1heFdpZHRoKTtcblx0XHR2YXIgbGluZVdpZHRoID0gMDtcblxuXHRcdGZvciAodmFyIGk9MDtpPHRva2Vucy5sZW5ndGg7aSsrKSB7XG5cdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG5cdFx0XHRzd2l0Y2ggKHRva2VuLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSB0aGlzLlRZUEVfVEVYVDpcblx0XHRcdFx0XHRsaW5lV2lkdGggKz0gdG9rZW4udmFsdWUubGVuZ3RoO1xuXHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlIHRoaXMuVFlQRV9ORVdMSU5FOlxuXHRcdFx0XHRcdHJlc3VsdC5oZWlnaHQrKztcblx0XHRcdFx0XHRyZXN1bHQud2lkdGggPSBNYXRoLm1heChyZXN1bHQud2lkdGgsIGxpbmVXaWR0aCk7XG5cdFx0XHRcdFx0bGluZVdpZHRoID0gMDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc3VsdC53aWR0aCA9IE1hdGgubWF4KHJlc3VsdC53aWR0aCwgbGluZVdpZHRoKTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnQgc3RyaW5nIHRvIGEgc2VyaWVzIG9mIGEgZm9ybWF0dGluZyBjb21tYW5kc1xuXHQgKi9cblx0dG9rZW5pemU6IGZ1bmN0aW9uKHN0ciwgbWF4V2lkdGgpIHtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cblx0XHQvKiBmaXJzdCB0b2tlbml6YXRpb24gcGFzcyAtIHNwbGl0IHRleHRzIGFuZCBjb2xvciBmb3JtYXR0aW5nIGNvbW1hbmRzICovXG5cdFx0dmFyIG9mZnNldCA9IDA7XG5cdFx0c3RyLnJlcGxhY2UodGhpcy5SRV9DT0xPUlMsIGZ1bmN0aW9uKG1hdGNoLCB0eXBlLCBuYW1lLCBpbmRleCkge1xuXHRcdFx0Lyogc3RyaW5nIGJlZm9yZSAqL1xuXHRcdFx0dmFyIHBhcnQgPSBzdHIuc3Vic3RyaW5nKG9mZnNldCwgaW5kZXgpO1xuXHRcdFx0aWYgKHBhcnQubGVuZ3RoKSB7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKHtcblx0XHRcdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX1RFWFQsXG5cdFx0XHRcdFx0dmFsdWU6IHBhcnRcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdC8qIGNvbG9yIGNvbW1hbmQgKi9cblx0XHRcdHJlc3VsdC5wdXNoKHtcblx0XHRcdFx0dHlwZTogKHR5cGUgPT0gXCJjXCIgPyBST1QuVGV4dC5UWVBFX0ZHIDogUk9ULlRleHQuVFlQRV9CRyksXG5cdFx0XHRcdHZhbHVlOiBuYW1lLnRyaW0oKVxuXHRcdFx0fSk7XG5cblx0XHRcdG9mZnNldCA9IGluZGV4ICsgbWF0Y2gubGVuZ3RoO1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fSk7XG5cblx0XHQvKiBsYXN0IHJlbWFpbmluZyBwYXJ0ICovXG5cdFx0dmFyIHBhcnQgPSBzdHIuc3Vic3RyaW5nKG9mZnNldCk7XG5cdFx0aWYgKHBhcnQubGVuZ3RoKSB7XG5cdFx0XHRyZXN1bHQucHVzaCh7XG5cdFx0XHRcdHR5cGU6IFJPVC5UZXh0LlRZUEVfVEVYVCxcblx0XHRcdFx0dmFsdWU6IHBhcnRcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLl9icmVha0xpbmVzKHJlc3VsdCwgbWF4V2lkdGgpO1xuXHR9LFxuXG5cdC8qIGluc2VydCBsaW5lIGJyZWFrcyBpbnRvIGZpcnN0LXBhc3MgdG9rZW5pemVkIGRhdGEgKi9cblx0X2JyZWFrTGluZXM6IGZ1bmN0aW9uKHRva2VucywgbWF4V2lkdGgpIHtcblx0XHRpZiAoIW1heFdpZHRoKSB7IG1heFdpZHRoID0gSW5maW5pdHk7IH07XG5cblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGxpbmVMZW5ndGggPSAwO1xuXHRcdHZhciBsYXN0VG9rZW5XaXRoU3BhY2UgPSAtMTtcblxuXHRcdHdoaWxlIChpIDwgdG9rZW5zLmxlbmd0aCkgeyAvKiB0YWtlIGFsbCB0ZXh0IHRva2VucywgcmVtb3ZlIHNwYWNlLCBhcHBseSBsaW5lYnJlYWtzICovXG5cdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG5cdFx0XHRpZiAodG9rZW4udHlwZSA9PSBST1QuVGV4dC5UWVBFX05FV0xJTkUpIHsgLyogcmVzZXQgKi9cblx0XHRcdFx0bGluZUxlbmd0aCA9IDA7IFxuXHRcdFx0XHRsYXN0VG9rZW5XaXRoU3BhY2UgPSAtMTtcblx0XHRcdH1cblx0XHRcdGlmICh0b2tlbi50eXBlICE9IFJPVC5UZXh0LlRZUEVfVEVYVCkgeyAvKiBza2lwIG5vbi10ZXh0IHRva2VucyAqL1xuXHRcdFx0XHRpKys7XG5cdFx0XHRcdGNvbnRpbnVlOyBcblx0XHRcdH1cblxuXHRcdFx0LyogcmVtb3ZlIHNwYWNlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGxpbmUgKi9cblx0XHRcdHdoaWxlIChsaW5lTGVuZ3RoID09IDAgJiYgdG9rZW4udmFsdWUuY2hhckF0KDApID09IFwiIFwiKSB7IHRva2VuLnZhbHVlID0gdG9rZW4udmFsdWUuc3Vic3RyaW5nKDEpOyB9XG5cblx0XHRcdC8qIGZvcmNlZCBuZXdsaW5lPyBpbnNlcnQgdHdvIG5ldyB0b2tlbnMgYWZ0ZXIgdGhpcyBvbmUgKi9cblx0XHRcdHZhciBpbmRleCA9IHRva2VuLnZhbHVlLmluZGV4T2YoXCJcXG5cIik7XG5cdFx0XHRpZiAoaW5kZXggIT0gLTEpIHsgXG5cdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIGluZGV4LCB0cnVlKTsgXG5cblx0XHRcdFx0LyogaWYgdGhlcmUgYXJlIHNwYWNlcyBhdCB0aGUgZW5kLCB3ZSBtdXN0IHJlbW92ZSB0aGVtICh3ZSBkbyBub3Qgd2FudCB0aGUgbGluZSB0b28gbG9uZykgKi9cblx0XHRcdFx0dmFyIGFyciA9IHRva2VuLnZhbHVlLnNwbGl0KFwiXCIpO1xuXHRcdFx0XHR3aGlsZSAoYXJyLmxlbmd0aCAmJiBhcnJbYXJyLmxlbmd0aC0xXSA9PSBcIiBcIikgeyBhcnIucG9wKCk7IH1cblx0XHRcdFx0dG9rZW4udmFsdWUgPSBhcnIuam9pbihcIlwiKTtcblx0XHRcdH1cblxuXHRcdFx0LyogdG9rZW4gZGVnZW5lcmF0ZWQ/ICovXG5cdFx0XHRpZiAoIXRva2VuLnZhbHVlLmxlbmd0aCkge1xuXHRcdFx0XHR0b2tlbnMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGxpbmVMZW5ndGggKyB0b2tlbi52YWx1ZS5sZW5ndGggPiBtYXhXaWR0aCkgeyAvKiBsaW5lIHRvbyBsb25nLCBmaW5kIGEgc3VpdGFibGUgYnJlYWtpbmcgc3BvdCAqL1xuXG5cdFx0XHRcdC8qIGlzIGl0IHBvc3NpYmxlIHRvIGJyZWFrIHdpdGhpbiB0aGlzIHRva2VuPyAqL1xuXHRcdFx0XHR2YXIgaW5kZXggPSAtMTtcblx0XHRcdFx0d2hpbGUgKDEpIHtcblx0XHRcdFx0XHR2YXIgbmV4dEluZGV4ID0gdG9rZW4udmFsdWUuaW5kZXhPZihcIiBcIiwgaW5kZXgrMSk7XG5cdFx0XHRcdFx0aWYgKG5leHRJbmRleCA9PSAtMSkgeyBicmVhazsgfVxuXHRcdFx0XHRcdGlmIChsaW5lTGVuZ3RoICsgbmV4dEluZGV4ID4gbWF4V2lkdGgpIHsgYnJlYWs7IH1cblx0XHRcdFx0XHRpbmRleCA9IG5leHRJbmRleDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpbmRleCAhPSAtMSkgeyAvKiBicmVhayBhdCBzcGFjZSB3aXRoaW4gdGhpcyBvbmUgKi9cblx0XHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBpbmRleCwgdHJ1ZSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAobGFzdFRva2VuV2l0aFNwYWNlICE9IC0xKSB7IC8qIGlzIHRoZXJlIGEgcHJldmlvdXMgdG9rZW4gd2hlcmUgYSBicmVhayBjYW4gb2NjdXI/ICovXG5cdFx0XHRcdFx0dmFyIHRva2VuID0gdG9rZW5zW2xhc3RUb2tlbldpdGhTcGFjZV07XG5cdFx0XHRcdFx0dmFyIGJyZWFrSW5kZXggPSB0b2tlbi52YWx1ZS5sYXN0SW5kZXhPZihcIiBcIik7XG5cdFx0XHRcdFx0dG9rZW4udmFsdWUgPSB0aGlzLl9icmVha0luc2lkZVRva2VuKHRva2VucywgbGFzdFRva2VuV2l0aFNwYWNlLCBicmVha0luZGV4LCB0cnVlKTtcblx0XHRcdFx0XHRpID0gbGFzdFRva2VuV2l0aFNwYWNlO1xuXHRcdFx0XHR9IGVsc2UgeyAvKiBmb3JjZSBicmVhayBpbiB0aGlzIHRva2VuICovXG5cdFx0XHRcdFx0dG9rZW4udmFsdWUgPSB0aGlzLl9icmVha0luc2lkZVRva2VuKHRva2VucywgaSwgbWF4V2lkdGgtbGluZUxlbmd0aCwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSB7IC8qIGxpbmUgbm90IGxvbmcsIGNvbnRpbnVlICovXG5cdFx0XHRcdGxpbmVMZW5ndGggKz0gdG9rZW4udmFsdWUubGVuZ3RoO1xuXHRcdFx0XHRpZiAodG9rZW4udmFsdWUuaW5kZXhPZihcIiBcIikgIT0gLTEpIHsgbGFzdFRva2VuV2l0aFNwYWNlID0gaTsgfVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpKys7IC8qIGFkdmFuY2UgdG8gbmV4dCB0b2tlbiAqL1xuXHRcdH1cblxuXG5cdFx0dG9rZW5zLnB1c2goe3R5cGU6IFJPVC5UZXh0LlRZUEVfTkVXTElORX0pOyAvKiBpbnNlcnQgZmFrZSBuZXdsaW5lIHRvIGZpeCB0aGUgbGFzdCB0ZXh0IGxpbmUgKi9cblxuXHRcdC8qIHJlbW92ZSB0cmFpbGluZyBzcGFjZSBmcm9tIHRleHQgdG9rZW5zIGJlZm9yZSBuZXdsaW5lcyAqL1xuXHRcdHZhciBsYXN0VGV4dFRva2VuID0gbnVsbDtcblx0XHRmb3IgKHZhciBpPTA7aTx0b2tlbnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIHRva2VuID0gdG9rZW5zW2ldO1xuXHRcdFx0c3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdFx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9URVhUOiBsYXN0VGV4dFRva2VuID0gdG9rZW47IGJyZWFrO1xuXHRcdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfTkVXTElORTogXG5cdFx0XHRcdFx0aWYgKGxhc3RUZXh0VG9rZW4pIHsgLyogcmVtb3ZlIHRyYWlsaW5nIHNwYWNlICovXG5cdFx0XHRcdFx0XHR2YXIgYXJyID0gbGFzdFRleHRUb2tlbi52YWx1ZS5zcGxpdChcIlwiKTtcblx0XHRcdFx0XHRcdHdoaWxlIChhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoLTFdID09IFwiIFwiKSB7IGFyci5wb3AoKTsgfVxuXHRcdFx0XHRcdFx0bGFzdFRleHRUb2tlbi52YWx1ZSA9IGFyci5qb2luKFwiXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRsYXN0VGV4dFRva2VuID0gbnVsbDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dG9rZW5zLnBvcCgpOyAvKiByZW1vdmUgZmFrZSB0b2tlbiAqL1xuXG5cdFx0cmV0dXJuIHRva2Vucztcblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlIG5ldyB0b2tlbnMgYW5kIGluc2VydCB0aGVtIGludG8gdGhlIHN0cmVhbVxuXHQgKiBAcGFyYW0ge29iamVjdFtdfSB0b2tlbnNcblx0ICogQHBhcmFtIHtpbnR9IHRva2VuSW5kZXggVG9rZW4gYmVpbmcgcHJvY2Vzc2VkXG5cdCAqIEBwYXJhbSB7aW50fSBicmVha0luZGV4IEluZGV4IHdpdGhpbiBjdXJyZW50IHRva2VuJ3MgdmFsdWVcblx0ICogQHBhcmFtIHtib29sfSByZW1vdmVCcmVha0NoYXIgRG8gd2Ugd2FudCB0byByZW1vdmUgdGhlIGJyZWFraW5nIGNoYXJhY3Rlcj9cblx0ICogQHJldHVybnMge3N0cmluZ30gcmVtYWluaW5nIHVuYnJva2VuIHRva2VuIHZhbHVlXG5cdCAqL1xuXHRfYnJlYWtJbnNpZGVUb2tlbjogZnVuY3Rpb24odG9rZW5zLCB0b2tlbkluZGV4LCBicmVha0luZGV4LCByZW1vdmVCcmVha0NoYXIpIHtcblx0XHR2YXIgbmV3QnJlYWtUb2tlbiA9IHtcblx0XHRcdHR5cGU6IFJPVC5UZXh0LlRZUEVfTkVXTElORVxuXHRcdH1cblx0XHR2YXIgbmV3VGV4dFRva2VuID0ge1xuXHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9URVhULFxuXHRcdFx0dmFsdWU6IHRva2Vuc1t0b2tlbkluZGV4XS52YWx1ZS5zdWJzdHJpbmcoYnJlYWtJbmRleCArIChyZW1vdmVCcmVha0NoYXIgPyAxIDogMCkpXG5cdFx0fVxuXHRcdHRva2Vucy5zcGxpY2UodG9rZW5JbmRleCsxLCAwLCBuZXdCcmVha1Rva2VuLCBuZXdUZXh0VG9rZW4pO1xuXHRcdHJldHVybiB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWUuc3Vic3RyaW5nKDAsIGJyZWFrSW5kZXgpO1xuXHR9XG59XG4vKipcbiAqIEByZXR1cm5zIHthbnl9IFJhbmRvbWx5IHBpY2tlZCBpdGVtLCBudWxsIHdoZW4gbGVuZ3RoPTBcbiAqL1xuQXJyYXkucHJvdG90eXBlLnJhbmRvbSA9IEFycmF5LnByb3RvdHlwZS5yYW5kb20gfHwgZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH1cblx0cmV0dXJuIHRoaXNbTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIHRoaXMubGVuZ3RoKV07XG59XG5cbi8qKlxuICogQHJldHVybnMge2FycmF5fSBOZXcgYXJyYXkgd2l0aCByYW5kb21pemVkIGl0ZW1zXG4gKiBGSVhNRSBkZXN0cm95cyB0aGlzIVxuICovXG5BcnJheS5wcm90b3R5cGUucmFuZG9taXplID0gQXJyYXkucHJvdG90eXBlLnJhbmRvbWl6ZSB8fCBmdW5jdGlvbigpIHtcblx0dmFyIHJlc3VsdCA9IFtdO1xuXHR3aGlsZSAodGhpcy5sZW5ndGgpIHtcblx0XHR2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YodGhpcy5yYW5kb20oKSk7XG5cdFx0cmVzdWx0LnB1c2godGhpcy5zcGxpY2UoaW5kZXgsIDEpWzBdKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBBbHdheXMgcG9zaXRpdmUgbW9kdWx1c1xuICogQHBhcmFtIHtpbnR9IG4gTW9kdWx1c1xuICogQHJldHVybnMge2ludH0gdGhpcyBtb2R1bG8gblxuICovXG5OdW1iZXIucHJvdG90eXBlLm1vZCA9IE51bWJlci5wcm90b3R5cGUubW9kIHx8IGZ1bmN0aW9uKG4pIHtcblx0cmV0dXJuICgodGhpcyVuKStuKSVuO1xufVxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGaXJzdCBsZXR0ZXIgY2FwaXRhbGl6ZWRcbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplID0gU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplIHx8IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRoaXMuc3Vic3RyaW5nKDEpO1xufVxuXG4vKiogXG4gKiBMZWZ0IHBhZFxuICogQHBhcmFtIHtzdHJpbmd9IFtjaGFyYWN0ZXI9XCIwXCJdXG4gKiBAcGFyYW0ge2ludH0gW2NvdW50PTJdXG4gKi9cblN0cmluZy5wcm90b3R5cGUubHBhZCA9IFN0cmluZy5wcm90b3R5cGUubHBhZCB8fCBmdW5jdGlvbihjaGFyYWN0ZXIsIGNvdW50KSB7XG5cdHZhciBjaCA9IGNoYXJhY3RlciB8fCBcIjBcIjtcblx0dmFyIGNudCA9IGNvdW50IHx8IDI7XG5cblx0dmFyIHMgPSBcIlwiO1xuXHR3aGlsZSAocy5sZW5ndGggPCAoY250IC0gdGhpcy5sZW5ndGgpKSB7IHMgKz0gY2g7IH1cblx0cyA9IHMuc3Vic3RyaW5nKDAsIGNudC10aGlzLmxlbmd0aCk7XG5cdHJldHVybiBzK3RoaXM7XG59XG5cbi8qKiBcbiAqIFJpZ2h0IHBhZFxuICogQHBhcmFtIHtzdHJpbmd9IFtjaGFyYWN0ZXI9XCIwXCJdXG4gKiBAcGFyYW0ge2ludH0gW2NvdW50PTJdXG4gKi9cblN0cmluZy5wcm90b3R5cGUucnBhZCA9IFN0cmluZy5wcm90b3R5cGUucnBhZCB8fCBmdW5jdGlvbihjaGFyYWN0ZXIsIGNvdW50KSB7XG5cdHZhciBjaCA9IGNoYXJhY3RlciB8fCBcIjBcIjtcblx0dmFyIGNudCA9IGNvdW50IHx8IDI7XG5cblx0dmFyIHMgPSBcIlwiO1xuXHR3aGlsZSAocy5sZW5ndGggPCAoY250IC0gdGhpcy5sZW5ndGgpKSB7IHMgKz0gY2g7IH1cblx0cyA9IHMuc3Vic3RyaW5nKDAsIGNudC10aGlzLmxlbmd0aCk7XG5cdHJldHVybiB0aGlzK3M7XG59XG5cbi8qKlxuICogRm9ybWF0IGEgc3RyaW5nIGluIGEgZmxleGlibGUgd2F5LiBTY2FucyBmb3IgJXMgc3RyaW5ncyBhbmQgcmVwbGFjZXMgdGhlbSB3aXRoIGFyZ3VtZW50cy4gTGlzdCBvZiBwYXR0ZXJucyBpcyBtb2RpZmlhYmxlIHZpYSBTdHJpbmcuZm9ybWF0Lm1hcC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZW1wbGF0ZVxuICogQHBhcmFtIHthbnl9IFthcmd2XVxuICovXG5TdHJpbmcuZm9ybWF0ID0gU3RyaW5nLmZvcm1hdCB8fCBmdW5jdGlvbih0ZW1wbGF0ZSkge1xuXHR2YXIgbWFwID0gU3RyaW5nLmZvcm1hdC5tYXA7XG5cdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblxuXHR2YXIgcmVwbGFjZXIgPSBmdW5jdGlvbihtYXRjaCwgZ3JvdXAxLCBncm91cDIsIGluZGV4KSB7XG5cdFx0aWYgKHRlbXBsYXRlLmNoYXJBdChpbmRleC0xKSA9PSBcIiVcIikgeyByZXR1cm4gbWF0Y2guc3Vic3RyaW5nKDEpOyB9XG5cdFx0aWYgKCFhcmdzLmxlbmd0aCkgeyByZXR1cm4gbWF0Y2g7IH1cblx0XHR2YXIgb2JqID0gYXJnc1swXTtcblxuXHRcdHZhciBncm91cCA9IGdyb3VwMSB8fCBncm91cDI7XG5cdFx0dmFyIHBhcnRzID0gZ3JvdXAuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciBuYW1lID0gcGFydHMuc2hpZnQoKTtcblx0XHR2YXIgbWV0aG9kID0gbWFwW25hbWUudG9Mb3dlckNhc2UoKV07XG5cdFx0aWYgKCFtZXRob2QpIHsgcmV0dXJuIG1hdGNoOyB9XG5cblx0XHR2YXIgb2JqID0gYXJncy5zaGlmdCgpO1xuXHRcdHZhciByZXBsYWNlZCA9IG9ialttZXRob2RdLmFwcGx5KG9iaiwgcGFydHMpO1xuXG5cdFx0dmFyIGZpcnN0ID0gbmFtZS5jaGFyQXQoMCk7XG5cdFx0aWYgKGZpcnN0ICE9IGZpcnN0LnRvTG93ZXJDYXNlKCkpIHsgcmVwbGFjZWQgPSByZXBsYWNlZC5jYXBpdGFsaXplKCk7IH1cblxuXHRcdHJldHVybiByZXBsYWNlZDtcblx0fVxuXHRyZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvJSg/OihbYS16XSspfCg/OnsoW159XSspfSkpL2dpLCByZXBsYWNlcik7XG59XG5cblN0cmluZy5mb3JtYXQubWFwID0gU3RyaW5nLmZvcm1hdC5tYXAgfHwge1xuXHRcInNcIjogXCJ0b1N0cmluZ1wiXG59XG5cbi8qKlxuICogQ29udmVuaWVuY2Ugc2hvcnRjdXQgdG8gU3RyaW5nLmZvcm1hdCh0aGlzKVxuICovXG5TdHJpbmcucHJvdG90eXBlLmZvcm1hdCA9IFN0cmluZy5wcm90b3R5cGUuZm9ybWF0IHx8IGZ1bmN0aW9uKCkge1xuXHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cdGFyZ3MudW5zaGlmdCh0aGlzKTtcblx0cmV0dXJuIFN0cmluZy5mb3JtYXQuYXBwbHkoU3RyaW5nLCBhcmdzKTtcbn1cblxuaWYgKCFPYmplY3QuY3JlYXRlKSB7ICBcblx0LyoqXG5cdCAqIEVTNSBPYmplY3QuY3JlYXRlXG5cdCAqL1xuXHRPYmplY3QuY3JlYXRlID0gZnVuY3Rpb24obykgeyAgXG5cdFx0dmFyIHRtcCA9IGZ1bmN0aW9uKCkge307XG5cdFx0dG1wLnByb3RvdHlwZSA9IG87XG5cdFx0cmV0dXJuIG5ldyB0bXAoKTtcblx0fTsgIFxufSAgXG4vKipcbiAqIFNldHMgcHJvdG90eXBlIG9mIHRoaXMgZnVuY3Rpb24gdG8gYW4gaW5zdGFuY2Ugb2YgcGFyZW50IGZ1bmN0aW9uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXJlbnRcbiAqL1xuRnVuY3Rpb24ucHJvdG90eXBlLmV4dGVuZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5leHRlbmQgfHwgZnVuY3Rpb24ocGFyZW50KSB7XG5cdHRoaXMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQucHJvdG90eXBlKTtcblx0dGhpcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSB0aGlzO1xuXHRyZXR1cm4gdGhpcztcbn1cbmlmICh0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIpIHtcblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9XG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCBmdW5jdGlvbihjYikgeyByZXR1cm4gc2V0VGltZW91dChjYiwgMTAwMC82MCk7IH07XG5cblx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID1cblx0XHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cub0NhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0XHR8fCBmdW5jdGlvbihpZCkgeyByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKTsgfTtcbn1cbi8qKlxuICogQGNsYXNzIFZpc3VhbCBtYXAgZGlzcGxheVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLndpZHRoPVJPVC5ERUZBVUxUX1dJRFRIXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLmhlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMuZm9udFNpemU9MTVdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZm9udEZhbWlseT1cIm1vbm9zcGFjZVwiXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZvbnRTdHlsZT1cIlwiXSBib2xkL2l0YWxpYy9ub25lL2JvdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mZz1cIiNjY2NcIl1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5iZz1cIiMwMDBcIl1cbiAqIEBwYXJhbSB7ZmxvYXR9IFtvcHRpb25zLnNwYWNpbmc9MV1cbiAqIEBwYXJhbSB7ZmxvYXR9IFtvcHRpb25zLmJvcmRlcj0wXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmxheW91dD1cInJlY3RcIl1cbiAqIEBwYXJhbSB7Ym9vbH0gW29wdGlvbnMuZm9yY2VTcXVhcmVSYXRpbz1mYWxzZV1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50aWxlV2lkdGg9MzJdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudGlsZUhlaWdodD0zMl1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy50aWxlTWFwPXt9XVxuICogQHBhcmFtIHtpbWFnZX0gW29wdGlvbnMudGlsZVNldD1udWxsXVxuICogQHBhcmFtIHtpbWFnZX0gW29wdGlvbnMudGlsZUNvbG9yaXplPWZhbHNlXVxuICovXG5ST1QuRGlzcGxheSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cdHRoaXMuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHR0aGlzLl9kYXRhID0ge307XG5cdHRoaXMuX2RpcnR5ID0gZmFsc2U7IC8qIGZhbHNlID0gbm90aGluZywgdHJ1ZSA9IGFsbCwgb2JqZWN0ID0gZGlydHkgY2VsbHMgKi9cblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xuXHR0aGlzLl9iYWNrZW5kID0gbnVsbDtcblx0XG5cdHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcblx0XHR3aWR0aDogUk9ULkRFRkFVTFRfV0lEVEgsXG5cdFx0aGVpZ2h0OiBST1QuREVGQVVMVF9IRUlHSFQsXG5cdFx0dHJhbnNwb3NlOiBmYWxzZSxcblx0XHRsYXlvdXQ6IFwicmVjdFwiLFxuXHRcdGZvbnRTaXplOiAxNSxcblx0XHRzcGFjaW5nOiAxLFxuXHRcdGJvcmRlcjogMCxcblx0XHRmb3JjZVNxdWFyZVJhdGlvOiBmYWxzZSxcblx0XHRmb250RmFtaWx5OiBcIm1vbm9zcGFjZVwiLFxuXHRcdGZvbnRTdHlsZTogXCJcIixcblx0XHRmZzogXCIjY2NjXCIsXG5cdFx0Ymc6IFwiIzAwMFwiLFxuXHRcdHRpbGVXaWR0aDogMzIsXG5cdFx0dGlsZUhlaWdodDogMzIsXG5cdFx0dGlsZU1hcDoge30sXG5cdFx0dGlsZVNldDogbnVsbCxcblx0XHR0aWxlQ29sb3JpemU6IGZhbHNlLFxuXHRcdHRlcm1Db2xvcjogXCJ4dGVybVwiXG5cdH07XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyBkZWZhdWx0T3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0dGhpcy5zZXRPcHRpb25zKGRlZmF1bHRPcHRpb25zKTtcblx0dGhpcy5ERUJVRyA9IHRoaXMuREVCVUcuYmluZCh0aGlzKTtcblxuXHR0aGlzLl90aWNrID0gdGhpcy5fdGljay5iaW5kKHRoaXMpO1xuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG59XG5cbi8qKlxuICogRGVidWcgaGVscGVyLCBpZGVhbCBhcyBhIG1hcCBnZW5lcmF0b3IgY2FsbGJhY2suIEFsd2F5cyBib3VuZCB0byB0aGlzLlxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gd2hhdFxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuREVCVUcgPSBmdW5jdGlvbih4LCB5LCB3aGF0KSB7XG5cdHZhciBjb2xvcnMgPSBbdGhpcy5fb3B0aW9ucy5iZywgdGhpcy5fb3B0aW9ucy5mZ107XG5cdHRoaXMuZHJhdyh4LCB5LCBudWxsLCBudWxsLCBjb2xvcnNbd2hhdCAlIGNvbG9ycy5sZW5ndGhdKTtcbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgd2hvbGUgZGlzcGxheSAoY292ZXIgaXQgd2l0aCBiYWNrZ3JvdW5kIGNvbG9yKVxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fZGF0YSA9IHt9O1xuXHR0aGlzLl9kaXJ0eSA9IHRydWU7XG59XG5cbi8qKlxuICogQHNlZSBST1QuRGlzcGxheVxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdGlmIChvcHRpb25zLndpZHRoIHx8IG9wdGlvbnMuaGVpZ2h0IHx8IG9wdGlvbnMuZm9udFNpemUgfHwgb3B0aW9ucy5mb250RmFtaWx5IHx8IG9wdGlvbnMuc3BhY2luZyB8fCBvcHRpb25zLmxheW91dCkge1xuXHRcdGlmIChvcHRpb25zLmxheW91dCkgeyBcblx0XHRcdHRoaXMuX2JhY2tlbmQgPSBuZXcgUk9ULkRpc3BsYXlbb3B0aW9ucy5sYXlvdXQuY2FwaXRhbGl6ZSgpXSh0aGlzLl9jb250ZXh0KTtcblx0XHR9XG5cblx0XHR2YXIgZm9udCA9ICh0aGlzLl9vcHRpb25zLmZvbnRTdHlsZSA/IHRoaXMuX29wdGlvbnMuZm9udFN0eWxlICsgXCIgXCIgOiBcIlwiKSArIHRoaXMuX29wdGlvbnMuZm9udFNpemUgKyBcInB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuXHRcdHRoaXMuX2NvbnRleHQuZm9udCA9IGZvbnQ7XG5cdFx0dGhpcy5fYmFja2VuZC5jb21wdXRlKHRoaXMuX29wdGlvbnMpO1xuXHRcdHRoaXMuX2NvbnRleHQuZm9udCA9IGZvbnQ7XG5cdFx0dGhpcy5fY29udGV4dC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXHRcdHRoaXMuX2NvbnRleHQudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcblx0XHR0aGlzLl9kaXJ0eSA9IHRydWU7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmV0dXJucyBjdXJyZW50bHkgc2V0IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtvYmplY3R9IEN1cnJlbnQgb3B0aW9ucyBvYmplY3QgXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9vcHRpb25zO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIERPTSBub2RlIG9mIHRoaXMgZGlzcGxheVxuICogQHJldHVybnMge25vZGV9IERPTSBub2RlXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX2NvbnRleHQuY2FudmFzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdGhlIG1heGltdW0gd2lkdGgvaGVpZ2h0IHRvIGZpdCBpbnRvIGEgc2V0IG9mIGdpdmVuIGNvbnN0cmFpbnRzXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxXaWR0aCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgd2lkdGhcbiAqIEBwYXJhbSB7aW50fSBhdmFpbEhlaWdodCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgaGVpZ2h0XG4gKiBAcmV0dXJucyB7aW50WzJdfSBjZWxsV2lkdGgsY2VsbEhlaWdodFxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gdGhpcy5fYmFja2VuZC5jb21wdXRlU2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCwgdGhpcy5fb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbWF4aW11bSBmb250IHNpemUgdG8gZml0IGludG8gYSBzZXQgb2YgZ2l2ZW4gY29uc3RyYWludHNcbiAqIEBwYXJhbSB7aW50fSBhdmFpbFdpZHRoIE1heGltdW0gYWxsb3dlZCBwaXhlbCB3aWR0aFxuICogQHBhcmFtIHtpbnR9IGF2YWlsSGVpZ2h0IE1heGltdW0gYWxsb3dlZCBwaXhlbCBoZWlnaHRcbiAqIEByZXR1cm5zIHtpbnR9IGZvbnRTaXplXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gdGhpcy5fYmFja2VuZC5jb21wdXRlRm9udFNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQsIHRoaXMuX29wdGlvbnMpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYSBET00gZXZlbnQgKG1vdXNlIG9yIHRvdWNoKSB0byBtYXAgY29vcmRpbmF0ZXMuIFVzZXMgZmlyc3QgdG91Y2ggZm9yIG11bHRpLXRvdWNoLlxuICogQHBhcmFtIHtFdmVudH0gZSBldmVudFxuICogQHJldHVybnMge2ludFsyXX0gLTEgZm9yIHZhbHVlcyBvdXRzaWRlIG9mIHRoZSBjYW52YXNcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKGUpIHtcblx0aWYgKGUudG91Y2hlcykge1xuXHRcdHZhciB4ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG5cdFx0dmFyIHkgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcblx0fSBlbHNlIHtcblx0XHR2YXIgeCA9IGUuY2xpZW50WDtcblx0XHR2YXIgeSA9IGUuY2xpZW50WTtcblx0fVxuXG5cdHZhciByZWN0ID0gdGhpcy5fY29udGV4dC5jYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdHggLT0gcmVjdC5sZWZ0O1xuXHR5IC09IHJlY3QudG9wO1xuXHRcblx0aWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gdGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggfHwgeSA+PSB0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQpIHsgcmV0dXJuIFstMSwgLTFdOyB9XG5cblx0cmV0dXJuIHRoaXMuX2JhY2tlbmQuZXZlbnRUb1Bvc2l0aW9uKHgsIHkpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtzdHJpbmcgfHwgc3RyaW5nW119IGNoIE9uZSBvciBtb3JlIGNoYXJzICh3aWxsIGJlIG92ZXJsYXBwaW5nIHRoZW1zZWx2ZXMpXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZnXSBmb3JlZ3JvdW5kIGNvbG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gW2JnXSBiYWNrZ3JvdW5kIGNvbG9yXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oeCwgeSwgY2gsIGZnLCBiZykge1xuXHRpZiAoIWZnKSB7IGZnID0gdGhpcy5fb3B0aW9ucy5mZzsgfVxuXHRpZiAoIWJnKSB7IGJnID0gdGhpcy5fb3B0aW9ucy5iZzsgfVxuXHR0aGlzLl9kYXRhW3grXCIsXCIreV0gPSBbeCwgeSwgY2gsIGZnLCBiZ107XG5cdFxuXHRpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHsgcmV0dXJuOyB9IC8qIHdpbGwgYWxyZWFkeSByZWRyYXcgZXZlcnl0aGluZyAqL1xuXHRpZiAoIXRoaXMuX2RpcnR5KSB7IHRoaXMuX2RpcnR5ID0ge307IH0gLyogZmlyc3QhICovXG5cdHRoaXMuX2RpcnR5W3grXCIsXCIreV0gPSB0cnVlO1xufVxuXG4vKipcbiAqIERyYXdzIGEgdGV4dCBhdCBnaXZlbiBwb3NpdGlvbi4gT3B0aW9uYWxseSB3cmFwcyBhdCBhIG1heGltdW0gbGVuZ3RoLiBDdXJyZW50bHkgZG9lcyBub3Qgd29yayB3aXRoIGhleCBsYXlvdXQuXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IE1heSBjb250YWluIGNvbG9yL2JhY2tncm91bmQgZm9ybWF0IHNwZWNpZmllcnMsICVje25hbWV9LyVie25hbWV9LCBib3RoIG9wdGlvbmFsLiAlY3t9LyVie30gcmVzZXRzIHRvIGRlZmF1bHQuXG4gKiBAcGFyYW0ge2ludH0gW21heFdpZHRoXSB3cmFwIGF0IHdoYXQgd2lkdGg/XG4gKiBAcmV0dXJucyB7aW50fSBsaW5lcyBkcmF3blxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZHJhd1RleHQgPSBmdW5jdGlvbih4LCB5LCB0ZXh0LCBtYXhXaWR0aCkge1xuXHR2YXIgZmcgPSBudWxsO1xuXHR2YXIgYmcgPSBudWxsO1xuXHR2YXIgY3ggPSB4O1xuXHR2YXIgY3kgPSB5O1xuXHR2YXIgbGluZXMgPSAxO1xuXHRpZiAoIW1heFdpZHRoKSB7IG1heFdpZHRoID0gdGhpcy5fb3B0aW9ucy53aWR0aC14OyB9XG5cblx0dmFyIHRva2VucyA9IFJPVC5UZXh0LnRva2VuaXplKHRleHQsIG1heFdpZHRoKTtcblxuXHR3aGlsZSAodG9rZW5zLmxlbmd0aCkgeyAvKiBpbnRlcnByZXQgdG9rZW5pemVkIG9wY29kZSBzdHJlYW0gKi9cblx0XHR2YXIgdG9rZW4gPSB0b2tlbnMuc2hpZnQoKTtcblx0XHRzd2l0Y2ggKHRva2VuLnR5cGUpIHtcblx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9URVhUOlxuXHRcdFx0XHR2YXIgaXNTcGFjZSA9IGZhbHNlLCBpc1ByZXZTcGFjZSA9IGZhbHNlLCBpc0Z1bGxXaWR0aCA9IGZhbHNlLCBpc1ByZXZGdWxsV2lkdGggPSBmYWxzZTtcblx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8dG9rZW4udmFsdWUubGVuZ3RoO2krKykge1xuXHRcdFx0XHRcdHZhciBjYyA9IHRva2VuLnZhbHVlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRcdFx0dmFyIGMgPSB0b2tlbi52YWx1ZS5jaGFyQXQoaSk7XG5cdFx0XHRcdFx0Ly8gQXNzaWduIHRvIGB0cnVlYCB3aGVuIHRoZSBjdXJyZW50IGNoYXIgaXMgZnVsbC13aWR0aC5cblx0XHRcdFx0XHRpc0Z1bGxXaWR0aCA9IChjYyA+IDB4ZmYgJiYgY2MgPCAweGZmNjEpIHx8IChjYyA+IDB4ZmZkYyAmJiBjYyA8IDB4ZmZlOCkgJiYgY2MgPiAweGZmZWU7XG5cdFx0XHRcdFx0Ly8gQ3VycmVudCBjaGFyIGlzIHNwYWNlLCB3aGF0ZXZlciBmdWxsLXdpZHRoIG9yIGhhbGYtd2lkdGggYm90aCBhcmUgT0suXG5cdFx0XHRcdFx0aXNTcGFjZSA9IChjLmNoYXJDb2RlQXQoMCkgPT0gMHgyMCB8fCBjLmNoYXJDb2RlQXQoMCkgPT0gMHgzMDAwKTtcblx0XHRcdFx0XHQvLyBUaGUgcHJldmlvdXMgY2hhciBpcyBmdWxsLXdpZHRoIGFuZFxuXHRcdFx0XHRcdC8vIGN1cnJlbnQgY2hhciBpcyBuZXRoZXIgaGFsZi13aWR0aCBub3IgYSBzcGFjZS5cblx0XHRcdFx0XHRpZiAoaXNQcmV2RnVsbFdpZHRoICYmICFpc0Z1bGxXaWR0aCAmJiAhaXNTcGFjZSkgeyBjeCsrOyB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuXHRcdFx0XHRcdC8vIFRoZSBjdXJyZW50IGNoYXIgaXMgZnVsbC13aWR0aCBhbmRcblx0XHRcdFx0XHQvLyB0aGUgcHJldmlvdXMgY2hhciBpcyBub3QgYSBzcGFjZS5cblx0XHRcdFx0XHRpZihpc0Z1bGxXaWR0aCAmJiAhaXNQcmV2U3BhY2UpIHsgY3grKzsgfSAvLyBhZGQgYW4gZXh0cmEgcG9zaXRpb25cblx0XHRcdFx0XHR0aGlzLmRyYXcoY3grKywgY3ksIGMsIGZnLCBiZyk7XG5cdFx0XHRcdFx0aXNQcmV2U3BhY2UgPSBpc1NwYWNlO1xuXHRcdFx0XHRcdGlzUHJldkZ1bGxXaWR0aCA9IGlzRnVsbFdpZHRoO1xuXHRcdFx0XHR9XG5cdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX0ZHOlxuXHRcdFx0XHRmZyA9IHRva2VuLnZhbHVlIHx8IG51bGw7XG5cdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX0JHOlxuXHRcdFx0XHRiZyA9IHRva2VuLnZhbHVlIHx8IG51bGw7XG5cdFx0XHRicmVhaztcblxuXHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX05FV0xJTkU6XG5cdFx0XHRcdGN4ID0geDtcblx0XHRcdFx0Y3krKztcblx0XHRcdFx0bGluZXMrK1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGxpbmVzO1xufVxuXG4vKipcbiAqIFRpbWVyIHRpY2s6IHVwZGF0ZSBkaXJ0eSBwYXJ0c1xuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuX3RpY2sgPSBmdW5jdGlvbigpIHtcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuXG5cdGlmICghdGhpcy5fZGlydHkpIHsgcmV0dXJuOyB9XG5cblx0aWYgKHRoaXMuX2RpcnR5ID09PSB0cnVlKSB7IC8qIGRyYXcgYWxsICovXG5cdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLl9vcHRpb25zLmJnO1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGhpcy5fY29udGV4dC5jYW52YXMud2lkdGgsIHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCk7XG5cblx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl9kYXRhKSB7IC8qIHJlZHJhdyBjYWNoZWQgZGF0YSAqL1xuXHRcdFx0dGhpcy5fZHJhdyhpZCwgZmFsc2UpO1xuXHRcdH1cblxuXHR9IGVsc2UgeyAvKiBkcmF3IG9ubHkgZGlydHkgKi9cblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fZGlydHkpIHtcblx0XHRcdHRoaXMuX2RyYXcoa2V5LCB0cnVlKTtcblx0XHR9XG5cdH1cblxuXHR0aGlzLl9kaXJ0eSA9IGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgV2hhdCB0byBkcmF3XG4gKiBAcGFyYW0ge2Jvb2x9IGNsZWFyQmVmb3JlIElzIGl0IG5lY2Vzc2FyeSB0byBjbGVhbiBiZWZvcmU/XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5fZHJhdyA9IGZ1bmN0aW9uKGtleSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhW2tleV07XG5cdGlmIChkYXRhWzRdICE9IHRoaXMuX29wdGlvbnMuYmcpIHsgY2xlYXJCZWZvcmUgPSB0cnVlOyB9XG5cblx0dGhpcy5fYmFja2VuZC5kcmF3KGRhdGEsIGNsZWFyQmVmb3JlKTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IGRpc3BsYXkgYmFja2VuZCBtb2R1bGVcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LkJhY2tlbmQgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xufVxuXG5ST1QuRGlzcGxheS5CYWNrZW5kLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xufVxuXG5ST1QuRGlzcGxheS5CYWNrZW5kLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xufVxuXG5ST1QuRGlzcGxheS5CYWNrZW5kLnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xufVxuXG5ST1QuRGlzcGxheS5CYWNrZW5kLnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG59XG4vKipcbiAqIEBjbGFzcyBSZWN0YW5ndWxhciBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5SZWN0ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRST1QuRGlzcGxheS5CYWNrZW5kLmNhbGwodGhpcywgY29udGV4dCk7XG5cdFxuXHR0aGlzLl9zcGFjaW5nWCA9IDA7XG5cdHRoaXMuX3NwYWNpbmdZID0gMDtcblx0dGhpcy5fY2FudmFzQ2FjaGUgPSB7fTtcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xufVxuUk9ULkRpc3BsYXkuUmVjdC5leHRlbmQoUk9ULkRpc3BsYXkuQmFja2VuZCk7XG5cblJPVC5EaXNwbGF5LlJlY3QuY2FjaGUgPSBmYWxzZTtcblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fY2FudmFzQ2FjaGUgPSB7fTtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cblx0dmFyIGNoYXJXaWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jb250ZXh0Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG5cdHRoaXMuX3NwYWNpbmdYID0gTWF0aC5jZWlsKG9wdGlvbnMuc3BhY2luZyAqIGNoYXJXaWR0aCk7XG5cdHRoaXMuX3NwYWNpbmdZID0gTWF0aC5jZWlsKG9wdGlvbnMuc3BhY2luZyAqIG9wdGlvbnMuZm9udFNpemUpO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLmZvcmNlU3F1YXJlUmF0aW8pIHtcblx0XHR0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX3NwYWNpbmdZID0gTWF0aC5tYXgodGhpcy5fc3BhY2luZ1gsIHRoaXMuX3NwYWNpbmdZKTtcblx0fVxuXG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIHRoaXMuX3NwYWNpbmdYO1xuXHR0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCAqIHRoaXMuX3NwYWNpbmdZO1xufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0aWYgKHRoaXMuY29uc3RydWN0b3IuY2FjaGUpIHtcblx0XHR0aGlzLl9kcmF3V2l0aENhY2hlKGRhdGEsIGNsZWFyQmVmb3JlKTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLl9kcmF3Tm9DYWNoZShkYXRhLCBjbGVhckJlZm9yZSk7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuX2RyYXdXaXRoQ2FjaGUgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHR2YXIgaGFzaCA9IFwiXCIrY2grZmcrYmc7XG5cdGlmIChoYXNoIGluIHRoaXMuX2NhbnZhc0NhY2hlKSB7XG5cdFx0dmFyIGNhbnZhcyA9IHRoaXMuX2NhbnZhc0NhY2hlW2hhc2hdO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG5cdFx0dmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cdFx0dmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0Y2FudmFzLndpZHRoID0gdGhpcy5fc3BhY2luZ1g7XG5cdFx0Y2FudmFzLmhlaWdodCA9IHRoaXMuX3NwYWNpbmdZO1xuXHRcdGN0eC5maWxsU3R5bGUgPSBiZztcblx0XHRjdHguZmlsbFJlY3QoYiwgYiwgY2FudmFzLndpZHRoLWIsIGNhbnZhcy5oZWlnaHQtYik7XG5cdFx0XG5cdFx0aWYgKGNoKSB7XG5cdFx0XHRjdHguZmlsbFN0eWxlID0gZmc7XG5cdFx0XHRjdHguZm9udCA9IHRoaXMuX2NvbnRleHQuZm9udDtcblx0XHRcdGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXHRcdFx0Y3R4LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG5cblx0XHRcdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdFx0XHRmb3IgKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG5cdFx0XHRcdGN0eC5maWxsVGV4dChjaGFyc1tpXSwgdGhpcy5fc3BhY2luZ1gvMiwgTWF0aC5jZWlsKHRoaXMuX3NwYWNpbmdZLzIpKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0dGhpcy5fY2FudmFzQ2FjaGVbaGFzaF0gPSBjYW52YXM7XG5cdH1cblx0XG5cdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKGNhbnZhcywgeCp0aGlzLl9zcGFjaW5nWCwgeSp0aGlzLl9zcGFjaW5nWSk7XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLl9kcmF3Tm9DYWNoZSA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdGlmIChjbGVhckJlZm9yZSkgeyBcblx0XHR2YXIgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsUmVjdCh4KnRoaXMuX3NwYWNpbmdYICsgYiwgeSp0aGlzLl9zcGFjaW5nWSArIGIsIHRoaXMuX3NwYWNpbmdYIC0gYiwgdGhpcy5fc3BhY2luZ1kgLSBiKTtcblx0fVxuXHRcblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxUZXh0KGNoYXJzW2ldLCAoeCswLjUpICogdGhpcy5fc3BhY2luZ1gsIE1hdGguY2VpbCgoeSswLjUpICogdGhpcy5fc3BhY2luZ1kpKTtcblx0fVxufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX3NwYWNpbmdYKTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9zcGFjaW5nWSk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHZhciBib3hXaWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuXHR2YXIgYm94SGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMuaGVpZ2h0KTtcblxuXHQvKiBjb21wdXRlIGNoYXIgcmF0aW8gKi9cblx0dmFyIG9sZEZvbnQgPSB0aGlzLl9jb250ZXh0LmZvbnQ7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IFwiMTAwcHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG5cdHZhciB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jb250ZXh0Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IG9sZEZvbnQ7XG5cdHZhciByYXRpbyA9IHdpZHRoIC8gMTAwO1xuXHRcdFxuXHR2YXIgd2lkdGhGcmFjdGlvbiA9IHJhdGlvICogYm94SGVpZ2h0IC8gYm94V2lkdGg7XG5cdGlmICh3aWR0aEZyYWN0aW9uID4gMSkgeyAvKiB0b28gd2lkZSB3aXRoIGN1cnJlbnQgYXNwZWN0IHJhdGlvICovXG5cdFx0Ym94SGVpZ2h0ID0gTWF0aC5mbG9vcihib3hIZWlnaHQgLyB3aWR0aEZyYWN0aW9uKTtcblx0fVxuXHRyZXR1cm4gTWF0aC5mbG9vcihib3hIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnNwYWNpbmcpO1xufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG5cdHJldHVybiBbTWF0aC5mbG9vcih4L3RoaXMuX3NwYWNpbmdYKSwgTWF0aC5mbG9vcih5L3RoaXMuX3NwYWNpbmdZKV07XG59XG4vKipcbiAqIEBjbGFzcyBIZXhhZ29uYWwgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuSGV4ID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRST1QuRGlzcGxheS5CYWNrZW5kLmNhbGwodGhpcywgY29udGV4dCk7XG5cblx0dGhpcy5fc3BhY2luZ1ggPSAwO1xuXHR0aGlzLl9zcGFjaW5nWSA9IDA7XG5cdHRoaXMuX2hleFNpemUgPSAwO1xuXHR0aGlzLl9vcHRpb25zID0ge307XG59XG5ST1QuRGlzcGxheS5IZXguZXh0ZW5kKFJPVC5EaXNwbGF5LkJhY2tlbmQpO1xuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG5cdC8qIEZJWE1FIGNoYXIgc2l6ZSBjb21wdXRhdGlvbiBkb2VzIG5vdCByZXNwZWN0IHRyYW5zcG9zZWQgaGV4ZXMgKi9cblx0dmFyIGNoYXJXaWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jb250ZXh0Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG5cdHRoaXMuX2hleFNpemUgPSBNYXRoLmZsb29yKG9wdGlvbnMuc3BhY2luZyAqIChvcHRpb25zLmZvbnRTaXplICsgY2hhcldpZHRoL01hdGguc3FydCgzKSkgLyAyKTtcblx0dGhpcy5fc3BhY2luZ1ggPSB0aGlzLl9oZXhTaXplICogTWF0aC5zcXJ0KDMpIC8gMjtcblx0dGhpcy5fc3BhY2luZ1kgPSB0aGlzLl9oZXhTaXplICogMS41O1xuXG5cdGlmIChvcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdHZhciB4cHJvcCA9IFwiaGVpZ2h0XCI7XG5cdFx0dmFyIHlwcm9wID0gXCJ3aWR0aFwiO1xuXHR9IGVsc2Uge1xuXHRcdHZhciB4cHJvcCA9IFwid2lkdGhcIjtcblx0XHR2YXIgeXByb3AgPSBcImhlaWdodFwiO1xuXHR9XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzW3hwcm9wXSA9IE1hdGguY2VpbCggKG9wdGlvbnMud2lkdGggKyAxKSAqIHRoaXMuX3NwYWNpbmdYICk7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzW3lwcm9wXSA9IE1hdGguY2VpbCggKG9wdGlvbnMuaGVpZ2h0IC0gMSkgKiB0aGlzLl9zcGFjaW5nWSArIDIqdGhpcy5faGV4U2l6ZSApO1xufVxuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHR2YXIgcHggPSBbXG5cdFx0KHgrMSkgKiB0aGlzLl9zcGFjaW5nWCxcblx0XHR5ICogdGhpcy5fc3BhY2luZ1kgKyB0aGlzLl9oZXhTaXplXG5cdF07XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkgeyBweC5yZXZlcnNlKCk7IH1cblxuXHRpZiAoY2xlYXJCZWZvcmUpIHsgXG5cdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0XHR0aGlzLl9maWxsKHB4WzBdLCBweFsxXSk7XG5cdH1cblx0XG5cdGlmICghY2gpIHsgcmV0dXJuOyB9XG5cblx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBmZztcblxuXHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRmb3IgKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsVGV4dChjaGFyc1tpXSwgcHhbMF0sIE1hdGguY2VpbChweFsxXSkpO1xuXHR9XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHRhdmFpbFdpZHRoICs9IGF2YWlsSGVpZ2h0O1xuXHRcdGF2YWlsSGVpZ2h0ID0gYXZhaWxXaWR0aCAtIGF2YWlsSGVpZ2h0O1xuXHRcdGF2YWlsV2lkdGggLT0gYXZhaWxIZWlnaHQ7XG5cdH1cblxuXHR2YXIgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCkgLSAxO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcigoYXZhaWxIZWlnaHQgLSAyKnRoaXMuX2hleFNpemUpIC8gdGhpcy5fc3BhY2luZ1kgKyAxKTtcblx0cmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHRhdmFpbFdpZHRoICs9IGF2YWlsSGVpZ2h0O1xuXHRcdGF2YWlsSGVpZ2h0ID0gYXZhaWxXaWR0aCAtIGF2YWlsSGVpZ2h0O1xuXHRcdGF2YWlsV2lkdGggLT0gYXZhaWxIZWlnaHQ7XG5cdH1cblxuXHR2YXIgaGV4U2l6ZVdpZHRoID0gMiphdmFpbFdpZHRoIC8gKCh0aGlzLl9vcHRpb25zLndpZHRoKzEpICogTWF0aC5zcXJ0KDMpKSAtIDE7XG5cdHZhciBoZXhTaXplSGVpZ2h0ID0gYXZhaWxIZWlnaHQgLyAoMiArIDEuNSoodGhpcy5fb3B0aW9ucy5oZWlnaHQtMSkpO1xuXHR2YXIgaGV4U2l6ZSA9IE1hdGgubWluKGhleFNpemVXaWR0aCwgaGV4U2l6ZUhlaWdodCk7XG5cblx0LyogY29tcHV0ZSBjaGFyIHJhdGlvICovXG5cdHZhciBvbGRGb250ID0gdGhpcy5fY29udGV4dC5mb250O1xuXHR0aGlzLl9jb250ZXh0LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuXHR2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuXHR0aGlzLl9jb250ZXh0LmZvbnQgPSBvbGRGb250O1xuXHR2YXIgcmF0aW8gPSB3aWR0aCAvIDEwMDtcblxuXHRoZXhTaXplID0gTWF0aC5mbG9vcihoZXhTaXplKSsxOyAvKiBjbG9zZXN0IGxhcmdlciBoZXhTaXplICovXG5cblx0LyogRklYTUUgY2hhciBzaXplIGNvbXB1dGF0aW9uIGRvZXMgbm90IHJlc3BlY3QgdHJhbnNwb3NlZCBoZXhlcyAqL1xuXHR2YXIgZm9udFNpemUgPSAyKmhleFNpemUgLyAodGhpcy5fb3B0aW9ucy5zcGFjaW5nICogKDEgKyByYXRpbyAvIE1hdGguc3FydCgzKSkpO1xuXG5cdC8qIGNsb3Nlc3Qgc21hbGxlciBmb250U2l6ZSAqL1xuXHRyZXR1cm4gTWF0aC5jZWlsKGZvbnRTaXplKS0xO1xufVxuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0eCArPSB5O1xuXHRcdHkgPSB4LXk7XG5cdFx0eCAtPSB5O1xuXHRcdHZhciBwcm9wID0gXCJ3aWR0aFwiO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBwcm9wID0gXCJoZWlnaHRcIjtcblx0fVxuXHR2YXIgc2l6ZSA9IHRoaXMuX2NvbnRleHQuY2FudmFzW3Byb3BdIC8gdGhpcy5fb3B0aW9uc1twcm9wXTtcblx0eSA9IE1hdGguZmxvb3IoeS9zaXplKTtcblxuXHRpZiAoeS5tb2QoMikpIHsgLyogb2RkIHJvdyAqL1xuXHRcdHggLT0gdGhpcy5fc3BhY2luZ1g7XG5cdFx0eCA9IDEgKyAyKk1hdGguZmxvb3IoeC8oMip0aGlzLl9zcGFjaW5nWCkpO1xuXHR9IGVsc2Uge1xuXHRcdHggPSAyKk1hdGguZmxvb3IoeC8oMip0aGlzLl9zcGFjaW5nWCkpO1xuXHR9XG5cdFxuXHRyZXR1cm4gW3gsIHldO1xufVxuXG4vKipcbiAqIEFyZ3VtZW50cyBhcmUgcGl4ZWwgdmFsdWVzLiBJZiBcInRyYW5zcG9zZWRcIiBtb2RlIGlzIGVuYWJsZWQsIHRoZW4gdGhlc2UgdHdvIGFyZSBhbHJlYWR5IHN3YXBwZWQuXG4gKi9cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuX2ZpbGwgPSBmdW5jdGlvbihjeCwgY3kpIHtcblx0dmFyIGEgPSB0aGlzLl9oZXhTaXplO1xuXHR2YXIgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuXHRcblx0dGhpcy5fY29udGV4dC5iZWdpblBhdGgoKTtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHR0aGlzLl9jb250ZXh0Lm1vdmVUbyhjeC1hK2IsXHRjeSk7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtYS8yK2IsXHRjeSt0aGlzLl9zcGFjaW5nWC1iKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCthLzItYixcdGN5K3RoaXMuX3NwYWNpbmdYLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K2EtYixcdGN5KTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCthLzItYixcdGN5LXRoaXMuX3NwYWNpbmdYK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LWEvMitiLFx0Y3ktdGhpcy5fc3BhY2luZ1grYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtYStiLFx0Y3kpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuX2NvbnRleHQubW92ZVRvKGN4LFx0XHRcdFx0XHRjeS1hK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K3RoaXMuX3NwYWNpbmdYLWIsXHRjeS1hLzIrYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grdGhpcy5fc3BhY2luZ1gtYixcdGN5K2EvMi1iKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCxcdFx0XHRcdFx0Y3krYS1iKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC10aGlzLl9zcGFjaW5nWCtiLFx0Y3krYS8yLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LXRoaXMuX3NwYWNpbmdYK2IsXHRjeS1hLzIrYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gsXHRcdFx0XHRcdGN5LWErYik7XG5cdH1cblx0dGhpcy5fY29udGV4dC5maWxsKCk7XG59XG4vKipcbiAqIEBjbGFzcyBUaWxlIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlRpbGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LlJlY3QuY2FsbCh0aGlzLCBjb250ZXh0KTtcblx0XG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcblx0dGhpcy5fY29sb3JDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xufVxuUk9ULkRpc3BsYXkuVGlsZS5leHRlbmQoUk9ULkRpc3BsYXkuUmVjdCk7XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXHR0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCA9IG9wdGlvbnMud2lkdGggKiBvcHRpb25zLnRpbGVXaWR0aDtcblx0dGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKiBvcHRpb25zLnRpbGVIZWlnaHQ7XG5cdHRoaXMuX2NvbG9yQ2FudmFzLndpZHRoID0gb3B0aW9ucy50aWxlV2lkdGg7XG5cdHRoaXMuX2NvbG9yQ2FudmFzLmhlaWdodCA9IG9wdGlvbnMudGlsZUhlaWdodDtcbn1cblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdHZhciB0aWxlV2lkdGggPSB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aDtcblx0dmFyIHRpbGVIZWlnaHQgPSB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQ7XG5cblx0aWYgKGNsZWFyQmVmb3JlKSB7XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMudGlsZUNvbG9yaXplKSB7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmNsZWFyUmVjdCh4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdFx0dGhpcy5fY29udGV4dC5maWxsUmVjdCh4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXHRcdH1cblx0fVxuXG5cdGlmICghY2gpIHsgcmV0dXJuOyB9XG5cblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdHZhciB0aWxlID0gdGhpcy5fb3B0aW9ucy50aWxlTWFwW2NoYXJzW2ldXTtcblx0XHRpZiAoIXRpbGUpIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2hhciAnXCIgKyBjaGFyc1tpXSArIFwiJyBub3QgZm91bmQgaW4gdGlsZU1hcFwiKTsgfVxuXHRcdFxuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRpbGVDb2xvcml6ZSkgeyAvKiBhcHBseSBjb2xvcml6YXRpb24gKi9cblx0XHRcdHZhciBjYW52YXMgPSB0aGlzLl9jb2xvckNhbnZhcztcblx0XHRcdHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRcdGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cblx0XHRcdGNvbnRleHQuZHJhd0ltYWdlKFxuXHRcdFx0XHR0aGlzLl9vcHRpb25zLnRpbGVTZXQsXG5cdFx0XHRcdHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCxcblx0XHRcdFx0MCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0XG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoZmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cdFx0XHRcdGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJzb3VyY2UtYXRvcFwiO1xuXHRcdFx0XHRjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChiZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcblx0XHRcdFx0Y29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0XHRcdFx0Y29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLW92ZXJcIjtcblx0XHRcdFx0Y29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cblx0XHR9IGVsc2UgeyAvKiBubyBjb2xvcml6aW5nLCBlYXN5ICovXG5cdFx0XHR0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShcblx0XHRcdFx0dGhpcy5fb3B0aW9ucy50aWxlU2V0LFxuXHRcdFx0XHR0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsXG5cdFx0XHRcdHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLnRpbGVXaWR0aCk7XG5cdHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KTtcblx0cmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbn1cblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy53aWR0aCk7XG5cdHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG5cdHJldHVybiBbTWF0aC5mbG9vcih4L3RoaXMuX29wdGlvbnMudGlsZVdpZHRoKSwgTWF0aC5mbG9vcih5L3RoaXMuX29wdGlvbnMudGlsZUhlaWdodCldO1xufVxuLyoqXG4gKiBAbmFtZXNwYWNlXG4gKiBUaGlzIGNvZGUgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgQWxlYSBhbGdvcml0aG07IChDKSAyMDEwIEpvaGFubmVzIEJhYWfDuGUuXG4gKiBBbGVhIGlzIGxpY2Vuc2VkIGFjY29yZGluZyB0byB0aGUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NSVRfTGljZW5zZS5cbiAqL1xuUk9ULlJORyA9IHtcblx0LyoqXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IFxuXHQgKi9cblx0Z2V0U2VlZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3NlZWQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzZWVkIFNlZWQgdGhlIG51bWJlciBnZW5lcmF0b3Jcblx0ICovXG5cdHNldFNlZWQ6IGZ1bmN0aW9uKHNlZWQpIHtcblx0XHRzZWVkID0gKHNlZWQgPCAxID8gMS9zZWVkIDogc2VlZCk7XG5cblx0XHR0aGlzLl9zZWVkID0gc2VlZDtcblx0XHR0aGlzLl9zMCA9IChzZWVkID4+PiAwKSAqIHRoaXMuX2ZyYWM7XG5cblx0XHRzZWVkID0gKHNlZWQqNjkwNjkgKyAxKSA+Pj4gMDtcblx0XHR0aGlzLl9zMSA9IHNlZWQgKiB0aGlzLl9mcmFjO1xuXG5cdFx0c2VlZCA9IChzZWVkKjY5MDY5ICsgMSkgPj4+IDA7XG5cdFx0dGhpcy5fczIgPSBzZWVkICogdGhpcy5fZnJhYztcblxuXHRcdHRoaXMuX2MgPSAxO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7ZmxvYXR9IFBzZXVkb3JhbmRvbSB2YWx1ZSBbMCwxKSwgdW5pZm9ybWx5IGRpc3RyaWJ1dGVkXG5cdCAqL1xuXHRnZXRVbmlmb3JtOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgdCA9IDIwOTE2MzkgKiB0aGlzLl9zMCArIHRoaXMuX2MgKiB0aGlzLl9mcmFjO1xuXHRcdHRoaXMuX3MwID0gdGhpcy5fczE7XG5cdFx0dGhpcy5fczEgPSB0aGlzLl9zMjtcblx0XHR0aGlzLl9jID0gdCB8IDA7XG5cdFx0dGhpcy5fczIgPSB0IC0gdGhpcy5fYztcblx0XHRyZXR1cm4gdGhpcy5fczI7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW50fSBsb3dlckJvdW5kIFRoZSBsb3dlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuXHQgKiBAcGFyYW0ge2ludH0gdXBwZXJCb3VuZCBUaGUgdXBwZXIgZW5kIG9mIHRoZSByYW5nZSB0byByZXR1cm4gYSB2YWx1ZSBmcm9tLCBpbmNsdXNpdmVcblx0ICogQHJldHVybnMge2ludH0gUHNldWRvcmFuZG9tIHZhbHVlIFtsb3dlckJvdW5kLCB1cHBlckJvdW5kXSwgdXNpbmcgUk9ULlJORy5nZXRVbmlmb3JtKCkgdG8gZGlzdHJpYnV0ZSB0aGUgdmFsdWVcblx0ICovXG5cdGdldFVuaWZvcm1JbnQ6IGZ1bmN0aW9uKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcblx0XHR2YXIgbWF4ID0gTWF0aC5tYXgobG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG5cdFx0dmFyIG1pbiA9IE1hdGgubWluKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpO1xuXHRcdHJldHVybiBNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtmbG9hdH0gW21lYW49MF0gTWVhbiB2YWx1ZVxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbc3RkZGV2PTFdIFN0YW5kYXJkIGRldmlhdGlvbi4gfjk1JSBvZiB0aGUgYWJzb2x1dGUgdmFsdWVzIHdpbGwgYmUgbG93ZXIgdGhhbiAyKnN0ZGRldi5cblx0ICogQHJldHVybnMge2Zsb2F0fSBBIG5vcm1hbGx5IGRpc3RyaWJ1dGVkIHBzZXVkb3JhbmRvbSB2YWx1ZVxuXHQgKi9cblx0Z2V0Tm9ybWFsOiBmdW5jdGlvbihtZWFuLCBzdGRkZXYpIHtcblx0XHRkbyB7XG5cdFx0XHR2YXIgdSA9IDIqdGhpcy5nZXRVbmlmb3JtKCktMTtcblx0XHRcdHZhciB2ID0gMip0aGlzLmdldFVuaWZvcm0oKS0xO1xuXHRcdFx0dmFyIHIgPSB1KnUgKyB2KnY7XG5cdFx0fSB3aGlsZSAociA+IDEgfHwgciA9PSAwKTtcblxuXHRcdHZhciBnYXVzcyA9IHUgKiBNYXRoLnNxcnQoLTIqTWF0aC5sb2cocikvcik7XG5cdFx0cmV0dXJuIChtZWFuIHx8IDApICsgZ2F1c3MqKHN0ZGRldiB8fCAxKTtcblx0fSxcblxuXHQvKipcblx0ICogQHJldHVybnMge2ludH0gUHNldWRvcmFuZG9tIHZhbHVlIFsxLDEwMF0gaW5jbHVzaXZlLCB1bmlmb3JtbHkgZGlzdHJpYnV0ZWRcblx0ICovXG5cdGdldFBlcmNlbnRhZ2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiAxICsgTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSoxMDApO1xuXHR9LFxuXHRcblx0LyoqXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIGtleT13aGF0ZXZlciwgdmFsdWU9d2VpZ2h0IChyZWxhdGl2ZSBwcm9iYWJpbGl0eSlcblx0ICogQHJldHVybnMge3N0cmluZ30gd2hhdGV2ZXJcblx0ICovXG5cdGdldFdlaWdodGVkVmFsdWU6IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHR2YXIgdG90YWwgPSAwO1xuXHRcdFxuXHRcdGZvciAodmFyIGlkIGluIGRhdGEpIHtcblx0XHRcdHRvdGFsICs9IGRhdGFbaWRdO1xuXHRcdH1cblx0XHR2YXIgcmFuZG9tID0gdGhpcy5nZXRVbmlmb3JtKCkqdG90YWw7XG5cdFx0XG5cdFx0dmFyIHBhcnQgPSAwO1xuXHRcdGZvciAodmFyIGlkIGluIGRhdGEpIHtcblx0XHRcdHBhcnQgKz0gZGF0YVtpZF07XG5cdFx0XHRpZiAocmFuZG9tIDwgcGFydCkgeyByZXR1cm4gaWQ7IH1cblx0XHR9XG5cblx0XHQvLyBJZiBieSBzb21lIGZsb2F0aW5nLXBvaW50IGFubm95YW5jZSB3ZSBoYXZlXG5cdFx0Ly8gcmFuZG9tID49IHRvdGFsLCBqdXN0IHJldHVybiB0aGUgbGFzdCBpZC5cblx0XHRyZXR1cm4gaWQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEdldCBSTkcgc3RhdGUuIFVzZWZ1bCBmb3Igc3RvcmluZyB0aGUgc3RhdGUgYW5kIHJlLXNldHRpbmcgaXQgdmlhIHNldFN0YXRlLlxuXHQgKiBAcmV0dXJucyB7P30gSW50ZXJuYWwgc3RhdGVcblx0ICovXG5cdGdldFN0YXRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gW3RoaXMuX3MwLCB0aGlzLl9zMSwgdGhpcy5fczIsIHRoaXMuX2NdO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZXQgYSBwcmV2aW91c2x5IHJldHJpZXZlZCBzdGF0ZS5cblx0ICogQHBhcmFtIHs/fSBzdGF0ZVxuXHQgKi9cblx0c2V0U3RhdGU6IGZ1bmN0aW9uKHN0YXRlKSB7XG5cdFx0dGhpcy5fczAgPSBzdGF0ZVswXTtcblx0XHR0aGlzLl9zMSA9IHN0YXRlWzFdO1xuXHRcdHRoaXMuX3MyID0gc3RhdGVbMl07XG5cdFx0dGhpcy5fYyAgPSBzdGF0ZVszXTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJucyBhIGNsb25lZCBSTkdcblx0ICovXG5cdGNsb25lOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgY2xvbmUgPSBPYmplY3QuY3JlYXRlKHRoaXMpO1xuXHRcdGNsb25lLnNldFN0YXRlKHRoaXMuZ2V0U3RhdGUoKSk7XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9LFxuXG5cdF9zMDogMCxcblx0X3MxOiAwLFxuXHRfczI6IDAsXG5cdF9jOiAwLFxuXHRfZnJhYzogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMCAvKiAyXi0zMiAqL1xufVxuXG5ST1QuUk5HLnNldFNlZWQoRGF0ZS5ub3coKSk7XG4vKipcbiAqIEBjbGFzcyAoTWFya292IHByb2Nlc3MpLWJhc2VkIHN0cmluZyBnZW5lcmF0b3IuIFxuICogQ29waWVkIGZyb20gYSA8YSBocmVmPVwiaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9TmFtZXNfZnJvbV9hX2hpZ2hfb3JkZXJfTWFya292X1Byb2Nlc3NfYW5kX2Ffc2ltcGxpZmllZF9LYXR6X2JhY2stb2ZmX3NjaGVtZVwiPlJvZ3VlQmFzaW4gYXJ0aWNsZTwvYT4uIFxuICogT2ZmZXJzIGNvbmZpZ3VyYWJsZSBvcmRlciBhbmQgcHJpb3IuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2x9IFtvcHRpb25zLndvcmRzPWZhbHNlXSBVc2Ugd29yZCBtb2RlP1xuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLm9yZGVyPTNdXG4gKiBAcGFyYW0ge2Zsb2F0fSBbb3B0aW9ucy5wcmlvcj0wLjAwMV1cbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHR3b3JkczogZmFsc2UsXG5cdFx0b3JkZXI6IDMsXG5cdFx0cHJpb3I6IDAuMDAxXG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cblx0dGhpcy5fYm91bmRhcnkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDApO1xuXHR0aGlzLl9zdWZmaXggPSB0aGlzLl9ib3VuZGFyeTtcblx0dGhpcy5fcHJlZml4ID0gW107XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX29wdGlvbnMub3JkZXI7aSsrKSB7IHRoaXMuX3ByZWZpeC5wdXNoKHRoaXMuX2JvdW5kYXJ5KTsgfVxuXG5cdHRoaXMuX3ByaW9yVmFsdWVzID0ge307XG5cdHRoaXMuX3ByaW9yVmFsdWVzW3RoaXMuX2JvdW5kYXJ5XSA9IHRoaXMuX29wdGlvbnMucHJpb3I7XG5cblx0dGhpcy5fZGF0YSA9IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGVhcm5pbmcgZGF0YVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kYXRhID0ge307XG5cdHRoaXMuX3ByaW9yVmFsdWVzID0ge307XG59XG5cbi8qKlxuICogQHJldHVybnMge3N0cmluZ30gR2VuZXJhdGVkIHN0cmluZ1xuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5nZW5lcmF0ZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcmVzdWx0ID0gW3RoaXMuX3NhbXBsZSh0aGlzLl9wcmVmaXgpXTtcblx0d2hpbGUgKHJlc3VsdFtyZXN1bHQubGVuZ3RoLTFdICE9IHRoaXMuX2JvdW5kYXJ5KSB7XG5cdFx0cmVzdWx0LnB1c2godGhpcy5fc2FtcGxlKHJlc3VsdCkpO1xuXHR9XG5cdHJldHVybiB0aGlzLl9qb2luKHJlc3VsdC5zbGljZSgwLCAtMSkpO1xufVxuXG4vKipcbiAqIE9ic2VydmUgKGxlYXJuKSBhIHN0cmluZyBmcm9tIGEgdHJhaW5pbmcgc2V0XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbihzdHJpbmcpIHtcblx0dmFyIHRva2VucyA9IHRoaXMuX3NwbGl0KHN0cmluZyk7XG5cblx0Zm9yICh2YXIgaT0wOyBpPHRva2Vucy5sZW5ndGg7IGkrKykge1xuXHRcdHRoaXMuX3ByaW9yVmFsdWVzW3Rva2Vuc1tpXV0gPSB0aGlzLl9vcHRpb25zLnByaW9yO1xuXHR9XG5cblx0dG9rZW5zID0gdGhpcy5fcHJlZml4LmNvbmNhdCh0b2tlbnMpLmNvbmNhdCh0aGlzLl9zdWZmaXgpOyAvKiBhZGQgYm91bmRhcnkgc3ltYm9scyAqL1xuXG5cdGZvciAodmFyIGk9dGhpcy5fb3B0aW9ucy5vcmRlcjsgaTx0b2tlbnMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgY29udGV4dCA9IHRva2Vucy5zbGljZShpLXRoaXMuX29wdGlvbnMub3JkZXIsIGkpO1xuXHRcdHZhciBldmVudCA9IHRva2Vuc1tpXTtcblx0XHRmb3IgKHZhciBqPTA7IGo8Y29udGV4dC5sZW5ndGg7IGorKykge1xuXHRcdFx0dmFyIHN1YmNvbnRleHQgPSBjb250ZXh0LnNsaWNlKGopO1xuXHRcdFx0dGhpcy5fb2JzZXJ2ZUV2ZW50KHN1YmNvbnRleHQsIGV2ZW50KTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIHBhcnRzID0gW107XG5cblx0dmFyIHByaW9yQ291bnQgPSAwO1xuXHRmb3IgKHZhciBwIGluIHRoaXMuX3ByaW9yVmFsdWVzKSB7IHByaW9yQ291bnQrKzsgfVxuXHRwcmlvckNvdW50LS07IC8qIGJvdW5kYXJ5ICovXG5cdHBhcnRzLnB1c2goXCJkaXN0aW5jdCBzYW1wbGVzOiBcIiArIHByaW9yQ291bnQpO1xuXG5cdHZhciBkYXRhQ291bnQgPSAwO1xuXHR2YXIgZXZlbnRDb3VudCA9IDA7XG5cdGZvciAodmFyIHAgaW4gdGhpcy5fZGF0YSkgeyBcblx0XHRkYXRhQ291bnQrKzsgXG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX2RhdGFbcF0pIHtcblx0XHRcdGV2ZW50Q291bnQrKztcblx0XHR9XG5cdH1cblx0cGFydHMucHVzaChcImRpY3Rpb25hcnkgc2l6ZSAoY29udGV4dHMpOiBcIiArIGRhdGFDb3VudCk7XG5cdHBhcnRzLnB1c2goXCJkaWN0aW9uYXJ5IHNpemUgKGV2ZW50cyk6IFwiICsgZXZlbnRDb3VudCk7XG5cblx0cmV0dXJuIHBhcnRzLmpvaW4oXCIsIFwiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ31cbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuX3NwbGl0ID0gZnVuY3Rpb24oc3RyKSB7XG5cdHJldHVybiBzdHIuc3BsaXQodGhpcy5fb3B0aW9ucy53b3JkcyA/IC9cXHMrLyA6IFwiXCIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuX2pvaW4gPSBmdW5jdGlvbihhcnIpIHtcblx0cmV0dXJuIGFyci5qb2luKHRoaXMuX29wdGlvbnMud29yZHMgPyBcIiBcIiA6IFwiXCIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119IGNvbnRleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fb2JzZXJ2ZUV2ZW50ID0gZnVuY3Rpb24oY29udGV4dCwgZXZlbnQpIHtcblx0dmFyIGtleSA9IHRoaXMuX2pvaW4oY29udGV4dCk7XG5cdGlmICghKGtleSBpbiB0aGlzLl9kYXRhKSkgeyB0aGlzLl9kYXRhW2tleV0gPSB7fTsgfVxuXHR2YXIgZGF0YSA9IHRoaXMuX2RhdGFba2V5XTtcblxuXHRpZiAoIShldmVudCBpbiBkYXRhKSkgeyBkYXRhW2V2ZW50XSA9IDA7IH1cblx0ZGF0YVtldmVudF0rKztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuX3NhbXBsZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Y29udGV4dCA9IHRoaXMuX2JhY2tvZmYoY29udGV4dCk7XG5cdHZhciBrZXkgPSB0aGlzLl9qb2luKGNvbnRleHQpO1xuXHR2YXIgZGF0YSA9IHRoaXMuX2RhdGFba2V5XTtcblxuXHR2YXIgYXZhaWxhYmxlID0ge307XG5cblx0aWYgKHRoaXMuX29wdGlvbnMucHJpb3IpIHtcblx0XHRmb3IgKHZhciBldmVudCBpbiB0aGlzLl9wcmlvclZhbHVlcykgeyBhdmFpbGFibGVbZXZlbnRdID0gdGhpcy5fcHJpb3JWYWx1ZXNbZXZlbnRdOyB9XG5cdFx0Zm9yICh2YXIgZXZlbnQgaW4gZGF0YSkgeyBhdmFpbGFibGVbZXZlbnRdICs9IGRhdGFbZXZlbnRdOyB9XG5cdH0gZWxzZSB7IFxuXHRcdGF2YWlsYWJsZSA9IGRhdGE7XG5cdH1cblxuXHRyZXR1cm4gUk9ULlJORy5nZXRXZWlnaHRlZFZhbHVlKGF2YWlsYWJsZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX1cbiAqIEByZXR1cm5zIHtzdHJpbmdbXX1cbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuX2JhY2tvZmYgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdGlmIChjb250ZXh0Lmxlbmd0aCA+IHRoaXMuX29wdGlvbnMub3JkZXIpIHtcblx0XHRjb250ZXh0ID0gY29udGV4dC5zbGljZSgtdGhpcy5fb3B0aW9ucy5vcmRlcik7XG5cdH0gZWxzZSBpZiAoY29udGV4dC5sZW5ndGggPCB0aGlzLl9vcHRpb25zLm9yZGVyKSB7XG5cdFx0Y29udGV4dCA9IHRoaXMuX3ByZWZpeC5zbGljZSgwLCB0aGlzLl9vcHRpb25zLm9yZGVyIC0gY29udGV4dC5sZW5ndGgpLmNvbmNhdChjb250ZXh0KTtcblx0fVxuXG5cdHdoaWxlICghKHRoaXMuX2pvaW4oY29udGV4dCkgaW4gdGhpcy5fZGF0YSkgJiYgY29udGV4dC5sZW5ndGggPiAwKSB7IGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKDEpOyB9XG5cblx0cmV0dXJuIGNvbnRleHQ7XG59XG4vKipcbiAqIEBjbGFzcyBHZW5lcmljIGV2ZW50IHF1ZXVlOiBzdG9yZXMgZXZlbnRzIGFuZCByZXRyaWV2ZXMgdGhlbSBiYXNlZCBvbiB0aGVpciB0aW1lXG4gKi9cblJPVC5FdmVudFF1ZXVlID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3RpbWUgPSAwO1xuXHR0aGlzLl9ldmVudHMgPSBbXTtcblx0dGhpcy5fZXZlbnRUaW1lcyA9IFtdO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEVsYXBzZWQgdGltZVxuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fdGltZTtcbn1cblxuLyoqXG4gKiBDbGVhciBhbGwgc2NoZWR1bGVkIGV2ZW50c1xuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fZXZlbnRzID0gW107XG5cdHRoaXMuX2V2ZW50VGltZXMgPSBbXTtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHs/fSBldmVudFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbWVcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGV2ZW50LCB0aW1lKSB7XG5cdHZhciBpbmRleCA9IHRoaXMuX2V2ZW50cy5sZW5ndGg7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX2V2ZW50VGltZXMubGVuZ3RoO2krKykge1xuXHRcdGlmICh0aGlzLl9ldmVudFRpbWVzW2ldID4gdGltZSkge1xuXHRcdFx0aW5kZXggPSBpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0dGhpcy5fZXZlbnRzLnNwbGljZShpbmRleCwgMCwgZXZlbnQpO1xuXHR0aGlzLl9ldmVudFRpbWVzLnNwbGljZShpbmRleCwgMCwgdGltZSk7XG59XG5cbi8qKlxuICogTG9jYXRlcyB0aGUgbmVhcmVzdCBldmVudCwgYWR2YW5jZXMgdGltZSBpZiBuZWNlc3NhcnkuIFJldHVybnMgdGhhdCBldmVudCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBxdWV1ZS5cbiAqIEByZXR1cm5zIHs/IHx8IG51bGx9IFRoZSBldmVudCBwcmV2aW91c2x5IGFkZGVkIGJ5IGFkZEV2ZW50LCBudWxsIGlmIG5vIGV2ZW50IGF2YWlsYWJsZVxuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5fZXZlbnRzLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXG5cdHZhciB0aW1lID0gdGhpcy5fZXZlbnRUaW1lcy5zcGxpY2UoMCwgMSlbMF07XG5cdGlmICh0aW1lID4gMCkgeyAvKiBhZHZhbmNlICovXG5cdFx0dGhpcy5fdGltZSArPSB0aW1lO1xuXHRcdGZvciAodmFyIGk9MDtpPHRoaXMuX2V2ZW50VGltZXMubGVuZ3RoO2krKykgeyB0aGlzLl9ldmVudFRpbWVzW2ldIC09IHRpbWU7IH1cblx0fVxuXG5cdHJldHVybiB0aGlzLl9ldmVudHMuc3BsaWNlKDAsIDEpWzBdO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbiBldmVudCBmcm9tIHRoZSBxdWV1ZVxuICogQHBhcmFtIHs/fSBldmVudFxuICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3M/XG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihldmVudCkge1xuXHR2YXIgaW5kZXggPSB0aGlzLl9ldmVudHMuaW5kZXhPZihldmVudCk7XG5cdGlmIChpbmRleCA9PSAtMSkgeyByZXR1cm4gZmFsc2UgfVxuXHR0aGlzLl9yZW1vdmUoaW5kZXgpO1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYW4gZXZlbnQgZnJvbSB0aGUgcXVldWVcbiAqIEBwYXJhbSB7aW50fSBpbmRleFxuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUuX3JlbW92ZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdHRoaXMuX2V2ZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuXHR0aGlzLl9ldmVudFRpbWVzLnNwbGljZShpbmRleCwgMSk7XG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBzY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9xdWV1ZSA9IG5ldyBST1QuRXZlbnRRdWV1ZSgpO1xuXHR0aGlzLl9yZXBlYXQgPSBbXTtcblx0dGhpcy5fY3VycmVudCA9IG51bGw7XG59XG5cbi8qKlxuICogQHNlZSBST1QuRXZlbnRRdWV1ZSNnZXRUaW1lXG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmdldFRpbWUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3F1ZXVlLmdldFRpbWUoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gez99IGl0ZW1cbiAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCkge1xuXHRpZiAocmVwZWF0KSB7IHRoaXMuX3JlcGVhdC5wdXNoKGl0ZW0pOyB9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENsZWFyIGFsbCBpdGVtc1xuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9xdWV1ZS5jbGVhcigpO1xuXHR0aGlzLl9yZXBlYXQgPSBbXTtcblx0dGhpcy5fY3VycmVudCA9IG51bGw7XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIHByZXZpb3VzbHkgYWRkZWQgaXRlbVxuICogQHBhcmFtIHs/fSBpdGVtXG4gKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2Vzc2Z1bD9cbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaXRlbSkge1xuXHR2YXIgcmVzdWx0ID0gdGhpcy5fcXVldWUucmVtb3ZlKGl0ZW0pO1xuXG5cdHZhciBpbmRleCA9IHRoaXMuX3JlcGVhdC5pbmRleE9mKGl0ZW0pO1xuXHRpZiAoaW5kZXggIT0gLTEpIHsgdGhpcy5fcmVwZWF0LnNwbGljZShpbmRleCwgMSk7IH1cblxuXHRpZiAodGhpcy5fY3VycmVudCA9PSBpdGVtKSB7IHRoaXMuX2N1cnJlbnQgPSBudWxsOyB9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZSBuZXh0IGl0ZW1cbiAqIEByZXR1cm5zIHs/fVxuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2N1cnJlbnQgPSB0aGlzLl9xdWV1ZS5nZXQoKTtcblx0cmV0dXJuIHRoaXMuX2N1cnJlbnQ7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGUgZmFpciBzY2hlZHVsZXIgKHJvdW5kLXJvYmluIHN0eWxlKVxuICogQGF1Z21lbnRzIFJPVC5TY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlci5TaW1wbGUgPSBmdW5jdGlvbigpIHtcblx0Uk9ULlNjaGVkdWxlci5jYWxsKHRoaXMpO1xufVxuUk9ULlNjaGVkdWxlci5TaW1wbGUuZXh0ZW5kKFJPVC5TY2hlZHVsZXIpO1xuXG4vKipcbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAqL1xuUk9ULlNjaGVkdWxlci5TaW1wbGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCkge1xuXHR0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgMCk7XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBpdGVtLCByZXBlYXQpO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNuZXh0XG4gKi9cblJPVC5TY2hlZHVsZXIuU2ltcGxlLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLl9jdXJyZW50ICYmIHRoaXMuX3JlcGVhdC5pbmRleE9mKHRoaXMuX2N1cnJlbnQpICE9IC0xKSB7XG5cdFx0dGhpcy5fcXVldWUuYWRkKHRoaXMuX2N1cnJlbnQsIDApO1xuXHR9XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyk7XG59XG4vKipcbiAqIEBjbGFzcyBTcGVlZC1iYXNlZCBzY2hlZHVsZXJcbiAqIEBhdWdtZW50cyBST1QuU2NoZWR1bGVyXG4gKi9cblJPVC5TY2hlZHVsZXIuU3BlZWQgPSBmdW5jdGlvbigpIHtcblx0Uk9ULlNjaGVkdWxlci5jYWxsKHRoaXMpO1xufVxuUk9ULlNjaGVkdWxlci5TcGVlZC5leHRlbmQoUk9ULlNjaGVkdWxlcik7XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW0gYW55dGhpbmcgd2l0aCBcImdldFNwZWVkXCIgbWV0aG9kXG4gKiBAcGFyYW0ge2Jvb2x9IHJlcGVhdFxuICogQHNlZSBST1QuU2NoZWR1bGVyI2FkZFxuICovXG5ST1QuU2NoZWR1bGVyLlNwZWVkLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihpdGVtLCByZXBlYXQpIHtcblx0dGhpcy5fcXVldWUuYWRkKGl0ZW0sIDEvaXRlbS5nZXRTcGVlZCgpKTtcblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIGl0ZW0sIHJlcGVhdCk7XG59XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAqL1xuUk9ULlNjaGVkdWxlci5TcGVlZC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5fY3VycmVudCAmJiB0aGlzLl9yZXBlYXQuaW5kZXhPZih0aGlzLl9jdXJyZW50KSAhPSAtMSkge1xuXHRcdHRoaXMuX3F1ZXVlLmFkZCh0aGlzLl9jdXJyZW50LCAxL3RoaXMuX2N1cnJlbnQuZ2V0U3BlZWQoKSk7XG5cdH1cblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzKTtcbn1cbi8qKlxuICogQGNsYXNzIEFjdGlvbi1iYXNlZCBzY2hlZHVsZXJcbiAqIEBhdWdtZW50cyBST1QuU2NoZWR1bGVyXG4gKi9cblJPVC5TY2hlZHVsZXIuQWN0aW9uID0gZnVuY3Rpb24oKSB7XG5cdFJPVC5TY2hlZHVsZXIuY2FsbCh0aGlzKTtcblx0dGhpcy5fZGVmYXVsdER1cmF0aW9uID0gMTsgLyogZm9yIG5ld2x5IGFkZGVkICovXG5cdHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uOyAvKiBmb3IgdGhpcy5fY3VycmVudCAqL1xufVxuUk9ULlNjaGVkdWxlci5BY3Rpb24uZXh0ZW5kKFJPVC5TY2hlZHVsZXIpO1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtXG4gKiBAcGFyYW0ge2Jvb2x9IHJlcGVhdFxuICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lPTFdXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjYWRkXG4gKi9cblJPVC5TY2hlZHVsZXIuQWN0aW9uLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihpdGVtLCByZXBlYXQsIHRpbWUpIHtcblx0dGhpcy5fcXVldWUuYWRkKGl0ZW0sIHRpbWUgfHwgdGhpcy5fZGVmYXVsdER1cmF0aW9uKTtcblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIGl0ZW0sIHJlcGVhdCk7XG59XG5cblJPVC5TY2hlZHVsZXIuQWN0aW9uLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjtcblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmNsZWFyLmNhbGwodGhpcyk7XG59XG5cblJPVC5TY2hlZHVsZXIuQWN0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpdGVtKSB7XG5cdGlmIChpdGVtID09IHRoaXMuX2N1cnJlbnQpIHsgdGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247IH1cblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMsIGl0ZW0pO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNuZXh0XG4gKi9cblJPVC5TY2hlZHVsZXIuQWN0aW9uLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLl9jdXJyZW50ICYmIHRoaXMuX3JlcGVhdC5pbmRleE9mKHRoaXMuX2N1cnJlbnQpICE9IC0xKSB7XG5cdFx0dGhpcy5fcXVldWUuYWRkKHRoaXMuX2N1cnJlbnQsIHRoaXMuX2R1cmF0aW9uIHx8IHRoaXMuX2RlZmF1bHREdXJhdGlvbik7XG5cdFx0dGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247XG5cdH1cblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzKTtcbn1cblxuLyoqXG4gKiBTZXQgZHVyYXRpb24gZm9yIHRoZSBhY3RpdmUgaXRlbVxuICovXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUuc2V0RHVyYXRpb24gPSBmdW5jdGlvbih0aW1lKSB7XG5cdGlmICh0aGlzLl9jdXJyZW50KSB7IHRoaXMuX2R1cmF0aW9uID0gdGltZTsgfVxuXHRyZXR1cm4gdGhpcztcbn1cbi8qKlxuICogQGNsYXNzIEFzeW5jaHJvbm91cyBtYWluIGxvb3BcbiAqIEBwYXJhbSB7Uk9ULlNjaGVkdWxlcn0gc2NoZWR1bGVyXG4gKi9cblJPVC5FbmdpbmUgPSBmdW5jdGlvbihzY2hlZHVsZXIpIHtcblx0dGhpcy5fc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuXHR0aGlzLl9sb2NrID0gMTtcbn1cblxuLyoqXG4gKiBTdGFydCB0aGUgbWFpbiBsb29wLiBXaGVuIHRoaXMgY2FsbCByZXR1cm5zLCB0aGUgbG9vcCBpcyBsb2NrZWQuXG4gKi9cblJPVC5FbmdpbmUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLnVubG9jaygpO1xufVxuXG4vKipcbiAqIEludGVycnVwdCB0aGUgZW5naW5lIGJ5IGFuIGFzeW5jaHJvbm91cyBhY3Rpb25cbiAqL1xuUk9ULkVuZ2luZS5wcm90b3R5cGUubG9jayA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9sb2NrKys7XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJlc3VtZSBleGVjdXRpb24gKHBhdXNlZCBieSBhIHByZXZpb3VzIGxvY2spXG4gKi9cblJPVC5FbmdpbmUucHJvdG90eXBlLnVubG9jayA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMuX2xvY2spIHsgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVubG9jayB1bmxvY2tlZCBlbmdpbmVcIik7IH1cblx0dGhpcy5fbG9jay0tO1xuXG5cdHdoaWxlICghdGhpcy5fbG9jaykge1xuXHRcdHZhciBhY3RvciA9IHRoaXMuX3NjaGVkdWxlci5uZXh0KCk7XG5cdFx0aWYgKCFhY3RvcikgeyByZXR1cm4gdGhpcy5sb2NrKCk7IH0gLyogbm8gYWN0b3JzICovXG5cdFx0dmFyIHJlc3VsdCA9IGFjdG9yLmFjdCgpO1xuXHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0LnRoZW4pIHsgLyogYWN0b3IgcmV0dXJuZWQgYSBcInRoZW5hYmxlXCIsIGxvb2tzIGxpa2UgYSBQcm9taXNlICovXG5cdFx0XHR0aGlzLmxvY2soKTtcblx0XHRcdHJlc3VsdC50aGVuKHRoaXMudW5sb2NrLmJpbmQodGhpcykpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0aGlzO1xufVxuLyoqXG4gKiBAY2xhc3MgQmFzZSBtYXAgZ2VuZXJhdG9yXG4gKiBAcGFyYW0ge2ludH0gW3dpZHRoPVJPVC5ERUZBVUxUX1dJRFRIXVxuICogQHBhcmFtIHtpbnR9IFtoZWlnaHQ9Uk9ULkRFRkFVTFRfSEVJR0hUXVxuICovXG5ST1QuTWFwID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHR0aGlzLl93aWR0aCA9IHdpZHRoIHx8IFJPVC5ERUZBVUxUX1dJRFRIO1xuXHR0aGlzLl9oZWlnaHQgPSBoZWlnaHQgfHwgUk9ULkRFRkFVTFRfSEVJR0hUO1xufTtcblxuUk9ULk1hcC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHt9XG5cblJPVC5NYXAucHJvdG90eXBlLl9maWxsTWFwID0gZnVuY3Rpb24odmFsdWUpIHtcblx0dmFyIG1hcCA9IFtdO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRtYXAucHVzaChbXSk7XG5cdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykgeyBtYXBbaV0ucHVzaCh2YWx1ZSk7IH1cblx0fVxuXHRyZXR1cm4gbWFwO1xufVxuLyoqXG4gKiBAY2xhc3MgU2ltcGxlIGVtcHR5IHJlY3Rhbmd1bGFyIHJvb21cbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuQXJlbmEgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcbn1cblJPVC5NYXAuQXJlbmEuZXh0ZW5kKFJPVC5NYXApO1xuXG5ST1QuTWFwLkFyZW5hLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgdyA9IHRoaXMuX3dpZHRoLTE7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0LTE7XG5cdGZvciAodmFyIGk9MDtpPD13O2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPD1oO2orKykge1xuXHRcdFx0dmFyIGVtcHR5ID0gKGkgJiYgaiAmJiBpPHcgJiYgajxoKTtcblx0XHRcdGNhbGxiYWNrKGksIGosIGVtcHR5ID8gMCA6IDEpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cbi8qKlxuICogQGNsYXNzIFJlY3Vyc2l2ZWx5IGRpdmlkZWQgbWF6ZSwgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9NYXplX2dlbmVyYXRpb25fYWxnb3JpdGhtI1JlY3Vyc2l2ZV9kaXZpc2lvbl9tZXRob2RcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuRGl2aWRlZE1hemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0dGhpcy5fc3RhY2sgPSBbXTtcbn1cblJPVC5NYXAuRGl2aWRlZE1hemUuZXh0ZW5kKFJPVC5NYXApO1xuXG5ST1QuTWFwLkRpdmlkZWRNYXplLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgdyA9IHRoaXMuX3dpZHRoO1xuXHR2YXIgaCA9IHRoaXMuX2hlaWdodDtcblx0XG5cdHRoaXMuX21hcCA9IFtdO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHR0aGlzLl9tYXAucHVzaChbXSk7XG5cdFx0Zm9yICh2YXIgaj0wO2o8aDtqKyspIHtcblx0XHRcdHZhciBib3JkZXIgPSAoaSA9PSAwIHx8IGogPT0gMCB8fCBpKzEgPT0gdyB8fCBqKzEgPT0gaCk7XG5cdFx0XHR0aGlzLl9tYXBbaV0ucHVzaChib3JkZXIgPyAxIDogMCk7XG5cdFx0fVxuXHR9XG5cdFxuXHR0aGlzLl9zdGFjayA9IFtcblx0XHRbMSwgMSwgdy0yLCBoLTJdXG5cdF07XG5cdHRoaXMuX3Byb2Nlc3MoKTtcblx0XG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8aDtqKyspIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG5cdHRoaXMuX21hcCA9IG51bGw7XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkRpdmlkZWRNYXplLnByb3RvdHlwZS5fcHJvY2VzcyA9IGZ1bmN0aW9uKCkge1xuXHR3aGlsZSAodGhpcy5fc3RhY2subGVuZ3RoKSB7XG5cdFx0dmFyIHJvb20gPSB0aGlzLl9zdGFjay5zaGlmdCgpOyAvKiBbbGVmdCwgdG9wLCByaWdodCwgYm90dG9tXSAqL1xuXHRcdHRoaXMuX3BhcnRpdGlvblJvb20ocm9vbSk7XG5cdH1cbn1cblxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5wcm90b3R5cGUuX3BhcnRpdGlvblJvb20gPSBmdW5jdGlvbihyb29tKSB7XG5cdHZhciBhdmFpbFggPSBbXTtcblx0dmFyIGF2YWlsWSA9IFtdO1xuXHRcblx0Zm9yICh2YXIgaT1yb29tWzBdKzE7aTxyb29tWzJdO2krKykge1xuXHRcdHZhciB0b3AgPSB0aGlzLl9tYXBbaV1bcm9vbVsxXS0xXTtcblx0XHR2YXIgYm90dG9tID0gdGhpcy5fbWFwW2ldW3Jvb21bM10rMV07XG5cdFx0aWYgKHRvcCAmJiBib3R0b20gJiYgIShpICUgMikpIHsgYXZhaWxYLnB1c2goaSk7IH1cblx0fVxuXHRcblx0Zm9yICh2YXIgaj1yb29tWzFdKzE7ajxyb29tWzNdO2orKykge1xuXHRcdHZhciBsZWZ0ID0gdGhpcy5fbWFwW3Jvb21bMF0tMV1bal07XG5cdFx0dmFyIHJpZ2h0ID0gdGhpcy5fbWFwW3Jvb21bMl0rMV1bal07XG5cdFx0aWYgKGxlZnQgJiYgcmlnaHQgJiYgIShqICUgMikpIHsgYXZhaWxZLnB1c2goaik7IH1cblx0fVxuXG5cdGlmICghYXZhaWxYLmxlbmd0aCB8fCAhYXZhaWxZLmxlbmd0aCkgeyByZXR1cm47IH1cblxuXHR2YXIgeCA9IGF2YWlsWC5yYW5kb20oKTtcblx0dmFyIHkgPSBhdmFpbFkucmFuZG9tKCk7XG5cdFxuXHR0aGlzLl9tYXBbeF1beV0gPSAxO1xuXHRcblx0dmFyIHdhbGxzID0gW107XG5cdFxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiBsZWZ0IHBhcnQgKi9cblx0Zm9yICh2YXIgaT1yb29tWzBdOyBpPHg7IGkrKykgeyBcblx0XHR0aGlzLl9tYXBbaV1beV0gPSAxO1xuXHRcdHcucHVzaChbaSwgeV0pOyBcblx0fVxuXHRcblx0dmFyIHcgPSBbXTsgd2FsbHMucHVzaCh3KTsgLyogcmlnaHQgcGFydCAqL1xuXHRmb3IgKHZhciBpPXgrMTsgaTw9cm9vbVsyXTsgaSsrKSB7IFxuXHRcdHRoaXMuX21hcFtpXVt5XSA9IDE7XG5cdFx0dy5wdXNoKFtpLCB5XSk7IFxuXHR9XG5cblx0dmFyIHcgPSBbXTsgd2FsbHMucHVzaCh3KTsgLyogdG9wIHBhcnQgKi9cblx0Zm9yICh2YXIgaj1yb29tWzFdOyBqPHk7IGorKykgeyBcblx0XHR0aGlzLl9tYXBbeF1bal0gPSAxO1xuXHRcdHcucHVzaChbeCwgal0pOyBcblx0fVxuXHRcblx0dmFyIHcgPSBbXTsgd2FsbHMucHVzaCh3KTsgLyogYm90dG9tIHBhcnQgKi9cblx0Zm9yICh2YXIgaj15KzE7IGo8PXJvb21bM107IGorKykgeyBcblx0XHR0aGlzLl9tYXBbeF1bal0gPSAxO1xuXHRcdHcucHVzaChbeCwgal0pOyBcblx0fVxuXHRcdFxuXHR2YXIgc29saWQgPSB3YWxscy5yYW5kb20oKTtcblx0Zm9yICh2YXIgaT0wO2k8d2FsbHMubGVuZ3RoO2krKykge1xuXHRcdHZhciB3ID0gd2FsbHNbaV07XG5cdFx0aWYgKHcgPT0gc29saWQpIHsgY29udGludWU7IH1cblx0XHRcblx0XHR2YXIgaG9sZSA9IHcucmFuZG9tKCk7XG5cdFx0dGhpcy5fbWFwW2hvbGVbMF1dW2hvbGVbMV1dID0gMDtcblx0fVxuXG5cdHRoaXMuX3N0YWNrLnB1c2goW3Jvb21bMF0sIHJvb21bMV0sIHgtMSwgeS0xXSk7IC8qIGxlZnQgdG9wICovXG5cdHRoaXMuX3N0YWNrLnB1c2goW3grMSwgcm9vbVsxXSwgcm9vbVsyXSwgeS0xXSk7IC8qIHJpZ2h0IHRvcCAqL1xuXHR0aGlzLl9zdGFjay5wdXNoKFtyb29tWzBdLCB5KzEsIHgtMSwgcm9vbVszXV0pOyAvKiBsZWZ0IGJvdHRvbSAqL1xuXHR0aGlzLl9zdGFjay5wdXNoKFt4KzEsIHkrMSwgcm9vbVsyXSwgcm9vbVszXV0pOyAvKiByaWdodCBib3R0b20gKi9cbn1cbi8qKlxuICogQGNsYXNzIEljZXkncyBNYXplIGdlbmVyYXRvclxuICogU2VlIGh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPVNpbXBsZV9tYXplIGZvciBleHBsYW5hdGlvblxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5JY2V5TWF6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIHJlZ3VsYXJpdHkpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9yZWd1bGFyaXR5ID0gcmVndWxhcml0eSB8fCAwO1xufVxuUk9ULk1hcC5JY2V5TWF6ZS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuSWNleU1hemUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB3aWR0aCA9IHRoaXMuX3dpZHRoO1xuXHR2YXIgaGVpZ2h0ID0gdGhpcy5faGVpZ2h0O1xuXHRcblx0dmFyIG1hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdFxuXHR3aWR0aCAtPSAod2lkdGggJSAyID8gMSA6IDIpO1xuXHRoZWlnaHQgLT0gKGhlaWdodCAlIDIgPyAxIDogMik7XG5cblx0dmFyIGN4ID0gMDtcblx0dmFyIGN5ID0gMDtcblx0dmFyIG54ID0gMDtcblx0dmFyIG55ID0gMDtcblxuXHR2YXIgZG9uZSA9IDA7XG5cdHZhciBibG9ja2VkID0gZmFsc2U7XG5cdHZhciBkaXJzID0gW1xuXHRcdFswLCAwXSxcblx0XHRbMCwgMF0sXG5cdFx0WzAsIDBdLFxuXHRcdFswLCAwXVxuXHRdO1xuXHRkbyB7XG5cdFx0Y3ggPSAxICsgMipNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKih3aWR0aC0xKSAvIDIpO1xuXHRcdGN5ID0gMSArIDIqTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSooaGVpZ2h0LTEpIC8gMik7XG5cblx0XHRpZiAoIWRvbmUpIHsgbWFwW2N4XVtjeV0gPSAwOyB9XG5cdFx0XG5cdFx0aWYgKCFtYXBbY3hdW2N5XSkge1xuXHRcdFx0dGhpcy5fcmFuZG9taXplKGRpcnMpO1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAoTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSoodGhpcy5fcmVndWxhcml0eSsxKSkgPT0gMCkgeyB0aGlzLl9yYW5kb21pemUoZGlycyk7IH1cblx0XHRcdFx0YmxvY2tlZCA9IHRydWU7XG5cdFx0XHRcdGZvciAodmFyIGk9MDtpPDQ7aSsrKSB7XG5cdFx0XHRcdFx0bnggPSBjeCArIGRpcnNbaV1bMF0qMjtcblx0XHRcdFx0XHRueSA9IGN5ICsgZGlyc1tpXVsxXSoyO1xuXHRcdFx0XHRcdGlmICh0aGlzLl9pc0ZyZWUobWFwLCBueCwgbnksIHdpZHRoLCBoZWlnaHQpKSB7XG5cdFx0XHRcdFx0XHRtYXBbbnhdW255XSA9IDA7XG5cdFx0XHRcdFx0XHRtYXBbY3ggKyBkaXJzW2ldWzBdXVtjeSArIGRpcnNbaV1bMV1dID0gMDtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Y3ggPSBueDtcblx0XHRcdFx0XHRcdGN5ID0gbnk7XG5cdFx0XHRcdFx0XHRibG9ja2VkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRkb25lKys7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gd2hpbGUgKCFibG9ja2VkKTtcblx0XHR9XG5cdH0gd2hpbGUgKGRvbmUrMSA8IHdpZHRoKmhlaWdodC80KTtcblx0XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIG1hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG5cdHRoaXMuX21hcCA9IG51bGw7XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkljZXlNYXplLnByb3RvdHlwZS5fcmFuZG9taXplID0gZnVuY3Rpb24oZGlycykge1xuXHRmb3IgKHZhciBpPTA7aTw0O2krKykge1xuXHRcdGRpcnNbaV1bMF0gPSAwO1xuXHRcdGRpcnNbaV1bMV0gPSAwO1xuXHR9XG5cdFxuXHRzd2l0Y2ggKE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqNCkpIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRkaXJzWzBdWzBdID0gLTE7IGRpcnNbMV1bMF0gPSAxO1xuXHRcdFx0ZGlyc1syXVsxXSA9IC0xOyBkaXJzWzNdWzFdID0gMTtcblx0XHRicmVhaztcblx0XHRjYXNlIDE6XG5cdFx0XHRkaXJzWzNdWzBdID0gLTE7IGRpcnNbMl1bMF0gPSAxO1xuXHRcdFx0ZGlyc1sxXVsxXSA9IC0xOyBkaXJzWzBdWzFdID0gMTtcblx0XHRicmVhaztcblx0XHRjYXNlIDI6XG5cdFx0XHRkaXJzWzJdWzBdID0gLTE7IGRpcnNbM11bMF0gPSAxO1xuXHRcdFx0ZGlyc1swXVsxXSA9IC0xOyBkaXJzWzFdWzFdID0gMTtcblx0XHRicmVhaztcblx0XHRjYXNlIDM6XG5cdFx0XHRkaXJzWzFdWzBdID0gLTE7IGRpcnNbMF1bMF0gPSAxO1xuXHRcdFx0ZGlyc1szXVsxXSA9IC0xOyBkaXJzWzJdWzFdID0gMTtcblx0XHRicmVhaztcblx0fVxufVxuXG5ST1QuTWFwLkljZXlNYXplLnByb3RvdHlwZS5faXNGcmVlID0gZnVuY3Rpb24obWFwLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG5cdGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4ID49IHdpZHRoIHx8IHkgPj0gaGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gbWFwW3hdW3ldO1xufVxuLyoqXG4gKiBAY2xhc3MgTWF6ZSBnZW5lcmF0b3IgLSBFbGxlcidzIGFsZ29yaXRobVxuICogU2VlIGh0dHA6Ly9ob21lcGFnZXMuY3dpLm5sL350cm9tcC9tYXplLmh0bWwgZm9yIGV4cGxhbmF0aW9uXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkVsbGVyTWF6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xufVxuUk9ULk1hcC5FbGxlck1hemUuZXh0ZW5kKFJPVC5NYXApO1xuXG5ST1QuTWFwLkVsbGVyTWF6ZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIG1hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdHZhciB3ID0gTWF0aC5jZWlsKCh0aGlzLl93aWR0aC0yKS8yKTtcblx0XG5cdHZhciByYW5kID0gOS8yNDtcblx0XG5cdHZhciBMID0gW107XG5cdHZhciBSID0gW107XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdEwucHVzaChpKTtcblx0XHRSLnB1c2goaSk7XG5cdH1cblx0TC5wdXNoKHctMSk7IC8qIGZha2Ugc3RvcC1ibG9jayBhdCB0aGUgcmlnaHQgc2lkZSAqL1xuXG5cdGZvciAodmFyIGo9MTtqKzM8dGhpcy5faGVpZ2h0O2orPTIpIHtcblx0XHQvKiBvbmUgcm93ICovXG5cdFx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHRcdC8qIGNlbGwgY29vcmRzICh3aWxsIGJlIGFsd2F5cyBlbXB0eSkgKi9cblx0XHRcdHZhciB4ID0gMippKzE7XG5cdFx0XHR2YXIgeSA9IGo7XG5cdFx0XHRtYXBbeF1beV0gPSAwO1xuXHRcdFx0XG5cdFx0XHQvKiByaWdodCBjb25uZWN0aW9uICovXG5cdFx0XHRpZiAoaSAhPSBMW2krMV0gJiYgUk9ULlJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSB7XG5cdFx0XHRcdHRoaXMuX2FkZFRvTGlzdChpLCBMLCBSKTtcblx0XHRcdFx0bWFwW3grMV1beV0gPSAwO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvKiBib3R0b20gY29ubmVjdGlvbiAqL1xuXHRcdFx0aWYgKGkgIT0gTFtpXSAmJiBST1QuUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpIHtcblx0XHRcdFx0LyogcmVtb3ZlIGNvbm5lY3Rpb24gKi9cblx0XHRcdFx0dGhpcy5fcmVtb3ZlRnJvbUxpc3QoaSwgTCwgUik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvKiBjcmVhdGUgY29ubmVjdGlvbiAqL1xuXHRcdFx0XHRtYXBbeF1beSsxXSA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyogbGFzdCByb3cgKi9cblx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHQvKiBjZWxsIGNvb3JkcyAod2lsbCBiZSBhbHdheXMgZW1wdHkpICovXG5cdFx0dmFyIHggPSAyKmkrMTtcblx0XHR2YXIgeSA9IGo7XG5cdFx0bWFwW3hdW3ldID0gMDtcblx0XHRcblx0XHQvKiByaWdodCBjb25uZWN0aW9uICovXG5cdFx0aWYgKGkgIT0gTFtpKzFdICYmIChpID09IExbaV0gfHwgUk9ULlJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSkge1xuXHRcdFx0LyogZGlnIHJpZ2h0IGFsc28gaWYgdGhlIGNlbGwgaXMgc2VwYXJhdGVkLCBzbyBpdCBnZXRzIGNvbm5lY3RlZCB0byB0aGUgcmVzdCBvZiBtYXplICovXG5cdFx0XHR0aGlzLl9hZGRUb0xpc3QoaSwgTCwgUik7XG5cdFx0XHRtYXBbeCsxXVt5XSA9IDA7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMuX3JlbW92ZUZyb21MaXN0KGksIEwsIFIpO1xuXHR9XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVtb3ZlIFwiaVwiIGZyb20gaXRzIGxpc3RcbiAqL1xuUk9ULk1hcC5FbGxlck1hemUucHJvdG90eXBlLl9yZW1vdmVGcm9tTGlzdCA9IGZ1bmN0aW9uKGksIEwsIFIpIHtcblx0UltMW2ldXSA9IFJbaV07XG5cdExbUltpXV0gPSBMW2ldO1xuXHRSW2ldID0gaTtcblx0TFtpXSA9IGk7XG59XG5cbi8qKlxuICogSm9pbiBsaXN0cyB3aXRoIFwiaVwiIGFuZCBcImkrMVwiXG4gKi9cblJPVC5NYXAuRWxsZXJNYXplLnByb3RvdHlwZS5fYWRkVG9MaXN0ID0gZnVuY3Rpb24oaSwgTCwgUikge1xuXHRSW0xbaSsxXV0gPSBSW2ldO1xuXHRMW1JbaV1dID0gTFtpKzFdO1xuXHRSW2ldID0gaSsxO1xuXHRMW2krMV0gPSBpO1xufVxuLyoqXG4gKiBAY2xhc3MgQ2VsbHVsYXIgYXV0b21hdG9uIG1hcCBnZW5lcmF0b3JcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKiBAcGFyYW0ge2ludH0gW3dpZHRoPVJPVC5ERUZBVUxUX1dJRFRIXVxuICogQHBhcmFtIHtpbnR9IFtoZWlnaHQ9Uk9ULkRFRkFVTFRfSEVJR0hUXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zXG4gKiBAcGFyYW0ge2ludFtdfSBbb3B0aW9ucy5ib3JuXSBMaXN0IG9mIG5laWdoYm9yIGNvdW50cyBmb3IgYSBuZXcgY2VsbCB0byBiZSBib3JuIGluIGVtcHR5IHNwYWNlXG4gKiBAcGFyYW0ge2ludFtdfSBbb3B0aW9ucy5zdXJ2aXZlXSBMaXN0IG9mIG5laWdoYm9yIGNvdW50cyBmb3IgYW4gZXhpc3RpbmcgIGNlbGwgdG8gc3Vydml2ZVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5XSBUb3BvbG9neSA0IG9yIDYgb3IgOFxuICovXG5ST1QuTWFwLkNlbGx1bGFyID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0Ym9ybjogWzUsIDYsIDcsIDhdLFxuXHRcdHN1cnZpdmU6IFs0LCA1LCA2LCA3LCA4XSxcblx0XHR0b3BvbG9neTogOCxcblx0XHRjb25uZWN0ZWQ6IGZhbHNlXG5cdH07XG5cdHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcblx0XG5cdHRoaXMuX2RpcnMgPSBST1QuRElSU1t0aGlzLl9vcHRpb25zLnRvcG9sb2d5XTtcblx0dGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgwKTtcbn1cblJPVC5NYXAuQ2VsbHVsYXIuZXh0ZW5kKFJPVC5NYXApO1xuXG4vKipcbiAqIEZpbGwgdGhlIG1hcCB3aXRoIHJhbmRvbSB2YWx1ZXNcbiAqIEBwYXJhbSB7ZmxvYXR9IHByb2JhYmlsaXR5IFByb2JhYmlsaXR5IGZvciBhIGNlbGwgdG8gYmVjb21lIGFsaXZlOyAwID0gYWxsIGVtcHR5LCAxID0gYWxsIGZ1bGxcbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUucmFuZG9taXplID0gZnVuY3Rpb24ocHJvYmFiaWxpdHkpIHtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0dGhpcy5fbWFwW2ldW2pdID0gKFJPVC5STkcuZ2V0VW5pZm9ybSgpIDwgcHJvYmFiaWxpdHkgPyAxIDogMCk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENoYW5nZSBvcHRpb25zLlxuICogQHNlZSBST1QuTWFwLkNlbGx1bGFyXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbih4LCB5LCB2YWx1ZSkge1xuXHR0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTtcbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIG5ld01hcCA9IHRoaXMuX2ZpbGxNYXAoMCk7XG5cdHZhciBib3JuID0gdGhpcy5fb3B0aW9ucy5ib3JuO1xuXHR2YXIgc3Vydml2ZSA9IHRoaXMuX29wdGlvbnMuc3Vydml2ZTtcblxuXG5cdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHR2YXIgd2lkdGhTdGVwID0gMTtcblx0XHR2YXIgd2lkdGhTdGFydCA9IDA7XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikgeyBcblx0XHRcdHdpZHRoU3RlcCA9IDI7XG5cdFx0XHR3aWR0aFN0YXJ0ID0gaiUyO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGk9d2lkdGhTdGFydDsgaTx0aGlzLl93aWR0aDsgaSs9d2lkdGhTdGVwKSB7XG5cblx0XHRcdHZhciBjdXIgPSB0aGlzLl9tYXBbaV1bal07XG5cdFx0XHR2YXIgbmNvdW50ID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGksIGopO1xuXHRcdFx0XG5cdFx0XHRpZiAoY3VyICYmIHN1cnZpdmUuaW5kZXhPZihuY291bnQpICE9IC0xKSB7IC8qIHN1cnZpdmUgKi9cblx0XHRcdFx0bmV3TWFwW2ldW2pdID0gMTtcblx0XHRcdH0gZWxzZSBpZiAoIWN1ciAmJiBib3JuLmluZGV4T2YobmNvdW50KSAhPSAtMSkgeyAvKiBib3JuICovXG5cdFx0XHRcdG5ld01hcFtpXVtqXSA9IDE7XG5cdFx0XHR9XHRcdFx0XG5cdFx0fVxuXHR9XG5cdFxuXHR0aGlzLl9tYXAgPSBuZXdNYXA7XG5cblx0aWYgKHRoaXMuX29wdGlvbnMuY29ubmVjdGVkKSB7IHRoaXMuX2NvbXBsZXRlTWF6ZSgpOyB9IC8vIG9wdGlvbmFsbHkgY29ubmVjdCBldmVyeSBzcGFjZVxuXG5cdGlmICghY2FsbGJhY2spIHsgcmV0dXJuOyB9XG5cblx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdHZhciB3aWR0aFN0ZXAgPSAxO1xuXHRcdHZhciB3aWR0aFN0YXJ0ID0gMDtcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7IFxuXHRcdFx0d2lkdGhTdGVwID0gMjtcblx0XHRcdHdpZHRoU3RhcnQgPSBqJTI7XG5cdFx0fVxuXHRcdGZvciAodmFyIGk9d2lkdGhTdGFydDsgaTx0aGlzLl93aWR0aDsgaSs9d2lkdGhTdGVwKSB7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCBuZXdNYXBbaV1bal0pO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEdldCBuZWlnaGJvciBjb3VudCBhdCBbaSxqXSBpbiB0aGlzLl9tYXBcbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2dldE5laWdoYm9ycyA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgcmVzdWx0ID0gMDtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZGlycy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRpciA9IHRoaXMuX2RpcnNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRpclswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGlyWzFdO1xuXHRcdFxuXHRcdGlmICh4IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHggPCAwIHx8IHkgPj0gdGhpcy5fd2lkdGgpIHsgY29udGludWU7IH1cblx0XHRyZXN1bHQgKz0gKHRoaXMuX21hcFt4XVt5XSA9PSAxID8gMSA6IDApO1xuXHR9XG5cdFxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIE1ha2Ugc3VyZSBldmVyeSBub24td2FsbCBzcGFjZSBpcyBhY2Nlc3NpYmxlLlxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fY29tcGxldGVNYXplID0gZnVuY3Rpb24oKSB7XG5cdHZhciBhbGxGcmVlU3BhY2UgPSBbXTtcblx0dmFyIG5vdENvbm5lY3RlZCA9IHt9O1xuXHQvLyBmaW5kIGFsbCBmcmVlIHNwYWNlXG5cdGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy5fd2lkdGg7IHgrKykge1xuXHRcdGZvciAodmFyIHkgPSAwOyB5IDwgdGhpcy5faGVpZ2h0OyB5KyspIHtcblx0XHRcdGlmICh0aGlzLl9mcmVlU3BhY2UoeCwgeSkpIHtcblx0XHRcdFx0dmFyIHAgPSBbeCwgeV07XG5cdFx0XHRcdG5vdENvbm5lY3RlZFt0aGlzLl9wb2ludEtleShwKV0gPSBwO1xuXHRcdFx0XHRhbGxGcmVlU3BhY2UucHVzaChbeCwgeV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHR2YXIgc3RhcnQgPSBhbGxGcmVlU3BhY2VbUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGFsbEZyZWVTcGFjZS5sZW5ndGggLSAxKV07XG5cblx0dmFyIGtleSA9IHRoaXMuX3BvaW50S2V5KHN0YXJ0KTtcblx0dmFyIGNvbm5lY3RlZCA9IHt9O1xuXHRjb25uZWN0ZWRba2V5XSA9IHN0YXJ0O1xuXHRkZWxldGUgbm90Q29ubmVjdGVkW2tleV1cblxuXHQvLyBmaW5kIHdoYXQncyBjb25uZWN0ZWQgdG8gdGhlIHN0YXJ0aW5nIHBvaW50XG5cdHRoaXMuX2ZpbmRDb25uZWN0ZWQoY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIFtzdGFydF0pO1xuXG5cdHdoaWxlIChPYmplY3Qua2V5cyhub3RDb25uZWN0ZWQpLmxlbmd0aCA+IDApIHtcblxuXHRcdC8vIGZpbmQgdHdvIHBvaW50cyBmcm9tIG5vdENvbm5lY3RlZCB0byBjb25uZWN0ZWRcblx0XHR2YXIgcCA9IHRoaXMuX2dldEZyb21Ubyhjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCk7XG5cdFx0dmFyIGZyb20gPSBwWzBdOyAvLyBub3RDb25uZWN0ZWRcblx0XHR2YXIgdG8gPSBwWzFdOyAvLyBjb25uZWN0ZWRcblxuXHRcdC8vIGZpbmQgZXZlcnl0aGluZyBjb25uZWN0ZWQgdG8gdGhlIHN0YXJ0aW5nIHBvaW50XG5cdFx0dmFyIGxvY2FsID0ge307XG5cdFx0bG9jYWxbdGhpcy5fcG9pbnRLZXkoZnJvbSldID0gZnJvbTtcblx0XHR0aGlzLl9maW5kQ29ubmVjdGVkKGxvY2FsLCBub3RDb25uZWN0ZWQsIFtmcm9tXSwgdHJ1ZSk7XG5cblx0XHQvLyBjb25uZWN0IHRvIGEgY29ubmVjdGVkIHNxdWFyZVxuXHRcdHRoaXMuX3R1bm5lbFRvQ29ubmVjdGVkKHRvLCBmcm9tLCBjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCk7XG5cblx0XHQvLyBub3cgYWxsIG9mIGxvY2FsIGlzIGNvbm5lY3RlZFxuXHRcdGZvciAodmFyIGsgaW4gbG9jYWwpIHtcblx0XHRcdHZhciBwcCA9IGxvY2FsW2tdO1xuXHRcdFx0dGhpcy5fbWFwW3BwWzBdXVtwcFsxXV0gPSAwO1xuXHRcdFx0Y29ubmVjdGVkW2tdID0gcHA7XG5cdFx0XHRkZWxldGUgbm90Q29ubmVjdGVkW2tdO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEZpbmQgcmFuZG9tIHBvaW50cyB0byBjb25uZWN0LiBTZWFyY2ggZm9yIHRoZSBjbG9zZXN0IHBvaW50IGluIHRoZSBsYXJnZXIgc3BhY2UuIFxuICogVGhpcyBpcyB0byBtaW5pbWl6ZSB0aGUgbGVuZ3RoIG9mIHRoZSBwYXNzYWdlIHdoaWxlIG1haW50YWluaW5nIGdvb2QgcGVyZm9ybWFuY2UuXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9nZXRGcm9tVG8gPSBmdW5jdGlvbihjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCkge1xuXHR2YXIgZnJvbSwgdG8sIGQ7XG5cdHZhciBjb25uZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoY29ubmVjdGVkKTtcblx0dmFyIG5vdENvbm5lY3RlZEtleXMgPSBPYmplY3Qua2V5cyhub3RDb25uZWN0ZWQpO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuXHRcdGlmIChjb25uZWN0ZWRLZXlzLmxlbmd0aCA8IG5vdENvbm5lY3RlZEtleXMubGVuZ3RoKSB7XG5cdFx0XHR2YXIga2V5cyA9IGNvbm5lY3RlZEtleXM7XG5cdFx0XHR0byA9IGNvbm5lY3RlZFtrZXlzW1JPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBrZXlzLmxlbmd0aCAtIDEpXV1cblx0XHRcdGZyb20gPSB0aGlzLl9nZXRDbG9zZXN0KHRvLCBub3RDb25uZWN0ZWQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIga2V5cyA9IG5vdENvbm5lY3RlZEtleXM7XG5cdFx0XHRmcm9tID0gbm90Q29ubmVjdGVkW2tleXNbUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGtleXMubGVuZ3RoIC0gMSldXVxuXHRcdFx0dG8gPSB0aGlzLl9nZXRDbG9zZXN0KGZyb20sIGNvbm5lY3RlZCk7XG5cdFx0fVxuXHRcdGQgPSAoZnJvbVswXSAtIHRvWzBdKSAqIChmcm9tWzBdIC0gdG9bMF0pICsgKGZyb21bMV0gLSB0b1sxXSkgKiAoZnJvbVsxXSAtIHRvWzFdKTtcblx0XHRpZiAoZCA8IDY0KSB7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0Ly8gY29uc29sZS5sb2coXCI+Pj4gY29ubmVjdGVkPVwiICsgdG8gKyBcIiBub3RDb25uZWN0ZWQ9XCIgKyBmcm9tICsgXCIgZGlzdD1cIiArIGQpO1xuXHRyZXR1cm4gW2Zyb20sIHRvXTtcbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2dldENsb3Nlc3QgPSBmdW5jdGlvbihwb2ludCwgc3BhY2UpIHtcblx0dmFyIG1pblBvaW50ID0gbnVsbDtcblx0dmFyIG1pbkRpc3QgPSBudWxsO1xuXHRmb3IgKGsgaW4gc3BhY2UpIHtcblx0XHR2YXIgcCA9IHNwYWNlW2tdO1xuXHRcdHZhciBkID0gKHBbMF0gLSBwb2ludFswXSkgKiAocFswXSAtIHBvaW50WzBdKSArIChwWzFdIC0gcG9pbnRbMV0pICogKHBbMV0gLSBwb2ludFsxXSk7XG5cdFx0aWYgKG1pbkRpc3QgPT0gbnVsbCB8fCBkIDwgbWluRGlzdCkge1xuXHRcdFx0bWluRGlzdCA9IGQ7XG5cdFx0XHRtaW5Qb2ludCA9IHA7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBtaW5Qb2ludDtcbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2ZpbmRDb25uZWN0ZWQgPSBmdW5jdGlvbihjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgc3RhY2ssIGtlZXBOb3RDb25uZWN0ZWQpIHtcblx0d2hpbGUoc3RhY2subGVuZ3RoID4gMCkge1xuXHRcdHZhciBwID0gc3RhY2suc3BsaWNlKDAsIDEpWzBdO1xuXHRcdHZhciB0ZXN0cyA9IFtcblx0XHRcdFtwWzBdICsgMSwgcFsxXV0sXG5cdFx0XHRbcFswXSAtIDEsIHBbMV1dLFxuXHRcdFx0W3BbMF0sICAgICBwWzFdICsgMV0sXG5cdFx0XHRbcFswXSwgICAgIHBbMV0gLSAxXVxuXHRcdF07XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGtleSA9IHRoaXMuX3BvaW50S2V5KHRlc3RzW2ldKTtcblx0XHRcdGlmIChjb25uZWN0ZWRba2V5XSA9PSBudWxsICYmIHRoaXMuX2ZyZWVTcGFjZSh0ZXN0c1tpXVswXSwgdGVzdHNbaV1bMV0pKSB7XG5cdFx0XHRcdGNvbm5lY3RlZFtrZXldID0gdGVzdHNbaV07XG5cdFx0XHRcdGlmICgha2VlcE5vdENvbm5lY3RlZCkge1xuXHRcdFx0XHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdGFjay5wdXNoKHRlc3RzW2ldKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX3R1bm5lbFRvQ29ubmVjdGVkID0gZnVuY3Rpb24odG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKSB7XG5cdHZhciBrZXkgPSB0aGlzLl9wb2ludEtleShmcm9tKTtcblx0dmFyIGEsIGI7XG5cdGlmIChmcm9tWzBdIDwgdG9bMF0pIHtcblx0XHRhID0gZnJvbTtcblx0XHRiID0gdG87XG5cdH0gZWxzZSB7XG5cdFx0YSA9IHRvO1xuXHRcdGIgPSBmcm9tO1xuXHR9XG5cdGZvciAodmFyIHh4ID0gYVswXTsgeHggPD0gYlswXTsgeHgrKykge1xuXHRcdHRoaXMuX21hcFt4eF1bYVsxXV0gPSAwO1xuXHRcdHZhciBwID0gW3h4LCBhWzFdXTtcblx0XHR2YXIgcGtleSA9IHRoaXMuX3BvaW50S2V5KHApO1xuXHRcdGNvbm5lY3RlZFtwa2V5XSA9IHA7XG5cdFx0ZGVsZXRlIG5vdENvbm5lY3RlZFtwa2V5XTtcblx0fVxuXG5cdC8vIHggaXMgbm93IGZpeGVkXG5cdHZhciB4ID0gYlswXTtcblxuXHRpZiAoZnJvbVsxXSA8IHRvWzFdKSB7XG5cdFx0YSA9IGZyb207XG5cdFx0YiA9IHRvO1xuXHR9IGVsc2Uge1xuXHRcdGEgPSB0bztcblx0XHRiID0gZnJvbTtcblx0fVxuXHRmb3IgKHZhciB5eSA9IGFbMV07IHl5IDwgYlsxXTsgeXkrKykge1xuXHRcdHRoaXMuX21hcFt4XVt5eV0gPSAwO1xuXHRcdHZhciBwID0gW3gsIHl5XTtcblx0XHR2YXIgcGtleSA9IHRoaXMuX3BvaW50S2V5KHApO1xuXHRcdGNvbm5lY3RlZFtwa2V5XSA9IHA7XG5cdFx0ZGVsZXRlIG5vdENvbm5lY3RlZFtwa2V5XTtcblx0fVxufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZnJlZVNwYWNlID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4geCA+PSAwICYmIHggPCB0aGlzLl93aWR0aCAmJiB5ID49IDAgJiYgeSA8IHRoaXMuX2hlaWdodCAmJiB0aGlzLl9tYXBbeF1beV0gIT0gMTtcbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX3BvaW50S2V5ID0gZnVuY3Rpb24ocCkge1xuXHRyZXR1cm4gcFswXSArIFwiLlwiICsgcFsxXTtcbn1cblxuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBtYXA6IGhhcyByb29tcyBhbmQgY29ycmlkb3JzXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkR1bmdlb24gPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0dGhpcy5fcm9vbXMgPSBbXTsgLyogbGlzdCBvZiBhbGwgcm9vbXMgKi9cblx0dGhpcy5fY29ycmlkb3JzID0gW107XG59XG5ST1QuTWFwLkR1bmdlb24uZXh0ZW5kKFJPVC5NYXApO1xuXG4vKipcbiAqIEdldCBhbGwgZ2VuZXJhdGVkIHJvb21zXG4gKiBAcmV0dXJucyB7Uk9ULk1hcC5GZWF0dXJlLlJvb21bXX1cbiAqL1xuUk9ULk1hcC5EdW5nZW9uLnByb3RvdHlwZS5nZXRSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fcm9vbXM7XG59XG5cbi8qKlxuICogR2V0IGFsbCBnZW5lcmF0ZWQgY29ycmlkb3JzXG4gKiBAcmV0dXJucyB7Uk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yW119XG4gKi9cblJPVC5NYXAuRHVuZ2Vvbi5wcm90b3R5cGUuZ2V0Q29ycmlkb3JzID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9jb3JyaWRvcnM7XG59XG4vKipcbiAqIEBjbGFzcyBSYW5kb20gZHVuZ2VvbiBnZW5lcmF0b3IgdXNpbmcgaHVtYW4tbGlrZSBkaWdnaW5nIHBhdHRlcm5zLlxuICogSGVhdmlseSBiYXNlZCBvbiBNaWtlIEFuZGVyc29uJ3MgaWRlYXMgZnJvbSB0aGUgXCJUeXJhbnRcIiBhbGdvLCBtZW50aW9uZWQgYXQgXG4gKiBodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1EdW5nZW9uLUJ1aWxkaW5nX0FsZ29yaXRobS5cbiAqIEBhdWdtZW50cyBST1QuTWFwLkR1bmdlb25cbiAqL1xuUk9ULk1hcC5EaWdnZXIgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuRHVuZ2Vvbi5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHRcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRyb29tV2lkdGg6IFszLCA5XSwgLyogcm9vbSBtaW5pbXVtIGFuZCBtYXhpbXVtIHdpZHRoICovXG5cdFx0cm9vbUhlaWdodDogWzMsIDVdLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gaGVpZ2h0ICovXG5cdFx0Y29ycmlkb3JMZW5ndGg6IFszLCAxMF0sIC8qIGNvcnJpZG9yIG1pbmltdW0gYW5kIG1heGltdW0gbGVuZ3RoICovXG5cdFx0ZHVnUGVyY2VudGFnZTogMC4yLCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgcGVyY2VudGFnZSBvZiBsZXZlbCBhcmVhIGhhcyBiZWVuIGR1ZyBvdXQgKi9cblx0XHR0aW1lTGltaXQ6IDEwMDAgLyogd2Ugc3RvcCBhZnRlciB0aGlzIG11Y2ggdGltZSBoYXMgcGFzc2VkIChtc2VjKSAqL1xuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRcblx0dGhpcy5fZmVhdHVyZXMgPSB7XG5cdFx0XCJSb29tXCI6IDQsXG5cdFx0XCJDb3JyaWRvclwiOiA0XG5cdH1cblx0dGhpcy5fZmVhdHVyZUF0dGVtcHRzID0gMjA7IC8qIGhvdyBtYW55IHRpbWVzIGRvIHdlIHRyeSB0byBjcmVhdGUgYSBmZWF0dXJlIG9uIGEgc3VpdGFibGUgd2FsbCAqL1xuXHR0aGlzLl93YWxscyA9IHt9OyAvKiB0aGVzZSBhcmUgYXZhaWxhYmxlIGZvciBkaWdnaW5nICovXG5cdFxuXHR0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2sgPSB0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xufVxuUk9ULk1hcC5EaWdnZXIuZXh0ZW5kKFJPVC5NYXAuRHVuZ2Vvbik7XG5cbi8qKlxuICogQ3JlYXRlIGEgbWFwXG4gKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR0aGlzLl9yb29tcyA9IFtdO1xuXHR0aGlzLl9jb3JyaWRvcnMgPSBbXTtcblx0dGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0dGhpcy5fd2FsbHMgPSB7fTtcblx0dGhpcy5fZHVnID0gMDtcblx0dmFyIGFyZWEgPSAodGhpcy5fd2lkdGgtMikgKiAodGhpcy5faGVpZ2h0LTIpO1xuXG5cdHRoaXMuX2ZpcnN0Um9vbSgpO1xuXHRcblx0dmFyIHQxID0gRGF0ZS5ub3coKTtcblxuXHRkbyB7XG5cdFx0dmFyIHQyID0gRGF0ZS5ub3coKTtcblx0XHRpZiAodDIgLSB0MSA+IHRoaXMuX29wdGlvbnMudGltZUxpbWl0KSB7IGJyZWFrOyB9XG5cblx0XHQvKiBmaW5kIGEgZ29vZCB3YWxsICovXG5cdFx0dmFyIHdhbGwgPSB0aGlzLl9maW5kV2FsbCgpO1xuXHRcdGlmICghd2FsbCkgeyBicmVhazsgfSAvKiBubyBtb3JlIHdhbGxzICovXG5cdFx0XG5cdFx0dmFyIHBhcnRzID0gd2FsbC5zcGxpdChcIixcIik7XG5cdFx0dmFyIHggPSBwYXJzZUludChwYXJ0c1swXSk7XG5cdFx0dmFyIHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG5cdFx0dmFyIGRpciA9IHRoaXMuX2dldERpZ2dpbmdEaXJlY3Rpb24oeCwgeSk7XG5cdFx0aWYgKCFkaXIpIHsgY29udGludWU7IH0gLyogdGhpcyB3YWxsIGlzIG5vdCBzdWl0YWJsZSAqL1xuXHRcdFxuLy9cdFx0Y29uc29sZS5sb2coXCJ3YWxsXCIsIHgsIHkpO1xuXG5cdFx0LyogdHJ5IGFkZGluZyBhIGZlYXR1cmUgKi9cblx0XHR2YXIgZmVhdHVyZUF0dGVtcHRzID0gMDtcblx0XHRkbyB7XG5cdFx0XHRmZWF0dXJlQXR0ZW1wdHMrKztcblx0XHRcdGlmICh0aGlzLl90cnlGZWF0dXJlKHgsIHksIGRpclswXSwgZGlyWzFdKSkgeyAvKiBmZWF0dXJlIGFkZGVkICovXG5cdFx0XHRcdC8vaWYgKHRoaXMuX3Jvb21zLmxlbmd0aCArIHRoaXMuX2NvcnJpZG9ycy5sZW5ndGggPT0gMikgeyB0aGlzLl9yb29tc1swXS5hZGREb29yKHgsIHkpOyB9IC8qIGZpcnN0IHJvb20gb2ZpY2lhbGx5IGhhcyBkb29ycyAqL1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKHgsIHkpO1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzKHgtZGlyWzBdLCB5LWRpclsxXSk7XG5cdFx0XHRcdGJyZWFrOyBcblx0XHRcdH1cblx0XHR9IHdoaWxlIChmZWF0dXJlQXR0ZW1wdHMgPCB0aGlzLl9mZWF0dXJlQXR0ZW1wdHMpO1xuXHRcdFxuXHRcdHZhciBwcmlvcml0eVdhbGxzID0gMDtcblx0XHRmb3IgKHZhciBpZCBpbiB0aGlzLl93YWxscykgeyBcblx0XHRcdGlmICh0aGlzLl93YWxsc1tpZF0gPiAxKSB7IHByaW9yaXR5V2FsbHMrKzsgfVxuXHRcdH1cblxuXHR9IHdoaWxlICh0aGlzLl9kdWcvYXJlYSA8IHRoaXMuX29wdGlvbnMuZHVnUGVyY2VudGFnZSB8fCBwcmlvcml0eVdhbGxzKTsgLyogZml4bWUgbnVtYmVyIG9mIHByaW9yaXR5IHdhbGxzICovXG5cblx0dGhpcy5fYWRkRG9vcnMoKTtcblxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX3dhbGxzID0ge307XG5cdHRoaXMuX21hcCA9IG51bGw7XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fZGlnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5LCB2YWx1ZSkge1xuXHRpZiAodmFsdWUgPT0gMCB8fCB2YWx1ZSA9PSAyKSB7IC8qIGVtcHR5ICovXG5cdFx0dGhpcy5fbWFwW3hdW3ldID0gMDtcblx0XHR0aGlzLl9kdWcrKztcblx0fSBlbHNlIHsgLyogd2FsbCAqL1xuXHRcdHRoaXMuX3dhbGxzW3grXCIsXCIreV0gPSAxO1xuXHR9XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5faXNXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9jYW5CZUR1Z0NhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAoeCA8IDEgfHwgeSA8IDEgfHwgeCsxID49IHRoaXMuX3dpZHRoIHx8IHkrMSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX3ByaW9yaXR5V2FsbENhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHR0aGlzLl93YWxsc1t4K1wiLFwiK3ldID0gMjtcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9maXJzdFJvb20gPSBmdW5jdGlvbigpIHtcblx0dmFyIGN4ID0gTWF0aC5mbG9vcih0aGlzLl93aWR0aC8yKTtcblx0dmFyIGN5ID0gTWF0aC5mbG9vcih0aGlzLl9oZWlnaHQvMik7XG5cdHZhciByb29tID0gUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tQ2VudGVyKGN4LCBjeSwgdGhpcy5fb3B0aW9ucyk7XG5cdHRoaXMuX3Jvb21zLnB1c2gocm9vbSk7XG5cdHJvb20uY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBHZXQgYSBzdWl0YWJsZSB3YWxsXG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fZmluZFdhbGwgPSBmdW5jdGlvbigpIHtcblx0dmFyIHByaW8xID0gW107XG5cdHZhciBwcmlvMiA9IFtdO1xuXHRmb3IgKHZhciBpZCBpbiB0aGlzLl93YWxscykge1xuXHRcdHZhciBwcmlvID0gdGhpcy5fd2FsbHNbaWRdO1xuXHRcdGlmIChwcmlvID09IDIpIHsgXG5cdFx0XHRwcmlvMi5wdXNoKGlkKTsgXG5cdFx0fSBlbHNlIHtcblx0XHRcdHByaW8xLnB1c2goaWQpO1xuXHRcdH1cblx0fVxuXHRcblx0dmFyIGFyciA9IChwcmlvMi5sZW5ndGggPyBwcmlvMiA6IHByaW8xKTtcblx0aWYgKCFhcnIubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9IC8qIG5vIHdhbGxzIDovICovXG5cdFxuXHR2YXIgaWQgPSBhcnIucmFuZG9tKCk7XG5cdGRlbGV0ZSB0aGlzLl93YWxsc1tpZF07XG5cblx0cmV0dXJuIGlkO1xufVxuXG4vKipcbiAqIFRyaWVzIGFkZGluZyBhIGZlYXR1cmVcbiAqIEByZXR1cm5zIHtib29sfSB3YXMgdGhpcyBhIHN1Y2Nlc3NmdWwgdHJ5P1xuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX3RyeUZlYXR1cmUgPSBmdW5jdGlvbih4LCB5LCBkeCwgZHkpIHtcblx0dmFyIGZlYXR1cmUgPSBST1QuUk5HLmdldFdlaWdodGVkVmFsdWUodGhpcy5fZmVhdHVyZXMpO1xuXHRmZWF0dXJlID0gUk9ULk1hcC5GZWF0dXJlW2ZlYXR1cmVdLmNyZWF0ZVJhbmRvbUF0KHgsIHksIGR4LCBkeSwgdGhpcy5fb3B0aW9ucyk7XG5cdFxuXHRpZiAoIWZlYXR1cmUuaXNWYWxpZCh0aGlzLl9pc1dhbGxDYWxsYmFjaywgdGhpcy5fY2FuQmVEdWdDYWxsYmFjaykpIHtcbi8vXHRcdGNvbnNvbGUubG9nKFwibm90IHZhbGlkXCIpO1xuLy9cdFx0ZmVhdHVyZS5kZWJ1ZygpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRcblx0ZmVhdHVyZS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuLy9cdGZlYXR1cmUuZGVidWcoKTtcblxuXHRpZiAoZmVhdHVyZSBpbnN0YW5jZW9mIFJPVC5NYXAuRmVhdHVyZS5Sb29tKSB7IHRoaXMuX3Jvb21zLnB1c2goZmVhdHVyZSk7IH1cblx0aWYgKGZlYXR1cmUgaW5zdGFuY2VvZiBST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IpIHsgXG5cdFx0ZmVhdHVyZS5jcmVhdGVQcmlvcml0eVdhbGxzKHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrKTtcblx0XHR0aGlzLl9jb3JyaWRvcnMucHVzaChmZWF0dXJlKTsgXG5cdH1cblx0XG5cdHJldHVybiB0cnVlO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMgPSBmdW5jdGlvbihjeCwgY3kpIHtcblx0dmFyIGRlbHRhcyA9IFJPVC5ESVJTWzRdO1xuXG5cdGZvciAodmFyIGk9MDtpPGRlbHRhcy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuXHRcdHZhciB4ID0gY3ggKyBkZWx0YVswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGVsdGFbMV07XG5cdFx0ZGVsZXRlIHRoaXMuX3dhbGxzW3grXCIsXCIreV07XG5cdFx0dmFyIHggPSBjeCArIDIqZGVsdGFbMF07XG5cdFx0dmFyIHkgPSBjeSArIDIqZGVsdGFbMV07XG5cdFx0ZGVsZXRlIHRoaXMuX3dhbGxzW3grXCIsXCIreV07XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHZlY3RvciBpbiBcImRpZ2dpbmdcIiBkaXJlY3Rpb24sIG9yIGZhbHNlLCBpZiB0aGlzIGRvZXMgbm90IGV4aXN0IChvciBpcyBub3QgdW5pcXVlKVxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2dldERpZ2dpbmdEaXJlY3Rpb24gPSBmdW5jdGlvbihjeCwgY3kpIHtcblx0aWYgKGN4IDw9IDAgfHwgY3kgPD0gMCB8fCBjeCA+PSB0aGlzLl93aWR0aCAtIDEgfHwgY3kgPj0gdGhpcy5faGVpZ2h0IC0gMSkgeyByZXR1cm4gbnVsbDsgfVxuXG5cdHZhciByZXN1bHQgPSBudWxsO1xuXHR2YXIgZGVsdGFzID0gUk9ULkRJUlNbNF07XG5cdFxuXHRmb3IgKHZhciBpPTA7aTxkZWx0YXMubGVuZ3RoO2krKykge1xuXHRcdHZhciBkZWx0YSA9IGRlbHRhc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGVsdGFbMF07XG5cdFx0dmFyIHkgPSBjeSArIGRlbHRhWzFdO1xuXHRcdFxuXHRcdGlmICghdGhpcy5fbWFwW3hdW3ldKSB7IC8qIHRoZXJlIGFscmVhZHkgaXMgYW5vdGhlciBlbXB0eSBuZWlnaGJvciEgKi9cblx0XHRcdGlmIChyZXN1bHQpIHsgcmV0dXJuIG51bGw7IH1cblx0XHRcdHJlc3VsdCA9IGRlbHRhO1xuXHRcdH1cblx0fVxuXHRcblx0Lyogbm8gZW1wdHkgbmVpZ2hib3IgKi9cblx0aWYgKCFyZXN1bHQpIHsgcmV0dXJuIG51bGw7IH1cblx0XG5cdHJldHVybiBbLXJlc3VsdFswXSwgLXJlc3VsdFsxXV07XG59XG5cbi8qKlxuICogRmluZCBlbXB0eSBzcGFjZXMgc3Vycm91bmRpbmcgcm9vbXMsIGFuZCBhcHBseSBkb29ycy5cbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9hZGREb29ycyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgZGF0YSA9IHRoaXMuX21hcDtcblx0dmFyIGlzV2FsbENhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHRcdHJldHVybiAoZGF0YVt4XVt5XSA9PSAxKTtcblx0fVxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3Jvb21zLmxlbmd0aDsgaSsrICkge1xuXHRcdHZhciByb29tID0gdGhpcy5fcm9vbXNbaV07XG5cdFx0cm9vbS5jbGVhckRvb3JzKCk7XG5cdFx0cm9vbS5hZGREb29ycyhpc1dhbGxDYWxsYmFjayk7XG5cdH1cbn1cbi8qKlxuICogQGNsYXNzIER1bmdlb24gZ2VuZXJhdG9yIHdoaWNoIHRyaWVzIHRvIGZpbGwgdGhlIHNwYWNlIGV2ZW5seS4gR2VuZXJhdGVzIGluZGVwZW5kZW50IHJvb21zIGFuZCB0cmllcyB0byBjb25uZWN0IHRoZW0uXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5EdW5nZW9uXG4gKi9cblJPVC5NYXAuVW5pZm9ybSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcblx0Uk9ULk1hcC5EdW5nZW9uLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRyb29tV2lkdGg6IFszLCA5XSwgLyogcm9vbSBtaW5pbXVtIGFuZCBtYXhpbXVtIHdpZHRoICovXG5cdFx0cm9vbUhlaWdodDogWzMsIDVdLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gaGVpZ2h0ICovXG5cdFx0cm9vbUR1Z1BlcmNlbnRhZ2U6IDAuMSwgLyogd2Ugc3RvcCBhZnRlciB0aGlzIHBlcmNlbnRhZ2Ugb2YgbGV2ZWwgYXJlYSBoYXMgYmVlbiBkdWcgb3V0IGJ5IHJvb21zICovXG5cdFx0dGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblxuXHR0aGlzLl9yb29tQXR0ZW1wdHMgPSAyMDsgLyogbmV3IHJvb20gaXMgY3JlYXRlZCBOLXRpbWVzIHVudGlsIGlzIGNvbnNpZGVyZWQgYXMgaW1wb3NzaWJsZSB0byBnZW5lcmF0ZSAqL1xuXHR0aGlzLl9jb3JyaWRvckF0dGVtcHRzID0gMjA7IC8qIGNvcnJpZG9ycyBhcmUgdHJpZWQgTi10aW1lcyB1bnRpbCB0aGUgbGV2ZWwgaXMgY29uc2lkZXJlZCBhcyBpbXBvc3NpYmxlIHRvIGNvbm5lY3QgKi9cblxuXHR0aGlzLl9jb25uZWN0ZWQgPSBbXTsgLyogbGlzdCBvZiBhbHJlYWR5IGNvbm5lY3RlZCByb29tcyAqL1xuXHR0aGlzLl91bmNvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIHJlbWFpbmluZyB1bmNvbm5lY3RlZCByb29tcyAqL1xuXHRcblx0dGhpcy5fZGlnQ2FsbGJhY2sgPSB0aGlzLl9kaWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrID0gdGhpcy5fY2FuQmVEdWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9pc1dhbGxDYWxsYmFjayA9IHRoaXMuX2lzV2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG59XG5ST1QuTWFwLlVuaWZvcm0uZXh0ZW5kKFJPVC5NYXAuRHVuZ2Vvbik7XG5cbi8qKlxuICogQ3JlYXRlIGEgbWFwLiBJZiB0aGUgdGltZSBsaW1pdCBoYXMgYmVlbiBoaXQsIHJldHVybnMgbnVsbC5cbiAqIEBzZWUgUk9ULk1hcCNjcmVhdGVcbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgdDEgPSBEYXRlLm5vdygpO1xuXHR3aGlsZSAoMSkge1xuXHRcdHZhciB0MiA9IERhdGUubm93KCk7XG5cdFx0aWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkgeyByZXR1cm4gbnVsbDsgfSAvKiB0aW1lIGxpbWl0ISAqL1xuXHRcblx0XHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHRcdHRoaXMuX2R1ZyA9IDA7XG5cdFx0dGhpcy5fcm9vbXMgPSBbXTtcblx0XHR0aGlzLl91bmNvbm5lY3RlZCA9IFtdO1xuXHRcdHRoaXMuX2dlbmVyYXRlUm9vbXMoKTtcblx0XHRpZiAodGhpcy5fcm9vbXMubGVuZ3RoIDwgMikgeyBjb250aW51ZTsgfVxuXHRcdGlmICh0aGlzLl9nZW5lcmF0ZUNvcnJpZG9ycygpKSB7IGJyZWFrOyB9XG5cdH1cblx0XG5cdGlmIChjYWxsYmFjaykge1xuXHRcdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgc3VpdGFibGUgYW1vdW50IG9mIHJvb21zXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2dlbmVyYXRlUm9vbXMgPSBmdW5jdGlvbigpIHtcblx0dmFyIHcgPSB0aGlzLl93aWR0aC0yO1xuXHR2YXIgaCA9IHRoaXMuX2hlaWdodC0yO1xuXG5cdGRvIHtcblx0XHR2YXIgcm9vbSA9IHRoaXMuX2dlbmVyYXRlUm9vbSgpO1xuXHRcdGlmICh0aGlzLl9kdWcvKHcqaCkgPiB0aGlzLl9vcHRpb25zLnJvb21EdWdQZXJjZW50YWdlKSB7IGJyZWFrOyB9IC8qIGFjaGlldmVkIHJlcXVlc3RlZCBhbW91bnQgb2YgZnJlZSBzcGFjZSAqL1xuXHR9IHdoaWxlIChyb29tKTtcblxuXHQvKiBlaXRoZXIgZW5vdWdoIHJvb21zLCBvciBub3QgYWJsZSB0byBnZW5lcmF0ZSBtb3JlIG9mIHRoZW0gOikgKi9cbn1cblxuLyoqXG4gKiBUcnkgdG8gZ2VuZXJhdGUgb25lIHJvb21cbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZ2VuZXJhdGVSb29tID0gZnVuY3Rpb24oKSB7XG5cdHZhciBjb3VudCA9IDA7XG5cdHdoaWxlIChjb3VudCA8IHRoaXMuX3Jvb21BdHRlbXB0cykge1xuXHRcdGNvdW50Kys7XG5cdFx0XG5cdFx0dmFyIHJvb20gPSBST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb20odGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCwgdGhpcy5fb3B0aW9ucyk7XG5cdFx0aWYgKCFyb29tLmlzVmFsaWQodGhpcy5faXNXYWxsQ2FsbGJhY2ssIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2spKSB7IGNvbnRpbnVlOyB9XG5cdFx0XG5cdFx0cm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuXHRcdHRoaXMuX3Jvb21zLnB1c2gocm9vbSk7XG5cdFx0cmV0dXJuIHJvb207XG5cdH0gXG5cblx0Lyogbm8gcm9vbSB3YXMgZ2VuZXJhdGVkIGluIGEgZ2l2ZW4gbnVtYmVyIG9mIGF0dGVtcHRzICovXG5cdHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBjb25uZWN0b3JzIGJld2VlbiByb29tc1xuICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3MgV2FzIHRoaXMgYXR0ZW1wdCBzdWNjZXNzZnVsbD9cbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZ2VuZXJhdGVDb3JyaWRvcnMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGNudCA9IDA7XG5cdHdoaWxlIChjbnQgPCB0aGlzLl9jb3JyaWRvckF0dGVtcHRzKSB7XG5cdFx0Y250Kys7XG5cdFx0dGhpcy5fY29ycmlkb3JzID0gW107XG5cblx0XHQvKiBkaWcgcm9vbXMgaW50byBhIGNsZWFyIG1hcCAqL1xuXHRcdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fcm9vbXMubGVuZ3RoO2krKykgeyBcblx0XHRcdHZhciByb29tID0gdGhpcy5fcm9vbXNbaV07XG5cdFx0XHRyb29tLmNsZWFyRG9vcnMoKTtcblx0XHRcdHJvb20uY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTsgXG5cdFx0fVxuXG5cdFx0dGhpcy5fdW5jb25uZWN0ZWQgPSB0aGlzLl9yb29tcy5zbGljZSgpLnJhbmRvbWl6ZSgpO1xuXHRcdHRoaXMuX2Nvbm5lY3RlZCA9IFtdO1xuXHRcdGlmICh0aGlzLl91bmNvbm5lY3RlZC5sZW5ndGgpIHsgdGhpcy5fY29ubmVjdGVkLnB1c2godGhpcy5fdW5jb25uZWN0ZWQucG9wKCkpOyB9IC8qIGZpcnN0IG9uZSBpcyBhbHdheXMgY29ubmVjdGVkICovXG5cdFx0XG5cdFx0d2hpbGUgKDEpIHtcblx0XHRcdC8qIDEuIHBpY2sgcmFuZG9tIGNvbm5lY3RlZCByb29tICovXG5cdFx0XHR2YXIgY29ubmVjdGVkID0gdGhpcy5fY29ubmVjdGVkLnJhbmRvbSgpO1xuXHRcdFx0XG5cdFx0XHQvKiAyLiBmaW5kIGNsb3Nlc3QgdW5jb25uZWN0ZWQgKi9cblx0XHRcdHZhciByb29tMSA9IHRoaXMuX2Nsb3Nlc3RSb29tKHRoaXMuX3VuY29ubmVjdGVkLCBjb25uZWN0ZWQpO1xuXHRcdFx0XG5cdFx0XHQvKiAzLiBjb25uZWN0IGl0IHRvIGNsb3Nlc3QgY29ubmVjdGVkICovXG5cdFx0XHR2YXIgcm9vbTIgPSB0aGlzLl9jbG9zZXN0Um9vbSh0aGlzLl9jb25uZWN0ZWQsIHJvb20xKTtcblx0XHRcdFxuXHRcdFx0dmFyIG9rID0gdGhpcy5fY29ubmVjdFJvb21zKHJvb20xLCByb29tMik7XG5cdFx0XHRpZiAoIW9rKSB7IGJyZWFrOyB9IC8qIHN0b3AgY29ubmVjdGluZywgcmUtc2h1ZmZsZSAqL1xuXHRcdFx0XG5cdFx0XHRpZiAoIXRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkgeyByZXR1cm4gdHJ1ZTsgfSAvKiBkb25lOyBubyByb29tcyByZW1haW4gKi9cblx0XHR9XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEZvciBhIGdpdmVuIHJvb20sIGZpbmQgdGhlIGNsb3Nlc3Qgb25lIGZyb20gdGhlIGxpc3RcbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fY2xvc2VzdFJvb20gPSBmdW5jdGlvbihyb29tcywgcm9vbSkge1xuXHR2YXIgZGlzdCA9IEluZmluaXR5O1xuXHR2YXIgY2VudGVyID0gcm9vbS5nZXRDZW50ZXIoKTtcblx0dmFyIHJlc3VsdCA9IG51bGw7XG5cdFxuXHRmb3IgKHZhciBpPTA7aTxyb29tcy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHIgPSByb29tc1tpXTtcblx0XHR2YXIgYyA9IHIuZ2V0Q2VudGVyKCk7XG5cdFx0dmFyIGR4ID0gY1swXS1jZW50ZXJbMF07XG5cdFx0dmFyIGR5ID0gY1sxXS1jZW50ZXJbMV07XG5cdFx0dmFyIGQgPSBkeCpkeCtkeSpkeTtcblx0XHRcblx0XHRpZiAoZCA8IGRpc3QpIHtcblx0XHRcdGRpc3QgPSBkO1xuXHRcdFx0cmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiByZXN1bHQ7XG59XG5cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2Nvbm5lY3RSb29tcyA9IGZ1bmN0aW9uKHJvb20xLCByb29tMikge1xuXHQvKlxuXHRcdHJvb20xLmRlYnVnKCk7XG5cdFx0cm9vbTIuZGVidWcoKTtcblx0Ki9cblxuXHR2YXIgY2VudGVyMSA9IHJvb20xLmdldENlbnRlcigpO1xuXHR2YXIgY2VudGVyMiA9IHJvb20yLmdldENlbnRlcigpO1xuXG5cdHZhciBkaWZmWCA9IGNlbnRlcjJbMF0gLSBjZW50ZXIxWzBdO1xuXHR2YXIgZGlmZlkgPSBjZW50ZXIyWzFdIC0gY2VudGVyMVsxXTtcblxuXHRpZiAoTWF0aC5hYnMoZGlmZlgpIDwgTWF0aC5hYnMoZGlmZlkpKSB7IC8qIGZpcnN0IHRyeSBjb25uZWN0aW5nIG5vcnRoLXNvdXRoIHdhbGxzICovXG5cdFx0dmFyIGRpckluZGV4MSA9IChkaWZmWSA+IDAgPyAyIDogMCk7XG5cdFx0dmFyIGRpckluZGV4MiA9IChkaXJJbmRleDEgKyAyKSAlIDQ7XG5cdFx0dmFyIG1pbiA9IHJvb20yLmdldExlZnQoKTtcblx0XHR2YXIgbWF4ID0gcm9vbTIuZ2V0UmlnaHQoKTtcblx0XHR2YXIgaW5kZXggPSAwO1xuXHR9IGVsc2UgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBlYXN0LXdlc3Qgd2FsbHMgKi9cblx0XHR2YXIgZGlySW5kZXgxID0gKGRpZmZYID4gMCA/IDEgOiAzKTtcblx0XHR2YXIgZGlySW5kZXgyID0gKGRpckluZGV4MSArIDIpICUgNDtcblx0XHR2YXIgbWluID0gcm9vbTIuZ2V0VG9wKCk7XG5cdFx0dmFyIG1heCA9IHJvb20yLmdldEJvdHRvbSgpO1xuXHRcdHZhciBpbmRleCA9IDE7XG5cdH1cblxuXHR2YXIgc3RhcnQgPSB0aGlzLl9wbGFjZUluV2FsbChyb29tMSwgZGlySW5kZXgxKTsgLyogY29ycmlkb3Igd2lsbCBzdGFydCBoZXJlICovXG5cdGlmICghc3RhcnQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0aWYgKHN0YXJ0W2luZGV4XSA+PSBtaW4gJiYgc3RhcnRbaW5kZXhdIDw9IG1heCkgeyAvKiBwb3NzaWJsZSB0byBjb25uZWN0IHdpdGggc3RyYWlnaHQgbGluZSAoSS1saWtlKSAqL1xuXHRcdHZhciBlbmQgPSBzdGFydC5zbGljZSgpO1xuXHRcdHZhciB2YWx1ZSA9IG51bGw7XG5cdFx0c3dpdGNoIChkaXJJbmRleDIpIHtcblx0XHRcdGNhc2UgMDogdmFsdWUgPSByb29tMi5nZXRUb3AoKS0xOyBicmVhaztcblx0XHRcdGNhc2UgMTogdmFsdWUgPSByb29tMi5nZXRSaWdodCgpKzE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOiB2YWx1ZSA9IHJvb20yLmdldEJvdHRvbSgpKzE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAzOiB2YWx1ZSA9IHJvb20yLmdldExlZnQoKS0xOyBicmVhaztcblx0XHR9XG5cdFx0ZW5kWyhpbmRleCsxKSUyXSA9IHZhbHVlO1xuXHRcdHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBlbmRdKTtcblx0XHRcblx0fSBlbHNlIGlmIChzdGFydFtpbmRleF0gPCBtaW4tMSB8fCBzdGFydFtpbmRleF0gPiBtYXgrMSkgeyAvKiBuZWVkIHRvIHN3aXRjaCB0YXJnZXQgd2FsbCAoTC1saWtlKSAqL1xuXG5cdFx0dmFyIGRpZmYgPSBzdGFydFtpbmRleF0gLSBjZW50ZXIyW2luZGV4XTtcblx0XHRzd2l0Y2ggKGRpckluZGV4Mikge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0Y2FzZSAxOlx0dmFyIHJvdGF0aW9uID0gKGRpZmYgPCAwID8gMyA6IDEpOyBicmVhaztcblx0XHRcdGNhc2UgMjpcblx0XHRcdGNhc2UgMzpcdHZhciByb3RhdGlvbiA9IChkaWZmIDwgMCA/IDEgOiAzKTsgYnJlYWs7XG5cdFx0fVxuXHRcdGRpckluZGV4MiA9IChkaXJJbmRleDIgKyByb3RhdGlvbikgJSA0O1xuXHRcdFxuXHRcdHZhciBlbmQgPSB0aGlzLl9wbGFjZUluV2FsbChyb29tMiwgZGlySW5kZXgyKTtcblx0XHRpZiAoIWVuZCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRcdHZhciBtaWQgPSBbMCwgMF07XG5cdFx0bWlkW2luZGV4XSA9IHN0YXJ0W2luZGV4XTtcblx0XHR2YXIgaW5kZXgyID0gKGluZGV4KzEpJTI7XG5cdFx0bWlkW2luZGV4Ml0gPSBlbmRbaW5kZXgyXTtcblx0XHR0aGlzLl9kaWdMaW5lKFtzdGFydCwgbWlkLCBlbmRdKTtcblx0XHRcblx0fSBlbHNlIHsgLyogdXNlIGN1cnJlbnQgd2FsbCBwYWlyLCBidXQgYWRqdXN0IHRoZSBsaW5lIGluIHRoZSBtaWRkbGUgKFMtbGlrZSkgKi9cblx0XG5cdFx0dmFyIGluZGV4MiA9IChpbmRleCsxKSUyO1xuXHRcdHZhciBlbmQgPSB0aGlzLl9wbGFjZUluV2FsbChyb29tMiwgZGlySW5kZXgyKTtcblx0XHRpZiAoIWVuZCkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHR2YXIgbWlkID0gTWF0aC5yb3VuZCgoZW5kW2luZGV4Ml0gKyBzdGFydFtpbmRleDJdKS8yKTtcblxuXHRcdHZhciBtaWQxID0gWzAsIDBdO1xuXHRcdHZhciBtaWQyID0gWzAsIDBdO1xuXHRcdG1pZDFbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuXHRcdG1pZDFbaW5kZXgyXSA9IG1pZDtcblx0XHRtaWQyW2luZGV4XSA9IGVuZFtpbmRleF07XG5cdFx0bWlkMltpbmRleDJdID0gbWlkO1xuXHRcdHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQxLCBtaWQyLCBlbmRdKTtcblx0fVxuXG5cdHJvb20xLmFkZERvb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdKTtcblx0cm9vbTIuYWRkRG9vcihlbmRbMF0sIGVuZFsxXSk7XG5cdFxuXHR2YXIgaW5kZXggPSB0aGlzLl91bmNvbm5lY3RlZC5pbmRleE9mKHJvb20xKTtcblx0aWYgKGluZGV4ICE9IC0xKSB7XG5cdFx0dGhpcy5fdW5jb25uZWN0ZWQuc3BsaWNlKGluZGV4LCAxKTtcblx0XHR0aGlzLl9jb25uZWN0ZWQucHVzaChyb29tMSk7XG5cdH1cblxuXHR2YXIgaW5kZXggPSB0aGlzLl91bmNvbm5lY3RlZC5pbmRleE9mKHJvb20yKTtcblx0aWYgKGluZGV4ICE9IC0xKSB7XG5cdFx0dGhpcy5fdW5jb25uZWN0ZWQuc3BsaWNlKGluZGV4LCAxKTtcblx0XHR0aGlzLl9jb25uZWN0ZWQucHVzaChyb29tMik7XG5cdH1cblx0XG5cdHJldHVybiB0cnVlO1xufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9wbGFjZUluV2FsbCA9IGZ1bmN0aW9uKHJvb20sIGRpckluZGV4KSB7XG5cdHZhciBzdGFydCA9IFswLCAwXTtcblx0dmFyIGRpciA9IFswLCAwXTtcblx0dmFyIGxlbmd0aCA9IDA7XG5cdFxuXHRzd2l0Y2ggKGRpckluZGV4KSB7XG5cdFx0Y2FzZSAwOlxuXHRcdFx0ZGlyID0gWzEsIDBdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCksIHJvb20uZ2V0VG9wKCktMV07XG5cdFx0XHRsZW5ndGggPSByb29tLmdldFJpZ2h0KCktcm9vbS5nZXRMZWZ0KCkrMTtcblx0XHRicmVhaztcblx0XHRjYXNlIDE6XG5cdFx0XHRkaXIgPSBbMCwgMV07XG5cdFx0XHRzdGFydCA9IFtyb29tLmdldFJpZ2h0KCkrMSwgcm9vbS5nZXRUb3AoKV07XG5cdFx0XHRsZW5ndGggPSByb29tLmdldEJvdHRvbSgpLXJvb20uZ2V0VG9wKCkrMTtcblx0XHRicmVhaztcblx0XHRjYXNlIDI6XG5cdFx0XHRkaXIgPSBbMSwgMF07XG5cdFx0XHRzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRCb3R0b20oKSsxXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKS1yb29tLmdldExlZnQoKSsxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMzpcblx0XHRcdGRpciA9IFswLCAxXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLTEsIHJvb20uZ2V0VG9wKCldO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRCb3R0b20oKS1yb29tLmdldFRvcCgpKzE7XG5cdFx0YnJlYWs7XG5cdH1cblx0XG5cdHZhciBhdmFpbCA9IFtdO1xuXHR2YXIgbGFzdEJhZEluZGV4ID0gLTI7XG5cblx0Zm9yICh2YXIgaT0wO2k8bGVuZ3RoO2krKykge1xuXHRcdHZhciB4ID0gc3RhcnRbMF0gKyBpKmRpclswXTtcblx0XHR2YXIgeSA9IHN0YXJ0WzFdICsgaSpkaXJbMV07XG5cdFx0YXZhaWwucHVzaChudWxsKTtcblx0XHRcblx0XHR2YXIgaXNXYWxsID0gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcblx0XHRpZiAoaXNXYWxsKSB7XG5cdFx0XHRpZiAobGFzdEJhZEluZGV4ICE9IGktMSkgeyBhdmFpbFtpXSA9IFt4LCB5XTsgfVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsYXN0QmFkSW5kZXggPSBpO1xuXHRcdFx0aWYgKGkpIHsgYXZhaWxbaS0xXSA9IG51bGw7IH1cblx0XHR9XG5cdH1cblx0XG5cdGZvciAodmFyIGk9YXZhaWwubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuXHRcdGlmICghYXZhaWxbaV0pIHsgYXZhaWwuc3BsaWNlKGksIDEpOyB9XG5cdH1cblx0cmV0dXJuIChhdmFpbC5sZW5ndGggPyBhdmFpbC5yYW5kb20oKSA6IG51bGwpO1xufVxuXG4vKipcbiAqIERpZyBhIHBvbHlsaW5lLlxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9kaWdMaW5lID0gZnVuY3Rpb24ocG9pbnRzKSB7XG5cdGZvciAodmFyIGk9MTtpPHBvaW50cy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHN0YXJ0ID0gcG9pbnRzW2ktMV07XG5cdFx0dmFyIGVuZCA9IHBvaW50c1tpXTtcblx0XHR2YXIgY29ycmlkb3IgPSBuZXcgUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yKHN0YXJ0WzBdLCBzdGFydFsxXSwgZW5kWzBdLCBlbmRbMV0pO1xuXHRcdGNvcnJpZG9yLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG5cdFx0dGhpcy5fY29ycmlkb3JzLnB1c2goY29ycmlkb3IpO1xuXHR9XG59XG5cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2RpZ0NhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSwgdmFsdWUpIHtcblx0dGhpcy5fbWFwW3hdW3ldID0gdmFsdWU7XG5cdGlmICh2YWx1ZSA9PSAwKSB7IHRoaXMuX2R1ZysrOyB9XG59XG5cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2lzV2FsbENhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5ID49IHRoaXMuX2hlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG59XG5cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2NhbkJlRHVnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4KzEgPj0gdGhpcy5fd2lkdGggfHwgeSsxID49IHRoaXMuX2hlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG59XG5cbi8qKlxuICogQGF1dGhvciBoeWFrdWdlaVxuICogQGNsYXNzIER1bmdlb24gZ2VuZXJhdG9yIHdoaWNoIHVzZXMgdGhlIFwib3JnaW5hbFwiIFJvZ3VlIGR1bmdlb24gZ2VuZXJhdGlvbiBhbGdvcml0aG0uIFNlZSBodHRwOi8va3VvaS5jb20vfmthbWlrYXplL0dhbWVEZXNpZ24vYXJ0MDdfcm9ndWVfZHVuZ2Vvbi5waHBcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKiBAcGFyYW0ge2ludH0gW3dpZHRoPVJPVC5ERUZBVUxUX1dJRFRIXVxuICogQHBhcmFtIHtpbnR9IFtoZWlnaHQ9Uk9ULkRFRkFVTFRfSEVJR0hUXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zXG4gKiBAcGFyYW0ge2ludFtdfSBbb3B0aW9ucy5jZWxsV2lkdGg9M10gTnVtYmVyIG9mIGNlbGxzIHRvIGNyZWF0ZSBvbiB0aGUgaG9yaXpvbnRhbCAobnVtYmVyIG9mIHJvb21zIGhvcml6b250YWxseSlcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmNlbGxIZWlnaHQ9M10gTnVtYmVyIG9mIGNlbGxzIHRvIGNyZWF0ZSBvbiB0aGUgdmVydGljYWwgKG51bWJlciBvZiByb29tcyB2ZXJ0aWNhbGx5KSBcbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5yb29tV2lkdGhdIFJvb20gbWluIGFuZCBtYXggd2lkdGggLSBub3JtYWxseSBzZXQgYXV0by1tYWdpY2FsbHkgdmlhIHRoZSBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5yb29tSGVpZ2h0XSBSb29tIG1pbiBhbmQgbWF4IGhlaWdodCAtIG5vcm1hbGx5IHNldCBhdXRvLW1hZ2ljYWxseSB2aWEgdGhlIGNvbnN0cnVjdG9yLiBcbiAqL1xuUk9ULk1hcC5Sb2d1ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHRcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRjZWxsV2lkdGg6IDMsICAvLyBOT1RFIHRvIHNlbGYsIHRoZXNlIGNvdWxkIHByb2JhYmx5IHdvcmsgdGhlIHNhbWUgYXMgdGhlIHJvb21XaWR0aC9yb29tIEhlaWdodCB2YWx1ZXNcblx0XHRjZWxsSGVpZ2h0OiAzICAvLyAgICAgaWUuIGFzIGFuIGFycmF5IHdpdGggbWluLW1heCB2YWx1ZXMgZm9yIGVhY2ggZGlyZWN0aW9uLi4uLlxuXHR9XG5cdFxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0XG5cdC8qXG5cdFNldCB0aGUgcm9vbSBzaXplcyBhY2NvcmRpbmcgdG8gdGhlIG92ZXItYWxsIHdpZHRoIG9mIHRoZSBtYXAsIFxuXHRhbmQgdGhlIGNlbGwgc2l6ZXMuIFxuXHQqL1xuXHRcblx0aWYgKCF0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KFwicm9vbVdpZHRoXCIpKSB7XG5cdFx0dGhpcy5fb3B0aW9uc1tcInJvb21XaWR0aFwiXSA9IHRoaXMuX2NhbGN1bGF0ZVJvb21TaXplKHRoaXMuX3dpZHRoLCB0aGlzLl9vcHRpb25zW1wiY2VsbFdpZHRoXCJdKTtcblx0fVxuXHRpZiAoIXRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tSGVpZ2h0XCIpKSB7XG5cdFx0dGhpcy5fb3B0aW9uc1tcInJvb21IZWlnaHRcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl9oZWlnaHQsIHRoaXMuX29wdGlvbnNbXCJjZWxsSGVpZ2h0XCJdKTtcblx0fVxuXHRcbn1cblxuUk9ULk1hcC5Sb2d1ZS5leHRlbmQoUk9ULk1hcCk7IFxuXG4vKipcbiAqIEBzZWUgUk9ULk1hcCNjcmVhdGVcbiAqL1xuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dGhpcy5tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHR0aGlzLnJvb21zID0gW107XG5cdHRoaXMuY29ubmVjdGVkQ2VsbHMgPSBbXTtcblx0XG5cdHRoaXMuX2luaXRSb29tcygpO1xuXHR0aGlzLl9jb25uZWN0Um9vbXMoKTtcblx0dGhpcy5fY29ubmVjdFVuY29ubmVjdGVkUm9vbXMoKTtcblx0dGhpcy5fY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zKCk7XG5cdHRoaXMuX2NyZWF0ZVJvb21zKCk7XG5cdHRoaXMuX2NyZWF0ZUNvcnJpZG9ycygpO1xuXHRcblx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl93aWR0aDsgaSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX2hlaWdodDsgaisrKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGksIGosIHRoaXMubWFwW2ldW2pdKTsgICBcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY2FsY3VsYXRlUm9vbVNpemUgPSBmdW5jdGlvbihzaXplLCBjZWxsKSB7XG5cdHZhciBtYXggPSBNYXRoLmZsb29yKChzaXplL2NlbGwpICogMC44KTtcblx0dmFyIG1pbiA9IE1hdGguZmxvb3IoKHNpemUvY2VsbCkgKiAwLjI1KTtcblx0aWYgKG1pbiA8IDIpIG1pbiA9IDI7XG5cdGlmIChtYXggPCAyKSBtYXggPSAyO1xuXHRyZXR1cm4gW21pbiwgbWF4XTtcbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2luaXRSb29tcyA9IGZ1bmN0aW9uICgpIHsgXG5cdC8vIGNyZWF0ZSByb29tcyBhcnJheS4gVGhpcyBpcyB0aGUgXCJncmlkXCIgbGlzdCBmcm9tIHRoZSBhbGdvLiAgXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7IGkrKykgeyAgXG5cdFx0dGhpcy5yb29tcy5wdXNoKFtdKTtcblx0XHRmb3IodmFyIGogPSAwOyBqIDwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0OyBqKyspIHtcblx0XHRcdHRoaXMucm9vbXNbaV0ucHVzaCh7XCJ4XCI6MCwgXCJ5XCI6MCwgXCJ3aWR0aFwiOjAsIFwiaGVpZ2h0XCI6MCwgXCJjb25uZWN0aW9uc1wiOltdLCBcImNlbGx4XCI6aSwgXCJjZWxseVwiOmp9KTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2Nvbm5lY3RSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHQvL3BpY2sgcmFuZG9tIHN0YXJ0aW5nIGdyaWRcblx0dmFyIGNneCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aC0xKTtcblx0dmFyIGNneSA9IFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQtMSk7XG5cdFxuXHR2YXIgaWR4O1xuXHR2YXIgbmNneDtcblx0dmFyIG5jZ3k7XG5cdFxuXHR2YXIgZm91bmQgPSBmYWxzZTtcblx0dmFyIHJvb207XG5cdHZhciBvdGhlclJvb207XG5cdFxuXHQvLyBmaW5kICB1bmNvbm5lY3RlZCBuZWlnaGJvdXIgY2VsbHNcblx0ZG8ge1xuXHRcblx0XHQvL3ZhciBkaXJUb0NoZWNrID0gWzAsMSwyLDMsNCw1LDYsN107XG5cdFx0dmFyIGRpclRvQ2hlY2sgPSBbMCwyLDQsNl07XG5cdFx0ZGlyVG9DaGVjayA9IGRpclRvQ2hlY2sucmFuZG9taXplKCk7XG5cdFx0XG5cdFx0ZG8ge1xuXHRcdFx0Zm91bmQgPSBmYWxzZTtcblx0XHRcdGlkeCA9IGRpclRvQ2hlY2sucG9wKCk7XG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0bmNneCA9IGNneCArIFJPVC5ESVJTWzhdW2lkeF1bMF07XG5cdFx0XHRuY2d5ID0gY2d5ICsgUk9ULkRJUlNbOF1baWR4XVsxXTtcblx0XHRcdFxuXHRcdFx0aWYobmNneCA8IDAgfHwgbmNneCA+PSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aCkgY29udGludWU7XG5cdFx0XHRpZihuY2d5IDwgMCB8fCBuY2d5ID49IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodCkgY29udGludWU7XG5cdFx0XHRcblx0XHRcdHJvb20gPSB0aGlzLnJvb21zW2NneF1bY2d5XTtcblx0XHRcdFxuXHRcdFx0aWYocm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA+IDApXG5cdFx0XHR7XG5cdFx0XHRcdC8vIGFzIGxvbmcgYXMgdGhpcyByb29tIGRvZXNuJ3QgYWxyZWFkeSBjb29uZWN0IHRvIG1lLCB3ZSBhcmUgb2sgd2l0aCBpdC4gXG5cdFx0XHRcdGlmKHJvb21bXCJjb25uZWN0aW9uc1wiXVswXVswXSA9PSBuY2d4ICYmXG5cdFx0XHRcdHJvb21bXCJjb25uZWN0aW9uc1wiXVswXVsxXSA9PSBuY2d5KVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tuY2d4XVtuY2d5XTtcblx0XHRcdFxuXHRcdFx0aWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7IFxuXHRcdFx0XHRvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5wdXNoKFtjZ3gsY2d5XSk7XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLmNvbm5lY3RlZENlbGxzLnB1c2goW25jZ3gsIG5jZ3ldKTtcblx0XHRcdFx0Y2d4ID0gbmNneDtcblx0XHRcdFx0Y2d5ID0gbmNneTtcblx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdH0gd2hpbGUgKGRpclRvQ2hlY2subGVuZ3RoID4gMCAmJiBmb3VuZCA9PSBmYWxzZSlcblx0XHRcblx0fSB3aGlsZSAoZGlyVG9DaGVjay5sZW5ndGggPiAwKVxuXG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jb25uZWN0VW5jb25uZWN0ZWRSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHQvL1doaWxlIHRoZXJlIGFyZSB1bmNvbm5lY3RlZCByb29tcywgdHJ5IHRvIGNvbm5lY3QgdGhlbSB0byBhIHJhbmRvbSBjb25uZWN0ZWQgbmVpZ2hib3IgXG5cdC8vKGlmIGEgcm9vbSBoYXMgbm8gY29ubmVjdGVkIG5laWdoYm9ycyB5ZXQsIGp1c3Qga2VlcCBjeWNsaW5nLCB5b3UnbGwgZmlsbCBvdXQgdG8gaXQgZXZlbnR1YWxseSkuXG5cdHZhciBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuXHR2YXIgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG5cdFxuXHR2YXIgcmFuZG9tQ29ubmVjdGVkQ2VsbDtcblx0dGhpcy5jb25uZWN0ZWRDZWxscyA9IHRoaXMuY29ubmVjdGVkQ2VsbHMucmFuZG9taXplKCk7XG5cdHZhciByb29tO1xuXHR2YXIgb3RoZXJSb29tO1xuXHR2YXIgdmFsaWRSb29tO1xuXHRcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDsgaSsrKSB7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7IGorKykgIHtcblx0XHRcdFx0XG5cdFx0XHRyb29tID0gdGhpcy5yb29tc1tpXVtqXTtcblx0XHRcdFxuXHRcdFx0aWYgKHJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHR2YXIgZGlyZWN0aW9ucyA9IFswLDIsNCw2XTtcblx0XHRcdFx0ZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMucmFuZG9taXplKCk7XG5cdFx0XHRcdFxuXHRcdFx0XHR2YXIgdmFsaWRSb29tID0gZmFsc2U7XG5cdFx0XHRcdFxuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0dmFyIGRpcklkeCA9IGRpcmVjdGlvbnMucG9wKCk7XG5cdFx0XHRcdFx0dmFyIG5ld0kgPSBpICsgUk9ULkRJUlNbOF1bZGlySWR4XVswXTtcblx0XHRcdFx0XHR2YXIgbmV3SiA9IGogKyBST1QuRElSU1s4XVtkaXJJZHhdWzFdO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChuZXdJIDwgMCB8fCBuZXdJID49IGN3IHx8IFxuXHRcdFx0XHRcdG5ld0ogPCAwIHx8IG5ld0ogPj0gY2gpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW25ld0ldW25ld0pdO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhbGlkUm9vbSA9IHRydWU7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCBvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFx0aWYob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMF0gPT0gaSAmJiBcblx0XHRcdFx0XHRcdG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdWzFdID09IGopIHtcblx0XHRcdFx0XHRcdFx0dmFsaWRSb29tID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAodmFsaWRSb29tKSBicmVhaztcblx0XHRcdFx0XHRcblx0XHRcdFx0fSB3aGlsZSAoZGlyZWN0aW9ucy5sZW5ndGgpXG5cdFx0XHRcdFxuXHRcdFx0XHRpZih2YWxpZFJvb20pIHsgXG5cdFx0XHRcdFx0cm9vbVtcImNvbm5lY3Rpb25zXCJdLnB1c2goIFtvdGhlclJvb21bXCJjZWxseFwiXSwgb3RoZXJSb29tW1wiY2VsbHlcIl1dICk7ICBcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIi0tIFVuYWJsZSB0byBjb25uZWN0IHJvb20uXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jcmVhdGVSYW5kb21Sb29tQ29ubmVjdGlvbnMgPSBmdW5jdGlvbihjb25uZWN0aW9ucykge1xuXHQvLyBFbXB0eSBmb3Igbm93LiBcbn1cblxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY3JlYXRlUm9vbXMgPSBmdW5jdGlvbigpIHtcblx0Ly8gQ3JlYXRlIFJvb21zIFxuXHRcblx0dmFyIHcgPSB0aGlzLl93aWR0aDtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQ7XG5cdFxuXHR2YXIgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcblx0dmFyIGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuXHRcblx0dmFyIGN3cCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGggLyBjdyk7XG5cdHZhciBjaHAgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodCAvIGNoKTtcblx0XG5cdHZhciByb29tdztcblx0dmFyIHJvb21oO1xuXHR2YXIgcm9vbVdpZHRoID0gdGhpcy5fb3B0aW9uc1tcInJvb21XaWR0aFwiXTtcblx0dmFyIHJvb21IZWlnaHQgPSB0aGlzLl9vcHRpb25zW1wicm9vbUhlaWdodFwiXTtcblx0dmFyIHN4O1xuXHR2YXIgc3k7XG5cdHZhciB0eDtcblx0dmFyIHR5O1xuXHR2YXIgb3RoZXJSb29tO1xuXHRcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjdzsgaSsrKSB7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaDsgaisrKSB7XG5cdFx0XHRzeCA9IGN3cCAqIGk7XG5cdFx0XHRzeSA9IGNocCAqIGo7XG5cdFx0XHRcblx0XHRcdGlmIChzeCA9PSAwKSBzeCA9IDE7XG5cdFx0XHRpZiAoc3kgPT0gMCkgc3kgPSAxO1xuXHRcdFx0XG5cdFx0XHRyb29tdyA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChyb29tV2lkdGhbMF0sIHJvb21XaWR0aFsxXSk7XG5cdFx0XHRyb29taCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChyb29tSGVpZ2h0WzBdLCByb29tSGVpZ2h0WzFdKTtcblx0XHRcdFxuXHRcdFx0aWYgKGogPiAwKSB7XG5cdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbaV1bai0xXTtcblx0XHRcdFx0d2hpbGUgKHN5IC0gKG90aGVyUm9vbVtcInlcIl0gKyBvdGhlclJvb21bXCJoZWlnaHRcIl0gKSA8IDMpIHtcblx0XHRcdFx0XHRzeSsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChpID4gMCkge1xuXHRcdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW2ktMV1bal07XG5cdFx0XHRcdHdoaWxlKHN4IC0gKG90aGVyUm9vbVtcInhcIl0gKyBvdGhlclJvb21bXCJ3aWR0aFwiXSkgPCAzKSB7XG5cdFx0XHRcdFx0c3grKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHR2YXIgc3hPZmZzZXQgPSBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBjd3Atcm9vbXcpLzIpO1xuXHRcdFx0dmFyIHN5T2Zmc2V0ID0gTWF0aC5yb3VuZChST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgY2hwLXJvb21oKS8yKTtcblx0XHRcdFxuXHRcdFx0d2hpbGUgKHN4ICsgc3hPZmZzZXQgKyByb29tdyA+PSB3KSB7XG5cdFx0XHRcdGlmKHN4T2Zmc2V0KSB7XG5cdFx0XHRcdFx0c3hPZmZzZXQtLTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyb29tdy0tOyBcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHR3aGlsZSAoc3kgKyBzeU9mZnNldCArIHJvb21oID49IGgpIHsgXG5cdFx0XHRcdGlmKHN5T2Zmc2V0KSB7XG5cdFx0XHRcdFx0c3lPZmZzZXQtLTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyb29taC0tOyBcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRzeCA9IHN4ICsgc3hPZmZzZXQ7XG5cdFx0XHRzeSA9IHN5ICsgc3lPZmZzZXQ7XG5cdFx0XHRcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJ4XCJdID0gc3g7XG5cdFx0XHR0aGlzLnJvb21zW2ldW2pdW1wieVwiXSA9IHN5O1xuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcIndpZHRoXCJdID0gcm9vbXc7XG5cdFx0XHR0aGlzLnJvb21zW2ldW2pdW1wiaGVpZ2h0XCJdID0gcm9vbWg7ICBcblx0XHRcdFxuXHRcdFx0Zm9yICh2YXIgaWkgPSBzeDsgaWkgPCBzeCArIHJvb213OyBpaSsrKSB7XG5cdFx0XHRcdGZvciAodmFyIGpqID0gc3k7IGpqIDwgc3kgKyByb29taDsgamorKykge1xuXHRcdFx0XHRcdHRoaXMubWFwW2lpXVtqal0gPSAwO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICBcblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2dldFdhbGxQb3NpdGlvbiA9IGZ1bmN0aW9uKGFSb29tLCBhRGlyZWN0aW9uKSB7XG5cdHZhciByeDtcblx0dmFyIHJ5O1xuXHR2YXIgZG9vcjtcblx0XG5cdGlmIChhRGlyZWN0aW9uID09IDEgfHwgYURpcmVjdGlvbiA9PSAzKSB7XG5cdFx0cnggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQoYVJvb21bXCJ4XCJdICsgMSwgYVJvb21bXCJ4XCJdICsgYVJvb21bXCJ3aWR0aFwiXSAtIDIpO1xuXHRcdGlmIChhRGlyZWN0aW9uID09IDEpIHtcblx0XHRcdHJ5ID0gYVJvb21bXCJ5XCJdIC0gMjtcblx0XHRcdGRvb3IgPSByeSArIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ5ID0gYVJvb21bXCJ5XCJdICsgYVJvb21bXCJoZWlnaHRcIl0gKyAxO1xuXHRcdFx0ZG9vciA9IHJ5IC0xO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLm1hcFtyeF1bZG9vcl0gPSAwOyAvLyBpJ20gbm90IHNldHRpbmcgYSBzcGVjaWZpYyAnZG9vcicgdGlsZSB2YWx1ZSByaWdodCBub3csIGp1c3QgZW1wdHkgc3BhY2UuIFxuXHRcdFxuXHR9IGVsc2UgaWYgKGFEaXJlY3Rpb24gPT0gMiB8fCBhRGlyZWN0aW9uID09IDQpIHtcblx0XHRyeSA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInlcIl0gKyAxLCBhUm9vbVtcInlcIl0gKyBhUm9vbVtcImhlaWdodFwiXSAtIDIpO1xuXHRcdGlmKGFEaXJlY3Rpb24gPT0gMikge1xuXHRcdFx0cnggPSBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdICsgMTtcblx0XHRcdGRvb3IgPSByeCAtIDE7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJ4ID0gYVJvb21bXCJ4XCJdIC0gMjtcblx0XHRcdGRvb3IgPSByeCArIDE7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMubWFwW2Rvb3JdW3J5XSA9IDA7IC8vIGknbSBub3Qgc2V0dGluZyBhIHNwZWNpZmljICdkb29yJyB0aWxlIHZhbHVlIHJpZ2h0IG5vdywganVzdCBlbXB0eSBzcGFjZS4gXG5cdFx0XG5cdH1cblx0cmV0dXJuIFtyeCwgcnldO1xufVxuXG4vKioqXG4qIEBwYXJhbSBzdGFydFBvc2l0aW9uIGEgMiBlbGVtZW50IGFycmF5XG4qIEBwYXJhbSBlbmRQb3NpdGlvbiBhIDIgZWxlbWVudCBhcnJheVxuKi9cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9kcmF3Q29ycmlkb3JlID0gZnVuY3Rpb24gKHN0YXJ0UG9zaXRpb24sIGVuZFBvc2l0aW9uKSB7XG5cdHZhciB4T2Zmc2V0ID0gZW5kUG9zaXRpb25bMF0gLSBzdGFydFBvc2l0aW9uWzBdO1xuXHR2YXIgeU9mZnNldCA9IGVuZFBvc2l0aW9uWzFdIC0gc3RhcnRQb3NpdGlvblsxXTtcblx0XG5cdHZhciB4cG9zID0gc3RhcnRQb3NpdGlvblswXTtcblx0dmFyIHlwb3MgPSBzdGFydFBvc2l0aW9uWzFdO1xuXHRcblx0dmFyIHRlbXBEaXN0O1xuXHR2YXIgeERpcjtcblx0dmFyIHlEaXI7XG5cdFxuXHR2YXIgbW92ZTsgLy8gMiBlbGVtZW50IGFycmF5LCBlbGVtZW50IDAgaXMgdGhlIGRpcmVjdGlvbiwgZWxlbWVudCAxIGlzIHRoZSB0b3RhbCB2YWx1ZSB0byBtb3ZlLiBcblx0dmFyIG1vdmVzID0gW107IC8vIGEgbGlzdCBvZiAyIGVsZW1lbnQgYXJyYXlzXG5cdFxuXHR2YXIgeEFicyA9IE1hdGguYWJzKHhPZmZzZXQpO1xuXHR2YXIgeUFicyA9IE1hdGguYWJzKHlPZmZzZXQpO1xuXHRcblx0dmFyIHBlcmNlbnQgPSBST1QuUk5HLmdldFVuaWZvcm0oKTsgLy8gdXNlZCB0byBzcGxpdCB0aGUgbW92ZSBhdCBkaWZmZXJlbnQgcGxhY2VzIGFsb25nIHRoZSBsb25nIGF4aXNcblx0dmFyIGZpcnN0SGFsZiA9IHBlcmNlbnQ7XG5cdHZhciBzZWNvbmRIYWxmID0gMSAtIHBlcmNlbnQ7XG5cdFxuXHR4RGlyID0geE9mZnNldCA+IDAgPyAyIDogNjtcblx0eURpciA9IHlPZmZzZXQgPiAwID8gNCA6IDA7XG5cdFxuXHRpZiAoeEFicyA8IHlBYnMpIHtcblx0XHQvLyBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeSBvZmZzZXRcblx0XHR0ZW1wRGlzdCA9IE1hdGguY2VpbCh5QWJzICogZmlyc3RIYWxmKTtcblx0XHRtb3Zlcy5wdXNoKFt5RGlyLCB0ZW1wRGlzdF0pO1xuXHRcdC8vIG1vdmUgYWxsIHRoZSB4IG9mZnNldFxuXHRcdG1vdmVzLnB1c2goW3hEaXIsIHhBYnNdKTtcblx0XHQvLyBtb3ZlIHNlbmRIYWxmIG9mIHRoZSAgeSBvZmZzZXRcblx0XHR0ZW1wRGlzdCA9IE1hdGguZmxvb3IoeUFicyAqIHNlY29uZEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3lEaXIsIHRlbXBEaXN0XSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gIG1vdmUgZmlyc3RIYWxmIG9mIHRoZSB4IG9mZnNldFxuXHRcdHRlbXBEaXN0ID0gTWF0aC5jZWlsKHhBYnMgKiBmaXJzdEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3hEaXIsIHRlbXBEaXN0XSk7XG5cdFx0Ly8gbW92ZSBhbGwgdGhlIHkgb2Zmc2V0XG5cdFx0bW92ZXMucHVzaChbeURpciwgeUFic10pO1xuXHRcdC8vIG1vdmUgc2Vjb25kSGFsZiBvZiB0aGUgeCBvZmZzZXQuXG5cdFx0dGVtcERpc3QgPSBNYXRoLmZsb29yKHhBYnMgKiBzZWNvbmRIYWxmKTtcblx0XHRtb3Zlcy5wdXNoKFt4RGlyLCB0ZW1wRGlzdF0pOyAgXG5cdH1cblx0XG5cdHRoaXMubWFwW3hwb3NdW3lwb3NdID0gMDtcblx0XG5cdHdoaWxlIChtb3Zlcy5sZW5ndGggPiAwKSB7XG5cdFx0bW92ZSA9IG1vdmVzLnBvcCgpO1xuXHRcdHdoaWxlIChtb3ZlWzFdID4gMCkge1xuXHRcdFx0eHBvcyArPSBST1QuRElSU1s4XVttb3ZlWzBdXVswXTtcblx0XHRcdHlwb3MgKz0gUk9ULkRJUlNbOF1bbW92ZVswXV1bMV07XG5cdFx0XHR0aGlzLm1hcFt4cG9zXVt5cG9zXSA9IDA7XG5cdFx0XHRtb3ZlWzFdID0gbW92ZVsxXSAtIDE7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jcmVhdGVDb3JyaWRvcnMgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIERyYXcgQ29ycmlkb3JzIGJldHdlZW4gY29ubmVjdGVkIHJvb21zXG5cdFxuXHR2YXIgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcblx0dmFyIGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuXHR2YXIgcm9vbTtcblx0dmFyIGNvbm5lY3Rpb247XG5cdHZhciBvdGhlclJvb207XG5cdHZhciB3YWxsO1xuXHR2YXIgb3RoZXJXYWxsO1xuXHRcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBjdzsgaSsrKSB7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBjaDsgaisrKSB7XG5cdFx0XHRyb29tID0gdGhpcy5yb29tc1tpXVtqXTtcblx0XHRcdFxuXHRcdFx0Zm9yICh2YXIgayA9IDA7IGsgPCByb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0Y29ubmVjdGlvbiA9IHJvb21bXCJjb25uZWN0aW9uc1wiXVtrXTsgXG5cdFx0XHRcdFxuXHRcdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW2Nvbm5lY3Rpb25bMF1dW2Nvbm5lY3Rpb25bMV1dO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gZmlndXJlIG91dCB3aGF0IHdhbGwgb3VyIGNvcnJpZG9yIHdpbGwgc3RhcnQgb25lLlxuXHRcdFx0XHQvLyBmaWd1cmUgb3V0IHdoYXQgd2FsbCBvdXIgY29ycmlkb3Igd2lsbCBlbmQgb24uIFxuXHRcdFx0XHRpZiAob3RoZXJSb29tW1wiY2VsbHhcIl0gPiByb29tW1wiY2VsbHhcIl0gKSB7XG5cdFx0XHRcdFx0d2FsbCA9IDI7XG5cdFx0XHRcdFx0b3RoZXJXYWxsID0gNDtcblx0XHRcdFx0fSBlbHNlIGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA8IHJvb21bXCJjZWxseFwiXSApIHtcblx0XHRcdFx0XHR3YWxsID0gNDtcblx0XHRcdFx0XHRvdGhlcldhbGwgPSAyO1xuXHRcdFx0XHR9IGVsc2UgaWYob3RoZXJSb29tW1wiY2VsbHlcIl0gPiByb29tW1wiY2VsbHlcIl0pIHtcblx0XHRcdFx0XHR3YWxsID0gMztcblx0XHRcdFx0XHRvdGhlcldhbGwgPSAxO1xuXHRcdFx0XHR9IGVsc2UgaWYob3RoZXJSb29tW1wiY2VsbHlcIl0gPCByb29tW1wiY2VsbHlcIl0pIHtcblx0XHRcdFx0XHR3YWxsID0gMTtcblx0XHRcdFx0XHRvdGhlcldhbGwgPSAzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHR0aGlzLl9kcmF3Q29ycmlkb3JlKHRoaXMuX2dldFdhbGxQb3NpdGlvbihyb29tLCB3YWxsKSwgdGhpcy5fZ2V0V2FsbFBvc2l0aW9uKG90aGVyUm9vbSwgb3RoZXJXYWxsKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIGZlYXR1cmU7IGhhcyBvd24gLmNyZWF0ZSgpIG1ldGhvZFxuICovXG5ST1QuTWFwLkZlYXR1cmUgPSBmdW5jdGlvbigpIHt9XG5ST1QuTWFwLkZlYXR1cmUucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbihjYW5CZUR1Z0NhbGxiYWNrKSB7fVxuUk9ULk1hcC5GZWF0dXJlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihkaWdDYWxsYmFjaykge31cblJPVC5NYXAuRmVhdHVyZS5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbigpIHt9XG5ST1QuTWFwLkZlYXR1cmUuY3JlYXRlUmFuZG9tQXQgPSBmdW5jdGlvbih4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHt9XG5cbi8qKlxuICogQGNsYXNzIFJvb21cbiAqIEBhdWdtZW50cyBST1QuTWFwLkZlYXR1cmVcbiAqIEBwYXJhbSB7aW50fSB4MVxuICogQHBhcmFtIHtpbnR9IHkxXG4gKiBAcGFyYW0ge2ludH0geDJcbiAqIEBwYXJhbSB7aW50fSB5MlxuICogQHBhcmFtIHtpbnR9IFtkb29yWF1cbiAqIEBwYXJhbSB7aW50fSBbZG9vclldXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tID0gZnVuY3Rpb24oeDEsIHkxLCB4MiwgeTIsIGRvb3JYLCBkb29yWSkge1xuXHR0aGlzLl94MSA9IHgxO1xuXHR0aGlzLl95MSA9IHkxO1xuXHR0aGlzLl94MiA9IHgyO1xuXHR0aGlzLl95MiA9IHkyO1xuXHR0aGlzLl9kb29ycyA9IHt9O1xuXHRpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDQpIHsgdGhpcy5hZGREb29yKGRvb3JYLCBkb29yWSk7IH1cbn1cblJPVC5NYXAuRmVhdHVyZS5Sb29tLmV4dGVuZChST1QuTWFwLkZlYXR1cmUpO1xuXG4vKipcbiAqIFJvb20gb2YgcmFuZG9tIHNpemUsIHdpdGggYSBnaXZlbiBkb29ycyBhbmQgZGlyZWN0aW9uXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbUF0ID0gZnVuY3Rpb24oeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuXHR2YXIgd2lkdGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcblx0dmFyIGhlaWdodCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHRpZiAoZHggPT0gMSkgeyAvKiB0byB0aGUgcmlnaHQgKi9cblx0XHR2YXIgeTIgPSB5IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHgrMSwgeTIsIHgrd2lkdGgsIHkyK2hlaWdodC0xLCB4LCB5KTtcblx0fVxuXHRcblx0aWYgKGR4ID09IC0xKSB7IC8qIHRvIHRoZSBsZWZ0ICovXG5cdFx0dmFyIHkyID0geSAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkgKiBoZWlnaHQpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh4LXdpZHRoLCB5MiwgeC0xLCB5MitoZWlnaHQtMSwgeCwgeSk7XG5cdH1cblxuXHRpZiAoZHkgPT0gMSkgeyAvKiB0byB0aGUgYm90dG9tICovXG5cdFx0dmFyIHgyID0geCAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkgKiB3aWR0aCk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHgyLCB5KzEsIHgyK3dpZHRoLTEsIHkraGVpZ2h0LCB4LCB5KTtcblx0fVxuXG5cdGlmIChkeSA9PSAtMSkgeyAvKiB0byB0aGUgdG9wICovXG5cdFx0dmFyIHgyID0geCAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkgKiB3aWR0aCk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHgyLCB5LWhlaWdodCwgeDIrd2lkdGgtMSwgeS0xLCB4LCB5KTtcblx0fVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImR4IG9yIGR5IG11c3QgYmUgMSBvciAtMVwiKTtcbn1cblxuLyoqXG4gKiBSb29tIG9mIHJhbmRvbSBzaXplLCBwb3NpdGlvbmVkIGFyb3VuZCBjZW50ZXIgY29vcmRzXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbUNlbnRlciA9IGZ1bmN0aW9uKGN4LCBjeSwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcblx0dmFyIHdpZHRoID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG5cdHZhciBoZWlnaHQgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXG5cdHZhciB4MSA9IGN4IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSp3aWR0aCk7XG5cdHZhciB5MSA9IGN5IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSpoZWlnaHQpO1xuXHR2YXIgeDIgPSB4MSArIHdpZHRoIC0gMTtcblx0dmFyIHkyID0geTEgKyBoZWlnaHQgLSAxO1xuXG5cdHJldHVybiBuZXcgdGhpcyh4MSwgeTEsIHgyLCB5Mik7XG59XG5cbi8qKlxuICogUm9vbSBvZiByYW5kb20gc2l6ZSB3aXRoaW4gYSBnaXZlbiBkaW1lbnNpb25zXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCBvcHRpb25zKSB7XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuXHR2YXIgd2lkdGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcblx0dmFyIGhlaWdodCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbGVmdCA9IGF2YWlsV2lkdGggLSB3aWR0aCAtIDE7XG5cdHZhciB0b3AgPSBhdmFpbEhlaWdodCAtIGhlaWdodCAtIDE7XG5cblx0dmFyIHgxID0gMSArIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqbGVmdCk7XG5cdHZhciB5MSA9IDEgKyBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKnRvcCk7XG5cdHZhciB4MiA9IHgxICsgd2lkdGggLSAxO1xuXHR2YXIgeTIgPSB5MSArIGhlaWdodCAtIDE7XG5cblx0cmV0dXJuIG5ldyB0aGlzKHgxLCB5MSwgeDIsIHkyKTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmFkZERvb3IgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHRoaXMuX2Rvb3JzW3grXCIsXCIreV0gPSAxO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufVxuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0RG9vcnMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fZG9vcnMpIHtcblx0XHR2YXIgcGFydHMgPSBrZXkuc3BsaXQoXCIsXCIpO1xuXHRcdGNhbGxiYWNrKHBhcnNlSW50KHBhcnRzWzBdKSwgcGFyc2VJbnQocGFydHNbMV0pKTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmNsZWFyRG9vcnMgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fZG9vcnMgPSB7fTtcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5hZGREb29ycyA9IGZ1bmN0aW9uKGlzV2FsbENhbGxiYWNrKSB7XG5cdHZhciBsZWZ0ID0gdGhpcy5feDEtMTtcblx0dmFyIHJpZ2h0ID0gdGhpcy5feDIrMTtcblx0dmFyIHRvcCA9IHRoaXMuX3kxLTE7XG5cdHZhciBib3R0b20gPSB0aGlzLl95MisxO1xuXG5cdGZvciAodmFyIHg9bGVmdDsgeDw9cmlnaHQ7IHgrKykge1xuXHRcdGZvciAodmFyIHk9dG9wOyB5PD1ib3R0b207IHkrKykge1xuXHRcdFx0aWYgKHggIT0gbGVmdCAmJiB4ICE9IHJpZ2h0ICYmIHkgIT0gdG9wICYmIHkgIT0gYm90dG9tKSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRpZiAoaXNXYWxsQ2FsbGJhY2soeCwgeSkpIHsgY29udGludWU7IH1cblxuXHRcdFx0dGhpcy5hZGREb29yKHgsIHkpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbigpIHtcblx0Y29uc29sZS5sb2coXCJyb29tXCIsIHRoaXMuX3gxLCB0aGlzLl95MSwgdGhpcy5feDIsIHRoaXMuX3kyKTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbihpc1dhbGxDYWxsYmFjaywgY2FuQmVEdWdDYWxsYmFjaykgeyBcblx0dmFyIGxlZnQgPSB0aGlzLl94MS0xO1xuXHR2YXIgcmlnaHQgPSB0aGlzLl94MisxO1xuXHR2YXIgdG9wID0gdGhpcy5feTEtMTtcblx0dmFyIGJvdHRvbSA9IHRoaXMuX3kyKzE7XG5cdFxuXHRmb3IgKHZhciB4PWxlZnQ7IHg8PXJpZ2h0OyB4KyspIHtcblx0XHRmb3IgKHZhciB5PXRvcDsgeTw9Ym90dG9tOyB5KyspIHtcblx0XHRcdGlmICh4ID09IGxlZnQgfHwgeCA9PSByaWdodCB8fCB5ID09IHRvcCB8fCB5ID09IGJvdHRvbSkge1xuXHRcdFx0XHRpZiAoIWlzV2FsbENhbGxiYWNrKHgsIHkpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCFjYW5CZUR1Z0NhbGxiYWNrKHgsIHkpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ0NhbGxiYWNrIERpZyBjYWxsYmFjayB3aXRoIGEgc2lnbmF0dXJlICh4LCB5LCB2YWx1ZSkuIFZhbHVlczogMCA9IGVtcHR5LCAxID0gd2FsbCwgMiA9IGRvb3IuIE11bHRpcGxlIGRvb3JzIGFyZSBhbGxvd2VkLlxuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oZGlnQ2FsbGJhY2spIHsgXG5cdHZhciBsZWZ0ID0gdGhpcy5feDEtMTtcblx0dmFyIHJpZ2h0ID0gdGhpcy5feDIrMTtcblx0dmFyIHRvcCA9IHRoaXMuX3kxLTE7XG5cdHZhciBib3R0b20gPSB0aGlzLl95MisxO1xuXHRcblx0dmFyIHZhbHVlID0gMDtcblx0Zm9yICh2YXIgeD1sZWZ0OyB4PD1yaWdodDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeT10b3A7IHk8PWJvdHRvbTsgeSsrKSB7XG5cdFx0XHRpZiAoeCtcIixcIit5IGluIHRoaXMuX2Rvb3JzKSB7XG5cdFx0XHRcdHZhbHVlID0gMjtcblx0XHRcdH0gZWxzZSBpZiAoeCA9PSBsZWZ0IHx8IHggPT0gcmlnaHQgfHwgeSA9PSB0b3AgfHwgeSA9PSBib3R0b20pIHtcblx0XHRcdFx0dmFsdWUgPSAxO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsdWUgPSAwO1xuXHRcdFx0fVxuXHRcdFx0ZGlnQ2FsbGJhY2soeCwgeSwgdmFsdWUpO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0Q2VudGVyID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBbTWF0aC5yb3VuZCgodGhpcy5feDEgKyB0aGlzLl94MikvMiksIE1hdGgucm91bmQoKHRoaXMuX3kxICsgdGhpcy5feTIpLzIpXTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldExlZnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3gxO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0UmlnaHQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3gyO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0VG9wID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl95MTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldEJvdHRvbSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feTI7XG59XG5cbi8qKlxuICogQGNsYXNzIENvcnJpZG9yXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5GZWF0dXJlXG4gKiBAcGFyYW0ge2ludH0gc3RhcnRYXG4gKiBAcGFyYW0ge2ludH0gc3RhcnRZXG4gKiBAcGFyYW0ge2ludH0gZW5kWFxuICogQHBhcmFtIHtpbnR9IGVuZFlcbiAqL1xuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yID0gZnVuY3Rpb24oc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpIHtcblx0dGhpcy5fc3RhcnRYID0gc3RhcnRYO1xuXHR0aGlzLl9zdGFydFkgPSBzdGFydFk7XG5cdHRoaXMuX2VuZFggPSBlbmRYOyBcblx0dGhpcy5fZW5kWSA9IGVuZFk7XG5cdHRoaXMuX2VuZHNXaXRoQVdhbGwgPSB0cnVlO1xufVxuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yLmV4dGVuZChST1QuTWFwLkZlYXR1cmUpO1xuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IuY3JlYXRlUmFuZG9tQXQgPSBmdW5jdGlvbih4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMuY29ycmlkb3JMZW5ndGhbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLmNvcnJpZG9yTGVuZ3RoWzFdO1xuXHR2YXIgbGVuZ3RoID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHJldHVybiBuZXcgdGhpcyh4LCB5LCB4ICsgZHgqbGVuZ3RoLCB5ICsgZHkqbGVuZ3RoKTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uKCkge1xuXHRjb25zb2xlLmxvZyhcImNvcnJpZG9yXCIsIHRoaXMuX3N0YXJ0WCwgdGhpcy5fc3RhcnRZLCB0aGlzLl9lbmRYLCB0aGlzLl9lbmRZKTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oaXNXYWxsQ2FsbGJhY2ssIGNhbkJlRHVnQ2FsbGJhY2speyBcblx0dmFyIHN4ID0gdGhpcy5fc3RhcnRYO1xuXHR2YXIgc3kgPSB0aGlzLl9zdGFydFk7XG5cdHZhciBkeCA9IHRoaXMuX2VuZFgtc3g7XG5cdHZhciBkeSA9IHRoaXMuX2VuZFktc3k7XG5cdHZhciBsZW5ndGggPSAxICsgTWF0aC5tYXgoTWF0aC5hYnMoZHgpLCBNYXRoLmFicyhkeSkpO1xuXHRcblx0aWYgKGR4KSB7IGR4ID0gZHgvTWF0aC5hYnMoZHgpOyB9XG5cdGlmIChkeSkgeyBkeSA9IGR5L01hdGguYWJzKGR5KTsgfVxuXHR2YXIgbnggPSBkeTtcblx0dmFyIG55ID0gLWR4O1xuXHRcblx0dmFyIG9rID0gdHJ1ZTtcblx0Zm9yICh2YXIgaT0wOyBpPGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHggPSBzeCArIGkqZHg7XG5cdFx0dmFyIHkgPSBzeSArIGkqZHk7XG5cblx0XHRpZiAoIWNhbkJlRHVnQ2FsbGJhY2soICAgICB4LCAgICAgIHkpKSB7IG9rID0gZmFsc2U7IH1cblx0XHRpZiAoIWlzV2FsbENhbGxiYWNrICAoeCArIG54LCB5ICsgbnkpKSB7IG9rID0gZmFsc2U7IH1cblx0XHRpZiAoIWlzV2FsbENhbGxiYWNrICAoeCAtIG54LCB5IC0gbnkpKSB7IG9rID0gZmFsc2U7IH1cblx0XHRcblx0XHRpZiAoIW9rKSB7XG5cdFx0XHRsZW5ndGggPSBpO1xuXHRcdFx0dGhpcy5fZW5kWCA9IHgtZHg7XG5cdFx0XHR0aGlzLl9lbmRZID0geS1keTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIElmIHRoZSBsZW5ndGggZGVnZW5lcmF0ZWQsIHRoaXMgY29ycmlkb3IgbWlnaHQgYmUgaW52YWxpZFxuXHQgKi9cblx0IFxuXHQvKiBub3Qgc3VwcG9ydGVkICovXG5cdGlmIChsZW5ndGggPT0gMCkgeyByZXR1cm4gZmFsc2U7IH0gXG5cdFxuXHQgLyogbGVuZ3RoIDEgYWxsb3dlZCBvbmx5IGlmIHRoZSBuZXh0IHNwYWNlIGlzIGVtcHR5ICovXG5cdGlmIChsZW5ndGggPT0gMSAmJiBpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFxuXHQvKipcblx0ICogV2UgZG8gbm90IHdhbnQgdGhlIGNvcnJpZG9yIHRvIGNyYXNoIGludG8gYSBjb3JuZXIgb2YgYSByb29tO1xuXHQgKiBpZiBhbnkgb2YgdGhlIGVuZGluZyBjb3JuZXJzIGlzIGVtcHR5LCB0aGUgTisxdGggY2VsbCBvZiB0aGlzIGNvcnJpZG9yIG11c3QgYmUgZW1wdHkgdG9vLlxuXHQgKiBcblx0ICogU2l0dWF0aW9uOlxuXHQgKiAjIyMjIyMjMVxuXHQgKiAuLi4uLi4uP1xuXHQgKiAjIyMjIyMjMlxuXHQgKiBcblx0ICogVGhlIGNvcnJpZG9yIHdhcyBkdWcgZnJvbSBsZWZ0IHRvIHJpZ2h0LlxuXHQgKiAxLCAyIC0gcHJvYmxlbWF0aWMgY29ybmVycywgPyA9IE4rMXRoIGNlbGwgKG5vdCBkdWcpXG5cdCAqL1xuXHR2YXIgZmlyc3RDb3JuZXJCYWQgPSAhaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4ICsgbngsIHRoaXMuX2VuZFkgKyBkeSArIG55KTtcblx0dmFyIHNlY29uZENvcm5lckJhZCA9ICFpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHggLSBueCwgdGhpcy5fZW5kWSArIGR5IC0gbnkpO1xuXHR0aGlzLl9lbmRzV2l0aEFXYWxsID0gaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpO1xuXHRpZiAoKGZpcnN0Q29ybmVyQmFkIHx8IHNlY29uZENvcm5lckJhZCkgJiYgdGhpcy5fZW5kc1dpdGhBV2FsbCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaWdDYWxsYmFjayBEaWcgY2FsbGJhY2sgd2l0aCBhIHNpZ25hdHVyZSAoeCwgeSwgdmFsdWUpLiBWYWx1ZXM6IDAgPSBlbXB0eS5cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihkaWdDYWxsYmFjaykgeyBcblx0dmFyIHN4ID0gdGhpcy5fc3RhcnRYO1xuXHR2YXIgc3kgPSB0aGlzLl9zdGFydFk7XG5cdHZhciBkeCA9IHRoaXMuX2VuZFgtc3g7XG5cdHZhciBkeSA9IHRoaXMuX2VuZFktc3k7XG5cdHZhciBsZW5ndGggPSAxK01hdGgubWF4KE1hdGguYWJzKGR4KSwgTWF0aC5hYnMoZHkpKTtcblx0XG5cdGlmIChkeCkgeyBkeCA9IGR4L01hdGguYWJzKGR4KTsgfVxuXHRpZiAoZHkpIHsgZHkgPSBkeS9NYXRoLmFicyhkeSk7IH1cblx0dmFyIG54ID0gZHk7XG5cdHZhciBueSA9IC1keDtcblx0XG5cdGZvciAodmFyIGk9MDsgaTxsZW5ndGg7IGkrKykge1xuXHRcdHZhciB4ID0gc3ggKyBpKmR4O1xuXHRcdHZhciB5ID0gc3kgKyBpKmR5O1xuXHRcdGRpZ0NhbGxiYWNrKHgsIHksIDApO1xuXHR9XG5cdFxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yLnByb3RvdHlwZS5jcmVhdGVQcmlvcml0eVdhbGxzID0gZnVuY3Rpb24ocHJpb3JpdHlXYWxsQ2FsbGJhY2spIHtcblx0aWYgKCF0aGlzLl9lbmRzV2l0aEFXYWxsKSB7IHJldHVybjsgfVxuXG5cdHZhciBzeCA9IHRoaXMuX3N0YXJ0WDtcblx0dmFyIHN5ID0gdGhpcy5fc3RhcnRZO1xuXG5cdHZhciBkeCA9IHRoaXMuX2VuZFgtc3g7XG5cdHZhciBkeSA9IHRoaXMuX2VuZFktc3k7XG5cdGlmIChkeCkgeyBkeCA9IGR4L01hdGguYWJzKGR4KTsgfVxuXHRpZiAoZHkpIHsgZHkgPSBkeS9NYXRoLmFicyhkeSk7IH1cblx0dmFyIG54ID0gZHk7XG5cdHZhciBueSA9IC1keDtcblxuXHRwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSk7XG5cdHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBueCwgdGhpcy5fZW5kWSArIG55KTtcblx0cHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCAtIG54LCB0aGlzLl9lbmRZIC0gbnkpO1xufVxuLyoqXG4gKiBAY2xhc3MgQmFzZSBub2lzZSBnZW5lcmF0b3JcbiAqL1xuUk9ULk5vaXNlID0gZnVuY3Rpb24oKSB7XG59O1xuXG5ST1QuTm9pc2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHgsIHkpIHt9XG4vKipcbiAqIEEgc2ltcGxlIDJkIGltcGxlbWVudGF0aW9uIG9mIHNpbXBsZXggbm9pc2UgYnkgT25kcmVqIFphcmFcbiAqXG4gKiBCYXNlZCBvbiBhIHNwZWVkLWltcHJvdmVkIHNpbXBsZXggbm9pc2UgYWxnb3JpdGhtIGZvciAyRCwgM0QgYW5kIDREIGluIEphdmEuXG4gKiBXaGljaCBpcyBiYXNlZCBvbiBleGFtcGxlIGNvZGUgYnkgU3RlZmFuIEd1c3RhdnNvbiAoc3RlZ3VAaXRuLmxpdS5zZSkuXG4gKiBXaXRoIE9wdGltaXNhdGlvbnMgYnkgUGV0ZXIgRWFzdG1hbiAocGVhc3RtYW5AZHJpenpsZS5zdGFuZm9yZC5lZHUpLlxuICogQmV0dGVyIHJhbmsgb3JkZXJpbmcgbWV0aG9kIGJ5IFN0ZWZhbiBHdXN0YXZzb24gaW4gMjAxMi5cbiAqL1xuXG4vKipcbiAqIEBjbGFzcyAyRCBzaW1wbGV4IG5vaXNlIGdlbmVyYXRvclxuICogQHBhcmFtIHtpbnR9IFtncmFkaWVudHM9MjU2XSBSYW5kb20gZ3JhZGllbnRzXG4gKi9cblJPVC5Ob2lzZS5TaW1wbGV4ID0gZnVuY3Rpb24oZ3JhZGllbnRzKSB7XG5cdFJPVC5Ob2lzZS5jYWxsKHRoaXMpO1xuXG5cdHRoaXMuX0YyID0gMC41ICogKE1hdGguc3FydCgzKSAtIDEpO1xuXHR0aGlzLl9HMiA9ICgzIC0gTWF0aC5zcXJ0KDMpKSAvIDY7XG5cblx0dGhpcy5fZ3JhZGllbnRzID0gW1xuXHRcdFsgMCwgLTFdLFxuXHRcdFsgMSwgLTFdLFxuXHRcdFsgMSwgIDBdLFxuXHRcdFsgMSwgIDFdLFxuXHRcdFsgMCwgIDFdLFxuXHRcdFstMSwgIDFdLFxuXHRcdFstMSwgIDBdLFxuXHRcdFstMSwgLTFdXG5cdF07XG5cblx0dmFyIHBlcm11dGF0aW9ucyA9IFtdO1xuXHR2YXIgY291bnQgPSBncmFkaWVudHMgfHwgMjU2O1xuXHRmb3IgKHZhciBpPTA7aTxjb3VudDtpKyspIHsgcGVybXV0YXRpb25zLnB1c2goaSk7IH1cblx0cGVybXV0YXRpb25zID0gcGVybXV0YXRpb25zLnJhbmRvbWl6ZSgpO1xuXG5cdHRoaXMuX3Blcm1zID0gW107XG5cdHRoaXMuX2luZGV4ZXMgPSBbXTtcblxuXHRmb3IgKHZhciBpPTA7aTwyKmNvdW50O2krKykge1xuXHRcdHRoaXMuX3Blcm1zLnB1c2gocGVybXV0YXRpb25zW2kgJSBjb3VudF0pO1xuXHRcdHRoaXMuX2luZGV4ZXMucHVzaCh0aGlzLl9wZXJtc1tpXSAlIHRoaXMuX2dyYWRpZW50cy5sZW5ndGgpO1xuXHR9XG5cbn07XG5ST1QuTm9pc2UuU2ltcGxleC5leHRlbmQoUk9ULk5vaXNlKTtcblxuUk9ULk5vaXNlLlNpbXBsZXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKHhpbiwgeWluKSB7XG5cdHZhciBwZXJtcyA9IHRoaXMuX3Blcm1zO1xuXHR2YXIgaW5kZXhlcyA9IHRoaXMuX2luZGV4ZXM7XG5cdHZhciBjb3VudCA9IHBlcm1zLmxlbmd0aC8yO1xuXHR2YXIgRzIgPSB0aGlzLl9HMjtcblxuXHR2YXIgbjAgPTAsIG4xID0gMCwgbjIgPSAwLCBnaTsgLy8gTm9pc2UgY29udHJpYnV0aW9ucyBmcm9tIHRoZSB0aHJlZSBjb3JuZXJzXG5cblx0Ly8gU2tldyB0aGUgaW5wdXQgc3BhY2UgdG8gZGV0ZXJtaW5lIHdoaWNoIHNpbXBsZXggY2VsbCB3ZSdyZSBpblxuXHR2YXIgcyA9ICh4aW4gKyB5aW4pICogdGhpcy5fRjI7IC8vIEhhaXJ5IGZhY3RvciBmb3IgMkRcblx0dmFyIGkgPSBNYXRoLmZsb29yKHhpbiArIHMpO1xuXHR2YXIgaiA9IE1hdGguZmxvb3IoeWluICsgcyk7XG5cdHZhciB0ID0gKGkgKyBqKSAqIEcyO1xuXHR2YXIgWDAgPSBpIC0gdDsgLy8gVW5za2V3IHRoZSBjZWxsIG9yaWdpbiBiYWNrIHRvICh4LHkpIHNwYWNlXG5cdHZhciBZMCA9IGogLSB0O1xuXHR2YXIgeDAgPSB4aW4gLSBYMDsgLy8gVGhlIHgseSBkaXN0YW5jZXMgZnJvbSB0aGUgY2VsbCBvcmlnaW5cblx0dmFyIHkwID0geWluIC0gWTA7XG5cblx0Ly8gRm9yIHRoZSAyRCBjYXNlLCB0aGUgc2ltcGxleCBzaGFwZSBpcyBhbiBlcXVpbGF0ZXJhbCB0cmlhbmdsZS5cblx0Ly8gRGV0ZXJtaW5lIHdoaWNoIHNpbXBsZXggd2UgYXJlIGluLlxuXHR2YXIgaTEsIGoxOyAvLyBPZmZzZXRzIGZvciBzZWNvbmQgKG1pZGRsZSkgY29ybmVyIG9mIHNpbXBsZXggaW4gKGksaikgY29vcmRzXG5cdGlmICh4MCA+IHkwKSB7XG5cdFx0aTEgPSAxO1xuXHRcdGoxID0gMDtcblx0fSBlbHNlIHsgLy8gbG93ZXIgdHJpYW5nbGUsIFhZIG9yZGVyOiAoMCwwKS0+KDEsMCktPigxLDEpXG5cdFx0aTEgPSAwO1xuXHRcdGoxID0gMTtcblx0fSAvLyB1cHBlciB0cmlhbmdsZSwgWVggb3JkZXI6ICgwLDApLT4oMCwxKS0+KDEsMSlcblxuXHQvLyBBIHN0ZXAgb2YgKDEsMCkgaW4gKGksaikgbWVhbnMgYSBzdGVwIG9mICgxLWMsLWMpIGluICh4LHkpLCBhbmRcblx0Ly8gYSBzdGVwIG9mICgwLDEpIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoLWMsMS1jKSBpbiAoeCx5KSwgd2hlcmVcblx0Ly8gYyA9ICgzLXNxcnQoMykpLzZcblx0dmFyIHgxID0geDAgLSBpMSArIEcyOyAvLyBPZmZzZXRzIGZvciBtaWRkbGUgY29ybmVyIGluICh4LHkpIHVuc2tld2VkIGNvb3Jkc1xuXHR2YXIgeTEgPSB5MCAtIGoxICsgRzI7XG5cdHZhciB4MiA9IHgwIC0gMSArIDIqRzI7IC8vIE9mZnNldHMgZm9yIGxhc3QgY29ybmVyIGluICh4LHkpIHVuc2tld2VkIGNvb3Jkc1xuXHR2YXIgeTIgPSB5MCAtIDEgKyAyKkcyO1xuXG5cdC8vIFdvcmsgb3V0IHRoZSBoYXNoZWQgZ3JhZGllbnQgaW5kaWNlcyBvZiB0aGUgdGhyZWUgc2ltcGxleCBjb3JuZXJzXG5cdHZhciBpaSA9IGkubW9kKGNvdW50KTtcblx0dmFyIGpqID0gai5tb2QoY291bnQpO1xuXG5cdC8vIENhbGN1bGF0ZSB0aGUgY29udHJpYnV0aW9uIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcblx0dmFyIHQwID0gMC41IC0geDAqeDAgLSB5MCp5MDtcblx0aWYgKHQwID49IDApIHtcblx0XHR0MCAqPSB0MDtcblx0XHRnaSA9IGluZGV4ZXNbaWkrcGVybXNbampdXTtcblx0XHR2YXIgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG5cdFx0bjAgPSB0MCAqIHQwICogKGdyYWRbMF0gKiB4MCArIGdyYWRbMV0gKiB5MCk7XG5cdH1cblx0XG5cdHZhciB0MSA9IDAuNSAtIHgxKngxIC0geTEqeTE7XG5cdGlmICh0MSA+PSAwKSB7XG5cdFx0dDEgKj0gdDE7XG5cdFx0Z2kgPSBpbmRleGVzW2lpK2kxK3Blcm1zW2pqK2oxXV07XG5cdFx0dmFyIGdyYWQgPSB0aGlzLl9ncmFkaWVudHNbZ2ldO1xuXHRcdG4xID0gdDEgKiB0MSAqIChncmFkWzBdICogeDEgKyBncmFkWzFdICogeTEpO1xuXHR9XG5cdFxuXHR2YXIgdDIgPSAwLjUgLSB4Mip4MiAtIHkyKnkyO1xuXHRpZiAodDIgPj0gMCkge1xuXHRcdHQyICo9IHQyO1xuXHRcdGdpID0gaW5kZXhlc1tpaSsxK3Blcm1zW2pqKzFdXTtcblx0XHR2YXIgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG5cdFx0bjIgPSB0MiAqIHQyICogKGdyYWRbMF0gKiB4MiArIGdyYWRbMV0gKiB5Mik7XG5cdH1cblxuXHQvLyBBZGQgY29udHJpYnV0aW9ucyBmcm9tIGVhY2ggY29ybmVyIHRvIGdldCB0aGUgZmluYWwgbm9pc2UgdmFsdWUuXG5cdC8vIFRoZSByZXN1bHQgaXMgc2NhbGVkIHRvIHJldHVybiB2YWx1ZXMgaW4gdGhlIGludGVydmFsIFstMSwxXS5cblx0cmV0dXJuIDcwICogKG4wICsgbjEgKyBuMik7XG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBGT1YgYWxnb3JpdGhtXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaWdodFBhc3Nlc0NhbGxiYWNrIERvZXMgdGhlIGxpZ2h0IHBhc3MgdGhyb3VnaCB4LHk/XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudG9wb2xvZ3k9OF0gNC82LzhcbiAqL1xuUk9ULkZPViA9IGZ1bmN0aW9uKGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0dGhpcy5fbGlnaHRQYXNzZXMgPSBsaWdodFBhc3Nlc0NhbGxiYWNrO1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHRvcG9sb2d5OiA4XG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG59O1xuXG4vKipcbiAqIENvbXB1dGUgdmlzaWJpbGl0eSBmb3IgYSAzNjAtZGVncmVlIGNpcmNsZVxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHt9XG5cbi8qKlxuICogUmV0dXJuIGFsbCBuZWlnaGJvcnMgaW4gYSBjb25jZW50cmljIHJpbmdcbiAqIEBwYXJhbSB7aW50fSBjeCBjZW50ZXIteFxuICogQHBhcmFtIHtpbnR9IGN5IGNlbnRlci15XG4gKiBAcGFyYW0ge2ludH0gciByYW5nZVxuICovXG5ST1QuRk9WLnByb3RvdHlwZS5fZ2V0Q2lyY2xlID0gZnVuY3Rpb24oY3gsIGN5LCByKSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0dmFyIGRpcnMsIGNvdW50RmFjdG9yLCBzdGFydE9mZnNldDtcblxuXHRzd2l0Y2ggKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kpIHtcblx0XHRjYXNlIDQ6XG5cdFx0XHRjb3VudEZhY3RvciA9IDE7XG5cdFx0XHRzdGFydE9mZnNldCA9IFswLCAxXTtcblx0XHRcdGRpcnMgPSBbXG5cdFx0XHRcdFJPVC5ESVJTWzhdWzddLFxuXHRcdFx0XHRST1QuRElSU1s4XVsxXSxcblx0XHRcdFx0Uk9ULkRJUlNbOF1bM10sXG5cdFx0XHRcdFJPVC5ESVJTWzhdWzVdXG5cdFx0XHRdXG5cdFx0YnJlYWs7XG5cblx0XHRjYXNlIDY6XG5cdFx0XHRkaXJzID0gUk9ULkRJUlNbNl07XG5cdFx0XHRjb3VudEZhY3RvciA9IDE7XG5cdFx0XHRzdGFydE9mZnNldCA9IFstMSwgMV07XG5cdFx0YnJlYWs7XG5cblx0XHRjYXNlIDg6XG5cdFx0XHRkaXJzID0gUk9ULkRJUlNbNF07XG5cdFx0XHRjb3VudEZhY3RvciA9IDI7XG5cdFx0XHRzdGFydE9mZnNldCA9IFstMSwgMV07XG5cdFx0YnJlYWs7XG5cdH1cblxuXHQvKiBzdGFydGluZyBuZWlnaGJvciAqL1xuXHR2YXIgeCA9IGN4ICsgc3RhcnRPZmZzZXRbMF0qcjtcblx0dmFyIHkgPSBjeSArIHN0YXJ0T2Zmc2V0WzFdKnI7XG5cblx0LyogY2lyY2xlICovXG5cdGZvciAodmFyIGk9MDtpPGRpcnMubGVuZ3RoO2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPHIqY291bnRGYWN0b3I7aisrKSB7XG5cdFx0XHRyZXN1bHQucHVzaChbeCwgeV0pO1xuXHRcdFx0eCArPSBkaXJzW2ldWzBdO1xuXHRcdFx0eSArPSBkaXJzW2ldWzFdO1xuXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQGNsYXNzIERpc2NyZXRlIHNoYWRvd2Nhc3RpbmcgYWxnb3JpdGhtLiBPYnNvbGV0ZWQgYnkgUHJlY2lzZSBzaGFkb3djYXN0aW5nLlxuICogQGF1Z21lbnRzIFJPVC5GT1ZcbiAqL1xuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcgPSBmdW5jdGlvbihsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5GT1YuY2FsbCh0aGlzLCBsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKTtcbn1cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nLmV4dGVuZChST1QuRk9WKTtcblxuLyoqXG4gKiBAc2VlIFJPVC5GT1YjY29tcHV0ZVxuICovXG5ST1QuRk9WLkRpc2NyZXRlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKHgsIHksIFIsIGNhbGxiYWNrKSB7XG5cdHZhciBjZW50ZXIgPSB0aGlzLl9jb29yZHM7XG5cdHZhciBtYXAgPSB0aGlzLl9tYXA7XG5cblx0LyogdGhpcyBwbGFjZSBpcyBhbHdheXMgdmlzaWJsZSAqL1xuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblxuXHQvKiBzdGFuZGluZyBpbiBhIGRhcmsgcGxhY2UuIEZJWE1FIGlzIHRoaXMgYSBnb29kIGlkZWE/ICAqL1xuXHRpZiAoIXRoaXMuX2xpZ2h0UGFzc2VzKHgsIHkpKSB7IHJldHVybjsgfVxuXHRcblx0Lyogc3RhcnQgYW5kIGVuZCBhbmdsZXMgKi9cblx0dmFyIERBVEEgPSBbXTtcblx0XG5cdHZhciBBLCBCLCBjeCwgY3ksIGJsb2NrcztcblxuXHQvKiBhbmFseXplIHN1cnJvdW5kaW5nIGNlbGxzIGluIGNvbmNlbnRyaWMgcmluZ3MsIHN0YXJ0aW5nIGZyb20gdGhlIGNlbnRlciAqL1xuXHRmb3IgKHZhciByPTE7IHI8PVI7IHIrKykge1xuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXRDaXJjbGUoeCwgeSwgcik7XG5cdFx0dmFyIGFuZ2xlID0gMzYwIC8gbmVpZ2hib3JzLmxlbmd0aDtcblxuXHRcdGZvciAodmFyIGk9MDtpPG5laWdoYm9ycy5sZW5ndGg7aSsrKSB7XG5cdFx0XHRjeCA9IG5laWdoYm9yc1tpXVswXTtcblx0XHRcdGN5ID0gbmVpZ2hib3JzW2ldWzFdO1xuXHRcdFx0QSA9IGFuZ2xlICogKGkgLSAwLjUpO1xuXHRcdFx0QiA9IEEgKyBhbmdsZTtcblx0XHRcdFxuXHRcdFx0YmxvY2tzID0gIXRoaXMuX2xpZ2h0UGFzc2VzKGN4LCBjeSk7XG5cdFx0XHRpZiAodGhpcy5fdmlzaWJsZUNvb3JkcyhNYXRoLmZsb29yKEEpLCBNYXRoLmNlaWwoQiksIGJsb2NrcywgREFUQSkpIHsgY2FsbGJhY2soY3gsIGN5LCByLCAxKTsgfVxuXHRcdFx0XG5cdFx0XHRpZiAoREFUQS5sZW5ndGggPT0gMiAmJiBEQVRBWzBdID09IDAgJiYgREFUQVsxXSA9PSAzNjApIHsgcmV0dXJuOyB9IC8qIGN1dG9mZj8gKi9cblxuXHRcdH0gLyogZm9yIGFsbCBjZWxscyBpbiB0aGlzIHJpbmcgKi9cblx0fSAvKiBmb3IgYWxsIHJpbmdzICovXG59XG5cbi8qKlxuICogQHBhcmFtIHtpbnR9IEEgc3RhcnQgYW5nbGVcbiAqIEBwYXJhbSB7aW50fSBCIGVuZCBhbmdsZVxuICogQHBhcmFtIHtib29sfSBibG9ja3MgRG9lcyBjdXJyZW50IGNlbGwgYmxvY2sgdmlzaWJpbGl0eT9cbiAqIEBwYXJhbSB7aW50W11bXX0gREFUQSBzaGFkb3dlZCBhbmdsZSBwYWlyc1xuICovXG5ST1QuRk9WLkRpc2NyZXRlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuX3Zpc2libGVDb29yZHMgPSBmdW5jdGlvbihBLCBCLCBibG9ja3MsIERBVEEpIHtcblx0aWYgKEEgPCAwKSB7IFxuXHRcdHZhciB2MSA9IGFyZ3VtZW50cy5jYWxsZWUoMCwgQiwgYmxvY2tzLCBEQVRBKTtcblx0XHR2YXIgdjIgPSBhcmd1bWVudHMuY2FsbGVlKDM2MCtBLCAzNjAsIGJsb2NrcywgREFUQSk7XG5cdFx0cmV0dXJuIHYxIHx8IHYyO1xuXHR9XG5cdFxuXHR2YXIgaW5kZXggPSAwO1xuXHR3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEEpIHsgaW5kZXgrKzsgfVxuXHRcblx0aWYgKGluZGV4ID09IERBVEEubGVuZ3RoKSB7IC8qIGNvbXBsZXRlbHkgbmV3IHNoYWRvdyAqL1xuXHRcdGlmIChibG9ja3MpIHsgREFUQS5wdXNoKEEsIEIpOyB9IFxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cdFxuXHR2YXIgY291bnQgPSAwO1xuXHRcblx0aWYgKGluZGV4ICUgMikgeyAvKiB0aGlzIHNoYWRvdyBzdGFydHMgaW4gYW4gZXhpc3Rpbmcgc2hhZG93LCBvciB3aXRoaW4gaXRzIGVuZGluZyBib3VuZGFyeSAqL1xuXHRcdHdoaWxlIChpbmRleCA8IERBVEEubGVuZ3RoICYmIERBVEFbaW5kZXhdIDwgQikge1xuXHRcdFx0aW5kZXgrKztcblx0XHRcdGNvdW50Kys7XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChjb3VudCA9PSAwKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmIChibG9ja3MpIHsgXG5cdFx0XHRpZiAoY291bnQgJSAyKSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCwgQik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHREQVRBLnNwbGljZShpbmRleC1jb3VudCwgY291bnQpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR9IGVsc2UgeyAvKiB0aGlzIHNoYWRvdyBzdGFydHMgb3V0c2lkZSBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdpdGhpbiBhIHN0YXJ0aW5nIGJvdW5kYXJ5ICovXG5cdFx0d2hpbGUgKGluZGV4IDwgREFUQS5sZW5ndGggJiYgREFUQVtpbmRleF0gPCBCKSB7XG5cdFx0XHRpbmRleCsrO1xuXHRcdFx0Y291bnQrKztcblx0XHR9XG5cdFx0XG5cdFx0LyogdmlzaWJsZSB3aGVuIG91dHNpZGUgYW4gZXhpc3Rpbmcgc2hhZG93LCBvciB3aGVuIG92ZXJsYXBwaW5nICovXG5cdFx0aWYgKEEgPT0gREFUQVtpbmRleC1jb3VudF0gJiYgY291bnQgPT0gMSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcblx0XHRpZiAoYmxvY2tzKSB7IFxuXHRcdFx0aWYgKGNvdW50ICUgMikge1xuXHRcdFx0XHREQVRBLnNwbGljZShpbmRleC1jb3VudCwgY291bnQsIEEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50LCBBLCBCKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XHRcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgUHJlY2lzZSBzaGFkb3djYXN0aW5nIGFsZ29yaXRobVxuICogQGF1Z21lbnRzIFJPVC5GT1ZcbiAqL1xuUk9ULkZPVi5QcmVjaXNlU2hhZG93Y2FzdGluZyA9IGZ1bmN0aW9uKGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULkZPVi5jYWxsKHRoaXMsIGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuUk9ULkZPVi5QcmVjaXNlU2hhZG93Y2FzdGluZy5leHRlbmQoUk9ULkZPVik7XG5cbi8qKlxuICogQHNlZSBST1QuRk9WI2NvbXB1dGVcbiAqL1xuUk9ULkZPVi5QcmVjaXNlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKHgsIHksIFIsIGNhbGxiYWNrKSB7XG5cdC8qIHRoaXMgcGxhY2UgaXMgYWx3YXlzIHZpc2libGUgKi9cblx0Y2FsbGJhY2soeCwgeSwgMCwgMSk7XG5cblx0Lyogc3RhbmRpbmcgaW4gYSBkYXJrIHBsYWNlLiBGSVhNRSBpcyB0aGlzIGEgZ29vZCBpZGVhPyAgKi9cblx0aWYgKCF0aGlzLl9saWdodFBhc3Nlcyh4LCB5KSkgeyByZXR1cm47IH1cblx0XG5cdC8qIGxpc3Qgb2YgYWxsIHNoYWRvd3MgKi9cblx0dmFyIFNIQURPV1MgPSBbXTtcblx0XG5cdHZhciBjeCwgY3ksIGJsb2NrcywgQTEsIEEyLCB2aXNpYmlsaXR5O1xuXG5cdC8qIGFuYWx5emUgc3Vycm91bmRpbmcgY2VsbHMgaW4gY29uY2VudHJpYyByaW5ncywgc3RhcnRpbmcgZnJvbSB0aGUgY2VudGVyICovXG5cdGZvciAodmFyIHI9MTsgcjw9UjsgcisrKSB7XG5cdFx0dmFyIG5laWdoYm9ycyA9IHRoaXMuX2dldENpcmNsZSh4LCB5LCByKTtcblx0XHR2YXIgbmVpZ2hib3JDb3VudCA9IG5laWdoYm9ycy5sZW5ndGg7XG5cblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvckNvdW50O2krKykge1xuXHRcdFx0Y3ggPSBuZWlnaGJvcnNbaV1bMF07XG5cdFx0XHRjeSA9IG5laWdoYm9yc1tpXVsxXTtcblx0XHRcdC8qIHNoaWZ0IGhhbGYtYW4tYW5nbGUgYmFja3dhcmRzIHRvIG1haW50YWluIGNvbnNpc3RlbmN5IG9mIDAtdGggY2VsbHMgKi9cblx0XHRcdEExID0gW2kgPyAyKmktMSA6IDIqbmVpZ2hib3JDb3VudC0xLCAyKm5laWdoYm9yQ291bnRdO1xuXHRcdFx0QTIgPSBbMippKzEsIDIqbmVpZ2hib3JDb3VudF07IFxuXHRcdFx0XG5cdFx0XHRibG9ja3MgPSAhdGhpcy5fbGlnaHRQYXNzZXMoY3gsIGN5KTtcblx0XHRcdHZpc2liaWxpdHkgPSB0aGlzLl9jaGVja1Zpc2liaWxpdHkoQTEsIEEyLCBibG9ja3MsIFNIQURPV1MpO1xuXHRcdFx0aWYgKHZpc2liaWxpdHkpIHsgY2FsbGJhY2soY3gsIGN5LCByLCB2aXNpYmlsaXR5KTsgfVxuXG5cdFx0XHRpZiAoU0hBRE9XUy5sZW5ndGggPT0gMiAmJiBTSEFET1dTWzBdWzBdID09IDAgJiYgU0hBRE9XU1sxXVswXSA9PSBTSEFET1dTWzFdWzFdKSB7IHJldHVybjsgfSAvKiBjdXRvZmY/ICovXG5cblx0XHR9IC8qIGZvciBhbGwgY2VsbHMgaW4gdGhpcyByaW5nICovXG5cdH0gLyogZm9yIGFsbCByaW5ncyAqL1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW50WzJdfSBBMSBhcmMgc3RhcnRcbiAqIEBwYXJhbSB7aW50WzJdfSBBMiBhcmMgZW5kXG4gKiBAcGFyYW0ge2Jvb2x9IGJsb2NrcyBEb2VzIGN1cnJlbnQgYXJjIGJsb2NrIHZpc2liaWxpdHk/XG4gKiBAcGFyYW0ge2ludFtdW119IFNIQURPV1MgbGlzdCBvZiBhY3RpdmUgc2hhZG93c1xuICovXG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fY2hlY2tWaXNpYmlsaXR5ID0gZnVuY3Rpb24oQTEsIEEyLCBibG9ja3MsIFNIQURPV1MpIHtcblx0aWYgKEExWzBdID4gQTJbMF0pIHsgLyogc3BsaXQgaW50byB0d28gc3ViLWFyY3MgKi9cblx0XHR2YXIgdjEgPSB0aGlzLl9jaGVja1Zpc2liaWxpdHkoQTEsIFtBMVsxXSwgQTFbMV1dLCBibG9ja3MsIFNIQURPV1MpO1xuXHRcdHZhciB2MiA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShbMCwgMV0sIEEyLCBibG9ja3MsIFNIQURPV1MpO1xuXHRcdHJldHVybiAodjErdjIpLzI7XG5cdH1cblxuXHQvKiBpbmRleDE6IGZpcnN0IHNoYWRvdyA+PSBBMSAqL1xuXHR2YXIgaW5kZXgxID0gMCwgZWRnZTEgPSBmYWxzZTtcblx0d2hpbGUgKGluZGV4MSA8IFNIQURPV1MubGVuZ3RoKSB7XG5cdFx0dmFyIG9sZCA9IFNIQURPV1NbaW5kZXgxXTtcblx0XHR2YXIgZGlmZiA9IG9sZFswXSpBMVsxXSAtIEExWzBdKm9sZFsxXTtcblx0XHRpZiAoZGlmZiA+PSAwKSB7IC8qIG9sZCA+PSBBMSAqL1xuXHRcdFx0aWYgKGRpZmYgPT0gMCAmJiAhKGluZGV4MSAlIDIpKSB7IGVkZ2UxID0gdHJ1ZTsgfVxuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGluZGV4MSsrO1xuXHR9XG5cblx0LyogaW5kZXgyOiBsYXN0IHNoYWRvdyA8PSBBMiAqL1xuXHR2YXIgaW5kZXgyID0gU0hBRE9XUy5sZW5ndGgsIGVkZ2UyID0gZmFsc2U7XG5cdHdoaWxlIChpbmRleDItLSkge1xuXHRcdHZhciBvbGQgPSBTSEFET1dTW2luZGV4Ml07XG5cdFx0dmFyIGRpZmYgPSBBMlswXSpvbGRbMV0gLSBvbGRbMF0qQTJbMV07XG5cdFx0aWYgKGRpZmYgPj0gMCkgeyAvKiBvbGQgPD0gQTIgKi9cblx0XHRcdGlmIChkaWZmID09IDAgJiYgKGluZGV4MiAlIDIpKSB7IGVkZ2UyID0gdHJ1ZTsgfVxuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0dmFyIHZpc2libGUgPSB0cnVlO1xuXHRpZiAoaW5kZXgxID09IGluZGV4MiAmJiAoZWRnZTEgfHwgZWRnZTIpKSB7ICAvKiBzdWJzZXQgb2YgZXhpc3Rpbmcgc2hhZG93LCBvbmUgb2YgdGhlIGVkZ2VzIG1hdGNoICovXG5cdFx0dmlzaWJsZSA9IGZhbHNlOyBcblx0fSBlbHNlIGlmIChlZGdlMSAmJiBlZGdlMiAmJiBpbmRleDErMT09aW5kZXgyICYmIChpbmRleDIgJSAyKSkgeyAvKiBjb21wbGV0ZWx5IGVxdWl2YWxlbnQgd2l0aCBleGlzdGluZyBzaGFkb3cgKi9cblx0XHR2aXNpYmxlID0gZmFsc2U7XG5cdH0gZWxzZSBpZiAoaW5kZXgxID4gaW5kZXgyICYmIChpbmRleDEgJSAyKSkgeyAvKiBzdWJzZXQgb2YgZXhpc3Rpbmcgc2hhZG93LCBub3QgdG91Y2hpbmcgKi9cblx0XHR2aXNpYmxlID0gZmFsc2U7XG5cdH1cblx0XG5cdGlmICghdmlzaWJsZSkgeyByZXR1cm4gMDsgfSAvKiBmYXN0IGNhc2U6IG5vdCB2aXNpYmxlICovXG5cdFxuXHR2YXIgdmlzaWJsZUxlbmd0aCwgUDtcblxuXHQvKiBjb21wdXRlIHRoZSBsZW5ndGggb2YgdmlzaWJsZSBhcmMsIGFkanVzdCBsaXN0IG9mIHNoYWRvd3MgKGlmIGJsb2NraW5nKSAqL1xuXHR2YXIgcmVtb3ZlID0gaW5kZXgyLWluZGV4MSsxO1xuXHRpZiAocmVtb3ZlICUgMikge1xuXHRcdGlmIChpbmRleDEgJSAyKSB7IC8qIGZpcnN0IGVkZ2Ugd2l0aGluIGV4aXN0aW5nIHNoYWRvdywgc2Vjb25kIG91dHNpZGUgKi9cblx0XHRcdHZhciBQID0gU0hBRE9XU1tpbmRleDFdO1xuXHRcdFx0dmlzaWJsZUxlbmd0aCA9IChBMlswXSpQWzFdIC0gUFswXSpBMlsxXSkgLyAoUFsxXSAqIEEyWzFdKTtcblx0XHRcdGlmIChibG9ja3MpIHsgU0hBRE9XUy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEEyKTsgfVxuXHRcdH0gZWxzZSB7IC8qIHNlY29uZCBlZGdlIHdpdGhpbiBleGlzdGluZyBzaGFkb3csIGZpcnN0IG91dHNpZGUgKi9cblx0XHRcdHZhciBQID0gU0hBRE9XU1tpbmRleDJdO1xuXHRcdFx0dmlzaWJsZUxlbmd0aCA9IChQWzBdKkExWzFdIC0gQTFbMF0qUFsxXSkgLyAoQTFbMV0gKiBQWzFdKTtcblx0XHRcdGlmIChibG9ja3MpIHsgU0hBRE9XUy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEExKTsgfVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRpZiAoaW5kZXgxICUgMikgeyAvKiBib3RoIGVkZ2VzIHdpdGhpbiBleGlzdGluZyBzaGFkb3dzICovXG5cdFx0XHR2YXIgUDEgPSBTSEFET1dTW2luZGV4MV07XG5cdFx0XHR2YXIgUDIgPSBTSEFET1dTW2luZGV4Ml07XG5cdFx0XHR2aXNpYmxlTGVuZ3RoID0gKFAyWzBdKlAxWzFdIC0gUDFbMF0qUDJbMV0pIC8gKFAxWzFdICogUDJbMV0pO1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSk7IH1cblx0XHR9IGVsc2UgeyAvKiBib3RoIGVkZ2VzIG91dHNpZGUgZXhpc3Rpbmcgc2hhZG93cyAqL1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTEsIEEyKTsgfVxuXHRcdFx0cmV0dXJuIDE7IC8qIHdob2xlIGFyYyB2aXNpYmxlISAqL1xuXHRcdH1cblx0fVxuXG5cdHZhciBhcmNMZW5ndGggPSAoQTJbMF0qQTFbMV0gLSBBMVswXSpBMlsxXSkgLyAoQTFbMV0gKiBBMlsxXSk7XG5cblx0cmV0dXJuIHZpc2libGVMZW5ndGgvYXJjTGVuZ3RoO1xufVxuLyoqXG4gKiBAY2xhc3MgUmVjdXJzaXZlIHNoYWRvd2Nhc3RpbmcgYWxnb3JpdGhtXG4gKiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyA0LzggdG9wb2xvZ2llcywgbm90IGhleGFnb25hbC5cbiAqIEJhc2VkIG9uIFBldGVyIEhhcmtpbnMnIGltcGxlbWVudGF0aW9uIG9mIEJqw7ZybiBCZXJnc3Ryw7ZtJ3MgYWxnb3JpdGhtIGRlc2NyaWJlZCBoZXJlOiBodHRwOi8vd3d3LnJvZ3VlYmFzaW4uY29tL2luZGV4LnBocD90aXRsZT1GT1ZfdXNpbmdfcmVjdXJzaXZlX3NoYWRvd2Nhc3RpbmdcbiAqIEBhdWdtZW50cyBST1QuRk9WXG4gKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZyA9IGZ1bmN0aW9uKGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULkZPVi5jYWxsKHRoaXMsIGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLmV4dGVuZChST1QuRk9WKTtcblxuLyoqIE9jdGFudHMgdXNlZCBmb3IgdHJhbnNsYXRpbmcgcmVjdXJzaXZlIHNoYWRvd2Nhc3Rpbmcgb2Zmc2V0cyAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFMgPSBbXG5cdFstMSwgIDAsICAwLCAgMV0sXG5cdFsgMCwgLTEsICAxLCAgMF0sXG5cdFsgMCwgLTEsIC0xLCAgMF0sXG5cdFstMSwgIDAsICAwLCAtMV0sXG5cdFsgMSwgIDAsICAwLCAtMV0sXG5cdFsgMCwgIDEsIC0xLCAgMF0sXG5cdFsgMCwgIDEsICAxLCAgMF0sXG5cdFsgMSwgIDAsICAwLCAgMV1cbl07XG5cbi8qKlxuICogQ29tcHV0ZSB2aXNpYmlsaXR5IGZvciBhIDM2MC1kZWdyZWUgY2lyY2xlXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKHgsIHksIFIsIGNhbGxiYWNrKSB7XG5cdC8vWW91IGNhbiBhbHdheXMgc2VlIHlvdXIgb3duIHRpbGVcblx0Y2FsbGJhY2soeCwgeSwgMCwgMSk7XG5cdGZvcih2YXIgaSA9IDA7IGkgPCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UUy5sZW5ndGg7IGkrKykge1xuXHRcdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tpXSwgUiwgY2FsbGJhY2spO1xuXHR9XG59XG5cbi8qKlxuICogQ29tcHV0ZSB2aXNpYmlsaXR5IGZvciBhIDE4MC1kZWdyZWUgYXJjXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7aW50fSBkaXIgRGlyZWN0aW9uIHRvIGxvb2sgaW4gKGV4cHJlc3NlZCBpbiBhIFJPVC5ESVJTIHZhbHVlKTtcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuY29tcHV0ZTE4MCA9IGZ1bmN0aW9uKHgsIHksIFIsIGRpciwgY2FsbGJhY2spIHtcblx0Ly9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblx0dmFyIHByZXZpb3VzT2N0YW50ID0gKGRpciAtIDEgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgMTgwIGRlZ3JlZXNcblx0dmFyIG5leHRQcmV2aW91c09jdGFudCA9IChkaXIgLSAyICsgOCkgJSA4OyAvL05lZWQgdG8gcmV0cmlldmUgdGhlIHByZXZpb3VzIHR3byBvY3RhbnRzIHRvIHJlbmRlciBhIGZ1bGwgMTgwIGRlZ3JlZXNcblx0dmFyIG5leHRPY3RhbnQgPSAoZGlyKyAxICsgOCkgJSA4OyAvL05lZWQgdG8gZ3JhYiB0byBuZXh0IG9jdGFudCB0byByZW5kZXIgYSBmdWxsIDE4MCBkZWdyZWVzXG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tuZXh0UHJldmlvdXNPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1twcmV2aW91c09jdGFudF0sIFIsIGNhbGxiYWNrKTtcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW2Rpcl0sIFIsIGNhbGxiYWNrKTtcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW25leHRPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogQ29tcHV0ZSB2aXNpYmlsaXR5IGZvciBhIDkwLWRlZ3JlZSBhcmNcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtpbnR9IGRpciBEaXJlY3Rpb24gdG8gbG9vayBpbiAoZXhwcmVzc2VkIGluIGEgUk9ULkRJUlMgdmFsdWUpO1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlOTAgPSBmdW5jdGlvbih4LCB5LCBSLCBkaXIsIGNhbGxiYWNrKSB7XG5cdC8vWW91IGNhbiBhbHdheXMgc2VlIHlvdXIgb3duIHRpbGVcblx0Y2FsbGJhY2soeCwgeSwgMCwgMSk7XG5cdHZhciBwcmV2aW91c09jdGFudCA9IChkaXIgLSAxICsgOCkgJSA4OyAvL05lZWQgdG8gcmV0cmlldmUgdGhlIHByZXZpb3VzIG9jdGFudCB0byByZW5kZXIgYSBmdWxsIDkwIGRlZ3JlZXNcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW2Rpcl0sIFIsIGNhbGxiYWNrKTtcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW3ByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIFJlbmRlciBvbmUgb2N0YW50ICg0NS1kZWdyZWUgYXJjKSBvZiB0aGUgdmlld3NoZWRcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IG9jdGFudCBPY3RhbnQgdG8gYmUgcmVuZGVyZWRcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuX3JlbmRlck9jdGFudCA9IGZ1bmN0aW9uKHgsIHksIG9jdGFudCwgUiwgY2FsbGJhY2spIHtcblx0Ly9SYWRpdXMgaW5jcmVtZW50ZWQgYnkgMSB0byBwcm92aWRlIHNhbWUgY292ZXJhZ2UgYXJlYSBhcyBvdGhlciBzaGFkb3djYXN0aW5nIHJhZGl1c2VzXG5cdHRoaXMuX2Nhc3RWaXNpYmlsaXR5KHgsIHksIDEsIDEuMCwgMC4wLCBSICsgMSwgb2N0YW50WzBdLCBvY3RhbnRbMV0sIG9jdGFudFsyXSwgb2N0YW50WzNdLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogQWN0dWFsbHkgY2FsY3VsYXRlcyB0aGUgdmlzaWJpbGl0eVxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WCBUaGUgc3RhcnRpbmcgWCBjb29yZGluYXRlXG4gKiBAcGFyYW0ge2ludH0gc3RhcnRZIFRoZSBzdGFydGluZyBZIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7aW50fSByb3cgVGhlIHJvdyB0byByZW5kZXJcbiAqIEBwYXJhbSB7ZmxvYXR9IHZpc1Nsb3BlU3RhcnQgVGhlIHNsb3BlIHRvIHN0YXJ0IGF0XG4gKiBAcGFyYW0ge2Zsb2F0fSB2aXNTbG9wZUVuZCBUaGUgc2xvcGUgdG8gZW5kIGF0XG4gKiBAcGFyYW0ge2ludH0gcmFkaXVzIFRoZSByYWRpdXMgdG8gcmVhY2ggb3V0IHRvXG4gKiBAcGFyYW0ge2ludH0geHggXG4gKiBAcGFyYW0ge2ludH0geHkgXG4gKiBAcGFyYW0ge2ludH0geXggXG4gKiBAcGFyYW0ge2ludH0geXkgXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gdXNlIHdoZW4gd2UgaGl0IGEgYmxvY2sgdGhhdCBpcyB2aXNpYmxlXG4gKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuX2Nhc3RWaXNpYmlsaXR5ID0gZnVuY3Rpb24oc3RhcnRYLCBzdGFydFksIHJvdywgdmlzU2xvcGVTdGFydCwgdmlzU2xvcGVFbmQsIHJhZGl1cywgeHgsIHh5LCB5eCwgeXksIGNhbGxiYWNrKSB7XG5cdGlmKHZpc1Nsb3BlU3RhcnQgPCB2aXNTbG9wZUVuZCkgeyByZXR1cm47IH1cblx0Zm9yKHZhciBpID0gcm93OyBpIDw9IHJhZGl1czsgaSsrKSB7XG5cdFx0dmFyIGR4ID0gLWkgLSAxO1xuXHRcdHZhciBkeSA9IC1pO1xuXHRcdHZhciBibG9ja2VkID0gZmFsc2U7XG5cdFx0dmFyIG5ld1N0YXJ0ID0gMDtcblxuXHRcdC8vJ1JvdycgY291bGQgYmUgY29sdW1uLCBuYW1lcyBoZXJlIGFzc3VtZSBvY3RhbnQgMCBhbmQgd291bGQgYmUgZmxpcHBlZCBmb3IgaGFsZiB0aGUgb2N0YW50c1xuXHRcdHdoaWxlKGR4IDw9IDApIHtcblx0XHRcdGR4ICs9IDE7XG5cblx0XHRcdC8vVHJhbnNsYXRlIGZyb20gcmVsYXRpdmUgY29vcmRpbmF0ZXMgdG8gbWFwIGNvb3JkaW5hdGVzXG5cdFx0XHR2YXIgbWFwWCA9IHN0YXJ0WCArIGR4ICogeHggKyBkeSAqIHh5O1xuXHRcdFx0dmFyIG1hcFkgPSBzdGFydFkgKyBkeCAqIHl4ICsgZHkgKiB5eTtcblxuXHRcdFx0Ly9SYW5nZSBvZiB0aGUgcm93XG5cdFx0XHR2YXIgc2xvcGVTdGFydCA9IChkeCAtIDAuNSkgLyAoZHkgKyAwLjUpO1xuXHRcdFx0dmFyIHNsb3BlRW5kID0gKGR4ICsgMC41KSAvIChkeSAtIDAuNSk7XG5cdFx0XG5cdFx0XHQvL0lnbm9yZSBpZiBub3QgeWV0IGF0IGxlZnQgZWRnZSBvZiBPY3RhbnRcblx0XHRcdGlmKHNsb3BlRW5kID4gdmlzU2xvcGVTdGFydCkgeyBjb250aW51ZTsgfVxuXHRcdFx0XG5cdFx0XHQvL0RvbmUgaWYgcGFzdCByaWdodCBlZGdlXG5cdFx0XHRpZihzbG9wZVN0YXJ0IDwgdmlzU2xvcGVFbmQpIHsgYnJlYWs7IH1cblx0XHRcdFx0XG5cdFx0XHQvL0lmIGl0J3MgaW4gcmFuZ2UsIGl0J3MgdmlzaWJsZVxuXHRcdFx0aWYoKGR4ICogZHggKyBkeSAqIGR5KSA8IChyYWRpdXMgKiByYWRpdXMpKSB7XG5cdFx0XHRcdGNhbGxiYWNrKG1hcFgsIG1hcFksIGksIDEpO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmKCFibG9ja2VkKSB7XG5cdFx0XHRcdC8vSWYgdGlsZSBpcyBhIGJsb2NraW5nIHRpbGUsIGNhc3QgYXJvdW5kIGl0XG5cdFx0XHRcdGlmKCF0aGlzLl9saWdodFBhc3NlcyhtYXBYLCBtYXBZKSAmJiBpIDwgcmFkaXVzKSB7XG5cdFx0XHRcdFx0YmxvY2tlZCA9IHRydWU7XG5cdFx0XHRcdFx0dGhpcy5fY2FzdFZpc2liaWxpdHkoc3RhcnRYLCBzdGFydFksIGkgKyAxLCB2aXNTbG9wZVN0YXJ0LCBzbG9wZVN0YXJ0LCByYWRpdXMsIHh4LCB4eSwgeXgsIHl5LCBjYWxsYmFjayk7XG5cdFx0XHRcdFx0bmV3U3RhcnQgPSBzbG9wZUVuZDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly9LZWVwIG5hcnJvd2luZyBpZiBzY2FubmluZyBhY3Jvc3MgYSBibG9ja1xuXHRcdFx0XHRpZighdGhpcy5fbGlnaHRQYXNzZXMobWFwWCwgbWFwWSkpIHtcblx0XHRcdFx0XHRuZXdTdGFydCA9IHNsb3BlRW5kO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHRcblx0XHRcdFx0Ly9CbG9jayBoYXMgZW5kZWRcblx0XHRcdFx0YmxvY2tlZCA9IGZhbHNlO1xuXHRcdFx0XHR2aXNTbG9wZVN0YXJ0ID0gbmV3U3RhcnQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmKGJsb2NrZWQpIHsgYnJlYWs7IH1cblx0fVxufVxuLyoqXG4gKiBAbmFtZXNwYWNlIENvbG9yIG9wZXJhdGlvbnNcbiAqL1xuUk9ULkNvbG9yID0ge1xuXHRmcm9tU3RyaW5nOiBmdW5jdGlvbihzdHIpIHtcblx0XHR2YXIgY2FjaGVkLCByO1xuXHRcdGlmIChzdHIgaW4gdGhpcy5fY2FjaGUpIHtcblx0XHRcdGNhY2hlZCA9IHRoaXMuX2NhY2hlW3N0cl07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChzdHIuY2hhckF0KDApID09IFwiI1wiKSB7IC8qIGhleCByZ2IgKi9cblxuXHRcdFx0XHR2YXIgdmFsdWVzID0gc3RyLm1hdGNoKC9bMC05YS1mXS9naSkubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHBhcnNlSW50KHgsIDE2KTsgfSk7XG5cdFx0XHRcdGlmICh2YWx1ZXMubGVuZ3RoID09IDMpIHtcblx0XHRcdFx0XHRjYWNoZWQgPSB2YWx1ZXMubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHgqMTc7IH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRcdFx0XHR2YWx1ZXNbaSsxXSArPSAxNip2YWx1ZXNbaV07XG5cdFx0XHRcdFx0XHR2YWx1ZXMuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYWNoZWQgPSB2YWx1ZXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIGlmICgociA9IHN0ci5tYXRjaCgvcmdiXFwoKFswLTksIF0rKVxcKS9pKSkpIHsgLyogZGVjaW1hbCByZ2IgKi9cblx0XHRcdFx0Y2FjaGVkID0gclsxXS5zcGxpdCgvXFxzKixcXHMqLykubWFwKGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHBhcnNlSW50KHgpOyB9KTtcblx0XHRcdH0gZWxzZSB7IC8qIGh0bWwgbmFtZSAqL1xuXHRcdFx0XHRjYWNoZWQgPSBbMCwgMCwgMF07XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2NhY2hlW3N0cl0gPSBjYWNoZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNhY2hlZC5zbGljZSgpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBBZGQgdHdvIG9yIG1vcmUgY29sb3JzXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0YWRkOiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuXHRcdHZhciByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0cmVzdWx0W2ldICs9IGFyZ3VtZW50c1tqXVtpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogQWRkIHR3byBvciBtb3JlIGNvbG9ycywgTU9ESUZJRVMgRklSU1QgQVJHVU1FTlRcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRhZGRfOiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRjb2xvcjFbaV0gKz0gYXJndW1lbnRzW2pdW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gY29sb3IxO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBNdWx0aXBseSAobWl4KSB0d28gb3IgbW9yZSBjb2xvcnNcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRtdWx0aXBseTogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHR2YXIgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MTtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdHJlc3VsdFtpXSAqPSBhcmd1bWVudHNbal1baV0gLyAyNTU7XG5cdFx0XHR9XG5cdFx0XHRyZXN1bHRbaV0gPSBNYXRoLnJvdW5kKHJlc3VsdFtpXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIE11bHRpcGx5IChtaXgpIHR3byBvciBtb3JlIGNvbG9ycywgTU9ESUZJRVMgRklSU1QgQVJHVU1FTlRcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRtdWx0aXBseV86IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MTtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdGNvbG9yMVtpXSAqPSBhcmd1bWVudHNbal1baV0gLyAyNTU7XG5cdFx0XHR9XG5cdFx0XHRjb2xvcjFbaV0gPSBNYXRoLnJvdW5kKGNvbG9yMVtpXSk7XG5cdFx0fVxuXHRcdHJldHVybiBjb2xvcjE7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEludGVycG9sYXRlIChibGVuZCkgdHdvIGNvbG9ycyB3aXRoIGEgZ2l2ZW4gZmFjdG9yXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHBhcmFtIHtmbG9hdH0gW2ZhY3Rvcj0wLjVdIDAuLjFcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0aW50ZXJwb2xhdGU6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCBmYWN0b3IpIHtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHsgZmFjdG9yID0gMC41OyB9XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRyZXN1bHRbaV0gPSBNYXRoLnJvdW5kKHJlc3VsdFtpXSArIGZhY3RvciooY29sb3IyW2ldLWNvbG9yMVtpXSkpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBJbnRlcnBvbGF0ZSAoYmxlbmQpIHR3byBjb2xvcnMgd2l0aCBhIGdpdmVuIGZhY3RvciBpbiBIU0wgbW9kZVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFtmYWN0b3I9MC41XSAwLi4xXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGludGVycG9sYXRlSFNMOiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgZmFjdG9yKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7IGZhY3RvciA9IDAuNTsgfVxuXHRcdHZhciBoc2wxID0gdGhpcy5yZ2IyaHNsKGNvbG9yMSk7XG5cdFx0dmFyIGhzbDIgPSB0aGlzLnJnYjJoc2woY29sb3IyKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0aHNsMVtpXSArPSBmYWN0b3IqKGhzbDJbaV0taHNsMVtpXSk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmhzbDJyZ2IoaHNsMSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIG5ldyByYW5kb20gY29sb3IgYmFzZWQgb24gdGhpcyBvbmVcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3Jcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gZGlmZiBTZXQgb2Ygc3RhbmRhcmQgZGV2aWF0aW9uc1xuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRyYW5kb21pemU6IGZ1bmN0aW9uKGNvbG9yLCBkaWZmKSB7XG5cdFx0aWYgKCEoZGlmZiBpbnN0YW5jZW9mIEFycmF5KSkgeyBkaWZmID0gTWF0aC5yb3VuZChST1QuUk5HLmdldE5vcm1hbCgwLCBkaWZmKSk7IH1cblx0XHR2YXIgcmVzdWx0ID0gY29sb3Iuc2xpY2UoKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0cmVzdWx0W2ldICs9IChkaWZmIGluc3RhbmNlb2YgQXJyYXkgPyBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0Tm9ybWFsKDAsIGRpZmZbaV0pKSA6IGRpZmYpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNMLiBFeHBlY3RzIDAuLjI1NSBpbnB1dHMsIHByb2R1Y2VzIDAuLjEgb3V0cHV0cy5cblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3Jcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0cmdiMmhzbDogZnVuY3Rpb24oY29sb3IpIHtcblx0XHR2YXIgciA9IGNvbG9yWzBdLzI1NTtcblx0XHR2YXIgZyA9IGNvbG9yWzFdLzI1NTtcblx0XHR2YXIgYiA9IGNvbG9yWzJdLzI1NTtcblxuXHRcdHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKSwgbWluID0gTWF0aC5taW4ociwgZywgYik7XG5cdFx0dmFyIGgsIHMsIGwgPSAobWF4ICsgbWluKSAvIDI7XG5cblx0XHRpZiAobWF4ID09IG1pbikge1xuXHRcdFx0aCA9IHMgPSAwOyAvLyBhY2hyb21hdGljXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBkID0gbWF4IC0gbWluO1xuXHRcdFx0cyA9IChsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKSk7XG5cdFx0XHRzd2l0Y2gobWF4KSB7XG5cdFx0XHRcdGNhc2UgcjogaCA9IChnIC0gYikgLyBkICsgKGcgPCBiID8gNiA6IDApOyBicmVhaztcblx0XHRcdFx0Y2FzZSBnOiBoID0gKGIgLSByKSAvIGQgKyAyOyBicmVhaztcblx0XHRcdFx0Y2FzZSBiOiBoID0gKHIgLSBnKSAvIGQgKyA0OyBicmVhaztcblx0XHRcdH1cblx0XHRcdGggLz0gNjtcblx0XHR9XG5cblx0XHRyZXR1cm4gW2gsIHMsIGxdO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhbiBIU0wgY29sb3IgdmFsdWUgdG8gUkdCLiBFeHBlY3RzIDAuLjEgaW5wdXRzLCBwcm9kdWNlcyAwLi4yNTUgb3V0cHV0cy5cblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3Jcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0aHNsMnJnYjogZnVuY3Rpb24oY29sb3IpIHtcblx0XHR2YXIgbCA9IGNvbG9yWzJdO1xuXG5cdFx0aWYgKGNvbG9yWzFdID09IDApIHtcblx0XHRcdGwgPSBNYXRoLnJvdW5kKGwqMjU1KTtcblx0XHRcdHJldHVybiBbbCwgbCwgbF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBodWUycmdiID0gZnVuY3Rpb24ocCwgcSwgdCkge1xuXHRcdFx0XHRpZiAodCA8IDApIHQgKz0gMTtcblx0XHRcdFx0aWYgKHQgPiAxKSB0IC09IDE7XG5cdFx0XHRcdGlmICh0IDwgMS82KSByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcblx0XHRcdFx0aWYgKHQgPCAxLzIpIHJldHVybiBxO1xuXHRcdFx0XHRpZiAodCA8IDIvMykgcmV0dXJuIHAgKyAocSAtIHApICogKDIvMyAtIHQpICogNjtcblx0XHRcdFx0cmV0dXJuIHA7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzID0gY29sb3JbMV07XG5cdFx0XHR2YXIgcSA9IChsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzKTtcblx0XHRcdHZhciBwID0gMiAqIGwgLSBxO1xuXHRcdFx0dmFyIHIgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdICsgMS8zKTtcblx0XHRcdHZhciBnID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSk7XG5cdFx0XHR2YXIgYiA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0gLSAxLzMpO1xuXHRcdFx0cmV0dXJuIFtNYXRoLnJvdW5kKHIqMjU1KSwgTWF0aC5yb3VuZChnKjI1NSksIE1hdGgucm91bmQoYioyNTUpXTtcblx0XHR9XG5cdH0sXG5cblx0dG9SR0I6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0cmV0dXJuIFwicmdiKFwiICsgdGhpcy5fY2xhbXAoY29sb3JbMF0pICsgXCIsXCIgKyB0aGlzLl9jbGFtcChjb2xvclsxXSkgKyBcIixcIiArIHRoaXMuX2NsYW1wKGNvbG9yWzJdKSArIFwiKVwiO1xuXHR9LFxuXG5cdHRvSGV4OiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHZhciBwYXJ0cyA9IFtdO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRwYXJ0cy5wdXNoKHRoaXMuX2NsYW1wKGNvbG9yW2ldKS50b1N0cmluZygxNikubHBhZChcIjBcIiwgMikpO1xuXHRcdH1cblx0XHRyZXR1cm4gXCIjXCIgKyBwYXJ0cy5qb2luKFwiXCIpO1xuXHR9LFxuXG5cdF9jbGFtcDogZnVuY3Rpb24obnVtKSB7XG5cdFx0aWYgKG51bSA8IDApIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH0gZWxzZSBpZiAobnVtID4gMjU1KSB7XG5cdFx0XHRyZXR1cm4gMjU1O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gbnVtO1xuXHRcdH1cblx0fSxcblxuXHRfY2FjaGU6IHtcblx0XHRcImJsYWNrXCI6IFswLDAsMF0sXG5cdFx0XCJuYXZ5XCI6IFswLDAsMTI4XSxcblx0XHRcImRhcmtibHVlXCI6IFswLDAsMTM5XSxcblx0XHRcIm1lZGl1bWJsdWVcIjogWzAsMCwyMDVdLFxuXHRcdFwiYmx1ZVwiOiBbMCwwLDI1NV0sXG5cdFx0XCJkYXJrZ3JlZW5cIjogWzAsMTAwLDBdLFxuXHRcdFwiZ3JlZW5cIjogWzAsMTI4LDBdLFxuXHRcdFwidGVhbFwiOiBbMCwxMjgsMTI4XSxcblx0XHRcImRhcmtjeWFuXCI6IFswLDEzOSwxMzldLFxuXHRcdFwiZGVlcHNreWJsdWVcIjogWzAsMTkxLDI1NV0sXG5cdFx0XCJkYXJrdHVycXVvaXNlXCI6IFswLDIwNiwyMDldLFxuXHRcdFwibWVkaXVtc3ByaW5nZ3JlZW5cIjogWzAsMjUwLDE1NF0sXG5cdFx0XCJsaW1lXCI6IFswLDI1NSwwXSxcblx0XHRcInNwcmluZ2dyZWVuXCI6IFswLDI1NSwxMjddLFxuXHRcdFwiYXF1YVwiOiBbMCwyNTUsMjU1XSxcblx0XHRcImN5YW5cIjogWzAsMjU1LDI1NV0sXG5cdFx0XCJtaWRuaWdodGJsdWVcIjogWzI1LDI1LDExMl0sXG5cdFx0XCJkb2RnZXJibHVlXCI6IFszMCwxNDQsMjU1XSxcblx0XHRcImZvcmVzdGdyZWVuXCI6IFszNCwxMzksMzRdLFxuXHRcdFwic2VhZ3JlZW5cIjogWzQ2LDEzOSw4N10sXG5cdFx0XCJkYXJrc2xhdGVncmF5XCI6IFs0Nyw3OSw3OV0sXG5cdFx0XCJkYXJrc2xhdGVncmV5XCI6IFs0Nyw3OSw3OV0sXG5cdFx0XCJsaW1lZ3JlZW5cIjogWzUwLDIwNSw1MF0sXG5cdFx0XCJtZWRpdW1zZWFncmVlblwiOiBbNjAsMTc5LDExM10sXG5cdFx0XCJ0dXJxdW9pc2VcIjogWzY0LDIyNCwyMDhdLFxuXHRcdFwicm95YWxibHVlXCI6IFs2NSwxMDUsMjI1XSxcblx0XHRcInN0ZWVsYmx1ZVwiOiBbNzAsMTMwLDE4MF0sXG5cdFx0XCJkYXJrc2xhdGVibHVlXCI6IFs3Miw2MSwxMzldLFxuXHRcdFwibWVkaXVtdHVycXVvaXNlXCI6IFs3MiwyMDksMjA0XSxcblx0XHRcImluZGlnb1wiOiBbNzUsMCwxMzBdLFxuXHRcdFwiZGFya29saXZlZ3JlZW5cIjogWzg1LDEwNyw0N10sXG5cdFx0XCJjYWRldGJsdWVcIjogWzk1LDE1OCwxNjBdLFxuXHRcdFwiY29ybmZsb3dlcmJsdWVcIjogWzEwMCwxNDksMjM3XSxcblx0XHRcIm1lZGl1bWFxdWFtYXJpbmVcIjogWzEwMiwyMDUsMTcwXSxcblx0XHRcImRpbWdyYXlcIjogWzEwNSwxMDUsMTA1XSxcblx0XHRcImRpbWdyZXlcIjogWzEwNSwxMDUsMTA1XSxcblx0XHRcInNsYXRlYmx1ZVwiOiBbMTA2LDkwLDIwNV0sXG5cdFx0XCJvbGl2ZWRyYWJcIjogWzEwNywxNDIsMzVdLFxuXHRcdFwic2xhdGVncmF5XCI6IFsxMTIsMTI4LDE0NF0sXG5cdFx0XCJzbGF0ZWdyZXlcIjogWzExMiwxMjgsMTQ0XSxcblx0XHRcImxpZ2h0c2xhdGVncmF5XCI6IFsxMTksMTM2LDE1M10sXG5cdFx0XCJsaWdodHNsYXRlZ3JleVwiOiBbMTE5LDEzNiwxNTNdLFxuXHRcdFwibWVkaXVtc2xhdGVibHVlXCI6IFsxMjMsMTA0LDIzOF0sXG5cdFx0XCJsYXduZ3JlZW5cIjogWzEyNCwyNTIsMF0sXG5cdFx0XCJjaGFydHJldXNlXCI6IFsxMjcsMjU1LDBdLFxuXHRcdFwiYXF1YW1hcmluZVwiOiBbMTI3LDI1NSwyMTJdLFxuXHRcdFwibWFyb29uXCI6IFsxMjgsMCwwXSxcblx0XHRcInB1cnBsZVwiOiBbMTI4LDAsMTI4XSxcblx0XHRcIm9saXZlXCI6IFsxMjgsMTI4LDBdLFxuXHRcdFwiZ3JheVwiOiBbMTI4LDEyOCwxMjhdLFxuXHRcdFwiZ3JleVwiOiBbMTI4LDEyOCwxMjhdLFxuXHRcdFwic2t5Ymx1ZVwiOiBbMTM1LDIwNiwyMzVdLFxuXHRcdFwibGlnaHRza3libHVlXCI6IFsxMzUsMjA2LDI1MF0sXG5cdFx0XCJibHVldmlvbGV0XCI6IFsxMzgsNDMsMjI2XSxcblx0XHRcImRhcmtyZWRcIjogWzEzOSwwLDBdLFxuXHRcdFwiZGFya21hZ2VudGFcIjogWzEzOSwwLDEzOV0sXG5cdFx0XCJzYWRkbGVicm93blwiOiBbMTM5LDY5LDE5XSxcblx0XHRcImRhcmtzZWFncmVlblwiOiBbMTQzLDE4OCwxNDNdLFxuXHRcdFwibGlnaHRncmVlblwiOiBbMTQ0LDIzOCwxNDRdLFxuXHRcdFwibWVkaXVtcHVycGxlXCI6IFsxNDcsMTEyLDIxNl0sXG5cdFx0XCJkYXJrdmlvbGV0XCI6IFsxNDgsMCwyMTFdLFxuXHRcdFwicGFsZWdyZWVuXCI6IFsxNTIsMjUxLDE1Ml0sXG5cdFx0XCJkYXJrb3JjaGlkXCI6IFsxNTMsNTAsMjA0XSxcblx0XHRcInllbGxvd2dyZWVuXCI6IFsxNTQsMjA1LDUwXSxcblx0XHRcInNpZW5uYVwiOiBbMTYwLDgyLDQ1XSxcblx0XHRcImJyb3duXCI6IFsxNjUsNDIsNDJdLFxuXHRcdFwiZGFya2dyYXlcIjogWzE2OSwxNjksMTY5XSxcblx0XHRcImRhcmtncmV5XCI6IFsxNjksMTY5LDE2OV0sXG5cdFx0XCJsaWdodGJsdWVcIjogWzE3MywyMTYsMjMwXSxcblx0XHRcImdyZWVueWVsbG93XCI6IFsxNzMsMjU1LDQ3XSxcblx0XHRcInBhbGV0dXJxdW9pc2VcIjogWzE3NSwyMzgsMjM4XSxcblx0XHRcImxpZ2h0c3RlZWxibHVlXCI6IFsxNzYsMTk2LDIyMl0sXG5cdFx0XCJwb3dkZXJibHVlXCI6IFsxNzYsMjI0LDIzMF0sXG5cdFx0XCJmaXJlYnJpY2tcIjogWzE3OCwzNCwzNF0sXG5cdFx0XCJkYXJrZ29sZGVucm9kXCI6IFsxODQsMTM0LDExXSxcblx0XHRcIm1lZGl1bW9yY2hpZFwiOiBbMTg2LDg1LDIxMV0sXG5cdFx0XCJyb3N5YnJvd25cIjogWzE4OCwxNDMsMTQzXSxcblx0XHRcImRhcmtraGFraVwiOiBbMTg5LDE4MywxMDddLFxuXHRcdFwic2lsdmVyXCI6IFsxOTIsMTkyLDE5Ml0sXG5cdFx0XCJtZWRpdW12aW9sZXRyZWRcIjogWzE5OSwyMSwxMzNdLFxuXHRcdFwiaW5kaWFucmVkXCI6IFsyMDUsOTIsOTJdLFxuXHRcdFwicGVydVwiOiBbMjA1LDEzMyw2M10sXG5cdFx0XCJjaG9jb2xhdGVcIjogWzIxMCwxMDUsMzBdLFxuXHRcdFwidGFuXCI6IFsyMTAsMTgwLDE0MF0sXG5cdFx0XCJsaWdodGdyYXlcIjogWzIxMSwyMTEsMjExXSxcblx0XHRcImxpZ2h0Z3JleVwiOiBbMjExLDIxMSwyMTFdLFxuXHRcdFwicGFsZXZpb2xldHJlZFwiOiBbMjE2LDExMiwxNDddLFxuXHRcdFwidGhpc3RsZVwiOiBbMjE2LDE5MSwyMTZdLFxuXHRcdFwib3JjaGlkXCI6IFsyMTgsMTEyLDIxNF0sXG5cdFx0XCJnb2xkZW5yb2RcIjogWzIxOCwxNjUsMzJdLFxuXHRcdFwiY3JpbXNvblwiOiBbMjIwLDIwLDYwXSxcblx0XHRcImdhaW5zYm9yb1wiOiBbMjIwLDIyMCwyMjBdLFxuXHRcdFwicGx1bVwiOiBbMjIxLDE2MCwyMjFdLFxuXHRcdFwiYnVybHl3b29kXCI6IFsyMjIsMTg0LDEzNV0sXG5cdFx0XCJsaWdodGN5YW5cIjogWzIyNCwyNTUsMjU1XSxcblx0XHRcImxhdmVuZGVyXCI6IFsyMzAsMjMwLDI1MF0sXG5cdFx0XCJkYXJrc2FsbW9uXCI6IFsyMzMsMTUwLDEyMl0sXG5cdFx0XCJ2aW9sZXRcIjogWzIzOCwxMzAsMjM4XSxcblx0XHRcInBhbGVnb2xkZW5yb2RcIjogWzIzOCwyMzIsMTcwXSxcblx0XHRcImxpZ2h0Y29yYWxcIjogWzI0MCwxMjgsMTI4XSxcblx0XHRcImtoYWtpXCI6IFsyNDAsMjMwLDE0MF0sXG5cdFx0XCJhbGljZWJsdWVcIjogWzI0MCwyNDgsMjU1XSxcblx0XHRcImhvbmV5ZGV3XCI6IFsyNDAsMjU1LDI0MF0sXG5cdFx0XCJhenVyZVwiOiBbMjQwLDI1NSwyNTVdLFxuXHRcdFwic2FuZHlicm93blwiOiBbMjQ0LDE2NCw5Nl0sXG5cdFx0XCJ3aGVhdFwiOiBbMjQ1LDIyMiwxNzldLFxuXHRcdFwiYmVpZ2VcIjogWzI0NSwyNDUsMjIwXSxcblx0XHRcIndoaXRlc21va2VcIjogWzI0NSwyNDUsMjQ1XSxcblx0XHRcIm1pbnRjcmVhbVwiOiBbMjQ1LDI1NSwyNTBdLFxuXHRcdFwiZ2hvc3R3aGl0ZVwiOiBbMjQ4LDI0OCwyNTVdLFxuXHRcdFwic2FsbW9uXCI6IFsyNTAsMTI4LDExNF0sXG5cdFx0XCJhbnRpcXVld2hpdGVcIjogWzI1MCwyMzUsMjE1XSxcblx0XHRcImxpbmVuXCI6IFsyNTAsMjQwLDIzMF0sXG5cdFx0XCJsaWdodGdvbGRlbnJvZHllbGxvd1wiOiBbMjUwLDI1MCwyMTBdLFxuXHRcdFwib2xkbGFjZVwiOiBbMjUzLDI0NSwyMzBdLFxuXHRcdFwicmVkXCI6IFsyNTUsMCwwXSxcblx0XHRcImZ1Y2hzaWFcIjogWzI1NSwwLDI1NV0sXG5cdFx0XCJtYWdlbnRhXCI6IFsyNTUsMCwyNTVdLFxuXHRcdFwiZGVlcHBpbmtcIjogWzI1NSwyMCwxNDddLFxuXHRcdFwib3JhbmdlcmVkXCI6IFsyNTUsNjksMF0sXG5cdFx0XCJ0b21hdG9cIjogWzI1NSw5OSw3MV0sXG5cdFx0XCJob3RwaW5rXCI6IFsyNTUsMTA1LDE4MF0sXG5cdFx0XCJjb3JhbFwiOiBbMjU1LDEyNyw4MF0sXG5cdFx0XCJkYXJrb3JhbmdlXCI6IFsyNTUsMTQwLDBdLFxuXHRcdFwibGlnaHRzYWxtb25cIjogWzI1NSwxNjAsMTIyXSxcblx0XHRcIm9yYW5nZVwiOiBbMjU1LDE2NSwwXSxcblx0XHRcImxpZ2h0cGlua1wiOiBbMjU1LDE4MiwxOTNdLFxuXHRcdFwicGlua1wiOiBbMjU1LDE5MiwyMDNdLFxuXHRcdFwiZ29sZFwiOiBbMjU1LDIxNSwwXSxcblx0XHRcInBlYWNocHVmZlwiOiBbMjU1LDIxOCwxODVdLFxuXHRcdFwibmF2YWpvd2hpdGVcIjogWzI1NSwyMjIsMTczXSxcblx0XHRcIm1vY2Nhc2luXCI6IFsyNTUsMjI4LDE4MV0sXG5cdFx0XCJiaXNxdWVcIjogWzI1NSwyMjgsMTk2XSxcblx0XHRcIm1pc3R5cm9zZVwiOiBbMjU1LDIyOCwyMjVdLFxuXHRcdFwiYmxhbmNoZWRhbG1vbmRcIjogWzI1NSwyMzUsMjA1XSxcblx0XHRcInBhcGF5YXdoaXBcIjogWzI1NSwyMzksMjEzXSxcblx0XHRcImxhdmVuZGVyYmx1c2hcIjogWzI1NSwyNDAsMjQ1XSxcblx0XHRcInNlYXNoZWxsXCI6IFsyNTUsMjQ1LDIzOF0sXG5cdFx0XCJjb3Juc2lsa1wiOiBbMjU1LDI0OCwyMjBdLFxuXHRcdFwibGVtb25jaGlmZm9uXCI6IFsyNTUsMjUwLDIwNV0sXG5cdFx0XCJmbG9yYWx3aGl0ZVwiOiBbMjU1LDI1MCwyNDBdLFxuXHRcdFwic25vd1wiOiBbMjU1LDI1MCwyNTBdLFxuXHRcdFwieWVsbG93XCI6IFsyNTUsMjU1LDBdLFxuXHRcdFwibGlnaHR5ZWxsb3dcIjogWzI1NSwyNTUsMjI0XSxcblx0XHRcIml2b3J5XCI6IFsyNTUsMjU1LDI0MF0sXG5cdFx0XCJ3aGl0ZVwiOiBbMjU1LDI1NSwyNTVdXG5cdH1cbn1cbi8qKlxuICogQGNsYXNzIExpZ2h0aW5nIGNvbXB1dGF0aW9uLCBiYXNlZCBvbiBhIHRyYWRpdGlvbmFsIEZPViBmb3IgbXVsdGlwbGUgbGlnaHQgc291cmNlcyBhbmQgbXVsdGlwbGUgcGFzc2VzLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcmVmbGVjdGl2aXR5Q2FsbGJhY2sgQ2FsbGJhY2sgdG8gcmV0cmlldmUgY2VsbCByZWZsZWN0aXZpdHkgKDAuLjEpXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucGFzc2VzPTFdIE51bWJlciBvZiBwYXNzZXMuIDEgZXF1YWxzIHRvIHNpbXBsZSBGT1Ygb2YgYWxsIGxpZ2h0IHNvdXJjZXMsID4xIG1lYW5zIGEgKmhpZ2hseSBzaW1wbGlmaWVkKiByYWRpb3NpdHktbGlrZSBhbGdvcml0aG0uXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMuZW1pc3Npb25UaHJlc2hvbGQ9MTAwXSBDZWxscyB3aXRoIGVtaXNzaXZpdHkgPiB0aHJlc2hvbGQgd2lsbCBiZSB0cmVhdGVkIGFzIGxpZ2h0IHNvdXJjZSBpbiB0aGUgbmV4dCBwYXNzLlxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnJhbmdlPTEwXSBNYXggbGlnaHQgcmFuZ2VcbiAqL1xuUk9ULkxpZ2h0aW5nID0gZnVuY3Rpb24ocmVmbGVjdGl2aXR5Q2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0dGhpcy5fcmVmbGVjdGl2aXR5Q2FsbGJhY2sgPSByZWZsZWN0aXZpdHlDYWxsYmFjaztcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRwYXNzZXM6IDEsXG5cdFx0ZW1pc3Npb25UaHJlc2hvbGQ6IDEwMCxcblx0XHRyYW5nZTogMTBcblx0fTtcblx0dGhpcy5fZm92ID0gbnVsbDtcblxuXHR0aGlzLl9saWdodHMgPSB7fTtcblx0dGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGUgPSB7fTtcblx0dGhpcy5fZm92Q2FjaGUgPSB7fTtcblxuXHR0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG59XG5cbi8qKlxuICogQWRqdXN0IG9wdGlvbnMgYXQgcnVudGltZVxuICogQHNlZSBST1QuTGlnaHRpbmdcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0aWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5yYW5nZSkgeyB0aGlzLnJlc2V0KCk7IH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogU2V0IHRoZSB1c2VkIEZpZWxkLU9mLVZpZXcgYWxnb1xuICogQHBhcmFtIHtST1QuRk9WfSBmb3ZcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5zZXRGT1YgPSBmdW5jdGlvbihmb3YpIHtcblx0dGhpcy5fZm92ID0gZm92O1xuXHR0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBTZXQgKG9yIHJlbW92ZSkgYSBsaWdodCBzb3VyY2VcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtudWxsIHx8IHN0cmluZyB8fCBudW1iZXJbM119IGNvbG9yXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuc2V0TGlnaHQgPSBmdW5jdGlvbih4LCB5LCBjb2xvcikge1xuXHR2YXIga2V5ID0geCtcIixcIit5O1xuXG5cdGlmIChjb2xvcikge1xuXHRcdHRoaXMuX2xpZ2h0c1trZXldID0gKHR5cGVvZihjb2xvcikgPT0gXCJzdHJpbmdcIiA/IFJPVC5Db2xvci5mcm9tU3RyaW5nKGNvbG9yKSA6IGNvbG9yKTtcblx0fSBlbHNlIHtcblx0XHRkZWxldGUgdGhpcy5fbGlnaHRzW2tleV07XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsaWdodCBzb3VyY2VzXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuY2xlYXJMaWdodHMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9saWdodHMgPSB7fTtcbn1cblxuLyoqXG4gKiBSZXNldCB0aGUgcHJlLWNvbXB1dGVkIHRvcG9sb2d5IHZhbHVlcy4gQ2FsbCB3aGVuZXZlciB0aGUgdW5kZXJseWluZyBtYXAgY2hhbmdlcyBpdHMgbGlnaHQtcGFzc2FiaWxpdHkuXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGUgPSB7fTtcblx0dGhpcy5fZm92Q2FjaGUgPSB7fTtcblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBsaWdodGluZ1xuICogQHBhcmFtIHtmdW5jdGlvbn0gbGlnaHRpbmdDYWxsYmFjayBXaWxsIGJlIGNhbGxlZCB3aXRoICh4LCB5LCBjb2xvcikgZm9yIGV2ZXJ5IGxpdCBjZWxsXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKGxpZ2h0aW5nQ2FsbGJhY2spIHtcblx0dmFyIGRvbmVDZWxscyA9IHt9O1xuXHR2YXIgZW1pdHRpbmdDZWxscyA9IHt9O1xuXHR2YXIgbGl0Q2VsbHMgPSB7fTtcblxuXHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fbGlnaHRzKSB7IC8qIHByZXBhcmUgZW1pdHRlcnMgZm9yIGZpcnN0IHBhc3MgKi9cblx0XHR2YXIgbGlnaHQgPSB0aGlzLl9saWdodHNba2V5XTtcblx0XHRlbWl0dGluZ0NlbGxzW2tleV0gPSBbMCwgMCwgMF07XG5cdFx0Uk9ULkNvbG9yLmFkZF8oZW1pdHRpbmdDZWxsc1trZXldLCBsaWdodCk7XG5cdH1cblxuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9vcHRpb25zLnBhc3NlcztpKyspIHsgLyogbWFpbiBsb29wICovXG5cdFx0dGhpcy5fZW1pdExpZ2h0KGVtaXR0aW5nQ2VsbHMsIGxpdENlbGxzLCBkb25lQ2VsbHMpO1xuXHRcdGlmIChpKzEgPT0gdGhpcy5fb3B0aW9ucy5wYXNzZXMpIHsgY29udGludWU7IH0gLyogbm90IGZvciB0aGUgbGFzdCBwYXNzICovXG5cdFx0ZW1pdHRpbmdDZWxscyA9IHRoaXMuX2NvbXB1dGVFbWl0dGVycyhsaXRDZWxscywgZG9uZUNlbGxzKTtcblx0fVxuXG5cdGZvciAodmFyIGxpdEtleSBpbiBsaXRDZWxscykgeyAvKiBsZXQgdGhlIHVzZXIga25vdyB3aGF0IGFuZCBob3cgaXMgbGl0ICovXG5cdFx0dmFyIHBhcnRzID0gbGl0S2V5LnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHRsaWdodGluZ0NhbGxiYWNrKHgsIHksIGxpdENlbGxzW2xpdEtleV0pO1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZSBvbmUgaXRlcmF0aW9uIGZyb20gYWxsIGVtaXR0aW5nIGNlbGxzXG4gKiBAcGFyYW0ge29iamVjdH0gZW1pdHRpbmdDZWxscyBUaGVzZSBlbWl0IGxpZ2h0XG4gKiBAcGFyYW0ge29iamVjdH0gbGl0Q2VsbHMgQWRkIHByb2plY3RlZCBsaWdodCB0byB0aGVzZVxuICogQHBhcmFtIHtvYmplY3R9IGRvbmVDZWxscyBUaGVzZSBhbHJlYWR5IGVtaXR0ZWQsIGZvcmJpZCB0aGVtIGZyb20gZnVydGhlciBjYWxjdWxhdGlvbnNcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5fZW1pdExpZ2h0ID0gZnVuY3Rpb24oZW1pdHRpbmdDZWxscywgbGl0Q2VsbHMsIGRvbmVDZWxscykge1xuXHRmb3IgKHZhciBrZXkgaW4gZW1pdHRpbmdDZWxscykge1xuXHRcdHZhciBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG5cdFx0dmFyIHggPSBwYXJzZUludChwYXJ0c1swXSk7XG5cdFx0dmFyIHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG5cdFx0dGhpcy5fZW1pdExpZ2h0RnJvbUNlbGwoeCwgeSwgZW1pdHRpbmdDZWxsc1trZXldLCBsaXRDZWxscyk7XG5cdFx0ZG9uZUNlbGxzW2tleV0gPSAxO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFByZXBhcmUgYSBsaXN0IG9mIGVtaXR0ZXJzIGZvciBuZXh0IHBhc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaXRDZWxsc1xuICogQHBhcmFtIHtvYmplY3R9IGRvbmVDZWxsc1xuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5fY29tcHV0ZUVtaXR0ZXJzID0gZnVuY3Rpb24obGl0Q2VsbHMsIGRvbmVDZWxscykge1xuXHR2YXIgcmVzdWx0ID0ge307XG5cblx0Zm9yICh2YXIga2V5IGluIGxpdENlbGxzKSB7XG5cdFx0aWYgKGtleSBpbiBkb25lQ2VsbHMpIHsgY29udGludWU7IH0gLyogYWxyZWFkeSBlbWl0dGVkICovXG5cblx0XHR2YXIgY29sb3IgPSBsaXRDZWxsc1trZXldO1xuXG5cdFx0aWYgKGtleSBpbiB0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSkge1xuXHRcdFx0dmFyIHJlZmxlY3Rpdml0eSA9IHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlW2tleV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG5cdFx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdFx0dmFyIHJlZmxlY3Rpdml0eSA9IHRoaXMuX3JlZmxlY3Rpdml0eUNhbGxiYWNrKHgsIHkpO1xuXHRcdFx0dGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGVba2V5XSA9IHJlZmxlY3Rpdml0eTtcblx0XHR9XG5cblx0XHRpZiAocmVmbGVjdGl2aXR5ID09IDApIHsgY29udGludWU7IH0gLyogd2lsbCBub3QgcmVmbGVjdCBhdCBhbGwgKi9cblxuXHRcdC8qIGNvbXB1dGUgZW1pc3Npb24gY29sb3IgKi9cblx0XHR2YXIgZW1pc3Npb24gPSBbXTtcblx0XHR2YXIgaW50ZW5zaXR5ID0gMDtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0dmFyIHBhcnQgPSBNYXRoLnJvdW5kKGNvbG9yW2ldKnJlZmxlY3Rpdml0eSk7XG5cdFx0XHRlbWlzc2lvbltpXSA9IHBhcnQ7XG5cdFx0XHRpbnRlbnNpdHkgKz0gcGFydDtcblx0XHR9XG5cdFx0aWYgKGludGVuc2l0eSA+IHRoaXMuX29wdGlvbnMuZW1pc3Npb25UaHJlc2hvbGQpIHsgcmVzdWx0W2tleV0gPSBlbWlzc2lvbjsgfVxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb21wdXRlIG9uZSBpdGVyYXRpb24gZnJvbSBvbmUgY2VsbFxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuICogQHBhcmFtIHtvYmplY3R9IGxpdENlbGxzIENlbGwgZGF0YSB0byBieSB1cGRhdGVkXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX2VtaXRMaWdodEZyb21DZWxsID0gZnVuY3Rpb24oeCwgeSwgY29sb3IsIGxpdENlbGxzKSB7XG5cdHZhciBrZXkgPSB4K1wiLFwiK3k7XG5cdGlmIChrZXkgaW4gdGhpcy5fZm92Q2FjaGUpIHtcblx0XHR2YXIgZm92ID0gdGhpcy5fZm92Q2FjaGVba2V5XTtcblx0fSBlbHNlIHtcblx0XHR2YXIgZm92ID0gdGhpcy5fdXBkYXRlRk9WKHgsIHkpO1xuXHR9XG5cblx0Zm9yICh2YXIgZm92S2V5IGluIGZvdikge1xuXHRcdHZhciBmb3JtRmFjdG9yID0gZm92W2ZvdktleV07XG5cblx0XHRpZiAoZm92S2V5IGluIGxpdENlbGxzKSB7IC8qIGFscmVhZHkgbGl0ICovXG5cdFx0XHR2YXIgcmVzdWx0ID0gbGl0Q2VsbHNbZm92S2V5XTtcblx0XHR9IGVsc2UgeyAvKiBuZXdseSBsaXQgKi9cblx0XHRcdHZhciByZXN1bHQgPSBbMCwgMCwgMF07XG5cdFx0XHRsaXRDZWxsc1tmb3ZLZXldID0gcmVzdWx0O1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7IHJlc3VsdFtpXSArPSBNYXRoLnJvdW5kKGNvbG9yW2ldKmZvcm1GYWN0b3IpOyB9IC8qIGFkZCBsaWdodCBjb2xvciAqL1xuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZSBGT1YgKFwiZm9ybSBmYWN0b3JcIikgZm9yIGEgcG90ZW50aWFsIGxpZ2h0IHNvdXJjZSBhdCBbeCx5XVxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl91cGRhdGVGT1YgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHZhciBrZXkxID0geCtcIixcIit5O1xuXHR2YXIgY2FjaGUgPSB7fTtcblx0dGhpcy5fZm92Q2FjaGVba2V5MV0gPSBjYWNoZTtcblx0dmFyIHJhbmdlID0gdGhpcy5fb3B0aW9ucy5yYW5nZTtcblx0dmFyIGNiID0gZnVuY3Rpb24oeCwgeSwgciwgdmlzKSB7XG5cdFx0dmFyIGtleTIgPSB4K1wiLFwiK3k7XG5cdFx0dmFyIGZvcm1GYWN0b3IgPSB2aXMgKiAoMS1yL3JhbmdlKTtcblx0XHRpZiAoZm9ybUZhY3RvciA9PSAwKSB7IHJldHVybjsgfVxuXHRcdGNhY2hlW2tleTJdID0gZm9ybUZhY3Rvcjtcblx0fVxuXHR0aGlzLl9mb3YuY29tcHV0ZSh4LCB5LCByYW5nZSwgY2IuYmluZCh0aGlzKSk7XG5cblx0cmV0dXJuIGNhY2hlO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgcGF0aGZpbmRlclxuICogQHBhcmFtIHtpbnR9IHRvWCBUYXJnZXQgWCBjb29yZFxuICogQHBhcmFtIHtpbnR9IHRvWSBUYXJnZXQgWSBjb29yZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFzc2FibGVDYWxsYmFjayBDYWxsYmFjayB0byBkZXRlcm1pbmUgbWFwIHBhc3NhYmlsaXR5XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudG9wb2xvZ3k9OF1cbiAqL1xuUk9ULlBhdGggPSBmdW5jdGlvbih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucykge1xuXHR0aGlzLl90b1ggPSB0b1g7XG5cdHRoaXMuX3RvWSA9IHRvWTtcblx0dGhpcy5fZnJvbVggPSBudWxsO1xuXHR0aGlzLl9mcm9tWSA9IG51bGw7XG5cdHRoaXMuX3Bhc3NhYmxlQ2FsbGJhY2sgPSBwYXNzYWJsZUNhbGxiYWNrO1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHRvcG9sb2d5OiA4XG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cblx0dGhpcy5fZGlycyA9IFJPVC5ESVJTW3RoaXMuX29wdGlvbnMudG9wb2xvZ3ldO1xuXHRpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA4KSB7IC8qIHJlb3JkZXIgZGlycyBmb3IgbW9yZSBhZXN0aGV0aWMgcmVzdWx0ICh2ZXJ0aWNhbC9ob3Jpem9udGFsIGZpcnN0KSAqL1xuXHRcdHRoaXMuX2RpcnMgPSBbXG5cdFx0XHR0aGlzLl9kaXJzWzBdLFxuXHRcdFx0dGhpcy5fZGlyc1syXSxcblx0XHRcdHRoaXMuX2RpcnNbNF0sXG5cdFx0XHR0aGlzLl9kaXJzWzZdLFxuXHRcdFx0dGhpcy5fZGlyc1sxXSxcblx0XHRcdHRoaXMuX2RpcnNbM10sXG5cdFx0XHR0aGlzLl9kaXJzWzVdLFxuXHRcdFx0dGhpcy5fZGlyc1s3XVxuXHRcdF1cblx0fVxufVxuXG4vKipcbiAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICogQHBhcmFtIHtpbnR9IGZyb21YXG4gKiBAcGFyYW0ge2ludH0gZnJvbVlcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFdpbGwgYmUgY2FsbGVkIGZvciBldmVyeSBwYXRoIGl0ZW0gd2l0aCBhcmd1bWVudHMgXCJ4XCIgYW5kIFwieVwiXG4gKi9cblJPVC5QYXRoLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xufVxuXG5ST1QuUGF0aC5wcm90b3R5cGUuX2dldE5laWdoYm9ycyA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgcmVzdWx0ID0gW107XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX2RpcnMubGVuZ3RoO2krKykge1xuXHRcdHZhciBkaXIgPSB0aGlzLl9kaXJzW2ldO1xuXHRcdHZhciB4ID0gY3ggKyBkaXJbMF07XG5cdFx0dmFyIHkgPSBjeSArIGRpclsxXTtcblx0XHRcblx0XHRpZiAoIXRoaXMuX3Bhc3NhYmxlQ2FsbGJhY2soeCwgeSkpIHsgY29udGludWU7IH1cblx0XHRyZXN1bHQucHVzaChbeCwgeV0pO1xuXHR9XG5cdFxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBAY2xhc3MgU2ltcGxpZmllZCBEaWprc3RyYSdzIGFsZ29yaXRobTogYWxsIGVkZ2VzIGhhdmUgYSB2YWx1ZSBvZiAxXG4gKiBAYXVnbWVudHMgUk9ULlBhdGhcbiAqIEBzZWUgUk9ULlBhdGhcbiAqL1xuUk9ULlBhdGguRGlqa3N0cmEgPSBmdW5jdGlvbih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuUGF0aC5jYWxsKHRoaXMsIHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKTtcblxuXHR0aGlzLl9jb21wdXRlZCA9IHt9O1xuXHR0aGlzLl90b2RvID0gW107XG5cdHRoaXMuX2FkZCh0b1gsIHRvWSwgbnVsbCk7XG59XG5ST1QuUGF0aC5EaWprc3RyYS5leHRlbmQoUk9ULlBhdGgpO1xuXG4vKipcbiAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICogQHNlZSBST1QuUGF0aCNjb21wdXRlXG4gKi9cblJPVC5QYXRoLkRpamtzdHJhLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xuXHR2YXIga2V5ID0gZnJvbVgrXCIsXCIrZnJvbVk7XG5cdGlmICghKGtleSBpbiB0aGlzLl9jb21wdXRlZCkpIHsgdGhpcy5fY29tcHV0ZShmcm9tWCwgZnJvbVkpOyB9XG5cdGlmICghKGtleSBpbiB0aGlzLl9jb21wdXRlZCkpIHsgcmV0dXJuOyB9XG5cdFxuXHR2YXIgaXRlbSA9IHRoaXMuX2NvbXB1dGVkW2tleV07XG5cdHdoaWxlIChpdGVtKSB7XG5cdFx0Y2FsbGJhY2soaXRlbS54LCBpdGVtLnkpO1xuXHRcdGl0ZW0gPSBpdGVtLnByZXY7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wdXRlIGEgbm9uLWNhY2hlZCB2YWx1ZVxuICovXG5ST1QuUGF0aC5EaWprc3RyYS5wcm90b3R5cGUuX2NvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVkpIHtcblx0d2hpbGUgKHRoaXMuX3RvZG8ubGVuZ3RoKSB7XG5cdFx0dmFyIGl0ZW0gPSB0aGlzLl90b2RvLnNoaWZ0KCk7XG5cdFx0aWYgKGl0ZW0ueCA9PSBmcm9tWCAmJiBpdGVtLnkgPT0gZnJvbVkpIHsgcmV0dXJuOyB9XG5cdFx0XG5cdFx0dmFyIG5laWdoYm9ycyA9IHRoaXMuX2dldE5laWdoYm9ycyhpdGVtLngsIGl0ZW0ueSk7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JzLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcblx0XHRcdHZhciB4ID0gbmVpZ2hib3JbMF07XG5cdFx0XHR2YXIgeSA9IG5laWdoYm9yWzFdO1xuXHRcdFx0dmFyIGlkID0geCtcIixcIit5O1xuXHRcdFx0aWYgKGlkIGluIHRoaXMuX2NvbXB1dGVkKSB7IGNvbnRpbnVlOyB9IC8qIGFscmVhZHkgZG9uZSAqL1x0XG5cdFx0XHR0aGlzLl9hZGQoeCwgeSwgaXRlbSk7IFxuXHRcdH1cblx0fVxufVxuXG5ST1QuUGF0aC5EaWprc3RyYS5wcm90b3R5cGUuX2FkZCA9IGZ1bmN0aW9uKHgsIHksIHByZXYpIHtcblx0dmFyIG9iaiA9IHtcblx0XHR4OiB4LFxuXHRcdHk6IHksXG5cdFx0cHJldjogcHJldlxuXHR9XG5cdHRoaXMuX2NvbXB1dGVkW3grXCIsXCIreV0gPSBvYmo7XG5cdHRoaXMuX3RvZG8ucHVzaChvYmopO1xufVxuLyoqXG4gKiBAY2xhc3MgU2ltcGxpZmllZCBBKiBhbGdvcml0aG06IGFsbCBlZGdlcyBoYXZlIGEgdmFsdWUgb2YgMVxuICogQGF1Z21lbnRzIFJPVC5QYXRoXG4gKiBAc2VlIFJPVC5QYXRoXG4gKi9cblJPVC5QYXRoLkFTdGFyID0gZnVuY3Rpb24odG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULlBhdGguY2FsbCh0aGlzLCB0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyk7XG5cblx0dGhpcy5fdG9kbyA9IFtdO1xuXHR0aGlzLl9kb25lID0ge307XG5cdHRoaXMuX2Zyb21YID0gbnVsbDtcblx0dGhpcy5fZnJvbVkgPSBudWxsO1xufVxuUk9ULlBhdGguQVN0YXIuZXh0ZW5kKFJPVC5QYXRoKTtcblxuLyoqXG4gKiBDb21wdXRlIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gcG9pbnRcbiAqIEBzZWUgUk9ULlBhdGgjY29tcHV0ZVxuICovXG5ST1QuUGF0aC5BU3Rhci5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSwgY2FsbGJhY2spIHtcblx0dGhpcy5fdG9kbyA9IFtdO1xuXHR0aGlzLl9kb25lID0ge307XG5cdHRoaXMuX2Zyb21YID0gZnJvbVg7XG5cdHRoaXMuX2Zyb21ZID0gZnJvbVk7XG5cdHRoaXMuX2FkZCh0aGlzLl90b1gsIHRoaXMuX3RvWSwgbnVsbCk7XG5cblx0d2hpbGUgKHRoaXMuX3RvZG8ubGVuZ3RoKSB7XG5cdFx0dmFyIGl0ZW0gPSB0aGlzLl90b2RvLnNoaWZ0KCk7XG5cdFx0aWYgKGl0ZW0ueCA9PSBmcm9tWCAmJiBpdGVtLnkgPT0gZnJvbVkpIHsgYnJlYWs7IH1cblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGl0ZW0ueCwgaXRlbS55KTtcblxuXHRcdGZvciAodmFyIGk9MDtpPG5laWdoYm9ycy5sZW5ndGg7aSsrKSB7XG5cdFx0XHR2YXIgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07XG5cdFx0XHR2YXIgeCA9IG5laWdoYm9yWzBdO1xuXHRcdFx0dmFyIHkgPSBuZWlnaGJvclsxXTtcblx0XHRcdHZhciBpZCA9IHgrXCIsXCIreTtcblx0XHRcdGlmIChpZCBpbiB0aGlzLl9kb25lKSB7IGNvbnRpbnVlOyB9XG5cdFx0XHR0aGlzLl9hZGQoeCwgeSwgaXRlbSk7IFxuXHRcdH1cblx0fVxuXHRcblx0dmFyIGl0ZW0gPSB0aGlzLl9kb25lW2Zyb21YK1wiLFwiK2Zyb21ZXTtcblx0aWYgKCFpdGVtKSB7IHJldHVybjsgfVxuXHRcblx0d2hpbGUgKGl0ZW0pIHtcblx0XHRjYWxsYmFjayhpdGVtLngsIGl0ZW0ueSk7XG5cdFx0aXRlbSA9IGl0ZW0ucHJldjtcblx0fVxufVxuXG5ST1QuUGF0aC5BU3Rhci5wcm90b3R5cGUuX2FkZCA9IGZ1bmN0aW9uKHgsIHksIHByZXYpIHtcblx0dmFyIG9iaiA9IHtcblx0XHR4OiB4LFxuXHRcdHk6IHksXG5cdFx0cHJldjogcHJldixcblx0XHRnOiAocHJldiA/IHByZXYuZysxIDogMCksXG5cdFx0aDogdGhpcy5fZGlzdGFuY2UoeCwgeSlcblx0fVxuXHR0aGlzLl9kb25lW3grXCIsXCIreV0gPSBvYmo7XG5cdFxuXHQvKiBpbnNlcnQgaW50byBwcmlvcml0eSBxdWV1ZSAqL1xuXHRcblx0dmFyIGYgPSBvYmouZyArIG9iai5oO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl90b2RvLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX3RvZG9baV07XG5cdFx0aWYgKGYgPCBpdGVtLmcgKyBpdGVtLmgpIHtcblx0XHRcdHRoaXMuX3RvZG8uc3BsaWNlKGksIDAsIG9iaik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9XG5cdFxuXHR0aGlzLl90b2RvLnB1c2gob2JqKTtcbn1cblxuUk9ULlBhdGguQVN0YXIucHJvdG90eXBlLl9kaXN0YW5jZSA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0c3dpdGNoICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5KSB7XG5cdFx0Y2FzZSA0OlxuXHRcdFx0cmV0dXJuIChNYXRoLmFicyh4LXRoaXMuX2Zyb21YKSArIE1hdGguYWJzKHktdGhpcy5fZnJvbVkpKTtcblx0XHRicmVhaztcblxuXHRcdGNhc2UgNjpcblx0XHRcdHZhciBkeCA9IE1hdGguYWJzKHggLSB0aGlzLl9mcm9tWCk7XG5cdFx0XHR2YXIgZHkgPSBNYXRoLmFicyh5IC0gdGhpcy5fZnJvbVkpO1xuXHRcdFx0cmV0dXJuIGR5ICsgTWF0aC5tYXgoMCwgKGR4LWR5KS8yKTtcblx0XHRicmVhaztcblxuXHRcdGNhc2UgODogXG5cdFx0XHRyZXR1cm4gTWF0aC5tYXgoTWF0aC5hYnMoeC10aGlzLl9mcm9tWCksIE1hdGguYWJzKHktdGhpcy5fZnJvbVkpKTtcblx0XHRicmVhaztcblx0fVxuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgdG9wb2xvZ3lcIik7XG59XG4vKipcbiAqIEBjbGFzcyBUZXJtaW5hbCBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5UZXJtID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRST1QuRGlzcGxheS5CYWNrZW5kLmNhbGwodGhpcywgY29udGV4dCk7XG5cdHRoaXMuX2N4ID0gLTE7XG5cdHRoaXMuX2N5ID0gLTE7XG5cdHRoaXMuX2xhc3RDb2xvciA9IFwiXCI7XG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcblx0dGhpcy5fb3ggPSAwO1xuXHR0aGlzLl9veSA9IDA7XG5cdHRoaXMuX3Rlcm1jb2xvciA9IHt9O1xufVxuUk9ULkRpc3BsYXkuVGVybS5leHRlbmQoUk9ULkRpc3BsYXkuQmFja2VuZCk7XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXHR0aGlzLl9veCA9IE1hdGguZmxvb3IoKHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMgLSBvcHRpb25zLndpZHRoKSAvIDIpO1xuXHR0aGlzLl9veSA9IE1hdGguZmxvb3IoKHByb2Nlc3Muc3Rkb3V0LnJvd3MgLSBvcHRpb25zLmhlaWdodCkgLyAyKTtcblx0dGhpcy5fdGVybWNvbG9yID0gbmV3IFJPVC5EaXNwbGF5LlRlcm1bb3B0aW9ucy50ZXJtQ29sb3IuY2FwaXRhbGl6ZSgpXSh0aGlzLl9jb250ZXh0KTtcblx0dGhpcy5fY29udGV4dC5fdGVybWNvbG9yID0gdGhpcy5fdGVybWNvbG9yO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0Ly8gZGV0ZXJtaW5lIHdoZXJlIHRvIGRyYXcgd2hhdCB3aXRoIHdoYXQgY29sb3JzXG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdC8vIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIG1vdmUgdGhlIHRlcm1pbmFsIGN1cnNvclxuXHR2YXIgZHggPSB0aGlzLl9veCArIHg7XG5cdHZhciBkeSA9IHRoaXMuX295ICsgeTtcblx0aWYgKGR4IDwgMCB8fCBkeCA+PSBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKSB7IHJldHVybjsgfVxuXHRpZiAoZHkgPCAwIHx8IGR5ID49IHByb2Nlc3Muc3Rkb3V0LnJvd3MpIHsgcmV0dXJuOyB9XG5cdGlmIChkeCAhPT0gdGhpcy5fY3ggfHwgZHkgIT09IHRoaXMuX2N5KSB7XG5cdFx0cHJvY2Vzcy5zdGRvdXQud3JpdGUodGhpcy5fdGVybWNvbG9yLnBvc2l0aW9uVG9BbnNpKGR4LGR5KSk7XG5cdFx0dGhpcy5fY3ggPSBkeDtcblx0XHR0aGlzLl9jeSA9IGR5O1xuXHR9XG5cblx0Ly8gdGVybWluYWxzIGF1dG9tYXRpY2FsbHkgY2xlYXIsIGJ1dCBpZiB3ZSdyZSBjbGVhcmluZyB3aGVuIHdlJ3JlXG5cdC8vIG5vdCBvdGhlcndpc2UgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwganVzdCB1c2UgYSBzcGFjZSBpbnN0ZWFkXG5cdGlmIChjbGVhckJlZm9yZSkge1xuXHRcdGlmICghY2gpIHtcblx0XHRcdGNoID0gXCIgXCI7XG5cdFx0fVxuXHR9XG5cdFx0XG5cdC8vIGlmIHdlJ3JlIG5vdCBjbGVhcmluZyBhbmQgbm90IHByb3ZpZGVkIHdpdGggYSBjaGFyYWN0ZXIsIGRvIG5vdGhpbmdcblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHQvLyBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBjaGFuZ2UgY29sb3JzXG5cdHZhciBuZXdDb2xvciA9IHRoaXMuX3Rlcm1jb2xvci5jb2xvclRvQW5zaShmZyxiZyk7XG5cdGlmIChuZXdDb2xvciAhPT0gdGhpcy5fbGFzdENvbG9yKSB7XG5cdFx0cHJvY2Vzcy5zdGRvdXQud3JpdGUobmV3Q29sb3IpO1xuXHRcdHRoaXMuX2xhc3RDb2xvciA9IG5ld0NvbG9yO1xuXHR9XG5cblx0Ly8gd3JpdGUgdGhlIHByb3ZpZGVkIHN5bWJvbCB0byB0aGUgZGlzcGxheVxuXHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRwcm9jZXNzLnN0ZG91dC53cml0ZShjaGFyc1swXSk7XG5cblx0Ly8gdXBkYXRlIG91ciBwb3NpdGlvbiwgZ2l2ZW4gdGhhdCB3ZSB3cm90ZSBhIGNoYXJhY3RlclxuXHR0aGlzLl9jeCsrO1xuXHRpZiAodGhpcy5fY3ggPj0gcHJvY2Vzcy5zdGRvdXQuY29sdW1ucykge1xuXHRcdHRoaXMuX2N4ID0gMDtcblx0XHR0aGlzLl9jeSsrO1xuXHR9XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0cmV0dXJuIFtwcm9jZXNzLnN0ZG91dC5jb2x1bW5zLCBwcm9jZXNzLnN0ZG91dC5yb3dzXTtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0cmV0dXJuIDEyO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG5cdHJldHVybiBbeCx5XVxufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgdGVybWluYWwgY29kZSBtb2R1bGVcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlRlcm0uQ29sb3IgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdHRoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLkNvbG9yLnByb3RvdHlwZS5jbGVhclRvQW5zaSA9IGZ1bmN0aW9uKGJnKSB7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uQ29sb3IucHJvdG90eXBlLmNvbG9yVG9BbnNpID0gZnVuY3Rpb24oZmcsIGJnKSB7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uQ29sb3IucHJvdG90eXBlLnBvc2l0aW9uVG9BbnNpID0gZnVuY3Rpb24oeCwgeSkge1xufVxuLyoqXG4gKiBAY2xhc3MgeHRlcm0gdGVybWluYWwgY29kZSBtb2R1bGVcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0gPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LlRlcm0uQ29sb3IuY2FsbCh0aGlzLCBjb250ZXh0KTtcbn1cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0uZXh0ZW5kKFJPVC5EaXNwbGF5LlRlcm0uQ29sb3IpO1xuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5jbGVhclRvQW5zaSA9IGZ1bmN0aW9uKGJnKSB7XG5cdHJldHVybiBcIlxceDFiWzA7NDg7NTtcIlxuXHRcdCsgdGhpcy5fdGVybWNvbG9yKGJnKVxuXHRcdCsgXCJtXFx4MWJbMkpcIjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5wcm90b3R5cGUuY29sb3JUb0Fuc2kgPSBmdW5jdGlvbihmZywgYmcpIHtcblx0cmV0dXJuIFwiXFx4MWJbMDszODs1O1wiXG5cdFx0KyB0aGlzLl90ZXJtY29sb3IoZmcpXG5cdFx0KyBcIjs0ODs1O1wiXG5cdFx0KyB0aGlzLl90ZXJtY29sb3IoYmcpXG5cdFx0KyBcIm1cIjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5wcm90b3R5cGUucG9zaXRpb25Ub0Fuc2kgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHJldHVybiBcIlxceDFiW1wiICsgKHkrMSkgKyBcIjtcIiArICh4KzEpICsgXCJIXCI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLl90ZXJtY29sb3IgPSBmdW5jdGlvbihjb2xvcikge1xuXHR2YXIgU1JDX0NPTE9SUyA9IDI1Ni4wO1xuXHR2YXIgRFNUX0NPTE9SUyA9IDYuMDtcblx0dmFyIENPTE9SX1JBVElPID0gRFNUX0NPTE9SUyAvIFNSQ19DT0xPUlM7XG5cdHZhciByZ2IgPSBST1QuQ29sb3IuZnJvbVN0cmluZyhjb2xvcik7XG5cdHZhciByID0gTWF0aC5mbG9vcihyZ2JbMF0gKiBDT0xPUl9SQVRJTyk7XG5cdHZhciBnID0gTWF0aC5mbG9vcihyZ2JbMV0gKiBDT0xPUl9SQVRJTyk7XG5cdHZhciBiID0gTWF0aC5mbG9vcihyZ2JbMl0gKiBDT0xPUl9SQVRJTyk7XG5cdHJldHVybiByKjM2ICsgZyo2ICsgYioxICsgMTY7XG59XG4vKipcbiAqIEV4cG9ydCB0byBOb2RlLmpzIG1vZHVsZVxuICovXG5mb3IgKHZhciBwIGluIFJPVCkge1xuXHRleHBvcnRzW3BdID0gUk9UW3BdO1xufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIl9wcm9jZXNzXCI6MTJ9XSwyNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2luZGV4Jyk7XG5cbn0se1wiLi9saWIvaW5kZXhcIjoyN31dLDI3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wb255ZmlsbCA9IHJlcXVpcmUoJy4vcG9ueWZpbGwnKTtcblxudmFyIF9wb255ZmlsbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb255ZmlsbCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIHJvb3Q7IC8qIGdsb2JhbCB3aW5kb3cgKi9cblxuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSAoMCwgX3BvbnlmaWxsMlsnZGVmYXVsdCddKShyb290KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHJlc3VsdDtcbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxuXG59LHtcIi4vcG9ueWZpbGxcIjoyOH1dLDI4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHN5bWJvbE9ic2VydmFibGVQb255ZmlsbDtcbmZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBfU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBfU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKF9TeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gX1N5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBfU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRfU3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG59LHt9XSwyOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBfcmVkdXggPSByZXF1aXJlKCdyZWR1eCcpO1xuXG52YXIgX3JlZHV4TG9nZ2VyID0gcmVxdWlyZSgncmVkdXgtbG9nZ2VyJyk7XG5cbnZhciBfcmVkdXhMb2dnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVkdXhMb2dnZXIpO1xuXG52YXIgX3JvdEpzID0gcmVxdWlyZSgncm90LWpzJyk7XG5cbnZhciBfcm90SnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm90SnMpO1xuXG52YXIgX3JlZHVjZXJzID0gcmVxdWlyZSgnLi9yZWR1Y2VycycpO1xuXG52YXIgX3JlZHVjZXJzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZHVjZXJzKTtcblxudmFyIF9pbml0aWFsU3RhdGUgPSByZXF1aXJlKCcuL2luaXRpYWxTdGF0ZScpO1xuXG52YXIgX2luaXRpYWxTdGF0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbml0aWFsU3RhdGUpO1xuXG52YXIgX2dhbWUgPSByZXF1aXJlKCcuL2dhbWUnKTtcblxudmFyIF9nYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dhbWUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbihmdW5jdGlvbiAod2luZG93LCBjb25zb2xlKSB7XG4gIC8vIHdpbmRvdy5TVEFURSA9IGNyZWF0ZVN0b3JlKFxuICAvLyAgIGdhbWVSZWR1Y2VyLFxuICAvLyAgIGluaXRpYWxTdGF0ZSxcbiAgLy8gICBhcHBseU1pZGRsZXdhcmUoY3JlYXRlTG9nZ2VyKCkpXG4gIC8vICk7XG5cbiAgdmFyIEdBTUUgPSBfZ2FtZTJbJ2RlZmF1bHQnXS5pbml0KCk7XG4gIEdBTUUuc3dpdGNoU2NyZWVuKEdBTUUuU2NyZWVuLlN0YXJ0U2NyZWVuKTtcblxuICB2YXIgbWFpbkRpc3BsYXkgPSBHQU1FLmdldERpc3BsYXkoKTtcbiAgLy8gY29uc3QgZ2FtZUNvbnNvbGUgPSBuZXcgUk9ULkRpc3BsYXkoe1xuICAvLyAgIHdpZHRoOiA0NSxcbiAgLy8gICBoZWlnaHQ6IDEwLFxuICAvLyAgIGZvbnRTaXplOiAxNSxcbiAgLy8gICBmb3JjZVNxdWFyZVJhdGlvOiB0cnVlLFxuICAvLyB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1kaXNwbGF5JykuYXBwZW5kQ2hpbGQobWFpbkRpc3BsYXkuZ2V0Q29udGFpbmVyKCkpO1xuICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29uc29sZScpLmFwcGVuZENoaWxkKGdhbWVDb25zb2xlLmdldENvbnRhaW5lcigpKTtcblxuICAvLyB3aW5kb3cuU1RBVEUuZGlzcGF0Y2goe1xuICAvLyAgIHR5cGU6ICdBRERfTUVTU0FHRScsXG4gIC8vICAgbWVzc2FnZTogeyB0ZXh0OiAnaGVsbG8sIHdvcmxkIScgfSxcbiAgLy8gfSk7XG59KSh3aW5kb3csIHdpbmRvdy5jb25zb2xlKTtcblxufSx7XCIuL2dhbWVcIjozMixcIi4vaW5pdGlhbFN0YXRlXCI6MzgsXCIuL3JlZHVjZXJzXCI6NDAsXCJyZWR1eFwiOjIzLFwicmVkdXgtbG9nZ2VyXCI6MTcsXCJyb3QtanNcIjoyNX1dLDMwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dseXBoID0gcmVxdWlyZSgnLi9nbHlwaCcpO1xuXG52YXIgX2dseXBoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dseXBoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBFbnRpdHkgPSBmdW5jdGlvbiAoX0dseXBoKSB7XG4gIF9pbmhlcml0cyhFbnRpdHksIF9HbHlwaCk7XG5cbiAgZnVuY3Rpb24gRW50aXR5KCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFbnRpdHkpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEVudGl0eS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEVudGl0eSkpLmNhbGwodGhpcywgcHJvcGVydGllcykpO1xuXG4gICAgX3RoaXMuX25hbWUgPSBwcm9wZXJ0aWVzLm5hbWUgfHwgJyc7XG4gICAgX3RoaXMuX3ggPSBwcm9wZXJ0aWVzLnggfHwgMDtcbiAgICBfdGhpcy5feSA9IHByb3BlcnRpZXMueSB8fCAwO1xuICAgIF90aGlzLl9tYXAgPSBudWxsO1xuXG4gICAgX3RoaXMuX2F0dGFjaGVkTWl4aW5zID0ge307XG4gICAgX3RoaXMuX2F0dGFjaGVkTWl4aW5Hcm91cHMgPSB7fTtcbiAgICB2YXIgbWl4aW5zID0gcHJvcGVydGllcy5taXhpbnMgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBtaXhpbiA9IG1peGluc1tpXTtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobWl4aW4pO1xuXG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNba107XG5cbiAgICAgICAgaWYgKGtleSAhPT0gJ2luaXQnICYmIGtleSAhPT0gJ25hbWUnICYmIGtleSAhPT0gJ2dyb3VwTmFtZScgJiYgIV90aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBfdGhpc1trZXldID0gbWl4aW5ba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLl9hdHRhY2hlZE1peGluc1ttaXhpbi5uYW1lXSA9IHRydWU7XG4gICAgICAgIGlmIChtaXhpbi5ncm91cE5hbWUpIHtcbiAgICAgICAgICBfdGhpcy5fYXR0YWNoZWRNaXhpbkdyb3Vwc1ttaXhpbi5ncm91cE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaXhpbi5pbml0KSB7XG4gICAgICAgICAgbWl4aW4uaW5pdC5jYWxsKF90aGlzLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRW50aXR5LCBbe1xuICAgIGtleTogJ2hhc01peGluJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaGFzTWl4aW4ob2JqKSB7XG4gICAgICAgIHZhciBtaXhpbiA9ICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvYmopKSA9PT0gJ29iamVjdCcgPyBvYmoubmFtZSA6IG9iajtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkTWl4aW5Hcm91cHNbbWl4aW5dIHx8IHRoaXMuX2F0dGFjaGVkTWl4aW5zW21peGluXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhc01peGluO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0TmFtZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldE5hbWUobmFtZSkge1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldE5hbWU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRYJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0WCh4KSB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0WDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3NldFknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRZKHkpIHtcbiAgICAgICAgdGhpcy5feSA9IHk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRZO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TmFtZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0TmFtZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldFgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRYKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFg7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRZJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0WSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3k7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRZO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0TWFwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0TWFwKG1hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRNYXA7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNYXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRNYXA7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gRW50aXR5O1xufShfZ2x5cGgyWydkZWZhdWx0J10pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBFbnRpdHk7XG5cbn0se1wiLi9nbHlwaFwiOjMxfV0sMzE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgR2x5cGggPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEdseXBoKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbHlwaCk7XG5cbiAgICB0aGlzLl9jaGFyID0gcHJvcGVydGllcy5jaGFyIHx8ICcgJztcbiAgICB0aGlzLl9mZyA9IHByb3BlcnRpZXMuZmcgfHwgJ3doaXRlJztcbiAgICB0aGlzLl9iZyA9IHByb3BlcnRpZXMuYmcgfHwgJ2JsYWNrJztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhHbHlwaCwgW3tcbiAgICBrZXk6ICdnZXRDaGFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0Q2hhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYXI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRDaGFyO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0QmFja2dyb3VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldEJhY2tncm91bmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEJhY2tncm91bmQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRGb3JlZ3JvdW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0Rm9yZWdyb3VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Rm9yZWdyb3VuZDtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBHbHlwaDtcbn0oKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gR2x5cGg7XG5cbn0se31dLDMyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yb3RKcyA9IHJlcXVpcmUoJ3JvdC1qcycpO1xuXG52YXIgX3JvdEpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdEpzKTtcblxudmFyIF9zY3JlZW4gPSByZXF1aXJlKCcuL3NjcmVlbicpO1xuXG52YXIgX3NjcmVlbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zY3JlZW4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBkaXNwbGF5RGVmYXVsdHMgPSB7XG4gIHdpZHRoOiA4MCxcbiAgaGVpZ2h0OiAyNCxcbiAgZm9udFNpemU6IDE1LFxuICBmb3JjZVNxdWFyZVJhdGlvOiB0cnVlXG59O1xuXG52YXIgR2FtZSA9IHtcbiAgU2NyZWVuOiBfc2NyZWVuMlsnZGVmYXVsdCddLFxuXG4gIF9kaXNwbGF5OiBudWxsLFxuICBfY3VycmVudFNjcmVlbjogbnVsbCxcbiAgX3NjcmVlbldpZHRoOiBkaXNwbGF5RGVmYXVsdHMud2lkdGgsXG4gIF9zY3JlZW5IZWlnaHQ6IGRpc3BsYXlEZWZhdWx0cy5oZWlnaHQsXG5cbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGluaXQob3B0aW9ucykge1xuICAgICAgdGhpcy5fZGlzcGxheSA9IG5ldyBfcm90SnMyWydkZWZhdWx0J10uRGlzcGxheShPYmplY3QuYXNzaWduKHt9LCBkaXNwbGF5RGVmYXVsdHMsIG9wdGlvbnMpKTtcbiAgICAgIHZhciBfZ2FtZSA9IHRoaXM7XG4gICAgICB2YXIgYmluZEV2ZW50VG9TY3JlZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGJpbmRFdmVudFRvU2NyZWVuKGV2ZW50KSB7XG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoX2dhbWUuX2N1cnJlbnRTY3JlZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgX2dhbWUuX2N1cnJlbnRTY3JlZW4uaGFuZGxlSW5wdXQoZXZlbnQsIGUsIF9nYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiaW5kRXZlbnRUb1NjcmVlbjtcbiAgICAgIH0oKTtcbiAgICAgIFsna2V5ZG93bicsICdrZXl1cCcsICdrZXlwcmVzcyddLmZvckVhY2goYmluZEV2ZW50VG9TY3JlZW4pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXQ7XG4gIH0oKSxcbiAgcmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XG4gICAgICB0aGlzLl9jdXJyZW50U2NyZWVuLnJlbmRlcih0aGlzLl9kaXNwbGF5LCB0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaDtcbiAgfSgpLFxuICBnZXREaXNwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0RGlzcGxheSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kaXNwbGF5O1xuICAgIH1cblxuICAgIHJldHVybiBnZXREaXNwbGF5O1xuICB9KCksXG4gIGdldFNjcmVlbldpZHRoOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0U2NyZWVuV2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2NyZWVuV2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFNjcmVlbldpZHRoO1xuICB9KCksXG4gIGdldFNjcmVlbkhlaWdodDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldFNjcmVlbkhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5IZWlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFNjcmVlbkhlaWdodDtcbiAgfSgpLFxuICBzd2l0Y2hTY3JlZW46IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBzd2l0Y2hTY3JlZW4oc2NyZWVuKSB7XG4gICAgICBpZiAodGhpcy5fY3VycmVudFNjcmVlbiAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9jdXJyZW50U2NyZWVuLmV4aXQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5nZXREaXNwbGF5KCkuY2xlYXIoKTtcblxuICAgICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IHNjcmVlbjtcblxuICAgICAgaWYgKCF0aGlzLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4uZW50ZXIoKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN3aXRjaFNjcmVlbjtcbiAgfSgpXG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBHYW1lO1xuXG59LHtcIi4vc2NyZWVuXCI6MzUsXCJyb3QtanNcIjoyNX1dLDMzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yb3RKcyA9IHJlcXVpcmUoJ3JvdC1qcycpO1xuXG52YXIgX3JvdEpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdEpzKTtcblxudmFyIF90ZW1wbGF0ZXMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcycpO1xuXG52YXIgX2VudGl0eSA9IHJlcXVpcmUoJy4vZW50aXR5Jyk7XG5cbnZhciBfZW50aXR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2VudGl0eSk7XG5cbnZhciBfdGlsZSA9IHJlcXVpcmUoJy4vdGlsZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBNYXAgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1hcCh0aWxlcywgcGxheWVyKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hcCk7XG5cbiAgICAvLyB0aWxlc1xuICAgIHRoaXMuX3RpbGVzID0gdGlsZXM7XG4gICAgdGhpcy5fd2lkdGggPSB0aWxlcy5sZW5ndGg7XG4gICAgdGhpcy5faGVpZ2h0ID0gdGlsZXNbMF0ubGVuZ3RoO1xuXG4gICAgLy8gZW50aXRpZXNcbiAgICB0aGlzLl9lbnRpdGllcyA9IFtdO1xuICAgIHRoaXMuX3NjaGVkdWxlciA9IG5ldyBfcm90SnMyWydkZWZhdWx0J10uU2NoZWR1bGVyLlNpbXBsZSgpO1xuICAgIHRoaXMuX2VuZ2luZSA9IG5ldyBfcm90SnMyWydkZWZhdWx0J10uRW5naW5lKHRoaXMuX3NjaGVkdWxlcik7XG5cbiAgICB0aGlzLmFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24ocGxheWVyKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNTA7IGkrKykge1xuICAgICAgdGhpcy5hZGRFbnRpdHlBdFJhbmRvbVBvc2l0aW9uKG5ldyBfZW50aXR5MlsnZGVmYXVsdCddKF90ZW1wbGF0ZXMuRnVuZ3VzVGVtcGxhdGUpKTtcbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWFwLCBbe1xuICAgIGtleTogJ2dldFdpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0V2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFdpZHRoO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0SGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0SGVpZ2h0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VGlsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldFRpbGUoeCwgeSkge1xuICAgICAgICB2YXIgcmV0ID0gX3RpbGUuTnVsbFRpbGU7XG4gICAgICAgIGlmICghKHggPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLmhlaWdodCkpIHtcbiAgICAgICAgICByZXQgPSB0aGlzLl90aWxlc1t4XVt5XSB8fCByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFRpbGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdkaWcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBkaWcoeCwgeSkge1xuICAgICAgICBpZiAodGhpcy5nZXRUaWxlKHgsIHkpLmlzRGlnZ2FibGUoKSkge1xuICAgICAgICAgIHRoaXMuX3RpbGVzW3hdW3ldID0gX3RpbGUuRmxvb3JUaWxlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaWc7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRSYW5kb21GbG9vclBvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0UmFuZG9tRmxvb3JQb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIHggPSB2b2lkIDA7XG4gICAgICAgIHZhciB5ID0gdm9pZCAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX3dpZHRoKTtcbiAgICAgICAgICB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgfSB3aGlsZSAoIXRoaXMuaXNFbXB0eUZsb29yKHgsIHkpKTtcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0UmFuZG9tRmxvb3JQb3NpdGlvbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldEVuZ2luZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldEVuZ2luZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuZ2luZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEVuZ2luZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldEVudGl0aWVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0RW50aXRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRpdGllcztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEVudGl0aWVzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RW50aXR5QXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRFbnRpdHlBdCh4LCB5KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgZW50aXR5ID0gdGhpcy5fZW50aXRpZXNbaV07XG4gICAgICAgICAgaWYgKGVudGl0eS5nZXRYKCkgPT0geCAmJiBlbnRpdHkuZ2V0WSgpID09IHkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RW50aXR5QXQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRFbnRpdHknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBhZGRFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgIGlmIChlbnRpdHkuZ2V0WCgpIDwgMCB8fCBlbnRpdHkuZ2V0WCgpID49IHRoaXMuX3dpZHRoIHx8IGVudGl0eS5nZXRZKCkgPCAwIHx8IGVudGl0eS5nZXRZKCkgPj0gdGhpcy5faGVpZ2h0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZGRpbmcgZW50aXR5IG91dCBvZiBib3VuZHMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBlbnRpdHkuc2V0TWFwKHRoaXMpO1xuICAgICAgICB0aGlzLl9lbnRpdGllcy5wdXNoKGVudGl0eSk7XG5cbiAgICAgICAgaWYgKGVudGl0eS5oYXNNaXhpbignQWN0b3InKSkge1xuICAgICAgICAgIHRoaXMuX3NjaGVkdWxlci5hZGQoZW50aXR5LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkRW50aXR5O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24oZW50aXR5KSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMuZ2V0UmFuZG9tRmxvb3JQb3NpdGlvbigpO1xuICAgICAgICBlbnRpdHkuc2V0WChwb3NpdGlvbi54KTtcbiAgICAgICAgZW50aXR5LnNldFkocG9zaXRpb24ueSk7XG4gICAgICAgIHRoaXMuYWRkRW50aXR5KGVudGl0eSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRFbnRpdHlBdFJhbmRvbVBvc2l0aW9uO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlRW50aXR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVtb3ZlRW50aXR5KGVudGl0eSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2VudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2VudGl0aWVzW2ldID09IGVudGl0eSkge1xuICAgICAgICAgICAgdGhpcy5fZW50aXRpZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRpdHkuaGFzTWl4aW4oJ0FjdG9yJykpIHtcbiAgICAgICAgICB0aGlzLl9zY2hlZHVsZXIucmVtb3ZlKGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbW92ZUVudGl0eTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzRW1wdHlGbG9vcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzRW1wdHlGbG9vcih4LCB5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRpbGUoeCwgeSkgPT0gX3RpbGUuRmxvb3JUaWxlICYmICF0aGlzLmdldEVudGl0eUF0KHgsIHkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNFbXB0eUZsb29yO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIE1hcDtcbn0oKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWFwO1xuXG59LHtcIi4vZW50aXR5XCI6MzAsXCIuL3RlbXBsYXRlc1wiOjM2LFwiLi90aWxlXCI6MzcsXCJyb3QtanNcIjoyNX1dLDM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBNb3ZlYWJsZSA9IGV4cG9ydHMuTW92ZWFibGUgPSB7XG4gIG5hbWU6ICdNb3ZlYWJsZScsXG4gIHRyeU1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0cnlNb3ZlKHgsIHksIG1hcCkge1xuICAgICAgdmFyIHRpbGUgPSBtYXAuZ2V0VGlsZSh4LCB5KTtcbiAgICAgIHZhciB0YXJnZXQgPSBtYXAuZ2V0RW50aXR5QXQoeCwgeSk7XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzTWl4aW4oJ0F0dGFja2VyJykpIHtcbiAgICAgICAgICB0aGlzLmF0dGFjayh0YXJnZXQpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRpbGUuaXNXYWxrYWJsZSgpKSB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRpbGUuaXNEaWdnYWJsZSgpKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc01peGluKCdEaWdnZXInKSkge1xuICAgICAgICAgIHRoaXMuZGlnKHgsIHksIG1hcCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ5TW92ZTtcbiAgfSgpXG59O1xuXG52YXIgUGxheWVyQWN0b3IgPSBleHBvcnRzLlBsYXllckFjdG9yID0ge1xuICBuYW1lOiAnUGxheWVyQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG5cbiAgYWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYWN0KCkge1xuICAgICAgLy8gR0FNRS5yZWZyZXNoKCk7XG4gICAgICB0aGlzLmdldE1hcCgpLmdldEVuZ2luZSgpLmxvY2soKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0O1xuICB9KClcbn07XG5cbnZhciBGdW5ndXNBY3RvciA9IGV4cG9ydHMuRnVuZ3VzQWN0b3IgPSB7XG4gIG5hbWU6ICdGdW5ndXNBY3RvcicsXG4gIGdyb3VwTmFtZTogJ0FjdG9yJyxcbiAgYWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYWN0KCkge31cblxuICAgIHJldHVybiBhY3Q7XG4gIH0oKVxufTtcblxudmFyIERlc3RydWN0aWJsZSA9IGV4cG9ydHMuRGVzdHJ1Y3RpYmxlID0ge1xuICBuYW1lOiAnRGVzdHJ1Y3RpYmxlJyxcbiAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICB0aGlzLl9ocCA9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXQ7XG4gIH0oKSxcbiAgdGFrZURhbWFnZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHRha2VEYW1hZ2UoYXR0YWNrZXIsIGRhbWFnZSkge1xuICAgICAgdGhpcy5faHAgLT0gZGFtYWdlO1xuICAgICAgaWYgKHRoaXMuX2hwIDw9IDApIHtcbiAgICAgICAgdGhpcy5nZXRNYXAoKS5yZW1vdmVFbnRpdHkodGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRha2VEYW1hZ2U7XG4gIH0oKVxufTtcblxudmFyIERpZ2dlciA9IGV4cG9ydHMuRGlnZ2VyID0ge1xuICBuYW1lOiAnU2ltcGxlRGlnZ2VyJyxcbiAgZ3JvdXBOYW1lOiAnRGlnZ2VyJyxcbiAgZGlnOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZGlnKHgsIHksIG1hcCkge1xuICAgICAgbWFwLmRpZyh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlnO1xuICB9KClcbn07XG5cbnZhciBTaW1wbGVBdHRhY2tlciA9IGV4cG9ydHMuU2ltcGxlQXR0YWNrZXIgPSB7XG4gIG5hbWU6ICdTaW1wbGVBdHRhY2tlcicsXG4gIGdyb3VwTmFtZTogJ0F0dGFja2VyJyxcbiAgYXR0YWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYXR0YWNrKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldC5oYXNNaXhpbignRGVzdHJ1Y3RpYmxlJykpIHtcbiAgICAgICAgdGFyZ2V0LnRha2VEYW1hZ2UodGhpcywgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dGFjaztcbiAgfSgpXG59O1xuXG59LHt9XSwzNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcm90SnMgPSByZXF1aXJlKCdyb3QtanMnKTtcblxudmFyIF9yb3RKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3RKcyk7XG5cbnZhciBfdGlsZSA9IHJlcXVpcmUoJy4vdGlsZScpO1xuXG52YXIgX21hcCA9IHJlcXVpcmUoJy4vbWFwJyk7XG5cbnZhciBfbWFwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21hcCk7XG5cbnZhciBfZW50aXR5ID0gcmVxdWlyZSgnLi9lbnRpdHknKTtcblxudmFyIF9lbnRpdHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW50aXR5KTtcblxudmFyIF90ZW1wbGF0ZXMgPSByZXF1aXJlKCcuL3RlbXBsYXRlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBTdGFydFNjcmVlbiA9IHtcbiAgZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlbnRlcigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRW50ZXJlZCBTdGFydFNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbnRlcjtcbiAgfSgpLFxuICBleGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZXhpdCgpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRXhpdGVkIFN0YXJ0U2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXQ7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIGRpc3BsYXkuZHJhd1RleHQoMSwgMSwgJyVje3llbGxvd31KYXZhc2NyaXB0IFJvZ3VlbGlrZScpO1xuICAgICAgZGlzcGxheS5kcmF3VGV4dCgxLCAyLCAnUHJlc3MgW0VudGVyXSB0byBzdGFydCEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyO1xuICB9KCksXG4gIGhhbmRsZUlucHV0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlSW5wdXQodHlwZSwgZXZlbnQsIGdhbWUpIHtcbiAgICAgIGlmICh0eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19SRVRVUk4pIHtcbiAgICAgICAgICBnYW1lLnN3aXRjaFNjcmVlbihQbGF5U2NyZWVuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVJbnB1dDtcbiAgfSgpXG59O1xuXG52YXIgUGxheVNjcmVlbiA9IHtcbiAgX21hcDogbnVsbCxcbiAgX3BsYXllcjogbnVsbCxcblxuICBlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGVudGVyKCkge1xuICAgICAgdmFyIG1hcFdpZHRoID0gMTUwO1xuICAgICAgdmFyIG1hcEhlaWdodCA9IDE1MDtcbiAgICAgIHZhciBnZW5lcmF0b3IgPSBuZXcgX3JvdEpzMlsnZGVmYXVsdCddLk1hcC5DZWxsdWxhcihtYXBXaWR0aCwgbWFwSGVpZ2h0KTtcbiAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSAzO1xuICAgICAgdmFyIG1hcCA9IFtdO1xuICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXBXaWR0aDsgeCsrKSB7XG4gICAgICAgIG1hcC5wdXNoKFtdKTtcbiAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBtYXBIZWlnaHQ7IHkrKykge1xuICAgICAgICAgIG1hcFt4XS5wdXNoKF90aWxlLk51bGxUaWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2VuZXJhdG9yLnJhbmRvbWl6ZSgwLjUpO1xuICAgICAgLy8gSXRlcmF0aXZlbHkgc21vb3RoZW4gdGhlIG1hcFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbEl0ZXJhdGlvbnMgLSAxOyBpKyspIHtcbiAgICAgICAgZ2VuZXJhdG9yLmNyZWF0ZSgpO1xuICAgICAgfVxuICAgICAgLy8gU21vb3RoZW4gaXQgb25lIGxhc3QgdGltZSBhbmQgdGhlbiB1cGRhdGUgb3VyIG1hcFxuICAgICAgZ2VuZXJhdG9yLmNyZWF0ZShmdW5jdGlvbiAoeCwgeSwgdikge1xuICAgICAgICBpZiAodiA9PT0gMSkge1xuICAgICAgICAgIG1hcFt4XVt5XSA9IF90aWxlLkZsb29yVGlsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXBbeF1beV0gPSBfdGlsZS5XYWxsVGlsZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3BsYXllciA9IG5ldyBfZW50aXR5MlsnZGVmYXVsdCddKF90ZW1wbGF0ZXMuUGxheWVyVGVtcGxhdGUpO1xuICAgICAgdGhpcy5fbWFwID0gbmV3IF9tYXAyWydkZWZhdWx0J10obWFwLCB0aGlzLl9wbGF5ZXIpO1xuICAgICAgdGhpcy5fbWFwLmdldEVuZ2luZSgpLnN0YXJ0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGVyO1xuICB9KCksXG4gIG1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBtb3ZlKGRYLCBkWSkge1xuICAgICAgdmFyIG5ld1ggPSB0aGlzLl9wbGF5ZXIuZ2V0WCgpICsgZFg7XG4gICAgICB2YXIgbmV3WSA9IHRoaXMuX3BsYXllci5nZXRZKCkgKyBkWTtcblxuICAgICAgdGhpcy5fcGxheWVyLnRyeU1vdmUobmV3WCwgbmV3WSwgdGhpcy5fbWFwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW92ZTtcbiAgfSgpLFxuICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiByZW5kZXIoZGlzcGxheSwgZ2FtZSkge1xuICAgICAgdmFyIHNjcmVlbldpZHRoID0gZ2FtZS5nZXRTY3JlZW5XaWR0aCgpO1xuICAgICAgdmFyIHNjcmVlbkhlaWdodCA9IGdhbWUuZ2V0U2NyZWVuSGVpZ2h0KCk7XG5cbiAgICAgIHZhciB0b3BMZWZ0WCA9IE1hdGgubWluKE1hdGgubWF4KDAsIHRoaXMuX3BsYXllci5nZXRYKCkgLSBzY3JlZW5XaWR0aCAvIDIpLCB0aGlzLl9tYXAuZ2V0V2lkdGgoKSAtIHNjcmVlbldpZHRoKTtcbiAgICAgIHZhciB0b3BMZWZ0WSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHRoaXMuX3BsYXllci5nZXRZKCkgLSBzY3JlZW5IZWlnaHQgLyAyKSwgdGhpcy5fbWFwLmdldEhlaWdodCgpIC0gc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgZm9yICh2YXIgeCA9IHRvcExlZnRYOyB4IDwgdG9wTGVmdFggKyBzY3JlZW5XaWR0aDsgeCsrKSB7XG4gICAgICAgIGZvciAodmFyIHkgPSB0b3BMZWZ0WTsgeSA8IHRvcExlZnRZICsgc2NyZWVuSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICB2YXIgdGlsZSA9IHRoaXMuX21hcC5nZXRUaWxlKHgsIHkpO1xuICAgICAgICAgIGRpc3BsYXkuZHJhdyh4IC0gdG9wTGVmdFgsIHkgLSB0b3BMZWZ0WSwgdGlsZS5nZXRDaGFyKCksIHRpbGUuZ2V0Rm9yZWdyb3VuZCgpLCB0aWxlLmdldEJhY2tncm91bmQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBlbnRpdGllcyA9IHRoaXMuX21hcC5nZXRFbnRpdGllcygpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZW50aXR5ID0gZW50aXRpZXNbaV07XG4gICAgICAgIGlmIChlbnRpdHkuZ2V0WCgpID49IHRvcExlZnRYICYmIGVudGl0eS5nZXRZKCkgPj0gdG9wTGVmdFkgJiYgZW50aXR5LmdldFgoKSA8IHRvcExlZnRYICsgc2NyZWVuV2lkdGggJiYgZW50aXR5LmdldFkoKSA8IHRvcExlZnRZICsgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgICAgZGlzcGxheS5kcmF3KGVudGl0eS5nZXRYKCkgLSB0b3BMZWZ0WCwgZW50aXR5LmdldFkoKSAtIHRvcExlZnRZLCBlbnRpdHkuZ2V0Q2hhcigpLCBlbnRpdHkuZ2V0Rm9yZWdyb3VuZCgpLCBlbnRpdHkuZ2V0QmFja2dyb3VuZCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZW5kZXI7XG4gIH0oKSxcbiAgaGFuZGxlSW5wdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVJbnB1dCh0eXBlLCBldmVudCwgZ2FtZSkge1xuICAgICAgaWYgKHR5cGUgPT09ICdrZXlkb3duJykge1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX3JvdEpzMlsnZGVmYXVsdCddLlZLX1JFVFVSTikge1xuICAgICAgICAgIGdhbWUuc3dpdGNoU2NyZWVuKFdpblNjcmVlbik7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX3JvdEpzMlsnZGVmYXVsdCddLlZLX0VTQ0FQRSkge1xuICAgICAgICAgIGdhbWUuc3dpdGNoU2NyZWVuKExvc2VTY3JlZW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG1vdmVtZW50XG4gICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19MRUZUKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUoLTEsIDApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX3JvdEpzMlsnZGVmYXVsdCddLlZLX1JJR0hUKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUoMSwgMCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBfcm90SnMyWydkZWZhdWx0J10uVktfVVApIHtcbiAgICAgICAgICAgIHRoaXMubW92ZSgwLCAtMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBfcm90SnMyWydkZWZhdWx0J10uVktfRE9XTikge1xuICAgICAgICAgICAgdGhpcy5tb3ZlKDAsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9tYXAuZ2V0RW5naW5lKCkudW5sb2NrKCk7XG4gICAgICAgICAgZ2FtZS5yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlSW5wdXQ7XG4gIH0oKSxcbiAgZXhpdDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGV4aXQoKSB7XG4gICAgICBjb25zb2xlLmxvZygnRXhpdGVkIFBsYXlTY3JlZW4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXhpdDtcbiAgfSgpXG59O1xuXG52YXIgV2luU2NyZWVuID0ge1xuICBlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGVudGVyKCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdFbnRlcmVkIFdpblNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbnRlcjtcbiAgfSgpLFxuICBleGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZXhpdCgpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRXhpdGVkIFdpblNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBleGl0O1xuICB9KCksXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIyOyBpKyspIHtcbiAgICAgICAgLy8gR2VuZXJhdGUgcmFuZG9tIGJhY2tncm91bmQgY29sb3JzXG4gICAgICAgIHZhciByID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KTtcbiAgICAgICAgdmFyIGcgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpO1xuICAgICAgICB2YXIgYiA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1NSk7XG4gICAgICAgIHZhciBiYWNrZ3JvdW5kID0gX3JvdEpzMlsnZGVmYXVsdCddLkNvbG9yLnRvUkdCKFtyLCBnLCBiXSk7XG4gICAgICAgIGRpc3BsYXkuZHJhd1RleHQoMiwgaSArIDEsICclYnsnICsgU3RyaW5nKGJhY2tncm91bmQpICsgJ31Zb3Ugd2luIScpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZW5kZXI7XG4gIH0oKSxcbiAgaGFuZGxlSW5wdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVJbnB1dCh0eXBlLCBldmVudCwgZ2FtZSkge31cblxuICAgIHJldHVybiBoYW5kbGVJbnB1dDtcbiAgfSgpXG59O1xuXG52YXIgTG9zZVNjcmVlbiA9IHtcbiAgZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlbnRlcigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRW50ZXJlZCBMb3NlU2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGVyO1xuICB9KCksXG4gIGV4aXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBleGl0KCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdFeGl0ZWQgTG9zZVNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBleGl0O1xuICB9KCksXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJlbmRlcihkaXNwbGF5KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDIyOyBpKyspIHtcbiAgICAgICAgZGlzcGxheS5kcmF3VGV4dCgyLCBpICsgMSwgJyVie3JlZH1Zb3UgbG9zZSEgOignKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyO1xuICB9KCksXG4gIGhhbmRsZUlucHV0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlSW5wdXQodHlwZSwgZXZlbnQsIGdhbWUpIHt9XG5cbiAgICByZXR1cm4gaGFuZGxlSW5wdXQ7XG4gIH0oKVxufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0ge1xuICBTdGFydFNjcmVlbjogU3RhcnRTY3JlZW4sXG4gIFBsYXlTY3JlZW46IFBsYXlTY3JlZW4sXG4gIFdpblNjcmVlbjogV2luU2NyZWVuLFxuICBMb3NlU2NyZWVuOiBMb3NlU2NyZWVuXG59O1xuXG59LHtcIi4vZW50aXR5XCI6MzAsXCIuL21hcFwiOjMzLFwiLi90ZW1wbGF0ZXNcIjozNixcIi4vdGlsZVwiOjM3LFwicm90LWpzXCI6MjV9XSwzNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkZ1bmd1c1RlbXBsYXRlID0gZXhwb3J0cy5QbGF5ZXJUZW1wbGF0ZSA9IHVuZGVmaW5lZDtcblxudmFyIF9taXhpbnMgPSByZXF1aXJlKCcuL21peGlucycpO1xuXG52YXIgUGxheWVyVGVtcGxhdGUgPSBleHBvcnRzLlBsYXllclRlbXBsYXRlID0ge1xuICBjaGFyOiAnQCcsXG4gIGZnOiAnd2hpdGUnLFxuICBiZzogJ2JsYWNrJyxcbiAgbWl4aW5zOiBbX21peGlucy5Nb3ZlYWJsZSwgX21peGlucy5QbGF5ZXJBY3RvciwgX21peGlucy5TaW1wbGVBdHRhY2tlciwgX21peGlucy5EaWdnZXIsIF9taXhpbnMuRGVzdHJ1Y3RpYmxlXVxufTtcblxudmFyIEZ1bmd1c1RlbXBsYXRlID0gZXhwb3J0cy5GdW5ndXNUZW1wbGF0ZSA9IHtcbiAgY2hhcjogJ0YnLFxuICBmZzogJ2dyZWVuJyxcbiAgbWl4aW5zOiBbX21peGlucy5GdW5ndXNBY3RvciwgX21peGlucy5EZXN0cnVjdGlibGVdXG59O1xuXG59LHtcIi4vbWl4aW5zXCI6MzR9XSwzNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLldhbGxUaWxlID0gZXhwb3J0cy5GbG9vclRpbGUgPSBleHBvcnRzLk51bGxUaWxlID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dseXBoID0gcmVxdWlyZSgnLi9nbHlwaCcpO1xuXG52YXIgX2dseXBoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dseXBoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBUaWxlID0gZnVuY3Rpb24gKF9HbHlwaCkge1xuICBfaW5oZXJpdHMoVGlsZSwgX0dseXBoKTtcblxuICBmdW5jdGlvbiBUaWxlKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaWxlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUaWxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGlsZSkpLmNhbGwodGhpcywgcHJvcGVydGllcykpO1xuXG4gICAgX3RoaXMuX2lzV2Fsa2FibGUgPSBwcm9wZXJ0aWVzLmlzV2Fsa2FibGUgfHwgZmFsc2U7XG4gICAgX3RoaXMuX2lzRGlnZ2FibGUgPSBwcm9wZXJ0aWVzLmlzRGlnZ2FibGUgfHwgZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRpbGUsIFt7XG4gICAga2V5OiAnaXNXYWxrYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzV2Fsa2FibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1dhbGthYmxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNXYWxrYWJsZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzRGlnZ2FibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc0RpZ2dhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaWdnYWJsZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzRGlnZ2FibGU7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gVGlsZTtcbn0oX2dseXBoMlsnZGVmYXVsdCddKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gVGlsZTtcbnZhciBOdWxsVGlsZSA9IGV4cG9ydHMuTnVsbFRpbGUgPSBuZXcgVGlsZSh7fSk7XG52YXIgRmxvb3JUaWxlID0gZXhwb3J0cy5GbG9vclRpbGUgPSBuZXcgVGlsZSh7XG4gIGNoYXI6ICcuJyxcbiAgaXNXYWxrYWJsZTogdHJ1ZVxufSk7XG52YXIgV2FsbFRpbGUgPSBleHBvcnRzLldhbGxUaWxlID0gbmV3IFRpbGUoe1xuICBjaGFyOiAnIycsXG4gIGZnOiAnZ29sZGVucm9kJyxcbiAgaXNEaWdnYWJsZTogdHJ1ZVxufSk7XG5cbn0se1wiLi9nbHlwaFwiOjMxfV0sMzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgaW5pdGlhbFN0YXRlID0geyBnYW1lOiB7IG1lc3NhZ2VzOiBbXSB9IH07XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaW5pdGlhbFN0YXRlO1xuXG59LHt9XSwzOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaW5pdGlhbFN0YXRlID0gcmVxdWlyZSgnLi4vaW5pdGlhbFN0YXRlJyk7XG5cbnZhciBfaW5pdGlhbFN0YXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaXRpYWxTdGF0ZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIGdhbWUgPSBmdW5jdGlvbiBnYW1lKCkge1xuICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IF9pbml0aWFsU3RhdGUyWydkZWZhdWx0J10uZ2FtZTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblxuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX01FU1NBR0UnOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IG1lc3NhZ2VzOiBzdGF0ZS5tZXNzYWdlcy5jb25jYXQoW2FjdGlvbi5tZXNzYWdlXSkgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZ2FtZTtcblxufSx7XCIuLi9pbml0aWFsU3RhdGVcIjozOH1dLDQwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWR1eCA9IHJlcXVpcmUoJ3JlZHV4Jyk7XG5cbnZhciBfZ2FtZSA9IHJlcXVpcmUoJy4vZ2FtZScpO1xuXG52YXIgX2dhbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2FtZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIEdhbWUgPSAoMCwgX3JlZHV4LmNvbWJpbmVSZWR1Y2Vycykoe1xuICBnYW1lOiBfZ2FtZTJbJ2RlZmF1bHQnXVxufSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IEdhbWU7XG5cbn0se1wiLi9nYW1lXCI6MzksXCJyZWR1eFwiOjIzfV19LHt9LFsyOV0pXG5cbiIsIi8qIVxuICogZGVlcC1kaWZmLlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSgpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuICAgIHJvb3QuRGVlcERpZmYgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24odW5kZWZpbmVkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHNjb3BlLCBjb25mbGljdCwgY29uZmxpY3RSZXNvbHV0aW9uID0gW107XG4gIGlmICh0eXBlb2YgZ2xvYmFsID09PSAnb2JqZWN0JyAmJiBnbG9iYWwpIHtcbiAgICAkc2NvcGUgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAkc2NvcGUgPSB3aW5kb3c7XG4gIH0gZWxzZSB7XG4gICAgJHNjb3BlID0ge307XG4gIH1cbiAgY29uZmxpY3QgPSAkc2NvcGUuRGVlcERpZmY7XG4gIGlmIChjb25mbGljdCkge1xuICAgIGNvbmZsaWN0UmVzb2x1dGlvbi5wdXNoKFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbmZsaWN0ICYmICRzY29wZS5EZWVwRGlmZiA9PT0gYWNjdW11bGF0ZURpZmYpIHtcbiAgICAgICAgICAkc2NvcGUuRGVlcERpZmYgPSBjb25mbGljdDtcbiAgICAgICAgICBjb25mbGljdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICAvLyBub2RlanMgY29tcGF0aWJsZSBvbiBzZXJ2ZXIgc2lkZSBhbmQgaW4gdGhlIGJyb3dzZXIuXG4gIGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yO1xuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIERpZmYoa2luZCwgcGF0aCkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAna2luZCcsIHtcbiAgICAgIHZhbHVlOiBraW5kLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChwYXRoICYmIHBhdGgubGVuZ3RoKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BhdGgnLCB7XG4gICAgICAgIHZhbHVlOiBwYXRoLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBEaWZmRWRpdChwYXRoLCBvcmlnaW4sIHZhbHVlKSB7XG4gICAgRGlmZkVkaXQuc3VwZXJfLmNhbGwodGhpcywgJ0UnLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xocycsIHtcbiAgICAgIHZhbHVlOiBvcmlnaW4sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZkVkaXQsIERpZmYpO1xuXG4gIGZ1bmN0aW9uIERpZmZOZXcocGF0aCwgdmFsdWUpIHtcbiAgICBEaWZmTmV3LnN1cGVyXy5jYWxsKHRoaXMsICdOJywgcGF0aCk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyaHMnLCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgaW5oZXJpdHMoRGlmZk5ldywgRGlmZik7XG5cbiAgZnVuY3Rpb24gRGlmZkRlbGV0ZWQocGF0aCwgdmFsdWUpIHtcbiAgICBEaWZmRGVsZXRlZC5zdXBlcl8uY2FsbCh0aGlzLCAnRCcsIHBhdGgpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbGhzJywge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGluaGVyaXRzKERpZmZEZWxldGVkLCBEaWZmKTtcblxuICBmdW5jdGlvbiBEaWZmQXJyYXkocGF0aCwgaW5kZXgsIGl0ZW0pIHtcbiAgICBEaWZmQXJyYXkuc3VwZXJfLmNhbGwodGhpcywgJ0EnLCBwYXRoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2luZGV4Jywge1xuICAgICAgdmFsdWU6IGluZGV4LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaXRlbScsIHtcbiAgICAgIHZhbHVlOiBpdGVtLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGluaGVyaXRzKERpZmZBcnJheSwgRGlmZik7XG5cbiAgZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyLCBmcm9tLCB0bykge1xuICAgIHZhciByZXN0ID0gYXJyLnNsaWNlKCh0byB8fCBmcm9tKSArIDEgfHwgYXJyLmxlbmd0aCk7XG4gICAgYXJyLmxlbmd0aCA9IGZyb20gPCAwID8gYXJyLmxlbmd0aCArIGZyb20gOiBmcm9tO1xuICAgIGFyci5wdXNoLmFwcGx5KGFyciwgcmVzdCk7XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWxUeXBlT2Yoc3ViamVjdCkge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIHN1YmplY3Q7XG4gICAgaWYgKHR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG5cbiAgICBpZiAoc3ViamVjdCA9PT0gTWF0aCkge1xuICAgICAgcmV0dXJuICdtYXRoJztcbiAgICB9IGVsc2UgaWYgKHN1YmplY3QgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHN1YmplY3QpKSB7XG4gICAgICByZXR1cm4gJ2FycmF5JztcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdWJqZWN0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgICByZXR1cm4gJ2RhdGUnO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHN1YmplY3QudG9TdHJpbmcgIT09ICd1bmRlZmluZWQnICYmIC9eXFwvLipcXC8vLnRlc3Qoc3ViamVjdC50b1N0cmluZygpKSkge1xuICAgICAgcmV0dXJuICdyZWdleHAnO1xuICAgIH1cbiAgICByZXR1cm4gJ29iamVjdCc7XG4gIH1cblxuICBmdW5jdGlvbiBkZWVwRGlmZihsaHMsIHJocywgY2hhbmdlcywgcHJlZmlsdGVyLCBwYXRoLCBrZXksIHN0YWNrKSB7XG4gICAgcGF0aCA9IHBhdGggfHwgW107XG4gICAgdmFyIGN1cnJlbnRQYXRoID0gcGF0aC5zbGljZSgwKTtcbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChwcmVmaWx0ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZihwcmVmaWx0ZXIpID09PSAnZnVuY3Rpb24nICYmIHByZWZpbHRlcihjdXJyZW50UGF0aCwga2V5KSkgeyByZXR1cm47IH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mKHByZWZpbHRlcikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgaWYgKHByZWZpbHRlci5wcmVmaWx0ZXIgJiYgcHJlZmlsdGVyLnByZWZpbHRlcihjdXJyZW50UGF0aCwga2V5KSkgeyByZXR1cm47IH1cbiAgICAgICAgICBpZiAocHJlZmlsdGVyLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgdmFyIGFsdCA9IHByZWZpbHRlci5ub3JtYWxpemUoY3VycmVudFBhdGgsIGtleSwgbGhzLCByaHMpO1xuICAgICAgICAgICAgaWYgKGFsdCkge1xuICAgICAgICAgICAgICBsaHMgPSBhbHRbMF07XG4gICAgICAgICAgICAgIHJocyA9IGFsdFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1cnJlbnRQYXRoLnB1c2goa2V5KTtcbiAgICB9XG5cbiAgICAvLyBVc2Ugc3RyaW5nIGNvbXBhcmlzb24gZm9yIHJlZ2V4ZXNcbiAgICBpZiAocmVhbFR5cGVPZihsaHMpID09PSAncmVnZXhwJyAmJiByZWFsVHlwZU9mKHJocykgPT09ICdyZWdleHAnKSB7XG4gICAgICBsaHMgPSBsaHMudG9TdHJpbmcoKTtcbiAgICAgIHJocyA9IHJocy50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHZhciBsdHlwZSA9IHR5cGVvZiBsaHM7XG4gICAgdmFyIHJ0eXBlID0gdHlwZW9mIHJocztcbiAgICBpZiAobHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAocnR5cGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNoYW5nZXMobmV3IERpZmZOZXcoY3VycmVudFBhdGgsIHJocykpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjaGFuZ2VzKG5ldyBEaWZmRGVsZXRlZChjdXJyZW50UGF0aCwgbGhzKSk7XG4gICAgfSBlbHNlIGlmIChyZWFsVHlwZU9mKGxocykgIT09IHJlYWxUeXBlT2YocmhzKSkge1xuICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG4gICAgfSBlbHNlIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobGhzKSA9PT0gJ1tvYmplY3QgRGF0ZV0nICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyaHMpID09PSAnW29iamVjdCBEYXRlXScgJiYgKChsaHMgLSByaHMpICE9PSAwKSkge1xuICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG4gICAgfSBlbHNlIGlmIChsdHlwZSA9PT0gJ29iamVjdCcgJiYgbGhzICE9PSBudWxsICYmIHJocyAhPT0gbnVsbCkge1xuICAgICAgc3RhY2sgPSBzdGFjayB8fCBbXTtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKGxocykgPCAwKSB7XG4gICAgICAgIHN0YWNrLnB1c2gobGhzKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobGhzKSkge1xuICAgICAgICAgIHZhciBpLCBsZW4gPSBsaHMubGVuZ3RoO1xuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IHJocy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkFycmF5KGN1cnJlbnRQYXRoLCBpLCBuZXcgRGlmZkRlbGV0ZWQodW5kZWZpbmVkLCBsaHNbaV0pKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkZWVwRGlmZihsaHNbaV0sIHJoc1tpXSwgY2hhbmdlcywgcHJlZmlsdGVyLCBjdXJyZW50UGF0aCwgaSwgc3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB3aGlsZSAoaSA8IHJocy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNoYW5nZXMobmV3IERpZmZBcnJheShjdXJyZW50UGF0aCwgaSwgbmV3IERpZmZOZXcodW5kZWZpbmVkLCByaHNbaSsrXSkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGFrZXlzID0gT2JqZWN0LmtleXMobGhzKTtcbiAgICAgICAgICB2YXIgcGtleXMgPSBPYmplY3Qua2V5cyhyaHMpO1xuICAgICAgICAgIGFrZXlzLmZvckVhY2goZnVuY3Rpb24oaywgaSkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gcGtleXMuaW5kZXhPZihrKTtcbiAgICAgICAgICAgIGlmIChvdGhlciA+PSAwKSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1trXSwgcmhzW2tdLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgICAgIHBrZXlzID0gYXJyYXlSZW1vdmUocGtleXMsIG90aGVyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRlZXBEaWZmKGxoc1trXSwgdW5kZWZpbmVkLCBjaGFuZ2VzLCBwcmVmaWx0ZXIsIGN1cnJlbnRQYXRoLCBrLCBzdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcGtleXMuZm9yRWFjaChmdW5jdGlvbihrKSB7XG4gICAgICAgICAgICBkZWVwRGlmZih1bmRlZmluZWQsIHJoc1trXSwgY2hhbmdlcywgcHJlZmlsdGVyLCBjdXJyZW50UGF0aCwgaywgc3RhY2spO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHN0YWNrLmxlbmd0aCA9IHN0YWNrLmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsaHMgIT09IHJocykge1xuICAgICAgaWYgKCEobHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKGxocykgJiYgaXNOYU4ocmhzKSkpIHtcbiAgICAgICAgY2hhbmdlcyhuZXcgRGlmZkVkaXQoY3VycmVudFBhdGgsIGxocywgcmhzKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWNjdW11bGF0ZURpZmYobGhzLCByaHMsIHByZWZpbHRlciwgYWNjdW0pIHtcbiAgICBhY2N1bSA9IGFjY3VtIHx8IFtdO1xuICAgIGRlZXBEaWZmKGxocywgcmhzLFxuICAgICAgZnVuY3Rpb24oZGlmZikge1xuICAgICAgICBpZiAoZGlmZikge1xuICAgICAgICAgIGFjY3VtLnB1c2goZGlmZik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcmVmaWx0ZXIpO1xuICAgIHJldHVybiAoYWNjdW0ubGVuZ3RoKSA/IGFjY3VtIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlBcnJheUNoYW5nZShhcnIsIGluZGV4LCBjaGFuZ2UpIHtcbiAgICBpZiAoY2hhbmdlLnBhdGggJiYgY2hhbmdlLnBhdGgubGVuZ3RoKSB7XG4gICAgICB2YXIgaXQgPSBhcnJbaW5kZXhdLFxuICAgICAgICAgIGksIHUgPSBjaGFuZ2UucGF0aC5sZW5ndGggLSAxO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHU7IGkrKykge1xuICAgICAgICBpdCA9IGl0W2NoYW5nZS5wYXRoW2ldXTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgYXBwbHlBcnJheUNoYW5nZShpdFtjaGFuZ2UucGF0aFtpXV0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICBkZWxldGUgaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLnJocztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICBhcHBseUFycmF5Q2hhbmdlKGFycltpbmRleF0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICBhcnIgPSBhcnJheVJlbW92ZShhcnIsIGluZGV4KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlDaGFuZ2UodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSkge1xuICAgIGlmICh0YXJnZXQgJiYgc291cmNlICYmIGNoYW5nZSAmJiBjaGFuZ2Uua2luZCkge1xuICAgICAgdmFyIGl0ID0gdGFyZ2V0LFxuICAgICAgICAgIGkgPSAtMSxcbiAgICAgICAgICBsYXN0ID0gY2hhbmdlLnBhdGggPyBjaGFuZ2UucGF0aC5sZW5ndGggLSAxIDogMDtcbiAgICAgIHdoaWxlICgrK2kgPCBsYXN0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRbY2hhbmdlLnBhdGhbaV1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIGl0W2NoYW5nZS5wYXRoW2ldXSA9ICh0eXBlb2YgY2hhbmdlLnBhdGhbaV0gPT09ICdudW1iZXInKSA/IFtdIDoge307XG4gICAgICAgIH1cbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIGFwcGx5QXJyYXlDaGFuZ2UoY2hhbmdlLnBhdGggPyBpdFtjaGFuZ2UucGF0aFtpXV0gOiBpdCwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGRlbGV0ZSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0UnOlxuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UucmhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydEFycmF5Q2hhbmdlKGFyciwgaW5kZXgsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UucGF0aCAmJiBjaGFuZ2UucGF0aC5sZW5ndGgpIHtcbiAgICAgIC8vIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIG9iamVjdCBhdCB0aGUgaW5kZXggaGFzIGNoYW5nZWQuLi5cbiAgICAgIHZhciBpdCA9IGFycltpbmRleF0sXG4gICAgICAgICAgaSwgdSA9IGNoYW5nZS5wYXRoLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdTsgaSsrKSB7XG4gICAgICAgIGl0ID0gaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjaGFuZ2Uua2luZCkge1xuICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShpdFtjaGFuZ2UucGF0aFtpXV0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICBpdFtjaGFuZ2UucGF0aFtpXV0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICBkZWxldGUgaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0aGUgYXJyYXkgaXRlbSBpcyBkaWZmZXJlbnQuLi5cbiAgICAgIHN3aXRjaCAoY2hhbmdlLmtpbmQpIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgcmV2ZXJ0QXJyYXlDaGFuZ2UoYXJyW2luZGV4XSwgY2hhbmdlLmluZGV4LCBjaGFuZ2UuaXRlbSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgIGFycltpbmRleF0gPSBjaGFuZ2UubGhzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICBhcnJbaW5kZXhdID0gY2hhbmdlLmxocztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgYXJyID0gYXJyYXlSZW1vdmUoYXJyLCBpbmRleCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICBmdW5jdGlvbiByZXZlcnRDaGFuZ2UodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSkge1xuICAgIGlmICh0YXJnZXQgJiYgc291cmNlICYmIGNoYW5nZSAmJiBjaGFuZ2Uua2luZCkge1xuICAgICAgdmFyIGl0ID0gdGFyZ2V0LFxuICAgICAgICAgIGksIHU7XG4gICAgICB1ID0gY2hhbmdlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB1OyBpKyspIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdFtjaGFuZ2UucGF0aFtpXV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaXQgPSBpdFtjaGFuZ2UucGF0aFtpXV07XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgIC8vIEFycmF5IHdhcyBtb2RpZmllZC4uLlxuICAgICAgICAgIC8vIGl0IHdpbGwgYmUgYW4gYXJyYXkuLi5cbiAgICAgICAgICByZXZlcnRBcnJheUNoYW5nZShpdFtjaGFuZ2UucGF0aFtpXV0sIGNoYW5nZS5pbmRleCwgY2hhbmdlLml0ZW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEJzpcbiAgICAgICAgICAvLyBJdGVtIHdhcyBkZWxldGVkLi4uXG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgLy8gSXRlbSB3YXMgZWRpdGVkLi4uXG4gICAgICAgICAgaXRbY2hhbmdlLnBhdGhbaV1dID0gY2hhbmdlLmxocztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnTic6XG4gICAgICAgICAgLy8gSXRlbSBpcyBuZXcuLi5cbiAgICAgICAgICBkZWxldGUgaXRbY2hhbmdlLnBhdGhbaV1dO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGx5RGlmZih0YXJnZXQsIHNvdXJjZSwgZmlsdGVyKSB7XG4gICAgaWYgKHRhcmdldCAmJiBzb3VyY2UpIHtcbiAgICAgIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZSkge1xuICAgICAgICBpZiAoIWZpbHRlciB8fCBmaWx0ZXIodGFyZ2V0LCBzb3VyY2UsIGNoYW5nZSkpIHtcbiAgICAgICAgICBhcHBseUNoYW5nZSh0YXJnZXQsIHNvdXJjZSwgY2hhbmdlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRlZXBEaWZmKHRhcmdldCwgc291cmNlLCBvbkNoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYWNjdW11bGF0ZURpZmYsIHtcblxuICAgIGRpZmY6IHtcbiAgICAgIHZhbHVlOiBhY2N1bXVsYXRlRGlmZixcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9LFxuICAgIG9ic2VydmFibGVEaWZmOiB7XG4gICAgICB2YWx1ZTogZGVlcERpZmYsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBhcHBseURpZmY6IHtcbiAgICAgIHZhbHVlOiBhcHBseURpZmYsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBhcHBseUNoYW5nZToge1xuICAgICAgdmFsdWU6IGFwcGx5Q2hhbmdlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgcmV2ZXJ0Q2hhbmdlOiB7XG4gICAgICB2YWx1ZTogcmV2ZXJ0Q2hhbmdlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgaXNDb25mbGljdDoge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBjb25mbGljdDtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBub0NvbmZsaWN0OiB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjb25mbGljdFJlc29sdXRpb24pIHtcbiAgICAgICAgICBjb25mbGljdFJlc29sdXRpb24uZm9yRWFjaChmdW5jdGlvbihpdCkge1xuICAgICAgICAgICAgaXQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25mbGljdFJlc29sdXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRlRGlmZjtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYWNjdW11bGF0ZURpZmY7XG59KSk7XG4iLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsInZhciBvdmVyQXJnID0gcmVxdWlyZSgnLi9fb3ZlckFyZycpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBnZXRQcm90b3R5cGUgPSBvdmVyQXJnKE9iamVjdC5nZXRQcm90b3R5cGVPZiwgT2JqZWN0KTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRQcm90b3R5cGU7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRSYXdUYWc7XG4iLCIvKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBvYmplY3RUb1N0cmluZztcbiIsIi8qKlxuICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyQXJnKGZ1bmMsIHRyYW5zZm9ybSkge1xuICByZXR1cm4gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG92ZXJBcmc7XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG4iLCJ2YXIgYmFzZUdldFRhZyA9IHJlcXVpcmUoJy4vX2Jhc2VHZXRUYWcnKSxcbiAgICBnZXRQcm90b3R5cGUgPSByZXF1aXJlKCcuL19nZXRQcm90b3R5cGUnKSxcbiAgICBpc09iamVjdExpa2UgPSByZXF1aXJlKCcuL2lzT2JqZWN0TGlrZScpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XSc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNQbGFpbk9iamVjdDtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnByaW50QnVmZmVyID0gcHJpbnRCdWZmZXI7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG52YXIgX2RpZmYgPSByZXF1aXJlKCcuL2RpZmYnKTtcblxudmFyIF9kaWZmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RpZmYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH1cblxuLyoqXG4gKiBHZXQgbG9nIGxldmVsIHN0cmluZyBiYXNlZCBvbiBzdXBwbGllZCBwYXJhbXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IGZ1bmN0aW9uIHwgb2JqZWN0fSBsZXZlbCAtIGNvbnNvbGVbbGV2ZWxdXG4gKiBAcGFyYW0ge29iamVjdH0gYWN0aW9uIC0gc2VsZWN0ZWQgYWN0aW9uXG4gKiBAcGFyYW0ge2FycmF5fSBwYXlsb2FkIC0gc2VsZWN0ZWQgcGF5bG9hZFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBsb2cgZW50cnkgdHlwZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGxldmVsXG4gKi9cbmZ1bmN0aW9uIGdldExvZ0xldmVsKGxldmVsLCBhY3Rpb24sIHBheWxvYWQsIHR5cGUpIHtcbiAgc3dpdGNoICh0eXBlb2YgbGV2ZWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGxldmVsKSkge1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gdHlwZW9mIGxldmVsW3R5cGVdID09PSAnZnVuY3Rpb24nID8gbGV2ZWxbdHlwZV0uYXBwbHkobGV2ZWwsIF90b0NvbnN1bWFibGVBcnJheShwYXlsb2FkKSkgOiBsZXZlbFt0eXBlXTtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICByZXR1cm4gbGV2ZWwoYWN0aW9uKTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGxldmVsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRUaXRsZUZvcm1hdHRlcihvcHRpb25zKSB7XG4gIHZhciB0aW1lc3RhbXAgPSBvcHRpb25zLnRpbWVzdGFtcDtcbiAgdmFyIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbiwgdGltZSwgdG9vaykge1xuICAgIHZhciBwYXJ0cyA9IFsnYWN0aW9uJ107XG4gICAgaWYgKHRpbWVzdGFtcCkge1xuICAgICAgcGFydHMucHVzaCgnQCAnICsgdGltZSk7XG4gICAgfVxuICAgIHBhcnRzLnB1c2goYWN0aW9uLnR5cGUpO1xuICAgIGlmIChkdXJhdGlvbikge1xuICAgICAgcGFydHMucHVzaCgnKGluICcgKyB0b29rLnRvRml4ZWQoMikgKyAnIG1zKScpO1xuICAgIH1cbiAgICByZXR1cm4gcGFydHMuam9pbignICcpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcmludEJ1ZmZlcihidWZmZXIsIG9wdGlvbnMpIHtcbiAgdmFyIGxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyO1xuICB2YXIgYWN0aW9uVHJhbnNmb3JtZXIgPSBvcHRpb25zLmFjdGlvblRyYW5zZm9ybWVyO1xuICB2YXIgX29wdGlvbnMkdGl0bGVGb3JtYXR0ID0gb3B0aW9ucy50aXRsZUZvcm1hdHRlcjtcbiAgdmFyIHRpdGxlRm9ybWF0dGVyID0gX29wdGlvbnMkdGl0bGVGb3JtYXR0ID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VGl0bGVGb3JtYXR0ZXIob3B0aW9ucykgOiBfb3B0aW9ucyR0aXRsZUZvcm1hdHQ7XG4gIHZhciBjb2xsYXBzZWQgPSBvcHRpb25zLmNvbGxhcHNlZDtcbiAgdmFyIGNvbG9ycyA9IG9wdGlvbnMuY29sb3JzO1xuICB2YXIgbGV2ZWwgPSBvcHRpb25zLmxldmVsO1xuICB2YXIgZGlmZiA9IG9wdGlvbnMuZGlmZjtcblxuICBidWZmZXIuZm9yRWFjaChmdW5jdGlvbiAobG9nRW50cnksIGtleSkge1xuICAgIHZhciBzdGFydGVkID0gbG9nRW50cnkuc3RhcnRlZDtcbiAgICB2YXIgc3RhcnRlZFRpbWUgPSBsb2dFbnRyeS5zdGFydGVkVGltZTtcbiAgICB2YXIgYWN0aW9uID0gbG9nRW50cnkuYWN0aW9uO1xuICAgIHZhciBwcmV2U3RhdGUgPSBsb2dFbnRyeS5wcmV2U3RhdGU7XG4gICAgdmFyIGVycm9yID0gbG9nRW50cnkuZXJyb3I7XG4gICAgdmFyIHRvb2sgPSBsb2dFbnRyeS50b29rO1xuICAgIHZhciBuZXh0U3RhdGUgPSBsb2dFbnRyeS5uZXh0U3RhdGU7XG5cbiAgICB2YXIgbmV4dEVudHJ5ID0gYnVmZmVyW2tleSArIDFdO1xuXG4gICAgaWYgKG5leHRFbnRyeSkge1xuICAgICAgbmV4dFN0YXRlID0gbmV4dEVudHJ5LnByZXZTdGF0ZTtcbiAgICAgIHRvb2sgPSBuZXh0RW50cnkuc3RhcnRlZCAtIHN0YXJ0ZWQ7XG4gICAgfVxuXG4gICAgLy8gTWVzc2FnZVxuICAgIHZhciBmb3JtYXR0ZWRBY3Rpb24gPSBhY3Rpb25UcmFuc2Zvcm1lcihhY3Rpb24pO1xuICAgIHZhciBpc0NvbGxhcHNlZCA9IHR5cGVvZiBjb2xsYXBzZWQgPT09ICdmdW5jdGlvbicgPyBjb2xsYXBzZWQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICB9LCBhY3Rpb24pIDogY29sbGFwc2VkO1xuXG4gICAgdmFyIGZvcm1hdHRlZFRpbWUgPSAoMCwgX2hlbHBlcnMuZm9ybWF0VGltZSkoc3RhcnRlZFRpbWUpO1xuICAgIHZhciB0aXRsZUNTUyA9IGNvbG9ycy50aXRsZSA/ICdjb2xvcjogJyArIGNvbG9ycy50aXRsZShmb3JtYXR0ZWRBY3Rpb24pICsgJzsnIDogbnVsbDtcbiAgICB2YXIgdGl0bGUgPSB0aXRsZUZvcm1hdHRlcihmb3JtYXR0ZWRBY3Rpb24sIGZvcm1hdHRlZFRpbWUsIHRvb2spO1xuXG4gICAgLy8gUmVuZGVyXG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgICBpZiAoY29sb3JzLnRpdGxlKSBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoJyVjICcgKyB0aXRsZSwgdGl0bGVDU1MpO2Vsc2UgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKHRpdGxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb2xvcnMudGl0bGUpIGxvZ2dlci5ncm91cCgnJWMgJyArIHRpdGxlLCB0aXRsZUNTUyk7ZWxzZSBsb2dnZXIuZ3JvdXAodGl0bGUpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5sb2codGl0bGUpO1xuICAgIH1cblxuICAgIHZhciBwcmV2U3RhdGVMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtwcmV2U3RhdGVdLCAncHJldlN0YXRlJyk7XG4gICAgdmFyIGFjdGlvbkxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW2Zvcm1hdHRlZEFjdGlvbl0sICdhY3Rpb24nKTtcbiAgICB2YXIgZXJyb3JMZXZlbCA9IGdldExvZ0xldmVsKGxldmVsLCBmb3JtYXR0ZWRBY3Rpb24sIFtlcnJvciwgcHJldlN0YXRlXSwgJ2Vycm9yJyk7XG4gICAgdmFyIG5leHRTdGF0ZUxldmVsID0gZ2V0TG9nTGV2ZWwobGV2ZWwsIGZvcm1hdHRlZEFjdGlvbiwgW25leHRTdGF0ZV0sICduZXh0U3RhdGUnKTtcblxuICAgIGlmIChwcmV2U3RhdGVMZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5wcmV2U3RhdGUpIGxvZ2dlcltwcmV2U3RhdGVMZXZlbF0oJyVjIHByZXYgc3RhdGUnLCAnY29sb3I6ICcgKyBjb2xvcnMucHJldlN0YXRlKHByZXZTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIHByZXZTdGF0ZSk7ZWxzZSBsb2dnZXJbcHJldlN0YXRlTGV2ZWxdKCdwcmV2IHN0YXRlJywgcHJldlN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoYWN0aW9uTGV2ZWwpIHtcbiAgICAgIGlmIChjb2xvcnMuYWN0aW9uKSBsb2dnZXJbYWN0aW9uTGV2ZWxdKCclYyBhY3Rpb24nLCAnY29sb3I6ICcgKyBjb2xvcnMuYWN0aW9uKGZvcm1hdHRlZEFjdGlvbikgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIGZvcm1hdHRlZEFjdGlvbik7ZWxzZSBsb2dnZXJbYWN0aW9uTGV2ZWxdKCdhY3Rpb24nLCBmb3JtYXR0ZWRBY3Rpb24pO1xuICAgIH1cblxuICAgIGlmIChlcnJvciAmJiBlcnJvckxldmVsKSB7XG4gICAgICBpZiAoY29sb3JzLmVycm9yKSBsb2dnZXJbZXJyb3JMZXZlbF0oJyVjIGVycm9yJywgJ2NvbG9yOiAnICsgY29sb3JzLmVycm9yKGVycm9yLCBwcmV2U3RhdGUpICsgJzsgZm9udC13ZWlnaHQ6IGJvbGQnLCBlcnJvcik7ZWxzZSBsb2dnZXJbZXJyb3JMZXZlbF0oJ2Vycm9yJywgZXJyb3IpO1xuICAgIH1cblxuICAgIGlmIChuZXh0U3RhdGVMZXZlbCkge1xuICAgICAgaWYgKGNvbG9ycy5uZXh0U3RhdGUpIGxvZ2dlcltuZXh0U3RhdGVMZXZlbF0oJyVjIG5leHQgc3RhdGUnLCAnY29sb3I6ICcgKyBjb2xvcnMubmV4dFN0YXRlKG5leHRTdGF0ZSkgKyAnOyBmb250LXdlaWdodDogYm9sZCcsIG5leHRTdGF0ZSk7ZWxzZSBsb2dnZXJbbmV4dFN0YXRlTGV2ZWxdKCduZXh0IHN0YXRlJywgbmV4dFN0YXRlKTtcbiAgICB9XG5cbiAgICBpZiAoZGlmZikge1xuICAgICAgKDAsIF9kaWZmMi5kZWZhdWx0KShwcmV2U3RhdGUsIG5leHRTdGF0ZSwgbG9nZ2VyLCBpc0NvbGxhcHNlZCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5sb2coJ+KAlOKAlCBsb2cgZW5kIOKAlOKAlCcpO1xuICAgIH1cbiAgfSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSB7XG4gIGxldmVsOiBcImxvZ1wiLFxuICBsb2dnZXI6IGNvbnNvbGUsXG4gIGxvZ0Vycm9yczogdHJ1ZSxcbiAgY29sbGFwc2VkOiB1bmRlZmluZWQsXG4gIHByZWRpY2F0ZTogdW5kZWZpbmVkLFxuICBkdXJhdGlvbjogZmFsc2UsXG4gIHRpbWVzdGFtcDogdHJ1ZSxcbiAgc3RhdGVUcmFuc2Zvcm1lcjogZnVuY3Rpb24gc3RhdGVUcmFuc2Zvcm1lcihzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfSxcbiAgYWN0aW9uVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb247XG4gIH0sXG4gIGVycm9yVHJhbnNmb3JtZXI6IGZ1bmN0aW9uIGVycm9yVHJhbnNmb3JtZXIoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH0sXG4gIGNvbG9yczoge1xuICAgIHRpdGxlOiBmdW5jdGlvbiB0aXRsZSgpIHtcbiAgICAgIHJldHVybiBcImluaGVyaXRcIjtcbiAgICB9LFxuICAgIHByZXZTdGF0ZTogZnVuY3Rpb24gcHJldlN0YXRlKCkge1xuICAgICAgcmV0dXJuIFwiIzlFOUU5RVwiO1xuICAgIH0sXG4gICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXCIjMDNBOUY0XCI7XG4gICAgfSxcbiAgICBuZXh0U3RhdGU6IGZ1bmN0aW9uIG5leHRTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBcIiM0Q0FGNTBcIjtcbiAgICB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcigpIHtcbiAgICAgIHJldHVybiBcIiNGMjA0MDRcIjtcbiAgICB9XG4gIH0sXG4gIGRpZmY6IGZhbHNlLFxuICBkaWZmUHJlZGljYXRlOiB1bmRlZmluZWQsXG5cbiAgLy8gRGVwcmVjYXRlZCBvcHRpb25zXG4gIHRyYW5zZm9ybWVyOiB1bmRlZmluZWRcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBkaWZmTG9nZ2VyO1xuXG52YXIgX2RlZXBEaWZmID0gcmVxdWlyZSgnZGVlcC1kaWZmJyk7XG5cbnZhciBfZGVlcERpZmYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVlcERpZmYpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmxpdGJpdC9kaWZmI2RpZmZlcmVuY2VzXG52YXIgZGljdGlvbmFyeSA9IHtcbiAgJ0UnOiB7XG4gICAgY29sb3I6ICcjMjE5NkYzJyxcbiAgICB0ZXh0OiAnQ0hBTkdFRDonXG4gIH0sXG4gICdOJzoge1xuICAgIGNvbG9yOiAnIzRDQUY1MCcsXG4gICAgdGV4dDogJ0FEREVEOidcbiAgfSxcbiAgJ0QnOiB7XG4gICAgY29sb3I6ICcjRjQ0MzM2JyxcbiAgICB0ZXh0OiAnREVMRVRFRDonXG4gIH0sXG4gICdBJzoge1xuICAgIGNvbG9yOiAnIzIxOTZGMycsXG4gICAgdGV4dDogJ0FSUkFZOidcbiAgfVxufTtcblxuZnVuY3Rpb24gc3R5bGUoa2luZCkge1xuICByZXR1cm4gJ2NvbG9yOiAnICsgZGljdGlvbmFyeVtraW5kXS5jb2xvciArICc7IGZvbnQtd2VpZ2h0OiBib2xkJztcbn1cblxuZnVuY3Rpb24gcmVuZGVyKGRpZmYpIHtcbiAgdmFyIGtpbmQgPSBkaWZmLmtpbmQ7XG4gIHZhciBwYXRoID0gZGlmZi5wYXRoO1xuICB2YXIgbGhzID0gZGlmZi5saHM7XG4gIHZhciByaHMgPSBkaWZmLnJocztcbiAgdmFyIGluZGV4ID0gZGlmZi5pbmRleDtcbiAgdmFyIGl0ZW0gPSBkaWZmLml0ZW07XG5cbiAgc3dpdGNoIChraW5kKSB7XG4gICAgY2FzZSAnRSc6XG4gICAgICByZXR1cm4gcGF0aC5qb2luKCcuJykgKyAnICcgKyBsaHMgKyAnIOKGkiAnICsgcmhzO1xuICAgIGNhc2UgJ04nOlxuICAgICAgcmV0dXJuIHBhdGguam9pbignLicpICsgJyAnICsgcmhzO1xuICAgIGNhc2UgJ0QnOlxuICAgICAgcmV0dXJuICcnICsgcGF0aC5qb2luKCcuJyk7XG4gICAgY2FzZSAnQSc6XG4gICAgICByZXR1cm4gW3BhdGguam9pbignLicpICsgJ1snICsgaW5kZXggKyAnXScsIGl0ZW1dO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBkaWZmTG9nZ2VyKHByZXZTdGF0ZSwgbmV3U3RhdGUsIGxvZ2dlciwgaXNDb2xsYXBzZWQpIHtcbiAgdmFyIGRpZmYgPSAoMCwgX2RlZXBEaWZmMi5kZWZhdWx0KShwcmV2U3RhdGUsIG5ld1N0YXRlKTtcblxuICB0cnkge1xuICAgIGlmIChpc0NvbGxhcHNlZCkge1xuICAgICAgbG9nZ2VyLmdyb3VwQ29sbGFwc2VkKCdkaWZmJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci5ncm91cCgnZGlmZicpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlci5sb2coJ2RpZmYnKTtcbiAgfVxuXG4gIGlmIChkaWZmKSB7XG4gICAgZGlmZi5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICB2YXIga2luZCA9IGVsZW0ua2luZDtcblxuICAgICAgdmFyIG91dHB1dCA9IHJlbmRlcihlbGVtKTtcblxuICAgICAgbG9nZ2VyLmxvZygnJWMgJyArIGRpY3Rpb25hcnlba2luZF0udGV4dCwgc3R5bGUoa2luZCksIG91dHB1dCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbG9nZ2VyLmxvZygn4oCU4oCUIG5vIGRpZmYg4oCU4oCUJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmxvZygn4oCU4oCUIGRpZmYgZW5kIOKAlOKAlCAnKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgcmVwZWF0ID0gZXhwb3J0cy5yZXBlYXQgPSBmdW5jdGlvbiByZXBlYXQoc3RyLCB0aW1lcykge1xuICByZXR1cm4gbmV3IEFycmF5KHRpbWVzICsgMSkuam9pbihzdHIpO1xufTtcblxudmFyIHBhZCA9IGV4cG9ydHMucGFkID0gZnVuY3Rpb24gcGFkKG51bSwgbWF4TGVuZ3RoKSB7XG4gIHJldHVybiByZXBlYXQoXCIwXCIsIG1heExlbmd0aCAtIG51bS50b1N0cmluZygpLmxlbmd0aCkgKyBudW07XG59O1xuXG52YXIgZm9ybWF0VGltZSA9IGV4cG9ydHMuZm9ybWF0VGltZSA9IGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZSkge1xuICByZXR1cm4gcGFkKHRpbWUuZ2V0SG91cnMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldE1pbnV0ZXMoKSwgMikgKyBcIjpcIiArIHBhZCh0aW1lLmdldFNlY29uZHMoKSwgMikgKyBcIi5cIiArIHBhZCh0aW1lLmdldE1pbGxpc2Vjb25kcygpLCAzKTtcbn07XG5cbi8vIFVzZSBwZXJmb3JtYW5jZSBBUEkgaWYgaXQncyBhdmFpbGFibGUgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciBwcmVjaXNpb25cbnZhciB0aW1lciA9IGV4cG9ydHMudGltZXIgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiID8gcGVyZm9ybWFuY2UgOiBEYXRlOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jb3JlID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5cbnZhciBfaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG52YXIgX2RlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG52YXIgX2RlZmF1bHRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmF1bHRzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBDcmVhdGVzIGxvZ2dlciB3aXRoIGZvbGxvd2luZyBvcHRpb25zXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBvcHRpb25zIGZvciBsb2dnZXJcbiAqIEBwYXJhbSB7c3RyaW5nIHwgZnVuY3Rpb24gfCBvYmplY3R9IG9wdGlvbnMubGV2ZWwgLSBjb25zb2xlW2xldmVsXVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmR1cmF0aW9uIC0gcHJpbnQgZHVyYXRpb24gb2YgZWFjaCBhY3Rpb24/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMudGltZXN0YW1wIC0gcHJpbnQgdGltZXN0YW1wIHdpdGggZWFjaCBhY3Rpb24/XG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5jb2xvcnMgLSBjdXN0b20gY29sb3JzXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucy5sb2dnZXIgLSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgYGNvbnNvbGVgIEFQSVxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmxvZ0Vycm9ycyAtIHNob3VsZCBlcnJvcnMgaW4gYWN0aW9uIGV4ZWN1dGlvbiBiZSBjYXVnaHQsIGxvZ2dlZCwgYW5kIHJlLXRocm93bj9cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5jb2xsYXBzZWQgLSBpcyBncm91cCBjb2xsYXBzZWQ/XG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucHJlZGljYXRlIC0gY29uZGl0aW9uIHdoaWNoIHJlc29sdmVzIGxvZ2dlciBiZWhhdmlvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyIC0gdHJhbnNmb3JtIHN0YXRlIGJlZm9yZSBwcmludFxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5hY3Rpb25UcmFuc2Zvcm1lciAtIHRyYW5zZm9ybSBhY3Rpb24gYmVmb3JlIHByaW50XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLmVycm9yVHJhbnNmb3JtZXIgLSB0cmFuc2Zvcm0gZXJyb3IgYmVmb3JlIHByaW50XG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufSBsb2dnZXIgbWlkZGxld2FyZVxuICovXG5mdW5jdGlvbiBjcmVhdGVMb2dnZXIoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG5cbiAgdmFyIGxvZ2dlck9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgX2RlZmF1bHRzMi5kZWZhdWx0LCBvcHRpb25zKTtcblxuICB2YXIgbG9nZ2VyID0gbG9nZ2VyT3B0aW9ucy5sb2dnZXI7XG4gIHZhciB0cmFuc2Zvcm1lciA9IGxvZ2dlck9wdGlvbnMudHJhbnNmb3JtZXI7XG4gIHZhciBzdGF0ZVRyYW5zZm9ybWVyID0gbG9nZ2VyT3B0aW9ucy5zdGF0ZVRyYW5zZm9ybWVyO1xuICB2YXIgZXJyb3JUcmFuc2Zvcm1lciA9IGxvZ2dlck9wdGlvbnMuZXJyb3JUcmFuc2Zvcm1lcjtcbiAgdmFyIHByZWRpY2F0ZSA9IGxvZ2dlck9wdGlvbnMucHJlZGljYXRlO1xuICB2YXIgbG9nRXJyb3JzID0gbG9nZ2VyT3B0aW9ucy5sb2dFcnJvcnM7XG4gIHZhciBkaWZmUHJlZGljYXRlID0gbG9nZ2VyT3B0aW9ucy5kaWZmUHJlZGljYXRlO1xuXG4gIC8vIFJldHVybiBpZiAnY29uc29sZScgb2JqZWN0IGlzIG5vdCBkZWZpbmVkXG5cbiAgaWYgKHR5cGVvZiBsb2dnZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICBpZiAodHJhbnNmb3JtZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdPcHRpb24gXFwndHJhbnNmb3JtZXJcXCcgaXMgZGVwcmVjYXRlZCwgdXNlIFxcJ3N0YXRlVHJhbnNmb3JtZXJcXCcgaW5zdGVhZCEnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gIH1cblxuICB2YXIgbG9nQnVmZmVyID0gW107XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGdldFN0YXRlID0gX3JlZi5nZXRTdGF0ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIC8vIEV4aXQgZWFybHkgaWYgcHJlZGljYXRlIGZ1bmN0aW9uIHJldHVybnMgJ2ZhbHNlJ1xuICAgICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhcHJlZGljYXRlKGdldFN0YXRlLCBhY3Rpb24pKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsb2dFbnRyeSA9IHt9O1xuICAgICAgICBsb2dCdWZmZXIucHVzaChsb2dFbnRyeSk7XG5cbiAgICAgICAgbG9nRW50cnkuc3RhcnRlZCA9IF9oZWxwZXJzLnRpbWVyLm5vdygpO1xuICAgICAgICBsb2dFbnRyeS5zdGFydGVkVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGxvZ0VudHJ5LnByZXZTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG4gICAgICAgIGxvZ0VudHJ5LmFjdGlvbiA9IGFjdGlvbjtcblxuICAgICAgICB2YXIgcmV0dXJuZWRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGxvZ0Vycm9ycykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gbmV4dChhY3Rpb24pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ0VudHJ5LmVycm9yID0gZXJyb3JUcmFuc2Zvcm1lcihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IG5leHQoYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvZ0VudHJ5LnRvb2sgPSBfaGVscGVycy50aW1lci5ub3coKSAtIGxvZ0VudHJ5LnN0YXJ0ZWQ7XG4gICAgICAgIGxvZ0VudHJ5Lm5leHRTdGF0ZSA9IHN0YXRlVHJhbnNmb3JtZXIoZ2V0U3RhdGUoKSk7XG5cbiAgICAgICAgdmFyIGRpZmYgPSBsb2dnZXJPcHRpb25zLmRpZmYgJiYgdHlwZW9mIGRpZmZQcmVkaWNhdGUgPT09ICdmdW5jdGlvbicgPyBkaWZmUHJlZGljYXRlKGdldFN0YXRlLCBhY3Rpb24pIDogbG9nZ2VyT3B0aW9ucy5kaWZmO1xuXG4gICAgICAgICgwLCBfY29yZS5wcmludEJ1ZmZlcikobG9nQnVmZmVyLCBfZXh0ZW5kcyh7fSwgbG9nZ2VyT3B0aW9ucywgeyBkaWZmOiBkaWZmIH0pKTtcbiAgICAgICAgbG9nQnVmZmVyLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgaWYgKGxvZ0VudHJ5LmVycm9yKSB0aHJvdyBsb2dFbnRyeS5lcnJvcjtcbiAgICAgICAgcmV0dXJuIHJldHVybmVkVmFsdWU7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUxvZ2dlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gYXBwbHlNaWRkbGV3YXJlO1xuXG52YXIgX2NvbXBvc2UgPSByZXF1aXJlKCcuL2NvbXBvc2UnKTtcblxudmFyIF9jb21wb3NlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbXBvc2UpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpO1xuICAgICAgdmFyIF9kaXNwYXRjaCA9IHN0b3JlLmRpc3BhdGNoO1xuICAgICAgdmFyIGNoYWluID0gW107XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gX2NvbXBvc2UyWydkZWZhdWx0J10uYXBwbHkodW5kZWZpbmVkLCBjaGFpbikoc3RvcmUuZGlzcGF0Y2gpO1xuXG4gICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHN0b3JlLCB7XG4gICAgICAgIGRpc3BhdGNoOiBfZGlzcGF0Y2hcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1snZGVmYXVsdCddID0gYmluZEFjdGlvbkNyZWF0b3JzO1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcbiAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAqIGFuZCBnZXQgYSBmdW5jdGlvbiBpbiByZXR1cm4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuICogc3RvcmUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcbiAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcbiAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG4gKiBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcignYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkICcgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgJy4gJyArICdEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO1xuICB9XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhY3Rpb25DcmVhdG9ycyk7XG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0c1snZGVmYXVsdCddID0gY29tYmluZVJlZHVjZXJzO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QgPSByZXF1aXJlKCdsb2Rhc2gvaXNQbGFpbk9iamVjdCcpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJy4vdXRpbHMvd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gIHZhciBhY3Rpb25OYW1lID0gYWN0aW9uVHlwZSAmJiAnXCInICsgYWN0aW9uVHlwZS50b1N0cmluZygpICsgJ1wiJyB8fCAnYW4gYWN0aW9uJztcblxuICByZXR1cm4gJ0dpdmVuIGFjdGlvbiAnICsgYWN0aW9uTmFtZSArICcsIHJlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gJyArICdUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuJztcbn1cblxuZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBfY3JlYXRlU3RvcmUuQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghKDAsIF9pc1BsYWluT2JqZWN0MlsnZGVmYXVsdCddKShpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiAnVGhlICcgKyBhcmd1bWVudE5hbWUgKyAnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyAnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgJyArICgna2V5czogXCInICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyAnXCInKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XTtcbiAgfSk7XG5cbiAgdW5leHBlY3RlZEtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlW2tleV0gPSB0cnVlO1xuICB9KTtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiAnVW5leHBlY3RlZCAnICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyAnICcgKyAoJ1wiJyArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiIGZvdW5kIGluICcgKyBhcmd1bWVudE5hbWUgKyAnLiAnKSArICdFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6ICcgKyAoJ1wiJyArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTYW5pdHkocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHsgdHlwZTogX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgfSk7XG5cbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlciBcIicgKyBrZXkgKyAnXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gJyArICdJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgJyArICdleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5ICcgKyAnbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZSA9ICdAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7IHR5cGU6IHR5cGUgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXIgXCInICsga2V5ICsgJ1wiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuICcgKyAoJ0RvblxcJ3QgdHJ5IHRvIGhhbmRsZSAnICsgX2NyZWF0ZVN0b3JlLkFjdGlvblR5cGVzLklOSVQgKyAnIG9yIG90aGVyIGFjdGlvbnMgaW4gXCJyZWR1eC8qXCIgJykgKyAnbmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgJyArICdjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCAnICsgJ2luIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSAnICsgJ2FjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZC4nKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAoMCwgX3dhcm5pbmcyWydkZWZhdWx0J10pKCdObyByZWR1Y2VyIHByb3ZpZGVkIGZvciBrZXkgXCInICsga2V5ICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdmFyIHVuZXhwZWN0ZWRLZXlDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIHNhbml0eUVycm9yO1xuICB0cnkge1xuICAgIGFzc2VydFJlZHVjZXJTYW5pdHkoZmluYWxSZWR1Y2Vycyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBzYW5pdHlFcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oKSB7XG4gICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8ge30gOiBhcmd1bWVudHNbMF07XG4gICAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50c1sxXTtcblxuICAgIGlmIChzYW5pdHlFcnJvcikge1xuICAgICAgdGhyb3cgc2FuaXR5RXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICAoMCwgX3dhcm5pbmcyWydkZWZhdWx0J10pKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBmaW5hbFJlZHVjZXJLZXlzW2ldO1xuICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW2tleV07XG4gICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgbmV4dFN0YXRlW2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG4gIH07XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGNvbXBvc2U7XG4vKipcbiAqIENvbXBvc2VzIHNpbmdsZS1hcmd1bWVudCBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LiBUaGUgcmlnaHRtb3N0XG4gKiBmdW5jdGlvbiBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMgYXMgaXQgcHJvdmlkZXMgdGhlIHNpZ25hdHVyZSBmb3JcbiAqIHRoZSByZXN1bHRpbmcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmNzIFRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiBvYnRhaW5lZCBieSBjb21wb3NpbmcgdGhlIGFyZ3VtZW50IGZ1bmN0aW9uc1xuICogZnJvbSByaWdodCB0byBsZWZ0LiBGb3IgZXhhbXBsZSwgY29tcG9zZShmLCBnLCBoKSBpcyBpZGVudGljYWwgdG8gZG9pbmdcbiAqICguLi5hcmdzKSA9PiBmKGcoaCguLi5hcmdzKSkpLlxuICovXG5cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmNzWzBdO1xuICB9XG5cbiAgdmFyIGxhc3QgPSBmdW5jc1tmdW5jcy5sZW5ndGggLSAxXTtcbiAgdmFyIHJlc3QgPSBmdW5jcy5zbGljZSgwLCAtMSk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHJlc3QucmVkdWNlUmlnaHQoZnVuY3Rpb24gKGNvbXBvc2VkLCBmKSB7XG4gICAgICByZXR1cm4gZihjb21wb3NlZCk7XG4gICAgfSwgbGFzdC5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cykpO1xuICB9O1xufSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuQWN0aW9uVHlwZXMgPSB1bmRlZmluZWQ7XG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVTdG9yZTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnbG9kYXNoL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUgPSByZXF1aXJlKCdzeW1ib2wtb2JzZXJ2YWJsZScpO1xuXG52YXIgX3N5bWJvbE9ic2VydmFibGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sT2JzZXJ2YWJsZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciBBY3Rpb25UeXBlcyA9IGV4cG9ydHMuQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6ICdAQHJlZHV4L0lOSVQnXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuaGFuY2VyIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gKlxuICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gIHZhciBfcmVmMjtcblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBlbmhhbmNlciA9IHByZWxvYWRlZFN0YXRlO1xuICAgIHByZWxvYWRlZFN0YXRlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBlbmhhbmNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbmhhbmNlcihjcmVhdGVTdG9yZSkocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgcmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgdmFyIGN1cnJlbnRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgdmFyIGN1cnJlbnRTdGF0ZSA9IHByZWxvYWRlZFN0YXRlO1xuICB2YXIgY3VycmVudExpc3RlbmVycyA9IFtdO1xuICB2YXIgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnM7XG4gIHZhciBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFN0YXRlKCkge1xuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNoYW5nZSBsaXN0ZW5lci4gSXQgd2lsbCBiZSBjYWxsZWQgYW55IHRpbWUgYW4gYWN0aW9uIGlzIGRpc3BhdGNoZWQsXG4gICAqIGFuZCBzb21lIHBhcnQgb2YgdGhlIHN0YXRlIHRyZWUgbWF5IHBvdGVudGlhbGx5IGhhdmUgY2hhbmdlZC4gWW91IG1heSB0aGVuXG4gICAqIGNhbGwgYGdldFN0YXRlKClgIHRvIHJlYWQgdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBpbnNpZGUgdGhlIGNhbGxiYWNrLlxuICAgKlxuICAgKiBZb3UgbWF5IGNhbGwgYGRpc3BhdGNoKClgIGZyb20gYSBjaGFuZ2UgbGlzdGVuZXIsIHdpdGggdGhlIGZvbGxvd2luZ1xuICAgKiBjYXZlYXRzOlxuICAgKlxuICAgKiAxLiBUaGUgc3Vic2NyaXB0aW9ucyBhcmUgc25hcHNob3R0ZWQganVzdCBiZWZvcmUgZXZlcnkgYGRpc3BhdGNoKClgIGNhbGwuXG4gICAqIElmIHlvdSBzdWJzY3JpYmUgb3IgdW5zdWJzY3JpYmUgd2hpbGUgdGhlIGxpc3RlbmVycyBhcmUgYmVpbmcgaW52b2tlZCwgdGhpc1xuICAgKiB3aWxsIG5vdCBoYXZlIGFueSBlZmZlY3Qgb24gdGhlIGBkaXNwYXRjaCgpYCB0aGF0IGlzIGN1cnJlbnRseSBpbiBwcm9ncmVzcy5cbiAgICogSG93ZXZlciwgdGhlIG5leHQgYGRpc3BhdGNoKClgIGNhbGwsIHdoZXRoZXIgbmVzdGVkIG9yIG5vdCwgd2lsbCB1c2UgYSBtb3JlXG4gICAqIHJlY2VudCBzbmFwc2hvdCBvZiB0aGUgc3Vic2NyaXB0aW9uIGxpc3QuXG4gICAqXG4gICAqIDIuIFRoZSBsaXN0ZW5lciBzaG91bGQgbm90IGV4cGVjdCB0byBzZWUgYWxsIHN0YXRlIGNoYW5nZXMsIGFzIHRoZSBzdGF0ZVxuICAgKiBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZCBtdWx0aXBsZSB0aW1lcyBkdXJpbmcgYSBuZXN0ZWQgYGRpc3BhdGNoKClgIGJlZm9yZVxuICAgKiB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkLiBJdCBpcywgaG93ZXZlciwgZ3VhcmFudGVlZCB0aGF0IGFsbCBzdWJzY3JpYmVyc1xuICAgKiByZWdpc3RlcmVkIGJlZm9yZSB0aGUgYGRpc3BhdGNoKClgIHN0YXJ0ZWQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgbGF0ZXN0XG4gICAqIHN0YXRlIGJ5IHRoZSB0aW1lIGl0IGV4aXRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBBIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZXZlcnkgZGlzcGF0Y2guXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0byByZW1vdmUgdGhpcyBjaGFuZ2UgbGlzdGVuZXIuXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG5cbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaXNTdWJzY3JpYmVkID0gZmFsc2U7XG5cbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbJ2RlZmF1bHQnXSkoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0ZW5lcnNbaV0oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyO1xuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZXMuSU5JVCB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5wYXJzaW5nL2VzLW9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICByZXR1cm4geyB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmUgfTtcbiAgICAgIH1cbiAgICB9LCBfcmVmW19zeW1ib2xPYnNlcnZhYmxlMlsnZGVmYXVsdCddXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH1cblxuICAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cbiAgZGlzcGF0Y2goeyB0eXBlOiBBY3Rpb25UeXBlcy5JTklUIH0pO1xuXG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMltfc3ltYm9sT2JzZXJ2YWJsZTJbJ2RlZmF1bHQnXV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn0iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmNvbXBvc2UgPSBleHBvcnRzLmFwcGx5TWlkZGxld2FyZSA9IGV4cG9ydHMuYmluZEFjdGlvbkNyZWF0b3JzID0gZXhwb3J0cy5jb21iaW5lUmVkdWNlcnMgPSBleHBvcnRzLmNyZWF0ZVN0b3JlID0gdW5kZWZpbmVkO1xuXG52YXIgX2NyZWF0ZVN0b3JlID0gcmVxdWlyZSgnLi9jcmVhdGVTdG9yZScpO1xuXG52YXIgX2NyZWF0ZVN0b3JlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZVN0b3JlKTtcblxudmFyIF9jb21iaW5lUmVkdWNlcnMgPSByZXF1aXJlKCcuL2NvbWJpbmVSZWR1Y2VycycpO1xuXG52YXIgX2NvbWJpbmVSZWR1Y2VyczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21iaW5lUmVkdWNlcnMpO1xuXG52YXIgX2JpbmRBY3Rpb25DcmVhdG9ycyA9IHJlcXVpcmUoJy4vYmluZEFjdGlvbkNyZWF0b3JzJyk7XG5cbnZhciBfYmluZEFjdGlvbkNyZWF0b3JzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpbmRBY3Rpb25DcmVhdG9ycyk7XG5cbnZhciBfYXBwbHlNaWRkbGV3YXJlID0gcmVxdWlyZSgnLi9hcHBseU1pZGRsZXdhcmUnKTtcblxudmFyIF9hcHBseU1pZGRsZXdhcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBwbHlNaWRkbGV3YXJlKTtcblxudmFyIF9jb21wb3NlID0gcmVxdWlyZSgnLi9jb21wb3NlJyk7XG5cbnZhciBfY29tcG9zZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb21wb3NlKTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnLi91dGlscy93YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG4vKlxuKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4qIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cbiovXG5mdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICAoMCwgX3dhcm5pbmcyWydkZWZhdWx0J10pKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFxcJ3Byb2R1Y3Rpb25cXCcuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBEZWZpbmVQbHVnaW4gZm9yIHdlYnBhY2sgKGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzAwMzAwMzEpICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0cy5jcmVhdGVTdG9yZSA9IF9jcmVhdGVTdG9yZTJbJ2RlZmF1bHQnXTtcbmV4cG9ydHMuY29tYmluZVJlZHVjZXJzID0gX2NvbWJpbmVSZWR1Y2VyczJbJ2RlZmF1bHQnXTtcbmV4cG9ydHMuYmluZEFjdGlvbkNyZWF0b3JzID0gX2JpbmRBY3Rpb25DcmVhdG9yczJbJ2RlZmF1bHQnXTtcbmV4cG9ydHMuYXBwbHlNaWRkbGV3YXJlID0gX2FwcGx5TWlkZGxld2FyZTJbJ2RlZmF1bHQnXTtcbmV4cG9ydHMuY29tcG9zZSA9IF9jb21wb3NlMlsnZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHdhcm5pbmc7XG4vKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG4gICAgLy8gXCJicmVhayBvbiBhbGwgZXhjZXB0aW9uc1wiIGluIHlvdXIgY29uc29sZSxcbiAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZW1wdHkgKi9cbiAgfSBjYXRjaCAoZSkge31cbiAgLyogZXNsaW50LWVuYWJsZSBuby1lbXB0eSAqL1xufSIsIi8qXG5cdFRoaXMgaXMgcm90LmpzLCB0aGUgUk9ndWVsaWtlIFRvb2xraXQgaW4gSmF2YVNjcmlwdC5cblx0VmVyc2lvbiAwLjZ+ZGV2LCBnZW5lcmF0ZWQgb24gTW9uIE5vdiAzMCAxMDozNDo0MiBDRVQgMjAxNS5cbiovXG4vKipcbiAqIEFkZCBvYmplY3RzIGZvciBOb2RlLmpzIGVudmlyb25tZW50XG4gKi9cbmdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYikge1xuXHRyZXR1cm4gc2V0VGltZW91dChjYiwgMTAwMC82MCk7XG59O1xuXG5nbG9iYWwuZG9jdW1lbnQgPSB7XG5cdGJvZHk6IHtcblx0XHRhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHt9LFxuXHRcdHNjcm9sbExlZnQ6IDAsXG5cdFx0c2Nyb2xsVG9wOiAwXG5cdH0sXG5cdGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHR2YXIgY2FudmFzO1xuXHRcdHJldHVybiBjYW52YXMgPSB7XG5cdFx0XHRnZXRCb3VuZGluZ0NsaWVudFJlY3Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcmVjdDtcblx0XHRcdFx0cmV0dXJuIHJlY3QgPSB7XG5cdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHR0b3A6IDBcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRnZXRDb250ZXh0OiBmdW5jdGlvbih0eXBlKSB7XG5cdFx0XHRcdHZhciBjb250ZXh0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCA9IHtcblx0XHRcdFx0XHRfdGVybWNvbG9yOiBudWxsLFxuXHRcdFx0XHRcdGJlZ2luUGF0aDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0XHRjYW52YXM6IGNhbnZhcyxcblx0XHRcdFx0XHRjbGVhclJlY3Q6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRcdFx0XHRcdGlmKHRoaXMuX3Rlcm1jb2xvciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgY2xlYXJDbWQgPSB0aGlzLl90ZXJtY29sb3IuY2xlYXJUb0Fuc2kodGhpcy5maWxsU3R5bGUpO1xuXHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShjbGVhckNtZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkcmF3SW1hZ2U6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGkpIHt9LFxuXHRcdFx0XHRcdGZpbGw6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRcdFx0ZmlsbFJlY3Q6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRcdFx0XHRcdGlmKHRoaXMuX3Rlcm1jb2xvciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgY2xlYXJDbWQgPSB0aGlzLl90ZXJtY29sb3IuY2xlYXJUb0Fuc2kodGhpcy5maWxsU3R5bGUpO1xuXHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShjbGVhckNtZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmaWxsU3R5bGU6IFwiIzAwMFwiLFxuXHRcdFx0XHRcdGZpbGxUZXh0OiBmdW5jdGlvbihjaHMsIHgsIHkpIHt9LFxuXHRcdFx0XHRcdGZvbnQ6IFwibW9ub3NwYWNlXCIsXG5cdFx0XHRcdFx0bGluZVRvOiBmdW5jdGlvbih4LCB5KSB7fSxcblx0XHRcdFx0XHRtZWFzdXJlVGV4dDogZnVuY3Rpb24oY2gpIHtcblx0XHRcdFx0XHRcdHZhciByZXN1bHQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0ID0ge1xuXHRcdFx0XHRcdFx0XHR3aWR0aDogMTJcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtb3ZlVG86IGZ1bmN0aW9uKHgsIHkpIHt9LFxuXHRcdFx0XHRcdHRleHRBbGlnbjogXCJjZW50ZXJcIixcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6IFwibWlkZGxlXCJcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHRzdHlsZToge1xuXHRcdFx0XHRsZWZ0OiBcIjEwMHB4XCIsXG5cdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdHRvcDogXCIxMDBweFwiLFxuXHRcdFx0XHR2aXNpYmlsaXR5OiBcImhpZGRlblwiXG5cdFx0XHR9LFxuXHRcdFx0d2lkdGg6IDBcblx0XHR9O1xuXHR9LFxuXHRkb2N1bWVudEVsZW1lbnQ6IHtcblx0XHRzY3JvbGxMZWZ0OiAwLFxuXHRcdHNjcm9sbFRvcDogMFxuXHR9XG59O1xuLyoqXG4gKiBAbmFtZXNwYWNlIFRvcC1sZXZlbCBST1QgbmFtZXNwYWNlXG4gKi9cbnZhciBST1QgPSB7XG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7Ym9vbH0gSXMgcm90LmpzIHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXI/XG5cdCAqL1xuXHRpc1N1cHBvcnRlZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICEhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dCAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCk7XG5cdH0sXG5cblx0LyoqIERlZmF1bHQgd2l0aCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cblx0REVGQVVMVF9XSURUSDogODAsXG5cdC8qKiBEZWZhdWx0IGhlaWdodCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cblx0REVGQVVMVF9IRUlHSFQ6IDI1LFxuXG5cdC8qKiBEaXJlY3Rpb25hbCBjb25zdGFudHMuIE9yZGVyaW5nIGlzIGltcG9ydGFudCEgKi9cblx0RElSUzoge1xuXHRcdFwiNFwiOiBbXG5cdFx0XHRbIDAsIC0xXSxcblx0XHRcdFsgMSwgIDBdLFxuXHRcdFx0WyAwLCAgMV0sXG5cdFx0XHRbLTEsICAwXVxuXHRcdF0sXG5cdFx0XCI4XCI6IFtcblx0XHRcdFsgMCwgLTFdLFxuXHRcdFx0WyAxLCAtMV0sXG5cdFx0XHRbIDEsICAwXSxcblx0XHRcdFsgMSwgIDFdLFxuXHRcdFx0WyAwLCAgMV0sXG5cdFx0XHRbLTEsICAxXSxcblx0XHRcdFstMSwgIDBdLFxuXHRcdFx0Wy0xLCAtMV1cblx0XHRdLFxuXHRcdFwiNlwiOiBbXG5cdFx0XHRbLTEsIC0xXSxcblx0XHRcdFsgMSwgLTFdLFxuXHRcdFx0WyAyLCAgMF0sXG5cdFx0XHRbIDEsICAxXSxcblx0XHRcdFstMSwgIDFdLFxuXHRcdFx0Wy0yLCAgMF1cblx0XHRdXG5cdH0sXG5cblx0LyoqIENhbmNlbCBrZXkuICovXG5cdFZLX0NBTkNFTDogMywgXG5cdC8qKiBIZWxwIGtleS4gKi9cblx0VktfSEVMUDogNiwgXG5cdC8qKiBCYWNrc3BhY2Uga2V5LiAqL1xuXHRWS19CQUNLX1NQQUNFOiA4LCBcblx0LyoqIFRhYiBrZXkuICovXG5cdFZLX1RBQjogOSwgXG5cdC8qKiA1IGtleSBvbiBOdW1wYWQgd2hlbiBOdW1Mb2NrIGlzIHVubG9ja2VkLiBPciBvbiBNYWMsIGNsZWFyIGtleSB3aGljaCBpcyBwb3NpdGlvbmVkIGF0IE51bUxvY2sga2V5LiAqL1xuXHRWS19DTEVBUjogMTIsIFxuXHQvKiogUmV0dXJuL2VudGVyIGtleSBvbiB0aGUgbWFpbiBrZXlib2FyZC4gKi9cblx0VktfUkVUVVJOOiAxMywgXG5cdC8qKiBSZXNlcnZlZCwgYnV0IG5vdCB1c2VkLiAqL1xuXHRWS19FTlRFUjogMTQsIFxuXHQvKiogU2hpZnQga2V5LiAqL1xuXHRWS19TSElGVDogMTYsIFxuXHQvKiogQ29udHJvbCBrZXkuICovXG5cdFZLX0NPTlRST0w6IDE3LCBcblx0LyoqIEFsdCAoT3B0aW9uIG9uIE1hYykga2V5LiAqL1xuXHRWS19BTFQ6IDE4LCBcblx0LyoqIFBhdXNlIGtleS4gKi9cblx0VktfUEFVU0U6IDE5LCBcblx0LyoqIENhcHMgbG9jay4gKi9cblx0VktfQ0FQU19MT0NLOiAyMCwgXG5cdC8qKiBFc2NhcGUga2V5LiAqL1xuXHRWS19FU0NBUEU6IDI3LCBcblx0LyoqIFNwYWNlIGJhci4gKi9cblx0VktfU1BBQ0U6IDMyLCBcblx0LyoqIFBhZ2UgVXAga2V5LiAqL1xuXHRWS19QQUdFX1VQOiAzMywgXG5cdC8qKiBQYWdlIERvd24ga2V5LiAqL1xuXHRWS19QQUdFX0RPV046IDM0LCBcblx0LyoqIEVuZCBrZXkuICovXG5cdFZLX0VORDogMzUsIFxuXHQvKiogSG9tZSBrZXkuICovXG5cdFZLX0hPTUU6IDM2LCBcblx0LyoqIExlZnQgYXJyb3cuICovXG5cdFZLX0xFRlQ6IDM3LCBcblx0LyoqIFVwIGFycm93LiAqL1xuXHRWS19VUDogMzgsIFxuXHQvKiogUmlnaHQgYXJyb3cuICovXG5cdFZLX1JJR0hUOiAzOSwgXG5cdC8qKiBEb3duIGFycm93LiAqL1xuXHRWS19ET1dOOiA0MCwgXG5cdC8qKiBQcmludCBTY3JlZW4ga2V5LiAqL1xuXHRWS19QUklOVFNDUkVFTjogNDQsIFxuXHQvKiogSW5zKGVydCkga2V5LiAqL1xuXHRWS19JTlNFUlQ6IDQ1LCBcblx0LyoqIERlbChldGUpIGtleS4gKi9cblx0VktfREVMRVRFOiA0NiwgXG5cdC8qKiovXG5cdFZLXzA6IDQ4LFxuXHQvKioqL1xuXHRWS18xOiA0OSxcblx0LyoqKi9cblx0VktfMjogNTAsXG5cdC8qKiovXG5cdFZLXzM6IDUxLFxuXHQvKioqL1xuXHRWS180OiA1Mixcblx0LyoqKi9cblx0VktfNTogNTMsXG5cdC8qKiovXG5cdFZLXzY6IDU0LFxuXHQvKioqL1xuXHRWS183OiA1NSxcblx0LyoqKi9cblx0VktfODogNTYsXG5cdC8qKiovXG5cdFZLXzk6IDU3LFxuXHQvKiogQ29sb24gKDopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DT0xPTjogNTgsIFxuXHQvKiogU2VtaWNvbG9uICg7KSBrZXkuICovXG5cdFZLX1NFTUlDT0xPTjogNTksIFxuXHQvKiogTGVzcy10aGFuICg8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfTEVTU19USEFOOiA2MCwgXG5cdC8qKiBFcXVhbHMgKD0pIGtleS4gKi9cblx0VktfRVFVQUxTOiA2MSwgXG5cdC8qKiBHcmVhdGVyLXRoYW4gKD4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19HUkVBVEVSX1RIQU46IDYyLCBcblx0LyoqIFF1ZXN0aW9uIG1hcmsgKD8pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19RVUVTVElPTl9NQVJLOiA2MywgXG5cdC8qKiBBdG1hcmsgKEApIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BVDogNjQsIFxuXHQvKioqL1xuXHRWS19BOiA2NSxcblx0LyoqKi9cblx0VktfQjogNjYsXG5cdC8qKiovXG5cdFZLX0M6IDY3LFxuXHQvKioqL1xuXHRWS19EOiA2OCxcblx0LyoqKi9cblx0VktfRTogNjksXG5cdC8qKiovXG5cdFZLX0Y6IDcwLFxuXHQvKioqL1xuXHRWS19HOiA3MSxcblx0LyoqKi9cblx0VktfSDogNzIsXG5cdC8qKiovXG5cdFZLX0k6IDczLFxuXHQvKioqL1xuXHRWS19KOiA3NCxcblx0LyoqKi9cblx0VktfSzogNzUsXG5cdC8qKiovXG5cdFZLX0w6IDc2LFxuXHQvKioqL1xuXHRWS19NOiA3Nyxcblx0LyoqKi9cblx0VktfTjogNzgsXG5cdC8qKiovXG5cdFZLX086IDc5LFxuXHQvKioqL1xuXHRWS19QOiA4MCxcblx0LyoqKi9cblx0VktfUTogODEsXG5cdC8qKiovXG5cdFZLX1I6IDgyLFxuXHQvKioqL1xuXHRWS19TOiA4Myxcblx0LyoqKi9cblx0VktfVDogODQsXG5cdC8qKiovXG5cdFZLX1U6IDg1LFxuXHQvKioqL1xuXHRWS19WOiA4Nixcblx0LyoqKi9cblx0VktfVzogODcsXG5cdC8qKiovXG5cdFZLX1g6IDg4LFxuXHQvKioqL1xuXHRWS19ZOiA4OSxcblx0LyoqKi9cblx0VktfWjogOTAsXG5cdC8qKiovXG5cdFZLX0NPTlRFWFRfTUVOVTogOTMsXG5cdC8qKiAwIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMDogOTYsIFxuXHQvKiogMSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDE6IDk3LCBcblx0LyoqIDIgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQyOiA5OCwgXG5cdC8qKiAzIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMzogOTksIFxuXHQvKiogNCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDQ6IDEwMCwgXG5cdC8qKiA1IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENTogMTAxLCBcblx0LyoqIDYgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ2OiAxMDIsIFxuXHQvKiogNyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDc6IDEwMywgXG5cdC8qKiA4IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEODogMTA0LCBcblx0LyoqIDkgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ5OiAxMDUsIFxuXHQvKiogKiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX01VTFRJUExZOiAxMDYsXG5cdC8qKiArIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfQUREOiAxMDcsIFxuXHQvKioqL1xuXHRWS19TRVBBUkFUT1I6IDEwOCxcblx0LyoqIC0gb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19TVUJUUkFDVDogMTA5LCBcblx0LyoqIERlY2ltYWwgcG9pbnQgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19ERUNJTUFMOiAxMTAsIFxuXHQvKiogLyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX0RJVklERTogMTExLCBcblx0LyoqIEYxIGtleS4gKi9cblx0VktfRjE6IDExMiwgXG5cdC8qKiBGMiBrZXkuICovXG5cdFZLX0YyOiAxMTMsIFxuXHQvKiogRjMga2V5LiAqL1xuXHRWS19GMzogMTE0LCBcblx0LyoqIEY0IGtleS4gKi9cblx0VktfRjQ6IDExNSwgXG5cdC8qKiBGNSBrZXkuICovXG5cdFZLX0Y1OiAxMTYsIFxuXHQvKiogRjYga2V5LiAqL1xuXHRWS19GNjogMTE3LCBcblx0LyoqIEY3IGtleS4gKi9cblx0VktfRjc6IDExOCwgXG5cdC8qKiBGOCBrZXkuICovXG5cdFZLX0Y4OiAxMTksIFxuXHQvKiogRjkga2V5LiAqL1xuXHRWS19GOTogMTIwLCBcblx0LyoqIEYxMCBrZXkuICovXG5cdFZLX0YxMDogMTIxLCBcblx0LyoqIEYxMSBrZXkuICovXG5cdFZLX0YxMTogMTIyLCBcblx0LyoqIEYxMiBrZXkuICovXG5cdFZLX0YxMjogMTIzLCBcblx0LyoqIEYxMyBrZXkuICovXG5cdFZLX0YxMzogMTI0LCBcblx0LyoqIEYxNCBrZXkuICovXG5cdFZLX0YxNDogMTI1LCBcblx0LyoqIEYxNSBrZXkuICovXG5cdFZLX0YxNTogMTI2LCBcblx0LyoqIEYxNiBrZXkuICovXG5cdFZLX0YxNjogMTI3LCBcblx0LyoqIEYxNyBrZXkuICovXG5cdFZLX0YxNzogMTI4LCBcblx0LyoqIEYxOCBrZXkuICovXG5cdFZLX0YxODogMTI5LCBcblx0LyoqIEYxOSBrZXkuICovXG5cdFZLX0YxOTogMTMwLCBcblx0LyoqIEYyMCBrZXkuICovXG5cdFZLX0YyMDogMTMxLCBcblx0LyoqIEYyMSBrZXkuICovXG5cdFZLX0YyMTogMTMyLCBcblx0LyoqIEYyMiBrZXkuICovXG5cdFZLX0YyMjogMTMzLCBcblx0LyoqIEYyMyBrZXkuICovXG5cdFZLX0YyMzogMTM0LCBcblx0LyoqIEYyNCBrZXkuICovXG5cdFZLX0YyNDogMTM1LCBcblx0LyoqIE51bSBMb2NrIGtleS4gKi9cblx0VktfTlVNX0xPQ0s6IDE0NCwgXG5cdC8qKiBTY3JvbGwgTG9jayBrZXkuICovXG5cdFZLX1NDUk9MTF9MT0NLOiAxNDUsIFxuXHQvKiogQ2lyY3VtZmxleCAoXikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NJUkNVTUZMRVg6IDE2MCwgXG5cdC8qKiBFeGNsYW1hdGlvbiAoISkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0VYQ0xBTUFUSU9OOiAxNjEsIFxuXHQvKiogRG91YmxlIHF1b3RlICgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19ET1VCTEVfUVVPVEU6IDE2MiwgXG5cdC8qKiBIYXNoICgjKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfSEFTSDogMTYzLCBcblx0LyoqIERvbGxhciBzaWduICgkKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRE9MTEFSOiAxNjQsIFxuXHQvKiogUGVyY2VudCAoJSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1BFUkNFTlQ6IDE2NSwgXG5cdC8qKiBBbXBlcnNhbmQgKCYpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BTVBFUlNBTkQ6IDE2NiwgXG5cdC8qKiBVbmRlcnNjb3JlIChfKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfVU5ERVJTQ09SRTogMTY3LCBcblx0LyoqIE9wZW4gcGFyZW50aGVzaXMgKCgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19PUEVOX1BBUkVOOiAxNjgsIFxuXHQvKiogQ2xvc2UgcGFyZW50aGVzaXMgKCkpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DTE9TRV9QQVJFTjogMTY5LCBcblx0LyogQXN0ZXJpc2sgKCopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BU1RFUklTSzogMTcwLFxuXHQvKiogUGx1cyAoKykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1BMVVM6IDE3MSwgXG5cdC8qKiBQaXBlICh8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUElQRTogMTcyLCBcblx0LyoqIEh5cGhlbi1VUy9kb2NzL01pbnVzICgtKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfSFlQSEVOX01JTlVTOiAxNzMsIFxuXHQvKiogT3BlbiBjdXJseSBicmFja2V0ICh7KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfT1BFTl9DVVJMWV9CUkFDS0VUOiAxNzQsIFxuXHQvKiogQ2xvc2UgY3VybHkgYnJhY2tldCAofSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NMT1NFX0NVUkxZX0JSQUNLRVQ6IDE3NSwgXG5cdC8qKiBUaWxkZSAofikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1RJTERFOiAxNzYsIFxuXHQvKiogQ29tbWEgKCwpIGtleS4gKi9cblx0VktfQ09NTUE6IDE4OCwgXG5cdC8qKiBQZXJpb2QgKC4pIGtleS4gKi9cblx0VktfUEVSSU9EOiAxOTAsIFxuXHQvKiogU2xhc2ggKC8pIGtleS4gKi9cblx0VktfU0xBU0g6IDE5MSwgXG5cdC8qKiBCYWNrIHRpY2sgKGApIGtleS4gKi9cblx0VktfQkFDS19RVU9URTogMTkyLCBcblx0LyoqIE9wZW4gc3F1YXJlIGJyYWNrZXQgKFspIGtleS4gKi9cblx0VktfT1BFTl9CUkFDS0VUOiAyMTksIFxuXHQvKiogQmFjayBzbGFzaCAoXFwpIGtleS4gKi9cblx0VktfQkFDS19TTEFTSDogMjIwLCBcblx0LyoqIENsb3NlIHNxdWFyZSBicmFja2V0IChdKSBrZXkuICovXG5cdFZLX0NMT1NFX0JSQUNLRVQ6IDIyMSwgXG5cdC8qKiBRdW90ZSAoJycnKSBrZXkuICovXG5cdFZLX1FVT1RFOiAyMjIsIFxuXHQvKiogTWV0YSBrZXkgb24gTGludXgsIENvbW1hbmQga2V5IG9uIE1hYy4gKi9cblx0VktfTUVUQTogMjI0LCBcblx0LyoqIEFsdEdyIGtleSBvbiBMaW51eC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BTFRHUjogMjI1LCBcblx0LyoqIFdpbmRvd3MgbG9nbyBrZXkgb24gV2luZG93cy4gT3IgU3VwZXIgb3IgSHlwZXIga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1dJTjogOTEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0tBTkE6IDIxLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19IQU5HVUw6IDIxLCBcblx0LyoqIOiLseaVsCBrZXkgb24gSmFwYW5lc2UgTWFjIGtleWJvYXJkLiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0VJU1U6IDIyLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19KVU5KQTogMjMsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0ZJTkFMOiAyNCwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfSEFOSkE6IDI1LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19LQU5KSTogMjUsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0NPTlZFUlQ6IDI4LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19OT05DT05WRVJUOiAyOSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfQUNDRVBUOiAzMCwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfTU9ERUNIQU5HRTogMzEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX1NFTEVDVDogNDEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX1BSSU5UOiA0MiwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfRVhFQ1VURTogNDMsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuXHQgKi9cblx0VktfU0xFRVA6IDk1IFxufTtcbi8qKlxuICogQG5hbWVzcGFjZVxuICogQ29udGFpbnMgdGV4dCB0b2tlbml6YXRpb24gYW5kIGJyZWFraW5nIHJvdXRpbmVzXG4gKi9cblJPVC5UZXh0ID0ge1xuXHRSRV9DT0xPUlM6IC8lKFtiY10peyhbXn1dKil9L2csXG5cblx0LyogdG9rZW4gdHlwZXMgKi9cblx0VFlQRV9URVhUOlx0XHQwLFxuXHRUWVBFX05FV0xJTkU6XHQxLFxuXHRUWVBFX0ZHOlx0XHQyLFxuXHRUWVBFX0JHOlx0XHQzLFxuXG5cdC8qKlxuXHQgKiBNZWFzdXJlIHNpemUgb2YgYSByZXN1bHRpbmcgdGV4dCBibG9ja1xuXHQgKi9cblx0bWVhc3VyZTogZnVuY3Rpb24oc3RyLCBtYXhXaWR0aCkge1xuXHRcdHZhciByZXN1bHQgPSB7d2lkdGg6MCwgaGVpZ2h0OjF9O1xuXHRcdHZhciB0b2tlbnMgPSB0aGlzLnRva2VuaXplKHN0ciwgbWF4V2lkdGgpO1xuXHRcdHZhciBsaW5lV2lkdGggPSAwO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8dG9rZW5zLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0XHRjYXNlIHRoaXMuVFlQRV9URVhUOlxuXHRcdFx0XHRcdGxpbmVXaWR0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgdGhpcy5UWVBFX05FV0xJTkU6XG5cdFx0XHRcdFx0cmVzdWx0LmhlaWdodCsrO1xuXHRcdFx0XHRcdHJlc3VsdC53aWR0aCA9IE1hdGgubWF4KHJlc3VsdC53aWR0aCwgbGluZVdpZHRoKTtcblx0XHRcdFx0XHRsaW5lV2lkdGggPSAwO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydCBzdHJpbmcgdG8gYSBzZXJpZXMgb2YgYSBmb3JtYXR0aW5nIGNvbW1hbmRzXG5cdCAqL1xuXHR0b2tlbml6ZTogZnVuY3Rpb24oc3RyLCBtYXhXaWR0aCkge1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblxuXHRcdC8qIGZpcnN0IHRva2VuaXphdGlvbiBwYXNzIC0gc3BsaXQgdGV4dHMgYW5kIGNvbG9yIGZvcm1hdHRpbmcgY29tbWFuZHMgKi9cblx0XHR2YXIgb2Zmc2V0ID0gMDtcblx0XHRzdHIucmVwbGFjZSh0aGlzLlJFX0NPTE9SUywgZnVuY3Rpb24obWF0Y2gsIHR5cGUsIG5hbWUsIGluZGV4KSB7XG5cdFx0XHQvKiBzdHJpbmcgYmVmb3JlICovXG5cdFx0XHR2YXIgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0LCBpbmRleCk7XG5cdFx0XHRpZiAocGFydC5sZW5ndGgpIHtcblx0XHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHRcdHR5cGU6IFJPVC5UZXh0LlRZUEVfVEVYVCxcblx0XHRcdFx0XHR2YWx1ZTogcGFydFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0LyogY29sb3IgY29tbWFuZCAqL1xuXHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHR0eXBlOiAodHlwZSA9PSBcImNcIiA/IFJPVC5UZXh0LlRZUEVfRkcgOiBST1QuVGV4dC5UWVBFX0JHKSxcblx0XHRcdFx0dmFsdWU6IG5hbWUudHJpbSgpXG5cdFx0XHR9KTtcblxuXHRcdFx0b2Zmc2V0ID0gaW5kZXggKyBtYXRjaC5sZW5ndGg7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9KTtcblxuXHRcdC8qIGxhc3QgcmVtYWluaW5nIHBhcnQgKi9cblx0XHR2YXIgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0KTtcblx0XHRpZiAocGFydC5sZW5ndGgpIHtcblx0XHRcdHJlc3VsdC5wdXNoKHtcblx0XHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9URVhULFxuXHRcdFx0XHR2YWx1ZTogcGFydFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX2JyZWFrTGluZXMocmVzdWx0LCBtYXhXaWR0aCk7XG5cdH0sXG5cblx0LyogaW5zZXJ0IGxpbmUgYnJlYWtzIGludG8gZmlyc3QtcGFzcyB0b2tlbml6ZWQgZGF0YSAqL1xuXHRfYnJlYWtMaW5lczogZnVuY3Rpb24odG9rZW5zLCBtYXhXaWR0aCkge1xuXHRcdGlmICghbWF4V2lkdGgpIHsgbWF4V2lkdGggPSBJbmZpbml0eTsgfTtcblxuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgbGluZUxlbmd0aCA9IDA7XG5cdFx0dmFyIGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuXG5cdFx0d2hpbGUgKGkgPCB0b2tlbnMubGVuZ3RoKSB7IC8qIHRha2UgYWxsIHRleHQgdG9rZW5zLCByZW1vdmUgc3BhY2UsIGFwcGx5IGxpbmVicmVha3MgKi9cblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdGlmICh0b2tlbi50eXBlID09IFJPVC5UZXh0LlRZUEVfTkVXTElORSkgeyAvKiByZXNldCAqL1xuXHRcdFx0XHRsaW5lTGVuZ3RoID0gMDsgXG5cdFx0XHRcdGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRva2VuLnR5cGUgIT0gUk9ULlRleHQuVFlQRV9URVhUKSB7IC8qIHNraXAgbm9uLXRleHQgdG9rZW5zICovXG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGludWU7IFxuXHRcdFx0fVxuXG5cdFx0XHQvKiByZW1vdmUgc3BhY2VzIGF0IHRoZSBiZWdpbm5pbmcgb2YgbGluZSAqL1xuXHRcdFx0d2hpbGUgKGxpbmVMZW5ndGggPT0gMCAmJiB0b2tlbi52YWx1ZS5jaGFyQXQoMCkgPT0gXCIgXCIpIHsgdG9rZW4udmFsdWUgPSB0b2tlbi52YWx1ZS5zdWJzdHJpbmcoMSk7IH1cblxuXHRcdFx0LyogZm9yY2VkIG5ld2xpbmU/IGluc2VydCB0d28gbmV3IHRva2VucyBhZnRlciB0aGlzIG9uZSAqL1xuXHRcdFx0dmFyIGluZGV4ID0gdG9rZW4udmFsdWUuaW5kZXhPZihcIlxcblwiKTtcblx0XHRcdGlmIChpbmRleCAhPSAtMSkgeyBcblx0XHRcdFx0dG9rZW4udmFsdWUgPSB0aGlzLl9icmVha0luc2lkZVRva2VuKHRva2VucywgaSwgaW5kZXgsIHRydWUpOyBcblxuXHRcdFx0XHQvKiBpZiB0aGVyZSBhcmUgc3BhY2VzIGF0IHRoZSBlbmQsIHdlIG11c3QgcmVtb3ZlIHRoZW0gKHdlIGRvIG5vdCB3YW50IHRoZSBsaW5lIHRvbyBsb25nKSAqL1xuXHRcdFx0XHR2YXIgYXJyID0gdG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG5cdFx0XHRcdHdoaWxlIChhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoLTFdID09IFwiIFwiKSB7IGFyci5wb3AoKTsgfVxuXHRcdFx0XHR0b2tlbi52YWx1ZSA9IGFyci5qb2luKFwiXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiB0b2tlbiBkZWdlbmVyYXRlZD8gKi9cblx0XHRcdGlmICghdG9rZW4udmFsdWUubGVuZ3RoKSB7XG5cdFx0XHRcdHRva2Vucy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobGluZUxlbmd0aCArIHRva2VuLnZhbHVlLmxlbmd0aCA+IG1heFdpZHRoKSB7IC8qIGxpbmUgdG9vIGxvbmcsIGZpbmQgYSBzdWl0YWJsZSBicmVha2luZyBzcG90ICovXG5cblx0XHRcdFx0LyogaXMgaXQgcG9zc2libGUgdG8gYnJlYWsgd2l0aGluIHRoaXMgdG9rZW4/ICovXG5cdFx0XHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdFx0XHR3aGlsZSAoMSkge1xuXHRcdFx0XHRcdHZhciBuZXh0SW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiLCBpbmRleCsxKTtcblx0XHRcdFx0XHRpZiAobmV4dEluZGV4ID09IC0xKSB7IGJyZWFrOyB9XG5cdFx0XHRcdFx0aWYgKGxpbmVMZW5ndGggKyBuZXh0SW5kZXggPiBtYXhXaWR0aCkgeyBicmVhazsgfVxuXHRcdFx0XHRcdGluZGV4ID0gbmV4dEluZGV4O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGluZGV4ICE9IC0xKSB7IC8qIGJyZWFrIGF0IHNwYWNlIHdpdGhpbiB0aGlzIG9uZSAqL1xuXHRcdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIGluZGV4LCB0cnVlKTtcblx0XHRcdFx0fSBlbHNlIGlmIChsYXN0VG9rZW5XaXRoU3BhY2UgIT0gLTEpIHsgLyogaXMgdGhlcmUgYSBwcmV2aW91cyB0b2tlbiB3aGVyZSBhIGJyZWFrIGNhbiBvY2N1cj8gKi9cblx0XHRcdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbbGFzdFRva2VuV2l0aFNwYWNlXTtcblx0XHRcdFx0XHR2YXIgYnJlYWtJbmRleCA9IHRva2VuLnZhbHVlLmxhc3RJbmRleE9mKFwiIFwiKTtcblx0XHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBsYXN0VG9rZW5XaXRoU3BhY2UsIGJyZWFrSW5kZXgsIHRydWUpO1xuXHRcdFx0XHRcdGkgPSBsYXN0VG9rZW5XaXRoU3BhY2U7XG5cdFx0XHRcdH0gZWxzZSB7IC8qIGZvcmNlIGJyZWFrIGluIHRoaXMgdG9rZW4gKi9cblx0XHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBtYXhXaWR0aC1saW5lTGVuZ3RoLCBmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHsgLyogbGluZSBub3QgbG9uZywgY29udGludWUgKi9cblx0XHRcdFx0bGluZUxlbmd0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdGlmICh0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiKSAhPSAtMSkgeyBsYXN0VG9rZW5XaXRoU3BhY2UgPSBpOyB9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGkrKzsgLyogYWR2YW5jZSB0byBuZXh0IHRva2VuICovXG5cdFx0fVxuXG5cblx0XHR0b2tlbnMucHVzaCh7dHlwZTogUk9ULlRleHQuVFlQRV9ORVdMSU5FfSk7IC8qIGluc2VydCBmYWtlIG5ld2xpbmUgdG8gZml4IHRoZSBsYXN0IHRleHQgbGluZSAqL1xuXG5cdFx0LyogcmVtb3ZlIHRyYWlsaW5nIHNwYWNlIGZyb20gdGV4dCB0b2tlbnMgYmVmb3JlIG5ld2xpbmVzICovXG5cdFx0dmFyIGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuXHRcdGZvciAodmFyIGk9MDtpPHRva2Vucy5sZW5ndGg7aSsrKSB7XG5cdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG5cdFx0XHRzd2l0Y2ggKHRva2VuLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX1RFWFQ6IGxhc3RUZXh0VG9rZW4gPSB0b2tlbjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9ORVdMSU5FOiBcblx0XHRcdFx0XHRpZiAobGFzdFRleHRUb2tlbikgeyAvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgKi9cblx0XHRcdFx0XHRcdHZhciBhcnIgPSBsYXN0VGV4dFRva2VuLnZhbHVlLnNwbGl0KFwiXCIpO1xuXHRcdFx0XHRcdFx0d2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGgtMV0gPT0gXCIgXCIpIHsgYXJyLnBvcCgpOyB9XG5cdFx0XHRcdFx0XHRsYXN0VGV4dFRva2VuLnZhbHVlID0gYXJyLmpvaW4oXCJcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0b2tlbnMucG9wKCk7IC8qIHJlbW92ZSBmYWtlIHRva2VuICovXG5cblx0XHRyZXR1cm4gdG9rZW5zO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgbmV3IHRva2VucyBhbmQgaW5zZXJ0IHRoZW0gaW50byB0aGUgc3RyZWFtXG5cdCAqIEBwYXJhbSB7b2JqZWN0W119IHRva2Vuc1xuXHQgKiBAcGFyYW0ge2ludH0gdG9rZW5JbmRleCBUb2tlbiBiZWluZyBwcm9jZXNzZWRcblx0ICogQHBhcmFtIHtpbnR9IGJyZWFrSW5kZXggSW5kZXggd2l0aGluIGN1cnJlbnQgdG9rZW4ncyB2YWx1ZVxuXHQgKiBAcGFyYW0ge2Jvb2x9IHJlbW92ZUJyZWFrQ2hhciBEbyB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgYnJlYWtpbmcgY2hhcmFjdGVyP1xuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSByZW1haW5pbmcgdW5icm9rZW4gdG9rZW4gdmFsdWVcblx0ICovXG5cdF9icmVha0luc2lkZVRva2VuOiBmdW5jdGlvbih0b2tlbnMsIHRva2VuSW5kZXgsIGJyZWFrSW5kZXgsIHJlbW92ZUJyZWFrQ2hhcikge1xuXHRcdHZhciBuZXdCcmVha1Rva2VuID0ge1xuXHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9ORVdMSU5FXG5cdFx0fVxuXHRcdHZhciBuZXdUZXh0VG9rZW4gPSB7XG5cdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX1RFWFQsXG5cdFx0XHR2YWx1ZTogdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZyhicmVha0luZGV4ICsgKHJlbW92ZUJyZWFrQ2hhciA/IDEgOiAwKSlcblx0XHR9XG5cdFx0dG9rZW5zLnNwbGljZSh0b2tlbkluZGV4KzEsIDAsIG5ld0JyZWFrVG9rZW4sIG5ld1RleHRUb2tlbik7XG5cdFx0cmV0dXJuIHRva2Vuc1t0b2tlbkluZGV4XS52YWx1ZS5zdWJzdHJpbmcoMCwgYnJlYWtJbmRleCk7XG5cdH1cbn1cbi8qKlxuICogQHJldHVybnMge2FueX0gUmFuZG9tbHkgcGlja2VkIGl0ZW0sIG51bGwgd2hlbiBsZW5ndGg9MFxuICovXG5BcnJheS5wcm90b3R5cGUucmFuZG9tID0gQXJyYXkucHJvdG90eXBlLnJhbmRvbSB8fCBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHRyZXR1cm4gdGhpc1tNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogdGhpcy5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IE5ldyBhcnJheSB3aXRoIHJhbmRvbWl6ZWQgaXRlbXNcbiAqIEZJWE1FIGRlc3Ryb3lzIHRoaXMhXG4gKi9cbkFycmF5LnByb3RvdHlwZS5yYW5kb21pemUgPSBBcnJheS5wcm90b3R5cGUucmFuZG9taXplIHx8IGZ1bmN0aW9uKCkge1xuXHR2YXIgcmVzdWx0ID0gW107XG5cdHdoaWxlICh0aGlzLmxlbmd0aCkge1xuXHRcdHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZih0aGlzLnJhbmRvbSgpKTtcblx0XHRyZXN1bHQucHVzaCh0aGlzLnNwbGljZShpbmRleCwgMSlbMF0pO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEFsd2F5cyBwb3NpdGl2ZSBtb2R1bHVzXG4gKiBAcGFyYW0ge2ludH0gbiBNb2R1bHVzXG4gKiBAcmV0dXJucyB7aW50fSB0aGlzIG1vZHVsbyBuXG4gKi9cbk51bWJlci5wcm90b3R5cGUubW9kID0gTnVtYmVyLnByb3RvdHlwZS5tb2QgfHwgZnVuY3Rpb24obikge1xuXHRyZXR1cm4gKCh0aGlzJW4pK24pJW47XG59XG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZpcnN0IGxldHRlciBjYXBpdGFsaXplZFxuICovXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgPSBTdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgfHwgZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKiBcbiAqIExlZnQgcGFkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJhY3Rlcj1cIjBcIl1cbiAqIEBwYXJhbSB7aW50fSBbY291bnQ9Ml1cbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5scGFkID0gU3RyaW5nLnByb3RvdHlwZS5scGFkIHx8IGZ1bmN0aW9uKGNoYXJhY3RlciwgY291bnQpIHtcblx0dmFyIGNoID0gY2hhcmFjdGVyIHx8IFwiMFwiO1xuXHR2YXIgY250ID0gY291bnQgfHwgMjtcblxuXHR2YXIgcyA9IFwiXCI7XG5cdHdoaWxlIChzLmxlbmd0aCA8IChjbnQgLSB0aGlzLmxlbmd0aCkpIHsgcyArPSBjaDsgfVxuXHRzID0gcy5zdWJzdHJpbmcoMCwgY250LXRoaXMubGVuZ3RoKTtcblx0cmV0dXJuIHMrdGhpcztcbn1cblxuLyoqIFxuICogUmlnaHQgcGFkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJhY3Rlcj1cIjBcIl1cbiAqIEBwYXJhbSB7aW50fSBbY291bnQ9Ml1cbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5ycGFkID0gU3RyaW5nLnByb3RvdHlwZS5ycGFkIHx8IGZ1bmN0aW9uKGNoYXJhY3RlciwgY291bnQpIHtcblx0dmFyIGNoID0gY2hhcmFjdGVyIHx8IFwiMFwiO1xuXHR2YXIgY250ID0gY291bnQgfHwgMjtcblxuXHR2YXIgcyA9IFwiXCI7XG5cdHdoaWxlIChzLmxlbmd0aCA8IChjbnQgLSB0aGlzLmxlbmd0aCkpIHsgcyArPSBjaDsgfVxuXHRzID0gcy5zdWJzdHJpbmcoMCwgY250LXRoaXMubGVuZ3RoKTtcblx0cmV0dXJuIHRoaXMrcztcbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBzdHJpbmcgaW4gYSBmbGV4aWJsZSB3YXkuIFNjYW5zIGZvciAlcyBzdHJpbmdzIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggYXJndW1lbnRzLiBMaXN0IG9mIHBhdHRlcm5zIGlzIG1vZGlmaWFibGUgdmlhIFN0cmluZy5mb3JtYXQubWFwLlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlXG4gKiBAcGFyYW0ge2FueX0gW2FyZ3ZdXG4gKi9cblN0cmluZy5mb3JtYXQgPSBTdHJpbmcuZm9ybWF0IHx8IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG5cdHZhciBtYXAgPSBTdHJpbmcuZm9ybWF0Lm1hcDtcblx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG5cdHZhciByZXBsYWNlciA9IGZ1bmN0aW9uKG1hdGNoLCBncm91cDEsIGdyb3VwMiwgaW5kZXgpIHtcblx0XHRpZiAodGVtcGxhdGUuY2hhckF0KGluZGV4LTEpID09IFwiJVwiKSB7IHJldHVybiBtYXRjaC5zdWJzdHJpbmcoMSk7IH1cblx0XHRpZiAoIWFyZ3MubGVuZ3RoKSB7IHJldHVybiBtYXRjaDsgfVxuXHRcdHZhciBvYmogPSBhcmdzWzBdO1xuXG5cdFx0dmFyIGdyb3VwID0gZ3JvdXAxIHx8IGdyb3VwMjtcblx0XHR2YXIgcGFydHMgPSBncm91cC5zcGxpdChcIixcIik7XG5cdFx0dmFyIG5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdHZhciBtZXRob2QgPSBtYXBbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblx0XHRpZiAoIW1ldGhvZCkgeyByZXR1cm4gbWF0Y2g7IH1cblxuXHRcdHZhciBvYmogPSBhcmdzLnNoaWZ0KCk7XG5cdFx0dmFyIHJlcGxhY2VkID0gb2JqW21ldGhvZF0uYXBwbHkob2JqLCBwYXJ0cyk7XG5cblx0XHR2YXIgZmlyc3QgPSBuYW1lLmNoYXJBdCgwKTtcblx0XHRpZiAoZmlyc3QgIT0gZmlyc3QudG9Mb3dlckNhc2UoKSkgeyByZXBsYWNlZCA9IHJlcGxhY2VkLmNhcGl0YWxpemUoKTsgfVxuXG5cdFx0cmV0dXJuIHJlcGxhY2VkO1xuXHR9XG5cdHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KFthLXpdKyl8KD86eyhbXn1dKyl9KSkvZ2ksIHJlcGxhY2VyKTtcbn1cblxuU3RyaW5nLmZvcm1hdC5tYXAgPSBTdHJpbmcuZm9ybWF0Lm1hcCB8fCB7XG5cdFwic1wiOiBcInRvU3RyaW5nXCJcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBzaG9ydGN1dCB0byBTdHJpbmcuZm9ybWF0KHRoaXMpXG4gKi9cblN0cmluZy5wcm90b3R5cGUuZm9ybWF0ID0gU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQgfHwgZnVuY3Rpb24oKSB7XG5cdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0YXJncy51bnNoaWZ0KHRoaXMpO1xuXHRyZXR1cm4gU3RyaW5nLmZvcm1hdC5hcHBseShTdHJpbmcsIGFyZ3MpO1xufVxuXG5pZiAoIU9iamVjdC5jcmVhdGUpIHsgIFxuXHQvKipcblx0ICogRVM1IE9iamVjdC5jcmVhdGVcblx0ICovXG5cdE9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbihvKSB7ICBcblx0XHR2YXIgdG1wID0gZnVuY3Rpb24oKSB7fTtcblx0XHR0bXAucHJvdG90eXBlID0gbztcblx0XHRyZXR1cm4gbmV3IHRtcCgpO1xuXHR9OyAgXG59ICBcbi8qKlxuICogU2V0cyBwcm90b3R5cGUgb2YgdGhpcyBmdW5jdGlvbiB0byBhbiBpbnN0YW5jZSBvZiBwYXJlbnQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmVudFxuICovXG5GdW5jdGlvbi5wcm90b3R5cGUuZXh0ZW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmV4dGVuZCB8fCBmdW5jdGlvbihwYXJlbnQpIHtcblx0dGhpcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpO1xuXHR0aGlzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHRoaXM7XG5cdHJldHVybiB0aGlzO1xufVxuaWYgKHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIikge1xuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID1cblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IGZ1bmN0aW9uKGNiKSB7IHJldHVybiBzZXRUaW1lb3V0KGNiLCAxMDAwLzYwKTsgfTtcblxuXHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPVxuXHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IGZ1bmN0aW9uKGlkKSB7IHJldHVybiBjbGVhclRpbWVvdXQoaWQpOyB9O1xufVxuLyoqXG4gKiBAY2xhc3MgVmlzdWFsIG1hcCBkaXNwbGF5XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMud2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMuaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5mb250U2l6ZT0xNV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb250RmFtaWx5PVwibW9ub3NwYWNlXCJdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZm9udFN0eWxlPVwiXCJdIGJvbGQvaXRhbGljL25vbmUvYm90aFxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZnPVwiI2NjY1wiXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJnPVwiIzAwMFwiXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMuc3BhY2luZz0xXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMuYm9yZGVyPTBdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGF5b3V0PVwicmVjdFwiXVxuICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy5mb3JjZVNxdWFyZVJhdGlvPWZhbHNlXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRpbGVXaWR0aD0zMl1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50aWxlSGVpZ2h0PTMyXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnRpbGVNYXA9e31dXG4gKiBAcGFyYW0ge2ltYWdlfSBbb3B0aW9ucy50aWxlU2V0PW51bGxdXG4gKiBAcGFyYW0ge2ltYWdlfSBbb3B0aW9ucy50aWxlQ29sb3JpemU9ZmFsc2VdXG4gKi9cblJPVC5EaXNwbGF5ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0dGhpcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fZGlydHkgPSBmYWxzZTsgLyogZmFsc2UgPSBub3RoaW5nLCB0cnVlID0gYWxsLCBvYmplY3QgPSBkaXJ0eSBjZWxscyAqL1xuXHR0aGlzLl9vcHRpb25zID0ge307XG5cdHRoaXMuX2JhY2tlbmQgPSBudWxsO1xuXHRcblx0dmFyIGRlZmF1bHRPcHRpb25zID0ge1xuXHRcdHdpZHRoOiBST1QuREVGQVVMVF9XSURUSCxcblx0XHRoZWlnaHQ6IFJPVC5ERUZBVUxUX0hFSUdIVCxcblx0XHR0cmFuc3Bvc2U6IGZhbHNlLFxuXHRcdGxheW91dDogXCJyZWN0XCIsXG5cdFx0Zm9udFNpemU6IDE1LFxuXHRcdHNwYWNpbmc6IDEsXG5cdFx0Ym9yZGVyOiAwLFxuXHRcdGZvcmNlU3F1YXJlUmF0aW86IGZhbHNlLFxuXHRcdGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG5cdFx0Zm9udFN0eWxlOiBcIlwiLFxuXHRcdGZnOiBcIiNjY2NcIixcblx0XHRiZzogXCIjMDAwXCIsXG5cdFx0dGlsZVdpZHRoOiAzMixcblx0XHR0aWxlSGVpZ2h0OiAzMixcblx0XHR0aWxlTWFwOiB7fSxcblx0XHR0aWxlU2V0OiBudWxsLFxuXHRcdHRpbGVDb2xvcml6ZTogZmFsc2UsXG5cdFx0dGVybUNvbG9yOiBcInh0ZXJtXCJcblx0fTtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IGRlZmF1bHRPcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHR0aGlzLnNldE9wdGlvbnMoZGVmYXVsdE9wdGlvbnMpO1xuXHR0aGlzLkRFQlVHID0gdGhpcy5ERUJVRy5iaW5kKHRoaXMpO1xuXG5cdHRoaXMuX3RpY2sgPSB0aGlzLl90aWNrLmJpbmQodGhpcyk7XG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbn1cblxuLyoqXG4gKiBEZWJ1ZyBoZWxwZXIsIGlkZWFsIGFzIGEgbWFwIGdlbmVyYXRvciBjYWxsYmFjay4gQWx3YXlzIGJvdW5kIHRvIHRoaXMuXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSB3aGF0XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5ERUJVRyA9IGZ1bmN0aW9uKHgsIHksIHdoYXQpIHtcblx0dmFyIGNvbG9ycyA9IFt0aGlzLl9vcHRpb25zLmJnLCB0aGlzLl9vcHRpb25zLmZnXTtcblx0dGhpcy5kcmF3KHgsIHksIG51bGwsIG51bGwsIGNvbG9yc1t3aGF0ICUgY29sb3JzLmxlbmd0aF0pO1xufVxuXG4vKipcbiAqIENsZWFyIHRoZSB3aG9sZSBkaXNwbGF5IChjb3ZlciBpdCB3aXRoIGJhY2tncm91bmQgY29sb3IpXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kYXRhID0ge307XG5cdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5EaXNwbGF5XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0aWYgKG9wdGlvbnMud2lkdGggfHwgb3B0aW9ucy5oZWlnaHQgfHwgb3B0aW9ucy5mb250U2l6ZSB8fCBvcHRpb25zLmZvbnRGYW1pbHkgfHwgb3B0aW9ucy5zcGFjaW5nIHx8IG9wdGlvbnMubGF5b3V0KSB7XG5cdFx0aWYgKG9wdGlvbnMubGF5b3V0KSB7IFxuXHRcdFx0dGhpcy5fYmFja2VuZCA9IG5ldyBST1QuRGlzcGxheVtvcHRpb25zLmxheW91dC5jYXBpdGFsaXplKCldKHRoaXMuX2NvbnRleHQpO1xuXHRcdH1cblxuXHRcdHZhciBmb250ID0gKHRoaXMuX29wdGlvbnMuZm9udFN0eWxlID8gdGhpcy5fb3B0aW9ucy5mb250U3R5bGUgKyBcIiBcIiA6IFwiXCIpICsgdGhpcy5fb3B0aW9ucy5mb250U2l6ZSArIFwicHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG5cdFx0dGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcblx0XHR0aGlzLl9iYWNrZW5kLmNvbXB1dGUodGhpcy5fb3B0aW9ucyk7XG5cdFx0dGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcblx0XHR0aGlzLl9jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cdFx0dGhpcy5fY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuXHRcdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGN1cnJlbnRseSBzZXQgb3B0aW9uc1xuICogQHJldHVybnMge29iamVjdH0gQ3VycmVudCBvcHRpb25zIG9iamVjdCBcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX29wdGlvbnM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgRE9NIG5vZGUgb2YgdGhpcyBkaXNwbGF5XG4gKiBAcmV0dXJucyB7bm9kZX0gRE9NIG5vZGVcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fY29udGV4dC5jYW52YXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbWF4aW11bSB3aWR0aC9oZWlnaHQgdG8gZml0IGludG8gYSBzZXQgb2YgZ2l2ZW4gY29uc3RyYWludHNcbiAqIEBwYXJhbSB7aW50fSBhdmFpbFdpZHRoIE1heGltdW0gYWxsb3dlZCBwaXhlbCB3aWR0aFxuICogQHBhcmFtIHtpbnR9IGF2YWlsSGVpZ2h0IE1heGltdW0gYWxsb3dlZCBwaXhlbCBoZWlnaHRcbiAqIEByZXR1cm5zIHtpbnRbMl19IGNlbGxXaWR0aCxjZWxsSGVpZ2h0XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBtYXhpbXVtIGZvbnQgc2l6ZSB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICogQHBhcmFtIHtpbnR9IGF2YWlsV2lkdGggTWF4aW11bSBhbGxvd2VkIHBpeGVsIHdpZHRoXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxIZWlnaHQgTWF4aW11bSBhbGxvd2VkIHBpeGVsIGhlaWdodFxuICogQHJldHVybnMge2ludH0gZm9udFNpemVcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmNvbXB1dGVGb250U2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCwgdGhpcy5fb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ29udmVydCBhIERPTSBldmVudCAobW91c2Ugb3IgdG91Y2gpIHRvIG1hcCBjb29yZGluYXRlcy4gVXNlcyBmaXJzdCB0b3VjaCBmb3IgbXVsdGktdG91Y2guXG4gKiBAcGFyYW0ge0V2ZW50fSBlIGV2ZW50XG4gKiBAcmV0dXJucyB7aW50WzJdfSAtMSBmb3IgdmFsdWVzIG91dHNpZGUgb2YgdGhlIGNhbnZhc1xuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oZSkge1xuXHRpZiAoZS50b3VjaGVzKSB7XG5cdFx0dmFyIHggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcblx0XHR2YXIgeSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuXHR9IGVsc2Uge1xuXHRcdHZhciB4ID0gZS5jbGllbnRYO1xuXHRcdHZhciB5ID0gZS5jbGllbnRZO1xuXHR9XG5cblx0dmFyIHJlY3QgPSB0aGlzLl9jb250ZXh0LmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0eCAtPSByZWN0LmxlZnQ7XG5cdHkgLT0gcmVjdC50b3A7XG5cdFxuXHRpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCB8fCB5ID49IHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCkgeyByZXR1cm4gWy0xLCAtMV07IH1cblxuXHRyZXR1cm4gdGhpcy5fYmFja2VuZC5ldmVudFRvUG9zaXRpb24oeCwgeSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge3N0cmluZyB8fCBzdHJpbmdbXX0gY2ggT25lIG9yIG1vcmUgY2hhcnMgKHdpbGwgYmUgb3ZlcmxhcHBpbmcgdGhlbXNlbHZlcylcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZmddIGZvcmVncm91bmQgY29sb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmddIGJhY2tncm91bmQgY29sb3JcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbih4LCB5LCBjaCwgZmcsIGJnKSB7XG5cdGlmICghZmcpIHsgZmcgPSB0aGlzLl9vcHRpb25zLmZnOyB9XG5cdGlmICghYmcpIHsgYmcgPSB0aGlzLl9vcHRpb25zLmJnOyB9XG5cdHRoaXMuX2RhdGFbeCtcIixcIit5XSA9IFt4LCB5LCBjaCwgZmcsIGJnXTtcblx0XG5cdGlmICh0aGlzLl9kaXJ0eSA9PT0gdHJ1ZSkgeyByZXR1cm47IH0gLyogd2lsbCBhbHJlYWR5IHJlZHJhdyBldmVyeXRoaW5nICovXG5cdGlmICghdGhpcy5fZGlydHkpIHsgdGhpcy5fZGlydHkgPSB7fTsgfSAvKiBmaXJzdCEgKi9cblx0dGhpcy5fZGlydHlbeCtcIixcIit5XSA9IHRydWU7XG59XG5cbi8qKlxuICogRHJhd3MgYSB0ZXh0IGF0IGdpdmVuIHBvc2l0aW9uLiBPcHRpb25hbGx5IHdyYXBzIGF0IGEgbWF4aW11bSBsZW5ndGguIEN1cnJlbnRseSBkb2VzIG5vdCB3b3JrIHdpdGggaGV4IGxheW91dC5cbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgTWF5IGNvbnRhaW4gY29sb3IvYmFja2dyb3VuZCBmb3JtYXQgc3BlY2lmaWVycywgJWN7bmFtZX0vJWJ7bmFtZX0sIGJvdGggb3B0aW9uYWwuICVje30vJWJ7fSByZXNldHMgdG8gZGVmYXVsdC5cbiAqIEBwYXJhbSB7aW50fSBbbWF4V2lkdGhdIHdyYXAgYXQgd2hhdCB3aWR0aD9cbiAqIEByZXR1cm5zIHtpbnR9IGxpbmVzIGRyYXduXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5kcmF3VGV4dCA9IGZ1bmN0aW9uKHgsIHksIHRleHQsIG1heFdpZHRoKSB7XG5cdHZhciBmZyA9IG51bGw7XG5cdHZhciBiZyA9IG51bGw7XG5cdHZhciBjeCA9IHg7XG5cdHZhciBjeSA9IHk7XG5cdHZhciBsaW5lcyA9IDE7XG5cdGlmICghbWF4V2lkdGgpIHsgbWF4V2lkdGggPSB0aGlzLl9vcHRpb25zLndpZHRoLXg7IH1cblxuXHR2YXIgdG9rZW5zID0gUk9ULlRleHQudG9rZW5pemUodGV4dCwgbWF4V2lkdGgpO1xuXG5cdHdoaWxlICh0b2tlbnMubGVuZ3RoKSB7IC8qIGludGVycHJldCB0b2tlbml6ZWQgb3Bjb2RlIHN0cmVhbSAqL1xuXHRcdHZhciB0b2tlbiA9IHRva2Vucy5zaGlmdCgpO1xuXHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX1RFWFQ6XG5cdFx0XHRcdHZhciBpc1NwYWNlID0gZmFsc2UsIGlzUHJldlNwYWNlID0gZmFsc2UsIGlzRnVsbFdpZHRoID0gZmFsc2UsIGlzUHJldkZ1bGxXaWR0aCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7aTx0b2tlbi52YWx1ZS5sZW5ndGg7aSsrKSB7XG5cdFx0XHRcdFx0dmFyIGNjID0gdG9rZW4udmFsdWUuY2hhckNvZGVBdChpKTtcblx0XHRcdFx0XHR2YXIgYyA9IHRva2VuLnZhbHVlLmNoYXJBdChpKTtcblx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gYHRydWVgIHdoZW4gdGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoLlxuXHRcdFx0XHRcdGlzRnVsbFdpZHRoID0gKGNjID4gMHhmZiAmJiBjYyA8IDB4ZmY2MSkgfHwgKGNjID4gMHhmZmRjICYmIGNjIDwgMHhmZmU4KSAmJiBjYyA+IDB4ZmZlZTtcblx0XHRcdFx0XHQvLyBDdXJyZW50IGNoYXIgaXMgc3BhY2UsIHdoYXRldmVyIGZ1bGwtd2lkdGggb3IgaGFsZi13aWR0aCBib3RoIGFyZSBPSy5cblx0XHRcdFx0XHRpc1NwYWNlID0gKGMuY2hhckNvZGVBdCgwKSA9PSAweDIwIHx8IGMuY2hhckNvZGVBdCgwKSA9PSAweDMwMDApO1xuXHRcdFx0XHRcdC8vIFRoZSBwcmV2aW91cyBjaGFyIGlzIGZ1bGwtd2lkdGggYW5kXG5cdFx0XHRcdFx0Ly8gY3VycmVudCBjaGFyIGlzIG5ldGhlciBoYWxmLXdpZHRoIG5vciBhIHNwYWNlLlxuXHRcdFx0XHRcdGlmIChpc1ByZXZGdWxsV2lkdGggJiYgIWlzRnVsbFdpZHRoICYmICFpc1NwYWNlKSB7IGN4Kys7IH0gLy8gYWRkIGFuIGV4dHJhIHBvc2l0aW9uXG5cdFx0XHRcdFx0Ly8gVGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoIGFuZFxuXHRcdFx0XHRcdC8vIHRoZSBwcmV2aW91cyBjaGFyIGlzIG5vdCBhIHNwYWNlLlxuXHRcdFx0XHRcdGlmKGlzRnVsbFdpZHRoICYmICFpc1ByZXZTcGFjZSkgeyBjeCsrOyB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuXHRcdFx0XHRcdHRoaXMuZHJhdyhjeCsrLCBjeSwgYywgZmcsIGJnKTtcblx0XHRcdFx0XHRpc1ByZXZTcGFjZSA9IGlzU3BhY2U7XG5cdFx0XHRcdFx0aXNQcmV2RnVsbFdpZHRoID0gaXNGdWxsV2lkdGg7XG5cdFx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfRkc6XG5cdFx0XHRcdGZnID0gdG9rZW4udmFsdWUgfHwgbnVsbDtcblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfQkc6XG5cdFx0XHRcdGJnID0gdG9rZW4udmFsdWUgfHwgbnVsbDtcblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfTkVXTElORTpcblx0XHRcdFx0Y3ggPSB4O1xuXHRcdFx0XHRjeSsrO1xuXHRcdFx0XHRsaW5lcysrXG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbGluZXM7XG59XG5cbi8qKlxuICogVGltZXIgdGljazogdXBkYXRlIGRpcnR5IHBhcnRzXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5fdGljayA9IGZ1bmN0aW9uKCkge1xuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG5cblx0aWYgKCF0aGlzLl9kaXJ0eSkgeyByZXR1cm47IH1cblxuXHRpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHsgLyogZHJhdyBhbGwgKi9cblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX29wdGlvbnMuYmc7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcblxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2RhdGEpIHsgLyogcmVkcmF3IGNhY2hlZCBkYXRhICovXG5cdFx0XHR0aGlzLl9kcmF3KGlkLCBmYWxzZSk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7IC8qIGRyYXcgb25seSBkaXJ0eSAqL1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9kaXJ0eSkge1xuXHRcdFx0dGhpcy5fZHJhdyhrZXksIHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdHRoaXMuX2RpcnR5ID0gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBXaGF0IHRvIGRyYXdcbiAqIEBwYXJhbSB7Ym9vbH0gY2xlYXJCZWZvcmUgSXMgaXQgbmVjZXNzYXJ5IHRvIGNsZWFuIGJlZm9yZT9cbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24oa2V5LCBjbGVhckJlZm9yZSkge1xuXHR2YXIgZGF0YSA9IHRoaXMuX2RhdGFba2V5XTtcblx0aWYgKGRhdGFbNF0gIT0gdGhpcy5fb3B0aW9ucy5iZykgeyBjbGVhckJlZm9yZSA9IHRydWU7IH1cblxuXHR0aGlzLl9iYWNrZW5kLmRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgZGlzcGxheSBiYWNrZW5kIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuQmFja2VuZCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xufVxuXG5ST1QuRGlzcGxheS5CYWNrZW5kLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbn1cbi8qKlxuICogQGNsYXNzIFJlY3Rhbmd1bGFyIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlJlY3QgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblx0XG5cdHRoaXMuX3NwYWNpbmdYID0gMDtcblx0dGhpcy5fc3BhY2luZ1kgPSAwO1xuXHR0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuXHR0aGlzLl9vcHRpb25zID0ge307XG59XG5ST1QuRGlzcGxheS5SZWN0LmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuUmVjdC5jYWNoZSA9IGZhbHNlO1xuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuXHR2YXIgY2hhcldpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fc3BhY2luZ1ggPSBNYXRoLmNlaWwob3B0aW9ucy5zcGFjaW5nICogY2hhcldpZHRoKTtcblx0dGhpcy5fc3BhY2luZ1kgPSBNYXRoLmNlaWwob3B0aW9ucy5zcGFjaW5nICogb3B0aW9ucy5mb250U2l6ZSk7XG5cblx0aWYgKHRoaXMuX29wdGlvbnMuZm9yY2VTcXVhcmVSYXRpbykge1xuXHRcdHRoaXMuX3NwYWNpbmdYID0gdGhpcy5fc3BhY2luZ1kgPSBNYXRoLm1heCh0aGlzLl9zcGFjaW5nWCwgdGhpcy5fc3BhY2luZ1kpO1xuXHR9XG5cblx0dGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggPSBvcHRpb25zLndpZHRoICogdGhpcy5fc3BhY2luZ1g7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogdGhpcy5fc3BhY2luZ1k7XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHRpZiAodGhpcy5jb25zdHJ1Y3Rvci5jYWNoZSkge1xuXHRcdHRoaXMuX2RyYXdXaXRoQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuX2RyYXdOb0NhY2hlKGRhdGEsIGNsZWFyQmVmb3JlKTtcblx0fVxufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5fZHJhd1dpdGhDYWNoZSA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdHZhciBoYXNoID0gXCJcIitjaCtmZytiZztcblx0aWYgKGhhc2ggaW4gdGhpcy5fY2FudmFzQ2FjaGUpIHtcblx0XHR2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzQ2FjaGVbaGFzaF07XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcblx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0XHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRjYW52YXMud2lkdGggPSB0aGlzLl9zcGFjaW5nWDtcblx0XHRjYW52YXMuaGVpZ2h0ID0gdGhpcy5fc3BhY2luZ1k7XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IGJnO1xuXHRcdGN0eC5maWxsUmVjdChiLCBiLCBjYW52YXMud2lkdGgtYiwgY2FudmFzLmhlaWdodC1iKTtcblx0XHRcblx0XHRpZiAoY2gpIHtcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBmZztcblx0XHRcdGN0eC5mb250ID0gdGhpcy5fY29udGV4dC5mb250O1xuXHRcdFx0Y3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cdFx0XHRjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcblxuXHRcdFx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0XHRcdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHRcdFx0Y3R4LmZpbGxUZXh0KGNoYXJzW2ldLCB0aGlzLl9zcGFjaW5nWC8yLCBNYXRoLmNlaWwodGhpcy5fc3BhY2luZ1kvMikpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9jYW52YXNDYWNoZVtoYXNoXSA9IGNhbnZhcztcblx0fVxuXHRcblx0dGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzLCB4KnRoaXMuX3NwYWNpbmdYLCB5KnRoaXMuX3NwYWNpbmdZKTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuX2RyYXdOb0NhY2hlID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0aWYgKGNsZWFyQmVmb3JlKSB7IFxuXHRcdHZhciBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KHgqdGhpcy5fc3BhY2luZ1ggKyBiLCB5KnRoaXMuX3NwYWNpbmdZICsgYiwgdGhpcy5fc3BhY2luZ1ggLSBiLCB0aGlzLl9zcGFjaW5nWSAtIGIpO1xuXHR9XG5cdFxuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFRleHQoY2hhcnNbaV0sICh4KzAuNSkgKiB0aGlzLl9zcGFjaW5nWCwgTWF0aC5jZWlsKCh5KzAuNSkgKiB0aGlzLl9zcGFjaW5nWSkpO1xuXHR9XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fc3BhY2luZ1gpO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX3NwYWNpbmdZKTtcblx0cmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIGJveFdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy53aWR0aCk7XG5cdHZhciBib3hIZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQpO1xuXG5cdC8qIGNvbXB1dGUgY2hhciByYXRpbyAqL1xuXHR2YXIgb2xkRm9udCA9IHRoaXMuX2NvbnRleHQuZm9udDtcblx0dGhpcy5fY29udGV4dC5mb250ID0gXCIxMDBweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcblx0dmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fY29udGV4dC5mb250ID0gb2xkRm9udDtcblx0dmFyIHJhdGlvID0gd2lkdGggLyAxMDA7XG5cdFx0XG5cdHZhciB3aWR0aEZyYWN0aW9uID0gcmF0aW8gKiBib3hIZWlnaHQgLyBib3hXaWR0aDtcblx0aWYgKHdpZHRoRnJhY3Rpb24gPiAxKSB7IC8qIHRvbyB3aWRlIHdpdGggY3VycmVudCBhc3BlY3QgcmF0aW8gKi9cblx0XHRib3hIZWlnaHQgPSBNYXRoLmZsb29yKGJveEhlaWdodCAvIHdpZHRoRnJhY3Rpb24pO1xuXHR9XG5cdHJldHVybiBNYXRoLmZsb29yKGJveEhlaWdodCAvIHRoaXMuX29wdGlvbnMuc3BhY2luZyk7XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFtNYXRoLmZsb29yKHgvdGhpcy5fc3BhY2luZ1gpLCBNYXRoLmZsb29yKHkvdGhpcy5fc3BhY2luZ1kpXTtcbn1cbi8qKlxuICogQGNsYXNzIEhleGFnb25hbCBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5IZXggPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblxuXHR0aGlzLl9zcGFjaW5nWCA9IDA7XG5cdHRoaXMuX3NwYWNpbmdZID0gMDtcblx0dGhpcy5faGV4U2l6ZSA9IDA7XG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcbn1cblJPVC5EaXNwbGF5LkhleC5leHRlbmQoUk9ULkRpc3BsYXkuQmFja2VuZCk7XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cblx0LyogRklYTUUgY2hhciBzaXplIGNvbXB1dGF0aW9uIGRvZXMgbm90IHJlc3BlY3QgdHJhbnNwb3NlZCBoZXhlcyAqL1xuXHR2YXIgY2hhcldpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5faGV4U2l6ZSA9IE1hdGguZmxvb3Iob3B0aW9ucy5zcGFjaW5nICogKG9wdGlvbnMuZm9udFNpemUgKyBjaGFyV2lkdGgvTWF0aC5zcXJ0KDMpKSAvIDIpO1xuXHR0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX2hleFNpemUgKiBNYXRoLnNxcnQoMykgLyAyO1xuXHR0aGlzLl9zcGFjaW5nWSA9IHRoaXMuX2hleFNpemUgKiAxLjU7XG5cblx0aWYgKG9wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0dmFyIHhwcm9wID0gXCJoZWlnaHRcIjtcblx0XHR2YXIgeXByb3AgPSBcIndpZHRoXCI7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHhwcm9wID0gXCJ3aWR0aFwiO1xuXHRcdHZhciB5cHJvcCA9IFwiaGVpZ2h0XCI7XG5cdH1cblx0dGhpcy5fY29udGV4dC5jYW52YXNbeHByb3BdID0gTWF0aC5jZWlsKCAob3B0aW9ucy53aWR0aCArIDEpICogdGhpcy5fc3BhY2luZ1ggKTtcblx0dGhpcy5fY29udGV4dC5jYW52YXNbeXByb3BdID0gTWF0aC5jZWlsKCAob3B0aW9ucy5oZWlnaHQgLSAxKSAqIHRoaXMuX3NwYWNpbmdZICsgMip0aGlzLl9oZXhTaXplICk7XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdHZhciBweCA9IFtcblx0XHQoeCsxKSAqIHRoaXMuX3NwYWNpbmdYLFxuXHRcdHkgKiB0aGlzLl9zcGFjaW5nWSArIHRoaXMuX2hleFNpemVcblx0XTtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7IHB4LnJldmVyc2UoKTsgfVxuXG5cdGlmIChjbGVhckJlZm9yZSkgeyBcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdHRoaXMuX2ZpbGwocHhbMF0sIHB4WzFdKTtcblx0fVxuXHRcblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxUZXh0KGNoYXJzW2ldLCBweFswXSwgTWF0aC5jZWlsKHB4WzFdKSk7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdGF2YWlsV2lkdGggKz0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcblx0fVxuXG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX3NwYWNpbmdYKSAtIDE7XG5cdHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKChhdmFpbEhlaWdodCAtIDIqdGhpcy5faGV4U2l6ZSkgLyB0aGlzLl9zcGFjaW5nWSArIDEpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdGF2YWlsV2lkdGggKz0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcblx0fVxuXG5cdHZhciBoZXhTaXplV2lkdGggPSAyKmF2YWlsV2lkdGggLyAoKHRoaXMuX29wdGlvbnMud2lkdGgrMSkgKiBNYXRoLnNxcnQoMykpIC0gMTtcblx0dmFyIGhleFNpemVIZWlnaHQgPSBhdmFpbEhlaWdodCAvICgyICsgMS41Kih0aGlzLl9vcHRpb25zLmhlaWdodC0xKSk7XG5cdHZhciBoZXhTaXplID0gTWF0aC5taW4oaGV4U2l6ZVdpZHRoLCBoZXhTaXplSGVpZ2h0KTtcblxuXHQvKiBjb21wdXRlIGNoYXIgcmF0aW8gKi9cblx0dmFyIG9sZEZvbnQgPSB0aGlzLl9jb250ZXh0LmZvbnQ7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IFwiMTAwcHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG5cdHZhciB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jb250ZXh0Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IG9sZEZvbnQ7XG5cdHZhciByYXRpbyA9IHdpZHRoIC8gMTAwO1xuXG5cdGhleFNpemUgPSBNYXRoLmZsb29yKGhleFNpemUpKzE7IC8qIGNsb3Nlc3QgbGFyZ2VyIGhleFNpemUgKi9cblxuXHQvKiBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzICovXG5cdHZhciBmb250U2l6ZSA9IDIqaGV4U2l6ZSAvICh0aGlzLl9vcHRpb25zLnNwYWNpbmcgKiAoMSArIHJhdGlvIC8gTWF0aC5zcXJ0KDMpKSk7XG5cblx0LyogY2xvc2VzdCBzbWFsbGVyIGZvbnRTaXplICovXG5cdHJldHVybiBNYXRoLmNlaWwoZm9udFNpemUpLTE7XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHR4ICs9IHk7XG5cdFx0eSA9IHgteTtcblx0XHR4IC09IHk7XG5cdFx0dmFyIHByb3AgPSBcIndpZHRoXCI7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHByb3AgPSBcImhlaWdodFwiO1xuXHR9XG5cdHZhciBzaXplID0gdGhpcy5fY29udGV4dC5jYW52YXNbcHJvcF0gLyB0aGlzLl9vcHRpb25zW3Byb3BdO1xuXHR5ID0gTWF0aC5mbG9vcih5L3NpemUpO1xuXG5cdGlmICh5Lm1vZCgyKSkgeyAvKiBvZGQgcm93ICovXG5cdFx0eCAtPSB0aGlzLl9zcGFjaW5nWDtcblx0XHR4ID0gMSArIDIqTWF0aC5mbG9vcih4LygyKnRoaXMuX3NwYWNpbmdYKSk7XG5cdH0gZWxzZSB7XG5cdFx0eCA9IDIqTWF0aC5mbG9vcih4LygyKnRoaXMuX3NwYWNpbmdYKSk7XG5cdH1cblx0XG5cdHJldHVybiBbeCwgeV07XG59XG5cbi8qKlxuICogQXJndW1lbnRzIGFyZSBwaXhlbCB2YWx1ZXMuIElmIFwidHJhbnNwb3NlZFwiIG1vZGUgaXMgZW5hYmxlZCwgdGhlbiB0aGVzZSB0d28gYXJlIGFscmVhZHkgc3dhcHBlZC5cbiAqL1xuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5fZmlsbCA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgYSA9IHRoaXMuX2hleFNpemU7XG5cdHZhciBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG5cdFxuXHR0aGlzLl9jb250ZXh0LmJlZ2luUGF0aCgpO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdHRoaXMuX2NvbnRleHQubW92ZVRvKGN4LWErYixcdGN5KTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hLzIrYixcdGN5K3RoaXMuX3NwYWNpbmdYLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K2EvMi1iLFx0Y3krdGhpcy5fc3BhY2luZ1gtYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grYS1iLFx0Y3kpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K2EvMi1iLFx0Y3ktdGhpcy5fc3BhY2luZ1grYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtYS8yK2IsXHRjeS10aGlzLl9zcGFjaW5nWCtiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hK2IsXHRjeSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5fY29udGV4dC5tb3ZlVG8oY3gsXHRcdFx0XHRcdGN5LWErYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grdGhpcy5fc3BhY2luZ1gtYixcdGN5LWEvMitiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCt0aGlzLl9zcGFjaW5nWC1iLFx0Y3krYS8yLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LFx0XHRcdFx0XHRjeSthLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LXRoaXMuX3NwYWNpbmdYK2IsXHRjeSthLzItYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtdGhpcy5fc3BhY2luZ1grYixcdGN5LWEvMitiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCxcdFx0XHRcdFx0Y3ktYStiKTtcblx0fVxuXHR0aGlzLl9jb250ZXh0LmZpbGwoKTtcbn1cbi8qKlxuICogQGNsYXNzIFRpbGUgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGlsZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuUmVjdC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXHRcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xuXHR0aGlzLl9jb2xvckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG59XG5ST1QuRGlzcGxheS5UaWxlLmV4dGVuZChST1QuRGlzcGxheS5SZWN0KTtcblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIG9wdGlvbnMudGlsZVdpZHRoO1xuXHR0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCAqIG9wdGlvbnMudGlsZUhlaWdodDtcblx0dGhpcy5fY29sb3JDYW52YXMud2lkdGggPSBvcHRpb25zLnRpbGVXaWR0aDtcblx0dGhpcy5fY29sb3JDYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy50aWxlSGVpZ2h0O1xufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0dmFyIHRpbGVXaWR0aCA9IHRoaXMuX29wdGlvbnMudGlsZVdpZHRoO1xuXHR2YXIgdGlsZUhlaWdodCA9IHRoaXMuX29wdGlvbnMudGlsZUhlaWdodDtcblxuXHRpZiAoY2xlYXJCZWZvcmUpIHtcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHtcblx0XHRcdHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRmb3IgKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHRpbGUgPSB0aGlzLl9vcHRpb25zLnRpbGVNYXBbY2hhcnNbaV1dO1xuXHRcdGlmICghdGlsZSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDaGFyICdcIiArIGNoYXJzW2ldICsgXCInIG5vdCBmb3VuZCBpbiB0aWxlTWFwXCIpOyB9XG5cdFx0XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMudGlsZUNvbG9yaXplKSB7IC8qIGFwcGx5IGNvbG9yaXphdGlvbiAqL1xuXHRcdFx0dmFyIGNhbnZhcyA9IHRoaXMuX2NvbG9yQ2FudmFzO1xuXHRcdFx0dmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdFx0Y29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblxuXHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoXG5cdFx0XHRcdHRoaXMuX29wdGlvbnMudGlsZVNldCxcblx0XHRcdFx0dGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuXHRcdFx0XHQwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHRcblx0XHRcdCk7XG5cblx0XHRcdGlmIChmZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcblx0XHRcdFx0Y29udGV4dC5maWxsU3R5bGUgPSBmZztcblx0XHRcdFx0Y29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1hdG9wXCI7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJnICE9IFwidHJhbnNwYXJlbnRcIikge1xuXHRcdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdFx0XHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tb3ZlclwiO1xuXHRcdFx0XHRjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKGNhbnZhcywgeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblxuXHRcdH0gZWxzZSB7IC8qIG5vIGNvbG9yaXppbmcsIGVhc3kgKi9cblx0XHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKFxuXHRcdFx0XHR0aGlzLl9vcHRpb25zLnRpbGVTZXQsXG5cdFx0XHRcdHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCxcblx0XHRcdFx0eCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLndpZHRoKTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFtNYXRoLmZsb29yKHgvdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpLCBNYXRoLmZsb29yKHkvdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KV07XG59XG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqIFRoaXMgY29kZSBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBBbGVhIGFsZ29yaXRobTsgKEMpIDIwMTAgSm9oYW5uZXMgQmFhZ8O4ZS5cbiAqIEFsZWEgaXMgbGljZW5zZWQgYWNjb3JkaW5nIHRvIHRoZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlLlxuICovXG5ST1QuUk5HID0ge1xuXHQvKipcblx0ICogQHJldHVybnMge251bWJlcn0gXG5cdCAqL1xuXHRnZXRTZWVkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2VlZDtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgU2VlZCB0aGUgbnVtYmVyIGdlbmVyYXRvclxuXHQgKi9cblx0c2V0U2VlZDogZnVuY3Rpb24oc2VlZCkge1xuXHRcdHNlZWQgPSAoc2VlZCA8IDEgPyAxL3NlZWQgOiBzZWVkKTtcblxuXHRcdHRoaXMuX3NlZWQgPSBzZWVkO1xuXHRcdHRoaXMuX3MwID0gKHNlZWQgPj4+IDApICogdGhpcy5fZnJhYztcblxuXHRcdHNlZWQgPSAoc2VlZCo2OTA2OSArIDEpID4+PiAwO1xuXHRcdHRoaXMuX3MxID0gc2VlZCAqIHRoaXMuX2ZyYWM7XG5cblx0XHRzZWVkID0gKHNlZWQqNjkwNjkgKyAxKSA+Pj4gMDtcblx0XHR0aGlzLl9zMiA9IHNlZWQgKiB0aGlzLl9mcmFjO1xuXG5cdFx0dGhpcy5fYyA9IDE7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHtmbG9hdH0gUHNldWRvcmFuZG9tIHZhbHVlIFswLDEpLCB1bmlmb3JtbHkgZGlzdHJpYnV0ZWRcblx0ICovXG5cdGdldFVuaWZvcm06IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0ID0gMjA5MTYzOSAqIHRoaXMuX3MwICsgdGhpcy5fYyAqIHRoaXMuX2ZyYWM7XG5cdFx0dGhpcy5fczAgPSB0aGlzLl9zMTtcblx0XHR0aGlzLl9zMSA9IHRoaXMuX3MyO1xuXHRcdHRoaXMuX2MgPSB0IHwgMDtcblx0XHR0aGlzLl9zMiA9IHQgLSB0aGlzLl9jO1xuXHRcdHJldHVybiB0aGlzLl9zMjtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtpbnR9IGxvd2VyQm91bmQgVGhlIGxvd2VyIGVuZCBvZiB0aGUgcmFuZ2UgdG8gcmV0dXJuIGEgdmFsdWUgZnJvbSwgaW5jbHVzaXZlXG5cdCAqIEBwYXJhbSB7aW50fSB1cHBlckJvdW5kIFRoZSB1cHBlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuXHQgKiBAcmV0dXJucyB7aW50fSBQc2V1ZG9yYW5kb20gdmFsdWUgW2xvd2VyQm91bmQsIHVwcGVyQm91bmRdLCB1c2luZyBST1QuUk5HLmdldFVuaWZvcm0oKSB0byBkaXN0cmlidXRlIHRoZSB2YWx1ZVxuXHQgKi9cblx0Z2V0VW5pZm9ybUludDogZnVuY3Rpb24obG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuXHRcdHZhciBtYXggPSBNYXRoLm1heChsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcblx0XHR2YXIgbWluID0gTWF0aC5taW4obG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbbWVhbj0wXSBNZWFuIHZhbHVlXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFtzdGRkZXY9MV0gU3RhbmRhcmQgZGV2aWF0aW9uLiB+OTUlIG9mIHRoZSBhYnNvbHV0ZSB2YWx1ZXMgd2lsbCBiZSBsb3dlciB0aGFuIDIqc3RkZGV2LlxuXHQgKiBAcmV0dXJucyB7ZmxvYXR9IEEgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgcHNldWRvcmFuZG9tIHZhbHVlXG5cdCAqL1xuXHRnZXROb3JtYWw6IGZ1bmN0aW9uKG1lYW4sIHN0ZGRldikge1xuXHRcdGRvIHtcblx0XHRcdHZhciB1ID0gMip0aGlzLmdldFVuaWZvcm0oKS0xO1xuXHRcdFx0dmFyIHYgPSAyKnRoaXMuZ2V0VW5pZm9ybSgpLTE7XG5cdFx0XHR2YXIgciA9IHUqdSArIHYqdjtcblx0XHR9IHdoaWxlIChyID4gMSB8fCByID09IDApO1xuXG5cdFx0dmFyIGdhdXNzID0gdSAqIE1hdGguc3FydCgtMipNYXRoLmxvZyhyKS9yKTtcblx0XHRyZXR1cm4gKG1lYW4gfHwgMCkgKyBnYXVzcyooc3RkZGV2IHx8IDEpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7aW50fSBQc2V1ZG9yYW5kb20gdmFsdWUgWzEsMTAwXSBpbmNsdXNpdmUsIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuXHQgKi9cblx0Z2V0UGVyY2VudGFnZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIDEgKyBNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpKjEwMCk7XG5cdH0sXG5cdFxuXHQvKipcblx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGEga2V5PXdoYXRldmVyLCB2YWx1ZT13ZWlnaHQgKHJlbGF0aXZlIHByb2JhYmlsaXR5KVxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSB3aGF0ZXZlclxuXHQgKi9cblx0Z2V0V2VpZ2h0ZWRWYWx1ZTogZnVuY3Rpb24oZGF0YSkge1xuXHRcdHZhciB0b3RhbCA9IDA7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaWQgaW4gZGF0YSkge1xuXHRcdFx0dG90YWwgKz0gZGF0YVtpZF07XG5cdFx0fVxuXHRcdHZhciByYW5kb20gPSB0aGlzLmdldFVuaWZvcm0oKSp0b3RhbDtcblx0XHRcblx0XHR2YXIgcGFydCA9IDA7XG5cdFx0Zm9yICh2YXIgaWQgaW4gZGF0YSkge1xuXHRcdFx0cGFydCArPSBkYXRhW2lkXTtcblx0XHRcdGlmIChyYW5kb20gPCBwYXJ0KSB7IHJldHVybiBpZDsgfVxuXHRcdH1cblxuXHRcdC8vIElmIGJ5IHNvbWUgZmxvYXRpbmctcG9pbnQgYW5ub3lhbmNlIHdlIGhhdmVcblx0XHQvLyByYW5kb20gPj0gdG90YWwsIGp1c3QgcmV0dXJuIHRoZSBsYXN0IGlkLlxuXHRcdHJldHVybiBpZDtcblx0fSxcblxuXHQvKipcblx0ICogR2V0IFJORyBzdGF0ZS4gVXNlZnVsIGZvciBzdG9yaW5nIHRoZSBzdGF0ZSBhbmQgcmUtc2V0dGluZyBpdCB2aWEgc2V0U3RhdGUuXG5cdCAqIEByZXR1cm5zIHs/fSBJbnRlcm5hbCBzdGF0ZVxuXHQgKi9cblx0Z2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBbdGhpcy5fczAsIHRoaXMuX3MxLCB0aGlzLl9zMiwgdGhpcy5fY107XG5cdH0sXG5cblx0LyoqXG5cdCAqIFNldCBhIHByZXZpb3VzbHkgcmV0cmlldmVkIHN0YXRlLlxuXHQgKiBAcGFyYW0gez99IHN0YXRlXG5cdCAqL1xuXHRzZXRTdGF0ZTogZnVuY3Rpb24oc3RhdGUpIHtcblx0XHR0aGlzLl9zMCA9IHN0YXRlWzBdO1xuXHRcdHRoaXMuX3MxID0gc3RhdGVbMV07XG5cdFx0dGhpcy5fczIgPSBzdGF0ZVsyXTtcblx0XHR0aGlzLl9jICA9IHN0YXRlWzNdO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY2xvbmVkIFJOR1xuXHQgKi9cblx0Y2xvbmU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjbG9uZSA9IE9iamVjdC5jcmVhdGUodGhpcyk7XG5cdFx0Y2xvbmUuc2V0U3RhdGUodGhpcy5nZXRTdGF0ZSgpKTtcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0X3MwOiAwLFxuXHRfczE6IDAsXG5cdF9zMjogMCxcblx0X2M6IDAsXG5cdF9mcmFjOiAyLjMyODMwNjQzNjUzODY5NjNlLTEwIC8qIDJeLTMyICovXG59XG5cblJPVC5STkcuc2V0U2VlZChEYXRlLm5vdygpKTtcbi8qKlxuICogQGNsYXNzIChNYXJrb3YgcHJvY2VzcyktYmFzZWQgc3RyaW5nIGdlbmVyYXRvci4gXG4gKiBDb3BpZWQgZnJvbSBhIDxhIGhyZWY9XCJodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1OYW1lc19mcm9tX2FfaGlnaF9vcmRlcl9NYXJrb3ZfUHJvY2Vzc19hbmRfYV9zaW1wbGlmaWVkX0thdHpfYmFjay1vZmZfc2NoZW1lXCI+Um9ndWVCYXNpbiBhcnRpY2xlPC9hPi4gXG4gKiBPZmZlcnMgY29uZmlndXJhYmxlIG9yZGVyIGFuZCBwcmlvci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbH0gW29wdGlvbnMud29yZHM9ZmFsc2VdIFVzZSB3b3JkIG1vZGU/XG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMub3JkZXI9M11cbiAqIEBwYXJhbSB7ZmxvYXR9IFtvcHRpb25zLnByaW9yPTAuMDAxXVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHdvcmRzOiBmYWxzZSxcblx0XHRvcmRlcjogMyxcblx0XHRwcmlvcjogMC4wMDFcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblxuXHR0aGlzLl9ib3VuZGFyeSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCk7XG5cdHRoaXMuX3N1ZmZpeCA9IHRoaXMuX2JvdW5kYXJ5O1xuXHR0aGlzLl9wcmVmaXggPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fb3B0aW9ucy5vcmRlcjtpKyspIHsgdGhpcy5fcHJlZml4LnB1c2godGhpcy5fYm91bmRhcnkpOyB9XG5cblx0dGhpcy5fcHJpb3JWYWx1ZXMgPSB7fTtcblx0dGhpcy5fcHJpb3JWYWx1ZXNbdGhpcy5fYm91bmRhcnldID0gdGhpcy5fb3B0aW9ucy5wcmlvcjtcblxuXHR0aGlzLl9kYXRhID0ge307XG59XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsZWFybmluZyBkYXRhXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fcHJpb3JWYWx1ZXMgPSB7fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBHZW5lcmF0ZWQgc3RyaW5nXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24oKSB7XG5cdHZhciByZXN1bHQgPSBbdGhpcy5fc2FtcGxlKHRoaXMuX3ByZWZpeCldO1xuXHR3aGlsZSAocmVzdWx0W3Jlc3VsdC5sZW5ndGgtMV0gIT0gdGhpcy5fYm91bmRhcnkpIHtcblx0XHRyZXN1bHQucHVzaCh0aGlzLl9zYW1wbGUocmVzdWx0KSk7XG5cdH1cblx0cmV0dXJuIHRoaXMuX2pvaW4ocmVzdWx0LnNsaWNlKDAsIC0xKSk7XG59XG5cbi8qKlxuICogT2JzZXJ2ZSAobGVhcm4pIGEgc3RyaW5nIGZyb20gYSB0cmFpbmluZyBzZXRcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHR2YXIgdG9rZW5zID0gdGhpcy5fc3BsaXQoc3RyaW5nKTtcblxuXHRmb3IgKHZhciBpPTA7IGk8dG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5fcHJpb3JWYWx1ZXNbdG9rZW5zW2ldXSA9IHRoaXMuX29wdGlvbnMucHJpb3I7XG5cdH1cblxuXHR0b2tlbnMgPSB0aGlzLl9wcmVmaXguY29uY2F0KHRva2VucykuY29uY2F0KHRoaXMuX3N1ZmZpeCk7IC8qIGFkZCBib3VuZGFyeSBzeW1ib2xzICovXG5cblx0Zm9yICh2YXIgaT10aGlzLl9vcHRpb25zLm9yZGVyOyBpPHRva2Vucy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjb250ZXh0ID0gdG9rZW5zLnNsaWNlKGktdGhpcy5fb3B0aW9ucy5vcmRlciwgaSk7XG5cdFx0dmFyIGV2ZW50ID0gdG9rZW5zW2ldO1xuXHRcdGZvciAodmFyIGo9MDsgajxjb250ZXh0Lmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgc3ViY29udGV4dCA9IGNvbnRleHQuc2xpY2Uoaik7XG5cdFx0XHR0aGlzLl9vYnNlcnZlRXZlbnQoc3ViY29udGV4dCwgZXZlbnQpO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcGFydHMgPSBbXTtcblxuXHR2YXIgcHJpb3JDb3VudCA9IDA7XG5cdGZvciAodmFyIHAgaW4gdGhpcy5fcHJpb3JWYWx1ZXMpIHsgcHJpb3JDb3VudCsrOyB9XG5cdHByaW9yQ291bnQtLTsgLyogYm91bmRhcnkgKi9cblx0cGFydHMucHVzaChcImRpc3RpbmN0IHNhbXBsZXM6IFwiICsgcHJpb3JDb3VudCk7XG5cblx0dmFyIGRhdGFDb3VudCA9IDA7XG5cdHZhciBldmVudENvdW50ID0gMDtcblx0Zm9yICh2YXIgcCBpbiB0aGlzLl9kYXRhKSB7IFxuXHRcdGRhdGFDb3VudCsrOyBcblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fZGF0YVtwXSkge1xuXHRcdFx0ZXZlbnRDb3VudCsrO1xuXHRcdH1cblx0fVxuXHRwYXJ0cy5wdXNoKFwiZGljdGlvbmFyeSBzaXplIChjb250ZXh0cyk6IFwiICsgZGF0YUNvdW50KTtcblx0cGFydHMucHVzaChcImRpY3Rpb25hcnkgc2l6ZSAoZXZlbnRzKTogXCIgKyBldmVudENvdW50KTtcblxuXHRyZXR1cm4gcGFydHMuam9pbihcIiwgXCIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fc3BsaXQgPSBmdW5jdGlvbihzdHIpIHtcblx0cmV0dXJuIHN0ci5zcGxpdCh0aGlzLl9vcHRpb25zLndvcmRzID8gL1xccysvIDogXCJcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX1cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fam9pbiA9IGZ1bmN0aW9uKGFycikge1xuXHRyZXR1cm4gYXJyLmpvaW4odGhpcy5fb3B0aW9ucy53b3JkcyA/IFwiIFwiIDogXCJcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX0gY29udGV4dFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9vYnNlcnZlRXZlbnQgPSBmdW5jdGlvbihjb250ZXh0LCBldmVudCkge1xuXHR2YXIga2V5ID0gdGhpcy5fam9pbihjb250ZXh0KTtcblx0aWYgKCEoa2V5IGluIHRoaXMuX2RhdGEpKSB7IHRoaXMuX2RhdGFba2V5XSA9IHt9OyB9XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXG5cdGlmICghKGV2ZW50IGluIGRhdGEpKSB7IGRhdGFbZXZlbnRdID0gMDsgfVxuXHRkYXRhW2V2ZW50XSsrO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fc2FtcGxlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRjb250ZXh0ID0gdGhpcy5fYmFja29mZihjb250ZXh0KTtcblx0dmFyIGtleSA9IHRoaXMuX2pvaW4oY29udGV4dCk7XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXG5cdHZhciBhdmFpbGFibGUgPSB7fTtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5wcmlvcikge1xuXHRcdGZvciAodmFyIGV2ZW50IGluIHRoaXMuX3ByaW9yVmFsdWVzKSB7IGF2YWlsYWJsZVtldmVudF0gPSB0aGlzLl9wcmlvclZhbHVlc1tldmVudF07IH1cblx0XHRmb3IgKHZhciBldmVudCBpbiBkYXRhKSB7IGF2YWlsYWJsZVtldmVudF0gKz0gZGF0YVtldmVudF07IH1cblx0fSBlbHNlIHsgXG5cdFx0YXZhaWxhYmxlID0gZGF0YTtcblx0fVxuXG5cdHJldHVybiBST1QuUk5HLmdldFdlaWdodGVkVmFsdWUoYXZhaWxhYmxlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfVxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fYmFja29mZiA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0aWYgKGNvbnRleHQubGVuZ3RoID4gdGhpcy5fb3B0aW9ucy5vcmRlcikge1xuXHRcdGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKC10aGlzLl9vcHRpb25zLm9yZGVyKTtcblx0fSBlbHNlIGlmIChjb250ZXh0Lmxlbmd0aCA8IHRoaXMuX29wdGlvbnMub3JkZXIpIHtcblx0XHRjb250ZXh0ID0gdGhpcy5fcHJlZml4LnNsaWNlKDAsIHRoaXMuX29wdGlvbnMub3JkZXIgLSBjb250ZXh0Lmxlbmd0aCkuY29uY2F0KGNvbnRleHQpO1xuXHR9XG5cblx0d2hpbGUgKCEodGhpcy5fam9pbihjb250ZXh0KSBpbiB0aGlzLl9kYXRhKSAmJiBjb250ZXh0Lmxlbmd0aCA+IDApIHsgY29udGV4dCA9IGNvbnRleHQuc2xpY2UoMSk7IH1cblxuXHRyZXR1cm4gY29udGV4dDtcbn1cbi8qKlxuICogQGNsYXNzIEdlbmVyaWMgZXZlbnQgcXVldWU6IHN0b3JlcyBldmVudHMgYW5kIHJldHJpZXZlcyB0aGVtIGJhc2VkIG9uIHRoZWlyIHRpbWVcbiAqL1xuUk9ULkV2ZW50UXVldWUgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fdGltZSA9IDA7XG5cdHRoaXMuX2V2ZW50cyA9IFtdO1xuXHR0aGlzLl9ldmVudFRpbWVzID0gW107XG59XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn0gRWxhcHNlZCB0aW1lXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl90aW1lO1xufVxuXG4vKipcbiAqIENsZWFyIGFsbCBzY2hlZHVsZWQgZXZlbnRzXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9ldmVudHMgPSBbXTtcblx0dGhpcy5fZXZlbnRUaW1lcyA9IFtdO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZXZlbnQsIHRpbWUpIHtcblx0dmFyIGluZGV4ID0gdGhpcy5fZXZlbnRzLmxlbmd0aDtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZXZlbnRUaW1lcy5sZW5ndGg7aSsrKSB7XG5cdFx0aWYgKHRoaXMuX2V2ZW50VGltZXNbaV0gPiB0aW1lKSB7XG5cdFx0XHRpbmRleCA9IGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHR0aGlzLl9ldmVudHMuc3BsaWNlKGluZGV4LCAwLCBldmVudCk7XG5cdHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKGluZGV4LCAwLCB0aW1lKTtcbn1cblxuLyoqXG4gKiBMb2NhdGVzIHRoZSBuZWFyZXN0IGV2ZW50LCBhZHZhbmNlcyB0aW1lIGlmIG5lY2Vzc2FyeS4gUmV0dXJucyB0aGF0IGV2ZW50IGFuZCByZW1vdmVzIGl0IGZyb20gdGhlIHF1ZXVlLlxuICogQHJldHVybnMgez8gfHwgbnVsbH0gVGhlIGV2ZW50IHByZXZpb3VzbHkgYWRkZWQgYnkgYWRkRXZlbnQsIG51bGwgaWYgbm8gZXZlbnQgYXZhaWxhYmxlXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLl9ldmVudHMubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cblx0dmFyIHRpbWUgPSB0aGlzLl9ldmVudFRpbWVzLnNwbGljZSgwLCAxKVswXTtcblx0aWYgKHRpbWUgPiAwKSB7IC8qIGFkdmFuY2UgKi9cblx0XHR0aGlzLl90aW1lICs9IHRpbWU7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZXZlbnRUaW1lcy5sZW5ndGg7aSsrKSB7IHRoaXMuX2V2ZW50VGltZXNbaV0gLT0gdGltZTsgfVxuXHR9XG5cblx0cmV0dXJuIHRoaXMuX2V2ZW50cy5zcGxpY2UoMCwgMSlbMF07XG59XG5cbi8qKlxuICogUmVtb3ZlIGFuIGV2ZW50IGZyb20gdGhlIHF1ZXVlXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2Vzcz9cbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdHZhciBpbmRleCA9IHRoaXMuX2V2ZW50cy5pbmRleE9mKGV2ZW50KTtcblx0aWYgKGluZGV4ID09IC0xKSB7IHJldHVybiBmYWxzZSB9XG5cdHRoaXMuX3JlbW92ZShpbmRleCk7XG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbiBldmVudCBmcm9tIHRoZSBxdWV1ZVxuICogQHBhcmFtIHtpbnR9IGluZGV4XG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0dGhpcy5fZXZlbnRzLnNwbGljZShpbmRleCwgMSk7XG5cdHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKGluZGV4LCAxKTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3F1ZXVlID0gbmV3IFJPVC5FdmVudFF1ZXVlKCk7XG5cdHRoaXMuX3JlcGVhdCA9IFtdO1xuXHR0aGlzLl9jdXJyZW50ID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5FdmVudFF1ZXVlI2dldFRpbWVcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fcXVldWUuZ2V0VGltZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7P30gaXRlbVxuICogQHBhcmFtIHtib29sfSByZXBlYXRcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdGlmIChyZXBlYXQpIHsgdGhpcy5fcmVwZWF0LnB1c2goaXRlbSk7IH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2xlYXIgYWxsIGl0ZW1zXG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3F1ZXVlLmNsZWFyKCk7XG5cdHRoaXMuX3JlcGVhdCA9IFtdO1xuXHR0aGlzLl9jdXJyZW50ID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgcHJldmlvdXNseSBhZGRlZCBpdGVtXG4gKiBAcGFyYW0gez99IGl0ZW1cbiAqIEByZXR1cm5zIHtib29sfSBzdWNjZXNzZnVsP1xuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpdGVtKSB7XG5cdHZhciByZXN1bHQgPSB0aGlzLl9xdWV1ZS5yZW1vdmUoaXRlbSk7XG5cblx0dmFyIGluZGV4ID0gdGhpcy5fcmVwZWF0LmluZGV4T2YoaXRlbSk7XG5cdGlmIChpbmRleCAhPSAtMSkgeyB0aGlzLl9yZXBlYXQuc3BsaWNlKGluZGV4LCAxKTsgfVxuXG5cdGlmICh0aGlzLl9jdXJyZW50ID09IGl0ZW0pIHsgdGhpcy5fY3VycmVudCA9IG51bGw7IH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlIG5leHQgaXRlbVxuICogQHJldHVybnMgez99XG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fY3VycmVudCA9IHRoaXMuX3F1ZXVlLmdldCgpO1xuXHRyZXR1cm4gdGhpcy5fY3VycmVudDtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsZSBmYWlyIHNjaGVkdWxlciAocm91bmQtcm9iaW4gc3R5bGUpXG4gKiBAYXVnbWVudHMgUk9ULlNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZSA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG59XG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5leHRlbmQoUk9ULlNjaGVkdWxlcik7XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI2FkZFxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdHRoaXMuX3F1ZXVlLmFkZChpdGVtLCAwKTtcblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIGl0ZW0sIHJlcGVhdCk7XG59XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAqL1xuUk9ULlNjaGVkdWxlci5TaW1wbGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgMCk7XG5cdH1cblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzKTtcbn1cbi8qKlxuICogQGNsYXNzIFNwZWVkLWJhc2VkIHNjaGVkdWxlclxuICogQGF1Z21lbnRzIFJPVC5TY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlci5TcGVlZCA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG59XG5ST1QuU2NoZWR1bGVyLlNwZWVkLmV4dGVuZChST1QuU2NoZWR1bGVyKTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaXRlbSBhbnl0aGluZyB3aXRoIFwiZ2V0U3BlZWRcIiBtZXRob2RcbiAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjYWRkXG4gKi9cblJPVC5TY2hlZHVsZXIuU3BlZWQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCkge1xuXHR0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgMS9pdGVtLmdldFNwZWVkKCkpO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjbmV4dFxuICovXG5ST1QuU2NoZWR1bGVyLlNwZWVkLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLl9jdXJyZW50ICYmIHRoaXMuX3JlcGVhdC5pbmRleE9mKHRoaXMuX2N1cnJlbnQpICE9IC0xKSB7XG5cdFx0dGhpcy5fcXVldWUuYWRkKHRoaXMuX2N1cnJlbnQsIDEvdGhpcy5fY3VycmVudC5nZXRTcGVlZCgpKTtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWN0aW9uLWJhc2VkIHNjaGVkdWxlclxuICogQGF1Z21lbnRzIFJPVC5TY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0Uk9ULlNjaGVkdWxlci5jYWxsKHRoaXMpO1xuXHR0aGlzLl9kZWZhdWx0RHVyYXRpb24gPSAxOyAvKiBmb3IgbmV3bHkgYWRkZWQgKi9cblx0dGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247IC8qIGZvciB0aGlzLl9jdXJyZW50ICovXG59XG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5leHRlbmQoUk9ULlNjaGVkdWxlcik7XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW1cbiAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gKiBAcGFyYW0ge251bWJlcn0gW3RpbWU9MV1cbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCwgdGltZSkge1xuXHR0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgdGltZSB8fCB0aGlzLl9kZWZhdWx0RHVyYXRpb24pO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKTtcbn1cblxuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0aWYgKGl0ZW0gPT0gdGhpcy5fY3VycmVudCkgeyB0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjsgfVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcywgaXRlbSk7XG59XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgdGhpcy5fZHVyYXRpb24gfHwgdGhpcy5fZGVmYXVsdER1cmF0aW9uKTtcblx0XHR0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuXG4vKipcbiAqIFNldCBkdXJhdGlvbiBmb3IgdGhlIGFjdGl2ZSBpdGVtXG4gKi9cblJPVC5TY2hlZHVsZXIuQWN0aW9uLnByb3RvdHlwZS5zZXREdXJhdGlvbiA9IGZ1bmN0aW9uKHRpbWUpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQpIHsgdGhpcy5fZHVyYXRpb24gPSB0aW1lOyB9XG5cdHJldHVybiB0aGlzO1xufVxuLyoqXG4gKiBAY2xhc3MgQXN5bmNocm9ub3VzIG1haW4gbG9vcFxuICogQHBhcmFtIHtST1QuU2NoZWR1bGVyfSBzY2hlZHVsZXJcbiAqL1xuUk9ULkVuZ2luZSA9IGZ1bmN0aW9uKHNjaGVkdWxlcikge1xuXHR0aGlzLl9zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG5cdHRoaXMuX2xvY2sgPSAxO1xufVxuXG4vKipcbiAqIFN0YXJ0IHRoZSBtYWluIGxvb3AuIFdoZW4gdGhpcyBjYWxsIHJldHVybnMsIHRoZSBsb29wIGlzIGxvY2tlZC5cbiAqL1xuUk9ULkVuZ2luZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMudW5sb2NrKCk7XG59XG5cbi8qKlxuICogSW50ZXJydXB0IHRoZSBlbmdpbmUgYnkgYW4gYXN5bmNocm9ub3VzIGFjdGlvblxuICovXG5ST1QuRW5naW5lLnByb3RvdHlwZS5sb2NrID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2xvY2srKztcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVzdW1lIGV4ZWN1dGlvbiAocGF1c2VkIGJ5IGEgcHJldmlvdXMgbG9jaylcbiAqL1xuUk9ULkVuZ2luZS5wcm90b3R5cGUudW5sb2NrID0gZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5fbG9jaykgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdW5sb2NrIHVubG9ja2VkIGVuZ2luZVwiKTsgfVxuXHR0aGlzLl9sb2NrLS07XG5cblx0d2hpbGUgKCF0aGlzLl9sb2NrKSB7XG5cdFx0dmFyIGFjdG9yID0gdGhpcy5fc2NoZWR1bGVyLm5leHQoKTtcblx0XHRpZiAoIWFjdG9yKSB7IHJldHVybiB0aGlzLmxvY2soKTsgfSAvKiBubyBhY3RvcnMgKi9cblx0XHR2YXIgcmVzdWx0ID0gYWN0b3IuYWN0KCk7XG5cdFx0aWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbikgeyAvKiBhY3RvciByZXR1cm5lZCBhIFwidGhlbmFibGVcIiwgbG9va3MgbGlrZSBhIFByb21pc2UgKi9cblx0XHRcdHRoaXMubG9jaygpO1xuXHRcdFx0cmVzdWx0LnRoZW4odGhpcy51bmxvY2suYmluZCh0aGlzKSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG4vKipcbiAqIEBjbGFzcyBCYXNlIG1hcCBnZW5lcmF0b3JcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKi9cblJPVC5NYXAgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdHRoaXMuX3dpZHRoID0gd2lkdGggfHwgUk9ULkRFRkFVTFRfV0lEVEg7XG5cdHRoaXMuX2hlaWdodCA9IGhlaWdodCB8fCBST1QuREVGQVVMVF9IRUlHSFQ7XG59O1xuXG5ST1QuTWFwLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge31cblxuUk9ULk1hcC5wcm90b3R5cGUuX2ZpbGxNYXAgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHR2YXIgbWFwID0gW107XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdG1hcC5wdXNoKFtdKTtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7IG1hcFtpXS5wdXNoKHZhbHVlKTsgfVxuXHR9XG5cdHJldHVybiBtYXA7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGUgZW1wdHkgcmVjdGFuZ3VsYXIgcm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5BcmVuYSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xufVxuUk9ULk1hcC5BcmVuYS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuQXJlbmEucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGgtMTtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQtMTtcblx0Zm9yICh2YXIgaT0wO2k8PXc7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8PWg7aisrKSB7XG5cdFx0XHR2YXIgZW1wdHkgPSAoaSAmJiBqICYmIGk8dyAmJiBqPGgpO1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgZW1wdHkgPyAwIDogMSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuLyoqXG4gKiBAY2xhc3MgUmVjdXJzaXZlbHkgZGl2aWRlZCBtYXplLCBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hemVfZ2VuZXJhdGlvbl9hbGdvcml0aG0jUmVjdXJzaXZlX2RpdmlzaW9uX21ldGhvZFxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5EaXZpZGVkTWF6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9zdGFjayA9IFtdO1xufVxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0O1xuXHRcblx0dGhpcy5fbWFwID0gW107XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdHRoaXMuX21hcC5wdXNoKFtdKTtcblx0XHRmb3IgKHZhciBqPTA7ajxoO2orKykge1xuXHRcdFx0dmFyIGJvcmRlciA9IChpID09IDAgfHwgaiA9PSAwIHx8IGkrMSA9PSB3IHx8IGorMSA9PSBoKTtcblx0XHRcdHRoaXMuX21hcFtpXS5wdXNoKGJvcmRlciA/IDEgOiAwKTtcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX3N0YWNrID0gW1xuXHRcdFsxLCAxLCB3LTIsIGgtMl1cblx0XTtcblx0dGhpcy5fcHJvY2VzcygpO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajxoO2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0dGhpcy5fbWFwID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLl9wcm9jZXNzID0gZnVuY3Rpb24oKSB7XG5cdHdoaWxlICh0aGlzLl9zdGFjay5sZW5ndGgpIHtcblx0XHR2YXIgcm9vbSA9IHRoaXMuX3N0YWNrLnNoaWZ0KCk7IC8qIFtsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21dICovXG5cdFx0dGhpcy5fcGFydGl0aW9uUm9vbShyb29tKTtcblx0fVxufVxuXG5ST1QuTWFwLkRpdmlkZWRNYXplLnByb3RvdHlwZS5fcGFydGl0aW9uUm9vbSA9IGZ1bmN0aW9uKHJvb20pIHtcblx0dmFyIGF2YWlsWCA9IFtdO1xuXHR2YXIgYXZhaWxZID0gW107XG5cdFxuXHRmb3IgKHZhciBpPXJvb21bMF0rMTtpPHJvb21bMl07aSsrKSB7XG5cdFx0dmFyIHRvcCA9IHRoaXMuX21hcFtpXVtyb29tWzFdLTFdO1xuXHRcdHZhciBib3R0b20gPSB0aGlzLl9tYXBbaV1bcm9vbVszXSsxXTtcblx0XHRpZiAodG9wICYmIGJvdHRvbSAmJiAhKGkgJSAyKSkgeyBhdmFpbFgucHVzaChpKTsgfVxuXHR9XG5cdFxuXHRmb3IgKHZhciBqPXJvb21bMV0rMTtqPHJvb21bM107aisrKSB7XG5cdFx0dmFyIGxlZnQgPSB0aGlzLl9tYXBbcm9vbVswXS0xXVtqXTtcblx0XHR2YXIgcmlnaHQgPSB0aGlzLl9tYXBbcm9vbVsyXSsxXVtqXTtcblx0XHRpZiAobGVmdCAmJiByaWdodCAmJiAhKGogJSAyKSkgeyBhdmFpbFkucHVzaChqKTsgfVxuXHR9XG5cblx0aWYgKCFhdmFpbFgubGVuZ3RoIHx8ICFhdmFpbFkubGVuZ3RoKSB7IHJldHVybjsgfVxuXG5cdHZhciB4ID0gYXZhaWxYLnJhbmRvbSgpO1xuXHR2YXIgeSA9IGF2YWlsWS5yYW5kb20oKTtcblx0XG5cdHRoaXMuX21hcFt4XVt5XSA9IDE7XG5cdFxuXHR2YXIgd2FsbHMgPSBbXTtcblx0XG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIGxlZnQgcGFydCAqL1xuXHRmb3IgKHZhciBpPXJvb21bMF07IGk8eDsgaSsrKSB7IFxuXHRcdHRoaXMuX21hcFtpXVt5XSA9IDE7XG5cdFx0dy5wdXNoKFtpLCB5XSk7IFxuXHR9XG5cdFxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiByaWdodCBwYXJ0ICovXG5cdGZvciAodmFyIGk9eCsxOyBpPD1yb29tWzJdOyBpKyspIHsgXG5cdFx0dGhpcy5fbWFwW2ldW3ldID0gMTtcblx0XHR3LnB1c2goW2ksIHldKTsgXG5cdH1cblxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiB0b3AgcGFydCAqL1xuXHRmb3IgKHZhciBqPXJvb21bMV07IGo8eTsgaisrKSB7IFxuXHRcdHRoaXMuX21hcFt4XVtqXSA9IDE7XG5cdFx0dy5wdXNoKFt4LCBqXSk7IFxuXHR9XG5cdFxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiBib3R0b20gcGFydCAqL1xuXHRmb3IgKHZhciBqPXkrMTsgajw9cm9vbVszXTsgaisrKSB7IFxuXHRcdHRoaXMuX21hcFt4XVtqXSA9IDE7XG5cdFx0dy5wdXNoKFt4LCBqXSk7IFxuXHR9XG5cdFx0XG5cdHZhciBzb2xpZCA9IHdhbGxzLnJhbmRvbSgpO1xuXHRmb3IgKHZhciBpPTA7aTx3YWxscy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHcgPSB3YWxsc1tpXTtcblx0XHRpZiAodyA9PSBzb2xpZCkgeyBjb250aW51ZTsgfVxuXHRcdFxuXHRcdHZhciBob2xlID0gdy5yYW5kb20oKTtcblx0XHR0aGlzLl9tYXBbaG9sZVswXV1baG9sZVsxXV0gPSAwO1xuXHR9XG5cblx0dGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgcm9vbVsxXSwgeC0xLCB5LTFdKTsgLyogbGVmdCB0b3AgKi9cblx0dGhpcy5fc3RhY2sucHVzaChbeCsxLCByb29tWzFdLCByb29tWzJdLCB5LTFdKTsgLyogcmlnaHQgdG9wICovXG5cdHRoaXMuX3N0YWNrLnB1c2goW3Jvb21bMF0sIHkrMSwgeC0xLCByb29tWzNdXSk7IC8qIGxlZnQgYm90dG9tICovXG5cdHRoaXMuX3N0YWNrLnB1c2goW3grMSwgeSsxLCByb29tWzJdLCByb29tWzNdXSk7IC8qIHJpZ2h0IGJvdHRvbSAqL1xufVxuLyoqXG4gKiBAY2xhc3MgSWNleSdzIE1hemUgZ2VuZXJhdG9yXG4gKiBTZWUgaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9U2ltcGxlX21hemUgZm9yIGV4cGxhbmF0aW9uXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkljZXlNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcmVndWxhcml0eSkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX3JlZ3VsYXJpdHkgPSByZWd1bGFyaXR5IHx8IDA7XG59XG5ST1QuTWFwLkljZXlNYXplLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5JY2V5TWF6ZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG5cdFxuXHR2YXIgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XG5cdHdpZHRoIC09ICh3aWR0aCAlIDIgPyAxIDogMik7XG5cdGhlaWdodCAtPSAoaGVpZ2h0ICUgMiA/IDEgOiAyKTtcblxuXHR2YXIgY3ggPSAwO1xuXHR2YXIgY3kgPSAwO1xuXHR2YXIgbnggPSAwO1xuXHR2YXIgbnkgPSAwO1xuXG5cdHZhciBkb25lID0gMDtcblx0dmFyIGJsb2NrZWQgPSBmYWxzZTtcblx0dmFyIGRpcnMgPSBbXG5cdFx0WzAsIDBdLFxuXHRcdFswLCAwXSxcblx0XHRbMCwgMF0sXG5cdFx0WzAsIDBdXG5cdF07XG5cdGRvIHtcblx0XHRjeCA9IDEgKyAyKk1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKHdpZHRoLTEpIC8gMik7XG5cdFx0Y3kgPSAxICsgMipNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKihoZWlnaHQtMSkgLyAyKTtcblxuXHRcdGlmICghZG9uZSkgeyBtYXBbY3hdW2N5XSA9IDA7IH1cblx0XHRcblx0XHRpZiAoIW1hcFtjeF1bY3ldKSB7XG5cdFx0XHR0aGlzLl9yYW5kb21pemUoZGlycyk7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGlmIChNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKih0aGlzLl9yZWd1bGFyaXR5KzEpKSA9PSAwKSB7IHRoaXMuX3JhbmRvbWl6ZShkaXJzKTsgfVxuXHRcdFx0XHRibG9ja2VkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8NDtpKyspIHtcblx0XHRcdFx0XHRueCA9IGN4ICsgZGlyc1tpXVswXSoyO1xuXHRcdFx0XHRcdG55ID0gY3kgKyBkaXJzW2ldWzFdKjI7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2lzRnJlZShtYXAsIG54LCBueSwgd2lkdGgsIGhlaWdodCkpIHtcblx0XHRcdFx0XHRcdG1hcFtueF1bbnldID0gMDtcblx0XHRcdFx0XHRcdG1hcFtjeCArIGRpcnNbaV1bMF1dW2N5ICsgZGlyc1tpXVsxXV0gPSAwO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjeCA9IG54O1xuXHRcdFx0XHRcdFx0Y3kgPSBueTtcblx0XHRcdFx0XHRcdGJsb2NrZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGRvbmUrKztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSB3aGlsZSAoIWJsb2NrZWQpO1xuXHRcdH1cblx0fSB3aGlsZSAoZG9uZSsxIDwgd2lkdGgqaGVpZ2h0LzQpO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0dGhpcy5fbWFwID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuSWNleU1hemUucHJvdG90eXBlLl9yYW5kb21pemUgPSBmdW5jdGlvbihkaXJzKSB7XG5cdGZvciAodmFyIGk9MDtpPDQ7aSsrKSB7XG5cdFx0ZGlyc1tpXVswXSA9IDA7XG5cdFx0ZGlyc1tpXVsxXSA9IDA7XG5cdH1cblx0XG5cdHN3aXRjaCAoTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSo0KSkge1xuXHRcdGNhc2UgMDpcblx0XHRcdGRpcnNbMF1bMF0gPSAtMTsgZGlyc1sxXVswXSA9IDE7XG5cdFx0XHRkaXJzWzJdWzFdID0gLTE7IGRpcnNbM11bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdGRpcnNbM11bMF0gPSAtMTsgZGlyc1syXVswXSA9IDE7XG5cdFx0XHRkaXJzWzFdWzFdID0gLTE7IGRpcnNbMF1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGRpcnNbMl1bMF0gPSAtMTsgZGlyc1szXVswXSA9IDE7XG5cdFx0XHRkaXJzWzBdWzFdID0gLTE7IGRpcnNbMV1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMzpcblx0XHRcdGRpcnNbMV1bMF0gPSAtMTsgZGlyc1swXVswXSA9IDE7XG5cdFx0XHRkaXJzWzNdWzFdID0gLTE7IGRpcnNbMl1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHR9XG59XG5cblJPVC5NYXAuSWNleU1hemUucHJvdG90eXBlLl9pc0ZyZWUgPSBmdW5jdGlvbihtYXAsIHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHggPj0gd2lkdGggfHwgeSA+PSBoZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiBtYXBbeF1beV07XG59XG4vKipcbiAqIEBjbGFzcyBNYXplIGdlbmVyYXRvciAtIEVsbGVyJ3MgYWxnb3JpdGhtXG4gKiBTZWUgaHR0cDovL2hvbWVwYWdlcy5jd2kubmwvfnRyb21wL21hemUuaHRtbCBmb3IgZXhwbGFuYXRpb25cbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuRWxsZXJNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG59XG5ST1QuTWFwLkVsbGVyTWF6ZS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuRWxsZXJNYXplLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0dmFyIHcgPSBNYXRoLmNlaWwoKHRoaXMuX3dpZHRoLTIpLzIpO1xuXHRcblx0dmFyIHJhbmQgPSA5LzI0O1xuXHRcblx0dmFyIEwgPSBbXTtcblx0dmFyIFIgPSBbXTtcblx0XG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0TC5wdXNoKGkpO1xuXHRcdFIucHVzaChpKTtcblx0fVxuXHRMLnB1c2gody0xKTsgLyogZmFrZSBzdG9wLWJsb2NrIGF0IHRoZSByaWdodCBzaWRlICovXG5cblx0Zm9yICh2YXIgaj0xO2orMzx0aGlzLl9oZWlnaHQ7ais9Mikge1xuXHRcdC8qIG9uZSByb3cgKi9cblx0XHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdFx0LyogY2VsbCBjb29yZHMgKHdpbGwgYmUgYWx3YXlzIGVtcHR5KSAqL1xuXHRcdFx0dmFyIHggPSAyKmkrMTtcblx0XHRcdHZhciB5ID0gajtcblx0XHRcdG1hcFt4XVt5XSA9IDA7XG5cdFx0XHRcblx0XHRcdC8qIHJpZ2h0IGNvbm5lY3Rpb24gKi9cblx0XHRcdGlmIChpICE9IExbaSsxXSAmJiBST1QuUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpIHtcblx0XHRcdFx0dGhpcy5fYWRkVG9MaXN0KGksIEwsIFIpO1xuXHRcdFx0XHRtYXBbeCsxXVt5XSA9IDA7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8qIGJvdHRvbSBjb25uZWN0aW9uICovXG5cdFx0XHRpZiAoaSAhPSBMW2ldICYmIFJPVC5STkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkge1xuXHRcdFx0XHQvKiByZW1vdmUgY29ubmVjdGlvbiAqL1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8qIGNyZWF0ZSBjb25uZWN0aW9uICovXG5cdFx0XHRcdG1hcFt4XVt5KzFdID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKiBsYXN0IHJvdyAqL1xuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdC8qIGNlbGwgY29vcmRzICh3aWxsIGJlIGFsd2F5cyBlbXB0eSkgKi9cblx0XHR2YXIgeCA9IDIqaSsxO1xuXHRcdHZhciB5ID0gajtcblx0XHRtYXBbeF1beV0gPSAwO1xuXHRcdFxuXHRcdC8qIHJpZ2h0IGNvbm5lY3Rpb24gKi9cblx0XHRpZiAoaSAhPSBMW2krMV0gJiYgKGkgPT0gTFtpXSB8fCBST1QuUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpKSB7XG5cdFx0XHQvKiBkaWcgcmlnaHQgYWxzbyBpZiB0aGUgY2VsbCBpcyBzZXBhcmF0ZWQsIHNvIGl0IGdldHMgY29ubmVjdGVkIHRvIHRoZSByZXN0IG9mIG1hemUgKi9cblx0XHRcdHRoaXMuX2FkZFRvTGlzdChpLCBMLCBSKTtcblx0XHRcdG1hcFt4KzFdW3ldID0gMDtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5fcmVtb3ZlRnJvbUxpc3QoaSwgTCwgUik7XG5cdH1cblx0XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIG1hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgXCJpXCIgZnJvbSBpdHMgbGlzdFxuICovXG5ST1QuTWFwLkVsbGVyTWF6ZS5wcm90b3R5cGUuX3JlbW92ZUZyb21MaXN0ID0gZnVuY3Rpb24oaSwgTCwgUikge1xuXHRSW0xbaV1dID0gUltpXTtcblx0TFtSW2ldXSA9IExbaV07XG5cdFJbaV0gPSBpO1xuXHRMW2ldID0gaTtcbn1cblxuLyoqXG4gKiBKb2luIGxpc3RzIHdpdGggXCJpXCIgYW5kIFwiaSsxXCJcbiAqL1xuUk9ULk1hcC5FbGxlck1hemUucHJvdG90eXBlLl9hZGRUb0xpc3QgPSBmdW5jdGlvbihpLCBMLCBSKSB7XG5cdFJbTFtpKzFdXSA9IFJbaV07XG5cdExbUltpXV0gPSBMW2krMV07XG5cdFJbaV0gPSBpKzE7XG5cdExbaSsxXSA9IGk7XG59XG4vKipcbiAqIEBjbGFzcyBDZWxsdWxhciBhdXRvbWF0b24gbWFwIGdlbmVyYXRvclxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmJvcm5dIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhIG5ldyBjZWxsIHRvIGJlIGJvcm4gaW4gZW1wdHkgc3BhY2VcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLnN1cnZpdmVdIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhbiBleGlzdGluZyAgY2VsbCB0byBzdXJ2aXZlXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudG9wb2xvZ3ldIFRvcG9sb2d5IDQgb3IgNiBvciA4XG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRib3JuOiBbNSwgNiwgNywgOF0sXG5cdFx0c3Vydml2ZTogWzQsIDUsIDYsIDcsIDhdLFxuXHRcdHRvcG9sb2d5OiA4LFxuXHRcdGNvbm5lY3RlZDogZmFsc2Vcblx0fTtcblx0dGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuXHRcblx0dGhpcy5fZGlycyA9IFJPVC5ESVJTW3RoaXMuX29wdGlvbnMudG9wb2xvZ3ldO1xuXHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDApO1xufVxuUk9ULk1hcC5DZWxsdWxhci5leHRlbmQoUk9ULk1hcCk7XG5cbi8qKlxuICogRmlsbCB0aGUgbWFwIHdpdGggcmFuZG9tIHZhbHVlc1xuICogQHBhcmFtIHtmbG9hdH0gcHJvYmFiaWxpdHkgUHJvYmFiaWxpdHkgZm9yIGEgY2VsbCB0byBiZWNvbWUgYWxpdmU7IDAgPSBhbGwgZW1wdHksIDEgPSBhbGwgZnVsbFxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5yYW5kb21pemUgPSBmdW5jdGlvbihwcm9iYWJpbGl0eSkge1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHR0aGlzLl9tYXBbaV1bal0gPSAoUk9ULlJORy5nZXRVbmlmb3JtKCkgPCBwcm9iYWJpbGl0eSA/IDEgOiAwKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hhbmdlIG9wdGlvbnMuXG4gKiBAc2VlIFJPVC5NYXAuQ2VsbHVsYXJcbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgbmV3TWFwID0gdGhpcy5fZmlsbE1hcCgwKTtcblx0dmFyIGJvcm4gPSB0aGlzLl9vcHRpb25zLmJvcm47XG5cdHZhciBzdXJ2aXZlID0gdGhpcy5fb3B0aW9ucy5zdXJ2aXZlO1xuXG5cblx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdHZhciB3aWR0aFN0ZXAgPSAxO1xuXHRcdHZhciB3aWR0aFN0YXJ0ID0gMDtcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7IFxuXHRcdFx0d2lkdGhTdGVwID0gMjtcblx0XHRcdHdpZHRoU3RhcnQgPSBqJTI7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaT13aWR0aFN0YXJ0OyBpPHRoaXMuX3dpZHRoOyBpKz13aWR0aFN0ZXApIHtcblxuXHRcdFx0dmFyIGN1ciA9IHRoaXMuX21hcFtpXVtqXTtcblx0XHRcdHZhciBuY291bnQgPSB0aGlzLl9nZXROZWlnaGJvcnMoaSwgaik7XG5cdFx0XHRcblx0XHRcdGlmIChjdXIgJiYgc3Vydml2ZS5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogc3Vydml2ZSAqL1xuXHRcdFx0XHRuZXdNYXBbaV1bal0gPSAxO1xuXHRcdFx0fSBlbHNlIGlmICghY3VyICYmIGJvcm4uaW5kZXhPZihuY291bnQpICE9IC0xKSB7IC8qIGJvcm4gKi9cblx0XHRcdFx0bmV3TWFwW2ldW2pdID0gMTtcblx0XHRcdH1cdFx0XHRcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX21hcCA9IG5ld01hcDtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5jb25uZWN0ZWQpIHsgdGhpcy5fY29tcGxldGVNYXplKCk7IH0gLy8gb3B0aW9uYWxseSBjb25uZWN0IGV2ZXJ5IHNwYWNlXG5cblx0aWYgKCFjYWxsYmFjaykgeyByZXR1cm47IH1cblxuXHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0dmFyIHdpZHRoU3RlcCA9IDE7XG5cdFx0dmFyIHdpZHRoU3RhcnQgPSAwO1xuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHsgXG5cdFx0XHR3aWR0aFN0ZXAgPSAyO1xuXHRcdFx0d2lkdGhTdGFydCA9IGolMjtcblx0XHR9XG5cdFx0Zm9yICh2YXIgaT13aWR0aFN0YXJ0OyBpPHRoaXMuX3dpZHRoOyBpKz13aWR0aFN0ZXApIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIG5ld01hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogR2V0IG5laWdoYm9yIGNvdW50IGF0IFtpLGpdIGluIHRoaXMuX21hcFxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciByZXN1bHQgPSAwO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9kaXJzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGlyID0gdGhpcy5fZGlyc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGlyWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkaXJbMV07XG5cdFx0XG5cdFx0aWYgKHggPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeCA8IDAgfHwgeSA+PSB0aGlzLl93aWR0aCkgeyBjb250aW51ZTsgfVxuXHRcdHJlc3VsdCArPSAodGhpcy5fbWFwW3hdW3ldID09IDEgPyAxIDogMCk7XG5cdH1cblx0XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogTWFrZSBzdXJlIGV2ZXJ5IG5vbi13YWxsIHNwYWNlIGlzIGFjY2Vzc2libGUuXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9jb21wbGV0ZU1hemUgPSBmdW5jdGlvbigpIHtcblx0dmFyIGFsbEZyZWVTcGFjZSA9IFtdO1xuXHR2YXIgbm90Q29ubmVjdGVkID0ge307XG5cdC8vIGZpbmQgYWxsIGZyZWUgc3BhY2Vcblx0Zm9yICh2YXIgeCA9IDA7IHggPCB0aGlzLl93aWR0aDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLl9oZWlnaHQ7IHkrKykge1xuXHRcdFx0aWYgKHRoaXMuX2ZyZWVTcGFjZSh4LCB5KSkge1xuXHRcdFx0XHR2YXIgcCA9IFt4LCB5XTtcblx0XHRcdFx0bm90Q29ubmVjdGVkW3RoaXMuX3BvaW50S2V5KHApXSA9IHA7XG5cdFx0XHRcdGFsbEZyZWVTcGFjZS5wdXNoKFt4LCB5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHZhciBzdGFydCA9IGFsbEZyZWVTcGFjZVtST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgYWxsRnJlZVNwYWNlLmxlbmd0aCAtIDEpXTtcblxuXHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkoc3RhcnQpO1xuXHR2YXIgY29ubmVjdGVkID0ge307XG5cdGNvbm5lY3RlZFtrZXldID0gc3RhcnQ7XG5cdGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XVxuXG5cdC8vIGZpbmQgd2hhdCdzIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcblx0dGhpcy5fZmluZENvbm5lY3RlZChjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgW3N0YXJ0XSk7XG5cblx0d2hpbGUgKE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCkubGVuZ3RoID4gMCkge1xuXG5cdFx0Ly8gZmluZCB0d28gcG9pbnRzIGZyb20gbm90Q29ubmVjdGVkIHRvIGNvbm5lY3RlZFxuXHRcdHZhciBwID0gdGhpcy5fZ2V0RnJvbVRvKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKTtcblx0XHR2YXIgZnJvbSA9IHBbMF07IC8vIG5vdENvbm5lY3RlZFxuXHRcdHZhciB0byA9IHBbMV07IC8vIGNvbm5lY3RlZFxuXG5cdFx0Ly8gZmluZCBldmVyeXRoaW5nIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcblx0XHR2YXIgbG9jYWwgPSB7fTtcblx0XHRsb2NhbFt0aGlzLl9wb2ludEtleShmcm9tKV0gPSBmcm9tO1xuXHRcdHRoaXMuX2ZpbmRDb25uZWN0ZWQobG9jYWwsIG5vdENvbm5lY3RlZCwgW2Zyb21dLCB0cnVlKTtcblxuXHRcdC8vIGNvbm5lY3QgdG8gYSBjb25uZWN0ZWQgc3F1YXJlXG5cdFx0dGhpcy5fdHVubmVsVG9Db25uZWN0ZWQodG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKTtcblxuXHRcdC8vIG5vdyBhbGwgb2YgbG9jYWwgaXMgY29ubmVjdGVkXG5cdFx0Zm9yICh2YXIgayBpbiBsb2NhbCkge1xuXHRcdFx0dmFyIHBwID0gbG9jYWxba107XG5cdFx0XHR0aGlzLl9tYXBbcHBbMF1dW3BwWzFdXSA9IDA7XG5cdFx0XHRjb25uZWN0ZWRba10gPSBwcDtcblx0XHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRba107XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRmluZCByYW5kb20gcG9pbnRzIHRvIGNvbm5lY3QuIFNlYXJjaCBmb3IgdGhlIGNsb3Nlc3QgcG9pbnQgaW4gdGhlIGxhcmdlciBzcGFjZS4gXG4gKiBUaGlzIGlzIHRvIG1pbmltaXplIHRoZSBsZW5ndGggb2YgdGhlIHBhc3NhZ2Ugd2hpbGUgbWFpbnRhaW5pbmcgZ29vZCBwZXJmb3JtYW5jZS5cbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2dldEZyb21UbyA9IGZ1bmN0aW9uKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKSB7XG5cdHZhciBmcm9tLCB0bywgZDtcblx0dmFyIGNvbm5lY3RlZEtleXMgPSBPYmplY3Qua2V5cyhjb25uZWN0ZWQpO1xuXHR2YXIgbm90Q29ubmVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdFx0aWYgKGNvbm5lY3RlZEtleXMubGVuZ3RoIDwgbm90Q29ubmVjdGVkS2V5cy5sZW5ndGgpIHtcblx0XHRcdHZhciBrZXlzID0gY29ubmVjdGVkS2V5cztcblx0XHRcdHRvID0gY29ubmVjdGVkW2tleXNbUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGtleXMubGVuZ3RoIC0gMSldXVxuXHRcdFx0ZnJvbSA9IHRoaXMuX2dldENsb3Nlc3QodG8sIG5vdENvbm5lY3RlZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBrZXlzID0gbm90Q29ubmVjdGVkS2V5cztcblx0XHRcdGZyb20gPSBub3RDb25uZWN0ZWRba2V5c1tST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwga2V5cy5sZW5ndGggLSAxKV1dXG5cdFx0XHR0byA9IHRoaXMuX2dldENsb3Nlc3QoZnJvbSwgY29ubmVjdGVkKTtcblx0XHR9XG5cdFx0ZCA9IChmcm9tWzBdIC0gdG9bMF0pICogKGZyb21bMF0gLSB0b1swXSkgKyAoZnJvbVsxXSAtIHRvWzFdKSAqIChmcm9tWzFdIC0gdG9bMV0pO1xuXHRcdGlmIChkIDwgNjQpIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHQvLyBjb25zb2xlLmxvZyhcIj4+PiBjb25uZWN0ZWQ9XCIgKyB0byArIFwiIG5vdENvbm5lY3RlZD1cIiArIGZyb20gKyBcIiBkaXN0PVwiICsgZCk7XG5cdHJldHVybiBbZnJvbSwgdG9dO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0Q2xvc2VzdCA9IGZ1bmN0aW9uKHBvaW50LCBzcGFjZSkge1xuXHR2YXIgbWluUG9pbnQgPSBudWxsO1xuXHR2YXIgbWluRGlzdCA9IG51bGw7XG5cdGZvciAoayBpbiBzcGFjZSkge1xuXHRcdHZhciBwID0gc3BhY2Vba107XG5cdFx0dmFyIGQgPSAocFswXSAtIHBvaW50WzBdKSAqIChwWzBdIC0gcG9pbnRbMF0pICsgKHBbMV0gLSBwb2ludFsxXSkgKiAocFsxXSAtIHBvaW50WzFdKTtcblx0XHRpZiAobWluRGlzdCA9PSBudWxsIHx8IGQgPCBtaW5EaXN0KSB7XG5cdFx0XHRtaW5EaXN0ID0gZDtcblx0XHRcdG1pblBvaW50ID0gcDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1pblBvaW50O1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZmluZENvbm5lY3RlZCA9IGZ1bmN0aW9uKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBzdGFjaywga2VlcE5vdENvbm5lY3RlZCkge1xuXHR3aGlsZShzdGFjay5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIHAgPSBzdGFjay5zcGxpY2UoMCwgMSlbMF07XG5cdFx0dmFyIHRlc3RzID0gW1xuXHRcdFx0W3BbMF0gKyAxLCBwWzFdXSxcblx0XHRcdFtwWzBdIC0gMSwgcFsxXV0sXG5cdFx0XHRbcFswXSwgICAgIHBbMV0gKyAxXSxcblx0XHRcdFtwWzBdLCAgICAgcFsxXSAtIDFdXG5cdFx0XTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkodGVzdHNbaV0pO1xuXHRcdFx0aWYgKGNvbm5lY3RlZFtrZXldID09IG51bGwgJiYgdGhpcy5fZnJlZVNwYWNlKHRlc3RzW2ldWzBdLCB0ZXN0c1tpXVsxXSkpIHtcblx0XHRcdFx0Y29ubmVjdGVkW2tleV0gPSB0ZXN0c1tpXTtcblx0XHRcdFx0aWYgKCFrZWVwTm90Q29ubmVjdGVkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIG5vdENvbm5lY3RlZFtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0YWNrLnB1c2godGVzdHNbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fdHVubmVsVG9Db25uZWN0ZWQgPSBmdW5jdGlvbih0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpIHtcblx0dmFyIGtleSA9IHRoaXMuX3BvaW50S2V5KGZyb20pO1xuXHR2YXIgYSwgYjtcblx0aWYgKGZyb21bMF0gPCB0b1swXSkge1xuXHRcdGEgPSBmcm9tO1xuXHRcdGIgPSB0bztcblx0fSBlbHNlIHtcblx0XHRhID0gdG87XG5cdFx0YiA9IGZyb207XG5cdH1cblx0Zm9yICh2YXIgeHggPSBhWzBdOyB4eCA8PSBiWzBdOyB4eCsrKSB7XG5cdFx0dGhpcy5fbWFwW3h4XVthWzFdXSA9IDA7XG5cdFx0dmFyIHAgPSBbeHgsIGFbMV1dO1xuXHRcdHZhciBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG5cdFx0Y29ubmVjdGVkW3BrZXldID0gcDtcblx0XHRkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuXHR9XG5cblx0Ly8geCBpcyBub3cgZml4ZWRcblx0dmFyIHggPSBiWzBdO1xuXG5cdGlmIChmcm9tWzFdIDwgdG9bMV0pIHtcblx0XHRhID0gZnJvbTtcblx0XHRiID0gdG87XG5cdH0gZWxzZSB7XG5cdFx0YSA9IHRvO1xuXHRcdGIgPSBmcm9tO1xuXHR9XG5cdGZvciAodmFyIHl5ID0gYVsxXTsgeXkgPCBiWzFdOyB5eSsrKSB7XG5cdFx0dGhpcy5fbWFwW3hdW3l5XSA9IDA7XG5cdFx0dmFyIHAgPSBbeCwgeXldO1xuXHRcdHZhciBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG5cdFx0Y29ubmVjdGVkW3BrZXldID0gcDtcblx0XHRkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuXHR9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9mcmVlU3BhY2UgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMuX3dpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5faGVpZ2h0ICYmIHRoaXMuX21hcFt4XVt5XSAhPSAxO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fcG9pbnRLZXkgPSBmdW5jdGlvbihwKSB7XG5cdHJldHVybiBwWzBdICsgXCIuXCIgKyBwWzFdO1xufVxuXG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIG1hcDogaGFzIHJvb21zIGFuZCBjb3JyaWRvcnNcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuRHVuZ2VvbiA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9yb29tcyA9IFtdOyAvKiBsaXN0IG9mIGFsbCByb29tcyAqL1xuXHR0aGlzLl9jb3JyaWRvcnMgPSBbXTtcbn1cblJPVC5NYXAuRHVuZ2Vvbi5leHRlbmQoUk9ULk1hcCk7XG5cbi8qKlxuICogR2V0IGFsbCBnZW5lcmF0ZWQgcm9vbXNcbiAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuUm9vbVtdfVxuICovXG5ST1QuTWFwLkR1bmdlb24ucHJvdG90eXBlLmdldFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9yb29tcztcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGdlbmVyYXRlZCBjb3JyaWRvcnNcbiAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3JbXX1cbiAqL1xuUk9ULk1hcC5EdW5nZW9uLnByb3RvdHlwZS5nZXRDb3JyaWRvcnMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX2NvcnJpZG9ycztcbn1cbi8qKlxuICogQGNsYXNzIFJhbmRvbSBkdW5nZW9uIGdlbmVyYXRvciB1c2luZyBodW1hbi1saWtlIGRpZ2dpbmcgcGF0dGVybnMuXG4gKiBIZWF2aWx5IGJhc2VkIG9uIE1pa2UgQW5kZXJzb24ncyBpZGVhcyBmcm9tIHRoZSBcIlR5cmFudFwiIGFsZ28sIG1lbnRpb25lZCBhdCBcbiAqIGh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPUR1bmdlb24tQnVpbGRpbmdfQWxnb3JpdGhtLlxuICogQGF1Z21lbnRzIFJPVC5NYXAuRHVuZ2VvblxuICovXG5ST1QuTWFwLkRpZ2dlciA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcblx0Uk9ULk1hcC5EdW5nZW9uLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHJvb21XaWR0aDogWzMsIDldLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gd2lkdGggKi9cblx0XHRyb29tSGVpZ2h0OiBbMywgNV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSBoZWlnaHQgKi9cblx0XHRjb3JyaWRvckxlbmd0aDogWzMsIDEwXSwgLyogY29ycmlkb3IgbWluaW11bSBhbmQgbWF4aW11bSBsZW5ndGggKi9cblx0XHRkdWdQZXJjZW50YWdlOiAwLjIsIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBwZXJjZW50YWdlIG9mIGxldmVsIGFyZWEgaGFzIGJlZW4gZHVnIG91dCAqL1xuXHRcdHRpbWVMaW1pdDogMTAwMCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgbXVjaCB0aW1lIGhhcyBwYXNzZWQgKG1zZWMpICovXG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdFxuXHR0aGlzLl9mZWF0dXJlcyA9IHtcblx0XHRcIlJvb21cIjogNCxcblx0XHRcIkNvcnJpZG9yXCI6IDRcblx0fVxuXHR0aGlzLl9mZWF0dXJlQXR0ZW1wdHMgPSAyMDsgLyogaG93IG1hbnkgdGltZXMgZG8gd2UgdHJ5IHRvIGNyZWF0ZSBhIGZlYXR1cmUgb24gYSBzdWl0YWJsZSB3YWxsICovXG5cdHRoaXMuX3dhbGxzID0ge307IC8qIHRoZXNlIGFyZSBhdmFpbGFibGUgZm9yIGRpZ2dpbmcgKi9cblx0XG5cdHRoaXMuX2RpZ0NhbGxiYWNrID0gdGhpcy5fZGlnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5fY2FuQmVEdWdDYWxsYmFjayA9IHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5faXNXYWxsQ2FsbGJhY2sgPSB0aGlzLl9pc1dhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjayA9IHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG59XG5ST1QuTWFwLkRpZ2dlci5leHRlbmQoUk9ULk1hcC5EdW5nZW9uKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtYXBcbiAqIEBzZWUgUk9ULk1hcCNjcmVhdGVcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHRoaXMuX3Jvb21zID0gW107XG5cdHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuXHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHR0aGlzLl93YWxscyA9IHt9O1xuXHR0aGlzLl9kdWcgPSAwO1xuXHR2YXIgYXJlYSA9ICh0aGlzLl93aWR0aC0yKSAqICh0aGlzLl9oZWlnaHQtMik7XG5cblx0dGhpcy5fZmlyc3RSb29tKCk7XG5cdFxuXHR2YXIgdDEgPSBEYXRlLm5vdygpO1xuXG5cdGRvIHtcblx0XHR2YXIgdDIgPSBEYXRlLm5vdygpO1xuXHRcdGlmICh0MiAtIHQxID4gdGhpcy5fb3B0aW9ucy50aW1lTGltaXQpIHsgYnJlYWs7IH1cblxuXHRcdC8qIGZpbmQgYSBnb29kIHdhbGwgKi9cblx0XHR2YXIgd2FsbCA9IHRoaXMuX2ZpbmRXYWxsKCk7XG5cdFx0aWYgKCF3YWxsKSB7IGJyZWFrOyB9IC8qIG5vIG1vcmUgd2FsbHMgKi9cblx0XHRcblx0XHR2YXIgcGFydHMgPSB3YWxsLnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHR2YXIgZGlyID0gdGhpcy5fZ2V0RGlnZ2luZ0RpcmVjdGlvbih4LCB5KTtcblx0XHRpZiAoIWRpcikgeyBjb250aW51ZTsgfSAvKiB0aGlzIHdhbGwgaXMgbm90IHN1aXRhYmxlICovXG5cdFx0XG4vL1x0XHRjb25zb2xlLmxvZyhcIndhbGxcIiwgeCwgeSk7XG5cblx0XHQvKiB0cnkgYWRkaW5nIGEgZmVhdHVyZSAqL1xuXHRcdHZhciBmZWF0dXJlQXR0ZW1wdHMgPSAwO1xuXHRcdGRvIHtcblx0XHRcdGZlYXR1cmVBdHRlbXB0cysrO1xuXHRcdFx0aWYgKHRoaXMuX3RyeUZlYXR1cmUoeCwgeSwgZGlyWzBdLCBkaXJbMV0pKSB7IC8qIGZlYXR1cmUgYWRkZWQgKi9cblx0XHRcdFx0Ly9pZiAodGhpcy5fcm9vbXMubGVuZ3RoICsgdGhpcy5fY29ycmlkb3JzLmxlbmd0aCA9PSAyKSB7IHRoaXMuX3Jvb21zWzBdLmFkZERvb3IoeCwgeSk7IH0gLyogZmlyc3Qgcm9vbSBvZmljaWFsbHkgaGFzIGRvb3JzICovXG5cdFx0XHRcdHRoaXMuX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoeCwgeSk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoeC1kaXJbMF0sIHktZGlyWzFdKTtcblx0XHRcdFx0YnJlYWs7IFxuXHRcdFx0fVxuXHRcdH0gd2hpbGUgKGZlYXR1cmVBdHRlbXB0cyA8IHRoaXMuX2ZlYXR1cmVBdHRlbXB0cyk7XG5cdFx0XG5cdFx0dmFyIHByaW9yaXR5V2FsbHMgPSAwO1xuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX3dhbGxzKSB7IFxuXHRcdFx0aWYgKHRoaXMuX3dhbGxzW2lkXSA+IDEpIHsgcHJpb3JpdHlXYWxscysrOyB9XG5cdFx0fVxuXG5cdH0gd2hpbGUgKHRoaXMuX2R1Zy9hcmVhIDwgdGhpcy5fb3B0aW9ucy5kdWdQZXJjZW50YWdlIHx8IHByaW9yaXR5V2FsbHMpOyAvKiBmaXhtZSBudW1iZXIgb2YgcHJpb3JpdHkgd2FsbHMgKi9cblxuXHR0aGlzLl9hZGREb29ycygpO1xuXG5cdGlmIChjYWxsYmFjaykge1xuXHRcdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fd2FsbHMgPSB7fTtcblx0dGhpcy5fbWFwID0gbnVsbDtcblxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9kaWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSAwIHx8IHZhbHVlID09IDIpIHsgLyogZW1wdHkgKi9cblx0XHR0aGlzLl9tYXBbeF1beV0gPSAwO1xuXHRcdHRoaXMuX2R1ZysrO1xuXHR9IGVsc2UgeyAvKiB3YWxsICovXG5cdFx0dGhpcy5fd2FsbHNbeCtcIixcIit5XSA9IDE7XG5cdH1cbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9pc1dhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2NhbkJlRHVnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4KzEgPj0gdGhpcy5fd2lkdGggfHwgeSsxID49IHRoaXMuX2hlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fcHJpb3JpdHlXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHRoaXMuX3dhbGxzW3grXCIsXCIreV0gPSAyO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2ZpcnN0Um9vbSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY3ggPSBNYXRoLmZsb29yKHRoaXMuX3dpZHRoLzIpO1xuXHR2YXIgY3kgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodC8yKTtcblx0dmFyIHJvb20gPSBST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb21DZW50ZXIoY3gsIGN5LCB0aGlzLl9vcHRpb25zKTtcblx0dGhpcy5fcm9vbXMucHVzaChyb29tKTtcblx0cm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEdldCBhIHN1aXRhYmxlIHdhbGxcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9maW5kV2FsbCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcHJpbzEgPSBbXTtcblx0dmFyIHByaW8yID0gW107XG5cdGZvciAodmFyIGlkIGluIHRoaXMuX3dhbGxzKSB7XG5cdFx0dmFyIHByaW8gPSB0aGlzLl93YWxsc1tpZF07XG5cdFx0aWYgKHByaW8gPT0gMikgeyBcblx0XHRcdHByaW8yLnB1c2goaWQpOyBcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJpbzEucHVzaChpZCk7XG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgYXJyID0gKHByaW8yLmxlbmd0aCA/IHByaW8yIDogcHJpbzEpO1xuXHRpZiAoIWFyci5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH0gLyogbm8gd2FsbHMgOi8gKi9cblx0XG5cdHZhciBpZCA9IGFyci5yYW5kb20oKTtcblx0ZGVsZXRlIHRoaXMuX3dhbGxzW2lkXTtcblxuXHRyZXR1cm4gaWQ7XG59XG5cbi8qKlxuICogVHJpZXMgYWRkaW5nIGEgZmVhdHVyZVxuICogQHJldHVybnMge2Jvb2x9IHdhcyB0aGlzIGEgc3VjY2Vzc2Z1bCB0cnk/XG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fdHJ5RmVhdHVyZSA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSkge1xuXHR2YXIgZmVhdHVyZSA9IFJPVC5STkcuZ2V0V2VpZ2h0ZWRWYWx1ZSh0aGlzLl9mZWF0dXJlcyk7XG5cdGZlYXR1cmUgPSBST1QuTWFwLkZlYXR1cmVbZmVhdHVyZV0uY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCB0aGlzLl9vcHRpb25zKTtcblx0XG5cdGlmICghZmVhdHVyZS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkge1xuLy9cdFx0Y29uc29sZS5sb2coXCJub3QgdmFsaWRcIik7XG4vL1x0XHRmZWF0dXJlLmRlYnVnKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRmZWF0dXJlLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4vL1x0ZmVhdHVyZS5kZWJ1ZygpO1xuXG5cdGlmIChmZWF0dXJlIGluc3RhbmNlb2YgUk9ULk1hcC5GZWF0dXJlLlJvb20pIHsgdGhpcy5fcm9vbXMucHVzaChmZWF0dXJlKTsgfVxuXHRpZiAoZmVhdHVyZSBpbnN0YW5jZW9mIFJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcikgeyBcblx0XHRmZWF0dXJlLmNyZWF0ZVByaW9yaXR5V2FsbHModGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2spO1xuXHRcdHRoaXMuX2NvcnJpZG9ycy5wdXNoKGZlYXR1cmUpOyBcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgZGVsdGFzID0gUk9ULkRJUlNbNF07XG5cblx0Zm9yICh2YXIgaT0wO2k8ZGVsdGFzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGVsdGEgPSBkZWx0YXNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRlbHRhWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkZWx0YVsxXTtcblx0XHRkZWxldGUgdGhpcy5fd2FsbHNbeCtcIixcIit5XTtcblx0XHR2YXIgeCA9IGN4ICsgMipkZWx0YVswXTtcblx0XHR2YXIgeSA9IGN5ICsgMipkZWx0YVsxXTtcblx0XHRkZWxldGUgdGhpcy5fd2FsbHNbeCtcIixcIit5XTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdmVjdG9yIGluIFwiZGlnZ2luZ1wiIGRpcmVjdGlvbiwgb3IgZmFsc2UsIGlmIHRoaXMgZG9lcyBub3QgZXhpc3QgKG9yIGlzIG5vdCB1bmlxdWUpXG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fZ2V0RGlnZ2luZ0RpcmVjdGlvbiA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHRpZiAoY3ggPD0gMCB8fCBjeSA8PSAwIHx8IGN4ID49IHRoaXMuX3dpZHRoIC0gMSB8fCBjeSA+PSB0aGlzLl9oZWlnaHQgLSAxKSB7IHJldHVybiBudWxsOyB9XG5cblx0dmFyIHJlc3VsdCA9IG51bGw7XG5cdHZhciBkZWx0YXMgPSBST1QuRElSU1s0XTtcblx0XG5cdGZvciAodmFyIGk9MDtpPGRlbHRhcy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuXHRcdHZhciB4ID0gY3ggKyBkZWx0YVswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGVsdGFbMV07XG5cdFx0XG5cdFx0aWYgKCF0aGlzLl9tYXBbeF1beV0pIHsgLyogdGhlcmUgYWxyZWFkeSBpcyBhbm90aGVyIGVtcHR5IG5laWdoYm9yISAqL1xuXHRcdFx0aWYgKHJlc3VsdCkgeyByZXR1cm4gbnVsbDsgfVxuXHRcdFx0cmVzdWx0ID0gZGVsdGE7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKiBubyBlbXB0eSBuZWlnaGJvciAqL1xuXHRpZiAoIXJlc3VsdCkgeyByZXR1cm4gbnVsbDsgfVxuXHRcblx0cmV0dXJuIFstcmVzdWx0WzBdLCAtcmVzdWx0WzFdXTtcbn1cblxuLyoqXG4gKiBGaW5kIGVtcHR5IHNwYWNlcyBzdXJyb3VuZGluZyByb29tcywgYW5kIGFwcGx5IGRvb3JzLlxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2FkZERvb3JzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBkYXRhID0gdGhpcy5fbWFwO1xuXHR2YXIgaXNXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdFx0cmV0dXJuIChkYXRhW3hdW3ldID09IDEpO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcm9vbXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dmFyIHJvb20gPSB0aGlzLl9yb29tc1tpXTtcblx0XHRyb29tLmNsZWFyRG9vcnMoKTtcblx0XHRyb29tLmFkZERvb3JzKGlzV2FsbENhbGxiYWNrKTtcblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBnZW5lcmF0b3Igd2hpY2ggdHJpZXMgdG8gZmlsbCB0aGUgc3BhY2UgZXZlbmx5LiBHZW5lcmF0ZXMgaW5kZXBlbmRlbnQgcm9vbXMgYW5kIHRyaWVzIHRvIGNvbm5lY3QgdGhlbS5cbiAqIEBhdWdtZW50cyBST1QuTWFwLkR1bmdlb25cbiAqL1xuUk9ULk1hcC5Vbmlmb3JtID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLkR1bmdlb24uY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHJvb21XaWR0aDogWzMsIDldLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gd2lkdGggKi9cblx0XHRyb29tSGVpZ2h0OiBbMywgNV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSBoZWlnaHQgKi9cblx0XHRyb29tRHVnUGVyY2VudGFnZTogMC4xLCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgcGVyY2VudGFnZSBvZiBsZXZlbCBhcmVhIGhhcyBiZWVuIGR1ZyBvdXQgYnkgcm9vbXMgKi9cblx0XHR0aW1lTGltaXQ6IDEwMDAgLyogd2Ugc3RvcCBhZnRlciB0aGlzIG11Y2ggdGltZSBoYXMgcGFzc2VkIChtc2VjKSAqL1xuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXG5cdHRoaXMuX3Jvb21BdHRlbXB0cyA9IDIwOyAvKiBuZXcgcm9vbSBpcyBjcmVhdGVkIE4tdGltZXMgdW50aWwgaXMgY29uc2lkZXJlZCBhcyBpbXBvc3NpYmxlIHRvIGdlbmVyYXRlICovXG5cdHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMgPSAyMDsgLyogY29ycmlkb3JzIGFyZSB0cmllZCBOLXRpbWVzIHVudGlsIHRoZSBsZXZlbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gY29ubmVjdCAqL1xuXG5cdHRoaXMuX2Nvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIGFscmVhZHkgY29ubmVjdGVkIHJvb21zICovXG5cdHRoaXMuX3VuY29ubmVjdGVkID0gW107IC8qIGxpc3Qgb2YgcmVtYWluaW5nIHVuY29ubmVjdGVkIHJvb21zICovXG5cdFxuXHR0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbn1cblJPVC5NYXAuVW5pZm9ybS5leHRlbmQoUk9ULk1hcC5EdW5nZW9uKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtYXAuIElmIHRoZSB0aW1lIGxpbWl0IGhhcyBiZWVuIGhpdCwgcmV0dXJucyBudWxsLlxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB0MSA9IERhdGUubm93KCk7XG5cdHdoaWxlICgxKSB7XG5cdFx0dmFyIHQyID0gRGF0ZS5ub3coKTtcblx0XHRpZiAodDIgLSB0MSA+IHRoaXMuX29wdGlvbnMudGltZUxpbWl0KSB7IHJldHVybiBudWxsOyB9IC8qIHRpbWUgbGltaXQhICovXG5cdFxuXHRcdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdFx0dGhpcy5fZHVnID0gMDtcblx0XHR0aGlzLl9yb29tcyA9IFtdO1xuXHRcdHRoaXMuX3VuY29ubmVjdGVkID0gW107XG5cdFx0dGhpcy5fZ2VuZXJhdGVSb29tcygpO1xuXHRcdGlmICh0aGlzLl9yb29tcy5sZW5ndGggPCAyKSB7IGNvbnRpbnVlOyB9XG5cdFx0aWYgKHRoaXMuX2dlbmVyYXRlQ29ycmlkb3JzKCkpIHsgYnJlYWs7IH1cblx0fVxuXHRcblx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzdWl0YWJsZSBhbW91bnQgb2Ygcm9vbXNcbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZ2VuZXJhdGVSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdyA9IHRoaXMuX3dpZHRoLTI7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0LTI7XG5cblx0ZG8ge1xuXHRcdHZhciByb29tID0gdGhpcy5fZ2VuZXJhdGVSb29tKCk7XG5cdFx0aWYgKHRoaXMuX2R1Zy8odypoKSA+IHRoaXMuX29wdGlvbnMucm9vbUR1Z1BlcmNlbnRhZ2UpIHsgYnJlYWs7IH0gLyogYWNoaWV2ZWQgcmVxdWVzdGVkIGFtb3VudCBvZiBmcmVlIHNwYWNlICovXG5cdH0gd2hpbGUgKHJvb20pO1xuXG5cdC8qIGVpdGhlciBlbm91Z2ggcm9vbXMsIG9yIG5vdCBhYmxlIHRvIGdlbmVyYXRlIG1vcmUgb2YgdGhlbSA6KSAqL1xufVxuXG4vKipcbiAqIFRyeSB0byBnZW5lcmF0ZSBvbmUgcm9vbVxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZVJvb20gPSBmdW5jdGlvbigpIHtcblx0dmFyIGNvdW50ID0gMDtcblx0d2hpbGUgKGNvdW50IDwgdGhpcy5fcm9vbUF0dGVtcHRzKSB7XG5cdFx0Y291bnQrKztcblx0XHRcblx0XHR2YXIgcm9vbSA9IFJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbSh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcblx0XHRpZiAoIXJvb20uaXNWYWxpZCh0aGlzLl9pc1dhbGxDYWxsYmFjaywgdGhpcy5fY2FuQmVEdWdDYWxsYmFjaykpIHsgY29udGludWU7IH1cblx0XHRcblx0XHRyb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG5cdFx0dGhpcy5fcm9vbXMucHVzaChyb29tKTtcblx0XHRyZXR1cm4gcm9vbTtcblx0fSBcblxuXHQvKiBubyByb29tIHdhcyBnZW5lcmF0ZWQgaW4gYSBnaXZlbiBudW1iZXIgb2YgYXR0ZW1wdHMgKi9cblx0cmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGNvbm5lY3RvcnMgYmV3ZWVuIHJvb21zXG4gKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2VzcyBXYXMgdGhpcyBhdHRlbXB0IHN1Y2Nlc3NmdWxsP1xuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZUNvcnJpZG9ycyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY250ID0gMDtcblx0d2hpbGUgKGNudCA8IHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMpIHtcblx0XHRjbnQrKztcblx0XHR0aGlzLl9jb3JyaWRvcnMgPSBbXTtcblxuXHRcdC8qIGRpZyByb29tcyBpbnRvIGEgY2xlYXIgbWFwICovXG5cdFx0dGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl9yb29tcy5sZW5ndGg7aSsrKSB7IFxuXHRcdFx0dmFyIHJvb20gPSB0aGlzLl9yb29tc1tpXTtcblx0XHRcdHJvb20uY2xlYXJEb29ycygpO1xuXHRcdFx0cm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spOyBcblx0XHR9XG5cblx0XHR0aGlzLl91bmNvbm5lY3RlZCA9IHRoaXMuX3Jvb21zLnNsaWNlKCkucmFuZG9taXplKCk7XG5cdFx0dGhpcy5fY29ubmVjdGVkID0gW107XG5cdFx0aWYgKHRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkgeyB0aGlzLl9jb25uZWN0ZWQucHVzaCh0aGlzLl91bmNvbm5lY3RlZC5wb3AoKSk7IH0gLyogZmlyc3Qgb25lIGlzIGFsd2F5cyBjb25uZWN0ZWQgKi9cblx0XHRcblx0XHR3aGlsZSAoMSkge1xuXHRcdFx0LyogMS4gcGljayByYW5kb20gY29ubmVjdGVkIHJvb20gKi9cblx0XHRcdHZhciBjb25uZWN0ZWQgPSB0aGlzLl9jb25uZWN0ZWQucmFuZG9tKCk7XG5cdFx0XHRcblx0XHRcdC8qIDIuIGZpbmQgY2xvc2VzdCB1bmNvbm5lY3RlZCAqL1xuXHRcdFx0dmFyIHJvb20xID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fdW5jb25uZWN0ZWQsIGNvbm5lY3RlZCk7XG5cdFx0XHRcblx0XHRcdC8qIDMuIGNvbm5lY3QgaXQgdG8gY2xvc2VzdCBjb25uZWN0ZWQgKi9cblx0XHRcdHZhciByb29tMiA9IHRoaXMuX2Nsb3Nlc3RSb29tKHRoaXMuX2Nvbm5lY3RlZCwgcm9vbTEpO1xuXHRcdFx0XG5cdFx0XHR2YXIgb2sgPSB0aGlzLl9jb25uZWN0Um9vbXMocm9vbTEsIHJvb20yKTtcblx0XHRcdGlmICghb2spIHsgYnJlYWs7IH0gLyogc3RvcCBjb25uZWN0aW5nLCByZS1zaHVmZmxlICovXG5cdFx0XHRcblx0XHRcdGlmICghdGhpcy5fdW5jb25uZWN0ZWQubGVuZ3RoKSB7IHJldHVybiB0cnVlOyB9IC8qIGRvbmU7IG5vIHJvb21zIHJlbWFpbiAqL1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRm9yIGEgZ2l2ZW4gcm9vbSwgZmluZCB0aGUgY2xvc2VzdCBvbmUgZnJvbSB0aGUgbGlzdFxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9jbG9zZXN0Um9vbSA9IGZ1bmN0aW9uKHJvb21zLCByb29tKSB7XG5cdHZhciBkaXN0ID0gSW5maW5pdHk7XG5cdHZhciBjZW50ZXIgPSByb29tLmdldENlbnRlcigpO1xuXHR2YXIgcmVzdWx0ID0gbnVsbDtcblx0XG5cdGZvciAodmFyIGk9MDtpPHJvb21zLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgciA9IHJvb21zW2ldO1xuXHRcdHZhciBjID0gci5nZXRDZW50ZXIoKTtcblx0XHR2YXIgZHggPSBjWzBdLWNlbnRlclswXTtcblx0XHR2YXIgZHkgPSBjWzFdLWNlbnRlclsxXTtcblx0XHR2YXIgZCA9IGR4KmR4K2R5KmR5O1xuXHRcdFxuXHRcdGlmIChkIDwgZGlzdCkge1xuXHRcdFx0ZGlzdCA9IGQ7XG5cdFx0XHRyZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fY29ubmVjdFJvb21zID0gZnVuY3Rpb24ocm9vbTEsIHJvb20yKSB7XG5cdC8qXG5cdFx0cm9vbTEuZGVidWcoKTtcblx0XHRyb29tMi5kZWJ1ZygpO1xuXHQqL1xuXG5cdHZhciBjZW50ZXIxID0gcm9vbTEuZ2V0Q2VudGVyKCk7XG5cdHZhciBjZW50ZXIyID0gcm9vbTIuZ2V0Q2VudGVyKCk7XG5cblx0dmFyIGRpZmZYID0gY2VudGVyMlswXSAtIGNlbnRlcjFbMF07XG5cdHZhciBkaWZmWSA9IGNlbnRlcjJbMV0gLSBjZW50ZXIxWzFdO1xuXG5cdGlmIChNYXRoLmFicyhkaWZmWCkgPCBNYXRoLmFicyhkaWZmWSkpIHsgLyogZmlyc3QgdHJ5IGNvbm5lY3Rpbmcgbm9ydGgtc291dGggd2FsbHMgKi9cblx0XHR2YXIgZGlySW5kZXgxID0gKGRpZmZZID4gMCA/IDIgOiAwKTtcblx0XHR2YXIgZGlySW5kZXgyID0gKGRpckluZGV4MSArIDIpICUgNDtcblx0XHR2YXIgbWluID0gcm9vbTIuZ2V0TGVmdCgpO1xuXHRcdHZhciBtYXggPSByb29tMi5nZXRSaWdodCgpO1xuXHRcdHZhciBpbmRleCA9IDA7XG5cdH0gZWxzZSB7IC8qIGZpcnN0IHRyeSBjb25uZWN0aW5nIGVhc3Qtd2VzdCB3YWxscyAqL1xuXHRcdHZhciBkaXJJbmRleDEgPSAoZGlmZlggPiAwID8gMSA6IDMpO1xuXHRcdHZhciBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuXHRcdHZhciBtaW4gPSByb29tMi5nZXRUb3AoKTtcblx0XHR2YXIgbWF4ID0gcm9vbTIuZ2V0Qm90dG9tKCk7XG5cdFx0dmFyIGluZGV4ID0gMTtcblx0fVxuXG5cdHZhciBzdGFydCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20xLCBkaXJJbmRleDEpOyAvKiBjb3JyaWRvciB3aWxsIHN0YXJ0IGhlcmUgKi9cblx0aWYgKCFzdGFydCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoc3RhcnRbaW5kZXhdID49IG1pbiAmJiBzdGFydFtpbmRleF0gPD0gbWF4KSB7IC8qIHBvc3NpYmxlIHRvIGNvbm5lY3Qgd2l0aCBzdHJhaWdodCBsaW5lIChJLWxpa2UpICovXG5cdFx0dmFyIGVuZCA9IHN0YXJ0LnNsaWNlKCk7XG5cdFx0dmFyIHZhbHVlID0gbnVsbDtcblx0XHRzd2l0Y2ggKGRpckluZGV4Mikge1xuXHRcdFx0Y2FzZSAwOiB2YWx1ZSA9IHJvb20yLmdldFRvcCgpLTE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAxOiB2YWx1ZSA9IHJvb20yLmdldFJpZ2h0KCkrMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IHZhbHVlID0gcm9vbTIuZ2V0Qm90dG9tKCkrMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDM6IHZhbHVlID0gcm9vbTIuZ2V0TGVmdCgpLTE7IGJyZWFrO1xuXHRcdH1cblx0XHRlbmRbKGluZGV4KzEpJTJdID0gdmFsdWU7XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIGVuZF0pO1xuXHRcdFxuXHR9IGVsc2UgaWYgKHN0YXJ0W2luZGV4XSA8IG1pbi0xIHx8IHN0YXJ0W2luZGV4XSA+IG1heCsxKSB7IC8qIG5lZWQgdG8gc3dpdGNoIHRhcmdldCB3YWxsIChMLWxpa2UpICovXG5cblx0XHR2YXIgZGlmZiA9IHN0YXJ0W2luZGV4XSAtIGNlbnRlcjJbaW5kZXhdO1xuXHRcdHN3aXRjaCAoZGlySW5kZXgyKSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRjYXNlIDE6XHR2YXIgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAzIDogMSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0Y2FzZSAzOlx0dmFyIHJvdGF0aW9uID0gKGRpZmYgPCAwID8gMSA6IDMpOyBicmVhaztcblx0XHR9XG5cdFx0ZGlySW5kZXgyID0gKGRpckluZGV4MiArIHJvdGF0aW9uKSAlIDQ7XG5cdFx0XG5cdFx0dmFyIGVuZCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20yLCBkaXJJbmRleDIpO1xuXHRcdGlmICghZW5kKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdFx0dmFyIG1pZCA9IFswLCAwXTtcblx0XHRtaWRbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuXHRcdHZhciBpbmRleDIgPSAoaW5kZXgrMSklMjtcblx0XHRtaWRbaW5kZXgyXSA9IGVuZFtpbmRleDJdO1xuXHRcdHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQsIGVuZF0pO1xuXHRcdFxuXHR9IGVsc2UgeyAvKiB1c2UgY3VycmVudCB3YWxsIHBhaXIsIGJ1dCBhZGp1c3QgdGhlIGxpbmUgaW4gdGhlIG1pZGRsZSAoUy1saWtlKSAqL1xuXHRcblx0XHR2YXIgaW5kZXgyID0gKGluZGV4KzEpJTI7XG5cdFx0dmFyIGVuZCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20yLCBkaXJJbmRleDIpO1xuXHRcdGlmICghZW5kKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdHZhciBtaWQgPSBNYXRoLnJvdW5kKChlbmRbaW5kZXgyXSArIHN0YXJ0W2luZGV4Ml0pLzIpO1xuXG5cdFx0dmFyIG1pZDEgPSBbMCwgMF07XG5cdFx0dmFyIG1pZDIgPSBbMCwgMF07XG5cdFx0bWlkMVtpbmRleF0gPSBzdGFydFtpbmRleF07XG5cdFx0bWlkMVtpbmRleDJdID0gbWlkO1xuXHRcdG1pZDJbaW5kZXhdID0gZW5kW2luZGV4XTtcblx0XHRtaWQyW2luZGV4Ml0gPSBtaWQ7XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIG1pZDEsIG1pZDIsIGVuZF0pO1xuXHR9XG5cblx0cm9vbTEuYWRkRG9vcihzdGFydFswXSwgc3RhcnRbMV0pO1xuXHRyb29tMi5hZGREb29yKGVuZFswXSwgZW5kWzFdKTtcblx0XG5cdHZhciBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTEpO1xuXHRpZiAoaW5kZXggIT0gLTEpIHtcblx0XHR0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHJvb20xKTtcblx0fVxuXG5cdHZhciBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTIpO1xuXHRpZiAoaW5kZXggIT0gLTEpIHtcblx0XHR0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHJvb20yKTtcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX3BsYWNlSW5XYWxsID0gZnVuY3Rpb24ocm9vbSwgZGlySW5kZXgpIHtcblx0dmFyIHN0YXJ0ID0gWzAsIDBdO1xuXHR2YXIgZGlyID0gWzAsIDBdO1xuXHR2YXIgbGVuZ3RoID0gMDtcblx0XG5cdHN3aXRjaCAoZGlySW5kZXgpIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRkaXIgPSBbMSwgMF07XG5cdFx0XHRzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRUb3AoKS0xXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKS1yb29tLmdldExlZnQoKSsxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdGRpciA9IFswLCAxXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0UmlnaHQoKSsxLCByb29tLmdldFRvcCgpXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0Qm90dG9tKCktcm9vbS5nZXRUb3AoKSsxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGRpciA9IFsxLCAwXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLCByb29tLmdldEJvdHRvbSgpKzFdO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRSaWdodCgpLXJvb20uZ2V0TGVmdCgpKzE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0ZGlyID0gWzAsIDFdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCktMSwgcm9vbS5nZXRUb3AoKV07XG5cdFx0XHRsZW5ndGggPSByb29tLmdldEJvdHRvbSgpLXJvb20uZ2V0VG9wKCkrMTtcblx0XHRicmVhaztcblx0fVxuXHRcblx0dmFyIGF2YWlsID0gW107XG5cdHZhciBsYXN0QmFkSW5kZXggPSAtMjtcblxuXHRmb3IgKHZhciBpPTA7aTxsZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHggPSBzdGFydFswXSArIGkqZGlyWzBdO1xuXHRcdHZhciB5ID0gc3RhcnRbMV0gKyBpKmRpclsxXTtcblx0XHRhdmFpbC5wdXNoKG51bGwpO1xuXHRcdFxuXHRcdHZhciBpc1dhbGwgPSAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuXHRcdGlmIChpc1dhbGwpIHtcblx0XHRcdGlmIChsYXN0QmFkSW5kZXggIT0gaS0xKSB7IGF2YWlsW2ldID0gW3gsIHldOyB9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxhc3RCYWRJbmRleCA9IGk7XG5cdFx0XHRpZiAoaSkgeyBhdmFpbFtpLTFdID0gbnVsbDsgfVxuXHRcdH1cblx0fVxuXHRcblx0Zm9yICh2YXIgaT1hdmFpbC5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG5cdFx0aWYgKCFhdmFpbFtpXSkgeyBhdmFpbC5zcGxpY2UoaSwgMSk7IH1cblx0fVxuXHRyZXR1cm4gKGF2YWlsLmxlbmd0aCA/IGF2YWlsLnJhbmRvbSgpIDogbnVsbCk7XG59XG5cbi8qKlxuICogRGlnIGEgcG9seWxpbmUuXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2RpZ0xpbmUgPSBmdW5jdGlvbihwb2ludHMpIHtcblx0Zm9yICh2YXIgaT0xO2k8cG9pbnRzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgc3RhcnQgPSBwb2ludHNbaS0xXTtcblx0XHR2YXIgZW5kID0gcG9pbnRzW2ldO1xuXHRcdHZhciBjb3JyaWRvciA9IG5ldyBST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdLCBlbmRbMF0sIGVuZFsxXSk7XG5cdFx0Y29ycmlkb3IuY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcblx0XHR0aGlzLl9jb3JyaWRvcnMucHVzaChjb3JyaWRvcik7XG5cdH1cbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZGlnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5LCB2YWx1ZSkge1xuXHR0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTtcblx0aWYgKHZhbHVlID09IDApIHsgdGhpcy5fZHVnKys7IH1cbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5faXNXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fY2FuQmVEdWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHgrMSA+PSB0aGlzLl93aWR0aCB8fCB5KzEgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIGh5YWt1Z2VpXG4gKiBAY2xhc3MgRHVuZ2VvbiBnZW5lcmF0b3Igd2hpY2ggdXNlcyB0aGUgXCJvcmdpbmFsXCIgUm9ndWUgZHVuZ2VvbiBnZW5lcmF0aW9uIGFsZ29yaXRobS4gU2VlIGh0dHA6Ly9rdW9pLmNvbS9+a2FtaWthemUvR2FtZURlc2lnbi9hcnQwN19yb2d1ZV9kdW5nZW9uLnBocFxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmNlbGxXaWR0aD0zXSBOdW1iZXIgb2YgY2VsbHMgdG8gY3JlYXRlIG9uIHRoZSBob3Jpem9udGFsIChudW1iZXIgb2Ygcm9vbXMgaG9yaXpvbnRhbGx5KVxuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuY2VsbEhlaWdodD0zXSBOdW1iZXIgb2YgY2VsbHMgdG8gY3JlYXRlIG9uIHRoZSB2ZXJ0aWNhbCAobnVtYmVyIG9mIHJvb21zIHZlcnRpY2FsbHkpIFxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnJvb21XaWR0aF0gUm9vbSBtaW4gYW5kIG1heCB3aWR0aCAtIG5vcm1hbGx5IHNldCBhdXRvLW1hZ2ljYWxseSB2aWEgdGhlIGNvbnN0cnVjdG9yLlxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnJvb21IZWlnaHRdIFJvb20gbWluIGFuZCBtYXggaGVpZ2h0IC0gbm9ybWFsbHkgc2V0IGF1dG8tbWFnaWNhbGx5IHZpYSB0aGUgY29uc3RydWN0b3IuIFxuICovXG5ST1QuTWFwLlJvZ3VlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdGNlbGxXaWR0aDogMywgIC8vIE5PVEUgdG8gc2VsZiwgdGhlc2UgY291bGQgcHJvYmFibHkgd29yayB0aGUgc2FtZSBhcyB0aGUgcm9vbVdpZHRoL3Jvb20gSGVpZ2h0IHZhbHVlc1xuXHRcdGNlbGxIZWlnaHQ6IDMgIC8vICAgICBpZS4gYXMgYW4gYXJyYXkgd2l0aCBtaW4tbWF4IHZhbHVlcyBmb3IgZWFjaCBkaXJlY3Rpb24uLi4uXG5cdH1cblx0XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRcblx0Lypcblx0U2V0IHRoZSByb29tIHNpemVzIGFjY29yZGluZyB0byB0aGUgb3Zlci1hbGwgd2lkdGggb2YgdGhlIG1hcCwgXG5cdGFuZCB0aGUgY2VsbCBzaXplcy4gXG5cdCovXG5cdFxuXHRpZiAoIXRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tV2lkdGhcIikpIHtcblx0XHR0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdID0gdGhpcy5fY2FsY3VsYXRlUm9vbVNpemUodGhpcy5fd2lkdGgsIHRoaXMuX29wdGlvbnNbXCJjZWxsV2lkdGhcIl0pO1xuXHR9XG5cdGlmICghdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcInJvb21IZWlnaHRcIikpIHtcblx0XHR0aGlzLl9vcHRpb25zW1wicm9vbUhlaWdodFwiXSA9IHRoaXMuX2NhbGN1bGF0ZVJvb21TaXplKHRoaXMuX2hlaWdodCwgdGhpcy5fb3B0aW9uc1tcImNlbGxIZWlnaHRcIl0pO1xuXHR9XG5cdFxufVxuXG5ST1QuTWFwLlJvZ3VlLmV4dGVuZChST1QuTWFwKTsgXG5cbi8qKlxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR0aGlzLm1hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdHRoaXMucm9vbXMgPSBbXTtcblx0dGhpcy5jb25uZWN0ZWRDZWxscyA9IFtdO1xuXHRcblx0dGhpcy5faW5pdFJvb21zKCk7XG5cdHRoaXMuX2Nvbm5lY3RSb29tcygpO1xuXHR0aGlzLl9jb25uZWN0VW5jb25uZWN0ZWRSb29tcygpO1xuXHR0aGlzLl9jcmVhdGVSYW5kb21Sb29tQ29ubmVjdGlvbnMoKTtcblx0dGhpcy5fY3JlYXRlUm9vbXMoKTtcblx0dGhpcy5fY3JlYXRlQ29ycmlkb3JzKCk7XG5cdFxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcblx0XHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5tYXBbaV1bal0pOyAgIFxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jYWxjdWxhdGVSb29tU2l6ZSA9IGZ1bmN0aW9uKHNpemUsIGNlbGwpIHtcblx0dmFyIG1heCA9IE1hdGguZmxvb3IoKHNpemUvY2VsbCkgKiAwLjgpO1xuXHR2YXIgbWluID0gTWF0aC5mbG9vcigoc2l6ZS9jZWxsKSAqIDAuMjUpO1xuXHRpZiAobWluIDwgMikgbWluID0gMjtcblx0aWYgKG1heCA8IDIpIG1heCA9IDI7XG5cdHJldHVybiBbbWluLCBtYXhdO1xufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5faW5pdFJvb21zID0gZnVuY3Rpb24gKCkgeyBcblx0Ly8gY3JlYXRlIHJvb21zIGFycmF5LiBUaGlzIGlzIHRoZSBcImdyaWRcIiBsaXN0IGZyb20gdGhlIGFsZ28uICBcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDsgaSsrKSB7ICBcblx0XHR0aGlzLnJvb21zLnB1c2goW10pO1xuXHRcdGZvcih2YXIgaiA9IDA7IGogPCB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7IGorKykge1xuXHRcdFx0dGhpcy5yb29tc1tpXS5wdXNoKHtcInhcIjowLCBcInlcIjowLCBcIndpZHRoXCI6MCwgXCJoZWlnaHRcIjowLCBcImNvbm5lY3Rpb25zXCI6W10sIFwiY2VsbHhcIjppLCBcImNlbGx5XCI6an0pO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY29ubmVjdFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vcGljayByYW5kb20gc3RhcnRpbmcgZ3JpZFxuXHR2YXIgY2d4ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoLTEpO1xuXHR2YXIgY2d5ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodC0xKTtcblx0XG5cdHZhciBpZHg7XG5cdHZhciBuY2d4O1xuXHR2YXIgbmNneTtcblx0XG5cdHZhciBmb3VuZCA9IGZhbHNlO1xuXHR2YXIgcm9vbTtcblx0dmFyIG90aGVyUm9vbTtcblx0XG5cdC8vIGZpbmQgIHVuY29ubmVjdGVkIG5laWdoYm91ciBjZWxsc1xuXHRkbyB7XG5cdFxuXHRcdC8vdmFyIGRpclRvQ2hlY2sgPSBbMCwxLDIsMyw0LDUsNiw3XTtcblx0XHR2YXIgZGlyVG9DaGVjayA9IFswLDIsNCw2XTtcblx0XHRkaXJUb0NoZWNrID0gZGlyVG9DaGVjay5yYW5kb21pemUoKTtcblx0XHRcblx0XHRkbyB7XG5cdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0aWR4ID0gZGlyVG9DaGVjay5wb3AoKTtcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRuY2d4ID0gY2d4ICsgUk9ULkRJUlNbOF1baWR4XVswXTtcblx0XHRcdG5jZ3kgPSBjZ3kgKyBST1QuRElSU1s4XVtpZHhdWzFdO1xuXHRcdFx0XG5cdFx0XHRpZihuY2d4IDwgMCB8fCBuY2d4ID49IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoKSBjb250aW51ZTtcblx0XHRcdGlmKG5jZ3kgPCAwIHx8IG5jZ3kgPj0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0KSBjb250aW51ZTtcblx0XHRcdFxuXHRcdFx0cm9vbSA9IHRoaXMucm9vbXNbY2d4XVtjZ3ldO1xuXHRcdFx0XG5cdFx0XHRpZihyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID4gMClcblx0XHRcdHtcblx0XHRcdFx0Ly8gYXMgbG9uZyBhcyB0aGlzIHJvb20gZG9lc24ndCBhbHJlYWR5IGNvb25lY3QgdG8gbWUsIHdlIGFyZSBvayB3aXRoIGl0LiBcblx0XHRcdFx0aWYocm9vbVtcImNvbm5lY3Rpb25zXCJdWzBdWzBdID09IG5jZ3ggJiZcblx0XHRcdFx0cm9vbVtcImNvbm5lY3Rpb25zXCJdWzBdWzFdID09IG5jZ3kpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW25jZ3hdW25jZ3ldO1xuXHRcdFx0XG5cdFx0XHRpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHsgXG5cdFx0XHRcdG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLnB1c2goW2NneCxjZ3ldKTtcblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuY29ubmVjdGVkQ2VsbHMucHVzaChbbmNneCwgbmNneV0pO1xuXHRcdFx0XHRjZ3ggPSBuY2d4O1xuXHRcdFx0XHRjZ3kgPSBuY2d5O1xuXHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0fSB3aGlsZSAoZGlyVG9DaGVjay5sZW5ndGggPiAwICYmIGZvdW5kID09IGZhbHNlKVxuXHRcdFxuXHR9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDApXG5cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vV2hpbGUgdGhlcmUgYXJlIHVuY29ubmVjdGVkIHJvb21zLCB0cnkgdG8gY29ubmVjdCB0aGVtIHRvIGEgcmFuZG9tIGNvbm5lY3RlZCBuZWlnaGJvciBcblx0Ly8oaWYgYSByb29tIGhhcyBubyBjb25uZWN0ZWQgbmVpZ2hib3JzIHlldCwganVzdCBrZWVwIGN5Y2xpbmcsIHlvdSdsbCBmaWxsIG91dCB0byBpdCBldmVudHVhbGx5KS5cblx0dmFyIGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG5cdHZhciBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcblx0XG5cdHZhciByYW5kb21Db25uZWN0ZWRDZWxsO1xuXHR0aGlzLmNvbm5lY3RlZENlbGxzID0gdGhpcy5jb25uZWN0ZWRDZWxscy5yYW5kb21pemUoKTtcblx0dmFyIHJvb207XG5cdHZhciBvdGhlclJvb207XG5cdHZhciB2YWxpZFJvb207XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSAge1xuXHRcdFx0XHRcblx0XHRcdHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuXHRcdFx0XG5cdFx0XHRpZiAocm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdHZhciBkaXJlY3Rpb25zID0gWzAsMiw0LDZdO1xuXHRcdFx0XHRkaXJlY3Rpb25zID0gZGlyZWN0aW9ucy5yYW5kb21pemUoKTtcblx0XHRcdFx0XG5cdFx0XHRcdHZhciB2YWxpZFJvb20gPSBmYWxzZTtcblx0XHRcdFx0XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR2YXIgZGlySWR4ID0gZGlyZWN0aW9ucy5wb3AoKTtcblx0XHRcdFx0XHR2YXIgbmV3SSA9IGkgKyBST1QuRElSU1s4XVtkaXJJZHhdWzBdO1xuXHRcdFx0XHRcdHZhciBuZXdKID0gaiArIFJPVC5ESVJTWzhdW2RpcklkeF1bMV07XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKG5ld0kgPCAwIHx8IG5ld0kgPj0gY3cgfHwgXG5cdFx0XHRcdFx0bmV3SiA8IDAgfHwgbmV3SiA+PSBjaCkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmV3SV1bbmV3Sl07XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0dmFsaWRSb29tID0gdHJ1ZTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHRpZihvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXVtrXVswXSA9PSBpICYmIFxuXHRcdFx0XHRcdFx0b3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMV0gPT0gaikge1xuXHRcdFx0XHRcdFx0XHR2YWxpZFJvb20gPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmICh2YWxpZFJvb20pIGJyZWFrO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHR9IHdoaWxlIChkaXJlY3Rpb25zLmxlbmd0aClcblx0XHRcdFx0XG5cdFx0XHRcdGlmKHZhbGlkUm9vbSkgeyBcblx0XHRcdFx0XHRyb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaCggW290aGVyUm9vbVtcImNlbGx4XCJdLCBvdGhlclJvb21bXCJjZWxseVwiXV0gKTsgIFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0gVW5hYmxlIHRvIGNvbm5lY3Qgcm9vbS5cIik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyA9IGZ1bmN0aW9uKGNvbm5lY3Rpb25zKSB7XG5cdC8vIEVtcHR5IGZvciBub3cuIFxufVxuXG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jcmVhdGVSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBDcmVhdGUgUm9vbXMgXG5cdFxuXHR2YXIgdyA9IHRoaXMuX3dpZHRoO1xuXHR2YXIgaCA9IHRoaXMuX2hlaWdodDtcblx0XG5cdHZhciBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuXHR2YXIgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG5cdFxuXHR2YXIgY3dwID0gTWF0aC5mbG9vcih0aGlzLl93aWR0aCAvIGN3KTtcblx0dmFyIGNocCA9IE1hdGguZmxvb3IodGhpcy5faGVpZ2h0IC8gY2gpO1xuXHRcblx0dmFyIHJvb213O1xuXHR2YXIgcm9vbWg7XG5cdHZhciByb29tV2lkdGggPSB0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdO1xuXHR2YXIgcm9vbUhlaWdodCA9IHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdO1xuXHR2YXIgc3g7XG5cdHZhciBzeTtcblx0dmFyIHR4O1xuXHR2YXIgdHk7XG5cdHZhciBvdGhlclJvb207XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGN3OyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNoOyBqKyspIHtcblx0XHRcdHN4ID0gY3dwICogaTtcblx0XHRcdHN5ID0gY2hwICogajtcblx0XHRcdFxuXHRcdFx0aWYgKHN4ID09IDApIHN4ID0gMTtcblx0XHRcdGlmIChzeSA9PSAwKSBzeSA9IDE7XG5cdFx0XHRcblx0XHRcdHJvb213ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KHJvb21XaWR0aFswXSwgcm9vbVdpZHRoWzFdKTtcblx0XHRcdHJvb21oID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KHJvb21IZWlnaHRbMF0sIHJvb21IZWlnaHRbMV0pO1xuXHRcdFx0XG5cdFx0XHRpZiAoaiA+IDApIHtcblx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tpXVtqLTFdO1xuXHRcdFx0XHR3aGlsZSAoc3kgLSAob3RoZXJSb29tW1wieVwiXSArIG90aGVyUm9vbVtcImhlaWdodFwiXSApIDwgMykge1xuXHRcdFx0XHRcdHN5Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbaS0xXVtqXTtcblx0XHRcdFx0d2hpbGUoc3ggLSAob3RoZXJSb29tW1wieFwiXSArIG90aGVyUm9vbVtcIndpZHRoXCJdKSA8IDMpIHtcblx0XHRcdFx0XHRzeCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBzeE9mZnNldCA9IE1hdGgucm91bmQoUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGN3cC1yb29tdykvMik7XG5cdFx0XHR2YXIgc3lPZmZzZXQgPSBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBjaHAtcm9vbWgpLzIpO1xuXHRcdFx0XG5cdFx0XHR3aGlsZSAoc3ggKyBzeE9mZnNldCArIHJvb213ID49IHcpIHtcblx0XHRcdFx0aWYoc3hPZmZzZXQpIHtcblx0XHRcdFx0XHRzeE9mZnNldC0tO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJvb213LS07IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHdoaWxlIChzeSArIHN5T2Zmc2V0ICsgcm9vbWggPj0gaCkgeyBcblx0XHRcdFx0aWYoc3lPZmZzZXQpIHtcblx0XHRcdFx0XHRzeU9mZnNldC0tO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJvb21oLS07IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHN4ID0gc3ggKyBzeE9mZnNldDtcblx0XHRcdHN5ID0gc3kgKyBzeU9mZnNldDtcblx0XHRcdFxuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcInhcIl0gPSBzeDtcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJ5XCJdID0gc3k7XG5cdFx0XHR0aGlzLnJvb21zW2ldW2pdW1wid2lkdGhcIl0gPSByb29tdztcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJoZWlnaHRcIl0gPSByb29taDsgIFxuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciBpaSA9IHN4OyBpaSA8IHN4ICsgcm9vbXc7IGlpKyspIHtcblx0XHRcdFx0Zm9yICh2YXIgamogPSBzeTsgamogPCBzeSArIHJvb21oOyBqaisrKSB7XG5cdFx0XHRcdFx0dGhpcy5tYXBbaWldW2pqXSA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH0gIFxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fZ2V0V2FsbFBvc2l0aW9uID0gZnVuY3Rpb24oYVJvb20sIGFEaXJlY3Rpb24pIHtcblx0dmFyIHJ4O1xuXHR2YXIgcnk7XG5cdHZhciBkb29yO1xuXHRcblx0aWYgKGFEaXJlY3Rpb24gPT0gMSB8fCBhRGlyZWN0aW9uID09IDMpIHtcblx0XHRyeCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInhcIl0gKyAxLCBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdIC0gMik7XG5cdFx0aWYgKGFEaXJlY3Rpb24gPT0gMSkge1xuXHRcdFx0cnkgPSBhUm9vbVtcInlcIl0gLSAyO1xuXHRcdFx0ZG9vciA9IHJ5ICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cnkgPSBhUm9vbVtcInlcIl0gKyBhUm9vbVtcImhlaWdodFwiXSArIDE7XG5cdFx0XHRkb29yID0gcnkgLTE7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMubWFwW3J4XVtkb29yXSA9IDA7IC8vIGknbSBub3Qgc2V0dGluZyBhIHNwZWNpZmljICdkb29yJyB0aWxlIHZhbHVlIHJpZ2h0IG5vdywganVzdCBlbXB0eSBzcGFjZS4gXG5cdFx0XG5cdH0gZWxzZSBpZiAoYURpcmVjdGlvbiA9PSAyIHx8IGFEaXJlY3Rpb24gPT0gNCkge1xuXHRcdHJ5ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KGFSb29tW1wieVwiXSArIDEsIGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdIC0gMik7XG5cdFx0aWYoYURpcmVjdGlvbiA9PSAyKSB7XG5cdFx0XHRyeCA9IGFSb29tW1wieFwiXSArIGFSb29tW1wid2lkdGhcIl0gKyAxO1xuXHRcdFx0ZG9vciA9IHJ4IC0gMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cnggPSBhUm9vbVtcInhcIl0gLSAyO1xuXHRcdFx0ZG9vciA9IHJ4ICsgMTtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5tYXBbZG9vcl1bcnldID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLiBcblx0XHRcblx0fVxuXHRyZXR1cm4gW3J4LCByeV07XG59XG5cbi8qKipcbiogQHBhcmFtIHN0YXJ0UG9zaXRpb24gYSAyIGVsZW1lbnQgYXJyYXlcbiogQHBhcmFtIGVuZFBvc2l0aW9uIGEgMiBlbGVtZW50IGFycmF5XG4qL1xuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2RyYXdDb3JyaWRvcmUgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24pIHtcblx0dmFyIHhPZmZzZXQgPSBlbmRQb3NpdGlvblswXSAtIHN0YXJ0UG9zaXRpb25bMF07XG5cdHZhciB5T2Zmc2V0ID0gZW5kUG9zaXRpb25bMV0gLSBzdGFydFBvc2l0aW9uWzFdO1xuXHRcblx0dmFyIHhwb3MgPSBzdGFydFBvc2l0aW9uWzBdO1xuXHR2YXIgeXBvcyA9IHN0YXJ0UG9zaXRpb25bMV07XG5cdFxuXHR2YXIgdGVtcERpc3Q7XG5cdHZhciB4RGlyO1xuXHR2YXIgeURpcjtcblx0XG5cdHZhciBtb3ZlOyAvLyAyIGVsZW1lbnQgYXJyYXksIGVsZW1lbnQgMCBpcyB0aGUgZGlyZWN0aW9uLCBlbGVtZW50IDEgaXMgdGhlIHRvdGFsIHZhbHVlIHRvIG1vdmUuIFxuXHR2YXIgbW92ZXMgPSBbXTsgLy8gYSBsaXN0IG9mIDIgZWxlbWVudCBhcnJheXNcblx0XG5cdHZhciB4QWJzID0gTWF0aC5hYnMoeE9mZnNldCk7XG5cdHZhciB5QWJzID0gTWF0aC5hYnMoeU9mZnNldCk7XG5cdFxuXHR2YXIgcGVyY2VudCA9IFJPVC5STkcuZ2V0VW5pZm9ybSgpOyAvLyB1c2VkIHRvIHNwbGl0IHRoZSBtb3ZlIGF0IGRpZmZlcmVudCBwbGFjZXMgYWxvbmcgdGhlIGxvbmcgYXhpc1xuXHR2YXIgZmlyc3RIYWxmID0gcGVyY2VudDtcblx0dmFyIHNlY29uZEhhbGYgPSAxIC0gcGVyY2VudDtcblx0XG5cdHhEaXIgPSB4T2Zmc2V0ID4gMCA/IDIgOiA2O1xuXHR5RGlyID0geU9mZnNldCA+IDAgPyA0IDogMDtcblx0XG5cdGlmICh4QWJzIDwgeUFicykge1xuXHRcdC8vIG1vdmUgZmlyc3RIYWxmIG9mIHRoZSB5IG9mZnNldFxuXHRcdHRlbXBEaXN0ID0gTWF0aC5jZWlsKHlBYnMgKiBmaXJzdEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3lEaXIsIHRlbXBEaXN0XSk7XG5cdFx0Ly8gbW92ZSBhbGwgdGhlIHggb2Zmc2V0XG5cdFx0bW92ZXMucHVzaChbeERpciwgeEFic10pO1xuXHRcdC8vIG1vdmUgc2VuZEhhbGYgb2YgdGhlICB5IG9mZnNldFxuXHRcdHRlbXBEaXN0ID0gTWF0aC5mbG9vcih5QWJzICogc2Vjb25kSGFsZik7XG5cdFx0bW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcblx0fSBlbHNlIHtcblx0XHQvLyAgbW92ZSBmaXJzdEhhbGYgb2YgdGhlIHggb2Zmc2V0XG5cdFx0dGVtcERpc3QgPSBNYXRoLmNlaWwoeEFicyAqIGZpcnN0SGFsZik7XG5cdFx0bW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTtcblx0XHQvLyBtb3ZlIGFsbCB0aGUgeSBvZmZzZXRcblx0XHRtb3Zlcy5wdXNoKFt5RGlyLCB5QWJzXSk7XG5cdFx0Ly8gbW92ZSBzZWNvbmRIYWxmIG9mIHRoZSB4IG9mZnNldC5cblx0XHR0ZW1wRGlzdCA9IE1hdGguZmxvb3IoeEFicyAqIHNlY29uZEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3hEaXIsIHRlbXBEaXN0XSk7ICBcblx0fVxuXHRcblx0dGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuXHRcblx0d2hpbGUgKG1vdmVzLmxlbmd0aCA+IDApIHtcblx0XHRtb3ZlID0gbW92ZXMucG9wKCk7XG5cdFx0d2hpbGUgKG1vdmVbMV0gPiAwKSB7XG5cdFx0XHR4cG9zICs9IFJPVC5ESVJTWzhdW21vdmVbMF1dWzBdO1xuXHRcdFx0eXBvcyArPSBST1QuRElSU1s4XVttb3ZlWzBdXVsxXTtcblx0XHRcdHRoaXMubWFwW3hwb3NdW3lwb3NdID0gMDtcblx0XHRcdG1vdmVbMV0gPSBtb3ZlWzFdIC0gMTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZUNvcnJpZG9ycyA9IGZ1bmN0aW9uICgpIHtcblx0Ly8gRHJhdyBDb3JyaWRvcnMgYmV0d2VlbiBjb25uZWN0ZWQgcm9vbXNcblx0XG5cdHZhciBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuXHR2YXIgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG5cdHZhciByb29tO1xuXHR2YXIgY29ubmVjdGlvbjtcblx0dmFyIG90aGVyUm9vbTtcblx0dmFyIHdhbGw7XG5cdHZhciBvdGhlcldhbGw7XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGN3OyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNoOyBqKyspIHtcblx0XHRcdHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IHJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25uZWN0aW9uID0gcm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdOyBcblx0XHRcdFx0XG5cdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbY29ubmVjdGlvblswXV1bY29ubmVjdGlvblsxXV07XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBmaWd1cmUgb3V0IHdoYXQgd2FsbCBvdXIgY29ycmlkb3Igd2lsbCBzdGFydCBvbmUuXG5cdFx0XHRcdC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIGVuZCBvbi4gXG5cdFx0XHRcdGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA+IHJvb21bXCJjZWxseFwiXSApIHtcblx0XHRcdFx0XHR3YWxsID0gMjtcblx0XHRcdFx0XHRvdGhlcldhbGwgPSA0O1xuXHRcdFx0XHR9IGVsc2UgaWYgKG90aGVyUm9vbVtcImNlbGx4XCJdIDwgcm9vbVtcImNlbGx4XCJdICkge1xuXHRcdFx0XHRcdHdhbGwgPSA0O1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDI7XG5cdFx0XHRcdH0gZWxzZSBpZihvdGhlclJvb21bXCJjZWxseVwiXSA+IHJvb21bXCJjZWxseVwiXSkge1xuXHRcdFx0XHRcdHdhbGwgPSAzO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDE7XG5cdFx0XHRcdH0gZWxzZSBpZihvdGhlclJvb21bXCJjZWxseVwiXSA8IHJvb21bXCJjZWxseVwiXSkge1xuXHRcdFx0XHRcdHdhbGwgPSAxO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDM7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuX2RyYXdDb3JyaWRvcmUodGhpcy5fZ2V0V2FsbFBvc2l0aW9uKHJvb20sIHdhbGwpLCB0aGlzLl9nZXRXYWxsUG9zaXRpb24ob3RoZXJSb29tLCBvdGhlcldhbGwpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbi8qKlxuICogQGNsYXNzIER1bmdlb24gZmVhdHVyZTsgaGFzIG93biAuY3JlYXRlKCkgbWV0aG9kXG4gKi9cblJPVC5NYXAuRmVhdHVyZSA9IGZ1bmN0aW9uKCkge31cblJPVC5NYXAuRmVhdHVyZS5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGNhbkJlRHVnQ2FsbGJhY2spIHt9XG5ST1QuTWFwLkZlYXR1cmUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7fVxuUk9ULk1hcC5GZWF0dXJlLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uKCkge31cblJPVC5NYXAuRmVhdHVyZS5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge31cblxuLyoqXG4gKiBAY2xhc3MgUm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHgxXG4gKiBAcGFyYW0ge2ludH0geTFcbiAqIEBwYXJhbSB7aW50fSB4MlxuICogQHBhcmFtIHtpbnR9IHkyXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JYXVxuICogQHBhcmFtIHtpbnR9IFtkb29yWV1cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20gPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgZG9vclgsIGRvb3JZKSB7XG5cdHRoaXMuX3gxID0geDE7XG5cdHRoaXMuX3kxID0geTE7XG5cdHRoaXMuX3gyID0geDI7XG5cdHRoaXMuX3kyID0geTI7XG5cdHRoaXMuX2Rvb3JzID0ge307XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gNCkgeyB0aGlzLmFkZERvb3IoZG9vclgsIGRvb3JZKTsgfVxufVxuUk9ULk1hcC5GZWF0dXJlLlJvb20uZXh0ZW5kKFJPVC5NYXAuRmVhdHVyZSk7XG5cbi8qKlxuICogUm9vbSBvZiByYW5kb20gc2l6ZSwgd2l0aCBhIGdpdmVuIGRvb3JzIGFuZCBkaXJlY3Rpb25cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tQXQgPSBmdW5jdGlvbih4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdGlmIChkeCA9PSAxKSB7IC8qIHRvIHRoZSByaWdodCAqL1xuXHRcdHZhciB5MiA9IHkgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeCsxLCB5MiwgeCt3aWR0aCwgeTIraGVpZ2h0LTEsIHgsIHkpO1xuXHR9XG5cdFxuXHRpZiAoZHggPT0gLTEpIHsgLyogdG8gdGhlIGxlZnQgKi9cblx0XHR2YXIgeTIgPSB5IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHgtd2lkdGgsIHkyLCB4LTEsIHkyK2hlaWdodC0xLCB4LCB5KTtcblx0fVxuXG5cdGlmIChkeSA9PSAxKSB7IC8qIHRvIHRoZSBib3R0b20gKi9cblx0XHR2YXIgeDIgPSB4IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeDIsIHkrMSwgeDIrd2lkdGgtMSwgeStoZWlnaHQsIHgsIHkpO1xuXHR9XG5cblx0aWYgKGR5ID09IC0xKSB7IC8qIHRvIHRoZSB0b3AgKi9cblx0XHR2YXIgeDIgPSB4IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeDIsIHktaGVpZ2h0LCB4Mit3aWR0aC0xLCB5LTEsIHgsIHkpO1xuXHR9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZHggb3IgZHkgbXVzdCBiZSAxIG9yIC0xXCIpO1xufVxuXG4vKipcbiAqIFJvb20gb2YgcmFuZG9tIHNpemUsIHBvc2l0aW9uZWQgYXJvdW5kIGNlbnRlciBjb29yZHNcbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tQ2VudGVyID0gZnVuY3Rpb24oY3gsIGN5LCBvcHRpb25zKSB7XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuXHR2YXIgd2lkdGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcblx0dmFyIGhlaWdodCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cblx0dmFyIHgxID0gY3ggLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKndpZHRoKTtcblx0dmFyIHkxID0gY3kgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKmhlaWdodCk7XG5cdHZhciB4MiA9IHgxICsgd2lkdGggLSAxO1xuXHR2YXIgeTIgPSB5MSArIGhlaWdodCAtIDE7XG5cblx0cmV0dXJuIG5ldyB0aGlzKHgxLCB5MSwgeDIsIHkyKTtcbn1cblxuLyoqXG4gKiBSb29tIG9mIHJhbmRvbSBzaXplIHdpdGhpbiBhIGdpdmVuIGRpbWVuc2lvbnNcbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQsIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBsZWZ0ID0gYXZhaWxXaWR0aCAtIHdpZHRoIC0gMTtcblx0dmFyIHRvcCA9IGF2YWlsSGVpZ2h0IC0gaGVpZ2h0IC0gMTtcblxuXHR2YXIgeDEgPSAxICsgTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSpsZWZ0KTtcblx0dmFyIHkxID0gMSArIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqdG9wKTtcblx0dmFyIHgyID0geDEgKyB3aWR0aCAtIDE7XG5cdHZhciB5MiA9IHkxICsgaGVpZ2h0IC0gMTtcblxuXHRyZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuYWRkRG9vciA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dGhpcy5fZG9vcnNbeCtcIixcIit5XSA9IDE7XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259XG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXREb29ycyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGZvciAodmFyIGtleSBpbiB0aGlzLl9kb29ycykge1xuXHRcdHZhciBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG5cdFx0Y2FsbGJhY2socGFyc2VJbnQocGFydHNbMF0pLCBwYXJzZUludChwYXJ0c1sxXSkpO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuY2xlYXJEb29ycyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kb29ycyA9IHt9O1xuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmFkZERvb3JzID0gZnVuY3Rpb24oaXNXYWxsQ2FsbGJhY2spIHtcblx0dmFyIGxlZnQgPSB0aGlzLl94MS0xO1xuXHR2YXIgcmlnaHQgPSB0aGlzLl94MisxO1xuXHR2YXIgdG9wID0gdGhpcy5feTEtMTtcblx0dmFyIGJvdHRvbSA9IHRoaXMuX3kyKzE7XG5cblx0Zm9yICh2YXIgeD1sZWZ0OyB4PD1yaWdodDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeT10b3A7IHk8PWJvdHRvbTsgeSsrKSB7XG5cdFx0XHRpZiAoeCAhPSBsZWZ0ICYmIHggIT0gcmlnaHQgJiYgeSAhPSB0b3AgJiYgeSAhPSBib3R0b20pIHsgY29udGludWU7IH1cblx0XHRcdGlmIChpc1dhbGxDYWxsYmFjayh4LCB5KSkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHR0aGlzLmFkZERvb3IoeCwgeSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uKCkge1xuXHRjb25zb2xlLmxvZyhcInJvb21cIiwgdGhpcy5feDEsIHRoaXMuX3kxLCB0aGlzLl94MiwgdGhpcy5feTIpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKSB7IFxuXHR2YXIgbGVmdCA9IHRoaXMuX3gxLTE7XG5cdHZhciByaWdodCA9IHRoaXMuX3gyKzE7XG5cdHZhciB0b3AgPSB0aGlzLl95MS0xO1xuXHR2YXIgYm90dG9tID0gdGhpcy5feTIrMTtcblx0XG5cdGZvciAodmFyIHg9bGVmdDsgeDw9cmlnaHQ7IHgrKykge1xuXHRcdGZvciAodmFyIHk9dG9wOyB5PD1ib3R0b207IHkrKykge1xuXHRcdFx0aWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG5cdFx0XHRcdGlmICghaXNXYWxsQ2FsbGJhY2soeCwgeSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNhbkJlRHVnQ2FsbGJhY2soeCwgeSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHksIDEgPSB3YWxsLCAyID0gZG9vci4gTXVsdGlwbGUgZG9vcnMgYXJlIGFsbG93ZWQuXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihkaWdDYWxsYmFjaykgeyBcblx0dmFyIGxlZnQgPSB0aGlzLl94MS0xO1xuXHR2YXIgcmlnaHQgPSB0aGlzLl94MisxO1xuXHR2YXIgdG9wID0gdGhpcy5feTEtMTtcblx0dmFyIGJvdHRvbSA9IHRoaXMuX3kyKzE7XG5cdFxuXHR2YXIgdmFsdWUgPSAwO1xuXHRmb3IgKHZhciB4PWxlZnQ7IHg8PXJpZ2h0OyB4KyspIHtcblx0XHRmb3IgKHZhciB5PXRvcDsgeTw9Ym90dG9tOyB5KyspIHtcblx0XHRcdGlmICh4K1wiLFwiK3kgaW4gdGhpcy5fZG9vcnMpIHtcblx0XHRcdFx0dmFsdWUgPSAyO1xuXHRcdFx0fSBlbHNlIGlmICh4ID09IGxlZnQgfHwgeCA9PSByaWdodCB8fCB5ID09IHRvcCB8fCB5ID09IGJvdHRvbSkge1xuXHRcdFx0XHR2YWx1ZSA9IDE7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWx1ZSA9IDA7XG5cdFx0XHR9XG5cdFx0XHRkaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIFtNYXRoLnJvdW5kKCh0aGlzLl94MSArIHRoaXMuX3gyKS8yKSwgTWF0aC5yb3VuZCgodGhpcy5feTEgKyB0aGlzLl95MikvMildO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0TGVmdCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feDE7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRSaWdodCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feDI7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRUb3AgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3kxO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0Qm90dG9tID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl95Mjtcbn1cblxuLyoqXG4gKiBAY2xhc3MgQ29ycmlkb3JcbiAqIEBhdWdtZW50cyBST1QuTWFwLkZlYXR1cmVcbiAqIEBwYXJhbSB7aW50fSBzdGFydFhcbiAqIEBwYXJhbSB7aW50fSBzdGFydFlcbiAqIEBwYXJhbSB7aW50fSBlbmRYXG4gKiBAcGFyYW0ge2ludH0gZW5kWVxuICovXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IgPSBmdW5jdGlvbihzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuXHR0aGlzLl9zdGFydFggPSBzdGFydFg7XG5cdHRoaXMuX3N0YXJ0WSA9IHN0YXJ0WTtcblx0dGhpcy5fZW5kWCA9IGVuZFg7IFxuXHR0aGlzLl9lbmRZID0gZW5kWTtcblx0dGhpcy5fZW5kc1dpdGhBV2FsbCA9IHRydWU7XG59XG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IuZXh0ZW5kKFJPVC5NYXAuRmVhdHVyZSk7XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMuY29ycmlkb3JMZW5ndGhbMV07XG5cdHZhciBsZW5ndGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0cmV0dXJuIG5ldyB0aGlzKHgsIHksIHggKyBkeCpsZW5ndGgsIHkgKyBkeSpsZW5ndGgpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKFwiY29ycmlkb3JcIiwgdGhpcy5fc3RhcnRYLCB0aGlzLl9zdGFydFksIHRoaXMuX2VuZFgsIHRoaXMuX2VuZFkpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbihpc1dhbGxDYWxsYmFjaywgY2FuQmVEdWdDYWxsYmFjayl7IFxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0dmFyIGxlbmd0aCA9IDEgKyBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG5cdFxuXHRpZiAoZHgpIHsgZHggPSBkeC9NYXRoLmFicyhkeCk7IH1cblx0aWYgKGR5KSB7IGR5ID0gZHkvTWF0aC5hYnMoZHkpOyB9XG5cdHZhciBueCA9IGR5O1xuXHR2YXIgbnkgPSAtZHg7XG5cdFxuXHR2YXIgb2sgPSB0cnVlO1xuXHRmb3IgKHZhciBpPTA7IGk8bGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgeCA9IHN4ICsgaSpkeDtcblx0XHR2YXIgeSA9IHN5ICsgaSpkeTtcblxuXHRcdGlmICghY2FuQmVEdWdDYWxsYmFjayggICAgIHgsICAgICAgeSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdGlmICghaXNXYWxsQ2FsbGJhY2sgICh4ICsgbngsIHkgKyBueSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdGlmICghaXNXYWxsQ2FsbGJhY2sgICh4IC0gbngsIHkgLSBueSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmICghb2spIHtcblx0XHRcdGxlbmd0aCA9IGk7XG5cdFx0XHR0aGlzLl9lbmRYID0geC1keDtcblx0XHRcdHRoaXMuX2VuZFkgPSB5LWR5O1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogSWYgdGhlIGxlbmd0aCBkZWdlbmVyYXRlZCwgdGhpcyBjb3JyaWRvciBtaWdodCBiZSBpbnZhbGlkXG5cdCAqL1xuXHQgXG5cdC8qIG5vdCBzdXBwb3J0ZWQgKi9cblx0aWYgKGxlbmd0aCA9PSAwKSB7IHJldHVybiBmYWxzZTsgfSBcblx0XG5cdCAvKiBsZW5ndGggMSBhbGxvd2VkIG9ubHkgaWYgdGhlIG5leHQgc3BhY2UgaXMgZW1wdHkgKi9cblx0aWYgKGxlbmd0aCA9PSAxICYmIGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XG5cdC8qKlxuXHQgKiBXZSBkbyBub3Qgd2FudCB0aGUgY29ycmlkb3IgdG8gY3Jhc2ggaW50byBhIGNvcm5lciBvZiBhIHJvb207XG5cdCAqIGlmIGFueSBvZiB0aGUgZW5kaW5nIGNvcm5lcnMgaXMgZW1wdHksIHRoZSBOKzF0aCBjZWxsIG9mIHRoaXMgY29ycmlkb3IgbXVzdCBiZSBlbXB0eSB0b28uXG5cdCAqIFxuXHQgKiBTaXR1YXRpb246XG5cdCAqICMjIyMjIyMxXG5cdCAqIC4uLi4uLi4/XG5cdCAqICMjIyMjIyMyXG5cdCAqIFxuXHQgKiBUaGUgY29ycmlkb3Igd2FzIGR1ZyBmcm9tIGxlZnQgdG8gcmlnaHQuXG5cdCAqIDEsIDIgLSBwcm9ibGVtYXRpYyBjb3JuZXJzLCA/ID0gTisxdGggY2VsbCAobm90IGR1Zylcblx0ICovXG5cdHZhciBmaXJzdENvcm5lckJhZCA9ICFpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHggKyBueCwgdGhpcy5fZW5kWSArIGR5ICsgbnkpO1xuXHR2YXIgc2Vjb25kQ29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCAtIG54LCB0aGlzLl9lbmRZICsgZHkgLSBueSk7XG5cdHRoaXMuX2VuZHNXaXRoQVdhbGwgPSBpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSk7XG5cdGlmICgoZmlyc3RDb3JuZXJCYWQgfHwgc2Vjb25kQ29ybmVyQmFkKSAmJiB0aGlzLl9lbmRzV2l0aEFXYWxsKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ0NhbGxiYWNrIERpZyBjYWxsYmFjayB3aXRoIGEgc2lnbmF0dXJlICh4LCB5LCB2YWx1ZSkuIFZhbHVlczogMCA9IGVtcHR5LlxuICovXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7IFxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0dmFyIGxlbmd0aCA9IDErTWF0aC5tYXgoTWF0aC5hYnMoZHgpLCBNYXRoLmFicyhkeSkpO1xuXHRcblx0aWYgKGR4KSB7IGR4ID0gZHgvTWF0aC5hYnMoZHgpOyB9XG5cdGlmIChkeSkgeyBkeSA9IGR5L01hdGguYWJzKGR5KTsgfVxuXHR2YXIgbnggPSBkeTtcblx0dmFyIG55ID0gLWR4O1xuXHRcblx0Zm9yICh2YXIgaT0wOyBpPGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHggPSBzeCArIGkqZHg7XG5cdFx0dmFyIHkgPSBzeSArIGkqZHk7XG5cdFx0ZGlnQ2FsbGJhY2soeCwgeSwgMCk7XG5cdH1cblx0XG5cdHJldHVybiB0cnVlO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmNyZWF0ZVByaW9yaXR5V2FsbHMgPSBmdW5jdGlvbihwcmlvcml0eVdhbGxDYWxsYmFjaykge1xuXHRpZiAoIXRoaXMuX2VuZHNXaXRoQVdhbGwpIHsgcmV0dXJuOyB9XG5cblx0dmFyIHN4ID0gdGhpcy5fc3RhcnRYO1xuXHR2YXIgc3kgPSB0aGlzLl9zdGFydFk7XG5cblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0aWYgKGR4KSB7IGR4ID0gZHgvTWF0aC5hYnMoZHgpOyB9XG5cdGlmIChkeSkgeyBkeSA9IGR5L01hdGguYWJzKGR5KTsgfVxuXHR2YXIgbnggPSBkeTtcblx0dmFyIG55ID0gLWR4O1xuXG5cdHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcblx0cHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIG54LCB0aGlzLl9lbmRZICsgbnkpO1xuXHRwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYIC0gbngsIHRoaXMuX2VuZFkgLSBueSk7XG59XG4vKipcbiAqIEBjbGFzcyBCYXNlIG5vaXNlIGdlbmVyYXRvclxuICovXG5ST1QuTm9pc2UgPSBmdW5jdGlvbigpIHtcbn07XG5cblJPVC5Ob2lzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oeCwgeSkge31cbi8qKlxuICogQSBzaW1wbGUgMmQgaW1wbGVtZW50YXRpb24gb2Ygc2ltcGxleCBub2lzZSBieSBPbmRyZWogWmFyYVxuICpcbiAqIEJhc2VkIG9uIGEgc3BlZWQtaW1wcm92ZWQgc2ltcGxleCBub2lzZSBhbGdvcml0aG0gZm9yIDJELCAzRCBhbmQgNEQgaW4gSmF2YS5cbiAqIFdoaWNoIGlzIGJhc2VkIG9uIGV4YW1wbGUgY29kZSBieSBTdGVmYW4gR3VzdGF2c29uIChzdGVndUBpdG4ubGl1LnNlKS5cbiAqIFdpdGggT3B0aW1pc2F0aW9ucyBieSBQZXRlciBFYXN0bWFuIChwZWFzdG1hbkBkcml6emxlLnN0YW5mb3JkLmVkdSkuXG4gKiBCZXR0ZXIgcmFuayBvcmRlcmluZyBtZXRob2QgYnkgU3RlZmFuIEd1c3RhdnNvbiBpbiAyMDEyLlxuICovXG5cbi8qKlxuICogQGNsYXNzIDJEIHNpbXBsZXggbm9pc2UgZ2VuZXJhdG9yXG4gKiBAcGFyYW0ge2ludH0gW2dyYWRpZW50cz0yNTZdIFJhbmRvbSBncmFkaWVudHNcbiAqL1xuUk9ULk5vaXNlLlNpbXBsZXggPSBmdW5jdGlvbihncmFkaWVudHMpIHtcblx0Uk9ULk5vaXNlLmNhbGwodGhpcyk7XG5cblx0dGhpcy5fRjIgPSAwLjUgKiAoTWF0aC5zcXJ0KDMpIC0gMSk7XG5cdHRoaXMuX0cyID0gKDMgLSBNYXRoLnNxcnQoMykpIC8gNjtcblxuXHR0aGlzLl9ncmFkaWVudHMgPSBbXG5cdFx0WyAwLCAtMV0sXG5cdFx0WyAxLCAtMV0sXG5cdFx0WyAxLCAgMF0sXG5cdFx0WyAxLCAgMV0sXG5cdFx0WyAwLCAgMV0sXG5cdFx0Wy0xLCAgMV0sXG5cdFx0Wy0xLCAgMF0sXG5cdFx0Wy0xLCAtMV1cblx0XTtcblxuXHR2YXIgcGVybXV0YXRpb25zID0gW107XG5cdHZhciBjb3VudCA9IGdyYWRpZW50cyB8fCAyNTY7XG5cdGZvciAodmFyIGk9MDtpPGNvdW50O2krKykgeyBwZXJtdXRhdGlvbnMucHVzaChpKTsgfVxuXHRwZXJtdXRhdGlvbnMgPSBwZXJtdXRhdGlvbnMucmFuZG9taXplKCk7XG5cblx0dGhpcy5fcGVybXMgPSBbXTtcblx0dGhpcy5faW5kZXhlcyA9IFtdO1xuXG5cdGZvciAodmFyIGk9MDtpPDIqY291bnQ7aSsrKSB7XG5cdFx0dGhpcy5fcGVybXMucHVzaChwZXJtdXRhdGlvbnNbaSAlIGNvdW50XSk7XG5cdFx0dGhpcy5faW5kZXhlcy5wdXNoKHRoaXMuX3Blcm1zW2ldICUgdGhpcy5fZ3JhZGllbnRzLmxlbmd0aCk7XG5cdH1cblxufTtcblJPVC5Ob2lzZS5TaW1wbGV4LmV4dGVuZChST1QuTm9pc2UpO1xuXG5ST1QuTm9pc2UuU2ltcGxleC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oeGluLCB5aW4pIHtcblx0dmFyIHBlcm1zID0gdGhpcy5fcGVybXM7XG5cdHZhciBpbmRleGVzID0gdGhpcy5faW5kZXhlcztcblx0dmFyIGNvdW50ID0gcGVybXMubGVuZ3RoLzI7XG5cdHZhciBHMiA9IHRoaXMuX0cyO1xuXG5cdHZhciBuMCA9MCwgbjEgPSAwLCBuMiA9IDAsIGdpOyAvLyBOb2lzZSBjb250cmlidXRpb25zIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcblxuXHQvLyBTa2V3IHRoZSBpbnB1dCBzcGFjZSB0byBkZXRlcm1pbmUgd2hpY2ggc2ltcGxleCBjZWxsIHdlJ3JlIGluXG5cdHZhciBzID0gKHhpbiArIHlpbikgKiB0aGlzLl9GMjsgLy8gSGFpcnkgZmFjdG9yIGZvciAyRFxuXHR2YXIgaSA9IE1hdGguZmxvb3IoeGluICsgcyk7XG5cdHZhciBqID0gTWF0aC5mbG9vcih5aW4gKyBzKTtcblx0dmFyIHQgPSAoaSArIGopICogRzI7XG5cdHZhciBYMCA9IGkgLSB0OyAvLyBVbnNrZXcgdGhlIGNlbGwgb3JpZ2luIGJhY2sgdG8gKHgseSkgc3BhY2Vcblx0dmFyIFkwID0gaiAtIHQ7XG5cdHZhciB4MCA9IHhpbiAtIFgwOyAvLyBUaGUgeCx5IGRpc3RhbmNlcyBmcm9tIHRoZSBjZWxsIG9yaWdpblxuXHR2YXIgeTAgPSB5aW4gLSBZMDtcblxuXHQvLyBGb3IgdGhlIDJEIGNhc2UsIHRoZSBzaW1wbGV4IHNoYXBlIGlzIGFuIGVxdWlsYXRlcmFsIHRyaWFuZ2xlLlxuXHQvLyBEZXRlcm1pbmUgd2hpY2ggc2ltcGxleCB3ZSBhcmUgaW4uXG5cdHZhciBpMSwgajE7IC8vIE9mZnNldHMgZm9yIHNlY29uZCAobWlkZGxlKSBjb3JuZXIgb2Ygc2ltcGxleCBpbiAoaSxqKSBjb29yZHNcblx0aWYgKHgwID4geTApIHtcblx0XHRpMSA9IDE7XG5cdFx0ajEgPSAwO1xuXHR9IGVsc2UgeyAvLyBsb3dlciB0cmlhbmdsZSwgWFkgb3JkZXI6ICgwLDApLT4oMSwwKS0+KDEsMSlcblx0XHRpMSA9IDA7XG5cdFx0ajEgPSAxO1xuXHR9IC8vIHVwcGVyIHRyaWFuZ2xlLCBZWCBvcmRlcjogKDAsMCktPigwLDEpLT4oMSwxKVxuXG5cdC8vIEEgc3RlcCBvZiAoMSwwKSBpbiAoaSxqKSBtZWFucyBhIHN0ZXAgb2YgKDEtYywtYykgaW4gKHgseSksIGFuZFxuXHQvLyBhIHN0ZXAgb2YgKDAsMSkgaW4gKGksaikgbWVhbnMgYSBzdGVwIG9mICgtYywxLWMpIGluICh4LHkpLCB3aGVyZVxuXHQvLyBjID0gKDMtc3FydCgzKSkvNlxuXHR2YXIgeDEgPSB4MCAtIGkxICsgRzI7IC8vIE9mZnNldHMgZm9yIG1pZGRsZSBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG5cdHZhciB5MSA9IHkwIC0gajEgKyBHMjtcblx0dmFyIHgyID0geDAgLSAxICsgMipHMjsgLy8gT2Zmc2V0cyBmb3IgbGFzdCBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG5cdHZhciB5MiA9IHkwIC0gMSArIDIqRzI7XG5cblx0Ly8gV29yayBvdXQgdGhlIGhhc2hlZCBncmFkaWVudCBpbmRpY2VzIG9mIHRoZSB0aHJlZSBzaW1wbGV4IGNvcm5lcnNcblx0dmFyIGlpID0gaS5tb2QoY291bnQpO1xuXHR2YXIgamogPSBqLm1vZChjb3VudCk7XG5cblx0Ly8gQ2FsY3VsYXRlIHRoZSBjb250cmlidXRpb24gZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuXHR2YXIgdDAgPSAwLjUgLSB4MCp4MCAtIHkwKnkwO1xuXHRpZiAodDAgPj0gMCkge1xuXHRcdHQwICo9IHQwO1xuXHRcdGdpID0gaW5kZXhlc1tpaStwZXJtc1tqal1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMCA9IHQwICogdDAgKiAoZ3JhZFswXSAqIHgwICsgZ3JhZFsxXSAqIHkwKTtcblx0fVxuXHRcblx0dmFyIHQxID0gMC41IC0geDEqeDEgLSB5MSp5MTtcblx0aWYgKHQxID49IDApIHtcblx0XHR0MSAqPSB0MTtcblx0XHRnaSA9IGluZGV4ZXNbaWkraTErcGVybXNbamorajFdXTtcblx0XHR2YXIgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG5cdFx0bjEgPSB0MSAqIHQxICogKGdyYWRbMF0gKiB4MSArIGdyYWRbMV0gKiB5MSk7XG5cdH1cblx0XG5cdHZhciB0MiA9IDAuNSAtIHgyKngyIC0geTIqeTI7XG5cdGlmICh0MiA+PSAwKSB7XG5cdFx0dDIgKj0gdDI7XG5cdFx0Z2kgPSBpbmRleGVzW2lpKzErcGVybXNbamorMV1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMiA9IHQyICogdDIgKiAoZ3JhZFswXSAqIHgyICsgZ3JhZFsxXSAqIHkyKTtcblx0fVxuXG5cdC8vIEFkZCBjb250cmlidXRpb25zIGZyb20gZWFjaCBjb3JuZXIgdG8gZ2V0IHRoZSBmaW5hbCBub2lzZSB2YWx1ZS5cblx0Ly8gVGhlIHJlc3VsdCBpcyBzY2FsZWQgdG8gcmV0dXJuIHZhbHVlcyBpbiB0aGUgaW50ZXJ2YWwgWy0xLDFdLlxuXHRyZXR1cm4gNzAgKiAobjAgKyBuMSArIG4yKTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IEZPViBhbGdvcml0aG1cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpZ2h0UGFzc2VzQ2FsbGJhY2sgRG9lcyB0aGUgbGlnaHQgcGFzcyB0aHJvdWdoIHgseT9cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XSA0LzYvOFxuICovXG5ST1QuRk9WID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHR0aGlzLl9saWdodFBhc3NlcyA9IGxpZ2h0UGFzc2VzQ2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0dG9wb2xvZ3k6IDhcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cbn07XG5cbi8qKlxuICogQ29tcHV0ZSB2aXNpYmlsaXR5IGZvciBhIDM2MC1kZWdyZWUgY2lyY2xlXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge31cblxuLyoqXG4gKiBSZXR1cm4gYWxsIG5laWdoYm9ycyBpbiBhIGNvbmNlbnRyaWMgcmluZ1xuICogQHBhcmFtIHtpbnR9IGN4IGNlbnRlci14XG4gKiBAcGFyYW0ge2ludH0gY3kgY2VudGVyLXlcbiAqIEBwYXJhbSB7aW50fSByIHJhbmdlXG4gKi9cblJPVC5GT1YucHJvdG90eXBlLl9nZXRDaXJjbGUgPSBmdW5jdGlvbihjeCwgY3ksIHIpIHtcblx0dmFyIHJlc3VsdCA9IFtdO1xuXHR2YXIgZGlycywgY291bnRGYWN0b3IsIHN0YXJ0T2Zmc2V0O1xuXG5cdHN3aXRjaCAodGhpcy5fb3B0aW9ucy50b3BvbG9neSkge1xuXHRcdGNhc2UgNDpcblx0XHRcdGNvdW50RmFjdG9yID0gMTtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWzAsIDFdO1xuXHRcdFx0ZGlycyA9IFtcblx0XHRcdFx0Uk9ULkRJUlNbOF1bN10sXG5cdFx0XHRcdFJPVC5ESVJTWzhdWzFdLFxuXHRcdFx0XHRST1QuRElSU1s4XVszXSxcblx0XHRcdFx0Uk9ULkRJUlNbOF1bNV1cblx0XHRcdF1cblx0XHRicmVhaztcblxuXHRcdGNhc2UgNjpcblx0XHRcdGRpcnMgPSBST1QuRElSU1s2XTtcblx0XHRcdGNvdW50RmFjdG9yID0gMTtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWy0xLCAxXTtcblx0XHRicmVhaztcblxuXHRcdGNhc2UgODpcblx0XHRcdGRpcnMgPSBST1QuRElSU1s0XTtcblx0XHRcdGNvdW50RmFjdG9yID0gMjtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWy0xLCAxXTtcblx0XHRicmVhaztcblx0fVxuXG5cdC8qIHN0YXJ0aW5nIG5laWdoYm9yICovXG5cdHZhciB4ID0gY3ggKyBzdGFydE9mZnNldFswXSpyO1xuXHR2YXIgeSA9IGN5ICsgc3RhcnRPZmZzZXRbMV0qcjtcblxuXHQvKiBjaXJjbGUgKi9cblx0Zm9yICh2YXIgaT0wO2k8ZGlycy5sZW5ndGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8cipjb3VudEZhY3RvcjtqKyspIHtcblx0XHRcdHJlc3VsdC5wdXNoKFt4LCB5XSk7XG5cdFx0XHR4ICs9IGRpcnNbaV1bMF07XG5cdFx0XHR5ICs9IGRpcnNbaV1bMV07XG5cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBAY2xhc3MgRGlzY3JldGUgc2hhZG93Y2FzdGluZyBhbGdvcml0aG0uIE9ic29sZXRlZCBieSBQcmVjaXNlIHNoYWRvd2Nhc3RpbmcuXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLkRpc2NyZXRlU2hhZG93Y2FzdGluZyA9IGZ1bmN0aW9uKGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULkZPVi5jYWxsKHRoaXMsIGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKipcbiAqIEBzZWUgUk9ULkZPViNjb21wdXRlXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0dmFyIGNlbnRlciA9IHRoaXMuX2Nvb3Jkcztcblx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblxuXHQvKiB0aGlzIHBsYWNlIGlzIGFsd2F5cyB2aXNpYmxlICovXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXG5cdC8qIHN0YW5kaW5nIGluIGEgZGFyayBwbGFjZS4gRklYTUUgaXMgdGhpcyBhIGdvb2QgaWRlYT8gICovXG5cdGlmICghdGhpcy5fbGlnaHRQYXNzZXMoeCwgeSkpIHsgcmV0dXJuOyB9XG5cdFxuXHQvKiBzdGFydCBhbmQgZW5kIGFuZ2xlcyAqL1xuXHR2YXIgREFUQSA9IFtdO1xuXHRcblx0dmFyIEEsIEIsIGN4LCBjeSwgYmxvY2tzO1xuXG5cdC8qIGFuYWx5emUgc3Vycm91bmRpbmcgY2VsbHMgaW4gY29uY2VudHJpYyByaW5ncywgc3RhcnRpbmcgZnJvbSB0aGUgY2VudGVyICovXG5cdGZvciAodmFyIHI9MTsgcjw9UjsgcisrKSB7XG5cdFx0dmFyIG5laWdoYm9ycyA9IHRoaXMuX2dldENpcmNsZSh4LCB5LCByKTtcblx0XHR2YXIgYW5nbGUgPSAzNjAgLyBuZWlnaGJvcnMubGVuZ3RoO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JzLmxlbmd0aDtpKyspIHtcblx0XHRcdGN4ID0gbmVpZ2hib3JzW2ldWzBdO1xuXHRcdFx0Y3kgPSBuZWlnaGJvcnNbaV1bMV07XG5cdFx0XHRBID0gYW5nbGUgKiAoaSAtIDAuNSk7XG5cdFx0XHRCID0gQSArIGFuZ2xlO1xuXHRcdFx0XG5cdFx0XHRibG9ja3MgPSAhdGhpcy5fbGlnaHRQYXNzZXMoY3gsIGN5KTtcblx0XHRcdGlmICh0aGlzLl92aXNpYmxlQ29vcmRzKE1hdGguZmxvb3IoQSksIE1hdGguY2VpbChCKSwgYmxvY2tzLCBEQVRBKSkgeyBjYWxsYmFjayhjeCwgY3ksIHIsIDEpOyB9XG5cdFx0XHRcblx0XHRcdGlmIChEQVRBLmxlbmd0aCA9PSAyICYmIERBVEFbMF0gPT0gMCAmJiBEQVRBWzFdID09IDM2MCkgeyByZXR1cm47IH0gLyogY3V0b2ZmPyAqL1xuXG5cdFx0fSAvKiBmb3IgYWxsIGNlbGxzIGluIHRoaXMgcmluZyAqL1xuXHR9IC8qIGZvciBhbGwgcmluZ3MgKi9cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ludH0gQSBzdGFydCBhbmdsZVxuICogQHBhcmFtIHtpbnR9IEIgZW5kIGFuZ2xlXG4gKiBAcGFyYW0ge2Jvb2x9IGJsb2NrcyBEb2VzIGN1cnJlbnQgY2VsbCBibG9jayB2aXNpYmlsaXR5P1xuICogQHBhcmFtIHtpbnRbXVtdfSBEQVRBIHNoYWRvd2VkIGFuZ2xlIHBhaXJzXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fdmlzaWJsZUNvb3JkcyA9IGZ1bmN0aW9uKEEsIEIsIGJsb2NrcywgREFUQSkge1xuXHRpZiAoQSA8IDApIHsgXG5cdFx0dmFyIHYxID0gYXJndW1lbnRzLmNhbGxlZSgwLCBCLCBibG9ja3MsIERBVEEpO1xuXHRcdHZhciB2MiA9IGFyZ3VtZW50cy5jYWxsZWUoMzYwK0EsIDM2MCwgYmxvY2tzLCBEQVRBKTtcblx0XHRyZXR1cm4gdjEgfHwgdjI7XG5cdH1cblx0XG5cdHZhciBpbmRleCA9IDA7XG5cdHdoaWxlIChpbmRleCA8IERBVEEubGVuZ3RoICYmIERBVEFbaW5kZXhdIDwgQSkgeyBpbmRleCsrOyB9XG5cdFxuXHRpZiAoaW5kZXggPT0gREFUQS5sZW5ndGgpIHsgLyogY29tcGxldGVseSBuZXcgc2hhZG93ICovXG5cdFx0aWYgKGJsb2NrcykgeyBEQVRBLnB1c2goQSwgQik7IH0gXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdHZhciBjb3VudCA9IDA7XG5cdFxuXHRpZiAoaW5kZXggJSAyKSB7IC8qIHRoaXMgc2hhZG93IHN0YXJ0cyBpbiBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdpdGhpbiBpdHMgZW5kaW5nIGJvdW5kYXJ5ICovXG5cdFx0d2hpbGUgKGluZGV4IDwgREFUQS5sZW5ndGggJiYgREFUQVtpbmRleF0gPCBCKSB7XG5cdFx0XHRpbmRleCsrO1xuXHRcdFx0Y291bnQrKztcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGNvdW50ID09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XG5cdFx0aWYgKGJsb2NrcykgeyBcblx0XHRcdGlmIChjb3VudCAlIDIpIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50LCBCKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH0gZWxzZSB7IC8qIHRoaXMgc2hhZG93IHN0YXJ0cyBvdXRzaWRlIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2l0aGluIGEgc3RhcnRpbmcgYm91bmRhcnkgKi9cblx0XHR3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEIpIHtcblx0XHRcdGluZGV4Kys7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblx0XHRcblx0XHQvKiB2aXNpYmxlIHdoZW4gb3V0c2lkZSBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdoZW4gb3ZlcmxhcHBpbmcgKi9cblx0XHRpZiAoQSA9PSBEQVRBW2luZGV4LWNvdW50XSAmJiBjb3VudCA9PSAxKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmIChibG9ja3MpIHsgXG5cdFx0XHRpZiAoY291bnQgJSAyKSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCwgQSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHREQVRBLnNwbGljZShpbmRleC1jb3VudCwgY291bnQsIEEsIEIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcdFxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBQcmVjaXNlIHNoYWRvd2Nhc3RpbmcgYWxnb3JpdGhtXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nLmV4dGVuZChST1QuRk9WKTtcblxuLyoqXG4gKiBAc2VlIFJPVC5GT1YjY29tcHV0ZVxuICovXG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0LyogdGhpcyBwbGFjZSBpcyBhbHdheXMgdmlzaWJsZSAqL1xuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblxuXHQvKiBzdGFuZGluZyBpbiBhIGRhcmsgcGxhY2UuIEZJWE1FIGlzIHRoaXMgYSBnb29kIGlkZWE/ICAqL1xuXHRpZiAoIXRoaXMuX2xpZ2h0UGFzc2VzKHgsIHkpKSB7IHJldHVybjsgfVxuXHRcblx0LyogbGlzdCBvZiBhbGwgc2hhZG93cyAqL1xuXHR2YXIgU0hBRE9XUyA9IFtdO1xuXHRcblx0dmFyIGN4LCBjeSwgYmxvY2tzLCBBMSwgQTIsIHZpc2liaWxpdHk7XG5cblx0LyogYW5hbHl6ZSBzdXJyb3VuZGluZyBjZWxscyBpbiBjb25jZW50cmljIHJpbmdzLCBzdGFydGluZyBmcm9tIHRoZSBjZW50ZXIgKi9cblx0Zm9yICh2YXIgcj0xOyByPD1SOyByKyspIHtcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0Q2lyY2xlKHgsIHksIHIpO1xuXHRcdHZhciBuZWlnaGJvckNvdW50ID0gbmVpZ2hib3JzLmxlbmd0aDtcblxuXHRcdGZvciAodmFyIGk9MDtpPG5laWdoYm9yQ291bnQ7aSsrKSB7XG5cdFx0XHRjeCA9IG5laWdoYm9yc1tpXVswXTtcblx0XHRcdGN5ID0gbmVpZ2hib3JzW2ldWzFdO1xuXHRcdFx0Lyogc2hpZnQgaGFsZi1hbi1hbmdsZSBiYWNrd2FyZHMgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3kgb2YgMC10aCBjZWxscyAqL1xuXHRcdFx0QTEgPSBbaSA/IDIqaS0xIDogMipuZWlnaGJvckNvdW50LTEsIDIqbmVpZ2hib3JDb3VudF07XG5cdFx0XHRBMiA9IFsyKmkrMSwgMipuZWlnaGJvckNvdW50XTsgXG5cdFx0XHRcblx0XHRcdGJsb2NrcyA9ICF0aGlzLl9saWdodFBhc3NlcyhjeCwgY3kpO1xuXHRcdFx0dmlzaWJpbGl0eSA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShBMSwgQTIsIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0XHRpZiAodmlzaWJpbGl0eSkgeyBjYWxsYmFjayhjeCwgY3ksIHIsIHZpc2liaWxpdHkpOyB9XG5cblx0XHRcdGlmIChTSEFET1dTLmxlbmd0aCA9PSAyICYmIFNIQURPV1NbMF1bMF0gPT0gMCAmJiBTSEFET1dTWzFdWzBdID09IFNIQURPV1NbMV1bMV0pIHsgcmV0dXJuOyB9IC8qIGN1dG9mZj8gKi9cblxuXHRcdH0gLyogZm9yIGFsbCBjZWxscyBpbiB0aGlzIHJpbmcgKi9cblx0fSAvKiBmb3IgYWxsIHJpbmdzICovXG59XG5cbi8qKlxuICogQHBhcmFtIHtpbnRbMl19IEExIGFyYyBzdGFydFxuICogQHBhcmFtIHtpbnRbMl19IEEyIGFyYyBlbmRcbiAqIEBwYXJhbSB7Ym9vbH0gYmxvY2tzIERvZXMgY3VycmVudCBhcmMgYmxvY2sgdmlzaWJpbGl0eT9cbiAqIEBwYXJhbSB7aW50W11bXX0gU0hBRE9XUyBsaXN0IG9mIGFjdGl2ZSBzaGFkb3dzXG4gKi9cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl9jaGVja1Zpc2liaWxpdHkgPSBmdW5jdGlvbihBMSwgQTIsIGJsb2NrcywgU0hBRE9XUykge1xuXHRpZiAoQTFbMF0gPiBBMlswXSkgeyAvKiBzcGxpdCBpbnRvIHR3byBzdWItYXJjcyAqL1xuXHRcdHZhciB2MSA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShBMSwgW0ExWzFdLCBBMVsxXV0sIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0dmFyIHYyID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KFswLCAxXSwgQTIsIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0cmV0dXJuICh2MSt2MikvMjtcblx0fVxuXG5cdC8qIGluZGV4MTogZmlyc3Qgc2hhZG93ID49IEExICovXG5cdHZhciBpbmRleDEgPSAwLCBlZGdlMSA9IGZhbHNlO1xuXHR3aGlsZSAoaW5kZXgxIDwgU0hBRE9XUy5sZW5ndGgpIHtcblx0XHR2YXIgb2xkID0gU0hBRE9XU1tpbmRleDFdO1xuXHRcdHZhciBkaWZmID0gb2xkWzBdKkExWzFdIC0gQTFbMF0qb2xkWzFdO1xuXHRcdGlmIChkaWZmID49IDApIHsgLyogb2xkID49IEExICovXG5cdFx0XHRpZiAoZGlmZiA9PSAwICYmICEoaW5kZXgxICUgMikpIHsgZWRnZTEgPSB0cnVlOyB9XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0aW5kZXgxKys7XG5cdH1cblxuXHQvKiBpbmRleDI6IGxhc3Qgc2hhZG93IDw9IEEyICovXG5cdHZhciBpbmRleDIgPSBTSEFET1dTLmxlbmd0aCwgZWRnZTIgPSBmYWxzZTtcblx0d2hpbGUgKGluZGV4Mi0tKSB7XG5cdFx0dmFyIG9sZCA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHR2YXIgZGlmZiA9IEEyWzBdKm9sZFsxXSAtIG9sZFswXSpBMlsxXTtcblx0XHRpZiAoZGlmZiA+PSAwKSB7IC8qIG9sZCA8PSBBMiAqL1xuXHRcdFx0aWYgKGRpZmYgPT0gMCAmJiAoaW5kZXgyICUgMikpIHsgZWRnZTIgPSB0cnVlOyB9XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHR2YXIgdmlzaWJsZSA9IHRydWU7XG5cdGlmIChpbmRleDEgPT0gaW5kZXgyICYmIChlZGdlMSB8fCBlZGdlMikpIHsgIC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG9uZSBvZiB0aGUgZWRnZXMgbWF0Y2ggKi9cblx0XHR2aXNpYmxlID0gZmFsc2U7IFxuXHR9IGVsc2UgaWYgKGVkZ2UxICYmIGVkZ2UyICYmIGluZGV4MSsxPT1pbmRleDIgJiYgKGluZGV4MiAlIDIpKSB7IC8qIGNvbXBsZXRlbHkgZXF1aXZhbGVudCB3aXRoIGV4aXN0aW5nIHNoYWRvdyAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTtcblx0fSBlbHNlIGlmIChpbmRleDEgPiBpbmRleDIgJiYgKGluZGV4MSAlIDIpKSB7IC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG5vdCB0b3VjaGluZyAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTtcblx0fVxuXHRcblx0aWYgKCF2aXNpYmxlKSB7IHJldHVybiAwOyB9IC8qIGZhc3QgY2FzZTogbm90IHZpc2libGUgKi9cblx0XG5cdHZhciB2aXNpYmxlTGVuZ3RoLCBQO1xuXG5cdC8qIGNvbXB1dGUgdGhlIGxlbmd0aCBvZiB2aXNpYmxlIGFyYywgYWRqdXN0IGxpc3Qgb2Ygc2hhZG93cyAoaWYgYmxvY2tpbmcpICovXG5cdHZhciByZW1vdmUgPSBpbmRleDItaW5kZXgxKzE7XG5cdGlmIChyZW1vdmUgJSAyKSB7XG5cdFx0aWYgKGluZGV4MSAlIDIpIHsgLyogZmlyc3QgZWRnZSB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93LCBzZWNvbmQgb3V0c2lkZSAqL1xuXHRcdFx0dmFyIFAgPSBTSEFET1dTW2luZGV4MV07XG5cdFx0XHR2aXNpYmxlTGVuZ3RoID0gKEEyWzBdKlBbMV0gLSBQWzBdKkEyWzFdKSAvIChQWzFdICogQTJbMV0pO1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTIpOyB9XG5cdFx0fSBlbHNlIHsgLyogc2Vjb25kIGVkZ2Ugd2l0aGluIGV4aXN0aW5nIHNoYWRvdywgZmlyc3Qgb3V0c2lkZSAqL1xuXHRcdFx0dmFyIFAgPSBTSEFET1dTW2luZGV4Ml07XG5cdFx0XHR2aXNpYmxlTGVuZ3RoID0gKFBbMF0qQTFbMV0gLSBBMVswXSpQWzFdKSAvIChBMVsxXSAqIFBbMV0pO1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTEpOyB9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmIChpbmRleDEgJSAyKSB7IC8qIGJvdGggZWRnZXMgd2l0aGluIGV4aXN0aW5nIHNoYWRvd3MgKi9cblx0XHRcdHZhciBQMSA9IFNIQURPV1NbaW5kZXgxXTtcblx0XHRcdHZhciBQMiA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHRcdHZpc2libGVMZW5ndGggPSAoUDJbMF0qUDFbMV0gLSBQMVswXSpQMlsxXSkgLyAoUDFbMV0gKiBQMlsxXSk7XG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlKTsgfVxuXHRcdH0gZWxzZSB7IC8qIGJvdGggZWRnZXMgb3V0c2lkZSBleGlzdGluZyBzaGFkb3dzICovXG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSwgQTIpOyB9XG5cdFx0XHRyZXR1cm4gMTsgLyogd2hvbGUgYXJjIHZpc2libGUhICovXG5cdFx0fVxuXHR9XG5cblx0dmFyIGFyY0xlbmd0aCA9IChBMlswXSpBMVsxXSAtIEExWzBdKkEyWzFdKSAvIChBMVsxXSAqIEEyWzFdKTtcblxuXHRyZXR1cm4gdmlzaWJsZUxlbmd0aC9hcmNMZW5ndGg7XG59XG4vKipcbiAqIEBjbGFzcyBSZWN1cnNpdmUgc2hhZG93Y2FzdGluZyBhbGdvcml0aG1cbiAqIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIDQvOCB0b3BvbG9naWVzLCBub3QgaGV4YWdvbmFsLlxuICogQmFzZWQgb24gUGV0ZXIgSGFya2lucycgaW1wbGVtZW50YXRpb24gb2YgQmrDtnJuIEJlcmdzdHLDtm0ncyBhbGdvcml0aG0gZGVzY3JpYmVkIGhlcmU6IGh0dHA6Ly93d3cucm9ndWViYXNpbi5jb20vaW5kZXgucGhwP3RpdGxlPUZPVl91c2luZ19yZWN1cnNpdmVfc2hhZG93Y2FzdGluZ1xuICogQGF1Z21lbnRzIFJPVC5GT1ZcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKiogT2N0YW50cyB1c2VkIGZvciB0cmFuc2xhdGluZyByZWN1cnNpdmUgc2hhZG93Y2FzdGluZyBvZmZzZXRzICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UUyA9IFtcblx0Wy0xLCAgMCwgIDAsICAxXSxcblx0WyAwLCAtMSwgIDEsICAwXSxcblx0WyAwLCAtMSwgLTEsICAwXSxcblx0Wy0xLCAgMCwgIDAsIC0xXSxcblx0WyAxLCAgMCwgIDAsIC0xXSxcblx0WyAwLCAgMSwgLTEsICAwXSxcblx0WyAwLCAgMSwgIDEsICAwXSxcblx0WyAxLCAgMCwgIDAsICAxXVxuXTtcblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMzYwLWRlZ3JlZSBjaXJjbGVcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0Ly9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW2ldLCBSLCBjYWxsYmFjayk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMTgwLWRlZ3JlZSBhcmNcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtpbnR9IGRpciBEaXJlY3Rpb24gdG8gbG9vayBpbiAoZXhwcmVzc2VkIGluIGEgUk9ULkRJUlMgdmFsdWUpO1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlMTgwID0gZnVuY3Rpb24oeCwgeSwgUiwgZGlyLCBjYWxsYmFjaykge1xuXHQvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXHR2YXIgcHJldmlvdXNPY3RhbnQgPSAoZGlyIC0gMSArIDgpICUgODsgLy9OZWVkIHRvIHJldHJpZXZlIHRoZSBwcmV2aW91cyBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR2YXIgbmV4dFByZXZpb3VzT2N0YW50ID0gKGRpciAtIDIgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgdHdvIG9jdGFudHMgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR2YXIgbmV4dE9jdGFudCA9IChkaXIrIDEgKyA4KSAlIDg7IC8vTmVlZCB0byBncmFiIHRvIG5leHQgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgMTgwIGRlZ3JlZXNcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW25leHRQcmV2aW91c09jdGFudF0sIFIsIGNhbGxiYWNrKTtcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW3ByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbZGlyXSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbbmV4dE9jdGFudF0sIFIsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgOTAtZGVncmVlIGFyY1xuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2ludH0gZGlyIERpcmVjdGlvbiB0byBsb29rIGluIChleHByZXNzZWQgaW4gYSBST1QuRElSUyB2YWx1ZSk7XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGU5MCA9IGZ1bmN0aW9uKHgsIHksIFIsIGRpciwgY2FsbGJhY2spIHtcblx0Ly9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblx0dmFyIHByZXZpb3VzT2N0YW50ID0gKGRpciAtIDEgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgOTAgZGVncmVlc1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbZGlyXSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbcHJldmlvdXNPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogUmVuZGVyIG9uZSBvY3RhbnQgKDQ1LWRlZ3JlZSBhcmMpIG9mIHRoZSB2aWV3c2hlZFxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gb2N0YW50IE9jdGFudCB0byBiZSByZW5kZXJlZFxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fcmVuZGVyT2N0YW50ID0gZnVuY3Rpb24oeCwgeSwgb2N0YW50LCBSLCBjYWxsYmFjaykge1xuXHQvL1JhZGl1cyBpbmNyZW1lbnRlZCBieSAxIHRvIHByb3ZpZGUgc2FtZSBjb3ZlcmFnZSBhcmVhIGFzIG90aGVyIHNoYWRvd2Nhc3RpbmcgcmFkaXVzZXNcblx0dGhpcy5fY2FzdFZpc2liaWxpdHkoeCwgeSwgMSwgMS4wLCAwLjAsIFIgKyAxLCBvY3RhbnRbMF0sIG9jdGFudFsxXSwgb2N0YW50WzJdLCBvY3RhbnRbM10sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBBY3R1YWxseSBjYWxjdWxhdGVzIHRoZSB2aXNpYmlsaXR5XG4gKiBAcGFyYW0ge2ludH0gc3RhcnRYIFRoZSBzdGFydGluZyBYIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7aW50fSBzdGFydFkgVGhlIHN0YXJ0aW5nIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtpbnR9IHJvdyBUaGUgcm93IHRvIHJlbmRlclxuICogQHBhcmFtIHtmbG9hdH0gdmlzU2xvcGVTdGFydCBUaGUgc2xvcGUgdG8gc3RhcnQgYXRcbiAqIEBwYXJhbSB7ZmxvYXR9IHZpc1Nsb3BlRW5kIFRoZSBzbG9wZSB0byBlbmQgYXRcbiAqIEBwYXJhbSB7aW50fSByYWRpdXMgVGhlIHJhZGl1cyB0byByZWFjaCBvdXQgdG9cbiAqIEBwYXJhbSB7aW50fSB4eCBcbiAqIEBwYXJhbSB7aW50fSB4eSBcbiAqIEBwYXJhbSB7aW50fSB5eCBcbiAqIEBwYXJhbSB7aW50fSB5eSBcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byB1c2Ugd2hlbiB3ZSBoaXQgYSBibG9jayB0aGF0IGlzIHZpc2libGVcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fY2FzdFZpc2liaWxpdHkgPSBmdW5jdGlvbihzdGFydFgsIHN0YXJ0WSwgcm93LCB2aXNTbG9wZVN0YXJ0LCB2aXNTbG9wZUVuZCwgcmFkaXVzLCB4eCwgeHksIHl4LCB5eSwgY2FsbGJhY2spIHtcblx0aWYodmlzU2xvcGVTdGFydCA8IHZpc1Nsb3BlRW5kKSB7IHJldHVybjsgfVxuXHRmb3IodmFyIGkgPSByb3c7IGkgPD0gcmFkaXVzOyBpKyspIHtcblx0XHR2YXIgZHggPSAtaSAtIDE7XG5cdFx0dmFyIGR5ID0gLWk7XG5cdFx0dmFyIGJsb2NrZWQgPSBmYWxzZTtcblx0XHR2YXIgbmV3U3RhcnQgPSAwO1xuXG5cdFx0Ly8nUm93JyBjb3VsZCBiZSBjb2x1bW4sIG5hbWVzIGhlcmUgYXNzdW1lIG9jdGFudCAwIGFuZCB3b3VsZCBiZSBmbGlwcGVkIGZvciBoYWxmIHRoZSBvY3RhbnRzXG5cdFx0d2hpbGUoZHggPD0gMCkge1xuXHRcdFx0ZHggKz0gMTtcblxuXHRcdFx0Ly9UcmFuc2xhdGUgZnJvbSByZWxhdGl2ZSBjb29yZGluYXRlcyB0byBtYXAgY29vcmRpbmF0ZXNcblx0XHRcdHZhciBtYXBYID0gc3RhcnRYICsgZHggKiB4eCArIGR5ICogeHk7XG5cdFx0XHR2YXIgbWFwWSA9IHN0YXJ0WSArIGR4ICogeXggKyBkeSAqIHl5O1xuXG5cdFx0XHQvL1JhbmdlIG9mIHRoZSByb3dcblx0XHRcdHZhciBzbG9wZVN0YXJ0ID0gKGR4IC0gMC41KSAvIChkeSArIDAuNSk7XG5cdFx0XHR2YXIgc2xvcGVFbmQgPSAoZHggKyAwLjUpIC8gKGR5IC0gMC41KTtcblx0XHRcblx0XHRcdC8vSWdub3JlIGlmIG5vdCB5ZXQgYXQgbGVmdCBlZGdlIG9mIE9jdGFudFxuXHRcdFx0aWYoc2xvcGVFbmQgPiB2aXNTbG9wZVN0YXJ0KSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRcblx0XHRcdC8vRG9uZSBpZiBwYXN0IHJpZ2h0IGVkZ2Vcblx0XHRcdGlmKHNsb3BlU3RhcnQgPCB2aXNTbG9wZUVuZCkgeyBicmVhazsgfVxuXHRcdFx0XHRcblx0XHRcdC8vSWYgaXQncyBpbiByYW5nZSwgaXQncyB2aXNpYmxlXG5cdFx0XHRpZigoZHggKiBkeCArIGR5ICogZHkpIDwgKHJhZGl1cyAqIHJhZGl1cykpIHtcblx0XHRcdFx0Y2FsbGJhY2sobWFwWCwgbWFwWSwgaSwgMSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYoIWJsb2NrZWQpIHtcblx0XHRcdFx0Ly9JZiB0aWxlIGlzIGEgYmxvY2tpbmcgdGlsZSwgY2FzdCBhcm91bmQgaXRcblx0XHRcdFx0aWYoIXRoaXMuX2xpZ2h0UGFzc2VzKG1hcFgsIG1hcFkpICYmIGkgPCByYWRpdXMpIHtcblx0XHRcdFx0XHRibG9ja2VkID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9jYXN0VmlzaWJpbGl0eShzdGFydFgsIHN0YXJ0WSwgaSArIDEsIHZpc1Nsb3BlU3RhcnQsIHNsb3BlU3RhcnQsIHJhZGl1cywgeHgsIHh5LCB5eCwgeXksIGNhbGxiYWNrKTtcblx0XHRcdFx0XHRuZXdTdGFydCA9IHNsb3BlRW5kO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL0tlZXAgbmFycm93aW5nIGlmIHNjYW5uaW5nIGFjcm9zcyBhIGJsb2NrXG5cdFx0XHRcdGlmKCF0aGlzLl9saWdodFBhc3NlcyhtYXBYLCBtYXBZKSkge1xuXHRcdFx0XHRcdG5ld1N0YXJ0ID0gc2xvcGVFbmQ7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFxuXHRcdFx0XHQvL0Jsb2NrIGhhcyBlbmRlZFxuXHRcdFx0XHRibG9ja2VkID0gZmFsc2U7XG5cdFx0XHRcdHZpc1Nsb3BlU3RhcnQgPSBuZXdTdGFydDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoYmxvY2tlZCkgeyBicmVhazsgfVxuXHR9XG59XG4vKipcbiAqIEBuYW1lc3BhY2UgQ29sb3Igb3BlcmF0aW9uc1xuICovXG5ST1QuQ29sb3IgPSB7XG5cdGZyb21TdHJpbmc6IGZ1bmN0aW9uKHN0cikge1xuXHRcdHZhciBjYWNoZWQsIHI7XG5cdFx0aWYgKHN0ciBpbiB0aGlzLl9jYWNoZSkge1xuXHRcdFx0Y2FjaGVkID0gdGhpcy5fY2FjaGVbc3RyXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHN0ci5jaGFyQXQoMCkgPT0gXCIjXCIpIHsgLyogaGV4IHJnYiAqL1xuXG5cdFx0XHRcdHZhciB2YWx1ZXMgPSBzdHIubWF0Y2goL1swLTlhLWZdL2dpKS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gcGFyc2VJbnQoeCwgMTYpOyB9KTtcblx0XHRcdFx0aWYgKHZhbHVlcy5sZW5ndGggPT0gMykge1xuXHRcdFx0XHRcdGNhY2hlZCA9IHZhbHVlcy5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4geCoxNzsgfSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdFx0XHRcdHZhbHVlc1tpKzFdICs9IDE2KnZhbHVlc1tpXTtcblx0XHRcdFx0XHRcdHZhbHVlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhY2hlZCA9IHZhbHVlcztcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYgKChyID0gc3RyLm1hdGNoKC9yZ2JcXCgoWzAtOSwgXSspXFwpL2kpKSkgeyAvKiBkZWNpbWFsIHJnYiAqL1xuXHRcdFx0XHRjYWNoZWQgPSByWzFdLnNwbGl0KC9cXHMqLFxccyovKS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gcGFyc2VJbnQoeCk7IH0pO1xuXHRcdFx0fSBlbHNlIHsgLyogaHRtbCBuYW1lICovXG5cdFx0XHRcdGNhY2hlZCA9IFswLCAwLCAwXTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY2FjaGVbc3RyXSA9IGNhY2hlZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2FjaGVkLnNsaWNlKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEFkZCB0d28gb3IgbW9yZSBjb2xvcnNcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRhZGQ6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRyZXN1bHRbaV0gKz0gYXJndW1lbnRzW2pdW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBBZGQgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGFkZF86IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MTtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdGNvbG9yMVtpXSArPSBhcmd1bWVudHNbal1baV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjb2xvcjE7XG5cdH0sXG5cblx0LyoqXG5cdCAqIE11bHRpcGx5IChtaXgpIHR3byBvciBtb3JlIGNvbG9yc1xuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdG11bHRpcGx5OiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuXHRcdHZhciByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0cmVzdWx0W2ldICo9IGFyZ3VtZW50c1tqXVtpXSAvIDI1NTtcblx0XHRcdH1cblx0XHRcdHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdG11bHRpcGx5XzogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0Y29sb3IxW2ldICo9IGFyZ3VtZW50c1tqXVtpXSAvIDI1NTtcblx0XHRcdH1cblx0XHRcdGNvbG9yMVtpXSA9IE1hdGgucm91bmQoY29sb3IxW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNvbG9yMTtcblx0fSxcblxuXHQvKipcblx0ICogSW50ZXJwb2xhdGUgKGJsZW5kKSB0d28gY29sb3JzIHdpdGggYSBnaXZlbiBmYWN0b3Jcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbZmFjdG9yPTAuNV0gMC4uMVxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRpbnRlcnBvbGF0ZTogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIsIGZhY3Rvcikge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykgeyBmYWN0b3IgPSAwLjU7IH1cblx0XHR2YXIgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldICsgZmFjdG9yKihjb2xvcjJbaV0tY29sb3IxW2ldKSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEludGVycG9sYXRlIChibGVuZCkgdHdvIGNvbG9ycyB3aXRoIGEgZ2l2ZW4gZmFjdG9yIGluIEhTTCBtb2RlXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHBhcmFtIHtmbG9hdH0gW2ZhY3Rvcj0wLjVdIDAuLjFcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0aW50ZXJwb2xhdGVIU0w6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCBmYWN0b3IpIHtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHsgZmFjdG9yID0gMC41OyB9XG5cdFx0dmFyIGhzbDEgPSB0aGlzLnJnYjJoc2woY29sb3IxKTtcblx0XHR2YXIgaHNsMiA9IHRoaXMucmdiMmhzbChjb2xvcjIpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRoc2wxW2ldICs9IGZhY3RvciooaHNsMltpXS1oc2wxW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuaHNsMnJnYihoc2wxKTtcblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IHJhbmRvbSBjb2xvciBiYXNlZCBvbiB0aGlzIG9uZVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBkaWZmIFNldCBvZiBzdGFuZGFyZCBkZXZpYXRpb25zXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdHJhbmRvbWl6ZTogZnVuY3Rpb24oY29sb3IsIGRpZmYpIHtcblx0XHRpZiAoIShkaWZmIGluc3RhbmNlb2YgQXJyYXkpKSB7IGRpZmYgPSBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0Tm9ybWFsKDAsIGRpZmYpKTsgfVxuXHRcdHZhciByZXN1bHQgPSBjb2xvci5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRyZXN1bHRbaV0gKz0gKGRpZmYgaW5zdGFuY2VvZiBBcnJheSA/IE1hdGgucm91bmQoUk9ULlJORy5nZXROb3JtYWwoMCwgZGlmZltpXSkpIDogZGlmZik7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuIEV4cGVjdHMgMC4uMjU1IGlucHV0cywgcHJvZHVjZXMgMC4uMSBvdXRwdXRzLlxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRyZ2IyaHNsOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHZhciByID0gY29sb3JbMF0vMjU1O1xuXHRcdHZhciBnID0gY29sb3JbMV0vMjU1O1xuXHRcdHZhciBiID0gY29sb3JbMl0vMjU1O1xuXG5cdFx0dmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpLCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcblx0XHR2YXIgaCwgcywgbCA9IChtYXggKyBtaW4pIC8gMjtcblxuXHRcdGlmIChtYXggPT0gbWluKSB7XG5cdFx0XHRoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGQgPSBtYXggLSBtaW47XG5cdFx0XHRzID0gKGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pKTtcblx0XHRcdHN3aXRjaChtYXgpIHtcblx0XHRcdFx0Y2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aCAvPSA2O1xuXHRcdH1cblxuXHRcdHJldHVybiBbaCwgcywgbF07XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGFuIEhTTCBjb2xvciB2YWx1ZSB0byBSR0IuIEV4cGVjdHMgMC4uMSBpbnB1dHMsIHByb2R1Y2VzIDAuLjI1NSBvdXRwdXRzLlxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRoc2wycmdiOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHZhciBsID0gY29sb3JbMl07XG5cblx0XHRpZiAoY29sb3JbMV0gPT0gMCkge1xuXHRcdFx0bCA9IE1hdGgucm91bmQobCoyNTUpO1xuXHRcdFx0cmV0dXJuIFtsLCBsLCBsXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGh1ZTJyZ2IgPSBmdW5jdGlvbihwLCBxLCB0KSB7XG5cdFx0XHRcdGlmICh0IDwgMCkgdCArPSAxO1xuXHRcdFx0XHRpZiAodCA+IDEpIHQgLT0gMTtcblx0XHRcdFx0aWYgKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuXHRcdFx0XHRpZiAodCA8IDEvMikgcmV0dXJuIHE7XG5cdFx0XHRcdGlmICh0IDwgMi8zKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2O1xuXHRcdFx0XHRyZXR1cm4gcDtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHMgPSBjb2xvclsxXTtcblx0XHRcdHZhciBxID0gKGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHMpO1xuXHRcdFx0dmFyIHAgPSAyICogbCAtIHE7XG5cdFx0XHR2YXIgciA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0gKyAxLzMpO1xuXHRcdFx0dmFyIGcgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdKTtcblx0XHRcdHZhciBiID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSAtIDEvMyk7XG5cdFx0XHRyZXR1cm4gW01hdGgucm91bmQocioyNTUpLCBNYXRoLnJvdW5kKGcqMjU1KSwgTWF0aC5yb3VuZChiKjI1NSldO1xuXHRcdH1cblx0fSxcblxuXHR0b1JHQjogZnVuY3Rpb24oY29sb3IpIHtcblx0XHRyZXR1cm4gXCJyZ2IoXCIgKyB0aGlzLl9jbGFtcChjb2xvclswXSkgKyBcIixcIiArIHRoaXMuX2NsYW1wKGNvbG9yWzFdKSArIFwiLFwiICsgdGhpcy5fY2xhbXAoY29sb3JbMl0pICsgXCIpXCI7XG5cdH0sXG5cblx0dG9IZXg6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0dmFyIHBhcnRzID0gW107XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHBhcnRzLnB1c2godGhpcy5fY2xhbXAoY29sb3JbaV0pLnRvU3RyaW5nKDE2KS5scGFkKFwiMFwiLCAyKSk7XG5cdFx0fVxuXHRcdHJldHVybiBcIiNcIiArIHBhcnRzLmpvaW4oXCJcIik7XG5cdH0sXG5cblx0X2NsYW1wOiBmdW5jdGlvbihudW0pIHtcblx0XHRpZiAobnVtIDwgMCkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fSBlbHNlIGlmIChudW0gPiAyNTUpIHtcblx0XHRcdHJldHVybiAyNTU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudW07XG5cdFx0fVxuXHR9LFxuXG5cdF9jYWNoZToge1xuXHRcdFwiYmxhY2tcIjogWzAsMCwwXSxcblx0XHRcIm5hdnlcIjogWzAsMCwxMjhdLFxuXHRcdFwiZGFya2JsdWVcIjogWzAsMCwxMzldLFxuXHRcdFwibWVkaXVtYmx1ZVwiOiBbMCwwLDIwNV0sXG5cdFx0XCJibHVlXCI6IFswLDAsMjU1XSxcblx0XHRcImRhcmtncmVlblwiOiBbMCwxMDAsMF0sXG5cdFx0XCJncmVlblwiOiBbMCwxMjgsMF0sXG5cdFx0XCJ0ZWFsXCI6IFswLDEyOCwxMjhdLFxuXHRcdFwiZGFya2N5YW5cIjogWzAsMTM5LDEzOV0sXG5cdFx0XCJkZWVwc2t5Ymx1ZVwiOiBbMCwxOTEsMjU1XSxcblx0XHRcImRhcmt0dXJxdW9pc2VcIjogWzAsMjA2LDIwOV0sXG5cdFx0XCJtZWRpdW1zcHJpbmdncmVlblwiOiBbMCwyNTAsMTU0XSxcblx0XHRcImxpbWVcIjogWzAsMjU1LDBdLFxuXHRcdFwic3ByaW5nZ3JlZW5cIjogWzAsMjU1LDEyN10sXG5cdFx0XCJhcXVhXCI6IFswLDI1NSwyNTVdLFxuXHRcdFwiY3lhblwiOiBbMCwyNTUsMjU1XSxcblx0XHRcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsMjUsMTEyXSxcblx0XHRcImRvZGdlcmJsdWVcIjogWzMwLDE0NCwyNTVdLFxuXHRcdFwiZm9yZXN0Z3JlZW5cIjogWzM0LDEzOSwzNF0sXG5cdFx0XCJzZWFncmVlblwiOiBbNDYsMTM5LDg3XSxcblx0XHRcImRhcmtzbGF0ZWdyYXlcIjogWzQ3LDc5LDc5XSxcblx0XHRcImRhcmtzbGF0ZWdyZXlcIjogWzQ3LDc5LDc5XSxcblx0XHRcImxpbWVncmVlblwiOiBbNTAsMjA1LDUwXSxcblx0XHRcIm1lZGl1bXNlYWdyZWVuXCI6IFs2MCwxNzksMTEzXSxcblx0XHRcInR1cnF1b2lzZVwiOiBbNjQsMjI0LDIwOF0sXG5cdFx0XCJyb3lhbGJsdWVcIjogWzY1LDEwNSwyMjVdLFxuXHRcdFwic3RlZWxibHVlXCI6IFs3MCwxMzAsMTgwXSxcblx0XHRcImRhcmtzbGF0ZWJsdWVcIjogWzcyLDYxLDEzOV0sXG5cdFx0XCJtZWRpdW10dXJxdW9pc2VcIjogWzcyLDIwOSwyMDRdLFxuXHRcdFwiaW5kaWdvXCI6IFs3NSwwLDEzMF0sXG5cdFx0XCJkYXJrb2xpdmVncmVlblwiOiBbODUsMTA3LDQ3XSxcblx0XHRcImNhZGV0Ymx1ZVwiOiBbOTUsMTU4LDE2MF0sXG5cdFx0XCJjb3JuZmxvd2VyYmx1ZVwiOiBbMTAwLDE0OSwyMzddLFxuXHRcdFwibWVkaXVtYXF1YW1hcmluZVwiOiBbMTAyLDIwNSwxNzBdLFxuXHRcdFwiZGltZ3JheVwiOiBbMTA1LDEwNSwxMDVdLFxuXHRcdFwiZGltZ3JleVwiOiBbMTA1LDEwNSwxMDVdLFxuXHRcdFwic2xhdGVibHVlXCI6IFsxMDYsOTAsMjA1XSxcblx0XHRcIm9saXZlZHJhYlwiOiBbMTA3LDE0MiwzNV0sXG5cdFx0XCJzbGF0ZWdyYXlcIjogWzExMiwxMjgsMTQ0XSxcblx0XHRcInNsYXRlZ3JleVwiOiBbMTEyLDEyOCwxNDRdLFxuXHRcdFwibGlnaHRzbGF0ZWdyYXlcIjogWzExOSwxMzYsMTUzXSxcblx0XHRcImxpZ2h0c2xhdGVncmV5XCI6IFsxMTksMTM2LDE1M10sXG5cdFx0XCJtZWRpdW1zbGF0ZWJsdWVcIjogWzEyMywxMDQsMjM4XSxcblx0XHRcImxhd25ncmVlblwiOiBbMTI0LDI1MiwwXSxcblx0XHRcImNoYXJ0cmV1c2VcIjogWzEyNywyNTUsMF0sXG5cdFx0XCJhcXVhbWFyaW5lXCI6IFsxMjcsMjU1LDIxMl0sXG5cdFx0XCJtYXJvb25cIjogWzEyOCwwLDBdLFxuXHRcdFwicHVycGxlXCI6IFsxMjgsMCwxMjhdLFxuXHRcdFwib2xpdmVcIjogWzEyOCwxMjgsMF0sXG5cdFx0XCJncmF5XCI6IFsxMjgsMTI4LDEyOF0sXG5cdFx0XCJncmV5XCI6IFsxMjgsMTI4LDEyOF0sXG5cdFx0XCJza3libHVlXCI6IFsxMzUsMjA2LDIzNV0sXG5cdFx0XCJsaWdodHNreWJsdWVcIjogWzEzNSwyMDYsMjUwXSxcblx0XHRcImJsdWV2aW9sZXRcIjogWzEzOCw0MywyMjZdLFxuXHRcdFwiZGFya3JlZFwiOiBbMTM5LDAsMF0sXG5cdFx0XCJkYXJrbWFnZW50YVwiOiBbMTM5LDAsMTM5XSxcblx0XHRcInNhZGRsZWJyb3duXCI6IFsxMzksNjksMTldLFxuXHRcdFwiZGFya3NlYWdyZWVuXCI6IFsxNDMsMTg4LDE0M10sXG5cdFx0XCJsaWdodGdyZWVuXCI6IFsxNDQsMjM4LDE0NF0sXG5cdFx0XCJtZWRpdW1wdXJwbGVcIjogWzE0NywxMTIsMjE2XSxcblx0XHRcImRhcmt2aW9sZXRcIjogWzE0OCwwLDIxMV0sXG5cdFx0XCJwYWxlZ3JlZW5cIjogWzE1MiwyNTEsMTUyXSxcblx0XHRcImRhcmtvcmNoaWRcIjogWzE1Myw1MCwyMDRdLFxuXHRcdFwieWVsbG93Z3JlZW5cIjogWzE1NCwyMDUsNTBdLFxuXHRcdFwic2llbm5hXCI6IFsxNjAsODIsNDVdLFxuXHRcdFwiYnJvd25cIjogWzE2NSw0Miw0Ml0sXG5cdFx0XCJkYXJrZ3JheVwiOiBbMTY5LDE2OSwxNjldLFxuXHRcdFwiZGFya2dyZXlcIjogWzE2OSwxNjksMTY5XSxcblx0XHRcImxpZ2h0Ymx1ZVwiOiBbMTczLDIxNiwyMzBdLFxuXHRcdFwiZ3JlZW55ZWxsb3dcIjogWzE3MywyNTUsNDddLFxuXHRcdFwicGFsZXR1cnF1b2lzZVwiOiBbMTc1LDIzOCwyMzhdLFxuXHRcdFwibGlnaHRzdGVlbGJsdWVcIjogWzE3NiwxOTYsMjIyXSxcblx0XHRcInBvd2RlcmJsdWVcIjogWzE3NiwyMjQsMjMwXSxcblx0XHRcImZpcmVicmlja1wiOiBbMTc4LDM0LDM0XSxcblx0XHRcImRhcmtnb2xkZW5yb2RcIjogWzE4NCwxMzQsMTFdLFxuXHRcdFwibWVkaXVtb3JjaGlkXCI6IFsxODYsODUsMjExXSxcblx0XHRcInJvc3licm93blwiOiBbMTg4LDE0MywxNDNdLFxuXHRcdFwiZGFya2toYWtpXCI6IFsxODksMTgzLDEwN10sXG5cdFx0XCJzaWx2ZXJcIjogWzE5MiwxOTIsMTkyXSxcblx0XHRcIm1lZGl1bXZpb2xldHJlZFwiOiBbMTk5LDIxLDEzM10sXG5cdFx0XCJpbmRpYW5yZWRcIjogWzIwNSw5Miw5Ml0sXG5cdFx0XCJwZXJ1XCI6IFsyMDUsMTMzLDYzXSxcblx0XHRcImNob2NvbGF0ZVwiOiBbMjEwLDEwNSwzMF0sXG5cdFx0XCJ0YW5cIjogWzIxMCwxODAsMTQwXSxcblx0XHRcImxpZ2h0Z3JheVwiOiBbMjExLDIxMSwyMTFdLFxuXHRcdFwibGlnaHRncmV5XCI6IFsyMTEsMjExLDIxMV0sXG5cdFx0XCJwYWxldmlvbGV0cmVkXCI6IFsyMTYsMTEyLDE0N10sXG5cdFx0XCJ0aGlzdGxlXCI6IFsyMTYsMTkxLDIxNl0sXG5cdFx0XCJvcmNoaWRcIjogWzIxOCwxMTIsMjE0XSxcblx0XHRcImdvbGRlbnJvZFwiOiBbMjE4LDE2NSwzMl0sXG5cdFx0XCJjcmltc29uXCI6IFsyMjAsMjAsNjBdLFxuXHRcdFwiZ2FpbnNib3JvXCI6IFsyMjAsMjIwLDIyMF0sXG5cdFx0XCJwbHVtXCI6IFsyMjEsMTYwLDIyMV0sXG5cdFx0XCJidXJseXdvb2RcIjogWzIyMiwxODQsMTM1XSxcblx0XHRcImxpZ2h0Y3lhblwiOiBbMjI0LDI1NSwyNTVdLFxuXHRcdFwibGF2ZW5kZXJcIjogWzIzMCwyMzAsMjUwXSxcblx0XHRcImRhcmtzYWxtb25cIjogWzIzMywxNTAsMTIyXSxcblx0XHRcInZpb2xldFwiOiBbMjM4LDEzMCwyMzhdLFxuXHRcdFwicGFsZWdvbGRlbnJvZFwiOiBbMjM4LDIzMiwxNzBdLFxuXHRcdFwibGlnaHRjb3JhbFwiOiBbMjQwLDEyOCwxMjhdLFxuXHRcdFwia2hha2lcIjogWzI0MCwyMzAsMTQwXSxcblx0XHRcImFsaWNlYmx1ZVwiOiBbMjQwLDI0OCwyNTVdLFxuXHRcdFwiaG9uZXlkZXdcIjogWzI0MCwyNTUsMjQwXSxcblx0XHRcImF6dXJlXCI6IFsyNDAsMjU1LDI1NV0sXG5cdFx0XCJzYW5keWJyb3duXCI6IFsyNDQsMTY0LDk2XSxcblx0XHRcIndoZWF0XCI6IFsyNDUsMjIyLDE3OV0sXG5cdFx0XCJiZWlnZVwiOiBbMjQ1LDI0NSwyMjBdLFxuXHRcdFwid2hpdGVzbW9rZVwiOiBbMjQ1LDI0NSwyNDVdLFxuXHRcdFwibWludGNyZWFtXCI6IFsyNDUsMjU1LDI1MF0sXG5cdFx0XCJnaG9zdHdoaXRlXCI6IFsyNDgsMjQ4LDI1NV0sXG5cdFx0XCJzYWxtb25cIjogWzI1MCwxMjgsMTE0XSxcblx0XHRcImFudGlxdWV3aGl0ZVwiOiBbMjUwLDIzNSwyMTVdLFxuXHRcdFwibGluZW5cIjogWzI1MCwyNDAsMjMwXSxcblx0XHRcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsMjUwLDIxMF0sXG5cdFx0XCJvbGRsYWNlXCI6IFsyNTMsMjQ1LDIzMF0sXG5cdFx0XCJyZWRcIjogWzI1NSwwLDBdLFxuXHRcdFwiZnVjaHNpYVwiOiBbMjU1LDAsMjU1XSxcblx0XHRcIm1hZ2VudGFcIjogWzI1NSwwLDI1NV0sXG5cdFx0XCJkZWVwcGlua1wiOiBbMjU1LDIwLDE0N10sXG5cdFx0XCJvcmFuZ2VyZWRcIjogWzI1NSw2OSwwXSxcblx0XHRcInRvbWF0b1wiOiBbMjU1LDk5LDcxXSxcblx0XHRcImhvdHBpbmtcIjogWzI1NSwxMDUsMTgwXSxcblx0XHRcImNvcmFsXCI6IFsyNTUsMTI3LDgwXSxcblx0XHRcImRhcmtvcmFuZ2VcIjogWzI1NSwxNDAsMF0sXG5cdFx0XCJsaWdodHNhbG1vblwiOiBbMjU1LDE2MCwxMjJdLFxuXHRcdFwib3JhbmdlXCI6IFsyNTUsMTY1LDBdLFxuXHRcdFwibGlnaHRwaW5rXCI6IFsyNTUsMTgyLDE5M10sXG5cdFx0XCJwaW5rXCI6IFsyNTUsMTkyLDIwM10sXG5cdFx0XCJnb2xkXCI6IFsyNTUsMjE1LDBdLFxuXHRcdFwicGVhY2hwdWZmXCI6IFsyNTUsMjE4LDE4NV0sXG5cdFx0XCJuYXZham93aGl0ZVwiOiBbMjU1LDIyMiwxNzNdLFxuXHRcdFwibW9jY2FzaW5cIjogWzI1NSwyMjgsMTgxXSxcblx0XHRcImJpc3F1ZVwiOiBbMjU1LDIyOCwxOTZdLFxuXHRcdFwibWlzdHlyb3NlXCI6IFsyNTUsMjI4LDIyNV0sXG5cdFx0XCJibGFuY2hlZGFsbW9uZFwiOiBbMjU1LDIzNSwyMDVdLFxuXHRcdFwicGFwYXlhd2hpcFwiOiBbMjU1LDIzOSwyMTNdLFxuXHRcdFwibGF2ZW5kZXJibHVzaFwiOiBbMjU1LDI0MCwyNDVdLFxuXHRcdFwic2Vhc2hlbGxcIjogWzI1NSwyNDUsMjM4XSxcblx0XHRcImNvcm5zaWxrXCI6IFsyNTUsMjQ4LDIyMF0sXG5cdFx0XCJsZW1vbmNoaWZmb25cIjogWzI1NSwyNTAsMjA1XSxcblx0XHRcImZsb3JhbHdoaXRlXCI6IFsyNTUsMjUwLDI0MF0sXG5cdFx0XCJzbm93XCI6IFsyNTUsMjUwLDI1MF0sXG5cdFx0XCJ5ZWxsb3dcIjogWzI1NSwyNTUsMF0sXG5cdFx0XCJsaWdodHllbGxvd1wiOiBbMjU1LDI1NSwyMjRdLFxuXHRcdFwiaXZvcnlcIjogWzI1NSwyNTUsMjQwXSxcblx0XHRcIndoaXRlXCI6IFsyNTUsMjU1LDI1NV1cblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgTGlnaHRpbmcgY29tcHV0YXRpb24sIGJhc2VkIG9uIGEgdHJhZGl0aW9uYWwgRk9WIGZvciBtdWx0aXBsZSBsaWdodCBzb3VyY2VzIGFuZCBtdWx0aXBsZSBwYXNzZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSByZWZsZWN0aXZpdHlDYWxsYmFjayBDYWxsYmFjayB0byByZXRyaWV2ZSBjZWxsIHJlZmxlY3Rpdml0eSAoMC4uMSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5wYXNzZXM9MV0gTnVtYmVyIG9mIHBhc3Nlcy4gMSBlcXVhbHMgdG8gc2ltcGxlIEZPViBvZiBhbGwgbGlnaHQgc291cmNlcywgPjEgbWVhbnMgYSAqaGlnaGx5IHNpbXBsaWZpZWQqIHJhZGlvc2l0eS1saWtlIGFsZ29yaXRobS5cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5lbWlzc2lvblRocmVzaG9sZD0xMDBdIENlbGxzIHdpdGggZW1pc3Npdml0eSA+IHRocmVzaG9sZCB3aWxsIGJlIHRyZWF0ZWQgYXMgbGlnaHQgc291cmNlIGluIHRoZSBuZXh0IHBhc3MuXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucmFuZ2U9MTBdIE1heCBsaWdodCByYW5nZVxuICovXG5ST1QuTGlnaHRpbmcgPSBmdW5jdGlvbihyZWZsZWN0aXZpdHlDYWxsYmFjaywgb3B0aW9ucykge1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWxsYmFjayA9IHJlZmxlY3Rpdml0eUNhbGxiYWNrO1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHBhc3NlczogMSxcblx0XHRlbWlzc2lvblRocmVzaG9sZDogMTAwLFxuXHRcdHJhbmdlOiAxMFxuXHR9O1xuXHR0aGlzLl9mb3YgPSBudWxsO1xuXG5cdHRoaXMuX2xpZ2h0cyA9IHt9O1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuXG5cdHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBBZGp1c3Qgb3B0aW9ucyBhdCBydW50aW1lXG4gKiBAc2VlIFJPVC5MaWdodGluZ1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJhbmdlKSB7IHRoaXMucmVzZXQoKTsgfVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHVzZWQgRmllbGQtT2YtVmlldyBhbGdvXG4gKiBAcGFyYW0ge1JPVC5GT1Z9IGZvdlxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldEZPViA9IGZ1bmN0aW9uKGZvdikge1xuXHR0aGlzLl9mb3YgPSBmb3Y7XG5cdHRoaXMuX2ZvdkNhY2hlID0ge307XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFNldCAob3IgcmVtb3ZlKSBhIGxpZ2h0IHNvdXJjZVxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge251bGwgfHwgc3RyaW5nIHx8IG51bWJlclszXX0gY29sb3JcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5zZXRMaWdodCA9IGZ1bmN0aW9uKHgsIHksIGNvbG9yKSB7XG5cdHZhciBrZXkgPSB4K1wiLFwiK3k7XG5cblx0aWYgKGNvbG9yKSB7XG5cdFx0dGhpcy5fbGlnaHRzW2tleV0gPSAodHlwZW9mKGNvbG9yKSA9PSBcInN0cmluZ1wiID8gUk9ULkNvbG9yLmZyb21TdHJpbmcoY29sb3IpIDogY29sb3IpO1xuXHR9IGVsc2Uge1xuXHRcdGRlbGV0ZSB0aGlzLl9saWdodHNba2V5XTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpZ2h0IHNvdXJjZXNcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5jbGVhckxpZ2h0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2xpZ2h0cyA9IHt9O1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBwcmUtY29tcHV0ZWQgdG9wb2xvZ3kgdmFsdWVzLiBDYWxsIHdoZW5ldmVyIHRoZSB1bmRlcmx5aW5nIG1hcCBjaGFuZ2VzIGl0cyBsaWdodC1wYXNzYWJpbGl0eS5cbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdGhlIGxpZ2h0aW5nXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaWdodGluZ0NhbGxiYWNrIFdpbGwgYmUgY2FsbGVkIHdpdGggKHgsIHksIGNvbG9yKSBmb3IgZXZlcnkgbGl0IGNlbGxcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24obGlnaHRpbmdDYWxsYmFjaykge1xuXHR2YXIgZG9uZUNlbGxzID0ge307XG5cdHZhciBlbWl0dGluZ0NlbGxzID0ge307XG5cdHZhciBsaXRDZWxscyA9IHt9O1xuXG5cdGZvciAodmFyIGtleSBpbiB0aGlzLl9saWdodHMpIHsgLyogcHJlcGFyZSBlbWl0dGVycyBmb3IgZmlyc3QgcGFzcyAqL1xuXHRcdHZhciBsaWdodCA9IHRoaXMuX2xpZ2h0c1trZXldO1xuXHRcdGVtaXR0aW5nQ2VsbHNba2V5XSA9IFswLCAwLCAwXTtcblx0XHRST1QuQ29sb3IuYWRkXyhlbWl0dGluZ0NlbGxzW2tleV0sIGxpZ2h0KTtcblx0fVxuXG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX29wdGlvbnMucGFzc2VzO2krKykgeyAvKiBtYWluIGxvb3AgKi9cblx0XHR0aGlzLl9lbWl0TGlnaHQoZW1pdHRpbmdDZWxscywgbGl0Q2VsbHMsIGRvbmVDZWxscyk7XG5cdFx0aWYgKGkrMSA9PSB0aGlzLl9vcHRpb25zLnBhc3NlcykgeyBjb250aW51ZTsgfSAvKiBub3QgZm9yIHRoZSBsYXN0IHBhc3MgKi9cblx0XHRlbWl0dGluZ0NlbGxzID0gdGhpcy5fY29tcHV0ZUVtaXR0ZXJzKGxpdENlbGxzLCBkb25lQ2VsbHMpO1xuXHR9XG5cblx0Zm9yICh2YXIgbGl0S2V5IGluIGxpdENlbGxzKSB7IC8qIGxldCB0aGUgdXNlciBrbm93IHdoYXQgYW5kIGhvdyBpcyBsaXQgKi9cblx0XHR2YXIgcGFydHMgPSBsaXRLZXkuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdGxpZ2h0aW5nQ2FsbGJhY2soeCwgeSwgbGl0Q2VsbHNbbGl0S2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIG9uZSBpdGVyYXRpb24gZnJvbSBhbGwgZW1pdHRpbmcgY2VsbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbWl0dGluZ0NlbGxzIFRoZXNlIGVtaXQgbGlnaHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaXRDZWxscyBBZGQgcHJvamVjdGVkIGxpZ2h0IHRvIHRoZXNlXG4gKiBAcGFyYW0ge29iamVjdH0gZG9uZUNlbGxzIFRoZXNlIGFscmVhZHkgZW1pdHRlZCwgZm9yYmlkIHRoZW0gZnJvbSBmdXJ0aGVyIGNhbGN1bGF0aW9uc1xuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9lbWl0TGlnaHQgPSBmdW5jdGlvbihlbWl0dGluZ0NlbGxzLCBsaXRDZWxscywgZG9uZUNlbGxzKSB7XG5cdGZvciAodmFyIGtleSBpbiBlbWl0dGluZ0NlbGxzKSB7XG5cdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHR0aGlzLl9lbWl0TGlnaHRGcm9tQ2VsbCh4LCB5LCBlbWl0dGluZ0NlbGxzW2tleV0sIGxpdENlbGxzKTtcblx0XHRkb25lQ2VsbHNba2V5XSA9IDE7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUHJlcGFyZSBhIGxpc3Qgb2YgZW1pdHRlcnMgZm9yIG5leHQgcGFzc1xuICogQHBhcmFtIHtvYmplY3R9IGxpdENlbGxzXG4gKiBAcGFyYW0ge29iamVjdH0gZG9uZUNlbGxzXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9jb21wdXRlRW1pdHRlcnMgPSBmdW5jdGlvbihsaXRDZWxscywgZG9uZUNlbGxzKSB7XG5cdHZhciByZXN1bHQgPSB7fTtcblxuXHRmb3IgKHZhciBrZXkgaW4gbGl0Q2VsbHMpIHtcblx0XHRpZiAoa2V5IGluIGRvbmVDZWxscykgeyBjb250aW51ZTsgfSAvKiBhbHJlYWR5IGVtaXR0ZWQgKi9cblxuXHRcdHZhciBjb2xvciA9IGxpdENlbGxzW2tleV07XG5cblx0XHRpZiAoa2V5IGluIHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlKSB7XG5cdFx0XHR2YXIgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGVba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdFx0dmFyIHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG5cdFx0XHR2YXIgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FsbGJhY2soeCwgeSk7XG5cdFx0XHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZVtrZXldID0gcmVmbGVjdGl2aXR5O1xuXHRcdH1cblxuXHRcdGlmIChyZWZsZWN0aXZpdHkgPT0gMCkgeyBjb250aW51ZTsgfSAvKiB3aWxsIG5vdCByZWZsZWN0IGF0IGFsbCAqL1xuXG5cdFx0LyogY29tcHV0ZSBlbWlzc2lvbiBjb2xvciAqL1xuXHRcdHZhciBlbWlzc2lvbiA9IFtdO1xuXHRcdHZhciBpbnRlbnNpdHkgPSAwO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHR2YXIgcGFydCA9IE1hdGgucm91bmQoY29sb3JbaV0qcmVmbGVjdGl2aXR5KTtcblx0XHRcdGVtaXNzaW9uW2ldID0gcGFydDtcblx0XHRcdGludGVuc2l0eSArPSBwYXJ0O1xuXHRcdH1cblx0XHRpZiAoaW50ZW5zaXR5ID4gdGhpcy5fb3B0aW9ucy5lbWlzc2lvblRocmVzaG9sZCkgeyByZXN1bHRba2V5XSA9IGVtaXNzaW9uOyB9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbXB1dGUgb25lIGl0ZXJhdGlvbiBmcm9tIG9uZSBjZWxsXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG4gKiBAcGFyYW0ge29iamVjdH0gbGl0Q2VsbHMgQ2VsbCBkYXRhIHRvIGJ5IHVwZGF0ZWRcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5fZW1pdExpZ2h0RnJvbUNlbGwgPSBmdW5jdGlvbih4LCB5LCBjb2xvciwgbGl0Q2VsbHMpIHtcblx0dmFyIGtleSA9IHgrXCIsXCIreTtcblx0aWYgKGtleSBpbiB0aGlzLl9mb3ZDYWNoZSkge1xuXHRcdHZhciBmb3YgPSB0aGlzLl9mb3ZDYWNoZVtrZXldO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBmb3YgPSB0aGlzLl91cGRhdGVGT1YoeCwgeSk7XG5cdH1cblxuXHRmb3IgKHZhciBmb3ZLZXkgaW4gZm92KSB7XG5cdFx0dmFyIGZvcm1GYWN0b3IgPSBmb3ZbZm92S2V5XTtcblxuXHRcdGlmIChmb3ZLZXkgaW4gbGl0Q2VsbHMpIHsgLyogYWxyZWFkeSBsaXQgKi9cblx0XHRcdHZhciByZXN1bHQgPSBsaXRDZWxsc1tmb3ZLZXldO1xuXHRcdH0gZWxzZSB7IC8qIG5ld2x5IGxpdCAqL1xuXHRcdFx0dmFyIHJlc3VsdCA9IFswLCAwLCAwXTtcblx0XHRcdGxpdENlbGxzW2ZvdktleV0gPSByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHsgcmVzdWx0W2ldICs9IE1hdGgucm91bmQoY29sb3JbaV0qZm9ybUZhY3Rvcik7IH0gLyogYWRkIGxpZ2h0IGNvbG9yICovXG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIEZPViAoXCJmb3JtIGZhY3RvclwiKSBmb3IgYSBwb3RlbnRpYWwgbGlnaHQgc291cmNlIGF0IFt4LHldXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX3VwZGF0ZUZPViA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dmFyIGtleTEgPSB4K1wiLFwiK3k7XG5cdHZhciBjYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZVtrZXkxXSA9IGNhY2hlO1xuXHR2YXIgcmFuZ2UgPSB0aGlzLl9vcHRpb25zLnJhbmdlO1xuXHR2YXIgY2IgPSBmdW5jdGlvbih4LCB5LCByLCB2aXMpIHtcblx0XHR2YXIga2V5MiA9IHgrXCIsXCIreTtcblx0XHR2YXIgZm9ybUZhY3RvciA9IHZpcyAqICgxLXIvcmFuZ2UpO1xuXHRcdGlmIChmb3JtRmFjdG9yID09IDApIHsgcmV0dXJuOyB9XG5cdFx0Y2FjaGVba2V5Ml0gPSBmb3JtRmFjdG9yO1xuXHR9XG5cdHRoaXMuX2Zvdi5jb21wdXRlKHgsIHksIHJhbmdlLCBjYi5iaW5kKHRoaXMpKTtcblxuXHRyZXR1cm4gY2FjaGU7XG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBwYXRoZmluZGVyXG4gKiBAcGFyYW0ge2ludH0gdG9YIFRhcmdldCBYIGNvb3JkXG4gKiBAcGFyYW0ge2ludH0gdG9ZIFRhcmdldCBZIGNvb3JkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXNzYWJsZUNhbGxiYWNrIENhbGxiYWNrIHRvIGRldGVybWluZSBtYXAgcGFzc2FiaWxpdHlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XVxuICovXG5ST1QuUGF0aCA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdHRoaXMuX3RvWCA9IHRvWDtcblx0dGhpcy5fdG9ZID0gdG9ZO1xuXHR0aGlzLl9mcm9tWCA9IG51bGw7XG5cdHRoaXMuX2Zyb21ZID0gbnVsbDtcblx0dGhpcy5fcGFzc2FibGVDYWxsYmFjayA9IHBhc3NhYmxlQ2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0dG9wb2xvZ3k6IDhcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblxuXHR0aGlzLl9kaXJzID0gUk9ULkRJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG5cdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDgpIHsgLyogcmVvcmRlciBkaXJzIGZvciBtb3JlIGFlc3RoZXRpYyByZXN1bHQgKHZlcnRpY2FsL2hvcml6b250YWwgZmlyc3QpICovXG5cdFx0dGhpcy5fZGlycyA9IFtcblx0XHRcdHRoaXMuX2RpcnNbMF0sXG5cdFx0XHR0aGlzLl9kaXJzWzJdLFxuXHRcdFx0dGhpcy5fZGlyc1s0XSxcblx0XHRcdHRoaXMuX2RpcnNbNl0sXG5cdFx0XHR0aGlzLl9kaXJzWzFdLFxuXHRcdFx0dGhpcy5fZGlyc1szXSxcblx0XHRcdHRoaXMuX2RpcnNbNV0sXG5cdFx0XHR0aGlzLl9kaXJzWzddXG5cdFx0XVxuXHR9XG59XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAcGFyYW0ge2ludH0gZnJvbVhcbiAqIEBwYXJhbSB7aW50fSBmcm9tWVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgV2lsbCBiZSBjYWxsZWQgZm9yIGV2ZXJ5IHBhdGggaXRlbSB3aXRoIGFyZ3VtZW50cyBcInhcIiBhbmQgXCJ5XCJcbiAqL1xuUk9ULlBhdGgucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG59XG5cblJPVC5QYXRoLnByb3RvdHlwZS5fZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZGlycy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRpciA9IHRoaXMuX2RpcnNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRpclswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGlyWzFdO1xuXHRcdFxuXHRcdGlmICghdGhpcy5fcGFzc2FibGVDYWxsYmFjayh4LCB5KSkgeyBjb250aW51ZTsgfVxuXHRcdHJlc3VsdC5wdXNoKFt4LCB5XSk7XG5cdH1cblx0XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIERpamtzdHJhJ3MgYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5ST1QuUGF0aC5EaWprc3RyYSA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5QYXRoLmNhbGwodGhpcywgdG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuXG5cdHRoaXMuX2NvbXB1dGVkID0ge307XG5cdHRoaXMuX3RvZG8gPSBbXTtcblx0dGhpcy5fYWRkKHRvWCwgdG9ZLCBudWxsKTtcbn1cblJPVC5QYXRoLkRpamtzdHJhLmV4dGVuZChST1QuUGF0aCk7XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAc2VlIFJPVC5QYXRoI2NvbXB1dGVcbiAqL1xuUk9ULlBhdGguRGlqa3N0cmEucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG5cdHZhciBrZXkgPSBmcm9tWCtcIixcIitmcm9tWTtcblx0aWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkgeyB0aGlzLl9jb21wdXRlKGZyb21YLCBmcm9tWSk7IH1cblx0aWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkgeyByZXR1cm47IH1cblx0XG5cdHZhciBpdGVtID0gdGhpcy5fY29tcHV0ZWRba2V5XTtcblx0d2hpbGUgKGl0ZW0pIHtcblx0XHRjYWxsYmFjayhpdGVtLngsIGl0ZW0ueSk7XG5cdFx0aXRlbSA9IGl0ZW0ucHJldjtcblx0fVxufVxuXG4vKipcbiAqIENvbXB1dGUgYSBub24tY2FjaGVkIHZhbHVlXG4gKi9cblJPVC5QYXRoLkRpamtzdHJhLnByb3RvdHlwZS5fY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSkge1xuXHR3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcblx0XHRpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkgeyByZXR1cm47IH1cblx0XHRcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRcblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvcnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuXHRcdFx0dmFyIHggPSBuZWlnaGJvclswXTtcblx0XHRcdHZhciB5ID0gbmVpZ2hib3JbMV07XG5cdFx0XHR2YXIgaWQgPSB4K1wiLFwiK3k7XG5cdFx0XHRpZiAoaWQgaW4gdGhpcy5fY29tcHV0ZWQpIHsgY29udGludWU7IH0gLyogYWxyZWFkeSBkb25lICovXHRcblx0XHRcdHRoaXMuX2FkZCh4LCB5LCBpdGVtKTsgXG5cdFx0fVxuXHR9XG59XG5cblJPVC5QYXRoLkRpamtzdHJhLnByb3RvdHlwZS5fYWRkID0gZnVuY3Rpb24oeCwgeSwgcHJldikge1xuXHR2YXIgb2JqID0ge1xuXHRcdHg6IHgsXG5cdFx0eTogeSxcblx0XHRwcmV2OiBwcmV2XG5cdH1cblx0dGhpcy5fY29tcHV0ZWRbeCtcIixcIit5XSA9IG9iajtcblx0dGhpcy5fdG9kby5wdXNoKG9iaik7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIEEqIGFsZ29yaXRobTogYWxsIGVkZ2VzIGhhdmUgYSB2YWx1ZSBvZiAxXG4gKiBAYXVnbWVudHMgUk9ULlBhdGhcbiAqIEBzZWUgUk9ULlBhdGhcbiAqL1xuUk9ULlBhdGguQVN0YXIgPSBmdW5jdGlvbih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuUGF0aC5jYWxsKHRoaXMsIHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKTtcblxuXHR0aGlzLl90b2RvID0gW107XG5cdHRoaXMuX2RvbmUgPSB7fTtcblx0dGhpcy5fZnJvbVggPSBudWxsO1xuXHR0aGlzLl9mcm9tWSA9IG51bGw7XG59XG5ST1QuUGF0aC5BU3Rhci5leHRlbmQoUk9ULlBhdGgpO1xuXG4vKipcbiAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICogQHNlZSBST1QuUGF0aCNjb21wdXRlXG4gKi9cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xuXHR0aGlzLl90b2RvID0gW107XG5cdHRoaXMuX2RvbmUgPSB7fTtcblx0dGhpcy5fZnJvbVggPSBmcm9tWDtcblx0dGhpcy5fZnJvbVkgPSBmcm9tWTtcblx0dGhpcy5fYWRkKHRoaXMuX3RvWCwgdGhpcy5fdG9ZLCBudWxsKTtcblxuXHR3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcblx0XHRpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkgeyBicmVhazsgfVxuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JzLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcblx0XHRcdHZhciB4ID0gbmVpZ2hib3JbMF07XG5cdFx0XHR2YXIgeSA9IG5laWdoYm9yWzFdO1xuXHRcdFx0dmFyIGlkID0geCtcIixcIit5O1xuXHRcdFx0aWYgKGlkIGluIHRoaXMuX2RvbmUpIHsgY29udGludWU7IH1cblx0XHRcdHRoaXMuX2FkZCh4LCB5LCBpdGVtKTsgXG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgaXRlbSA9IHRoaXMuX2RvbmVbZnJvbVgrXCIsXCIrZnJvbVldO1xuXHRpZiAoIWl0ZW0pIHsgcmV0dXJuOyB9XG5cdFxuXHR3aGlsZSAoaXRlbSkge1xuXHRcdGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRpdGVtID0gaXRlbS5wcmV2O1xuXHR9XG59XG5cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5fYWRkID0gZnVuY3Rpb24oeCwgeSwgcHJldikge1xuXHR2YXIgb2JqID0ge1xuXHRcdHg6IHgsXG5cdFx0eTogeSxcblx0XHRwcmV2OiBwcmV2LFxuXHRcdGc6IChwcmV2ID8gcHJldi5nKzEgOiAwKSxcblx0XHRoOiB0aGlzLl9kaXN0YW5jZSh4LCB5KVxuXHR9XG5cdHRoaXMuX2RvbmVbeCtcIixcIit5XSA9IG9iajtcblx0XG5cdC8qIGluc2VydCBpbnRvIHByaW9yaXR5IHF1ZXVlICovXG5cdFxuXHR2YXIgZiA9IG9iai5nICsgb2JqLmg7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3RvZG8ubGVuZ3RoO2krKykge1xuXHRcdHZhciBpdGVtID0gdGhpcy5fdG9kb1tpXTtcblx0XHRpZiAoZiA8IGl0ZW0uZyArIGl0ZW0uaCkge1xuXHRcdFx0dGhpcy5fdG9kby5zcGxpY2UoaSwgMCwgb2JqKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX3RvZG8ucHVzaChvYmopO1xufVxuXG5ST1QuUGF0aC5BU3Rhci5wcm90b3R5cGUuX2Rpc3RhbmNlID0gZnVuY3Rpb24oeCwgeSkge1xuXHRzd2l0Y2ggKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kpIHtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gKE1hdGguYWJzKHgtdGhpcy5fZnJvbVgpICsgTWF0aC5hYnMoeS10aGlzLl9mcm9tWSkpO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA2OlxuXHRcdFx0dmFyIGR4ID0gTWF0aC5hYnMoeCAtIHRoaXMuX2Zyb21YKTtcblx0XHRcdHZhciBkeSA9IE1hdGguYWJzKHkgLSB0aGlzLl9mcm9tWSk7XG5cdFx0XHRyZXR1cm4gZHkgKyBNYXRoLm1heCgwLCAoZHgtZHkpLzIpO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA4OiBcblx0XHRcdHJldHVybiBNYXRoLm1heChNYXRoLmFicyh4LXRoaXMuX2Zyb21YKSwgTWF0aC5hYnMoeS10aGlzLl9mcm9tWSkpO1xuXHRcdGJyZWFrO1xuXHR9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCB0b3BvbG9neVwiKTtcbn1cbi8qKlxuICogQGNsYXNzIFRlcm1pbmFsIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlRlcm0gPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblx0dGhpcy5fY3ggPSAtMTtcblx0dGhpcy5fY3kgPSAtMTtcblx0dGhpcy5fbGFzdENvbG9yID0gXCJcIjtcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xuXHR0aGlzLl9veCA9IDA7XG5cdHRoaXMuX295ID0gMDtcblx0dGhpcy5fdGVybWNvbG9yID0ge307XG59XG5ST1QuRGlzcGxheS5UZXJtLmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cdHRoaXMuX294ID0gTWF0aC5mbG9vcigocHJvY2Vzcy5zdGRvdXQuY29sdW1ucyAtIG9wdGlvbnMud2lkdGgpIC8gMik7XG5cdHRoaXMuX295ID0gTWF0aC5mbG9vcigocHJvY2Vzcy5zdGRvdXQucm93cyAtIG9wdGlvbnMuaGVpZ2h0KSAvIDIpO1xuXHR0aGlzLl90ZXJtY29sb3IgPSBuZXcgUk9ULkRpc3BsYXkuVGVybVtvcHRpb25zLnRlcm1Db2xvci5jYXBpdGFsaXplKCldKHRoaXMuX2NvbnRleHQpO1xuXHR0aGlzLl9jb250ZXh0Ll90ZXJtY29sb3IgPSB0aGlzLl90ZXJtY29sb3I7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHQvLyBkZXRlcm1pbmUgd2hlcmUgdG8gZHJhdyB3aGF0IHdpdGggd2hhdCBjb2xvcnNcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0Ly8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gbW92ZSB0aGUgdGVybWluYWwgY3Vyc29yXG5cdHZhciBkeCA9IHRoaXMuX294ICsgeDtcblx0dmFyIGR5ID0gdGhpcy5fb3kgKyB5O1xuXHRpZiAoZHggPCAwIHx8IGR4ID49IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMpIHsgcmV0dXJuOyB9XG5cdGlmIChkeSA8IDAgfHwgZHkgPj0gcHJvY2Vzcy5zdGRvdXQucm93cykgeyByZXR1cm47IH1cblx0aWYgKGR4ICE9PSB0aGlzLl9jeCB8fCBkeSAhPT0gdGhpcy5fY3kpIHtcblx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZSh0aGlzLl90ZXJtY29sb3IucG9zaXRpb25Ub0Fuc2koZHgsZHkpKTtcblx0XHR0aGlzLl9jeCA9IGR4O1xuXHRcdHRoaXMuX2N5ID0gZHk7XG5cdH1cblxuXHQvLyB0ZXJtaW5hbHMgYXV0b21hdGljYWxseSBjbGVhciwgYnV0IGlmIHdlJ3JlIGNsZWFyaW5nIHdoZW4gd2UncmVcblx0Ly8gbm90IG90aGVyd2lzZSBwcm92aWRlZCB3aXRoIGEgY2hhcmFjdGVyLCBqdXN0IHVzZSBhIHNwYWNlIGluc3RlYWRcblx0aWYgKGNsZWFyQmVmb3JlKSB7XG5cdFx0aWYgKCFjaCkge1xuXHRcdFx0Y2ggPSBcIiBcIjtcblx0XHR9XG5cdH1cblx0XHRcblx0Ly8gaWYgd2UncmUgbm90IGNsZWFyaW5nIGFuZCBub3QgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwgZG8gbm90aGluZ1xuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdC8vIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIGNoYW5nZSBjb2xvcnNcblx0dmFyIG5ld0NvbG9yID0gdGhpcy5fdGVybWNvbG9yLmNvbG9yVG9BbnNpKGZnLGJnKTtcblx0aWYgKG5ld0NvbG9yICE9PSB0aGlzLl9sYXN0Q29sb3IpIHtcblx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShuZXdDb2xvcik7XG5cdFx0dGhpcy5fbGFzdENvbG9yID0gbmV3Q29sb3I7XG5cdH1cblxuXHQvLyB3cml0ZSB0aGUgcHJvdmlkZWQgc3ltYm9sIHRvIHRoZSBkaXNwbGF5XG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNoYXJzWzBdKTtcblxuXHQvLyB1cGRhdGUgb3VyIHBvc2l0aW9uLCBnaXZlbiB0aGF0IHdlIHdyb3RlIGEgY2hhcmFjdGVyXG5cdHRoaXMuX2N4Kys7XG5cdGlmICh0aGlzLl9jeCA+PSBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKSB7XG5cdFx0dGhpcy5fY3ggPSAwO1xuXHRcdHRoaXMuX2N5Kys7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gW3Byb2Nlc3Muc3Rkb3V0LmNvbHVtbnMsIHByb2Nlc3Muc3Rkb3V0LnJvd3NdO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gMTI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFt4LHldXG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCB0ZXJtaW5hbCBjb2RlIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybS5Db2xvciA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uQ29sb3IucHJvdG90eXBlLmNsZWFyVG9BbnNpID0gZnVuY3Rpb24oYmcpIHtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUuY29sb3JUb0Fuc2kgPSBmdW5jdGlvbihmZywgYmcpIHtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUucG9zaXRpb25Ub0Fuc2kgPSBmdW5jdGlvbih4LCB5KSB7XG59XG4vKipcbiAqIEBjbGFzcyB4dGVybSB0ZXJtaW5hbCBjb2RlIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybS5YdGVybSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuVGVybS5Db2xvci5jYWxsKHRoaXMsIGNvbnRleHQpO1xufVxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5leHRlbmQoUk9ULkRpc3BsYXkuVGVybS5Db2xvcik7XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLmNsZWFyVG9BbnNpID0gZnVuY3Rpb24oYmcpIHtcblx0cmV0dXJuIFwiXFx4MWJbMDs0ODs1O1wiXG5cdFx0KyB0aGlzLl90ZXJtY29sb3IoYmcpXG5cdFx0KyBcIm1cXHgxYlsySlwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5jb2xvclRvQW5zaSA9IGZ1bmN0aW9uKGZnLCBiZykge1xuXHRyZXR1cm4gXCJcXHgxYlswOzM4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihmZylcblx0XHQrIFwiOzQ4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihiZylcblx0XHQrIFwibVwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5wb3NpdGlvblRvQW5zaSA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFwiXFx4MWJbXCIgKyAoeSsxKSArIFwiO1wiICsgKHgrMSkgKyBcIkhcIjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5wcm90b3R5cGUuX3Rlcm1jb2xvciA9IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdHZhciBTUkNfQ09MT1JTID0gMjU2LjA7XG5cdHZhciBEU1RfQ09MT1JTID0gNi4wO1xuXHR2YXIgQ09MT1JfUkFUSU8gPSBEU1RfQ09MT1JTIC8gU1JDX0NPTE9SUztcblx0dmFyIHJnYiA9IFJPVC5Db2xvci5mcm9tU3RyaW5nKGNvbG9yKTtcblx0dmFyIHIgPSBNYXRoLmZsb29yKHJnYlswXSAqIENPTE9SX1JBVElPKTtcblx0dmFyIGcgPSBNYXRoLmZsb29yKHJnYlsxXSAqIENPTE9SX1JBVElPKTtcblx0dmFyIGIgPSBNYXRoLmZsb29yKHJnYlsyXSAqIENPTE9SX1JBVElPKTtcblx0cmV0dXJuIHIqMzYgKyBnKjYgKyBiKjEgKyAxNjtcbn1cbi8qKlxuICogRXhwb3J0IHRvIE5vZGUuanMgbW9kdWxlXG4gKi9cbmZvciAodmFyIHAgaW4gUk9UKSB7XG5cdGV4cG9ydHNbcF0gPSBST1RbcF07XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2luZGV4Jyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcG9ueWZpbGwgPSByZXF1aXJlKCcuL3BvbnlmaWxsJyk7XG5cbnZhciBfcG9ueWZpbGwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9ueWZpbGwpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciByb290OyAvKiBnbG9iYWwgd2luZG93ICovXG5cblxuaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gc2VsZjtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IG1vZHVsZTtcbn0gZWxzZSB7XG4gIHJvb3QgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufVxuXG52YXIgcmVzdWx0ID0gKDAsIF9wb255ZmlsbDJbJ2RlZmF1bHQnXSkocm9vdCk7XG5leHBvcnRzWydkZWZhdWx0J10gPSByZXN1bHQ7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsO1xuZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIF9TeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIF9TeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoX1N5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBfU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IF9TeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdF9TeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJpbXBvcnQgeyBhcHBseU1pZGRsZXdhcmUsIGNyZWF0ZVN0b3JlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IGNyZWF0ZUxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInO1xuaW1wb3J0IFJPVCBmcm9tICdyb3QtanMnO1xuXG5pbXBvcnQgZ2FtZVJlZHVjZXIgZnJvbSAnLi9yZWR1Y2Vycyc7XG5pbXBvcnQgaW5pdGlhbFN0YXRlIGZyb20gJy4vaW5pdGlhbFN0YXRlJztcblxuaW1wb3J0IEdhbWUgZnJvbSAnLi9nYW1lJztcblxuKCh3aW5kb3csIGNvbnNvbGUpID0+IHtcbiAgLy8gd2luZG93LlNUQVRFID0gY3JlYXRlU3RvcmUoXG4gIC8vICAgZ2FtZVJlZHVjZXIsXG4gIC8vICAgaW5pdGlhbFN0YXRlLFxuICAvLyAgIGFwcGx5TWlkZGxld2FyZShjcmVhdGVMb2dnZXIoKSlcbiAgLy8gKTtcblxuICBjb25zdCBHQU1FID0gR2FtZS5pbml0KCk7XG4gIEdBTUUuc3dpdGNoU2NyZWVuKEdBTUUuU2NyZWVuLlN0YXJ0U2NyZWVuKTtcblxuICBjb25zdCBtYWluRGlzcGxheSA9IEdBTUUuZ2V0RGlzcGxheSgpO1xuICAvLyBjb25zdCBnYW1lQ29uc29sZSA9IG5ldyBST1QuRGlzcGxheSh7XG4gIC8vICAgd2lkdGg6IDQ1LFxuICAvLyAgIGhlaWdodDogMTAsXG4gIC8vICAgZm9udFNpemU6IDE1LFxuICAvLyAgIGZvcmNlU3F1YXJlUmF0aW86IHRydWUsXG4gIC8vIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWRpc3BsYXknKS5hcHBlbmRDaGlsZChtYWluRGlzcGxheS5nZXRDb250YWluZXIoKSk7XG4gIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb25zb2xlJykuYXBwZW5kQ2hpbGQoZ2FtZUNvbnNvbGUuZ2V0Q29udGFpbmVyKCkpO1xuXG4gIC8vIHdpbmRvdy5TVEFURS5kaXNwYXRjaCh7XG4gIC8vICAgdHlwZTogJ0FERF9NRVNTQUdFJyxcbiAgLy8gICBtZXNzYWdlOiB7IHRleHQ6ICdoZWxsbywgd29ybGQhJyB9LFxuICAvLyB9KTtcbn0pKHdpbmRvdywgd2luZG93LmNvbnNvbGUpO1xuIiwiaW1wb3J0IEdseXBoIGZyb20gJy4vZ2x5cGgnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbnRpdHkgZXh0ZW5kcyBHbHlwaCB7XG4gIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMgPSB7fSkge1xuICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuXG4gICAgdGhpcy5fbmFtZSA9IHByb3BlcnRpZXMubmFtZSB8fCAnJztcbiAgICB0aGlzLl94ID0gcHJvcGVydGllcy54IHx8IDA7XG4gICAgdGhpcy5feSA9IHByb3BlcnRpZXMueSB8fCAwO1xuICAgIHRoaXMuX21hcCA9IG51bGw7XG5cbiAgICB0aGlzLl9hdHRhY2hlZE1peGlucyA9IHt9O1xuICAgIHRoaXMuX2F0dGFjaGVkTWl4aW5Hcm91cHMgPSB7fTtcbiAgICBjb25zdCBtaXhpbnMgPSBwcm9wZXJ0aWVzLm1peGlucyB8fCBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbWl4aW4gPSBtaXhpbnNbaV07XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobWl4aW4pO1xuXG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5c1trXTtcblxuICAgICAgICBpZiAoa2V5ICE9PSAnaW5pdCcgJiYga2V5ICE9PSAnbmFtZScgJiYga2V5ICE9PSAnZ3JvdXBOYW1lJyAmJiAhdGhpcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgdGhpc1trZXldID0gbWl4aW5ba2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2F0dGFjaGVkTWl4aW5zW21peGluLm5hbWVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKG1peGluLmdyb3VwTmFtZSkge1xuICAgICAgICAgIHRoaXMuX2F0dGFjaGVkTWl4aW5Hcm91cHNbbWl4aW4uZ3JvdXBOYW1lXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWl4aW4uaW5pdCkge1xuICAgICAgICAgIG1peGluLmluaXQuY2FsbCh0aGlzLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhc01peGluKG9iaikge1xuICAgIGNvbnN0IG1peGluID0gKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSA/IG9iai5uYW1lIDogb2JqO1xuICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZE1peGluR3JvdXBzW21peGluXSB8fCB0aGlzLl9hdHRhY2hlZE1peGluc1ttaXhpbl07XG4gIH1cblxuICBzZXROYW1lKG5hbWUpIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgfVxuXG4gIHNldFgoeCkge1xuICAgIHRoaXMuX3ggPSB4O1xuICB9XG5cbiAgc2V0WSh5KSB7XG4gICAgdGhpcy5feSA9IHk7XG4gIH1cblxuICBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG5cbiAgZ2V0WCgpIHtcbiAgICByZXR1cm4gdGhpcy5feDtcbiAgfVxuXG4gIGdldFkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3k7XG4gIH1cblxuICBzZXRNYXAobWFwKSB7XG4gICAgdGhpcy5fbWFwID0gbWFwO1xuICB9XG5cbiAgZ2V0TWFwKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXA7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdseXBoIHtcbiAgY29uc3RydWN0b3IocHJvcGVydGllcyA9IHt9KSB7XG4gICAgdGhpcy5fY2hhciA9IHByb3BlcnRpZXMuY2hhciB8fCAnICc7XG4gICAgdGhpcy5fZmcgPSBwcm9wZXJ0aWVzLmZnIHx8ICd3aGl0ZSc7XG4gICAgdGhpcy5fYmcgPSBwcm9wZXJ0aWVzLmJnIHx8ICdibGFjayc7XG4gIH1cblxuICBnZXRDaGFyKCkge1xuICAgIHJldHVybiB0aGlzLl9jaGFyO1xuICB9XG5cbiAgZ2V0QmFja2dyb3VuZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYmc7XG4gIH1cblxuICBnZXRGb3JlZ3JvdW5kKCkge1xuICAgIHJldHVybiB0aGlzLl9mZztcbiAgfVxufVxuIiwiaW1wb3J0IFJPVCBmcm9tICdyb3QtanMnO1xuaW1wb3J0IFNjcmVlbiBmcm9tICcuL3NjcmVlbic7XG5cbmNvbnN0IGRpc3BsYXlEZWZhdWx0cyA9IHtcbiAgd2lkdGg6IDgwLFxuICBoZWlnaHQ6IDI0LFxuICBmb250U2l6ZTogMTUsXG4gIGZvcmNlU3F1YXJlUmF0aW86IHRydWUsXG59O1xuXG5jb25zdCBHYW1lID0ge1xuICBTY3JlZW4sXG5cbiAgX2Rpc3BsYXk6IG51bGwsXG4gIF9jdXJyZW50U2NyZWVuOiBudWxsLFxuICBfc2NyZWVuV2lkdGg6IGRpc3BsYXlEZWZhdWx0cy53aWR0aCxcbiAgX3NjcmVlbkhlaWdodDogZGlzcGxheURlZmF1bHRzLmhlaWdodCxcblxuICBpbml0KG9wdGlvbnMpIHtcbiAgICB0aGlzLl9kaXNwbGF5ID0gbmV3IFJPVC5EaXNwbGF5KE9iamVjdC5hc3NpZ24oe30sIGRpc3BsYXlEZWZhdWx0cywgb3B0aW9ucykpO1xuICAgIGNvbnN0IF9nYW1lID0gdGhpcztcbiAgICBjb25zdCBiaW5kRXZlbnRUb1NjcmVlbiA9IChldmVudCkgPT4ge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIChlKSA9PiB7XG4gICAgICAgIGlmIChfZ2FtZS5fY3VycmVudFNjcmVlbiAhPT0gbnVsbCkge1xuICAgICAgICAgIF9nYW1lLl9jdXJyZW50U2NyZWVuLmhhbmRsZUlucHV0KGV2ZW50LCBlLCBfZ2FtZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgWydrZXlkb3duJywgJ2tleXVwJywgJ2tleXByZXNzJ10uZm9yRWFjaChiaW5kRXZlbnRUb1NjcmVlbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XG4gICAgdGhpcy5fY3VycmVudFNjcmVlbi5yZW5kZXIodGhpcy5fZGlzcGxheSwgdGhpcyk7XG4gIH0sXG5cbiAgZ2V0RGlzcGxheSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzcGxheTtcbiAgfSxcblxuICBnZXRTY3JlZW5XaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NyZWVuV2lkdGg7XG4gIH0sXG5cbiAgZ2V0U2NyZWVuSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9zY3JlZW5IZWlnaHQ7XG4gIH0sXG5cbiAgc3dpdGNoU2NyZWVuKHNjcmVlbikge1xuICAgIGlmICh0aGlzLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9jdXJyZW50U2NyZWVuLmV4aXQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmdldERpc3BsYXkoKS5jbGVhcigpO1xuXG4gICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IHNjcmVlbjtcblxuICAgIGlmICghdGhpcy5fY3VycmVudFNjcmVlbiAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5fY3VycmVudFNjcmVlbi5lbnRlcigpO1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZTtcbiIsImltcG9ydCBST1QgZnJvbSAncm90LWpzJztcbmltcG9ydCB7IEZ1bmd1c1RlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZXMnO1xuaW1wb3J0IEVudGl0eSBmcm9tICcuL2VudGl0eSc7XG5pbXBvcnQgeyBOdWxsVGlsZSwgRmxvb3JUaWxlIH0gZnJvbSAnLi90aWxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwIHtcbiAgY29uc3RydWN0b3IodGlsZXMsIHBsYXllcikge1xuICAgIC8vIHRpbGVzXG4gICAgdGhpcy5fdGlsZXMgPSB0aWxlcztcbiAgICB0aGlzLl93aWR0aCA9IHRpbGVzLmxlbmd0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSB0aWxlc1swXS5sZW5ndGg7XG5cbiAgICAvLyBlbnRpdGllc1xuICAgIHRoaXMuX2VudGl0aWVzID0gW107XG4gICAgdGhpcy5fc2NoZWR1bGVyID0gbmV3IFJPVC5TY2hlZHVsZXIuU2ltcGxlKCk7XG4gICAgdGhpcy5fZW5naW5lID0gbmV3IFJPVC5FbmdpbmUodGhpcy5fc2NoZWR1bGVyKTtcblxuICAgIHRoaXMuYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihwbGF5ZXIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24obmV3IEVudGl0eShGdW5ndXNUZW1wbGF0ZSkpO1xuICAgIH1cbiAgfVxuXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG5cbiAgZ2V0VGlsZSh4LCB5KSB7XG4gICAgbGV0IHJldCA9IE51bGxUaWxlO1xuICAgIGlmICghKHggPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLmhlaWdodCkpIHtcbiAgICAgIHJldCA9IHRoaXMuX3RpbGVzW3hdW3ldIHx8IHJldDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIGRpZyh4LCB5KSB7XG4gICAgaWYgKHRoaXMuZ2V0VGlsZSh4LCB5KS5pc0RpZ2dhYmxlKCkpIHtcbiAgICAgIHRoaXMuX3RpbGVzW3hdW3ldID0gRmxvb3JUaWxlO1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmRvbUZsb29yUG9zaXRpb24oKSB7XG4gICAgbGV0IHg7XG4gICAgbGV0IHk7XG4gICAgZG8ge1xuICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX3dpZHRoKTtcbiAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9oZWlnaHQpO1xuICAgIH0gd2hpbGUgKCF0aGlzLmlzRW1wdHlGbG9vcih4LCB5KSk7XG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9XG5cbiAgZ2V0RW5naW5lKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gIH1cblxuICBnZXRFbnRpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZW50aXRpZXM7XG4gIH1cblxuICBnZXRFbnRpdHlBdCh4LCB5KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVudGl0eSA9IHRoaXMuX2VudGl0aWVzW2ldO1xuICAgICAgaWYgKGVudGl0eS5nZXRYKCkgPT0geCAmJiBlbnRpdHkuZ2V0WSgpID09IHkpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhZGRFbnRpdHkoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS5nZXRYKCkgPCAwIHx8IGVudGl0eS5nZXRYKCkgPj0gdGhpcy5fd2lkdGggfHwgZW50aXR5LmdldFkoKSA8IDAgfHwgZW50aXR5LmdldFkoKSA+PSB0aGlzLl9oZWlnaHQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWRkaW5nIGVudGl0eSBvdXQgb2YgYm91bmRzLicpO1xuICAgIH1cblxuICAgIGVudGl0eS5zZXRNYXAodGhpcyk7XG4gICAgdGhpcy5fZW50aXRpZXMucHVzaChlbnRpdHkpO1xuXG4gICAgaWYgKGVudGl0eS5oYXNNaXhpbignQWN0b3InKSkge1xuICAgICAgdGhpcy5fc2NoZWR1bGVyLmFkZChlbnRpdHksIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24oZW50aXR5KSB7XG4gICAgY29uc3QgcG9zaXRpb24gPSB0aGlzLmdldFJhbmRvbUZsb29yUG9zaXRpb24oKTtcbiAgICBlbnRpdHkuc2V0WChwb3NpdGlvbi54KTtcbiAgICBlbnRpdHkuc2V0WShwb3NpdGlvbi55KTtcbiAgICB0aGlzLmFkZEVudGl0eShlbnRpdHkpO1xuICB9XG5cbiAgcmVtb3ZlRW50aXR5KGVudGl0eSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZW50aXRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9lbnRpdGllc1tpXSA9PSBlbnRpdHkpIHtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudGl0eS5oYXNNaXhpbignQWN0b3InKSkge1xuICAgICAgdGhpcy5fc2NoZWR1bGVyLnJlbW92ZShlbnRpdHkpO1xuICAgIH1cbiAgfVxuXG4gIGlzRW1wdHlGbG9vcih4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGlsZSh4LCB5KSA9PSBGbG9vclRpbGUgJiYgIXRoaXMuZ2V0RW50aXR5QXQoeCwgeSk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBNb3ZlYWJsZSA9IHtcbiAgbmFtZTogJ01vdmVhYmxlJyxcbiAgdHJ5TW92ZSh4LCB5LCBtYXApIHtcbiAgICBjb25zdCB0aWxlID0gbWFwLmdldFRpbGUoeCwgeSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gbWFwLmdldEVudGl0eUF0KHgsIHkpO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaWYgKHRoaXMuaGFzTWl4aW4oJ0F0dGFja2VyJykpIHtcbiAgICAgICAgdGhpcy5hdHRhY2sodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aWxlLmlzV2Fsa2FibGUoKSkge1xuICAgICAgdGhpcy5feCA9IHg7XG4gICAgICB0aGlzLl95ID0geTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGlsZS5pc0RpZ2dhYmxlKCkpIHtcbiAgICAgIGlmICh0aGlzLmhhc01peGluKCdEaWdnZXInKSkge1xuICAgICAgICB0aGlzLmRpZyh4LCB5LCBtYXApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFBsYXllckFjdG9yID0ge1xuICBuYW1lOiAnUGxheWVyQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG5cbiAgYWN0KCkge1xuICAgIC8vIEdBTUUucmVmcmVzaCgpO1xuICAgIHRoaXMuZ2V0TWFwKCkuZ2V0RW5naW5lKCkubG9jaygpO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEZ1bmd1c0FjdG9yID0ge1xuICBuYW1lOiAnRnVuZ3VzQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG4gIGFjdCgpIHt9LFxufTtcblxuZXhwb3J0IGNvbnN0IERlc3RydWN0aWJsZSA9IHtcbiAgbmFtZTogJ0Rlc3RydWN0aWJsZScsXG4gIGluaXQoKSB7XG4gICAgdGhpcy5faHAgPSAxO1xuICB9LFxuICB0YWtlRGFtYWdlKGF0dGFja2VyLCBkYW1hZ2UpIHtcbiAgICB0aGlzLl9ocCAtPSBkYW1hZ2U7XG4gICAgaWYgKHRoaXMuX2hwIDw9IDApIHtcbiAgICAgIHRoaXMuZ2V0TWFwKCkucmVtb3ZlRW50aXR5KHRoaXMpO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBEaWdnZXIgPSB7XG4gIG5hbWU6ICdTaW1wbGVEaWdnZXInLFxuICBncm91cE5hbWU6ICdEaWdnZXInLFxuICBkaWcoeCwgeSwgbWFwKSB7XG4gICAgbWFwLmRpZyh4LCB5KTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBTaW1wbGVBdHRhY2tlciA9IHtcbiAgbmFtZTogJ1NpbXBsZUF0dGFja2VyJyxcbiAgZ3JvdXBOYW1lOiAnQXR0YWNrZXInLFxuICBhdHRhY2sodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5oYXNNaXhpbignRGVzdHJ1Y3RpYmxlJykpIHtcbiAgICAgIHRhcmdldC50YWtlRGFtYWdlKHRoaXMsIDEpO1xuICAgIH1cbiAgfSxcbn07XG4iLCJpbXBvcnQgUk9UIGZyb20gJ3JvdC1qcyc7XG5pbXBvcnQgeyBOdWxsVGlsZSwgV2FsbFRpbGUsIEZsb29yVGlsZSB9IGZyb20gJy4vdGlsZSc7XG5pbXBvcnQgTWFwIGZyb20gJy4vbWFwJztcbmltcG9ydCBFbnRpdHkgZnJvbSAnLi9lbnRpdHknO1xuaW1wb3J0IHsgUGxheWVyVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlcyc7XG5cbmNvbnN0IFN0YXJ0U2NyZWVuID0ge1xuICBlbnRlcjogKCkgPT4gY29uc29sZS5sb2coJ0VudGVyZWQgU3RhcnRTY3JlZW4nKSxcbiAgZXhpdDogKCkgPT4gY29uc29sZS5sb2coJ0V4aXRlZCBTdGFydFNjcmVlbicpLFxuICByZW5kZXI6IChkaXNwbGF5KSA9PiB7XG4gICAgZGlzcGxheS5kcmF3VGV4dCgxLCAxLCAnJWN7eWVsbG93fUphdmFzY3JpcHQgUm9ndWVsaWtlJyk7XG4gICAgZGlzcGxheS5kcmF3VGV4dCgxLCAyLCAnUHJlc3MgW0VudGVyXSB0byBzdGFydCEnKTtcbiAgfSxcbiAgaGFuZGxlSW5wdXQ6ICh0eXBlLCBldmVudCwgZ2FtZSkgPT4ge1xuICAgIGlmICh0eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfUkVUVVJOKSB7XG4gICAgICAgIGdhbWUuc3dpdGNoU2NyZWVuKFBsYXlTY3JlZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbn07XG5cbmNvbnN0IFBsYXlTY3JlZW4gPSB7XG4gIF9tYXA6IG51bGwsXG4gIF9wbGF5ZXI6IG51bGwsXG5cbiAgZW50ZXIoKSB7XG4gICAgY29uc3QgbWFwV2lkdGggPSAxNTA7XG4gICAgY29uc3QgbWFwSGVpZ2h0ID0gMTUwO1xuICAgIGNvbnN0IGdlbmVyYXRvciA9IG5ldyBST1QuTWFwLkNlbGx1bGFyKG1hcFdpZHRoLCBtYXBIZWlnaHQpO1xuICAgIGNvbnN0IHRvdGFsSXRlcmF0aW9ucyA9IDM7XG4gICAgY29uc3QgbWFwID0gW107XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCBtYXBXaWR0aDsgeCsrKSB7XG4gICAgICBtYXAucHVzaChbXSk7XG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IG1hcEhlaWdodDsgeSsrKSB7XG4gICAgICAgIG1hcFt4XS5wdXNoKE51bGxUaWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuZXJhdG9yLnJhbmRvbWl6ZSgwLjUpO1xuICAgIC8vIEl0ZXJhdGl2ZWx5IHNtb290aGVuIHRoZSBtYXBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsSXRlcmF0aW9ucyAtIDE7IGkrKykge1xuICAgICAgZ2VuZXJhdG9yLmNyZWF0ZSgpO1xuICAgIH1cbiAgICAvLyBTbW9vdGhlbiBpdCBvbmUgbGFzdCB0aW1lIGFuZCB0aGVuIHVwZGF0ZSBvdXIgbWFwXG4gICAgZ2VuZXJhdG9yLmNyZWF0ZSgoeCwgeSwgdikgPT4ge1xuICAgICAgaWYgKHYgPT09IDEpIHtcbiAgICAgICAgbWFwW3hdW3ldID0gRmxvb3JUaWxlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwW3hdW3ldID0gV2FsbFRpbGU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9wbGF5ZXIgPSBuZXcgRW50aXR5KFBsYXllclRlbXBsYXRlKTtcbiAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKG1hcCwgdGhpcy5fcGxheWVyKTtcbiAgICB0aGlzLl9tYXAuZ2V0RW5naW5lKCkuc3RhcnQoKTtcbiAgfSxcblxuICBtb3ZlKGRYLCBkWSkge1xuICAgIGNvbnN0IG5ld1ggPSB0aGlzLl9wbGF5ZXIuZ2V0WCgpICsgZFg7XG4gICAgY29uc3QgbmV3WSA9IHRoaXMuX3BsYXllci5nZXRZKCkgKyBkWTtcblxuICAgIHRoaXMuX3BsYXllci50cnlNb3ZlKG5ld1gsIG5ld1ksIHRoaXMuX21hcCk7XG4gIH0sXG5cbiAgcmVuZGVyKGRpc3BsYXksIGdhbWUpIHtcbiAgICBjb25zdCBzY3JlZW5XaWR0aCA9IGdhbWUuZ2V0U2NyZWVuV2lkdGgoKTtcbiAgICBjb25zdCBzY3JlZW5IZWlnaHQgPSBnYW1lLmdldFNjcmVlbkhlaWdodCgpO1xuXG4gICAgY29uc3QgdG9wTGVmdFggPSBNYXRoLm1pbihcbiAgICAgIE1hdGgubWF4KFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLl9wbGF5ZXIuZ2V0WCgpIC0gKHNjcmVlbldpZHRoIC8gMilcbiAgICAgICksXG4gICAgICB0aGlzLl9tYXAuZ2V0V2lkdGgoKSAtIHNjcmVlbldpZHRoXG4gICAgKTtcbiAgICBjb25zdCB0b3BMZWZ0WSA9IE1hdGgubWluKFxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuX3BsYXllci5nZXRZKCkgLSAoc2NyZWVuSGVpZ2h0IC8gMilcbiAgICAgICksXG4gICAgICB0aGlzLl9tYXAuZ2V0SGVpZ2h0KCkgLSBzY3JlZW5IZWlnaHRcbiAgICApO1xuXG4gICAgZm9yIChsZXQgeCA9IHRvcExlZnRYOyB4IDwgdG9wTGVmdFggKyBzY3JlZW5XaWR0aDsgeCsrKSB7XG4gICAgICBmb3IgKGxldCB5ID0gdG9wTGVmdFk7IHkgPCB0b3BMZWZ0WSArIHNjcmVlbkhlaWdodDsgeSsrKSB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLl9tYXAuZ2V0VGlsZSh4LCB5KTtcbiAgICAgICAgZGlzcGxheS5kcmF3KFxuICAgICAgICAgIHggLSB0b3BMZWZ0WCxcbiAgICAgICAgICB5IC0gdG9wTGVmdFksXG4gICAgICAgICAgdGlsZS5nZXRDaGFyKCksXG4gICAgICAgICAgdGlsZS5nZXRGb3JlZ3JvdW5kKCksXG4gICAgICAgICAgdGlsZS5nZXRCYWNrZ3JvdW5kKClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLl9tYXAuZ2V0RW50aXRpZXMoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSBlbnRpdGllc1tpXTtcbiAgICAgIGlmIChlbnRpdHkuZ2V0WCgpID49IHRvcExlZnRYICYmIGVudGl0eS5nZXRZKCkgPj0gdG9wTGVmdFkgJiYgZW50aXR5LmdldFgoKSA8IHRvcExlZnRYICsgc2NyZWVuV2lkdGggJiYgZW50aXR5LmdldFkoKSA8IHRvcExlZnRZICsgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIGRpc3BsYXkuZHJhdyhcbiAgICAgICAgICBlbnRpdHkuZ2V0WCgpIC0gdG9wTGVmdFgsXG4gICAgICAgICAgZW50aXR5LmdldFkoKSAtIHRvcExlZnRZLFxuICAgICAgICAgIGVudGl0eS5nZXRDaGFyKCksXG4gICAgICAgICAgZW50aXR5LmdldEZvcmVncm91bmQoKSxcbiAgICAgICAgICBlbnRpdHkuZ2V0QmFja2dyb3VuZCgpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGhhbmRsZUlucHV0KHR5cGUsIGV2ZW50LCBnYW1lKSB7XG4gICAgaWYgKHR5cGUgPT09ICdrZXlkb3duJykge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IFJPVC5WS19SRVRVUk4pIHtcbiAgICAgICAgZ2FtZS5zd2l0Y2hTY3JlZW4oV2luU2NyZWVuKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gUk9ULlZLX0VTQ0FQRSkge1xuICAgICAgICBnYW1lLnN3aXRjaFNjcmVlbihMb3NlU2NyZWVuKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIG1vdmVtZW50XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfTEVGVCkge1xuICAgICAgICAgIHRoaXMubW92ZSgtMSwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gUk9ULlZLX1JJR0hUKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlKDEsIDApO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IFJPVC5WS19VUCkge1xuICAgICAgICAgIHRoaXMubW92ZSgwLCAtMSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gUk9ULlZLX0RPV04pIHtcbiAgICAgICAgICB0aGlzLm1vdmUoMCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwLmdldEVuZ2luZSgpLnVubG9jaygpO1xuICAgICAgICBnYW1lLnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZXhpdCgpIHtcbiAgICBjb25zb2xlLmxvZygnRXhpdGVkIFBsYXlTY3JlZW4nKTtcbiAgfSxcbn07XG5cbmNvbnN0IFdpblNjcmVlbiA9IHtcbiAgZW50ZXI6ICgpID0+IGNvbnNvbGUubG9nKCdFbnRlcmVkIFdpblNjcmVlbicpLFxuICBleGl0OiAoKSA9PiBjb25zb2xlLmxvZygnRXhpdGVkIFdpblNjcmVlbicpLFxuICByZW5kZXI6IChkaXNwbGF5KSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyMjsgaSsrKSB7XG4gICAgICAvLyBHZW5lcmF0ZSByYW5kb20gYmFja2dyb3VuZCBjb2xvcnNcbiAgICAgIGNvbnN0IHIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpO1xuICAgICAgY29uc3QgZyA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1NSk7XG4gICAgICBjb25zdCBiID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBST1QuQ29sb3IudG9SR0IoW3IsIGcsIGJdKTtcbiAgICAgIGRpc3BsYXkuZHJhd1RleHQoMiwgaSArIDEsIGAlYnske2JhY2tncm91bmR9fVlvdSB3aW4hYCk7XG4gICAgfVxuICB9LFxuICBoYW5kbGVJbnB1dDogKHR5cGUsIGV2ZW50LCBnYW1lKSA9PiB7IH0sXG59O1xuXG5jb25zdCBMb3NlU2NyZWVuID0ge1xuICBlbnRlcjogKCkgPT4gY29uc29sZS5sb2coJ0VudGVyZWQgTG9zZVNjcmVlbicpLFxuICBleGl0OiAoKSA9PiBjb25zb2xlLmxvZygnRXhpdGVkIExvc2VTY3JlZW4nKSxcbiAgcmVuZGVyOiAoZGlzcGxheSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjI7IGkrKykge1xuICAgICAgZGlzcGxheS5kcmF3VGV4dCgyLCBpICsgMSwgJyVie3JlZH1Zb3UgbG9zZSEgOignKTtcbiAgICB9XG4gIH0sXG4gIGhhbmRsZUlucHV0OiAodHlwZSwgZXZlbnQsIGdhbWUpID0+IHsgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgU3RhcnRTY3JlZW4sXG4gIFBsYXlTY3JlZW4sXG4gIFdpblNjcmVlbixcbiAgTG9zZVNjcmVlbixcbn07XG4iLCJpbXBvcnQge1xuICBNb3ZlYWJsZSxcbiAgUGxheWVyQWN0b3IsXG4gIEZ1bmd1c0FjdG9yLFxuICBTaW1wbGVBdHRhY2tlcixcbiAgRGVzdHJ1Y3RpYmxlLFxuICBEaWdnZXIsXG59IGZyb20gJy4vbWl4aW5zJztcblxuZXhwb3J0IGNvbnN0IFBsYXllclRlbXBsYXRlID0ge1xuICBjaGFyOiAnQCcsXG4gIGZnOiAnd2hpdGUnLFxuICBiZzogJ2JsYWNrJyxcbiAgbWl4aW5zOiBbTW92ZWFibGUsIFBsYXllckFjdG9yLCBTaW1wbGVBdHRhY2tlciwgRGlnZ2VyLCBEZXN0cnVjdGlibGVdLFxufTtcblxuZXhwb3J0IGNvbnN0IEZ1bmd1c1RlbXBsYXRlID0ge1xuICBjaGFyOiAnRicsXG4gIGZnOiAnZ3JlZW4nLFxuICBtaXhpbnM6IFtGdW5ndXNBY3RvciwgRGVzdHJ1Y3RpYmxlXSxcbn07XG4iLCJpbXBvcnQgR2x5cGggZnJvbSAnLi9nbHlwaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbGUgZXh0ZW5kcyBHbHlwaCB7XG4gIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMgPSB7fSkge1xuICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuXG4gICAgdGhpcy5faXNXYWxrYWJsZSA9IHByb3BlcnRpZXMuaXNXYWxrYWJsZSB8fCBmYWxzZTtcbiAgICB0aGlzLl9pc0RpZ2dhYmxlID0gcHJvcGVydGllcy5pc0RpZ2dhYmxlIHx8IGZhbHNlO1xuICB9XG5cbiAgaXNXYWxrYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNXYWxrYWJsZTtcbiAgfVxuXG4gIGlzRGlnZ2FibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzRGlnZ2FibGU7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IE51bGxUaWxlID0gbmV3IFRpbGUoe30pO1xuZXhwb3J0IGNvbnN0IEZsb29yVGlsZSA9IG5ldyBUaWxlKHtcbiAgY2hhcjogJy4nLFxuICBpc1dhbGthYmxlOiB0cnVlLFxufSk7XG5leHBvcnQgY29uc3QgV2FsbFRpbGUgPSBuZXcgVGlsZSh7XG4gIGNoYXI6ICcjJyxcbiAgZmc6ICdnb2xkZW5yb2QnLFxuICBpc0RpZ2dhYmxlOiB0cnVlLFxufSk7XG4iLCJjb25zdCBpbml0aWFsU3RhdGUgPSB7IGdhbWU6IHsgbWVzc2FnZXM6IFtdIH0gfTtcblxuZXhwb3J0IGRlZmF1bHQgaW5pdGlhbFN0YXRlO1xuIiwiaW1wb3J0IGluaXRpYWxTdGF0ZSBmcm9tICcuLi9pbml0aWFsU3RhdGUnO1xuXG5jb25zdCBnYW1lID0gKHN0YXRlID0gaW5pdGlhbFN0YXRlLmdhbWUsIGFjdGlvbikgPT4ge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSAnQUREX01FU1NBR0UnOlxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IG1lc3NhZ2VzOiBzdGF0ZS5tZXNzYWdlcy5jb25jYXQoW2FjdGlvbi5tZXNzYWdlXSkgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2FtZTtcbiIsImltcG9ydCB7IGNvbWJpbmVSZWR1Y2VycyB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCBnYW1lIGZyb20gJy4vZ2FtZSc7XG5cbmNvbnN0IEdhbWUgPSBjb21iaW5lUmVkdWNlcnMoe1xuICBnYW1lLFxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWU7XG4iXX0=
