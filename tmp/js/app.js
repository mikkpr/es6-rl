!function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return n(i?i:t)},c,c.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===r||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){g&&f&&(g=!1,f.length?d=f.concat(d):m=-1,d.length&&h())}function h(){if(!g){var t=o(a);g=!0;for(var e=d.length;e;){for(f=d,d=[];++m<e;)f&&f[m].run();m=-1,e=d.length}f=null,g=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,p,_=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:r}catch(t){u=r}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(t){p=n}}();var f,d=[],g=!1,m=-1;_.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.push(new l(t,e)),1!==d.length||g||o(h)},l.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=c,_.addListener=c,_.once=c,_.off=c,_.removeListener=c,_.removeAllListeners=c,_.emit=c,_.binding=function(t){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(t){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},{}],2:[function(t,e,i){(function(t,e){e.requestAnimationFrame=function(t){return setTimeout(t,1e3/60)},e.document={body:{appendChild:function(t){},scrollLeft:0,scrollTop:0},createElement:function(e){var i;return i={getBoundingClientRect:function(){var t;return t={left:0,top:0}},getContext:function(e){var r;return r={_termcolor:null,beginPath:function(){},canvas:i,clearRect:function(e,i,r,n){if(null!==this._termcolor){var o=this._termcolor.clearToAnsi(this.fillStyle);t.stdout.write(o)}},drawImage:function(t,e,i,r,n,o,s,a,h){},fill:function(){},fillRect:function(e,i,r,n){if(null!==this._termcolor){var o=this._termcolor.clearToAnsi(this.fillStyle);t.stdout.write(o)}},fillStyle:"#000",fillText:function(t,e,i){},font:"monospace",lineTo:function(t,e){},measureText:function(t){var e;return e={width:12}},moveTo:function(t,e){},textAlign:"center",textBaseline:"middle"}},height:0,style:{left:"100px",position:"absolute",top:"100px",visibility:"hidden"},width:0}},documentElement:{scrollLeft:0,scrollTop:0}};var r={isSupported:function(){return!(!document.createElement("canvas").getContext||!Function.prototype.bind)},DEFAULT_WIDTH:80,DEFAULT_HEIGHT:25,DIRS:{4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]},VK_CANCEL:3,VK_HELP:6,VK_BACK_SPACE:8,VK_TAB:9,VK_CLEAR:12,VK_RETURN:13,VK_ENTER:14,VK_SHIFT:16,VK_CONTROL:17,VK_ALT:18,VK_PAUSE:19,VK_CAPS_LOCK:20,VK_ESCAPE:27,VK_SPACE:32,VK_PAGE_UP:33,VK_PAGE_DOWN:34,VK_END:35,VK_HOME:36,VK_LEFT:37,VK_UP:38,VK_RIGHT:39,VK_DOWN:40,VK_PRINTSCREEN:44,VK_INSERT:45,VK_DELETE:46,VK_0:48,VK_1:49,VK_2:50,VK_3:51,VK_4:52,VK_5:53,VK_6:54,VK_7:55,VK_8:56,VK_9:57,VK_COLON:58,VK_SEMICOLON:59,VK_LESS_THAN:60,VK_EQUALS:61,VK_GREATER_THAN:62,VK_QUESTION_MARK:63,VK_AT:64,VK_A:65,VK_B:66,VK_C:67,VK_D:68,VK_E:69,VK_F:70,VK_G:71,VK_H:72,VK_I:73,VK_J:74,VK_K:75,VK_L:76,VK_M:77,VK_N:78,VK_O:79,VK_P:80,VK_Q:81,VK_R:82,VK_S:83,VK_T:84,VK_U:85,VK_V:86,VK_W:87,VK_X:88,VK_Y:89,VK_Z:90,VK_CONTEXT_MENU:93,VK_NUMPAD0:96,VK_NUMPAD1:97,VK_NUMPAD2:98,VK_NUMPAD3:99,VK_NUMPAD4:100,VK_NUMPAD5:101,VK_NUMPAD6:102,VK_NUMPAD7:103,VK_NUMPAD8:104,VK_NUMPAD9:105,VK_MULTIPLY:106,VK_ADD:107,VK_SEPARATOR:108,VK_SUBTRACT:109,VK_DECIMAL:110,VK_DIVIDE:111,VK_F1:112,VK_F2:113,VK_F3:114,VK_F4:115,VK_F5:116,VK_F6:117,VK_F7:118,VK_F8:119,VK_F9:120,VK_F10:121,VK_F11:122,VK_F12:123,VK_F13:124,VK_F14:125,VK_F15:126,VK_F16:127,VK_F17:128,VK_F18:129,VK_F19:130,VK_F20:131,VK_F21:132,VK_F22:133,VK_F23:134,VK_F24:135,VK_NUM_LOCK:144,VK_SCROLL_LOCK:145,VK_CIRCUMFLEX:160,VK_EXCLAMATION:161,VK_DOUBLE_QUOTE:162,VK_HASH:163,VK_DOLLAR:164,VK_PERCENT:165,VK_AMPERSAND:166,VK_UNDERSCORE:167,VK_OPEN_PAREN:168,VK_CLOSE_PAREN:169,VK_ASTERISK:170,VK_PLUS:171,VK_PIPE:172,VK_HYPHEN_MINUS:173,VK_OPEN_CURLY_BRACKET:174,VK_CLOSE_CURLY_BRACKET:175,VK_TILDE:176,VK_COMMA:188,VK_PERIOD:190,VK_SLASH:191,VK_BACK_QUOTE:192,VK_OPEN_BRACKET:219,VK_BACK_SLASH:220,VK_CLOSE_BRACKET:221,VK_QUOTE:222,VK_META:224,VK_ALTGR:225,VK_WIN:91,VK_KANA:21,VK_HANGUL:21,VK_EISU:22,VK_JUNJA:23,VK_FINAL:24,VK_HANJA:25,VK_KANJI:25,VK_CONVERT:28,VK_NONCONVERT:29,VK_ACCEPT:30,VK_MODECHANGE:31,VK_SELECT:41,VK_PRINT:42,VK_EXECUTE:43,VK_SLEEP:95};r.Text={RE_COLORS:/%([bc]){([^}]*)}/g,TYPE_TEXT:0,TYPE_NEWLINE:1,TYPE_FG:2,TYPE_BG:3,measure:function(t,e){for(var i={width:0,height:1},r=this.tokenize(t,e),n=0,o=0;o<r.length;o++){var s=r[o];switch(s.type){case this.TYPE_TEXT:n+=s.value.length;break;case this.TYPE_NEWLINE:i.height++,i.width=Math.max(i.width,n),n=0}}return i.width=Math.max(i.width,n),i},tokenize:function(t,e){var i=[],n=0;t.replace(this.RE_COLORS,function(e,o,s,a){var h=t.substring(n,a);return h.length&&i.push({type:r.Text.TYPE_TEXT,value:h}),i.push({type:"c"==o?r.Text.TYPE_FG:r.Text.TYPE_BG,value:s.trim()}),n=a+e.length,""});var o=t.substring(n);return o.length&&i.push({type:r.Text.TYPE_TEXT,value:o}),this._breakLines(i,e)},_breakLines:function(t,e){e||(e=1/0);for(var i=0,n=0,o=-1;i<t.length;){var s=t[i];if(s.type==r.Text.TYPE_NEWLINE&&(n=0,o=-1),s.type==r.Text.TYPE_TEXT){for(;0==n&&" "==s.value.charAt(0);)s.value=s.value.substring(1);var a=s.value.indexOf("\n");if(a!=-1){s.value=this._breakInsideToken(t,i,a,!0);for(var h=s.value.split("");h.length&&" "==h[h.length-1];)h.pop();s.value=h.join("")}if(s.value.length){if(n+s.value.length>e){for(var a=-1;;){var l=s.value.indexOf(" ",a+1);if(l==-1)break;if(n+l>e)break;a=l}if(a!=-1)s.value=this._breakInsideToken(t,i,a,!0);else if(o!=-1){var s=t[o],c=s.value.lastIndexOf(" ");s.value=this._breakInsideToken(t,o,c,!0),i=o}else s.value=this._breakInsideToken(t,i,e-n,!1)}else n+=s.value.length,s.value.indexOf(" ")!=-1&&(o=i);i++}else t.splice(i,1)}else i++}t.push({type:r.Text.TYPE_NEWLINE});for(var u=null,i=0;i<t.length;i++){var s=t[i];switch(s.type){case r.Text.TYPE_TEXT:u=s;break;case r.Text.TYPE_NEWLINE:if(u){for(var h=u.value.split("");h.length&&" "==h[h.length-1];)h.pop();u.value=h.join("")}u=null}}return t.pop(),t},_breakInsideToken:function(t,e,i,n){var o={type:r.Text.TYPE_NEWLINE},s={type:r.Text.TYPE_TEXT,value:t[e].value.substring(i+(n?1:0))};return t.splice(e+1,0,o,s),t[e].value.substring(0,i)}},Array.prototype.random=Array.prototype.random||function(){return this.length?this[Math.floor(r.RNG.getUniform()*this.length)]:null},Array.prototype.randomize=Array.prototype.randomize||function(){for(var t=[];this.length;){var e=this.indexOf(this.random());t.push(this.splice(e,1)[0])}return t},Number.prototype.mod=Number.prototype.mod||function(t){return(this%t+t)%t},String.prototype.capitalize=String.prototype.capitalize||function(){return this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.lpad=String.prototype.lpad||function(t,e){for(var i=t||"0",r=e||2,n="";n.length<r-this.length;)n+=i;return n=n.substring(0,r-this.length),n+this},String.prototype.rpad=String.prototype.rpad||function(t,e){for(var i=t||"0",r=e||2,n="";n.length<r-this.length;)n+=i;return n=n.substring(0,r-this.length),this+n},String.format=String.format||function(t){var e=String.format.map,i=Array.prototype.slice.call(arguments,1),r=function(r,n,o,s){if("%"==t.charAt(s-1))return r.substring(1);if(!i.length)return r;var a=i[0],h=n||o,l=h.split(","),c=l.shift(),u=e[c.toLowerCase()];if(!u)return r;var a=i.shift(),p=a[u].apply(a,l),_=c.charAt(0);return _!=_.toLowerCase()&&(p=p.capitalize()),p};return t.replace(/%(?:([a-z]+)|(?:{([^}]+)}))/gi,r)},String.format.map=String.format.map||{s:"toString"},String.prototype.format=String.prototype.format||function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),String.format.apply(String,t)},Object.create||(Object.create=function(t){var e=function(){};return e.prototype=t,new e}),Function.prototype.extend=Function.prototype.extend||function(t){return this.prototype=Object.create(t.prototype),this.prototype.constructor=this,this},"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)}),r.Display=function(t){var e=document.createElement("canvas");this._context=e.getContext("2d"),this._data={},this._dirty=!1,this._options={},this._backend=null;var i={width:r.DEFAULT_WIDTH,height:r.DEFAULT_HEIGHT,transpose:!1,layout:"rect",fontSize:15,spacing:1,border:0,forceSquareRatio:!1,fontFamily:"monospace",fontStyle:"",fg:"#ccc",bg:"#000",tileWidth:32,tileHeight:32,tileMap:{},tileSet:null,tileColorize:!1,termColor:"xterm"};for(var n in t)i[n]=t[n];this.setOptions(i),this.DEBUG=this.DEBUG.bind(this),this._tick=this._tick.bind(this),requestAnimationFrame(this._tick)},r.Display.prototype.DEBUG=function(t,e,i){var r=[this._options.bg,this._options.fg];this.draw(t,e,null,null,r[i%r.length])},r.Display.prototype.clear=function(){this._data={},this._dirty=!0},r.Display.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e];if(t.width||t.height||t.fontSize||t.fontFamily||t.spacing||t.layout){t.layout&&(this._backend=new(r.Display[t.layout.capitalize()])(this._context));var i=(this._options.fontStyle?this._options.fontStyle+" ":"")+this._options.fontSize+"px "+this._options.fontFamily;this._context.font=i,this._backend.compute(this._options),this._context.font=i,this._context.textAlign="center",this._context.textBaseline="middle",this._dirty=!0}return this},r.Display.prototype.getOptions=function(){return this._options},r.Display.prototype.getContainer=function(){return this._context.canvas},r.Display.prototype.computeSize=function(t,e){return this._backend.computeSize(t,e,this._options)},r.Display.prototype.computeFontSize=function(t,e){return this._backend.computeFontSize(t,e,this._options)},r.Display.prototype.eventToPosition=function(t){if(t.touches)var e=t.touches[0].clientX,i=t.touches[0].clientY;else var e=t.clientX,i=t.clientY;var r=this._context.canvas.getBoundingClientRect();return e-=r.left,i-=r.top,e<0||i<0||e>=this._context.canvas.width||i>=this._context.canvas.height?[-1,-1]:this._backend.eventToPosition(e,i)},r.Display.prototype.draw=function(t,e,i,r,n){r||(r=this._options.fg),n||(n=this._options.bg),this._data[t+","+e]=[t,e,i,r,n],this._dirty!==!0&&(this._dirty||(this._dirty={}),this._dirty[t+","+e]=!0)},r.Display.prototype.drawText=function(t,e,i,n){var o=null,s=null,a=t,h=e,l=1;n||(n=this._options.width-t);for(var c=r.Text.tokenize(i,n);c.length;){var u=c.shift();switch(u.type){case r.Text.TYPE_TEXT:for(var p=!1,_=!1,f=!1,d=!1,g=0;g<u.value.length;g++){var m=u.value.charCodeAt(g),v=u.value.charAt(g);f=m>255&&m<65377||m>65500&&m<65512&&m>65518,p=32==v.charCodeAt(0)||12288==v.charCodeAt(0),!d||f||p||a++,f&&!_&&a++,this.draw(a++,h,v,o,s),_=p,d=f}break;case r.Text.TYPE_FG:o=u.value||null;break;case r.Text.TYPE_BG:s=u.value||null;break;case r.Text.TYPE_NEWLINE:a=t,h++,l++}}return l},r.Display.prototype._tick=function(){if(requestAnimationFrame(this._tick),this._dirty){if(this._dirty===!0){this._context.fillStyle=this._options.bg,this._context.fillRect(0,0,this._context.canvas.width,this._context.canvas.height);for(var t in this._data)this._draw(t,!1)}else for(var e in this._dirty)this._draw(e,!0);this._dirty=!1}},r.Display.prototype._draw=function(t,e){var i=this._data[t];i[4]!=this._options.bg&&(e=!0),this._backend.draw(i,e)},r.Display.Backend=function(t){this._context=t},r.Display.Backend.prototype.compute=function(t){},r.Display.Backend.prototype.draw=function(t,e){},r.Display.Backend.prototype.computeSize=function(t,e){},r.Display.Backend.prototype.computeFontSize=function(t,e){},r.Display.Backend.prototype.eventToPosition=function(t,e){},r.Display.Rect=function(t){r.Display.Backend.call(this,t),this._spacingX=0,this._spacingY=0,this._canvasCache={},this._options={}},r.Display.Rect.extend(r.Display.Backend),r.Display.Rect.cache=!1,r.Display.Rect.prototype.compute=function(t){this._canvasCache={},this._options=t;var e=Math.ceil(this._context.measureText("W").width);this._spacingX=Math.ceil(t.spacing*e),this._spacingY=Math.ceil(t.spacing*t.fontSize),this._options.forceSquareRatio&&(this._spacingX=this._spacingY=Math.max(this._spacingX,this._spacingY)),this._context.canvas.width=t.width*this._spacingX,this._context.canvas.height=t.height*this._spacingY},r.Display.Rect.prototype.draw=function(t,e){this.constructor.cache?this._drawWithCache(t,e):this._drawNoCache(t,e)},r.Display.Rect.prototype._drawWithCache=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=""+n+o+s;if(a in this._canvasCache)var h=this._canvasCache[a];else{var l=this._options.border,h=document.createElement("canvas"),c=h.getContext("2d");if(h.width=this._spacingX,h.height=this._spacingY,c.fillStyle=s,c.fillRect(l,l,h.width-l,h.height-l),n){c.fillStyle=o,c.font=this._context.font,c.textAlign="center",c.textBaseline="middle";for(var u=[].concat(n),p=0;p<u.length;p++)c.fillText(u[p],this._spacingX/2,Math.ceil(this._spacingY/2))}this._canvasCache[a]=h}this._context.drawImage(h,i*this._spacingX,r*this._spacingY)},r.Display.Rect.prototype._drawNoCache=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4];if(e){var a=this._options.border;this._context.fillStyle=s,this._context.fillRect(i*this._spacingX+a,r*this._spacingY+a,this._spacingX-a,this._spacingY-a)}if(n){this._context.fillStyle=o;for(var h=[].concat(n),l=0;l<h.length;l++)this._context.fillText(h[l],(i+.5)*this._spacingX,Math.ceil((r+.5)*this._spacingY))}},r.Display.Rect.prototype.computeSize=function(t,e){var i=Math.floor(t/this._spacingX),r=Math.floor(e/this._spacingY);return[i,r]},r.Display.Rect.prototype.computeFontSize=function(t,e){var i=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height),n=this._context.font;this._context.font="100px "+this._options.fontFamily;var o=Math.ceil(this._context.measureText("W").width);this._context.font=n;var s=o/100,a=s*r/i;return a>1&&(r=Math.floor(r/a)),Math.floor(r/this._options.spacing)},r.Display.Rect.prototype.eventToPosition=function(t,e){return[Math.floor(t/this._spacingX),Math.floor(e/this._spacingY)]},r.Display.Hex=function(t){r.Display.Backend.call(this,t),this._spacingX=0,this._spacingY=0,this._hexSize=0,this._options={}},r.Display.Hex.extend(r.Display.Backend),r.Display.Hex.prototype.compute=function(t){this._options=t;var e=Math.ceil(this._context.measureText("W").width);if(this._hexSize=Math.floor(t.spacing*(t.fontSize+e/Math.sqrt(3))/2),this._spacingX=this._hexSize*Math.sqrt(3)/2,this._spacingY=1.5*this._hexSize,t.transpose)var i="height",r="width";else var i="width",r="height";this._context.canvas[i]=Math.ceil((t.width+1)*this._spacingX),this._context.canvas[r]=Math.ceil((t.height-1)*this._spacingY+2*this._hexSize)},r.Display.Hex.prototype.draw=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=[(i+1)*this._spacingX,r*this._spacingY+this._hexSize];if(this._options.transpose&&a.reverse(),e&&(this._context.fillStyle=s,this._fill(a[0],a[1])),n){this._context.fillStyle=o;for(var h=[].concat(n),l=0;l<h.length;l++)this._context.fillText(h[l],a[0],Math.ceil(a[1]))}},r.Display.Hex.prototype.computeSize=function(t,e){this._options.transpose&&(t+=e,e=t-e,t-=e);var i=Math.floor(t/this._spacingX)-1,r=Math.floor((e-2*this._hexSize)/this._spacingY+1);return[i,r]},r.Display.Hex.prototype.computeFontSize=function(t,e){this._options.transpose&&(t+=e,e=t-e,t-=e);var i=2*t/((this._options.width+1)*Math.sqrt(3))-1,r=e/(2+1.5*(this._options.height-1)),n=Math.min(i,r),o=this._context.font;this._context.font="100px "+this._options.fontFamily;var s=Math.ceil(this._context.measureText("W").width);this._context.font=o;var a=s/100;n=Math.floor(n)+1;var h=2*n/(this._options.spacing*(1+a/Math.sqrt(3)));return Math.ceil(h)-1},r.Display.Hex.prototype.eventToPosition=function(t,e){if(this._options.transpose){t+=e,e=t-e,t-=e;var i="width"}else var i="height";var r=this._context.canvas[i]/this._options[i];return e=Math.floor(e/r),e.mod(2)?(t-=this._spacingX,t=1+2*Math.floor(t/(2*this._spacingX))):t=2*Math.floor(t/(2*this._spacingX)),[t,e]},r.Display.Hex.prototype._fill=function(t,e){var i=this._hexSize,r=this._options.border;this._context.beginPath(),this._options.transpose?(this._context.moveTo(t-i+r,e),this._context.lineTo(t-i/2+r,e+this._spacingX-r),this._context.lineTo(t+i/2-r,e+this._spacingX-r),this._context.lineTo(t+i-r,e),this._context.lineTo(t+i/2-r,e-this._spacingX+r),this._context.lineTo(t-i/2+r,e-this._spacingX+r),this._context.lineTo(t-i+r,e)):(this._context.moveTo(t,e-i+r),this._context.lineTo(t+this._spacingX-r,e-i/2+r),this._context.lineTo(t+this._spacingX-r,e+i/2-r),this._context.lineTo(t,e+i-r),this._context.lineTo(t-this._spacingX+r,e+i/2-r),this._context.lineTo(t-this._spacingX+r,e-i/2+r),this._context.lineTo(t,e-i+r)),this._context.fill()},r.Display.Tile=function(t){r.Display.Rect.call(this,t),this._options={},this._colorCanvas=document.createElement("canvas")},r.Display.Tile.extend(r.Display.Rect),r.Display.Tile.prototype.compute=function(t){this._options=t,this._context.canvas.width=t.width*t.tileWidth,this._context.canvas.height=t.height*t.tileHeight,this._colorCanvas.width=t.tileWidth,this._colorCanvas.height=t.tileHeight},r.Display.Tile.prototype.draw=function(t,e){var i=t[0],r=t[1],n=t[2],o=t[3],s=t[4],a=this._options.tileWidth,h=this._options.tileHeight;if(e&&(this._options.tileColorize?this._context.clearRect(i*a,r*h,a,h):(this._context.fillStyle=s,this._context.fillRect(i*a,r*h,a,h))),n)for(var l=[].concat(n),c=0;c<l.length;c++){var u=this._options.tileMap[l[c]];if(!u)throw new Error("Char '"+l[c]+"' not found in tileMap");if(this._options.tileColorize){var p=this._colorCanvas,_=p.getContext("2d");_.clearRect(0,0,a,h),_.drawImage(this._options.tileSet,u[0],u[1],a,h,0,0,a,h),"transparent"!=o&&(_.fillStyle=o,_.globalCompositeOperation="source-atop",_.fillRect(0,0,a,h)),"transparent"!=s&&(_.fillStyle=s,_.globalCompositeOperation="destination-over",_.fillRect(0,0,a,h)),this._context.drawImage(p,i*a,r*h,a,h)}else this._context.drawImage(this._options.tileSet,u[0],u[1],a,h,i*a,r*h,a,h)}},r.Display.Tile.prototype.computeSize=function(t,e){var i=Math.floor(t/this._options.tileWidth),r=Math.floor(e/this._options.tileHeight);return[i,r]},r.Display.Tile.prototype.computeFontSize=function(t,e){var i=Math.floor(t/this._options.width),r=Math.floor(e/this._options.height);return[i,r]},r.Display.Tile.prototype.eventToPosition=function(t,e){return[Math.floor(t/this._options.tileWidth),Math.floor(e/this._options.tileHeight)]},r.RNG={getSeed:function(){return this._seed},setSeed:function(t){return t=t<1?1/t:t,this._seed=t,this._s0=(t>>>0)*this._frac,t=69069*t+1>>>0,this._s1=t*this._frac,t=69069*t+1>>>0,this._s2=t*this._frac,this._c=1,this},getUniform:function(){var t=2091639*this._s0+this._c*this._frac;return this._s0=this._s1,this._s1=this._s2,this._c=0|t,this._s2=t-this._c,this._s2},getUniformInt:function(t,e){var i=Math.max(t,e),r=Math.min(t,e);return Math.floor(this.getUniform()*(i-r+1))+r},getNormal:function(t,e){do var i=2*this.getUniform()-1,r=2*this.getUniform()-1,n=i*i+r*r;while(n>1||0==n);var o=i*Math.sqrt(-2*Math.log(n)/n);return(t||0)+o*(e||1)},getPercentage:function(){return 1+Math.floor(100*this.getUniform())},getWeightedValue:function(t){var e=0;for(var i in t)e+=t[i];var r=this.getUniform()*e,n=0;for(var i in t)if(n+=t[i],r<n)return i;return i},getState:function(){return[this._s0,this._s1,this._s2,this._c]},setState:function(t){return this._s0=t[0],this._s1=t[1],this._s2=t[2],this._c=t[3],this},clone:function(){var t=Object.create(this);return t.setState(this.getState()),t},_s0:0,_s1:0,_s2:0,_c:0,_frac:2.3283064365386963e-10},r.RNG.setSeed(Date.now()),r.StringGenerator=function(t){this._options={words:!1,order:3,prior:.001};for(var e in t)this._options[e]=t[e];this._boundary=String.fromCharCode(0),this._suffix=this._boundary,this._prefix=[];for(var i=0;i<this._options.order;i++)this._prefix.push(this._boundary);this._priorValues={},this._priorValues[this._boundary]=this._options.prior,this._data={}},r.StringGenerator.prototype.clear=function(){this._data={},this._priorValues={}},r.StringGenerator.prototype.generate=function(){for(var t=[this._sample(this._prefix)];t[t.length-1]!=this._boundary;)t.push(this._sample(t));return this._join(t.slice(0,-1))},r.StringGenerator.prototype.observe=function(t){for(var e=this._split(t),i=0;i<e.length;i++)this._priorValues[e[i]]=this._options.prior;e=this._prefix.concat(e).concat(this._suffix);for(var i=this._options.order;i<e.length;i++)for(var r=e.slice(i-this._options.order,i),n=e[i],o=0;o<r.length;o++){var s=r.slice(o);this._observeEvent(s,n)}},r.StringGenerator.prototype.getStats=function(){var t=[],e=0;for(var i in this._priorValues)e++;e--,t.push("distinct samples: "+e);var r=0,n=0;for(var i in this._data){r++;for(var o in this._data[i])n++}return t.push("dictionary size (contexts): "+r),t.push("dictionary size (events): "+n),t.join(", ")},r.StringGenerator.prototype._split=function(t){return t.split(this._options.words?/\s+/:"")},r.StringGenerator.prototype._join=function(t){return t.join(this._options.words?" ":"")},r.StringGenerator.prototype._observeEvent=function(t,e){var i=this._join(t);i in this._data||(this._data[i]={});var r=this._data[i];e in r||(r[e]=0),r[e]++},r.StringGenerator.prototype._sample=function(t){t=this._backoff(t);var e=this._join(t),i=this._data[e],n={};if(this._options.prior){for(var o in this._priorValues)n[o]=this._priorValues[o];for(var o in i)n[o]+=i[o]}else n=i;return r.RNG.getWeightedValue(n)},r.StringGenerator.prototype._backoff=function(t){for(t.length>this._options.order?t=t.slice(-this._options.order):t.length<this._options.order&&(t=this._prefix.slice(0,this._options.order-t.length).concat(t));!(this._join(t)in this._data)&&t.length>0;)t=t.slice(1);return t},r.EventQueue=function(){this._time=0,this._events=[],this._eventTimes=[]},r.EventQueue.prototype.getTime=function(){return this._time},r.EventQueue.prototype.clear=function(){return this._events=[],this._eventTimes=[],this},r.EventQueue.prototype.add=function(t,e){for(var i=this._events.length,r=0;r<this._eventTimes.length;r++)if(this._eventTimes[r]>e){i=r;break}this._events.splice(i,0,t),this._eventTimes.splice(i,0,e)},r.EventQueue.prototype.get=function(){if(!this._events.length)return null;var t=this._eventTimes.splice(0,1)[0];if(t>0){this._time+=t;for(var e=0;e<this._eventTimes.length;e++)this._eventTimes[e]-=t}return this._events.splice(0,1)[0]},r.EventQueue.prototype.remove=function(t){var e=this._events.indexOf(t);return e!=-1&&(this._remove(e),!0)},r.EventQueue.prototype._remove=function(t){this._events.splice(t,1),this._eventTimes.splice(t,1)},r.Scheduler=function(){this._queue=new r.EventQueue,this._repeat=[],this._current=null},r.Scheduler.prototype.getTime=function(){return this._queue.getTime()},r.Scheduler.prototype.add=function(t,e){return e&&this._repeat.push(t),this},r.Scheduler.prototype.clear=function(){return this._queue.clear(),this._repeat=[],this._current=null,this},r.Scheduler.prototype.remove=function(t){var e=this._queue.remove(t),i=this._repeat.indexOf(t);return i!=-1&&this._repeat.splice(i,1),this._current==t&&(this._current=null),e},r.Scheduler.prototype.next=function(){return this._current=this._queue.get(),this._current},r.Scheduler.Simple=function(){r.Scheduler.call(this)},r.Scheduler.Simple.extend(r.Scheduler),r.Scheduler.Simple.prototype.add=function(t,e){return this._queue.add(t,0),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Simple.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&this._queue.add(this._current,0),r.Scheduler.prototype.next.call(this)},r.Scheduler.Speed=function(){r.Scheduler.call(this)},r.Scheduler.Speed.extend(r.Scheduler),r.Scheduler.Speed.prototype.add=function(t,e){return this._queue.add(t,1/t.getSpeed()),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Speed.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&this._queue.add(this._current,1/this._current.getSpeed()),r.Scheduler.prototype.next.call(this)},r.Scheduler.Action=function(){r.Scheduler.call(this),this._defaultDuration=1,this._duration=this._defaultDuration},r.Scheduler.Action.extend(r.Scheduler),r.Scheduler.Action.prototype.add=function(t,e,i){return this._queue.add(t,i||this._defaultDuration),r.Scheduler.prototype.add.call(this,t,e)},r.Scheduler.Action.prototype.clear=function(){return this._duration=this._defaultDuration,r.Scheduler.prototype.clear.call(this)},r.Scheduler.Action.prototype.remove=function(t){return t==this._current&&(this._duration=this._defaultDuration),r.Scheduler.prototype.remove.call(this,t)},r.Scheduler.Action.prototype.next=function(){return this._current&&this._repeat.indexOf(this._current)!=-1&&(this._queue.add(this._current,this._duration||this._defaultDuration),this._duration=this._defaultDuration),r.Scheduler.prototype.next.call(this)},r.Scheduler.Action.prototype.setDuration=function(t){return this._current&&(this._duration=t),this},r.Engine=function(t){this._scheduler=t,this._lock=1},r.Engine.prototype.start=function(){return this.unlock()},r.Engine.prototype.lock=function(){return this._lock++,this},r.Engine.prototype.unlock=function(){if(!this._lock)throw new Error("Cannot unlock unlocked engine");for(this._lock--;!this._lock;){var t=this._scheduler.next();if(!t)return this.lock();var e=t.act();e&&e.then&&(this.lock(),e.then(this.unlock.bind(this)))}return this},r.Map=function(t,e){this._width=t||r.DEFAULT_WIDTH,this._height=e||r.DEFAULT_HEIGHT},r.Map.prototype.create=function(t){},r.Map.prototype._fillMap=function(t){for(var e=[],i=0;i<this._width;i++){e.push([]);for(var r=0;r<this._height;r++)e[i].push(t)}return e},r.Map.Arena=function(t,e){r.Map.call(this,t,e)},r.Map.Arena.extend(r.Map),r.Map.Arena.prototype.create=function(t){for(var e=this._width-1,i=this._height-1,r=0;r<=e;r++)for(var n=0;n<=i;n++){var o=r&&n&&r<e&&n<i;t(r,n,o?0:1)}return this},r.Map.DividedMaze=function(t,e){r.Map.call(this,t,e),this._stack=[]},r.Map.DividedMaze.extend(r.Map),r.Map.DividedMaze.prototype.create=function(t){var e=this._width,i=this._height;this._map=[];for(var r=0;r<e;r++){this._map.push([]);for(var n=0;n<i;n++){var o=0==r||0==n||r+1==e||n+1==i;this._map[r].push(o?1:0)}}this._stack=[[1,1,e-2,i-2]],this._process();for(var r=0;r<e;r++)for(var n=0;n<i;n++)t(r,n,this._map[r][n]);return this._map=null,this},r.Map.DividedMaze.prototype._process=function(){for(;this._stack.length;){var t=this._stack.shift();this._partitionRoom(t)}},r.Map.DividedMaze.prototype._partitionRoom=function(t){for(var e=[],i=[],r=t[0]+1;r<t[2];r++){var n=this._map[r][t[1]-1],o=this._map[r][t[3]+1];!n||!o||r%2||e.push(r)}for(var s=t[1]+1;s<t[3];s++){var a=this._map[t[0]-1][s],h=this._map[t[2]+1][s];!a||!h||s%2||i.push(s)}if(e.length&&i.length){var l=e.random(),c=i.random();this._map[l][c]=1;var u=[],p=[];u.push(p);for(var r=t[0];r<l;r++)this._map[r][c]=1,p.push([r,c]);var p=[];u.push(p);for(var r=l+1;r<=t[2];r++)this._map[r][c]=1,p.push([r,c]);var p=[];u.push(p);for(var s=t[1];s<c;s++)this._map[l][s]=1,p.push([l,s]);var p=[];u.push(p);for(var s=c+1;s<=t[3];s++)this._map[l][s]=1,p.push([l,s]);for(var _=u.random(),r=0;r<u.length;r++){var p=u[r];if(p!=_){var f=p.random();this._map[f[0]][f[1]]=0}}this._stack.push([t[0],t[1],l-1,c-1]),this._stack.push([l+1,t[1],t[2],c-1]),this._stack.push([t[0],c+1,l-1,t[3]]),this._stack.push([l+1,c+1,t[2],t[3]])}},r.Map.IceyMaze=function(t,e,i){r.Map.call(this,t,e),this._regularity=i||0},r.Map.IceyMaze.extend(r.Map),r.Map.IceyMaze.prototype.create=function(t){var e=this._width,i=this._height,n=this._fillMap(1);e-=e%2?1:2,i-=i%2?1:2;var o=0,s=0,a=0,h=0,l=0,c=!1,u=[[0,0],[0,0],[0,0],[0,0]];do if(o=1+2*Math.floor(r.RNG.getUniform()*(e-1)/2),s=1+2*Math.floor(r.RNG.getUniform()*(i-1)/2),l||(n[o][s]=0),!n[o][s]){this._randomize(u);do{0==Math.floor(r.RNG.getUniform()*(this._regularity+1))&&this._randomize(u),c=!0;for(var p=0;p<4;p++)if(a=o+2*u[p][0],h=s+2*u[p][1],this._isFree(n,a,h,e,i)){n[a][h]=0,n[o+u[p][0]][s+u[p][1]]=0,o=a,s=h,c=!1,l++;break}}while(!c)}while(l+1<e*i/4);for(var p=0;p<this._width;p++)for(var _=0;_<this._height;_++)t(p,_,n[p][_]);return this._map=null,this},r.Map.IceyMaze.prototype._randomize=function(t){for(var e=0;e<4;e++)t[e][0]=0,t[e][1]=0;switch(Math.floor(4*r.RNG.getUniform())){case 0:t[0][0]=-1,t[1][0]=1,t[2][1]=-1,t[3][1]=1;break;case 1:t[3][0]=-1,t[2][0]=1,t[1][1]=-1,t[0][1]=1;break;case 2:t[2][0]=-1,t[3][0]=1,t[0][1]=-1,t[1][1]=1;break;case 3:t[1][0]=-1,t[0][0]=1,t[3][1]=-1,t[2][1]=1}},r.Map.IceyMaze.prototype._isFree=function(t,e,i,r,n){return!(e<1||i<1||e>=r||i>=n)&&t[e][i]},r.Map.EllerMaze=function(t,e){r.Map.call(this,t,e)},r.Map.EllerMaze.extend(r.Map),r.Map.EllerMaze.prototype.create=function(t){for(var e=this._fillMap(1),i=Math.ceil((this._width-2)/2),n=.375,o=[],s=[],a=0;a<i;a++)o.push(a),s.push(a);o.push(i-1);for(var h=1;h+3<this._height;h+=2)for(var a=0;a<i;a++){var l=2*a+1,c=h;e[l][c]=0,a!=o[a+1]&&r.RNG.getUniform()>n&&(this._addToList(a,o,s),e[l+1][c]=0),a!=o[a]&&r.RNG.getUniform()>n?this._removeFromList(a,o,s):e[l][c+1]=0}for(var a=0;a<i;a++){var l=2*a+1,c=h;e[l][c]=0,a!=o[a+1]&&(a==o[a]||r.RNG.getUniform()>n)&&(this._addToList(a,o,s),e[l+1][c]=0),this._removeFromList(a,o,s)}for(var a=0;a<this._width;a++)for(var h=0;h<this._height;h++)t(a,h,e[a][h]);return this},r.Map.EllerMaze.prototype._removeFromList=function(t,e,i){i[e[t]]=i[t],e[i[t]]=e[t],i[t]=t,e[t]=t},r.Map.EllerMaze.prototype._addToList=function(t,e,i){i[e[t+1]]=i[t],e[i[t]]=e[t+1],i[t]=t+1,e[t+1]=t},r.Map.Cellular=function(t,e,i){r.Map.call(this,t,e),this._options={born:[5,6,7,8],survive:[4,5,6,7,8],topology:8,connected:!1},this.setOptions(i),this._dirs=r.DIRS[this._options.topology],this._map=this._fillMap(0)},r.Map.Cellular.extend(r.Map),r.Map.Cellular.prototype.randomize=function(t){for(var e=0;e<this._width;e++)for(var i=0;i<this._height;i++)this._map[e][i]=r.RNG.getUniform()<t?1:0;return this},r.Map.Cellular.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e]},r.Map.Cellular.prototype.set=function(t,e,i){this._map[t][e]=i},r.Map.Cellular.prototype.create=function(t){for(var e=this._fillMap(0),i=this._options.born,r=this._options.survive,n=0;n<this._height;n++){var o=1,s=0;6==this._options.topology&&(o=2,s=n%2);for(var a=s;a<this._width;a+=o){var h=this._map[a][n],l=this._getNeighbors(a,n);h&&r.indexOf(l)!=-1?e[a][n]=1:h||i.indexOf(l)==-1||(e[a][n]=1)}}if(this._map=e,this._options.connected&&this._completeMaze(),t)for(var n=0;n<this._height;n++){var o=1,s=0;6==this._options.topology&&(o=2,s=n%2);for(var a=s;a<this._width;a+=o)t(a,n,e[a][n])}},r.Map.Cellular.prototype._getNeighbors=function(t,e){for(var i=0,r=0;r<this._dirs.length;r++){var n=this._dirs[r],o=t+n[0],s=e+n[1];o<0||o>=this._width||o<0||s>=this._width||(i+=1==this._map[o][s]?1:0);
}return i},r.Map.Cellular.prototype._completeMaze=function(){for(var t=[],e={},i=0;i<this._width;i++)for(var n=0;n<this._height;n++)if(this._freeSpace(i,n)){var o=[i,n];e[this._pointKey(o)]=o,t.push([i,n])}var s=t[r.RNG.getUniformInt(0,t.length-1)],a=this._pointKey(s),h={};for(h[a]=s,delete e[a],this._findConnected(h,e,[s]);Object.keys(e).length>0;){var o=this._getFromTo(h,e),l=o[0],c=o[1],u={};u[this._pointKey(l)]=l,this._findConnected(u,e,[l],!0),this._tunnelToConnected(c,l,h,e);for(var p in u){var _=u[p];this._map[_[0]][_[1]]=0,h[p]=_,delete e[p]}}},r.Map.Cellular.prototype._getFromTo=function(t,e){for(var i,n,o,s=Object.keys(t),a=Object.keys(e),h=0;h<5;h++){if(s.length<a.length){var l=s;n=t[l[r.RNG.getUniformInt(0,l.length-1)]],i=this._getClosest(n,e)}else{var l=a;i=e[l[r.RNG.getUniformInt(0,l.length-1)]],n=this._getClosest(i,t)}if(o=(i[0]-n[0])*(i[0]-n[0])+(i[1]-n[1])*(i[1]-n[1]),o<64)break}return[i,n]},r.Map.Cellular.prototype._getClosest=function(t,e){var i=null,r=null;for(k in e){var n=e[k],o=(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]);(null==r||o<r)&&(r=o,i=n)}return i},r.Map.Cellular.prototype._findConnected=function(t,e,i,r){for(;i.length>0;)for(var n=i.splice(0,1)[0],o=[[n[0]+1,n[1]],[n[0]-1,n[1]],[n[0],n[1]+1],[n[0],n[1]-1]],s=0;s<o.length;s++){var a=this._pointKey(o[s]);null==t[a]&&this._freeSpace(o[s][0],o[s][1])&&(t[a]=o[s],r||delete e[a],i.push(o[s]))}},r.Map.Cellular.prototype._tunnelToConnected=function(t,e,i,r){var n,o;this._pointKey(e);e[0]<t[0]?(n=e,o=t):(n=t,o=e);for(var s=n[0];s<=o[0];s++){this._map[s][n[1]]=0;var a=[s,n[1]],h=this._pointKey(a);i[h]=a,delete r[h]}var l=o[0];e[1]<t[1]?(n=e,o=t):(n=t,o=e);for(var c=n[1];c<o[1];c++){this._map[l][c]=0;var a=[l,c],h=this._pointKey(a);i[h]=a,delete r[h]}},r.Map.Cellular.prototype._freeSpace=function(t,e){return t>=0&&t<this._width&&e>=0&&e<this._height&&1!=this._map[t][e]},r.Map.Cellular.prototype._pointKey=function(t){return t[0]+"."+t[1]},r.Map.Dungeon=function(t,e){r.Map.call(this,t,e),this._rooms=[],this._corridors=[]},r.Map.Dungeon.extend(r.Map),r.Map.Dungeon.prototype.getRooms=function(){return this._rooms},r.Map.Dungeon.prototype.getCorridors=function(){return this._corridors},r.Map.Digger=function(t,e,i){r.Map.Dungeon.call(this,t,e),this._options={roomWidth:[3,9],roomHeight:[3,5],corridorLength:[3,10],dugPercentage:.2,timeLimit:1e3};for(var n in i)this._options[n]=i[n];this._features={Room:4,Corridor:4},this._featureAttempts=20,this._walls={},this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this),this._priorityWallCallback=this._priorityWallCallback.bind(this)},r.Map.Digger.extend(r.Map.Dungeon),r.Map.Digger.prototype.create=function(t){this._rooms=[],this._corridors=[],this._map=this._fillMap(1),this._walls={},this._dug=0;var e=(this._width-2)*(this._height-2);this._firstRoom();var i=Date.now();do{var r=Date.now();if(r-i>this._options.timeLimit)break;var n=this._findWall();if(!n)break;var o=n.split(","),s=parseInt(o[0]),a=parseInt(o[1]),h=this._getDiggingDirection(s,a);if(h){var l=0;do if(l++,this._tryFeature(s,a,h[0],h[1])){this._removeSurroundingWalls(s,a),this._removeSurroundingWalls(s-h[0],a-h[1]);break}while(l<this._featureAttempts);var c=0;for(var u in this._walls)this._walls[u]>1&&c++}}while(this._dug/e<this._options.dugPercentage||c);if(this._addDoors(),t)for(var p=0;p<this._width;p++)for(var _=0;_<this._height;_++)t(p,_,this._map[p][_]);return this._walls={},this._map=null,this},r.Map.Digger.prototype._digCallback=function(t,e,i){0==i||2==i?(this._map[t][e]=0,this._dug++):this._walls[t+","+e]=1},r.Map.Digger.prototype._isWallCallback=function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]},r.Map.Digger.prototype._canBeDugCallback=function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]},r.Map.Digger.prototype._priorityWallCallback=function(t,e){this._walls[t+","+e]=2},r.Map.Digger.prototype._firstRoom=function(){var t=Math.floor(this._width/2),e=Math.floor(this._height/2),i=r.Map.Feature.Room.createRandomCenter(t,e,this._options);this._rooms.push(i),i.create(this._digCallback)},r.Map.Digger.prototype._findWall=function(){var t=[],e=[];for(var i in this._walls){var r=this._walls[i];2==r?e.push(i):t.push(i)}var n=e.length?e:t;if(!n.length)return null;var i=n.random();return delete this._walls[i],i},r.Map.Digger.prototype._tryFeature=function(t,e,i,n){var o=r.RNG.getWeightedValue(this._features);return o=r.Map.Feature[o].createRandomAt(t,e,i,n,this._options),!!o.isValid(this._isWallCallback,this._canBeDugCallback)&&(o.create(this._digCallback),o instanceof r.Map.Feature.Room&&this._rooms.push(o),o instanceof r.Map.Feature.Corridor&&(o.createPriorityWalls(this._priorityWallCallback),this._corridors.push(o)),!0)},r.Map.Digger.prototype._removeSurroundingWalls=function(t,e){for(var i=r.DIRS[4],n=0;n<i.length;n++){var o=i[n],s=t+o[0],a=e+o[1];delete this._walls[s+","+a];var s=t+2*o[0],a=e+2*o[1];delete this._walls[s+","+a]}},r.Map.Digger.prototype._getDiggingDirection=function(t,e){if(t<=0||e<=0||t>=this._width-1||e>=this._height-1)return null;for(var i=null,n=r.DIRS[4],o=0;o<n.length;o++){var s=n[o],a=t+s[0],h=e+s[1];if(!this._map[a][h]){if(i)return null;i=s}}return i?[-i[0],-i[1]]:null},r.Map.Digger.prototype._addDoors=function(){for(var t=this._map,e=function(e,i){return 1==t[e][i]},i=0;i<this._rooms.length;i++){var r=this._rooms[i];r.clearDoors(),r.addDoors(e)}},r.Map.Uniform=function(t,e,i){r.Map.Dungeon.call(this,t,e),this._options={roomWidth:[3,9],roomHeight:[3,5],roomDugPercentage:.1,timeLimit:1e3};for(var n in i)this._options[n]=i[n];this._roomAttempts=20,this._corridorAttempts=20,this._connected=[],this._unconnected=[],this._digCallback=this._digCallback.bind(this),this._canBeDugCallback=this._canBeDugCallback.bind(this),this._isWallCallback=this._isWallCallback.bind(this)},r.Map.Uniform.extend(r.Map.Dungeon),r.Map.Uniform.prototype.create=function(t){for(var e=Date.now();;){var i=Date.now();if(i-e>this._options.timeLimit)return null;if(this._map=this._fillMap(1),this._dug=0,this._rooms=[],this._unconnected=[],this._generateRooms(),!(this._rooms.length<2)&&this._generateCorridors())break}if(t)for(var r=0;r<this._width;r++)for(var n=0;n<this._height;n++)t(r,n,this._map[r][n]);return this},r.Map.Uniform.prototype._generateRooms=function(){var t=this._width-2,e=this._height-2;do{var i=this._generateRoom();if(this._dug/(t*e)>this._options.roomDugPercentage)break}while(i)},r.Map.Uniform.prototype._generateRoom=function(){for(var t=0;t<this._roomAttempts;){t++;var e=r.Map.Feature.Room.createRandom(this._width,this._height,this._options);if(e.isValid(this._isWallCallback,this._canBeDugCallback))return e.create(this._digCallback),this._rooms.push(e),e}return null},r.Map.Uniform.prototype._generateCorridors=function(){for(var t=0;t<this._corridorAttempts;){t++,this._corridors=[],this._map=this._fillMap(1);for(var e=0;e<this._rooms.length;e++){var i=this._rooms[e];i.clearDoors(),i.create(this._digCallback)}for(this._unconnected=this._rooms.slice().randomize(),this._connected=[],this._unconnected.length&&this._connected.push(this._unconnected.pop());;){var r=this._connected.random(),n=this._closestRoom(this._unconnected,r),o=this._closestRoom(this._connected,n),s=this._connectRooms(n,o);if(!s)break;if(!this._unconnected.length)return!0}}return!1},r.Map.Uniform.prototype._closestRoom=function(t,e){for(var i=1/0,r=e.getCenter(),n=null,o=0;o<t.length;o++){var s=t[o],a=s.getCenter(),h=a[0]-r[0],l=a[1]-r[1],c=h*h+l*l;c<i&&(i=c,n=s)}return n},r.Map.Uniform.prototype._connectRooms=function(t,e){var i=t.getCenter(),r=e.getCenter(),n=r[0]-i[0],o=r[1]-i[1];if(Math.abs(n)<Math.abs(o))var s=o>0?2:0,a=(s+2)%4,h=e.getLeft(),l=e.getRight(),c=0;else var s=n>0?1:3,a=(s+2)%4,h=e.getTop(),l=e.getBottom(),c=1;var u=this._placeInWall(t,s);if(!u)return!1;if(u[c]>=h&&u[c]<=l){var p=u.slice(),_=null;switch(a){case 0:_=e.getTop()-1;break;case 1:_=e.getRight()+1;break;case 2:_=e.getBottom()+1;break;case 3:_=e.getLeft()-1}p[(c+1)%2]=_,this._digLine([u,p])}else if(u[c]<h-1||u[c]>l+1){var f=u[c]-r[c];switch(a){case 0:case 1:var d=f<0?3:1;break;case 2:case 3:var d=f<0?1:3}a=(a+d)%4;var p=this._placeInWall(e,a);if(!p)return!1;var g=[0,0];g[c]=u[c];var m=(c+1)%2;g[m]=p[m],this._digLine([u,g,p])}else{var m=(c+1)%2,p=this._placeInWall(e,a);if(!p)return!1;var g=Math.round((p[m]+u[m])/2),v=[0,0],y=[0,0];v[c]=u[c],v[m]=g,y[c]=p[c],y[m]=g,this._digLine([u,v,y,p])}t.addDoor(u[0],u[1]),e.addDoor(p[0],p[1]);var c=this._unconnected.indexOf(t);c!=-1&&(this._unconnected.splice(c,1),this._connected.push(t));var c=this._unconnected.indexOf(e);return c!=-1&&(this._unconnected.splice(c,1),this._connected.push(e)),!0},r.Map.Uniform.prototype._placeInWall=function(t,e){var i=[0,0],r=[0,0],n=0;switch(e){case 0:r=[1,0],i=[t.getLeft(),t.getTop()-1],n=t.getRight()-t.getLeft()+1;break;case 1:r=[0,1],i=[t.getRight()+1,t.getTop()],n=t.getBottom()-t.getTop()+1;break;case 2:r=[1,0],i=[t.getLeft(),t.getBottom()+1],n=t.getRight()-t.getLeft()+1;break;case 3:r=[0,1],i=[t.getLeft()-1,t.getTop()],n=t.getBottom()-t.getTop()+1}for(var o=[],s=-2,a=0;a<n;a++){var h=i[0]+a*r[0],l=i[1]+a*r[1];o.push(null);var c=1==this._map[h][l];c?s!=a-1&&(o[a]=[h,l]):(s=a,a&&(o[a-1]=null))}for(var a=o.length-1;a>=0;a--)o[a]||o.splice(a,1);return o.length?o.random():null},r.Map.Uniform.prototype._digLine=function(t){for(var e=1;e<t.length;e++){var i=t[e-1],n=t[e],o=new r.Map.Feature.Corridor(i[0],i[1],n[0],n[1]);o.create(this._digCallback),this._corridors.push(o)}},r.Map.Uniform.prototype._digCallback=function(t,e,i){this._map[t][e]=i,0==i&&this._dug++},r.Map.Uniform.prototype._isWallCallback=function(t,e){return!(t<0||e<0||t>=this._width||e>=this._height)&&1==this._map[t][e]},r.Map.Uniform.prototype._canBeDugCallback=function(t,e){return!(t<1||e<1||t+1>=this._width||e+1>=this._height)&&1==this._map[t][e]},r.Map.Rogue=function(t,e,i){r.Map.call(this,t,e),this._options={cellWidth:3,cellHeight:3};for(var n in i)this._options[n]=i[n];this._options.hasOwnProperty("roomWidth")||(this._options.roomWidth=this._calculateRoomSize(this._width,this._options.cellWidth)),this._options.hasOwnProperty("roomHeight")||(this._options.roomHeight=this._calculateRoomSize(this._height,this._options.cellHeight))},r.Map.Rogue.extend(r.Map),r.Map.Rogue.prototype.create=function(t){if(this.map=this._fillMap(1),this.rooms=[],this.connectedCells=[],this._initRooms(),this._connectRooms(),this._connectUnconnectedRooms(),this._createRandomRoomConnections(),this._createRooms(),this._createCorridors(),t)for(var e=0;e<this._width;e++)for(var i=0;i<this._height;i++)t(e,i,this.map[e][i]);return this},r.Map.Rogue.prototype._calculateRoomSize=function(t,e){var i=Math.floor(t/e*.8),r=Math.floor(t/e*.25);return r<2&&(r=2),i<2&&(i=2),[r,i]},r.Map.Rogue.prototype._initRooms=function(){for(var t=0;t<this._options.cellWidth;t++){this.rooms.push([]);for(var e=0;e<this._options.cellHeight;e++)this.rooms[t].push({x:0,y:0,width:0,height:0,connections:[],cellx:t,celly:e})}},r.Map.Rogue.prototype._connectRooms=function(){var t,e,i,n,o,s=r.RNG.getUniformInt(0,this._options.cellWidth-1),a=r.RNG.getUniformInt(0,this._options.cellHeight-1),h=!1;do{var l=[0,2,4,6];l=l.randomize();do if(h=!1,t=l.pop(),e=s+r.DIRS[8][t][0],i=a+r.DIRS[8][t][1],!(e<0||e>=this._options.cellWidth||i<0||i>=this._options.cellHeight)){if(n=this.rooms[s][a],n.connections.length>0&&n.connections[0][0]==e&&n.connections[0][1]==i)break;o=this.rooms[e][i],0==o.connections.length&&(o.connections.push([s,a]),this.connectedCells.push([e,i]),s=e,a=i,h=!0)}while(l.length>0&&0==h)}while(l.length>0)},r.Map.Rogue.prototype._connectUnconnectedRooms=function(){var t=this._options.cellWidth,e=this._options.cellHeight;this.connectedCells=this.connectedCells.randomize();for(var i,n,o,s=0;s<this._options.cellWidth;s++)for(var a=0;a<this._options.cellHeight;a++)if(i=this.rooms[s][a],0==i.connections.length){var h=[0,2,4,6];h=h.randomize();var o=!1;do{var l=h.pop(),c=s+r.DIRS[8][l][0],u=a+r.DIRS[8][l][1];if(!(c<0||c>=t||u<0||u>=e)){if(n=this.rooms[c][u],o=!0,0==n.connections.length)break;for(var p=0;p<n.connections.length;p++)if(n.connections[p][0]==s&&n.connections[p][1]==a){o=!1;break}if(o)break}}while(h.length);o?i.connections.push([n.cellx,n.celly]):console.log("-- Unable to connect room.")}},r.Map.Rogue.prototype._createRandomRoomConnections=function(t){},r.Map.Rogue.prototype._createRooms=function(){for(var t,e,i,n,o,s=this._width,a=this._height,h=this._options.cellWidth,l=this._options.cellHeight,c=Math.floor(this._width/h),u=Math.floor(this._height/l),p=this._options.roomWidth,_=this._options.roomHeight,f=0;f<h;f++)for(var d=0;d<l;d++){if(i=c*f,n=u*d,0==i&&(i=1),0==n&&(n=1),t=r.RNG.getUniformInt(p[0],p[1]),e=r.RNG.getUniformInt(_[0],_[1]),d>0)for(o=this.rooms[f][d-1];n-(o.y+o.height)<3;)n++;if(f>0)for(o=this.rooms[f-1][d];i-(o.x+o.width)<3;)i++;for(var g=Math.round(r.RNG.getUniformInt(0,c-t)/2),m=Math.round(r.RNG.getUniformInt(0,u-e)/2);i+g+t>=s;)g?g--:t--;for(;n+m+e>=a;)m?m--:e--;i+=g,n+=m,this.rooms[f][d].x=i,this.rooms[f][d].y=n,this.rooms[f][d].width=t,this.rooms[f][d].height=e;for(var v=i;v<i+t;v++)for(var y=n;y<n+e;y++)this.map[v][y]=0}},r.Map.Rogue.prototype._getWallPosition=function(t,e){var i,n,o;return 1==e||3==e?(i=r.RNG.getUniformInt(t.x+1,t.x+t.width-2),1==e?(n=t.y-2,o=n+1):(n=t.y+t.height+1,o=n-1),this.map[i][o]=0):2!=e&&4!=e||(n=r.RNG.getUniformInt(t.y+1,t.y+t.height-2),2==e?(i=t.x+t.width+1,o=i-1):(i=t.x-2,o=i+1),this.map[o][n]=0),[i,n]},r.Map.Rogue.prototype._drawCorridore=function(t,e){var i,n,o,s,a=e[0]-t[0],h=e[1]-t[1],l=t[0],c=t[1],u=[],p=Math.abs(a),_=Math.abs(h),f=r.RNG.getUniform(),d=f,g=1-f;for(n=a>0?2:6,o=h>0?4:0,p<_?(i=Math.ceil(_*d),u.push([o,i]),u.push([n,p]),i=Math.floor(_*g),u.push([o,i])):(i=Math.ceil(p*d),u.push([n,i]),u.push([o,_]),i=Math.floor(p*g),u.push([n,i])),this.map[l][c]=0;u.length>0;)for(s=u.pop();s[1]>0;)l+=r.DIRS[8][s[0]][0],c+=r.DIRS[8][s[0]][1],this.map[l][c]=0,s[1]=s[1]-1},r.Map.Rogue.prototype._createCorridors=function(){for(var t,e,i,r,n,o=this._options.cellWidth,s=this._options.cellHeight,a=0;a<o;a++)for(var h=0;h<s;h++){t=this.rooms[a][h];for(var l=0;l<t.connections.length;l++)e=t.connections[l],i=this.rooms[e[0]][e[1]],i.cellx>t.cellx?(r=2,n=4):i.cellx<t.cellx?(r=4,n=2):i.celly>t.celly?(r=3,n=1):i.celly<t.celly&&(r=1,n=3),this._drawCorridore(this._getWallPosition(t,r),this._getWallPosition(i,n))}},r.Map.Feature=function(){},r.Map.Feature.prototype.isValid=function(t){},r.Map.Feature.prototype.create=function(t){},r.Map.Feature.prototype.debug=function(){},r.Map.Feature.createRandomAt=function(t,e,i,r,n){},r.Map.Feature.Room=function(t,e,i,r,n,o){this._x1=t,this._y1=e,this._x2=i,this._y2=r,this._doors={},arguments.length>4&&this.addDoor(n,o)},r.Map.Feature.Room.extend(r.Map.Feature),r.Map.Feature.Room.createRandomAt=function(t,e,i,n,o){var s=o.roomWidth[0],a=o.roomWidth[1],h=r.RNG.getUniformInt(s,a),s=o.roomHeight[0],a=o.roomHeight[1],l=r.RNG.getUniformInt(s,a);if(1==i){var c=e-Math.floor(r.RNG.getUniform()*l);return new this(t+1,c,t+h,c+l-1,t,e)}if(i==-1){var c=e-Math.floor(r.RNG.getUniform()*l);return new this(t-h,c,t-1,c+l-1,t,e)}if(1==n){var u=t-Math.floor(r.RNG.getUniform()*h);return new this(u,e+1,u+h-1,e+l,t,e)}if(n==-1){var u=t-Math.floor(r.RNG.getUniform()*h);return new this(u,e-l,u+h-1,e-1,t,e)}throw new Error("dx or dy must be 1 or -1")},r.Map.Feature.Room.createRandomCenter=function(t,e,i){var n=i.roomWidth[0],o=i.roomWidth[1],s=r.RNG.getUniformInt(n,o),n=i.roomHeight[0],o=i.roomHeight[1],a=r.RNG.getUniformInt(n,o),h=t-Math.floor(r.RNG.getUniform()*s),l=e-Math.floor(r.RNG.getUniform()*a),c=h+s-1,u=l+a-1;return new this(h,l,c,u)},r.Map.Feature.Room.createRandom=function(t,e,i){var n=i.roomWidth[0],o=i.roomWidth[1],s=r.RNG.getUniformInt(n,o),n=i.roomHeight[0],o=i.roomHeight[1],a=r.RNG.getUniformInt(n,o),h=t-s-1,l=e-a-1,c=1+Math.floor(r.RNG.getUniform()*h),u=1+Math.floor(r.RNG.getUniform()*l),p=c+s-1,_=u+a-1;return new this(c,u,p,_)},r.Map.Feature.Room.prototype.addDoor=function(t,e){return this._doors[t+","+e]=1,this},r.Map.Feature.Room.prototype.getDoors=function(t){for(var e in this._doors){var i=e.split(",");t(parseInt(i[0]),parseInt(i[1]))}return this},r.Map.Feature.Room.prototype.clearDoors=function(){return this._doors={},this},r.Map.Feature.Room.prototype.addDoors=function(t){for(var e=this._x1-1,i=this._x2+1,r=this._y1-1,n=this._y2+1,o=e;o<=i;o++)for(var s=r;s<=n;s++)o!=e&&o!=i&&s!=r&&s!=n||t(o,s)||this.addDoor(o,s);return this},r.Map.Feature.Room.prototype.debug=function(){console.log("room",this._x1,this._y1,this._x2,this._y2)},r.Map.Feature.Room.prototype.isValid=function(t,e){for(var i=this._x1-1,r=this._x2+1,n=this._y1-1,o=this._y2+1,s=i;s<=r;s++)for(var a=n;a<=o;a++)if(s==i||s==r||a==n||a==o){if(!t(s,a))return!1}else if(!e(s,a))return!1;return!0},r.Map.Feature.Room.prototype.create=function(t){for(var e=this._x1-1,i=this._x2+1,r=this._y1-1,n=this._y2+1,o=0,s=e;s<=i;s++)for(var a=r;a<=n;a++)o=s+","+a in this._doors?2:s==e||s==i||a==r||a==n?1:0,t(s,a,o)},r.Map.Feature.Room.prototype.getCenter=function(){return[Math.round((this._x1+this._x2)/2),Math.round((this._y1+this._y2)/2)]},r.Map.Feature.Room.prototype.getLeft=function(){return this._x1},r.Map.Feature.Room.prototype.getRight=function(){return this._x2},r.Map.Feature.Room.prototype.getTop=function(){return this._y1},r.Map.Feature.Room.prototype.getBottom=function(){return this._y2},r.Map.Feature.Corridor=function(t,e,i,r){this._startX=t,this._startY=e,this._endX=i,this._endY=r,this._endsWithAWall=!0},r.Map.Feature.Corridor.extend(r.Map.Feature),r.Map.Feature.Corridor.createRandomAt=function(t,e,i,n,o){var s=o.corridorLength[0],a=o.corridorLength[1],h=r.RNG.getUniformInt(s,a);return new this(t,e,t+i*h,e+n*h)},r.Map.Feature.Corridor.prototype.debug=function(){console.log("corridor",this._startX,this._startY,this._endX,this._endY)},r.Map.Feature.Corridor.prototype.isValid=function(t,e){var i=this._startX,r=this._startY,n=this._endX-i,o=this._endY-r,s=1+Math.max(Math.abs(n),Math.abs(o));n&&(n/=Math.abs(n)),o&&(o/=Math.abs(o));for(var a=o,h=-n,l=!0,c=0;c<s;c++){var u=i+c*n,p=r+c*o;if(e(u,p)||(l=!1),t(u+a,p+h)||(l=!1),t(u-a,p-h)||(l=!1),!l){s=c,this._endX=u-n,this._endY=p-o;break}}if(0==s)return!1;if(1==s&&t(this._endX+n,this._endY+o))return!1;var _=!t(this._endX+n+a,this._endY+o+h),f=!t(this._endX+n-a,this._endY+o-h);return this._endsWithAWall=t(this._endX+n,this._endY+o),!_&&!f||!this._endsWithAWall},r.Map.Feature.Corridor.prototype.create=function(t){var e=this._startX,i=this._startY,r=this._endX-e,n=this._endY-i,o=1+Math.max(Math.abs(r),Math.abs(n));r&&(r/=Math.abs(r)),n&&(n/=Math.abs(n));for(var s=0;s<o;s++){var a=e+s*r,h=i+s*n;t(a,h,0)}return!0},r.Map.Feature.Corridor.prototype.createPriorityWalls=function(t){if(this._endsWithAWall){var e=this._startX,i=this._startY,r=this._endX-e,n=this._endY-i;r&&(r/=Math.abs(r)),n&&(n/=Math.abs(n));var o=n,s=-r;t(this._endX+r,this._endY+n),t(this._endX+o,this._endY+s),t(this._endX-o,this._endY-s)}},r.Noise=function(){},r.Noise.prototype.get=function(t,e){},r.Noise.Simplex=function(t){r.Noise.call(this),this._F2=.5*(Math.sqrt(3)-1),this._G2=(3-Math.sqrt(3))/6,this._gradients=[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]];for(var e=[],i=t||256,n=0;n<i;n++)e.push(n);e=e.randomize(),this._perms=[],this._indexes=[];for(var n=0;n<2*i;n++)this._perms.push(e[n%i]),this._indexes.push(this._perms[n]%this._gradients.length)},r.Noise.Simplex.extend(r.Noise),r.Noise.Simplex.prototype.get=function(t,e){var i,r,n,o=this._perms,s=this._indexes,a=o.length/2,h=this._G2,l=0,c=0,u=0,p=(t+e)*this._F2,_=Math.floor(t+p),f=Math.floor(e+p),d=(_+f)*h,g=_-d,m=f-d,v=t-g,y=e-m;v>y?(r=1,n=0):(r=0,n=1);var M=v-r+h,b=y-n+h,w=v-1+2*h,x=y-1+2*h,S=_.mod(a),T=f.mod(a),k=.5-v*v-y*y;if(k>=0){k*=k,i=s[S+o[T]];var R=this._gradients[i];l=k*k*(R[0]*v+R[1]*y)}var C=.5-M*M-b*b;if(C>=0){C*=C,i=s[S+r+o[T+n]];var R=this._gradients[i];c=C*C*(R[0]*M+R[1]*b)}var D=.5-w*w-x*x;if(D>=0){D*=D,i=s[S+1+o[T+1]];var R=this._gradients[i];u=D*D*(R[0]*w+R[1]*x)}return 70*(l+c+u)},r.FOV=function(t,e){this._lightPasses=t,this._options={topology:8};for(var i in e)this._options[i]=e[i]},r.FOV.prototype.compute=function(t,e,i,r){},r.FOV.prototype._getCircle=function(t,e,i){var n,o,s,a=[];switch(this._options.topology){case 4:o=1,s=[0,1],n=[r.DIRS[8][7],r.DIRS[8][1],r.DIRS[8][3],r.DIRS[8][5]];break;case 6:n=r.DIRS[6],o=1,s=[-1,1];break;case 8:n=r.DIRS[4],o=2,s=[-1,1]}for(var h=t+s[0]*i,l=e+s[1]*i,c=0;c<n.length;c++)for(var u=0;u<i*o;u++)a.push([h,l]),h+=n[c][0],l+=n[c][1];return a},r.FOV.DiscreteShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.DiscreteShadowcasting.extend(r.FOV),r.FOV.DiscreteShadowcasting.prototype.compute=function(t,e,i,r){this._coords,this._map;if(r(t,e,0,1),this._lightPasses(t,e))for(var n,o,s,a,h,l=[],c=1;c<=i;c++)for(var u=this._getCircle(t,e,c),p=360/u.length,_=0;_<u.length;_++)if(s=u[_][0],a=u[_][1],n=p*(_-.5),o=n+p,h=!this._lightPasses(s,a),this._visibleCoords(Math.floor(n),Math.ceil(o),h,l)&&r(s,a,c,1),2==l.length&&0==l[0]&&360==l[1])return},r.FOV.DiscreteShadowcasting.prototype._visibleCoords=function(t,e,i,r){if(t<0){var n=arguments.callee(0,e,i,r),o=arguments.callee(360+t,360,i,r);return n||o}for(var s=0;s<r.length&&r[s]<t;)s++;if(s==r.length)return i&&r.push(t,e),!0;var a=0;if(s%2){for(;s<r.length&&r[s]<e;)s++,a++;return 0!=a&&(i&&(a%2?r.splice(s-a,a,e):r.splice(s-a,a)),!0)}for(;s<r.length&&r[s]<e;)s++,a++;return(t!=r[s-a]||1!=a)&&(i&&(a%2?r.splice(s-a,a,t):r.splice(s-a,a,t,e)),!0)},r.FOV.PreciseShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.PreciseShadowcasting.extend(r.FOV),r.FOV.PreciseShadowcasting.prototype.compute=function(t,e,i,r){if(r(t,e,0,1),this._lightPasses(t,e))for(var n,o,s,a,h,l,c=[],u=1;u<=i;u++)for(var p=this._getCircle(t,e,u),_=p.length,f=0;f<_;f++)if(n=p[f][0],o=p[f][1],a=[f?2*f-1:2*_-1,2*_],h=[2*f+1,2*_],s=!this._lightPasses(n,o),l=this._checkVisibility(a,h,s,c),l&&r(n,o,u,l),2==c.length&&0==c[0][0]&&c[1][0]==c[1][1])return},r.FOV.PreciseShadowcasting.prototype._checkVisibility=function(t,e,i,r){if(t[0]>e[0]){var n=this._checkVisibility(t,[t[1],t[1]],i,r),o=this._checkVisibility([0,1],e,i,r);return(n+o)/2}for(var s=0,a=!1;s<r.length;){var h=r[s],l=h[0]*t[1]-t[0]*h[1];if(l>=0){0!=l||s%2||(a=!0);break}s++}for(var c=r.length,u=!1;c--;){var h=r[c],l=e[0]*h[1]-h[0]*e[1];if(l>=0){0==l&&c%2&&(u=!0);break}}var p=!0;if(s==c&&(a||u)?p=!1:a&&u&&s+1==c&&c%2?p=!1:s>c&&s%2&&(p=!1),!p)return 0;var _,f,d=c-s+1;if(d%2)if(s%2){var f=r[s];_=(e[0]*f[1]-f[0]*e[1])/(f[1]*e[1]),i&&r.splice(s,d,e)}else{var f=r[c];_=(f[0]*t[1]-t[0]*f[1])/(t[1]*f[1]),i&&r.splice(s,d,t)}else{if(!(s%2))return i&&r.splice(s,d,t,e),1;var g=r[s],m=r[c];_=(m[0]*g[1]-g[0]*m[1])/(g[1]*m[1]),i&&r.splice(s,d)}var v=(e[0]*t[1]-t[0]*e[1])/(t[1]*e[1]);return _/v},r.FOV.RecursiveShadowcasting=function(t,e){r.FOV.call(this,t,e)},r.FOV.RecursiveShadowcasting.extend(r.FOV),r.FOV.RecursiveShadowcasting.OCTANTS=[[-1,0,0,1],[0,-1,1,0],[0,-1,-1,0],[-1,0,0,-1],[1,0,0,-1],[0,1,-1,0],[0,1,1,0],[1,0,0,1]],r.FOV.RecursiveShadowcasting.prototype.compute=function(t,e,i,n){n(t,e,0,1);for(var o=0;o<r.FOV.RecursiveShadowcasting.OCTANTS.length;o++)this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[o],i,n)},r.FOV.RecursiveShadowcasting.prototype.compute180=function(t,e,i,n,o){o(t,e,0,1);var s=(n-1+8)%8,a=(n-2+8)%8,h=(n+1+8)%8;this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[a],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[s],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[n],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[h],i,o)},r.FOV.RecursiveShadowcasting.prototype.compute90=function(t,e,i,n,o){o(t,e,0,1);var s=(n-1+8)%8;this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[n],i,o),this._renderOctant(t,e,r.FOV.RecursiveShadowcasting.OCTANTS[s],i,o)},r.FOV.RecursiveShadowcasting.prototype._renderOctant=function(t,e,i,r,n){this._castVisibility(t,e,1,1,0,r+1,i[0],i[1],i[2],i[3],n)},r.FOV.RecursiveShadowcasting.prototype._castVisibility=function(t,e,i,r,n,o,s,a,h,l,c){if(!(r<n))for(var u=i;u<=o;u++){for(var p=-u-1,_=-u,f=!1,d=0;p<=0;){p+=1;var g=t+p*s+_*a,m=e+p*h+_*l,v=(p-.5)/(_+.5),y=(p+.5)/(_-.5);if(!(y>r)){if(v<n)break;if(p*p+_*_<o*o&&c(g,m,u,1),f){if(!this._lightPasses(g,m)){d=y;continue}f=!1,r=d}else!this._lightPasses(g,m)&&u<o&&(f=!0,this._castVisibility(t,e,u+1,r,v,o,s,a,h,l,c),d=y)}}if(f)break}},r.Color={fromString:function(t){var e,i;if(t in this._cache)e=this._cache[t];else{if("#"==t.charAt(0)){var r=t.match(/[0-9a-f]/gi).map(function(t){return parseInt(t,16)});if(3==r.length)e=r.map(function(t){return 17*t});else{for(var n=0;n<3;n++)r[n+1]+=16*r[n],r.splice(n,1);e=r}}else e=(i=t.match(/rgb\(([0-9, ]+)\)/i))?i[1].split(/\s*,\s*/).map(function(t){return parseInt(t)}):[0,0,0];this._cache[t]=e}return e.slice()},add:function(t,e){for(var i=t.slice(),r=0;r<3;r++)for(var n=1;n<arguments.length;n++)i[r]+=arguments[n][r];return i},add_:function(t,e){for(var i=0;i<3;i++)for(var r=1;r<arguments.length;r++)t[i]+=arguments[r][i];return t},multiply:function(t,e){for(var i=t.slice(),r=0;r<3;r++){for(var n=1;n<arguments.length;n++)i[r]*=arguments[n][r]/255;i[r]=Math.round(i[r])}return i},multiply_:function(t,e){for(var i=0;i<3;i++){for(var r=1;r<arguments.length;r++)t[i]*=arguments[r][i]/255;t[i]=Math.round(t[i])}return t},interpolate:function(t,e,i){arguments.length<3&&(i=.5);for(var r=t.slice(),n=0;n<3;n++)r[n]=Math.round(r[n]+i*(e[n]-t[n]));return r},interpolateHSL:function(t,e,i){arguments.length<3&&(i=.5);for(var r=this.rgb2hsl(t),n=this.rgb2hsl(e),o=0;o<3;o++)r[o]+=i*(n[o]-r[o]);return this.hsl2rgb(r)},randomize:function(t,e){e instanceof Array||(e=Math.round(r.RNG.getNormal(0,e)));for(var i=t.slice(),n=0;n<3;n++)i[n]+=e instanceof Array?Math.round(r.RNG.getNormal(0,e[n])):e;return i},rgb2hsl:function(t){var e,i,r=t[0]/255,n=t[1]/255,o=t[2]/255,s=Math.max(r,n,o),a=Math.min(r,n,o),h=(s+a)/2;if(s==a)e=i=0;else{var l=s-a;switch(i=h>.5?l/(2-s-a):l/(s+a),s){case r:e=(n-o)/l+(n<o?6:0);break;case n:e=(o-r)/l+2;break;case o:e=(r-n)/l+4}e/=6}return[e,i,h]},hsl2rgb:function(t){var e=t[2];if(0==t[1])return e=Math.round(255*e),[e,e,e];var i=function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},r=t[1],n=e<.5?e*(1+r):e+r-e*r,o=2*e-n,s=i(o,n,t[0]+1/3),a=i(o,n,t[0]),h=i(o,n,t[0]-1/3);return[Math.round(255*s),Math.round(255*a),Math.round(255*h)]},toRGB:function(t){return"rgb("+this._clamp(t[0])+","+this._clamp(t[1])+","+this._clamp(t[2])+")"},toHex:function(t){for(var e=[],i=0;i<3;i++)e.push(this._clamp(t[i]).toString(16).lpad("0",2));return"#"+e.join("")},_clamp:function(t){return t<0?0:t>255?255:t},_cache:{black:[0,0,0],navy:[0,0,128],darkblue:[0,0,139],mediumblue:[0,0,205],blue:[0,0,255],darkgreen:[0,100,0],green:[0,128,0],teal:[0,128,128],darkcyan:[0,139,139],deepskyblue:[0,191,255],darkturquoise:[0,206,209],mediumspringgreen:[0,250,154],lime:[0,255,0],springgreen:[0,255,127],aqua:[0,255,255],cyan:[0,255,255],midnightblue:[25,25,112],dodgerblue:[30,144,255],forestgreen:[34,139,34],seagreen:[46,139,87],darkslategray:[47,79,79],darkslategrey:[47,79,79],limegreen:[50,205,50],mediumseagreen:[60,179,113],turquoise:[64,224,208],royalblue:[65,105,225],steelblue:[70,130,180],darkslateblue:[72,61,139],mediumturquoise:[72,209,204],indigo:[75,0,130],darkolivegreen:[85,107,47],cadetblue:[95,158,160],cornflowerblue:[100,149,237],mediumaquamarine:[102,205,170],dimgray:[105,105,105],dimgrey:[105,105,105],slateblue:[106,90,205],olivedrab:[107,142,35],slategray:[112,128,144],slategrey:[112,128,144],lightslategray:[119,136,153],lightslategrey:[119,136,153],mediumslateblue:[123,104,238],lawngreen:[124,252,0],chartreuse:[127,255,0],aquamarine:[127,255,212],maroon:[128,0,0],purple:[128,0,128],olive:[128,128,0],gray:[128,128,128],grey:[128,128,128],skyblue:[135,206,235],lightskyblue:[135,206,250],blueviolet:[138,43,226],darkred:[139,0,0],darkmagenta:[139,0,139],saddlebrown:[139,69,19],darkseagreen:[143,188,143],lightgreen:[144,238,144],mediumpurple:[147,112,216],darkviolet:[148,0,211],palegreen:[152,251,152],darkorchid:[153,50,204],yellowgreen:[154,205,50],sienna:[160,82,45],brown:[165,42,42],darkgray:[169,169,169],darkgrey:[169,169,169],lightblue:[173,216,230],greenyellow:[173,255,47],paleturquoise:[175,238,238],lightsteelblue:[176,196,222],powderblue:[176,224,230],firebrick:[178,34,34],darkgoldenrod:[184,134,11],mediumorchid:[186,85,211],rosybrown:[188,143,143],darkkhaki:[189,183,107],silver:[192,192,192],mediumvioletred:[199,21,133],indianred:[205,92,92],peru:[205,133,63],chocolate:[210,105,30],tan:[210,180,140],lightgray:[211,211,211],lightgrey:[211,211,211],palevioletred:[216,112,147],thistle:[216,191,216],orchid:[218,112,214],goldenrod:[218,165,32],crimson:[220,20,60],gainsboro:[220,220,220],plum:[221,160,221],burlywood:[222,184,135],lightcyan:[224,255,255],lavender:[230,230,250],darksalmon:[233,150,122],violet:[238,130,238],palegoldenrod:[238,232,170],lightcoral:[240,128,128],khaki:[240,230,140],aliceblue:[240,248,255],honeydew:[240,255,240],azure:[240,255,255],sandybrown:[244,164,96],wheat:[245,222,179],beige:[245,245,220],whitesmoke:[245,245,245],mintcream:[245,255,250],ghostwhite:[248,248,255],salmon:[250,128,114],antiquewhite:[250,235,215],linen:[250,240,230],lightgoldenrodyellow:[250,250,210],oldlace:[253,245,230],red:[255,0,0],fuchsia:[255,0,255],magenta:[255,0,255],deeppink:[255,20,147],orangered:[255,69,0],tomato:[255,99,71],hotpink:[255,105,180],coral:[255,127,80],darkorange:[255,140,0],lightsalmon:[255,160,122],orange:[255,165,0],lightpink:[255,182,193],pink:[255,192,203],gold:[255,215,0],peachpuff:[255,218,185],navajowhite:[255,222,173],moccasin:[255,228,181],bisque:[255,228,196],mistyrose:[255,228,225],blanchedalmond:[255,235,205],papayawhip:[255,239,213],lavenderblush:[255,240,245],seashell:[255,245,238],cornsilk:[255,248,220],lemonchiffon:[255,250,205],floralwhite:[255,250,240],snow:[255,250,250],yellow:[255,255,0],lightyellow:[255,255,224],ivory:[255,255,240],white:[255,255,255]}},r.Lighting=function(t,e){this._reflectivityCallback=t,this._options={passes:1,emissionThreshold:100,range:10},this._fov=null,this._lights={},this._reflectivityCache={},this._fovCache={},this.setOptions(e)},r.Lighting.prototype.setOptions=function(t){for(var e in t)this._options[e]=t[e];return t&&t.range&&this.reset(),this},r.Lighting.prototype.setFOV=function(t){return this._fov=t,this._fovCache={},this},r.Lighting.prototype.setLight=function(t,e,i){var n=t+","+e;return i?this._lights[n]="string"==typeof i?r.Color.fromString(i):i:delete this._lights[n],this},r.Lighting.prototype.clearLights=function(){this._lights={}},r.Lighting.prototype.reset=function(){return this._reflectivityCache={},this._fovCache={},this},r.Lighting.prototype.compute=function(t){var e={},i={},n={};for(var o in this._lights){var s=this._lights[o];i[o]=[0,0,0],r.Color.add_(i[o],s)}for(var a=0;a<this._options.passes;a++)this._emitLight(i,n,e),a+1!=this._options.passes&&(i=this._computeEmitters(n,e));for(var h in n){var l=h.split(","),c=parseInt(l[0]),u=parseInt(l[1]);t(c,u,n[h])}return this},r.Lighting.prototype._emitLight=function(t,e,i){for(var r in t){var n=r.split(","),o=parseInt(n[0]),s=parseInt(n[1]);this._emitLightFromCell(o,s,t[r],e),i[r]=1}return this},r.Lighting.prototype._computeEmitters=function(t,e){var i={};for(var r in t)if(!(r in e)){var n=t[r];if(r in this._reflectivityCache)var o=this._reflectivityCache[r];else{var s=r.split(","),a=parseInt(s[0]),h=parseInt(s[1]),o=this._reflectivityCallback(a,h);this._reflectivityCache[r]=o}if(0!=o){for(var l=[],c=0,u=0;u<3;u++){var p=Math.round(n[u]*o);l[u]=p,c+=p}c>this._options.emissionThreshold&&(i[r]=l)}}return i},r.Lighting.prototype._emitLightFromCell=function(t,e,i,r){var n=t+","+e;if(n in this._fovCache)var o=this._fovCache[n];else var o=this._updateFOV(t,e);for(var s in o){var a=o[s];if(s in r)var h=r[s];else{
var h=[0,0,0];r[s]=h}for(var l=0;l<3;l++)h[l]+=Math.round(i[l]*a)}return this},r.Lighting.prototype._updateFOV=function(t,e){var i=t+","+e,r={};this._fovCache[i]=r;var n=this._options.range,o=function(t,e,i,o){var s=t+","+e,a=o*(1-i/n);0!=a&&(r[s]=a)};return this._fov.compute(t,e,n,o.bind(this)),r},r.Path=function(t,e,i,n){this._toX=t,this._toY=e,this._fromX=null,this._fromY=null,this._passableCallback=i,this._options={topology:8};for(var o in n)this._options[o]=n[o];this._dirs=r.DIRS[this._options.topology],8==this._options.topology&&(this._dirs=[this._dirs[0],this._dirs[2],this._dirs[4],this._dirs[6],this._dirs[1],this._dirs[3],this._dirs[5],this._dirs[7]])},r.Path.prototype.compute=function(t,e,i){},r.Path.prototype._getNeighbors=function(t,e){for(var i=[],r=0;r<this._dirs.length;r++){var n=this._dirs[r],o=t+n[0],s=e+n[1];this._passableCallback(o,s)&&i.push([o,s])}return i},r.Path.Dijkstra=function(t,e,i,n){r.Path.call(this,t,e,i,n),this._computed={},this._todo=[],this._add(t,e,null)},r.Path.Dijkstra.extend(r.Path),r.Path.Dijkstra.prototype.compute=function(t,e,i){var r=t+","+e;if(r in this._computed||this._compute(t,e),r in this._computed)for(var n=this._computed[r];n;)i(n.x,n.y),n=n.prev},r.Path.Dijkstra.prototype._compute=function(t,e){for(;this._todo.length;){var i=this._todo.shift();if(i.x==t&&i.y==e)return;for(var r=this._getNeighbors(i.x,i.y),n=0;n<r.length;n++){var o=r[n],s=o[0],a=o[1],h=s+","+a;h in this._computed||this._add(s,a,i)}}},r.Path.Dijkstra.prototype._add=function(t,e,i){var r={x:t,y:e,prev:i};this._computed[t+","+e]=r,this._todo.push(r)},r.Path.AStar=function(t,e,i,n){r.Path.call(this,t,e,i,n),this._todo=[],this._done={},this._fromX=null,this._fromY=null},r.Path.AStar.extend(r.Path),r.Path.AStar.prototype.compute=function(t,e,i){for(this._todo=[],this._done={},this._fromX=t,this._fromY=e,this._add(this._toX,this._toY,null);this._todo.length;){var r=this._todo.shift();if(r.x==t&&r.y==e)break;for(var n=this._getNeighbors(r.x,r.y),o=0;o<n.length;o++){var s=n[o],a=s[0],h=s[1],l=a+","+h;l in this._done||this._add(a,h,r)}}var r=this._done[t+","+e];if(r)for(;r;)i(r.x,r.y),r=r.prev},r.Path.AStar.prototype._add=function(t,e,i){var r={x:t,y:e,prev:i,g:i?i.g+1:0,h:this._distance(t,e)};this._done[t+","+e]=r;for(var n=r.g+r.h,o=0;o<this._todo.length;o++){var s=this._todo[o];if(n<s.g+s.h)return void this._todo.splice(o,0,r)}this._todo.push(r)},r.Path.AStar.prototype._distance=function(t,e){switch(this._options.topology){case 4:return Math.abs(t-this._fromX)+Math.abs(e-this._fromY);case 6:var i=Math.abs(t-this._fromX),r=Math.abs(e-this._fromY);return r+Math.max(0,(i-r)/2);case 8:return Math.max(Math.abs(t-this._fromX),Math.abs(e-this._fromY))}throw new Error("Illegal topology")},r.Display.Term=function(t){r.Display.Backend.call(this,t),this._cx=-1,this._cy=-1,this._lastColor="",this._options={},this._ox=0,this._oy=0,this._termcolor={}},r.Display.Term.extend(r.Display.Backend),r.Display.Term.prototype.compute=function(e){this._options=e,this._ox=Math.floor((t.stdout.columns-e.width)/2),this._oy=Math.floor((t.stdout.rows-e.height)/2),this._termcolor=new(r.Display.Term[e.termColor.capitalize()])(this._context),this._context._termcolor=this._termcolor},r.Display.Term.prototype.draw=function(e,i){var r=e[0],n=e[1],o=e[2],s=e[3],a=e[4],h=this._ox+r,l=this._oy+n;if(!(h<0||h>=t.stdout.columns)&&!(l<0||l>=t.stdout.rows)&&(h===this._cx&&l===this._cy||(t.stdout.write(this._termcolor.positionToAnsi(h,l)),this._cx=h,this._cy=l),i&&(o||(o=" ")),o)){var c=this._termcolor.colorToAnsi(s,a);c!==this._lastColor&&(t.stdout.write(c),this._lastColor=c);var u=[].concat(o);t.stdout.write(u[0]),this._cx++,this._cx>=t.stdout.columns&&(this._cx=0,this._cy++)}},r.Display.Term.prototype.computeSize=function(e,i){return[t.stdout.columns,t.stdout.rows]},r.Display.Term.prototype.computeFontSize=function(t,e){return 12},r.Display.Term.prototype.eventToPosition=function(t,e){return[t,e]},r.Display.Term.Color=function(t){this._context=t},r.Display.Term.Color.prototype.clearToAnsi=function(t){},r.Display.Term.Color.prototype.colorToAnsi=function(t,e){},r.Display.Term.Color.prototype.positionToAnsi=function(t,e){},r.Display.Term.Xterm=function(t){r.Display.Term.Color.call(this,t)},r.Display.Term.Xterm.extend(r.Display.Term.Color),r.Display.Term.Xterm.prototype.clearToAnsi=function(t){return"[0;48;5;"+this._termcolor(t)+"m[2J"},r.Display.Term.Xterm.prototype.colorToAnsi=function(t,e){return"[0;38;5;"+this._termcolor(t)+";48;5;"+this._termcolor(e)+"m"},r.Display.Term.Xterm.prototype.positionToAnsi=function(t,e){return"["+(e+1)+";"+(t+1)+"H"},r.Display.Term.Xterm.prototype._termcolor=function(t){var e=256,i=6,n=i/e,o=r.Color.fromString(t),s=Math.floor(o[0]*n),a=Math.floor(o[1]*n),h=Math.floor(o[2]*n);return 36*s+6*a+1*h+16};for(var n in r)i[n]=r[n]}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],3:[function(t,e,i){!function(t){function e(){var t=arguments[0],i=e.cache;return i[t]&&i.hasOwnProperty(t)||(i[t]=e.parse(t)),e.format.call(null,i[t],arguments)}function r(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function n(t,e){return Array(e+1).join(t)}var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};e.format=function(t,i){var s,a,h,l,c,u,p,_=1,f=t.length,d="",g=[],m=!0,v="";for(a=0;a<f;a++)if(d=r(t[a]),"string"===d)g[g.length]=t[a];else if("array"===d){if(l=t[a],l[2])for(s=i[_],h=0;h<l[2].length;h++){if(!s.hasOwnProperty(l[2][h]))throw new Error(e("[sprintf] property '%s' does not exist",l[2][h]));s=s[l[2][h]]}else s=l[1]?i[l[1]]:i[_++];if("function"==r(s)&&(s=s()),o.not_string.test(l[8])&&o.not_json.test(l[8])&&"number"!=r(s)&&isNaN(s))throw new TypeError(e("[sprintf] expecting number but found %s",r(s)));switch(o.number.test(l[8])&&(m=s>=0),l[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,l[6]?parseInt(l[6]):0);break;case"e":s=l[7]?s.toExponential(l[7]):s.toExponential();break;case"f":s=l[7]?parseFloat(s).toFixed(l[7]):parseFloat(s);break;case"g":s=l[7]?parseFloat(s).toPrecision(l[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&l[7]?s.substring(0,l[7]):s;break;case"u":s>>>=0;break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}o.json.test(l[8])?g[g.length]=s:(!o.number.test(l[8])||m&&!l[3]?v="":(v=m?"+":"-",s=s.toString().replace(o.sign,"")),u=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",p=l[6]-(v+s).length,c=l[6]&&p>0?n(u,p):"",g[g.length]=l[5]?v+s+c:"0"===u?v+c+s:c+v+s)}return g.join("")},e.cache={},e.parse=function(t){for(var e=t,i=[],r=[],n=0;e;){if(null!==(i=o.text.exec(e)))r[r.length]=i[0];else if(null!==(i=o.modulo.exec(e)))r[r.length]="%";else{if(null===(i=o.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){n|=1;var s=[],a=i[2],h=[];if(null===(h=o.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=h[1];""!==(a=a.substring(h[0].length));)if(null!==(h=o.key_access.exec(a)))s[s.length]=h[1];else{if(null===(h=o.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=h[1]}i[2]=s}else n|=2;if(3===n)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r[r.length]=i}e=e.substring(i[0].length)}return r};var s=function(t,i,r){return r=(i||[]).slice(0),r.splice(0,0,t),e.apply(null,r)};"undefined"!=typeof i?(i.sprintf=e,i.vsprintf=s):(t.sprintf=e,t.vsprintf=s,"function"==typeof define&&define.amd&&define(function(){return{sprintf:e,vsprintf:s}}))}("undefined"==typeof window?this:window)},{}],4:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var n=t("./game"),o=r(n);!function(t,e){o["default"].switchScreen(o["default"].Screen.StartScreen);var i=o["default"].getDisplay();document.querySelector("#main-display").appendChild(i.getContainer())}(window,window.console)},{"./game":7}],5:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),l=t("./glyph"),c=r(l),u=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i._name=t.name||"",i._x=t.x||0,i._y=t.y||0,i._map=null,i._attachedMixins={},i._attachedMixinGroups={};for(var r=t.mixins||[],s=0;s<r.length;s++)for(var a=r[s],h=Object.keys(a),l=0;l<h.length;l++){var c=h[l];"init"===c||"name"===c||"groupName"===c||i.hasOwnProperty(c)||(i[c]=a[c]),i._attachedMixins[a.name]=!0,a.groupName&&(i._attachedMixinGroups[a.groupName]=!0),a.init&&a.init.call(i,t)}return i}return s(e,t),h(e,[{key:"hasMixin",value:function(){function t(t){var e="object"===("undefined"==typeof t?"undefined":a(t))?t.name:t;return this._attachedMixinGroups[e]||this._attachedMixins[e]}return t}()},{key:"setName",value:function(){function t(t){this._name=t}return t}()},{key:"setX",value:function(){function t(t){this._x=t}return t}()},{key:"setY",value:function(){function t(t){this._y=t}return t}()},{key:"getName",value:function(){function t(){return this._name}return t}()},{key:"getX",value:function(){function t(){return this._x}return t}()},{key:"getY",value:function(){function t(){return this._y}return t}()},{key:"setMap",value:function(){function t(t){this._map=t}return t}()},{key:"getMap",value:function(){function t(){return this._map}return t}()}]),e}(c["default"]);i["default"]=u},{"./glyph":6}],6:[function(t,e,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this._char=e["char"]||" ",this._fg=e.fg||"white",this._bg=e.bg||"black"}return n(t,[{key:"getChar",value:function(){function t(){return this._char}return t}()},{key:"getBackground",value:function(){function t(){return this._bg}return t}()},{key:"getForeground",value:function(){function t(){return this._fg}return t}()}]),t}();i["default"]=o},{}],7:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0}),i.Game=void 0;var n=t("rot-js"),o=r(n),s=t("sprintf-js"),a=t("./screen"),h=r(a),l=t("./mixins"),c={width:80,height:24,fontSize:15,forceSquareRatio:!0},u=i.Game={Screen:h["default"],_display:null,_currentScreen:null,_screenWidth:c.width,_screenHeight:c.height,init:function(){function t(t){this._display=new o["default"].Display(Object.assign({},c,t));var e=this,i=function(){function t(t){window.addEventListener(t,function(i){null!==e._currentScreen&&e._currentScreen.handleInput(t,i)})}return t}();return["keydown","keyup","keypress"].forEach(i),this}return t}(),refresh:function(){function t(){this._display.clear(),this._currentScreen.render(this._display)}return t}(),getDisplay:function(){function t(){return this._display}return t}(),getScreenWidth:function(){function t(){return this._screenWidth}return t}(),getScreenHeight:function(){function t(){return this._screenHeight}return t}(),switchScreen:function(){function t(t){console.log("switchScreen",t),null!==this._currentScreen&&this._currentScreen.exit(),this.getDisplay().clear(),this._currentScreen=t,null!==!this._currentScreen&&(this._currentScreen.enter(),this.refresh())}return t}(),sendMessage:function(){function t(t,e,i){var r=void 0;t.hasMixin(l.MessageRecipient)&&(r=i?(0,s.vsprintf)(e,i):e,t.receiveMessage(r))}return t}(),sendMessageNearby:function(){function t(t,e,i,r,n){var o=r;n&&(o=(0,s.vsprintf)(r,n));var a=t.getEntitiesWithinRadius(e,i,5);a.forEach(function(t){t.hasMixin(l.MessageRecipient)&&t.receiveMessage(o)})}return t}()};i["default"]=u.init()},{"./mixins":9,"./screen":10,"rot-js":2,"sprintf-js":3}],8:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=t("rot-js"),a=r(s),h=t("./templates"),l=t("./entity"),c=r(l),u=t("./tile"),p=function(){function t(e,i){n(this,t),this._tiles=e,this._width=e.length,this._height=e[0].length,this._entities=[],this._scheduler=new a["default"].Scheduler.Simple,this._engine=new a["default"].Engine(this._scheduler),this.addEntityAtRandomPosition(i);for(var r=0;r<50;r++)this.addEntityAtRandomPosition(new c["default"](h.FungusTemplate))}return o(t,[{key:"getWidth",value:function(){function t(){return this._width}return t}()},{key:"getHeight",value:function(){function t(){return this._height}return t}()},{key:"getTile",value:function(){function t(t,e){var i=u.NullTile;return t<0||t>=this._width||e<0||e>=this.height||(i=this._tiles[t][e]||i),i}return t}()},{key:"dig",value:function(){function t(t,e){this.getTile(t,e).isDiggable()&&(this._tiles[t][e]=u.FloorTile)}return t}()},{key:"getRandomFloorPosition",value:function(){function t(){var t=void 0,e=void 0;do t=Math.floor(Math.random()*this._width),e=Math.floor(Math.random()*this._height);while(!this.isEmptyFloor(t,e));return{x:t,y:e}}return t}()},{key:"getEngine",value:function(){function t(){return this._engine}return t}()},{key:"getEntities",value:function(){function t(){return this._entities}return t}()},{key:"getEntityAt",value:function(){function t(t,e){for(var i=0;i<this._entities.length;i++){var r=this._entities[i];if(r.getX()==t&&r.getY()==e)return r}return null}return t}()},{key:"getEntitiesWithinRadius",value:function(){function t(t,e,i){for(var r=[],n=t-i,o=t+i,s=e-i,a=e+i,h=0;h<this._entities.length;h++){var l=this._entities[h];l.getX()>=n&&l.getX()<=o&&l.getY()>=s&&l.getY()<=a&&r.push(l)}return r}return t}()},{key:"addEntity",value:function(){function t(t){if(t.getX()<0||t.getX()>=this._width||t.getY()<0||t.getY()>=this._height)throw new Error("Adding entity out of bounds.");t.setMap(this),this._entities.push(t),t.hasMixin("Actor")&&this._scheduler.add(t,!0)}return t}()},{key:"addEntityAtRandomPosition",value:function(){function t(t){var e=this.getRandomFloorPosition();t.setX(e.x),t.setY(e.y),this.addEntity(t)}return t}()},{key:"removeEntity",value:function(){function t(t){for(var e=0;e<this._entities.length;e++)if(this._entities[e]==t){this._entities.splice(e,1);break}t.hasMixin("Actor")&&this._scheduler.remove(t)}return t}()},{key:"isEmptyFloor",value:function(){function t(t,e){return this.getTile(t,e)==u.FloorTile&&!this.getEntityAt(t,e)}return t}()}]),t}();i["default"]=p},{"./entity":5,"./templates":11,"./tile":12,"rot-js":2}],9:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0}),i.MessageRecipient=i.Attacker=i.Digger=i.Destructible=i.FungusActor=i.PlayerActor=i.Moveable=void 0;var n=t("./entity"),o=r(n),s=t("./templates"),a=t("./index"),h=r(a);i.Moveable={name:"Moveable",tryMove:function(){function t(t,e,i){var r=i.getTile(t,e),n=i.getEntityAt(t,e);if(n){if(this.hasMixin("Attacker"))return this.attack(n),!0}else{if(r.isWalkable())return this._x=t,this._y=e,!0;if(r.isDiggable()&&this.hasMixin("Digger"))return this.dig(t,e,i),!0}return!1}return t}()},i.PlayerActor={name:"PlayerActor",groupName:"Actor",act:function(){function t(){h["default"].refresh(),this.getMap().getEngine().lock(),this.clearMessages()}return t}()},i.FungusActor={name:"FungusActor",groupName:"Actor",init:function(){function t(){this._growthsRemaining=5}return t}(),act:function(){function t(){if(this._growthsRemaining>0&&Math.random()<=.02){var t=Math.floor(3*Math.random())-1,e=Math.floor(3*Math.random())-1;if((0!==t||0!==e)&&this.getMap().isEmptyFloor(this.getX()+t,this.getY()+e)){var i=new o["default"](s.FungusTemplate);i.setX(this.getX()+t),i.setY(this.getY()+e),this.getMap().addEntity(i),this._growthsRemaining--,h["default"].sendMessageNearby(this.getMap(),i.getX(),i.getY(),"The fungus is spreading!")}}}return t}()},i.Destructible={name:"Destructible",init:function(){function t(t){this._maxHP=t.maxHP||10,this._HP=t.HP||this._maxHP,this._defenseValue=t.defenseValue||0}return t}(),getHP:function(){function t(){return this._HP}return t}(),getMaxHP:function(){function t(){return this._maxHP}return t}(),getDefenseValue:function(){function t(){return this._defenseValue}return t}(),takeDamage:function(){function t(t,e){this._HP-=e,this._HP<=0&&(h["default"].sendMessage(t,"You kill the %s!",[this.getName()]),h["default"].sendMessage(this,"You die!"),this.getMap().removeEntity(this))}return t}()},i.Digger={name:"SimpleDigger",groupName:"Digger",dig:function(){function t(t,e,i){i.dig(t,e)}return t}()},i.Attacker={name:"Attacker",groupName:"Attacker",init:function(){function t(t){this._attackValue=t.attackValue||1}return t}(),getAttackValue:function(){function t(){return this._attackValue}return t}(),attack:function(){function t(t){if(t.hasMixin("Destructible")){var e=this.getAttackValue(),i=t.getDefenseValue(),r=Math.max(0,e-i),n=1+Math.floor(Math.random()*r);h["default"].sendMessage(this,"You strike the %s for %d damage!",[t.getName(),n]),h["default"].sendMessage(t,"The %s strikes you for %d damage!",[this.getName(),n]),t.takeDamage(this,n)}}return t}()},i.MessageRecipient={name:"MessageRecipient",init:function(){function t(t){this._messages=[]}return t}(),receiveMessage:function(){function t(t){this._messages.push(t)}return t}(),getMessages:function(){function t(){return this._messages}return t}(),clearMessages:function(){function t(){this._messages=[]}return t}()}},{"./entity":5,"./index":7,"./templates":11}],10:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var n=t("rot-js"),o=r(n),s=t("./tile"),a=t("./map"),h=r(a),l=t("./entity"),c=r(l),u=t("./templates"),p=t("./index"),_=r(p),f={enter:function(){function t(){return console.log("Entered StartScreen")}return t}(),exit:function(){function t(){return console.log("Exited StartScreen")}return t}(),render:function(){function t(t){t.drawText(1,1,"%c{yellow}Javascript Roguelike"),t.drawText(1,2,"Press [Enter] to start!")}return t}(),handleInput:function(){function t(t,e){"keydown"===t&&e.keyCode===o["default"].VK_RETURN&&_["default"].switchScreen(d)}return t}()},d={_map:null,_player:null,enter:function(){function t(){for(var t=100,e=48,i=new o["default"].Map.Cellular(t,e),r=3,n=[],a=0;a<t;a++){n.push([]);for(var l=0;l<e;l++)n[a].push(s.NullTile)}i.randomize(.5);for(var p=0;p<r-1;p++)i.create();i.create(function(t,e,i){1===i?n[t][e]=s.FloorTile:n[t][e]=s.WallTile}),this._player=new c["default"](u.PlayerTemplate),this._map=new h["default"](n,this._player),this._map.getEngine().start()}return t}(),move:function(){function t(t,e){var i=this._player.getX()+t,r=this._player.getY()+e;this._player.tryMove(i,r,this._map)}return t}(),render:function(){function t(t){for(var e=_["default"].getScreenWidth(),i=_["default"].getScreenHeight(),r=Math.min(Math.max(0,this._player.getX()-e/2),this._map.getWidth()-e),n=Math.min(Math.max(0,this._player.getY()-i/2),this._map.getHeight()-i),o=r;o<r+e;o++)for(var s=n;s<n+i;s++){var a=this._map.getTile(o,s);t.draw(o-r,s-n,a.getChar(),a.getForeground(),a.getBackground())}var h=this._map.getEntities();h.forEach(function(o){o.getX()>=r&&o.getY()>=n&&o.getX()<r+e&&o.getY()<n+i&&t.draw(o.getX()-r,o.getY()-n,o.getChar(),o.getForeground(),o.getBackground())});var l=this._player.getMessages(),c=0;l.forEach(function(e){c+=t.drawText(0,c,"%c{white}%b{black}"+String(e))})}return t}(),handleInput:function(){function t(t,e){"keydown"===t&&(e.keyCode===o["default"].VK_RETURN?_["default"].switchScreen(g):e.keyCode===o["default"].VK_ESCAPE?_["default"].switchScreen(m):(e.keyCode===o["default"].VK_LEFT?this.move(-1,0):e.keyCode===o["default"].VK_RIGHT?this.move(1,0):e.keyCode===o["default"].VK_UP?this.move(0,-1):e.keyCode===o["default"].VK_DOWN&&this.move(0,1),this._map.getEngine().unlock()))}return t}(),exit:function(){function t(){console.log("Exited PlayScreen")}return t}()},g={enter:function(){function t(){return console.log("Entered WinScreen")}return t}(),exit:function(){function t(){return console.log("Exited WinScreen")}return t}(),render:function(){function t(t){for(var e=0;e<22;e++){var i=Math.round(255*Math.random()),r=Math.round(255*Math.random()),n=Math.round(255*Math.random()),s=o["default"].Color.toRGB([i,r,n]);t.drawText(2,e+1,"%b{"+String(s)+"}You win!")}}return t}(),handleInput:function(){function t(t,e){}return t}()},m={enter:function(){function t(){return console.log("Entered LoseScreen")}return t}(),exit:function(){function t(){return console.log("Exited LoseScreen")}return t}(),render:function(){function t(t){for(var e=0;e<22;e++)t.drawText(2,e+1,"%b{red}You lose! :(")}return t}(),handleInput:function(){function t(t,e){}return t}()};i["default"]={StartScreen:f,PlayScreen:d,WinScreen:g,LoseScreen:m}},{"./entity":5,"./index":7,"./map":8,"./templates":11,"./tile":12,"rot-js":2}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FungusTemplate=i.PlayerTemplate=void 0;var r=t("./mixins");i.PlayerTemplate={"char":"@",fg:"white",maxHP:40,attackValue:10,mixins:[r.Moveable,r.PlayerActor,r.Attacker,r.Digger,r.Destructible,r.MessageRecipient]},i.FungusTemplate={name:"fungus","char":"F",fg:"green",maxHP:10,mixins:[r.FungusActor,r.Destructible]}},{"./mixins":9}],12:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0}),i.WallTile=i.FloorTile=i.NullTile=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),h=t("./glyph"),l=r(h),c=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._isWalkable=t.isWalkable||!1,i._isDiggable=t.isDiggable||!1,i}return s(e,t),a(e,[{key:"isWalkable",value:function(){function t(){return this._isWalkable}return t}()},{key:"isDiggable",value:function(){function t(){return this._isDiggable}return t}()}]),e}(l["default"]);i["default"]=c;i.NullTile=new c({}),i.FloorTile=new c({"char":".",isWalkable:!0}),i.WallTile=new c({"char":"#",fg:"goldenrod",isDiggable:!0})},{"./glyph":6}]},{},[4]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwiYXBwLmpzIiwibm9kZV9tb2R1bGVzL3JvdC1qcy9saWIvcm90LmpzIiwibm9kZV9tb2R1bGVzL3NwcmludGYtanMvc3JjL3NwcmludGYuanMiLCJzcmMvZXM2L2FwcC5qcyIsInNyYy9lczYvZ2FtZS9lbnRpdHkuanMiLCJzcmMvZXM2L2dhbWUvZ2x5cGguanMiLCJzcmMvZXM2L2dhbWUvaW5kZXguanMiLCJzcmMvZXM2L2dhbWUvbWFwLmpzIiwic3JjL2VzNi9nYW1lL21peGlucy5qcyIsInNyYy9lczYvZ2FtZS9zY3JlZW4uanMiLCJzcmMvZXM2L2dhbWUvdGVtcGxhdGVzLmpzIiwic3JjL2VzNi9nYW1lL3RpbGUuanMiXSwibmFtZXMiOlsiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsImYiLCJFcnJvciIsImNvZGUiLCJsIiwiZXhwb3J0cyIsImNhbGwiLCJsZW5ndGgiLCIxIiwibW9kdWxlIiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwiY2FjaGVkU2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJ0aGlzIiwicnVuQ2xlYXJUaW1lb3V0IiwibWFya2VyIiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImNvbmNhdCIsInF1ZXVlSW5kZXgiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJwcm9jZXNzIiwibmV4dFRpY2siLCJhcmdzIiwiQXJyYXkiLCJhcmd1bWVudHMiLCJwdXNoIiwicHJvdG90eXBlIiwiYXBwbHkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJiaW5kaW5nIiwibmFtZSIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCIyIiwiZ2xvYmFsIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2IiLCJkb2N1bWVudCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNoaWxkIiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiY2FudmFzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicmVjdCIsImxlZnQiLCJ0b3AiLCJnZXRDb250ZXh0IiwiY29udGV4dCIsIl90ZXJtY29sb3IiLCJiZWdpblBhdGgiLCJjbGVhclJlY3QiLCJ4IiwieSIsInciLCJoIiwiY2xlYXJDbWQiLCJjbGVhclRvQW5zaSIsImZpbGxTdHlsZSIsInN0ZG91dCIsIndyaXRlIiwiZHJhd0ltYWdlIiwiYiIsImMiLCJkIiwiZyIsImZpbGwiLCJmaWxsUmVjdCIsImZpbGxUZXh0IiwiY2hzIiwiZm9udCIsImxpbmVUbyIsIm1lYXN1cmVUZXh0IiwiY2giLCJyZXN1bHQiLCJ3aWR0aCIsIm1vdmVUbyIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImhlaWdodCIsInN0eWxlIiwicG9zaXRpb24iLCJ2aXNpYmlsaXR5IiwiZG9jdW1lbnRFbGVtZW50IiwiUk9UIiwiaXNTdXBwb3J0ZWQiLCJGdW5jdGlvbiIsImJpbmQiLCJERUZBVUxUX1dJRFRIIiwiREVGQVVMVF9IRUlHSFQiLCJESVJTIiwiNCIsIjgiLCI2IiwiVktfQ0FOQ0VMIiwiVktfSEVMUCIsIlZLX0JBQ0tfU1BBQ0UiLCJWS19UQUIiLCJWS19DTEVBUiIsIlZLX1JFVFVSTiIsIlZLX0VOVEVSIiwiVktfU0hJRlQiLCJWS19DT05UUk9MIiwiVktfQUxUIiwiVktfUEFVU0UiLCJWS19DQVBTX0xPQ0siLCJWS19FU0NBUEUiLCJWS19TUEFDRSIsIlZLX1BBR0VfVVAiLCJWS19QQUdFX0RPV04iLCJWS19FTkQiLCJWS19IT01FIiwiVktfTEVGVCIsIlZLX1VQIiwiVktfUklHSFQiLCJWS19ET1dOIiwiVktfUFJJTlRTQ1JFRU4iLCJWS19JTlNFUlQiLCJWS19ERUxFVEUiLCJWS18wIiwiVktfMSIsIlZLXzIiLCJWS18zIiwiVktfNCIsIlZLXzUiLCJWS182IiwiVktfNyIsIlZLXzgiLCJWS185IiwiVktfQ09MT04iLCJWS19TRU1JQ09MT04iLCJWS19MRVNTX1RIQU4iLCJWS19FUVVBTFMiLCJWS19HUkVBVEVSX1RIQU4iLCJWS19RVUVTVElPTl9NQVJLIiwiVktfQVQiLCJWS19BIiwiVktfQiIsIlZLX0MiLCJWS19EIiwiVktfRSIsIlZLX0YiLCJWS19HIiwiVktfSCIsIlZLX0kiLCJWS19KIiwiVktfSyIsIlZLX0wiLCJWS19NIiwiVktfTiIsIlZLX08iLCJWS19QIiwiVktfUSIsIlZLX1IiLCJWS19TIiwiVktfVCIsIlZLX1UiLCJWS19WIiwiVktfVyIsIlZLX1giLCJWS19ZIiwiVktfWiIsIlZLX0NPTlRFWFRfTUVOVSIsIlZLX05VTVBBRDAiLCJWS19OVU1QQUQxIiwiVktfTlVNUEFEMiIsIlZLX05VTVBBRDMiLCJWS19OVU1QQUQ0IiwiVktfTlVNUEFENSIsIlZLX05VTVBBRDYiLCJWS19OVU1QQUQ3IiwiVktfTlVNUEFEOCIsIlZLX05VTVBBRDkiLCJWS19NVUxUSVBMWSIsIlZLX0FERCIsIlZLX1NFUEFSQVRPUiIsIlZLX1NVQlRSQUNUIiwiVktfREVDSU1BTCIsIlZLX0RJVklERSIsIlZLX0YxIiwiVktfRjIiLCJWS19GMyIsIlZLX0Y0IiwiVktfRjUiLCJWS19GNiIsIlZLX0Y3IiwiVktfRjgiLCJWS19GOSIsIlZLX0YxMCIsIlZLX0YxMSIsIlZLX0YxMiIsIlZLX0YxMyIsIlZLX0YxNCIsIlZLX0YxNSIsIlZLX0YxNiIsIlZLX0YxNyIsIlZLX0YxOCIsIlZLX0YxOSIsIlZLX0YyMCIsIlZLX0YyMSIsIlZLX0YyMiIsIlZLX0YyMyIsIlZLX0YyNCIsIlZLX05VTV9MT0NLIiwiVktfU0NST0xMX0xPQ0siLCJWS19DSVJDVU1GTEVYIiwiVktfRVhDTEFNQVRJT04iLCJWS19ET1VCTEVfUVVPVEUiLCJWS19IQVNIIiwiVktfRE9MTEFSIiwiVktfUEVSQ0VOVCIsIlZLX0FNUEVSU0FORCIsIlZLX1VOREVSU0NPUkUiLCJWS19PUEVOX1BBUkVOIiwiVktfQ0xPU0VfUEFSRU4iLCJWS19BU1RFUklTSyIsIlZLX1BMVVMiLCJWS19QSVBFIiwiVktfSFlQSEVOX01JTlVTIiwiVktfT1BFTl9DVVJMWV9CUkFDS0VUIiwiVktfQ0xPU0VfQ1VSTFlfQlJBQ0tFVCIsIlZLX1RJTERFIiwiVktfQ09NTUEiLCJWS19QRVJJT0QiLCJWS19TTEFTSCIsIlZLX0JBQ0tfUVVPVEUiLCJWS19PUEVOX0JSQUNLRVQiLCJWS19CQUNLX1NMQVNIIiwiVktfQ0xPU0VfQlJBQ0tFVCIsIlZLX1FVT1RFIiwiVktfTUVUQSIsIlZLX0FMVEdSIiwiVktfV0lOIiwiVktfS0FOQSIsIlZLX0hBTkdVTCIsIlZLX0VJU1UiLCJWS19KVU5KQSIsIlZLX0ZJTkFMIiwiVktfSEFOSkEiLCJWS19LQU5KSSIsIlZLX0NPTlZFUlQiLCJWS19OT05DT05WRVJUIiwiVktfQUNDRVBUIiwiVktfTU9ERUNIQU5HRSIsIlZLX1NFTEVDVCIsIlZLX1BSSU5UIiwiVktfRVhFQ1VURSIsIlZLX1NMRUVQIiwiVGV4dCIsIlJFX0NPTE9SUyIsIlRZUEVfVEVYVCIsIlRZUEVfTkVXTElORSIsIlRZUEVfRkciLCJUWVBFX0JHIiwibWVhc3VyZSIsInN0ciIsIm1heFdpZHRoIiwidG9rZW5zIiwidG9rZW5pemUiLCJsaW5lV2lkdGgiLCJ0b2tlbiIsInZhbHVlIiwiTWF0aCIsIm1heCIsIm9mZnNldCIsInJlcGxhY2UiLCJtYXRjaCIsImluZGV4IiwicGFydCIsInN1YnN0cmluZyIsInRyaW0iLCJfYnJlYWtMaW5lcyIsIkluZmluaXR5IiwibGluZUxlbmd0aCIsImxhc3RUb2tlbldpdGhTcGFjZSIsImNoYXJBdCIsImluZGV4T2YiLCJfYnJlYWtJbnNpZGVUb2tlbiIsImFyciIsInNwbGl0IiwicG9wIiwiam9pbiIsIm5leHRJbmRleCIsImJyZWFrSW5kZXgiLCJsYXN0SW5kZXhPZiIsInNwbGljZSIsImxhc3RUZXh0VG9rZW4iLCJ0b2tlbkluZGV4IiwicmVtb3ZlQnJlYWtDaGFyIiwibmV3QnJlYWtUb2tlbiIsIm5ld1RleHRUb2tlbiIsInJhbmRvbSIsImZsb29yIiwiUk5HIiwiZ2V0VW5pZm9ybSIsInJhbmRvbWl6ZSIsIk51bWJlciIsIm1vZCIsIlN0cmluZyIsImNhcGl0YWxpemUiLCJ0b1VwcGVyQ2FzZSIsImxwYWQiLCJjaGFyYWN0ZXIiLCJjb3VudCIsImNudCIsInJwYWQiLCJmb3JtYXQiLCJ0ZW1wbGF0ZSIsIm1hcCIsInNsaWNlIiwicmVwbGFjZXIiLCJncm91cDEiLCJncm91cDIiLCJvYmoiLCJncm91cCIsInBhcnRzIiwic2hpZnQiLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2VkIiwiZmlyc3QiLCJ1bnNoaWZ0IiwiT2JqZWN0IiwiY3JlYXRlIiwidG1wIiwiZXh0ZW5kIiwicGFyZW50IiwiY29uc3RydWN0b3IiLCJ3aW5kb3ciLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJvQ2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtc0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaWQiLCJEaXNwbGF5Iiwib3B0aW9ucyIsIl9jb250ZXh0IiwiX2RhdGEiLCJfZGlydHkiLCJfb3B0aW9ucyIsIl9iYWNrZW5kIiwiZGVmYXVsdE9wdGlvbnMiLCJ0cmFuc3Bvc2UiLCJsYXlvdXQiLCJmb250U2l6ZSIsInNwYWNpbmciLCJib3JkZXIiLCJmb3JjZVNxdWFyZVJhdGlvIiwiZm9udEZhbWlseSIsImZvbnRTdHlsZSIsImZnIiwiYmciLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwidGlsZU1hcCIsInRpbGVTZXQiLCJ0aWxlQ29sb3JpemUiLCJ0ZXJtQ29sb3IiLCJwIiwic2V0T3B0aW9ucyIsIkRFQlVHIiwiX3RpY2siLCJ3aGF0IiwiY29sb3JzIiwiZHJhdyIsImNsZWFyIiwiY29tcHV0ZSIsImdldE9wdGlvbnMiLCJnZXRDb250YWluZXIiLCJjb21wdXRlU2l6ZSIsImF2YWlsV2lkdGgiLCJhdmFpbEhlaWdodCIsImNvbXB1dGVGb250U2l6ZSIsImV2ZW50VG9Qb3NpdGlvbiIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImRyYXdUZXh0IiwidGV4dCIsImN4IiwiY3kiLCJsaW5lcyIsImlzU3BhY2UiLCJpc1ByZXZTcGFjZSIsImlzRnVsbFdpZHRoIiwiaXNQcmV2RnVsbFdpZHRoIiwiY2MiLCJjaGFyQ29kZUF0IiwiX2RyYXciLCJrZXkiLCJjbGVhckJlZm9yZSIsImRhdGEiLCJCYWNrZW5kIiwiUmVjdCIsIl9zcGFjaW5nWCIsIl9zcGFjaW5nWSIsIl9jYW52YXNDYWNoZSIsImNhY2hlIiwiY2hhcldpZHRoIiwiY2VpbCIsIl9kcmF3V2l0aENhY2hlIiwiX2RyYXdOb0NhY2hlIiwiaGFzaCIsImN0eCIsImNoYXJzIiwiYm94V2lkdGgiLCJib3hIZWlnaHQiLCJvbGRGb250IiwicmF0aW8iLCJ3aWR0aEZyYWN0aW9uIiwiSGV4IiwiX2hleFNpemUiLCJzcXJ0IiwieHByb3AiLCJ5cHJvcCIsInB4IiwicmV2ZXJzZSIsIl9maWxsIiwiaGV4U2l6ZVdpZHRoIiwiaGV4U2l6ZUhlaWdodCIsImhleFNpemUiLCJtaW4iLCJwcm9wIiwic2l6ZSIsIlRpbGUiLCJfY29sb3JDYW52YXMiLCJ0aWxlIiwiZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIiwiZ2V0U2VlZCIsIl9zZWVkIiwic2V0U2VlZCIsInNlZWQiLCJfczAiLCJfZnJhYyIsIl9zMSIsIl9zMiIsIl9jIiwiZ2V0VW5pZm9ybUludCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwiZ2V0Tm9ybWFsIiwibWVhbiIsInN0ZGRldiIsInYiLCJnYXVzcyIsImxvZyIsImdldFBlcmNlbnRhZ2UiLCJnZXRXZWlnaHRlZFZhbHVlIiwidG90YWwiLCJnZXRTdGF0ZSIsInNldFN0YXRlIiwic3RhdGUiLCJjbG9uZSIsIkRhdGUiLCJub3ciLCJTdHJpbmdHZW5lcmF0b3IiLCJ3b3JkcyIsIm9yZGVyIiwicHJpb3IiLCJfYm91bmRhcnkiLCJmcm9tQ2hhckNvZGUiLCJfc3VmZml4IiwiX3ByZWZpeCIsIl9wcmlvclZhbHVlcyIsImdlbmVyYXRlIiwiX3NhbXBsZSIsIl9qb2luIiwib2JzZXJ2ZSIsInN0cmluZyIsIl9zcGxpdCIsImV2ZW50IiwiaiIsInN1YmNvbnRleHQiLCJfb2JzZXJ2ZUV2ZW50IiwiZ2V0U3RhdHMiLCJwcmlvckNvdW50IiwiZGF0YUNvdW50IiwiZXZlbnRDb3VudCIsIl9iYWNrb2ZmIiwiYXZhaWxhYmxlIiwiRXZlbnRRdWV1ZSIsIl90aW1lIiwiX2V2ZW50cyIsIl9ldmVudFRpbWVzIiwiZ2V0VGltZSIsImFkZCIsInRpbWUiLCJnZXQiLCJyZW1vdmUiLCJfcmVtb3ZlIiwiU2NoZWR1bGVyIiwiX3F1ZXVlIiwiX3JlcGVhdCIsIl9jdXJyZW50IiwiaXRlbSIsInJlcGVhdCIsIm5leHQiLCJTaW1wbGUiLCJTcGVlZCIsImdldFNwZWVkIiwiQWN0aW9uIiwiX2RlZmF1bHREdXJhdGlvbiIsIl9kdXJhdGlvbiIsInNldER1cmF0aW9uIiwiRW5naW5lIiwic2NoZWR1bGVyIiwiX3NjaGVkdWxlciIsIl9sb2NrIiwic3RhcnQiLCJ1bmxvY2siLCJsb2NrIiwiYWN0b3IiLCJhY3QiLCJ0aGVuIiwiTWFwIiwiX3dpZHRoIiwiX2hlaWdodCIsImNhbGxiYWNrIiwiX2ZpbGxNYXAiLCJBcmVuYSIsImVtcHR5IiwiRGl2aWRlZE1hemUiLCJfc3RhY2siLCJfbWFwIiwiX3Byb2Nlc3MiLCJyb29tIiwiX3BhcnRpdGlvblJvb20iLCJhdmFpbFgiLCJhdmFpbFkiLCJib3R0b20iLCJyaWdodCIsIndhbGxzIiwic29saWQiLCJob2xlIiwiSWNleU1hemUiLCJyZWd1bGFyaXR5IiwiX3JlZ3VsYXJpdHkiLCJueCIsIm55IiwiZG9uZSIsImJsb2NrZWQiLCJkaXJzIiwiX3JhbmRvbWl6ZSIsIl9pc0ZyZWUiLCJFbGxlck1hemUiLCJyYW5kIiwiTCIsIlIiLCJfYWRkVG9MaXN0IiwiX3JlbW92ZUZyb21MaXN0IiwiQ2VsbHVsYXIiLCJib3JuIiwic3Vydml2ZSIsInRvcG9sb2d5IiwiY29ubmVjdGVkIiwiX2RpcnMiLCJwcm9iYWJpbGl0eSIsInNldCIsIm5ld01hcCIsIndpZHRoU3RlcCIsIndpZHRoU3RhcnQiLCJjdXIiLCJuY291bnQiLCJfZ2V0TmVpZ2hib3JzIiwiX2NvbXBsZXRlTWF6ZSIsImFsbEZyZWVTcGFjZSIsIm5vdENvbm5lY3RlZCIsIl9mcmVlU3BhY2UiLCJfcG9pbnRLZXkiLCJfZmluZENvbm5lY3RlZCIsImtleXMiLCJfZ2V0RnJvbVRvIiwiZnJvbSIsInRvIiwibG9jYWwiLCJfdHVubmVsVG9Db25uZWN0ZWQiLCJrIiwicHAiLCJjb25uZWN0ZWRLZXlzIiwibm90Q29ubmVjdGVkS2V5cyIsIl9nZXRDbG9zZXN0IiwicG9pbnQiLCJzcGFjZSIsIm1pblBvaW50IiwibWluRGlzdCIsInN0YWNrIiwia2VlcE5vdENvbm5lY3RlZCIsInRlc3RzIiwieHgiLCJwa2V5IiwieXkiLCJEdW5nZW9uIiwiX3Jvb21zIiwiX2NvcnJpZG9ycyIsImdldFJvb21zIiwiZ2V0Q29ycmlkb3JzIiwiRGlnZ2VyIiwicm9vbVdpZHRoIiwicm9vbUhlaWdodCIsImNvcnJpZG9yTGVuZ3RoIiwiZHVnUGVyY2VudGFnZSIsInRpbWVMaW1pdCIsIl9mZWF0dXJlcyIsIlJvb20iLCJDb3JyaWRvciIsIl9mZWF0dXJlQXR0ZW1wdHMiLCJfd2FsbHMiLCJfZGlnQ2FsbGJhY2siLCJfY2FuQmVEdWdDYWxsYmFjayIsIl9pc1dhbGxDYWxsYmFjayIsIl9wcmlvcml0eVdhbGxDYWxsYmFjayIsIl9kdWciLCJhcmVhIiwiX2ZpcnN0Um9vbSIsInQxIiwidDIiLCJ3YWxsIiwiX2ZpbmRXYWxsIiwicGFyc2VJbnQiLCJfZ2V0RGlnZ2luZ0RpcmVjdGlvbiIsImZlYXR1cmVBdHRlbXB0cyIsIl90cnlGZWF0dXJlIiwiX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMiLCJwcmlvcml0eVdhbGxzIiwiX2FkZERvb3JzIiwiRmVhdHVyZSIsImNyZWF0ZVJhbmRvbUNlbnRlciIsInByaW8xIiwicHJpbzIiLCJwcmlvIiwiZHgiLCJkeSIsImZlYXR1cmUiLCJjcmVhdGVSYW5kb21BdCIsImlzVmFsaWQiLCJjcmVhdGVQcmlvcml0eVdhbGxzIiwiZGVsdGFzIiwiZGVsdGEiLCJpc1dhbGxDYWxsYmFjayIsImNsZWFyRG9vcnMiLCJhZGREb29ycyIsIlVuaWZvcm0iLCJyb29tRHVnUGVyY2VudGFnZSIsIl9yb29tQXR0ZW1wdHMiLCJfY29ycmlkb3JBdHRlbXB0cyIsIl9jb25uZWN0ZWQiLCJfdW5jb25uZWN0ZWQiLCJfZ2VuZXJhdGVSb29tcyIsIl9nZW5lcmF0ZUNvcnJpZG9ycyIsIl9nZW5lcmF0ZVJvb20iLCJjcmVhdGVSYW5kb20iLCJyb29tMSIsIl9jbG9zZXN0Um9vbSIsInJvb20yIiwib2siLCJfY29ubmVjdFJvb21zIiwicm9vbXMiLCJkaXN0IiwiY2VudGVyIiwiZ2V0Q2VudGVyIiwiY2VudGVyMSIsImNlbnRlcjIiLCJkaWZmWCIsImRpZmZZIiwiYWJzIiwiZGlySW5kZXgxIiwiZGlySW5kZXgyIiwiZ2V0TGVmdCIsImdldFJpZ2h0IiwiZ2V0VG9wIiwiZ2V0Qm90dG9tIiwiX3BsYWNlSW5XYWxsIiwiZW5kIiwiX2RpZ0xpbmUiLCJkaWZmIiwicm90YXRpb24iLCJtaWQiLCJpbmRleDIiLCJyb3VuZCIsIm1pZDEiLCJtaWQyIiwiYWRkRG9vciIsImRpckluZGV4IiwiYXZhaWwiLCJsYXN0QmFkSW5kZXgiLCJpc1dhbGwiLCJwb2ludHMiLCJjb3JyaWRvciIsIlJvZ3VlIiwiY2VsbFdpZHRoIiwiY2VsbEhlaWdodCIsImhhc093blByb3BlcnR5IiwiX2NhbGN1bGF0ZVJvb21TaXplIiwiY29ubmVjdGVkQ2VsbHMiLCJfaW5pdFJvb21zIiwiX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zIiwiX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyIsIl9jcmVhdGVSb29tcyIsIl9jcmVhdGVDb3JyaWRvcnMiLCJjZWxsIiwiY29ubmVjdGlvbnMiLCJjZWxseCIsImNlbGx5IiwiaWR4IiwibmNneCIsIm5jZ3kiLCJvdGhlclJvb20iLCJjZ3giLCJjZ3kiLCJmb3VuZCIsImRpclRvQ2hlY2siLCJjdyIsInZhbGlkUm9vbSIsImRpcmVjdGlvbnMiLCJkaXJJZHgiLCJuZXdJIiwibmV3SiIsImNvbnNvbGUiLCJyb29tdyIsInJvb21oIiwic3giLCJzeSIsImN3cCIsImNocCIsInN4T2Zmc2V0Iiwic3lPZmZzZXQiLCJpaSIsImpqIiwiX2dldFdhbGxQb3NpdGlvbiIsImFSb29tIiwiYURpcmVjdGlvbiIsInJ4IiwicnkiLCJkb29yIiwiX2RyYXdDb3JyaWRvcmUiLCJzdGFydFBvc2l0aW9uIiwiZW5kUG9zaXRpb24iLCJ0ZW1wRGlzdCIsInhEaXIiLCJ5RGlyIiwibW92ZSIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieHBvcyIsInlwb3MiLCJtb3ZlcyIsInhBYnMiLCJ5QWJzIiwicGVyY2VudCIsImZpcnN0SGFsZiIsInNlY29uZEhhbGYiLCJjb25uZWN0aW9uIiwib3RoZXJXYWxsIiwiY2FuQmVEdWdDYWxsYmFjayIsImRpZ0NhbGxiYWNrIiwiZGVidWciLCJ4MSIsInkxIiwieDIiLCJ5MiIsImRvb3JYIiwiZG9vclkiLCJfeDEiLCJfeTEiLCJfeDIiLCJfeTIiLCJfZG9vcnMiLCJnZXREb29ycyIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwiX3N0YXJ0WCIsIl9zdGFydFkiLCJfZW5kWCIsIl9lbmRZIiwiX2VuZHNXaXRoQVdhbGwiLCJmaXJzdENvcm5lckJhZCIsInNlY29uZENvcm5lckJhZCIsInByaW9yaXR5V2FsbENhbGxiYWNrIiwiTm9pc2UiLCJTaW1wbGV4IiwiZ3JhZGllbnRzIiwiX0YyIiwiX0cyIiwiX2dyYWRpZW50cyIsInBlcm11dGF0aW9ucyIsIl9wZXJtcyIsIl9pbmRleGVzIiwieGluIiwieWluIiwiZ2kiLCJpMSIsImoxIiwicGVybXMiLCJpbmRleGVzIiwiRzIiLCJuMCIsIm4xIiwibjIiLCJYMCIsIlkwIiwieDAiLCJ5MCIsInQwIiwiZ3JhZCIsIkZPViIsImxpZ2h0UGFzc2VzQ2FsbGJhY2siLCJfbGlnaHRQYXNzZXMiLCJfZ2V0Q2lyY2xlIiwiY291bnRGYWN0b3IiLCJzdGFydE9mZnNldCIsIkRpc2NyZXRlU2hhZG93Y2FzdGluZyIsIl9jb29yZHMiLCJBIiwiQiIsImJsb2NrcyIsIkRBVEEiLCJuZWlnaGJvcnMiLCJhbmdsZSIsIl92aXNpYmxlQ29vcmRzIiwidjEiLCJjYWxsZWUiLCJ2MiIsIlByZWNpc2VTaGFkb3djYXN0aW5nIiwiQTEiLCJBMiIsIlNIQURPV1MiLCJuZWlnaGJvckNvdW50IiwiX2NoZWNrVmlzaWJpbGl0eSIsImluZGV4MSIsImVkZ2UxIiwib2xkIiwiZWRnZTIiLCJ2aXNpYmxlIiwidmlzaWJsZUxlbmd0aCIsIlAiLCJQMSIsIlAyIiwiYXJjTGVuZ3RoIiwiUmVjdXJzaXZlU2hhZG93Y2FzdGluZyIsIk9DVEFOVFMiLCJfcmVuZGVyT2N0YW50IiwiY29tcHV0ZTE4MCIsInByZXZpb3VzT2N0YW50IiwibmV4dFByZXZpb3VzT2N0YW50IiwibmV4dE9jdGFudCIsImNvbXB1dGU5MCIsIm9jdGFudCIsIl9jYXN0VmlzaWJpbGl0eSIsInJvdyIsInZpc1Nsb3BlU3RhcnQiLCJ2aXNTbG9wZUVuZCIsInJhZGl1cyIsInh5IiwieXgiLCJuZXdTdGFydCIsIm1hcFgiLCJtYXBZIiwic2xvcGVTdGFydCIsInNsb3BlRW5kIiwiQ29sb3IiLCJmcm9tU3RyaW5nIiwiY2FjaGVkIiwiX2NhY2hlIiwidmFsdWVzIiwiY29sb3IxIiwiY29sb3IyIiwiYWRkXyIsIm11bHRpcGx5IiwibXVsdGlwbHlfIiwiaW50ZXJwb2xhdGUiLCJmYWN0b3IiLCJpbnRlcnBvbGF0ZUhTTCIsImhzbDEiLCJyZ2IyaHNsIiwiaHNsMiIsImhzbDJyZ2IiLCJjb2xvciIsImh1ZTJyZ2IiLCJxIiwidG9SR0IiLCJfY2xhbXAiLCJ0b0hleCIsInRvU3RyaW5nIiwibnVtIiwiYmxhY2siLCJuYXZ5IiwiZGFya2JsdWUiLCJtZWRpdW1ibHVlIiwiYmx1ZSIsImRhcmtncmVlbiIsImdyZWVuIiwidGVhbCIsImRhcmtjeWFuIiwiZGVlcHNreWJsdWUiLCJkYXJrdHVycXVvaXNlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJsaW1lIiwic3ByaW5nZ3JlZW4iLCJhcXVhIiwiY3lhbiIsIm1pZG5pZ2h0Ymx1ZSIsImRvZGdlcmJsdWUiLCJmb3Jlc3RncmVlbiIsInNlYWdyZWVuIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJsaW1lZ3JlZW4iLCJtZWRpdW1zZWFncmVlbiIsInR1cnF1b2lzZSIsInJveWFsYmx1ZSIsInN0ZWVsYmx1ZSIsImRhcmtzbGF0ZWJsdWUiLCJtZWRpdW10dXJxdW9pc2UiLCJpbmRpZ28iLCJkYXJrb2xpdmVncmVlbiIsImNhZGV0Ymx1ZSIsImNvcm5mbG93ZXJibHVlIiwibWVkaXVtYXF1YW1hcmluZSIsImRpbWdyYXkiLCJkaW1ncmV5Iiwic2xhdGVibHVlIiwib2xpdmVkcmFiIiwic2xhdGVncmF5Iiwic2xhdGVncmV5IiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsIm1lZGl1bXNsYXRlYmx1ZSIsImxhd25ncmVlbiIsImNoYXJ0cmV1c2UiLCJhcXVhbWFyaW5lIiwibWFyb29uIiwicHVycGxlIiwib2xpdmUiLCJncmF5IiwiZ3JleSIsInNreWJsdWUiLCJsaWdodHNreWJsdWUiLCJibHVldmlvbGV0IiwiZGFya3JlZCIsImRhcmttYWdlbnRhIiwic2FkZGxlYnJvd24iLCJkYXJrc2VhZ3JlZW4iLCJsaWdodGdyZWVuIiwibWVkaXVtcHVycGxlIiwiZGFya3Zpb2xldCIsInBhbGVncmVlbiIsImRhcmtvcmNoaWQiLCJ5ZWxsb3dncmVlbiIsInNpZW5uYSIsImJyb3duIiwiZGFya2dyYXkiLCJkYXJrZ3JleSIsImxpZ2h0Ymx1ZSIsImdyZWVueWVsbG93IiwicGFsZXR1cnF1b2lzZSIsImxpZ2h0c3RlZWxibHVlIiwicG93ZGVyYmx1ZSIsImZpcmVicmljayIsImRhcmtnb2xkZW5yb2QiLCJtZWRpdW1vcmNoaWQiLCJyb3N5YnJvd24iLCJkYXJra2hha2kiLCJzaWx2ZXIiLCJtZWRpdW12aW9sZXRyZWQiLCJpbmRpYW5yZWQiLCJwZXJ1IiwiY2hvY29sYXRlIiwidGFuIiwibGlnaHRncmF5IiwibGlnaHRncmV5IiwicGFsZXZpb2xldHJlZCIsInRoaXN0bGUiLCJvcmNoaWQiLCJnb2xkZW5yb2QiLCJjcmltc29uIiwiZ2FpbnNib3JvIiwicGx1bSIsImJ1cmx5d29vZCIsImxpZ2h0Y3lhbiIsImxhdmVuZGVyIiwiZGFya3NhbG1vbiIsInZpb2xldCIsInBhbGVnb2xkZW5yb2QiLCJsaWdodGNvcmFsIiwia2hha2kiLCJhbGljZWJsdWUiLCJob25leWRldyIsImF6dXJlIiwic2FuZHlicm93biIsIndoZWF0IiwiYmVpZ2UiLCJ3aGl0ZXNtb2tlIiwibWludGNyZWFtIiwiZ2hvc3R3aGl0ZSIsInNhbG1vbiIsImFudGlxdWV3aGl0ZSIsImxpbmVuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJvbGRsYWNlIiwicmVkIiwiZnVjaHNpYSIsIm1hZ2VudGEiLCJkZWVwcGluayIsIm9yYW5nZXJlZCIsInRvbWF0byIsImhvdHBpbmsiLCJjb3JhbCIsImRhcmtvcmFuZ2UiLCJsaWdodHNhbG1vbiIsIm9yYW5nZSIsImxpZ2h0cGluayIsInBpbmsiLCJnb2xkIiwicGVhY2hwdWZmIiwibmF2YWpvd2hpdGUiLCJtb2NjYXNpbiIsImJpc3F1ZSIsIm1pc3R5cm9zZSIsImJsYW5jaGVkYWxtb25kIiwicGFwYXlhd2hpcCIsImxhdmVuZGVyYmx1c2giLCJzZWFzaGVsbCIsImNvcm5zaWxrIiwibGVtb25jaGlmZm9uIiwiZmxvcmFsd2hpdGUiLCJzbm93IiwieWVsbG93IiwibGlnaHR5ZWxsb3ciLCJpdm9yeSIsIndoaXRlIiwiTGlnaHRpbmciLCJyZWZsZWN0aXZpdHlDYWxsYmFjayIsIl9yZWZsZWN0aXZpdHlDYWxsYmFjayIsInBhc3NlcyIsImVtaXNzaW9uVGhyZXNob2xkIiwicmFuZ2UiLCJfZm92IiwiX2xpZ2h0cyIsIl9yZWZsZWN0aXZpdHlDYWNoZSIsIl9mb3ZDYWNoZSIsInJlc2V0Iiwic2V0Rk9WIiwiZm92Iiwic2V0TGlnaHQiLCJjbGVhckxpZ2h0cyIsImxpZ2h0aW5nQ2FsbGJhY2siLCJkb25lQ2VsbHMiLCJlbWl0dGluZ0NlbGxzIiwibGl0Q2VsbHMiLCJsaWdodCIsIl9lbWl0TGlnaHQiLCJfY29tcHV0ZUVtaXR0ZXJzIiwibGl0S2V5IiwiX2VtaXRMaWdodEZyb21DZWxsIiwicmVmbGVjdGl2aXR5IiwiZW1pc3Npb24iLCJpbnRlbnNpdHkiLCJfdXBkYXRlRk9WIiwiZm92S2V5IiwiZm9ybUZhY3RvciIsImtleTEiLCJ2aXMiLCJrZXkyIiwiUGF0aCIsInRvWCIsInRvWSIsInBhc3NhYmxlQ2FsbGJhY2siLCJfdG9YIiwiX3RvWSIsIl9mcm9tWCIsIl9mcm9tWSIsIl9wYXNzYWJsZUNhbGxiYWNrIiwiZnJvbVgiLCJmcm9tWSIsIkRpamtzdHJhIiwiX2NvbXB1dGVkIiwiX3RvZG8iLCJfYWRkIiwiX2NvbXB1dGUiLCJwcmV2IiwibmVpZ2hib3IiLCJBU3RhciIsIl9kb25lIiwiX2Rpc3RhbmNlIiwiVGVybSIsIl9jeCIsIl9jeSIsIl9sYXN0Q29sb3IiLCJfb3giLCJfb3kiLCJjb2x1bW5zIiwicm93cyIsInBvc2l0aW9uVG9BbnNpIiwibmV3Q29sb3IiLCJjb2xvclRvQW5zaSIsIlh0ZXJtIiwiU1JDX0NPTE9SUyIsIkRTVF9DT0xPUlMiLCJDT0xPUl9SQVRJTyIsInJnYiIsInNlbGYiLCIzIiwic3ByaW50ZiIsInBhcnNlIiwiZ2V0X3R5cGUiLCJ2YXJpYWJsZSIsInN0cl9yZXBlYXQiLCJpbnB1dCIsIm11bHRpcGxpZXIiLCJyZSIsIm5vdF9zdHJpbmciLCJudW1iZXIiLCJqc29uIiwibm90X2pzb24iLCJtb2R1bG8iLCJwbGFjZWhvbGRlciIsImtleV9hY2Nlc3MiLCJpbmRleF9hY2Nlc3MiLCJzaWduIiwicGFyc2VfdHJlZSIsImFyZyIsInBhZCIsInBhZF9jaGFyYWN0ZXIiLCJwYWRfbGVuZ3RoIiwiY3Vyc29yIiwidHJlZV9sZW5ndGgiLCJub2RlX3R5cGUiLCJvdXRwdXQiLCJpc19wb3NpdGl2ZSIsInRlc3QiLCJpc05hTiIsIlR5cGVFcnJvciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0V4cG9uZW50aWFsIiwicGFyc2VGbG9hdCIsInRvRml4ZWQiLCJ0b1ByZWNpc2lvbiIsImZtdCIsIl9mbXQiLCJhcmdfbmFtZXMiLCJleGVjIiwiU3ludGF4RXJyb3IiLCJmaWVsZF9saXN0IiwicmVwbGFjZW1lbnRfZmllbGQiLCJmaWVsZF9tYXRjaCIsInZzcHJpbnRmIiwiX2FyZ3YiLCJkZWZpbmUiLCJhbWQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZ2FtZSIsIl9nYW1lMiIsInN3aXRjaFNjcmVlbiIsIlNjcmVlbiIsIlN0YXJ0U2NyZWVuIiwibWFpbkRpc3BsYXkiLCJnZXREaXNwbGF5IiwicXVlcnlTZWxlY3RvciIsIi4vZ2FtZSIsIjUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJSZWZlcmVuY2VFcnJvciIsIl9pbmhlcml0cyIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZGVmaW5lUHJvcGVydHkiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJkZXNjcmlwdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2dseXBoIiwiX2dseXBoMiIsIkVudGl0eSIsIl9HbHlwaCIsInByb3BlcnRpZXMiLCJ1bmRlZmluZWQiLCJfdGhpcyIsImdldFByb3RvdHlwZU9mIiwiX25hbWUiLCJfeCIsIl95IiwiX2F0dGFjaGVkTWl4aW5zIiwiX2F0dGFjaGVkTWl4aW5Hcm91cHMiLCJtaXhpbnMiLCJtaXhpbiIsImdyb3VwTmFtZSIsImluaXQiLCJoYXNNaXhpbiIsInNldE5hbWUiLCJzZXRYIiwic2V0WSIsImdldE5hbWUiLCJnZXRYIiwiZ2V0WSIsInNldE1hcCIsImdldE1hcCIsIi4vZ2x5cGgiLCJHbHlwaCIsIl9jaGFyIiwiX2ZnIiwiX2JnIiwiZ2V0Q2hhciIsImdldEJhY2tncm91bmQiLCJnZXRGb3JlZ3JvdW5kIiwiNyIsIkdhbWUiLCJfcm90SnMiLCJfcm90SnMyIiwiX3NwcmludGZKcyIsIl9zY3JlZW4iLCJfc2NyZWVuMiIsIl9taXhpbnMiLCJkaXNwbGF5RGVmYXVsdHMiLCJfZGlzcGxheSIsIl9jdXJyZW50U2NyZWVuIiwiX3NjcmVlbldpZHRoIiwiX3NjcmVlbkhlaWdodCIsImFzc2lnbiIsImJpbmRFdmVudFRvU2NyZWVuIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUlucHV0IiwiZm9yRWFjaCIsInJlZnJlc2giLCJyZW5kZXIiLCJnZXRTY3JlZW5XaWR0aCIsImdldFNjcmVlbkhlaWdodCIsInNjcmVlbiIsImV4aXQiLCJlbnRlciIsInNlbmRNZXNzYWdlIiwicmVjaXBpZW50IiwibWVzc2FnZSIsIm1zZyIsIk1lc3NhZ2VSZWNpcGllbnQiLCJyZWNlaXZlTWVzc2FnZSIsInNlbmRNZXNzYWdlTmVhcmJ5IiwiZW50aXRpZXMiLCJnZXRFbnRpdGllc1dpdGhpblJhZGl1cyIsIi4vbWl4aW5zIiwiLi9zY3JlZW4iLCJyb3QtanMiLCJzcHJpbnRmLWpzIiwiX3RlbXBsYXRlcyIsIl9lbnRpdHkiLCJfZW50aXR5MiIsIl90aWxlIiwidGlsZXMiLCJwbGF5ZXIiLCJfdGlsZXMiLCJfZW50aXRpZXMiLCJfZW5naW5lIiwiYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbiIsIkZ1bmd1c1RlbXBsYXRlIiwiZ2V0V2lkdGgiLCJnZXRIZWlnaHQiLCJnZXRUaWxlIiwicmV0IiwiTnVsbFRpbGUiLCJkaWciLCJpc0RpZ2dhYmxlIiwiRmxvb3JUaWxlIiwiZ2V0UmFuZG9tRmxvb3JQb3NpdGlvbiIsImlzRW1wdHlGbG9vciIsImdldEVuZ2luZSIsImdldEVudGl0aWVzIiwiZ2V0RW50aXR5QXQiLCJlbnRpdHkiLCJjZW50ZXJYIiwiY2VudGVyWSIsInJlc3VsdHMiLCJsZWZ0WCIsInJpZ2h0WCIsInRvcFkiLCJib3R0b21ZIiwiYWRkRW50aXR5IiwicmVtb3ZlRW50aXR5IiwiLi9lbnRpdHkiLCIuL3RlbXBsYXRlcyIsIi4vdGlsZSIsIjkiLCJBdHRhY2tlciIsIkRlc3RydWN0aWJsZSIsIkZ1bmd1c0FjdG9yIiwiUGxheWVyQWN0b3IiLCJNb3ZlYWJsZSIsIl9pbmRleCIsIl9pbmRleDIiLCJ0cnlNb3ZlIiwiYXR0YWNrIiwiaXNXYWxrYWJsZSIsImNsZWFyTWVzc2FnZXMiLCJfZ3Jvd3Roc1JlbWFpbmluZyIsIl9tYXhIUCIsIm1heEhQIiwiX0hQIiwiSFAiLCJfZGVmZW5zZVZhbHVlIiwiZGVmZW5zZVZhbHVlIiwiZ2V0SFAiLCJnZXRNYXhIUCIsImdldERlZmVuc2VWYWx1ZSIsInRha2VEYW1hZ2UiLCJhdHRhY2tlciIsImRhbWFnZSIsIl9hdHRhY2tWYWx1ZSIsImF0dGFja1ZhbHVlIiwiZ2V0QXR0YWNrVmFsdWUiLCJkZWZlbnNlIiwiX21lc3NhZ2VzIiwiZ2V0TWVzc2FnZXMiLCIuL2luZGV4IiwiMTAiLCJfbWFwMiIsImRpc3BsYXkiLCJrZXlDb2RlIiwiUGxheVNjcmVlbiIsIl9wbGF5ZXIiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsImdlbmVyYXRvciIsInRvdGFsSXRlcmF0aW9ucyIsIldhbGxUaWxlIiwiUGxheWVyVGVtcGxhdGUiLCJkWCIsImRZIiwibmV3WCIsIm5ld1kiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsInRvcExlZnRYIiwidG9wTGVmdFkiLCJtZXNzYWdlcyIsIm1lc3NhZ2VZIiwiV2luU2NyZWVuIiwiTG9zZVNjcmVlbiIsImJhY2tncm91bmQiLCIuL21hcCIsIjExIiwiY2hhciIsIjEyIiwiX2lzV2Fsa2FibGUiLCJfaXNEaWdnYWJsZSJdLCJtYXBwaW5ncyI6IkNBQUEsUUFBQUEsR0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxRQUFBQyxHQUFBQyxFQUFBQyxHQUFBLElBQUFKLEVBQUFHLEdBQUEsQ0FBQSxJQUFBSixFQUFBSSxHQUFBLENBQUEsR0FBQUUsR0FBQSxrQkFBQUMsVUFBQUEsT0FBQSxLQUFBRixHQUFBQyxFQUFBLE1BQUFBLEdBQUFGLEdBQUEsRUFBQSxJQUFBSSxFQUFBLE1BQUFBLEdBQUFKLEdBQUEsRUFBQSxJQUFBSyxHQUFBLEdBQUFDLE9BQUEsdUJBQUFOLEVBQUEsSUFBQSxNQUFBSyxHQUFBRSxLQUFBLG1CQUFBRixFQUFBLEdBQUFHLEdBQUFYLEVBQUFHLElBQUFTLFdBQUFiLEdBQUFJLEdBQUEsR0FBQVUsS0FBQUYsRUFBQUMsUUFBQSxTQUFBZCxHQUFBLEdBQUFFLEdBQUFELEVBQUFJLEdBQUEsR0FBQUwsRUFBQSxPQUFBSSxHQUFBRixFQUFBQSxFQUFBRixJQUFBYSxFQUFBQSxFQUFBQyxRQUFBZCxFQUFBQyxFQUFBQyxFQUFBQyxHQUFBLE1BQUFELEdBQUFHLEdBQUFTLFFBQUEsSUFBQSxHQUFBTCxHQUFBLGtCQUFBRCxVQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFhLE9BQUFYLElBQUFELEVBQUFELEVBQUFF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YUFBQSxXQUdBQyxPQUFBLEVBQ0FDLE9BQ0FuQyxLQUFBLFFBQ0FvQyxTQUFBLFdBQ0FuQyxJQUFBLFFBQ0FvQyxXQUFBLFVBRUFQLE1BQUEsSUFHQVEsaUJBQ0E3QyxXQUFBLEVBQ0FDLFVBQUEsR0FNQSxJQUFBNkMsSUFJQUMsWUFBQSxXQUNBLFNBQUFuRCxTQUFBTSxjQUFBLFVBQUFPLGFBQUF1QyxTQUFBN0UsVUFBQThFLE9BSUFDLGNBQUEsR0FFQUMsZUFBQSxHQUdBQyxNQUNBQyxJQUNBLE9BQ0EsRUFBQSxJQUNBLEVBQUEsT0FDQSxJQUVBQyxJQUNBLE9BQ0EsT0FDQSxFQUFBLElBQ0EsRUFBQSxJQUNBLEVBQUEsT0FDQSxPQUNBLFlBR0FDLFlBRUEsT0FDQSxFQUFBLElBQ0EsRUFBQSxPQUNBLE9BQ0EsS0FLQUMsVUFBQSxFQUVBQyxRQUFBLEVBRUFDLGNBQUEsRUFFQUMsT0FBQSxFQUVBQyxTQUFBLEdBRUFDLFVBQUEsR0FFQUMsU0FBQSxHQUVBQyxTQUFBLEdBRUFDLFdBQUEsR0FFQUMsT0FBQSxHQUVBQyxTQUFBLEdBRUFDLGFBQUEsR0FFQUMsVUFBQSxHQUVBQyxTQUFBLEdBRUFDLFdBQUEsR0FFQUMsYUFBQSxHQUVBQyxPQUFBLEdBRUFDLFFBQUEsR0FFQUMsUUFBQSxHQUVBQyxNQUFBLEdBRUFDLFNBQUEsR0FFQUMsUUFBQSxHQUVBQyxlQUFBLEdBRUFDLFVBQUEsR0FFQUMsVUFBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLFNBQUEsR0FFQUMsYUFBQSxHQUVBQyxhQUFBLEdBRUFDLFVBQUEsR0FFQUMsZ0JBQUEsR0FFQUMsaUJBQUEsR0FFQUMsTUFBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsS0FBQSxHQUVBQyxLQUFBLEdBRUFDLEtBQUEsR0FFQUMsZ0JBQUEsR0FFQUMsV0FBQSxHQUVBQyxXQUFBLEdBRUFDLFdBQUEsR0FFQUMsV0FBQSxHQUVBQyxXQUFBLElBRUFDLFdBQUEsSUFFQUMsV0FBQSxJQUVBQyxXQUFBLElBRUFDLFdBQUEsSUFFQUMsV0FBQSxJQUVBQyxZQUFBLElBRUFDLE9BQUEsSUFFQUMsYUFBQSxJQUVBQyxZQUFBLElBRUFDLFdBQUEsSUFFQUMsVUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxNQUFBLElBRUFDLE1BQUEsSUFFQUMsTUFBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxPQUFBLElBRUFDLE9BQUEsSUFFQUMsT0FBQSxJQUVBQyxZQUFBLElBRUFDLGVBQUEsSUFFQUMsY0FBQSxJQUVBQyxlQUFBLElBRUFDLGdCQUFBLElBRUFDLFFBQUEsSUFFQUMsVUFBQSxJQUVBQyxXQUFBLElBRUFDLGFBQUEsSUFFQUMsY0FBQSxJQUVBQyxjQUFBLElBRUFDLGVBQUEsSUFFQUMsWUFBQSxJQUVBQyxRQUFBLElBRUFDLFFBQUEsSUFFQUMsZ0JBQUEsSUFFQUMsc0JBQUEsSUFFQUMsdUJBQUEsSUFFQUMsU0FBQSxJQUVBQyxTQUFBLElBRUFDLFVBQUEsSUFFQUMsU0FBQSxJQUVBQyxj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SUFBQSxLQUNBQyxnQkFBQSxJQUFBLElBQUEsS0FDQUMsa0JBQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxHQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLElBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLGdCQUFBLElBQUEsSUFBQSxLQUNBQyxnQkFBQSxJQUFBLElBQUEsS0FDQUMsaUJBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEdBQ0FDLFlBQUEsSUFBQSxJQUFBLEdBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLFFBQUEsSUFBQSxFQUFBLEdBQ0FDLFFBQUEsSUFBQSxFQUFBLEtBQ0FDLE9BQUEsSUFBQSxJQUFBLEdBQ0FDLE1BQUEsSUFBQSxJQUFBLEtBQ0FDLE1BQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLGNBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxHQUFBLEtBQ0FDLFNBQUEsSUFBQSxFQUFBLEdBQ0FDLGFBQUEsSUFBQSxFQUFBLEtBQ0FDLGFBQUEsSUFBQSxHQUFBLElBQ0FDLGNBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxJQUFBLEtBQ0FDLGNBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxFQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLFlBQUEsSUFBQSxHQUFBLEtBQ0FDLGFBQUEsSUFBQSxJQUFBLElBQ0FDLFFBQUEsSUFBQSxHQUFBLElBQ0FDLE9BQUEsSUFBQSxHQUFBLElBQ0FDLFVBQUEsSUFBQSxJQUFBLEtBQ0FDLFVBQUEsSUFBQSxJQUFBLEtBQ0FDLFdBQUEsSUFBQSxJQUFBLEtBQ0FDLGFBQUEsSUFBQSxJQUFBLElBQ0FDLGVBQUEsSUFBQSxJQUFBLEtBQ0FDLGdCQUFBLElBQUEsSUFBQSxLQUNBQyxZQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsR0FBQSxJQUNBQyxlQUFBLElBQUEsSUFBQSxJQUNBQyxjQUFBLElBQUEsR0FBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxXQUFBLElBQUEsSUFBQSxLQUNBQyxRQUFBLElBQUEsSUFBQSxLQUNBQyxpQkFBQSxJQUFBLEdBQUEsS0FDQUMsV0FBQSxJQUFBLEdBQUEsSUFDQUMsTUFBQSxJQUFBLElBQUEsSUFDQUMsV0FBQSxJQUFBLElBQUEsSUFDQUMsS0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsZUFBQSxJQUFBLElBQUEsS0FDQUMsU0FBQSxJQUFBLElBQUEsS0FDQUMsUUFBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsSUFDQUMsU0FBQSxJQUFBLEdBQUEsSUFDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsTUFBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsVUFBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsUUFBQSxJQUFBLElBQUEsS0FDQUMsZUFBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsVUFBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsSUFDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsV0FBQSxJQUFBLElBQUEsS0FDQUMsWUFBQSxJQUFBLElBQUEsS0FDQUMsUUFBQSxJQUFBLElBQUEsS0FDQUMsY0FBQSxJQUFBLElBQUEsS0FDQUMsT0FBQSxJQUFBLElBQUEsS0FDQUMsc0JBQUEsSUFBQSxJQUFBLEtBQ0FDLFNBQUEsSUFBQSxJQUFBLEtBQ0FDLEtBQUEsSUFBQSxFQUFBLEdBQ0FDLFNBQUEsSUFBQSxFQUFBLEtB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QmhCLEVBQVkzb0MsVUFBVytwQyxHQUFpQkMsR0FBYUwsRUFBaUJoQixFQUFhcUIsR0FBcUJyQixNV2o0TmhpQnNCLEVBQUExc0MsRUFBQSxXWHE0Tkkyc0MsRUFBVXRDLEVBQXVCcUMsR1duNE5oQjd2QixFWDY0TlYsU0FBVWd3QixHVzU0Tm5CLFFBQUFod0IsS0FBNkIsR0FBakJpd0IsR0FBaUJ2cUMsVUFBQS9CLE9BQUEsR0FBQXVzQyxTQUFBeHFDLFVBQUEsR0FBQUEsVUFBQSxLQUFBMm9DLEdBQUFqcUMsS0FBQTRiLEVBQUEsSUFBQW13QixHQUFBM0IsRUFBQXBxQyxNQUFBNGIsRUFBQWl2QixXQUFBNTFCLE9BQUErMkIsZUFBQXB3QixJQUFBdGMsS0FBQVUsS0FDckI2ckMsR0FEcUIsT0FHM0JFLEdBQUtvSyxZQUFjdEssRUFBV21ILGFBQWMsRUFDNUNqSCxFQUFLcUssWUFBY3ZLLEVBQVdxRixhQUFjLEVBSmpCbkYsRVgrNk43QixNQWxDQXpCLEdBQVUxdUIsRUFBTWd3QixHQWNoQlYsRUFBYXR2QixJQUNYbkMsSUFBSyxhQUNMckksTUFBTyxXQUNMLFFBQVM0aEMsS1d0NU5YLE1BQU9oekMsTUFBS20yQyxZWDA1TlYsTUFBT25ELFFBR1R2NUIsSUFBSyxhQUNMckksTUFBTyxXQUNMLFFBQVM4L0IsS1czNU5YLE1BQU9seEMsTUFBS28yQyxZWCs1TlYsTUFBT2xGLFNBSUp0MUIsR0FDUDh2QixFQUFRLFdBRVZyc0MsR0FBUSxXV243TmF1YyxDQWlCUnZjLEdBQUEyeEMsU0FBVyxHQUFJcDFCLE9BQ2Z2YyxFQUFBOHhDLFVBQVksR0FBSXYxQixJQUMzQnE2QixPQUFNLElBQ05qRCxZQUFZLElBRUQzekMsRUFBQTIxQyxTQUFXLEdBQUlwNUIsSUFDMUJxNkIsT0FBTSxJQUNOLytCLEdBQUksWUFDSmc2QixZQUFZLE1YczZOWC9ELFVBQVUsU0FBUyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4vLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuXG59LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpe1xuLypcblx0VGhpcyBpcyByb3QuanMsIHRoZSBST2d1ZWxpa2UgVG9vbGtpdCBpbiBKYXZhU2NyaXB0LlxuXHRWZXJzaW9uIDAuNn5kZXYsIGdlbmVyYXRlZCBvbiBNb24gTm92IDMwIDEwOjM0OjQyIENFVCAyMDE1LlxuKi9cbi8qKlxuICogQWRkIG9iamVjdHMgZm9yIE5vZGUuanMgZW52aXJvbm1lbnRcbiAqL1xuZ2xvYmFsLnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNiKSB7XG5cdHJldHVybiBzZXRUaW1lb3V0KGNiLCAxMDAwLzYwKTtcbn07XG5cbmdsb2JhbC5kb2N1bWVudCA9IHtcblx0Ym9keToge1xuXHRcdGFwcGVuZENoaWxkOiBmdW5jdGlvbihjaGlsZCkge30sXG5cdFx0c2Nyb2xsTGVmdDogMCxcblx0XHRzY3JvbGxUb3A6IDBcblx0fSxcblx0Y3JlYXRlRWxlbWVudDogZnVuY3Rpb24odHlwZSkge1xuXHRcdHZhciBjYW52YXM7XG5cdFx0cmV0dXJuIGNhbnZhcyA9IHtcblx0XHRcdGdldEJvdW5kaW5nQ2xpZW50UmVjdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciByZWN0O1xuXHRcdFx0XHRyZXR1cm4gcmVjdCA9IHtcblx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdHRvcDogMFxuXHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XHRcdGdldENvbnRleHQ6IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHRcdFx0dmFyIGNvbnRleHQ7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0ID0ge1xuXHRcdFx0XHRcdF90ZXJtY29sb3I6IG51bGwsXG5cdFx0XHRcdFx0YmVnaW5QYXRoOiBmdW5jdGlvbigpIHt9LFxuXHRcdFx0XHRcdGNhbnZhczogY2FudmFzLFxuXHRcdFx0XHRcdGNsZWFyUmVjdDogZnVuY3Rpb24oeCwgeSwgdywgaCkge1xuXHRcdFx0XHRcdFx0aWYodGhpcy5fdGVybWNvbG9yICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBjbGVhckNtZCA9IHRoaXMuX3Rlcm1jb2xvci5jbGVhclRvQW5zaSh0aGlzLmZpbGxTdHlsZSk7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNsZWFyQ21kKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGRyYXdJbWFnZTogZnVuY3Rpb24oYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgaSkge30sXG5cdFx0XHRcdFx0ZmlsbDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0XHRmaWxsUmVjdDogZnVuY3Rpb24oeCwgeSwgdywgaCkge1xuXHRcdFx0XHRcdFx0aWYodGhpcy5fdGVybWNvbG9yICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBjbGVhckNtZCA9IHRoaXMuX3Rlcm1jb2xvci5jbGVhclRvQW5zaSh0aGlzLmZpbGxTdHlsZSk7XG5cdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNsZWFyQ21kKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGZpbGxTdHlsZTogXCIjMDAwXCIsXG5cdFx0XHRcdFx0ZmlsbFRleHQ6IGZ1bmN0aW9uKGNocywgeCwgeSkge30sXG5cdFx0XHRcdFx0Zm9udDogXCJtb25vc3BhY2VcIixcblx0XHRcdFx0XHRsaW5lVG86IGZ1bmN0aW9uKHgsIHkpIHt9LFxuXHRcdFx0XHRcdG1lYXN1cmVUZXh0OiBmdW5jdGlvbihjaCkge1xuXHRcdFx0XHRcdFx0dmFyIHJlc3VsdDtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQgPSB7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOiAxMlxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG1vdmVUbzogZnVuY3Rpb24oeCwgeSkge30sXG5cdFx0XHRcdFx0dGV4dEFsaWduOiBcImNlbnRlclwiLFxuXHRcdFx0XHRcdHRleHRCYXNlbGluZTogXCJtaWRkbGVcIlxuXHRcdFx0XHR9O1xuXHRcdFx0fSxcblx0XHRcdGhlaWdodDogMCxcblx0XHRcdHN0eWxlOiB7XG5cdFx0XHRcdGxlZnQ6IFwiMTAwcHhcIixcblx0XHRcdFx0cG9zaXRpb246IFwiYWJzb2x1dGVcIixcblx0XHRcdFx0dG9wOiBcIjEwMHB4XCIsXG5cdFx0XHRcdHZpc2liaWxpdHk6IFwiaGlkZGVuXCJcblx0XHRcdH0sXG5cdFx0XHR3aWR0aDogMFxuXHRcdH07XG5cdH0sXG5cdGRvY3VtZW50RWxlbWVudDoge1xuXHRcdHNjcm9sbExlZnQ6IDAsXG5cdFx0c2Nyb2xsVG9wOiAwXG5cdH1cbn07XG4vKipcbiAqIEBuYW1lc3BhY2UgVG9wLWxldmVsIFJPVCBuYW1lc3BhY2VcbiAqL1xudmFyIFJPVCA9IHtcblx0LyoqXG5cdCAqIEByZXR1cm5zIHtib29sfSBJcyByb3QuanMgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlcj9cblx0ICovXG5cdGlzU3VwcG9ydGVkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gISEoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0ICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kKTtcblx0fSxcblxuXHQvKiogRGVmYXVsdCB3aXRoIGZvciBkaXNwbGF5IGFuZCBtYXAgZ2VuZXJhdG9ycyAqL1xuXHRERUZBVUxUX1dJRFRIOiA4MCxcblx0LyoqIERlZmF1bHQgaGVpZ2h0IGZvciBkaXNwbGF5IGFuZCBtYXAgZ2VuZXJhdG9ycyAqL1xuXHRERUZBVUxUX0hFSUdIVDogMjUsXG5cblx0LyoqIERpcmVjdGlvbmFsIGNvbnN0YW50cy4gT3JkZXJpbmcgaXMgaW1wb3J0YW50ISAqL1xuXHRESVJTOiB7XG5cdFx0XCI0XCI6IFtcblx0XHRcdFsgMCwgLTFdLFxuXHRcdFx0WyAxLCAgMF0sXG5cdFx0XHRbIDAsICAxXSxcblx0XHRcdFstMSwgIDBdXG5cdFx0XSxcblx0XHRcIjhcIjogW1xuXHRcdFx0WyAwLCAtMV0sXG5cdFx0XHRbIDEsIC0xXSxcblx0XHRcdFsgMSwgIDBdLFxuXHRcdFx0WyAxLCAgMV0sXG5cdFx0XHRbIDAsICAxXSxcblx0XHRcdFstMSwgIDFdLFxuXHRcdFx0Wy0xLCAgMF0sXG5cdFx0XHRbLTEsIC0xXVxuXHRcdF0sXG5cdFx0XCI2XCI6IFtcblx0XHRcdFstMSwgLTFdLFxuXHRcdFx0WyAxLCAtMV0sXG5cdFx0XHRbIDIsICAwXSxcblx0XHRcdFsgMSwgIDFdLFxuXHRcdFx0Wy0xLCAgMV0sXG5cdFx0XHRbLTIsICAwXVxuXHRcdF1cblx0fSxcblxuXHQvKiogQ2FuY2VsIGtleS4gKi9cblx0VktfQ0FOQ0VMOiAzLCBcblx0LyoqIEhlbHAga2V5LiAqL1xuXHRWS19IRUxQOiA2LCBcblx0LyoqIEJhY2tzcGFjZSBrZXkuICovXG5cdFZLX0JBQ0tfU1BBQ0U6IDgsIFxuXHQvKiogVGFiIGtleS4gKi9cblx0VktfVEFCOiA5LCBcblx0LyoqIDUga2V5IG9uIE51bXBhZCB3aGVuIE51bUxvY2sgaXMgdW5sb2NrZWQuIE9yIG9uIE1hYywgY2xlYXIga2V5IHdoaWNoIGlzIHBvc2l0aW9uZWQgYXQgTnVtTG9jayBrZXkuICovXG5cdFZLX0NMRUFSOiAxMiwgXG5cdC8qKiBSZXR1cm4vZW50ZXIga2V5IG9uIHRoZSBtYWluIGtleWJvYXJkLiAqL1xuXHRWS19SRVRVUk46IDEzLCBcblx0LyoqIFJlc2VydmVkLCBidXQgbm90IHVzZWQuICovXG5cdFZLX0VOVEVSOiAxNCwgXG5cdC8qKiBTaGlmdCBrZXkuICovXG5cdFZLX1NISUZUOiAxNiwgXG5cdC8qKiBDb250cm9sIGtleS4gKi9cblx0VktfQ09OVFJPTDogMTcsIFxuXHQvKiogQWx0IChPcHRpb24gb24gTWFjKSBrZXkuICovXG5cdFZLX0FMVDogMTgsIFxuXHQvKiogUGF1c2Uga2V5LiAqL1xuXHRWS19QQVVTRTogMTksIFxuXHQvKiogQ2FwcyBsb2NrLiAqL1xuXHRWS19DQVBTX0xPQ0s6IDIwLCBcblx0LyoqIEVzY2FwZSBrZXkuICovXG5cdFZLX0VTQ0FQRTogMjcsIFxuXHQvKiogU3BhY2UgYmFyLiAqL1xuXHRWS19TUEFDRTogMzIsIFxuXHQvKiogUGFnZSBVcCBrZXkuICovXG5cdFZLX1BBR0VfVVA6IDMzLCBcblx0LyoqIFBhZ2UgRG93biBrZXkuICovXG5cdFZLX1BBR0VfRE9XTjogMzQsIFxuXHQvKiogRW5kIGtleS4gKi9cblx0VktfRU5EOiAzNSwgXG5cdC8qKiBIb21lIGtleS4gKi9cblx0VktfSE9NRTogMzYsIFxuXHQvKiogTGVmdCBhcnJvdy4gKi9cblx0VktfTEVGVDogMzcsIFxuXHQvKiogVXAgYXJyb3cuICovXG5cdFZLX1VQOiAzOCwgXG5cdC8qKiBSaWdodCBhcnJvdy4gKi9cblx0VktfUklHSFQ6IDM5LCBcblx0LyoqIERvd24gYXJyb3cuICovXG5cdFZLX0RPV046IDQwLCBcblx0LyoqIFByaW50IFNjcmVlbiBrZXkuICovXG5cdFZLX1BSSU5UU0NSRUVOOiA0NCwgXG5cdC8qKiBJbnMoZXJ0KSBrZXkuICovXG5cdFZLX0lOU0VSVDogNDUsIFxuXHQvKiogRGVsKGV0ZSkga2V5LiAqL1xuXHRWS19ERUxFVEU6IDQ2LCBcblx0LyoqKi9cblx0VktfMDogNDgsXG5cdC8qKiovXG5cdFZLXzE6IDQ5LFxuXHQvKioqL1xuXHRWS18yOiA1MCxcblx0LyoqKi9cblx0VktfMzogNTEsXG5cdC8qKiovXG5cdFZLXzQ6IDUyLFxuXHQvKioqL1xuXHRWS181OiA1Myxcblx0LyoqKi9cblx0VktfNjogNTQsXG5cdC8qKiovXG5cdFZLXzc6IDU1LFxuXHQvKioqL1xuXHRWS184OiA1Nixcblx0LyoqKi9cblx0VktfOTogNTcsXG5cdC8qKiBDb2xvbiAoOikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NPTE9OOiA1OCwgXG5cdC8qKiBTZW1pY29sb24gKDspIGtleS4gKi9cblx0VktfU0VNSUNPTE9OOiA1OSwgXG5cdC8qKiBMZXNzLXRoYW4gKDwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19MRVNTX1RIQU46IDYwLCBcblx0LyoqIEVxdWFscyAoPSkga2V5LiAqL1xuXHRWS19FUVVBTFM6IDYxLCBcblx0LyoqIEdyZWF0ZXItdGhhbiAoPikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0dSRUFURVJfVEhBTjogNjIsIFxuXHQvKiogUXVlc3Rpb24gbWFyayAoPykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1FVRVNUSU9OX01BUks6IDYzLCBcblx0LyoqIEF0bWFyayAoQCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FUOiA2NCwgXG5cdC8qKiovXG5cdFZLX0E6IDY1LFxuXHQvKioqL1xuXHRWS19COiA2Nixcblx0LyoqKi9cblx0VktfQzogNjcsXG5cdC8qKiovXG5cdFZLX0Q6IDY4LFxuXHQvKioqL1xuXHRWS19FOiA2OSxcblx0LyoqKi9cblx0VktfRjogNzAsXG5cdC8qKiovXG5cdFZLX0c6IDcxLFxuXHQvKioqL1xuXHRWS19IOiA3Mixcblx0LyoqKi9cblx0VktfSTogNzMsXG5cdC8qKiovXG5cdFZLX0o6IDc0LFxuXHQvKioqL1xuXHRWS19LOiA3NSxcblx0LyoqKi9cblx0VktfTDogNzYsXG5cdC8qKiovXG5cdFZLX006IDc3LFxuXHQvKioqL1xuXHRWS19OOiA3OCxcblx0LyoqKi9cblx0VktfTzogNzksXG5cdC8qKiovXG5cdFZLX1A6IDgwLFxuXHQvKioqL1xuXHRWS19ROiA4MSxcblx0LyoqKi9cblx0VktfUjogODIsXG5cdC8qKiovXG5cdFZLX1M6IDgzLFxuXHQvKioqL1xuXHRWS19UOiA4NCxcblx0LyoqKi9cblx0VktfVTogODUsXG5cdC8qKiovXG5cdFZLX1Y6IDg2LFxuXHQvKioqL1xuXHRWS19XOiA4Nyxcblx0LyoqKi9cblx0VktfWDogODgsXG5cdC8qKiovXG5cdFZLX1k6IDg5LFxuXHQvKioqL1xuXHRWS19aOiA5MCxcblx0LyoqKi9cblx0VktfQ09OVEVYVF9NRU5VOiA5Myxcblx0LyoqIDAgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQwOiA5NiwgXG5cdC8qKiAxIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMTogOTcsIFxuXHQvKiogMiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDI6IDk4LCBcblx0LyoqIDMgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQzOiA5OSwgXG5cdC8qKiA0IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENDogMTAwLCBcblx0LyoqIDUgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ1OiAxMDEsIFxuXHQvKiogNiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDY6IDEwMiwgXG5cdC8qKiA3IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENzogMTAzLCBcblx0LyoqIDggb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ4OiAxMDQsIFxuXHQvKiogOSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDk6IDEwNSwgXG5cdC8qKiAqIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTVVMVElQTFk6IDEwNixcblx0LyoqICsgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19BREQ6IDEwNywgXG5cdC8qKiovXG5cdFZLX1NFUEFSQVRPUjogMTA4LFxuXHQvKiogLSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX1NVQlRSQUNUOiAxMDksIFxuXHQvKiogRGVjaW1hbCBwb2ludCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX0RFQ0lNQUw6IDExMCwgXG5cdC8qKiAvIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfRElWSURFOiAxMTEsIFxuXHQvKiogRjEga2V5LiAqL1xuXHRWS19GMTogMTEyLCBcblx0LyoqIEYyIGtleS4gKi9cblx0VktfRjI6IDExMywgXG5cdC8qKiBGMyBrZXkuICovXG5cdFZLX0YzOiAxMTQsIFxuXHQvKiogRjQga2V5LiAqL1xuXHRWS19GNDogMTE1LCBcblx0LyoqIEY1IGtleS4gKi9cblx0VktfRjU6IDExNiwgXG5cdC8qKiBGNiBrZXkuICovXG5cdFZLX0Y2OiAxMTcsIFxuXHQvKiogRjcga2V5LiAqL1xuXHRWS19GNzogMTE4LCBcblx0LyoqIEY4IGtleS4gKi9cblx0VktfRjg6IDExOSwgXG5cdC8qKiBGOSBrZXkuICovXG5cdFZLX0Y5OiAxMjAsIFxuXHQvKiogRjEwIGtleS4gKi9cblx0VktfRjEwOiAxMjEsIFxuXHQvKiogRjExIGtleS4gKi9cblx0VktfRjExOiAxMjIsIFxuXHQvKiogRjEyIGtleS4gKi9cblx0VktfRjEyOiAxMjMsIFxuXHQvKiogRjEzIGtleS4gKi9cblx0VktfRjEzOiAxMjQsIFxuXHQvKiogRjE0IGtleS4gKi9cblx0VktfRjE0OiAxMjUsIFxuXHQvKiogRjE1IGtleS4gKi9cblx0VktfRjE1OiAxMjYsIFxuXHQvKiogRjE2IGtleS4gKi9cblx0VktfRjE2OiAxMjcsIFxuXHQvKiogRjE3IGtleS4gKi9cblx0VktfRjE3OiAxMjgsIFxuXHQvKiogRjE4IGtleS4gKi9cblx0VktfRjE4OiAxMjksIFxuXHQvKiogRjE5IGtleS4gKi9cblx0VktfRjE5OiAxMzAsIFxuXHQvKiogRjIwIGtleS4gKi9cblx0VktfRjIwOiAxMzEsIFxuXHQvKiogRjIxIGtleS4gKi9cblx0VktfRjIxOiAxMzIsIFxuXHQvKiogRjIyIGtleS4gKi9cblx0VktfRjIyOiAxMzMsIFxuXHQvKiogRjIzIGtleS4gKi9cblx0VktfRjIzOiAxMzQsIFxuXHQvKiogRjI0IGtleS4gKi9cblx0VktfRjI0OiAxMzUsIFxuXHQvKiogTnVtIExvY2sga2V5LiAqL1xuXHRWS19OVU1fTE9DSzogMTQ0LCBcblx0LyoqIFNjcm9sbCBMb2NrIGtleS4gKi9cblx0VktfU0NST0xMX0xPQ0s6IDE0NSwgXG5cdC8qKiBDaXJjdW1mbGV4ICheKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQ0lSQ1VNRkxFWDogMTYwLCBcblx0LyoqIEV4Y2xhbWF0aW9uICghKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRVhDTEFNQVRJT046IDE2MSwgXG5cdC8qKiBEb3VibGUgcXVvdGUgKCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0RPVUJMRV9RVU9URTogMTYyLCBcblx0LyoqIEhhc2ggKCMpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19IQVNIOiAxNjMsIFxuXHQvKiogRG9sbGFyIHNpZ24gKCQpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19ET0xMQVI6IDE2NCwgXG5cdC8qKiBQZXJjZW50ICglKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUEVSQ0VOVDogMTY1LCBcblx0LyoqIEFtcGVyc2FuZCAoJikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FNUEVSU0FORDogMTY2LCBcblx0LyoqIFVuZGVyc2NvcmUgKF8pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19VTkRFUlNDT1JFOiAxNjcsIFxuXHQvKiogT3BlbiBwYXJlbnRoZXNpcyAoKCkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX09QRU5fUEFSRU46IDE2OCwgXG5cdC8qKiBDbG9zZSBwYXJlbnRoZXNpcyAoKSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NMT1NFX1BBUkVOOiAxNjksIFxuXHQvKiBBc3RlcmlzayAoKikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FTVEVSSVNLOiAxNzAsXG5cdC8qKiBQbHVzICgrKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUExVUzogMTcxLCBcblx0LyoqIFBpcGUgKHwpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19QSVBFOiAxNzIsIFxuXHQvKiogSHlwaGVuLVVTL2RvY3MvTWludXMgKC0pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19IWVBIRU5fTUlOVVM6IDE3MywgXG5cdC8qKiBPcGVuIGN1cmx5IGJyYWNrZXQgKHspIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19PUEVOX0NVUkxZX0JSQUNLRVQ6IDE3NCwgXG5cdC8qKiBDbG9zZSBjdXJseSBicmFja2V0ICh9KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfQ0xPU0VfQ1VSTFlfQlJBQ0tFVDogMTc1LCBcblx0LyoqIFRpbGRlICh+KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfVElMREU6IDE3NiwgXG5cdC8qKiBDb21tYSAoLCkga2V5LiAqL1xuXHRWS19DT01NQTogMTg4LCBcblx0LyoqIFBlcmlvZCAoLikga2V5LiAqL1xuXHRWS19QRVJJT0Q6IDE5MCwgXG5cdC8qKiBTbGFzaCAoLykga2V5LiAqL1xuXHRWS19TTEFTSDogMTkxLCBcblx0LyoqIEJhY2sgdGljayAoYCkga2V5LiAqL1xuXHRWS19CQUNLX1FVT1RFOiAxOTIsIFxuXHQvKiogT3BlbiBzcXVhcmUgYnJhY2tldCAoWykga2V5LiAqL1xuXHRWS19PUEVOX0JSQUNLRVQ6IDIxOSwgXG5cdC8qKiBCYWNrIHNsYXNoIChcXCkga2V5LiAqL1xuXHRWS19CQUNLX1NMQVNIOiAyMjAsIFxuXHQvKiogQ2xvc2Ugc3F1YXJlIGJyYWNrZXQgKF0pIGtleS4gKi9cblx0VktfQ0xPU0VfQlJBQ0tFVDogMjIxLCBcblx0LyoqIFF1b3RlICgnJycpIGtleS4gKi9cblx0VktfUVVPVEU6IDIyMiwgXG5cdC8qKiBNZXRhIGtleSBvbiBMaW51eCwgQ29tbWFuZCBrZXkgb24gTWFjLiAqL1xuXHRWS19NRVRBOiAyMjQsIFxuXHQvKiogQWx0R3Iga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0FMVEdSOiAyMjUsIFxuXHQvKiogV2luZG93cyBsb2dvIGtleSBvbiBXaW5kb3dzLiBPciBTdXBlciBvciBIeXBlciBrZXkgb24gTGludXguIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfV0lOOiA5MSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfS0FOQTogMjEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0hBTkdVTDogMjEsIFxuXHQvKiog6Iux5pWwIGtleSBvbiBKYXBhbmVzZSBNYWMga2V5Ym9hcmQuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRUlTVTogMjIsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0pVTkpBOiAyMywgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfRklOQUw6IDI0LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19IQU5KQTogMjUsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0tBTkpJOiAyNSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfQ09OVkVSVDogMjgsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX05PTkNPTlZFUlQ6IDI5LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19BQ0NFUFQ6IDMwLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19NT0RFQ0hBTkdFOiAzMSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfU0VMRUNUOiA0MSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfUFJJTlQ6IDQyLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19FWEVDVVRFOiA0MywgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC5cdCAqL1xuXHRWS19TTEVFUDogOTUgXG59O1xuLyoqXG4gKiBAbmFtZXNwYWNlXG4gKiBDb250YWlucyB0ZXh0IHRva2VuaXphdGlvbiBhbmQgYnJlYWtpbmcgcm91dGluZXNcbiAqL1xuUk9ULlRleHQgPSB7XG5cdFJFX0NPTE9SUzogLyUoW2JjXSl7KFtefV0qKX0vZyxcblxuXHQvKiB0b2tlbiB0eXBlcyAqL1xuXHRUWVBFX1RFWFQ6XHRcdDAsXG5cdFRZUEVfTkVXTElORTpcdDEsXG5cdFRZUEVfRkc6XHRcdDIsXG5cdFRZUEVfQkc6XHRcdDMsXG5cblx0LyoqXG5cdCAqIE1lYXN1cmUgc2l6ZSBvZiBhIHJlc3VsdGluZyB0ZXh0IGJsb2NrXG5cdCAqL1xuXHRtZWFzdXJlOiBmdW5jdGlvbihzdHIsIG1heFdpZHRoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IHt3aWR0aDowLCBoZWlnaHQ6MX07XG5cdFx0dmFyIHRva2VucyA9IHRoaXMudG9rZW5pemUoc3RyLCBtYXhXaWR0aCk7XG5cdFx0dmFyIGxpbmVXaWR0aCA9IDA7XG5cblx0XHRmb3IgKHZhciBpPTA7aTx0b2tlbnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIHRva2VuID0gdG9rZW5zW2ldO1xuXHRcdFx0c3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdFx0XHRcdGNhc2UgdGhpcy5UWVBFX1RFWFQ6XG5cdFx0XHRcdFx0bGluZVdpZHRoICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcblx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSB0aGlzLlRZUEVfTkVXTElORTpcblx0XHRcdFx0XHRyZXN1bHQuaGVpZ2h0Kys7XG5cdFx0XHRcdFx0cmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuXHRcdFx0XHRcdGxpbmVXaWR0aCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXN1bHQud2lkdGggPSBNYXRoLm1heChyZXN1bHQud2lkdGgsIGxpbmVXaWR0aCk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0IHN0cmluZyB0byBhIHNlcmllcyBvZiBhIGZvcm1hdHRpbmcgY29tbWFuZHNcblx0ICovXG5cdHRva2VuaXplOiBmdW5jdGlvbihzdHIsIG1heFdpZHRoKSB7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0LyogZmlyc3QgdG9rZW5pemF0aW9uIHBhc3MgLSBzcGxpdCB0ZXh0cyBhbmQgY29sb3IgZm9ybWF0dGluZyBjb21tYW5kcyAqL1xuXHRcdHZhciBvZmZzZXQgPSAwO1xuXHRcdHN0ci5yZXBsYWNlKHRoaXMuUkVfQ09MT1JTLCBmdW5jdGlvbihtYXRjaCwgdHlwZSwgbmFtZSwgaW5kZXgpIHtcblx0XHRcdC8qIHN0cmluZyBiZWZvcmUgKi9cblx0XHRcdHZhciBwYXJ0ID0gc3RyLnN1YnN0cmluZyhvZmZzZXQsIGluZGV4KTtcblx0XHRcdGlmIChwYXJ0Lmxlbmd0aCkge1xuXHRcdFx0XHRyZXN1bHQucHVzaCh7XG5cdFx0XHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9URVhULFxuXHRcdFx0XHRcdHZhbHVlOiBwYXJ0XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBjb2xvciBjb21tYW5kICovXG5cdFx0XHRyZXN1bHQucHVzaCh7XG5cdFx0XHRcdHR5cGU6ICh0eXBlID09IFwiY1wiID8gUk9ULlRleHQuVFlQRV9GRyA6IFJPVC5UZXh0LlRZUEVfQkcpLFxuXHRcdFx0XHR2YWx1ZTogbmFtZS50cmltKClcblx0XHRcdH0pO1xuXG5cdFx0XHRvZmZzZXQgPSBpbmRleCArIG1hdGNoLmxlbmd0aDtcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdH0pO1xuXG5cdFx0LyogbGFzdCByZW1haW5pbmcgcGFydCAqL1xuXHRcdHZhciBwYXJ0ID0gc3RyLnN1YnN0cmluZyhvZmZzZXQpO1xuXHRcdGlmIChwYXJ0Lmxlbmd0aCkge1xuXHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX1RFWFQsXG5cdFx0XHRcdHZhbHVlOiBwYXJ0XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fYnJlYWtMaW5lcyhyZXN1bHQsIG1heFdpZHRoKTtcblx0fSxcblxuXHQvKiBpbnNlcnQgbGluZSBicmVha3MgaW50byBmaXJzdC1wYXNzIHRva2VuaXplZCBkYXRhICovXG5cdF9icmVha0xpbmVzOiBmdW5jdGlvbih0b2tlbnMsIG1heFdpZHRoKSB7XG5cdFx0aWYgKCFtYXhXaWR0aCkgeyBtYXhXaWR0aCA9IEluZmluaXR5OyB9O1xuXG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciBsaW5lTGVuZ3RoID0gMDtcblx0XHR2YXIgbGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG5cblx0XHR3aGlsZSAoaSA8IHRva2Vucy5sZW5ndGgpIHsgLyogdGFrZSBhbGwgdGV4dCB0b2tlbnMsIHJlbW92ZSBzcGFjZSwgYXBwbHkgbGluZWJyZWFrcyAqL1xuXHRcdFx0dmFyIHRva2VuID0gdG9rZW5zW2ldO1xuXHRcdFx0aWYgKHRva2VuLnR5cGUgPT0gUk9ULlRleHQuVFlQRV9ORVdMSU5FKSB7IC8qIHJlc2V0ICovXG5cdFx0XHRcdGxpbmVMZW5ndGggPSAwOyBcblx0XHRcdFx0bGFzdFRva2VuV2l0aFNwYWNlID0gLTE7XG5cdFx0XHR9XG5cdFx0XHRpZiAodG9rZW4udHlwZSAhPSBST1QuVGV4dC5UWVBFX1RFWFQpIHsgLyogc2tpcCBub24tdGV4dCB0b2tlbnMgKi9cblx0XHRcdFx0aSsrO1xuXHRcdFx0XHRjb250aW51ZTsgXG5cdFx0XHR9XG5cblx0XHRcdC8qIHJlbW92ZSBzcGFjZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBsaW5lICovXG5cdFx0XHR3aGlsZSAobGluZUxlbmd0aCA9PSAwICYmIHRva2VuLnZhbHVlLmNoYXJBdCgwKSA9PSBcIiBcIikgeyB0b2tlbi52YWx1ZSA9IHRva2VuLnZhbHVlLnN1YnN0cmluZygxKTsgfVxuXG5cdFx0XHQvKiBmb3JjZWQgbmV3bGluZT8gaW5zZXJ0IHR3byBuZXcgdG9rZW5zIGFmdGVyIHRoaXMgb25lICovXG5cdFx0XHR2YXIgaW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiXFxuXCIpO1xuXHRcdFx0aWYgKGluZGV4ICE9IC0xKSB7IFxuXHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBpbmRleCwgdHJ1ZSk7IFxuXG5cdFx0XHRcdC8qIGlmIHRoZXJlIGFyZSBzcGFjZXMgYXQgdGhlIGVuZCwgd2UgbXVzdCByZW1vdmUgdGhlbSAod2UgZG8gbm90IHdhbnQgdGhlIGxpbmUgdG9vIGxvbmcpICovXG5cdFx0XHRcdHZhciBhcnIgPSB0b2tlbi52YWx1ZS5zcGxpdChcIlwiKTtcblx0XHRcdFx0d2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGgtMV0gPT0gXCIgXCIpIHsgYXJyLnBvcCgpOyB9XG5cdFx0XHRcdHRva2VuLnZhbHVlID0gYXJyLmpvaW4oXCJcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8qIHRva2VuIGRlZ2VuZXJhdGVkPyAqL1xuXHRcdFx0aWYgKCF0b2tlbi52YWx1ZS5sZW5ndGgpIHtcblx0XHRcdFx0dG9rZW5zLnNwbGljZShpLCAxKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChsaW5lTGVuZ3RoICsgdG9rZW4udmFsdWUubGVuZ3RoID4gbWF4V2lkdGgpIHsgLyogbGluZSB0b28gbG9uZywgZmluZCBhIHN1aXRhYmxlIGJyZWFraW5nIHNwb3QgKi9cblxuXHRcdFx0XHQvKiBpcyBpdCBwb3NzaWJsZSB0byBicmVhayB3aXRoaW4gdGhpcyB0b2tlbj8gKi9cblx0XHRcdFx0dmFyIGluZGV4ID0gLTE7XG5cdFx0XHRcdHdoaWxlICgxKSB7XG5cdFx0XHRcdFx0dmFyIG5leHRJbmRleCA9IHRva2VuLnZhbHVlLmluZGV4T2YoXCIgXCIsIGluZGV4KzEpO1xuXHRcdFx0XHRcdGlmIChuZXh0SW5kZXggPT0gLTEpIHsgYnJlYWs7IH1cblx0XHRcdFx0XHRpZiAobGluZUxlbmd0aCArIG5leHRJbmRleCA+IG1heFdpZHRoKSB7IGJyZWFrOyB9XG5cdFx0XHRcdFx0aW5kZXggPSBuZXh0SW5kZXg7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaW5kZXggIT0gLTEpIHsgLyogYnJlYWsgYXQgc3BhY2Ugd2l0aGluIHRoaXMgb25lICovXG5cdFx0XHRcdFx0dG9rZW4udmFsdWUgPSB0aGlzLl9icmVha0luc2lkZVRva2VuKHRva2VucywgaSwgaW5kZXgsIHRydWUpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGxhc3RUb2tlbldpdGhTcGFjZSAhPSAtMSkgeyAvKiBpcyB0aGVyZSBhIHByZXZpb3VzIHRva2VuIHdoZXJlIGEgYnJlYWsgY2FuIG9jY3VyPyAqL1xuXHRcdFx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tsYXN0VG9rZW5XaXRoU3BhY2VdO1xuXHRcdFx0XHRcdHZhciBicmVha0luZGV4ID0gdG9rZW4udmFsdWUubGFzdEluZGV4T2YoXCIgXCIpO1xuXHRcdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGxhc3RUb2tlbldpdGhTcGFjZSwgYnJlYWtJbmRleCwgdHJ1ZSk7XG5cdFx0XHRcdFx0aSA9IGxhc3RUb2tlbldpdGhTcGFjZTtcblx0XHRcdFx0fSBlbHNlIHsgLyogZm9yY2UgYnJlYWsgaW4gdGhpcyB0b2tlbiAqL1xuXHRcdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIG1heFdpZHRoLWxpbmVMZW5ndGgsIGZhbHNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgeyAvKiBsaW5lIG5vdCBsb25nLCBjb250aW51ZSAqL1xuXHRcdFx0XHRsaW5lTGVuZ3RoICs9IHRva2VuLnZhbHVlLmxlbmd0aDtcblx0XHRcdFx0aWYgKHRva2VuLnZhbHVlLmluZGV4T2YoXCIgXCIpICE9IC0xKSB7IGxhc3RUb2tlbldpdGhTcGFjZSA9IGk7IH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aSsrOyAvKiBhZHZhbmNlIHRvIG5leHQgdG9rZW4gKi9cblx0XHR9XG5cblxuXHRcdHRva2Vucy5wdXNoKHt0eXBlOiBST1QuVGV4dC5UWVBFX05FV0xJTkV9KTsgLyogaW5zZXJ0IGZha2UgbmV3bGluZSB0byBmaXggdGhlIGxhc3QgdGV4dCBsaW5lICovXG5cblx0XHQvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgZnJvbSB0ZXh0IHRva2VucyBiZWZvcmUgbmV3bGluZXMgKi9cblx0XHR2YXIgbGFzdFRleHRUb2tlbiA9IG51bGw7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dG9rZW5zLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfVEVYVDogbGFzdFRleHRUb2tlbiA9IHRva2VuOyBicmVhaztcblx0XHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX05FV0xJTkU6IFxuXHRcdFx0XHRcdGlmIChsYXN0VGV4dFRva2VuKSB7IC8qIHJlbW92ZSB0cmFpbGluZyBzcGFjZSAqL1xuXHRcdFx0XHRcdFx0dmFyIGFyciA9IGxhc3RUZXh0VG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG5cdFx0XHRcdFx0XHR3aGlsZSAoYXJyLmxlbmd0aCAmJiBhcnJbYXJyLmxlbmd0aC0xXSA9PSBcIiBcIikgeyBhcnIucG9wKCk7IH1cblx0XHRcdFx0XHRcdGxhc3RUZXh0VG9rZW4udmFsdWUgPSBhcnIuam9pbihcIlwiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bGFzdFRleHRUb2tlbiA9IG51bGw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRva2Vucy5wb3AoKTsgLyogcmVtb3ZlIGZha2UgdG9rZW4gKi9cblxuXHRcdHJldHVybiB0b2tlbnM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENyZWF0ZSBuZXcgdG9rZW5zIGFuZCBpbnNlcnQgdGhlbSBpbnRvIHRoZSBzdHJlYW1cblx0ICogQHBhcmFtIHtvYmplY3RbXX0gdG9rZW5zXG5cdCAqIEBwYXJhbSB7aW50fSB0b2tlbkluZGV4IFRva2VuIGJlaW5nIHByb2Nlc3NlZFxuXHQgKiBAcGFyYW0ge2ludH0gYnJlYWtJbmRleCBJbmRleCB3aXRoaW4gY3VycmVudCB0b2tlbidzIHZhbHVlXG5cdCAqIEBwYXJhbSB7Ym9vbH0gcmVtb3ZlQnJlYWtDaGFyIERvIHdlIHdhbnQgdG8gcmVtb3ZlIHRoZSBicmVha2luZyBjaGFyYWN0ZXI/XG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IHJlbWFpbmluZyB1bmJyb2tlbiB0b2tlbiB2YWx1ZVxuXHQgKi9cblx0X2JyZWFrSW5zaWRlVG9rZW46IGZ1bmN0aW9uKHRva2VucywgdG9rZW5JbmRleCwgYnJlYWtJbmRleCwgcmVtb3ZlQnJlYWtDaGFyKSB7XG5cdFx0dmFyIG5ld0JyZWFrVG9rZW4gPSB7XG5cdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX05FV0xJTkVcblx0XHR9XG5cdFx0dmFyIG5ld1RleHRUb2tlbiA9IHtcblx0XHRcdHR5cGU6IFJPVC5UZXh0LlRZUEVfVEVYVCxcblx0XHRcdHZhbHVlOiB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWUuc3Vic3RyaW5nKGJyZWFrSW5kZXggKyAocmVtb3ZlQnJlYWtDaGFyID8gMSA6IDApKVxuXHRcdH1cblx0XHR0b2tlbnMuc3BsaWNlKHRva2VuSW5kZXgrMSwgMCwgbmV3QnJlYWtUb2tlbiwgbmV3VGV4dFRva2VuKTtcblx0XHRyZXR1cm4gdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZygwLCBicmVha0luZGV4KTtcblx0fVxufVxuLyoqXG4gKiBAcmV0dXJucyB7YW55fSBSYW5kb21seSBwaWNrZWQgaXRlbSwgbnVsbCB3aGVuIGxlbmd0aD0wXG4gKi9cbkFycmF5LnByb3RvdHlwZS5yYW5kb20gPSBBcnJheS5wcm90b3R5cGUucmFuZG9tIHx8IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cdHJldHVybiB0aGlzW01hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkgKiB0aGlzLmxlbmd0aCldO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHthcnJheX0gTmV3IGFycmF5IHdpdGggcmFuZG9taXplZCBpdGVtc1xuICogRklYTUUgZGVzdHJveXMgdGhpcyFcbiAqL1xuQXJyYXkucHJvdG90eXBlLnJhbmRvbWl6ZSA9IEFycmF5LnByb3RvdHlwZS5yYW5kb21pemUgfHwgZnVuY3Rpb24oKSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0d2hpbGUgKHRoaXMubGVuZ3RoKSB7XG5cdFx0dmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKHRoaXMucmFuZG9tKCkpO1xuXHRcdHJlc3VsdC5wdXNoKHRoaXMuc3BsaWNlKGluZGV4LCAxKVswXSk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQWx3YXlzIHBvc2l0aXZlIG1vZHVsdXNcbiAqIEBwYXJhbSB7aW50fSBuIE1vZHVsdXNcbiAqIEByZXR1cm5zIHtpbnR9IHRoaXMgbW9kdWxvIG5cbiAqL1xuTnVtYmVyLnByb3RvdHlwZS5tb2QgPSBOdW1iZXIucHJvdG90eXBlLm1vZCB8fCBmdW5jdGlvbihuKSB7XG5cdHJldHVybiAoKHRoaXMlbikrbiklbjtcbn1cbi8qKlxuICogQHJldHVybnMge3N0cmluZ30gRmlyc3QgbGV0dGVyIGNhcGl0YWxpemVkXG4gKi9cblN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSA9IFN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSB8fCBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZygxKTtcbn1cblxuLyoqIFxuICogTGVmdCBwYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcmFjdGVyPVwiMFwiXVxuICogQHBhcmFtIHtpbnR9IFtjb3VudD0yXVxuICovXG5TdHJpbmcucHJvdG90eXBlLmxwYWQgPSBTdHJpbmcucHJvdG90eXBlLmxwYWQgfHwgZnVuY3Rpb24oY2hhcmFjdGVyLCBjb3VudCkge1xuXHR2YXIgY2ggPSBjaGFyYWN0ZXIgfHwgXCIwXCI7XG5cdHZhciBjbnQgPSBjb3VudCB8fCAyO1xuXG5cdHZhciBzID0gXCJcIjtcblx0d2hpbGUgKHMubGVuZ3RoIDwgKGNudCAtIHRoaXMubGVuZ3RoKSkgeyBzICs9IGNoOyB9XG5cdHMgPSBzLnN1YnN0cmluZygwLCBjbnQtdGhpcy5sZW5ndGgpO1xuXHRyZXR1cm4gcyt0aGlzO1xufVxuXG4vKiogXG4gKiBSaWdodCBwYWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcmFjdGVyPVwiMFwiXVxuICogQHBhcmFtIHtpbnR9IFtjb3VudD0yXVxuICovXG5TdHJpbmcucHJvdG90eXBlLnJwYWQgPSBTdHJpbmcucHJvdG90eXBlLnJwYWQgfHwgZnVuY3Rpb24oY2hhcmFjdGVyLCBjb3VudCkge1xuXHR2YXIgY2ggPSBjaGFyYWN0ZXIgfHwgXCIwXCI7XG5cdHZhciBjbnQgPSBjb3VudCB8fCAyO1xuXG5cdHZhciBzID0gXCJcIjtcblx0d2hpbGUgKHMubGVuZ3RoIDwgKGNudCAtIHRoaXMubGVuZ3RoKSkgeyBzICs9IGNoOyB9XG5cdHMgPSBzLnN1YnN0cmluZygwLCBjbnQtdGhpcy5sZW5ndGgpO1xuXHRyZXR1cm4gdGhpcytzO1xufVxuXG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBpbiBhIGZsZXhpYmxlIHdheS4gU2NhbnMgZm9yICVzIHN0cmluZ3MgYW5kIHJlcGxhY2VzIHRoZW0gd2l0aCBhcmd1bWVudHMuIExpc3Qgb2YgcGF0dGVybnMgaXMgbW9kaWZpYWJsZSB2aWEgU3RyaW5nLmZvcm1hdC5tYXAuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGVcbiAqIEBwYXJhbSB7YW55fSBbYXJndl1cbiAqL1xuU3RyaW5nLmZvcm1hdCA9IFN0cmluZy5mb3JtYXQgfHwgZnVuY3Rpb24odGVtcGxhdGUpIHtcblx0dmFyIG1hcCA9IFN0cmluZy5mb3JtYXQubWFwO1xuXHR2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cblx0dmFyIHJlcGxhY2VyID0gZnVuY3Rpb24obWF0Y2gsIGdyb3VwMSwgZ3JvdXAyLCBpbmRleCkge1xuXHRcdGlmICh0ZW1wbGF0ZS5jaGFyQXQoaW5kZXgtMSkgPT0gXCIlXCIpIHsgcmV0dXJuIG1hdGNoLnN1YnN0cmluZygxKTsgfVxuXHRcdGlmICghYXJncy5sZW5ndGgpIHsgcmV0dXJuIG1hdGNoOyB9XG5cdFx0dmFyIG9iaiA9IGFyZ3NbMF07XG5cblx0XHR2YXIgZ3JvdXAgPSBncm91cDEgfHwgZ3JvdXAyO1xuXHRcdHZhciBwYXJ0cyA9IGdyb3VwLnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgbmFtZSA9IHBhcnRzLnNoaWZ0KCk7XG5cdFx0dmFyIG1ldGhvZCA9IG1hcFtuYW1lLnRvTG93ZXJDYXNlKCldO1xuXHRcdGlmICghbWV0aG9kKSB7IHJldHVybiBtYXRjaDsgfVxuXG5cdFx0dmFyIG9iaiA9IGFyZ3Muc2hpZnQoKTtcblx0XHR2YXIgcmVwbGFjZWQgPSBvYmpbbWV0aG9kXS5hcHBseShvYmosIHBhcnRzKTtcblxuXHRcdHZhciBmaXJzdCA9IG5hbWUuY2hhckF0KDApO1xuXHRcdGlmIChmaXJzdCAhPSBmaXJzdC50b0xvd2VyQ2FzZSgpKSB7IHJlcGxhY2VkID0gcmVwbGFjZWQuY2FwaXRhbGl6ZSgpOyB9XG5cblx0XHRyZXR1cm4gcmVwbGFjZWQ7XG5cdH1cblx0cmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoLyUoPzooW2Etel0rKXwoPzp7KFtefV0rKX0pKS9naSwgcmVwbGFjZXIpO1xufVxuXG5TdHJpbmcuZm9ybWF0Lm1hcCA9IFN0cmluZy5mb3JtYXQubWFwIHx8IHtcblx0XCJzXCI6IFwidG9TdHJpbmdcIlxufVxuXG4vKipcbiAqIENvbnZlbmllbmNlIHNob3J0Y3V0IHRvIFN0cmluZy5mb3JtYXQodGhpcylcbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQgPSBTdHJpbmcucHJvdG90eXBlLmZvcm1hdCB8fCBmdW5jdGlvbigpIHtcblx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXHRhcmdzLnVuc2hpZnQodGhpcyk7XG5cdHJldHVybiBTdHJpbmcuZm9ybWF0LmFwcGx5KFN0cmluZywgYXJncyk7XG59XG5cbmlmICghT2JqZWN0LmNyZWF0ZSkgeyAgXG5cdC8qKlxuXHQgKiBFUzUgT2JqZWN0LmNyZWF0ZVxuXHQgKi9cblx0T2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uKG8pIHsgIFxuXHRcdHZhciB0bXAgPSBmdW5jdGlvbigpIHt9O1xuXHRcdHRtcC5wcm90b3R5cGUgPSBvO1xuXHRcdHJldHVybiBuZXcgdG1wKCk7XG5cdH07ICBcbn0gIFxuLyoqXG4gKiBTZXRzIHByb3RvdHlwZSBvZiB0aGlzIGZ1bmN0aW9uIHRvIGFuIGluc3RhbmNlIG9mIHBhcmVudCBmdW5jdGlvblxuICogQHBhcmFtIHtmdW5jdGlvbn0gcGFyZW50XG4gKi9cbkZ1bmN0aW9uLnByb3RvdHlwZS5leHRlbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuZXh0ZW5kIHx8IGZ1bmN0aW9uKHBhcmVudCkge1xuXHR0aGlzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSk7XG5cdHRoaXMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdGhpcztcblx0cmV0dXJuIHRoaXM7XG59XG5pZiAodHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiKSB7XG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPVxuXHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgZnVuY3Rpb24oY2IpIHsgcmV0dXJuIHNldFRpbWVvdXQoY2IsIDEwMDAvNjApOyB9O1xuXG5cdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9XG5cdFx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm9DYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgZnVuY3Rpb24oaWQpIHsgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7IH07XG59XG4vKipcbiAqIEBjbGFzcyBWaXN1YWwgbWFwIGRpc3BsYXlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy53aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5oZWlnaHQ9Uk9ULkRFRkFVTFRfSEVJR0hUXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLmZvbnRTaXplPTE1XVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZvbnRGYW1pbHk9XCJtb25vc3BhY2VcIl1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb250U3R5bGU9XCJcIl0gYm9sZC9pdGFsaWMvbm9uZS9ib3RoXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZmc9XCIjY2NjXCJdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuYmc9XCIjMDAwXCJdXG4gKiBAcGFyYW0ge2Zsb2F0fSBbb3B0aW9ucy5zcGFjaW5nPTFdXG4gKiBAcGFyYW0ge2Zsb2F0fSBbb3B0aW9ucy5ib3JkZXI9MF1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5sYXlvdXQ9XCJyZWN0XCJdXG4gKiBAcGFyYW0ge2Jvb2x9IFtvcHRpb25zLmZvcmNlU3F1YXJlUmF0aW89ZmFsc2VdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudGlsZVdpZHRoPTMyXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRpbGVIZWlnaHQ9MzJdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnMudGlsZU1hcD17fV1cbiAqIEBwYXJhbSB7aW1hZ2V9IFtvcHRpb25zLnRpbGVTZXQ9bnVsbF1cbiAqIEBwYXJhbSB7aW1hZ2V9IFtvcHRpb25zLnRpbGVDb2xvcml6ZT1mYWxzZV1cbiAqL1xuUk9ULkRpc3BsYXkgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHR0aGlzLl9jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0dGhpcy5fZGF0YSA9IHt9O1xuXHR0aGlzLl9kaXJ0eSA9IGZhbHNlOyAvKiBmYWxzZSA9IG5vdGhpbmcsIHRydWUgPSBhbGwsIG9iamVjdCA9IGRpcnR5IGNlbGxzICovXG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcblx0dGhpcy5fYmFja2VuZCA9IG51bGw7XG5cdFxuXHR2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG5cdFx0d2lkdGg6IFJPVC5ERUZBVUxUX1dJRFRILFxuXHRcdGhlaWdodDogUk9ULkRFRkFVTFRfSEVJR0hULFxuXHRcdHRyYW5zcG9zZTogZmFsc2UsXG5cdFx0bGF5b3V0OiBcInJlY3RcIixcblx0XHRmb250U2l6ZTogMTUsXG5cdFx0c3BhY2luZzogMSxcblx0XHRib3JkZXI6IDAsXG5cdFx0Zm9yY2VTcXVhcmVSYXRpbzogZmFsc2UsXG5cdFx0Zm9udEZhbWlseTogXCJtb25vc3BhY2VcIixcblx0XHRmb250U3R5bGU6IFwiXCIsXG5cdFx0Zmc6IFwiI2NjY1wiLFxuXHRcdGJnOiBcIiMwMDBcIixcblx0XHR0aWxlV2lkdGg6IDMyLFxuXHRcdHRpbGVIZWlnaHQ6IDMyLFxuXHRcdHRpbGVNYXA6IHt9LFxuXHRcdHRpbGVTZXQ6IG51bGwsXG5cdFx0dGlsZUNvbG9yaXplOiBmYWxzZSxcblx0XHR0ZXJtQ29sb3I6IFwieHRlcm1cIlxuXHR9O1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgZGVmYXVsdE9wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdHRoaXMuc2V0T3B0aW9ucyhkZWZhdWx0T3B0aW9ucyk7XG5cdHRoaXMuREVCVUcgPSB0aGlzLkRFQlVHLmJpbmQodGhpcyk7XG5cblx0dGhpcy5fdGljayA9IHRoaXMuX3RpY2suYmluZCh0aGlzKTtcblx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xufVxuXG4vKipcbiAqIERlYnVnIGhlbHBlciwgaWRlYWwgYXMgYSBtYXAgZ2VuZXJhdG9yIGNhbGxiYWNrLiBBbHdheXMgYm91bmQgdG8gdGhpcy5cbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IHdoYXRcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLkRFQlVHID0gZnVuY3Rpb24oeCwgeSwgd2hhdCkge1xuXHR2YXIgY29sb3JzID0gW3RoaXMuX29wdGlvbnMuYmcsIHRoaXMuX29wdGlvbnMuZmddO1xuXHR0aGlzLmRyYXcoeCwgeSwgbnVsbCwgbnVsbCwgY29sb3JzW3doYXQgJSBjb2xvcnMubGVuZ3RoXSk7XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIHdob2xlIGRpc3BsYXkgKGNvdmVyIGl0IHdpdGggYmFja2dyb3VuZCBjb2xvcilcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fZGlydHkgPSB0cnVlO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULkRpc3BsYXlcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRpZiAob3B0aW9ucy53aWR0aCB8fCBvcHRpb25zLmhlaWdodCB8fCBvcHRpb25zLmZvbnRTaXplIHx8IG9wdGlvbnMuZm9udEZhbWlseSB8fCBvcHRpb25zLnNwYWNpbmcgfHwgb3B0aW9ucy5sYXlvdXQpIHtcblx0XHRpZiAob3B0aW9ucy5sYXlvdXQpIHsgXG5cdFx0XHR0aGlzLl9iYWNrZW5kID0gbmV3IFJPVC5EaXNwbGF5W29wdGlvbnMubGF5b3V0LmNhcGl0YWxpemUoKV0odGhpcy5fY29udGV4dCk7XG5cdFx0fVxuXG5cdFx0dmFyIGZvbnQgPSAodGhpcy5fb3B0aW9ucy5mb250U3R5bGUgPyB0aGlzLl9vcHRpb25zLmZvbnRTdHlsZSArIFwiIFwiIDogXCJcIikgKyB0aGlzLl9vcHRpb25zLmZvbnRTaXplICsgXCJweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcblx0XHR0aGlzLl9jb250ZXh0LmZvbnQgPSBmb250O1xuXHRcdHRoaXMuX2JhY2tlbmQuY29tcHV0ZSh0aGlzLl9vcHRpb25zKTtcblx0XHR0aGlzLl9jb250ZXh0LmZvbnQgPSBmb250O1xuXHRcdHRoaXMuX2NvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblx0XHR0aGlzLl9jb250ZXh0LnRleHRCYXNlbGluZSA9IFwibWlkZGxlXCI7XG5cdFx0dGhpcy5fZGlydHkgPSB0cnVlO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJldHVybnMgY3VycmVudGx5IHNldCBvcHRpb25zXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBDdXJyZW50IG9wdGlvbnMgb2JqZWN0IFxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fb3B0aW9ucztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBET00gbm9kZSBvZiB0aGlzIGRpc3BsYXlcbiAqIEByZXR1cm5zIHtub2RlfSBET00gbm9kZVxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZ2V0Q29udGFpbmVyID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9jb250ZXh0LmNhbnZhcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBtYXhpbXVtIHdpZHRoL2hlaWdodCB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICogQHBhcmFtIHtpbnR9IGF2YWlsV2lkdGggTWF4aW11bSBhbGxvd2VkIHBpeGVsIHdpZHRoXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxIZWlnaHQgTWF4aW11bSBhbGxvd2VkIHBpeGVsIGhlaWdodFxuICogQHJldHVybnMge2ludFsyXX0gY2VsbFdpZHRoLGNlbGxIZWlnaHRcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0cmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZVNpemUoYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQsIHRoaXMuX29wdGlvbnMpO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdGhlIG1heGltdW0gZm9udCBzaXplIHRvIGZpdCBpbnRvIGEgc2V0IG9mIGdpdmVuIGNvbnN0cmFpbnRzXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxXaWR0aCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgd2lkdGhcbiAqIEBwYXJhbSB7aW50fSBhdmFpbEhlaWdodCBNYXhpbXVtIGFsbG93ZWQgcGl4ZWwgaGVpZ2h0XG4gKiBAcmV0dXJucyB7aW50fSBmb250U2l6ZVxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0cmV0dXJuIHRoaXMuX2JhY2tlbmQuY29tcHV0ZUZvbnRTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgRE9NIGV2ZW50IChtb3VzZSBvciB0b3VjaCkgdG8gbWFwIGNvb3JkaW5hdGVzLiBVc2VzIGZpcnN0IHRvdWNoIGZvciBtdWx0aS10b3VjaC5cbiAqIEBwYXJhbSB7RXZlbnR9IGUgZXZlbnRcbiAqIEByZXR1cm5zIHtpbnRbMl19IC0xIGZvciB2YWx1ZXMgb3V0c2lkZSBvZiB0aGUgY2FudmFzXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbihlKSB7XG5cdGlmIChlLnRvdWNoZXMpIHtcblx0XHR2YXIgeCA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuXHRcdHZhciB5ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHggPSBlLmNsaWVudFg7XG5cdFx0dmFyIHkgPSBlLmNsaWVudFk7XG5cdH1cblxuXHR2YXIgcmVjdCA9IHRoaXMuX2NvbnRleHQuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHR4IC09IHJlY3QubGVmdDtcblx0eSAtPSByZWN0LnRvcDtcblx0XG5cdGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoIHx8IHkgPj0gdGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0KSB7IHJldHVybiBbLTEsIC0xXTsgfVxuXG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmV2ZW50VG9Qb3NpdGlvbih4LCB5KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7c3RyaW5nIHx8IHN0cmluZ1tdfSBjaCBPbmUgb3IgbW9yZSBjaGFycyAod2lsbCBiZSBvdmVybGFwcGluZyB0aGVtc2VsdmVzKVxuICogQHBhcmFtIHtzdHJpbmd9IFtmZ10gZm9yZWdyb3VuZCBjb2xvclxuICogQHBhcmFtIHtzdHJpbmd9IFtiZ10gYmFja2dyb3VuZCBjb2xvclxuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKHgsIHksIGNoLCBmZywgYmcpIHtcblx0aWYgKCFmZykgeyBmZyA9IHRoaXMuX29wdGlvbnMuZmc7IH1cblx0aWYgKCFiZykgeyBiZyA9IHRoaXMuX29wdGlvbnMuYmc7IH1cblx0dGhpcy5fZGF0YVt4K1wiLFwiK3ldID0gW3gsIHksIGNoLCBmZywgYmddO1xuXHRcblx0aWYgKHRoaXMuX2RpcnR5ID09PSB0cnVlKSB7IHJldHVybjsgfSAvKiB3aWxsIGFscmVhZHkgcmVkcmF3IGV2ZXJ5dGhpbmcgKi9cblx0aWYgKCF0aGlzLl9kaXJ0eSkgeyB0aGlzLl9kaXJ0eSA9IHt9OyB9IC8qIGZpcnN0ISAqL1xuXHR0aGlzLl9kaXJ0eVt4K1wiLFwiK3ldID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBEcmF3cyBhIHRleHQgYXQgZ2l2ZW4gcG9zaXRpb24uIE9wdGlvbmFsbHkgd3JhcHMgYXQgYSBtYXhpbXVtIGxlbmd0aC4gQ3VycmVudGx5IGRvZXMgbm90IHdvcmsgd2l0aCBoZXggbGF5b3V0LlxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBNYXkgY29udGFpbiBjb2xvci9iYWNrZ3JvdW5kIGZvcm1hdCBzcGVjaWZpZXJzLCAlY3tuYW1lfS8lYntuYW1lfSwgYm90aCBvcHRpb25hbC4gJWN7fS8lYnt9IHJlc2V0cyB0byBkZWZhdWx0LlxuICogQHBhcmFtIHtpbnR9IFttYXhXaWR0aF0gd3JhcCBhdCB3aGF0IHdpZHRoP1xuICogQHJldHVybnMge2ludH0gbGluZXMgZHJhd25cbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmRyYXdUZXh0ID0gZnVuY3Rpb24oeCwgeSwgdGV4dCwgbWF4V2lkdGgpIHtcblx0dmFyIGZnID0gbnVsbDtcblx0dmFyIGJnID0gbnVsbDtcblx0dmFyIGN4ID0geDtcblx0dmFyIGN5ID0geTtcblx0dmFyIGxpbmVzID0gMTtcblx0aWYgKCFtYXhXaWR0aCkgeyBtYXhXaWR0aCA9IHRoaXMuX29wdGlvbnMud2lkdGgteDsgfVxuXG5cdHZhciB0b2tlbnMgPSBST1QuVGV4dC50b2tlbml6ZSh0ZXh0LCBtYXhXaWR0aCk7XG5cblx0d2hpbGUgKHRva2Vucy5sZW5ndGgpIHsgLyogaW50ZXJwcmV0IHRva2VuaXplZCBvcGNvZGUgc3RyZWFtICovXG5cdFx0dmFyIHRva2VuID0gdG9rZW5zLnNoaWZ0KCk7XG5cdFx0c3dpdGNoICh0b2tlbi50eXBlKSB7XG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfVEVYVDpcblx0XHRcdFx0dmFyIGlzU3BhY2UgPSBmYWxzZSwgaXNQcmV2U3BhY2UgPSBmYWxzZSwgaXNGdWxsV2lkdGggPSBmYWxzZSwgaXNQcmV2RnVsbFdpZHRoID0gZmFsc2U7XG5cdFx0XHRcdGZvciAodmFyIGk9MDtpPHRva2VuLnZhbHVlLmxlbmd0aDtpKyspIHtcblx0XHRcdFx0XHR2YXIgY2MgPSB0b2tlbi52YWx1ZS5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0XHRcdHZhciBjID0gdG9rZW4udmFsdWUuY2hhckF0KGkpO1xuXHRcdFx0XHRcdC8vIEFzc2lnbiB0byBgdHJ1ZWAgd2hlbiB0aGUgY3VycmVudCBjaGFyIGlzIGZ1bGwtd2lkdGguXG5cdFx0XHRcdFx0aXNGdWxsV2lkdGggPSAoY2MgPiAweGZmICYmIGNjIDwgMHhmZjYxKSB8fCAoY2MgPiAweGZmZGMgJiYgY2MgPCAweGZmZTgpICYmIGNjID4gMHhmZmVlO1xuXHRcdFx0XHRcdC8vIEN1cnJlbnQgY2hhciBpcyBzcGFjZSwgd2hhdGV2ZXIgZnVsbC13aWR0aCBvciBoYWxmLXdpZHRoIGJvdGggYXJlIE9LLlxuXHRcdFx0XHRcdGlzU3BhY2UgPSAoYy5jaGFyQ29kZUF0KDApID09IDB4MjAgfHwgYy5jaGFyQ29kZUF0KDApID09IDB4MzAwMCk7XG5cdFx0XHRcdFx0Ly8gVGhlIHByZXZpb3VzIGNoYXIgaXMgZnVsbC13aWR0aCBhbmRcblx0XHRcdFx0XHQvLyBjdXJyZW50IGNoYXIgaXMgbmV0aGVyIGhhbGYtd2lkdGggbm9yIGEgc3BhY2UuXG5cdFx0XHRcdFx0aWYgKGlzUHJldkZ1bGxXaWR0aCAmJiAhaXNGdWxsV2lkdGggJiYgIWlzU3BhY2UpIHsgY3grKzsgfSAvLyBhZGQgYW4gZXh0cmEgcG9zaXRpb25cblx0XHRcdFx0XHQvLyBUaGUgY3VycmVudCBjaGFyIGlzIGZ1bGwtd2lkdGggYW5kXG5cdFx0XHRcdFx0Ly8gdGhlIHByZXZpb3VzIGNoYXIgaXMgbm90IGEgc3BhY2UuXG5cdFx0XHRcdFx0aWYoaXNGdWxsV2lkdGggJiYgIWlzUHJldlNwYWNlKSB7IGN4Kys7IH0gLy8gYWRkIGFuIGV4dHJhIHBvc2l0aW9uXG5cdFx0XHRcdFx0dGhpcy5kcmF3KGN4KyssIGN5LCBjLCBmZywgYmcpO1xuXHRcdFx0XHRcdGlzUHJldlNwYWNlID0gaXNTcGFjZTtcblx0XHRcdFx0XHRpc1ByZXZGdWxsV2lkdGggPSBpc0Z1bGxXaWR0aDtcblx0XHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9GRzpcblx0XHRcdFx0ZmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9CRzpcblx0XHRcdFx0YmcgPSB0b2tlbi52YWx1ZSB8fCBudWxsO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9ORVdMSU5FOlxuXHRcdFx0XHRjeCA9IHg7XG5cdFx0XHRcdGN5Kys7XG5cdFx0XHRcdGxpbmVzKytcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBsaW5lcztcbn1cblxuLyoqXG4gKiBUaW1lciB0aWNrOiB1cGRhdGUgZGlydHkgcGFydHNcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLl90aWNrID0gZnVuY3Rpb24oKSB7XG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcblxuXHRpZiAoIXRoaXMuX2RpcnR5KSB7IHJldHVybjsgfVxuXG5cdGlmICh0aGlzLl9kaXJ0eSA9PT0gdHJ1ZSkgeyAvKiBkcmF3IGFsbCAqL1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fb3B0aW9ucy5iZztcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoLCB0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQpO1xuXG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fZGF0YSkgeyAvKiByZWRyYXcgY2FjaGVkIGRhdGEgKi9cblx0XHRcdHRoaXMuX2RyYXcoaWQsIGZhbHNlKTtcblx0XHR9XG5cblx0fSBlbHNlIHsgLyogZHJhdyBvbmx5IGRpcnR5ICovXG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuX2RpcnR5KSB7XG5cdFx0XHR0aGlzLl9kcmF3KGtleSwgdHJ1ZSk7XG5cdFx0fVxuXHR9XG5cblx0dGhpcy5fZGlydHkgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFdoYXQgdG8gZHJhd1xuICogQHBhcmFtIHtib29sfSBjbGVhckJlZm9yZSBJcyBpdCBuZWNlc3NhcnkgdG8gY2xlYW4gYmVmb3JlP1xuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuX2RyYXcgPSBmdW5jdGlvbihrZXksIGNsZWFyQmVmb3JlKSB7XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXHRpZiAoZGF0YVs0XSAhPSB0aGlzLl9vcHRpb25zLmJnKSB7IGNsZWFyQmVmb3JlID0gdHJ1ZTsgfVxuXG5cdHRoaXMuX2JhY2tlbmQuZHJhdyhkYXRhLCBjbGVhckJlZm9yZSk7XG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBkaXNwbGF5IGJhY2tlbmQgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5CYWNrZW5kID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHR0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcbn1cblxuUk9ULkRpc3BsYXkuQmFja2VuZC5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xufVxuLyoqXG4gKiBAY2xhc3MgUmVjdGFuZ3VsYXIgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuUmVjdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuQmFja2VuZC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXHRcblx0dGhpcy5fc3BhY2luZ1ggPSAwO1xuXHR0aGlzLl9zcGFjaW5nWSA9IDA7XG5cdHRoaXMuX2NhbnZhc0NhY2hlID0ge307XG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcbn1cblJPVC5EaXNwbGF5LlJlY3QuZXh0ZW5kKFJPVC5EaXNwbGF5LkJhY2tlbmQpO1xuXG5ST1QuRGlzcGxheS5SZWN0LmNhY2hlID0gZmFsc2U7XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMuX2NhbnZhc0NhY2hlID0ge307XG5cdHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuXG5cdHZhciBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuXHR0aGlzLl9zcGFjaW5nWCA9IE1hdGguY2VpbChvcHRpb25zLnNwYWNpbmcgKiBjaGFyV2lkdGgpO1xuXHR0aGlzLl9zcGFjaW5nWSA9IE1hdGguY2VpbChvcHRpb25zLnNwYWNpbmcgKiBvcHRpb25zLmZvbnRTaXplKTtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5mb3JjZVNxdWFyZVJhdGlvKSB7XG5cdFx0dGhpcy5fc3BhY2luZ1ggPSB0aGlzLl9zcGFjaW5nWSA9IE1hdGgubWF4KHRoaXMuX3NwYWNpbmdYLCB0aGlzLl9zcGFjaW5nWSk7XG5cdH1cblxuXHR0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCA9IG9wdGlvbnMud2lkdGggKiB0aGlzLl9zcGFjaW5nWDtcblx0dGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKiB0aGlzLl9zcGFjaW5nWTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdGlmICh0aGlzLmNvbnN0cnVjdG9yLmNhY2hlKSB7XG5cdFx0dGhpcy5fZHJhd1dpdGhDYWNoZShkYXRhLCBjbGVhckJlZm9yZSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5fZHJhd05vQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpO1xuXHR9XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLl9kcmF3V2l0aENhY2hlID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0dmFyIGhhc2ggPSBcIlwiK2NoK2ZnK2JnO1xuXHRpZiAoaGFzaCBpbiB0aGlzLl9jYW52YXNDYWNoZSkge1xuXHRcdHZhciBjYW52YXMgPSB0aGlzLl9jYW52YXNDYWNoZVtoYXNoXTtcblx0fSBlbHNlIHtcblx0XHR2YXIgYiA9IHRoaXMuX29wdGlvbnMuYm9yZGVyO1xuXHRcdHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHRcdHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdGNhbnZhcy53aWR0aCA9IHRoaXMuX3NwYWNpbmdYO1xuXHRcdGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9zcGFjaW5nWTtcblx0XHRjdHguZmlsbFN0eWxlID0gYmc7XG5cdFx0Y3R4LmZpbGxSZWN0KGIsIGIsIGNhbnZhcy53aWR0aC1iLCBjYW52YXMuaGVpZ2h0LWIpO1xuXHRcdFxuXHRcdGlmIChjaCkge1xuXHRcdFx0Y3R4LmZpbGxTdHlsZSA9IGZnO1xuXHRcdFx0Y3R4LmZvbnQgPSB0aGlzLl9jb250ZXh0LmZvbnQ7XG5cdFx0XHRjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblx0XHRcdGN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuXG5cdFx0XHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRcdFx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdFx0XHRjdHguZmlsbFRleHQoY2hhcnNbaV0sIHRoaXMuX3NwYWNpbmdYLzIsIE1hdGguY2VpbCh0aGlzLl9zcGFjaW5nWS8yKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHRoaXMuX2NhbnZhc0NhY2hlW2hhc2hdID0gY2FudmFzO1xuXHR9XG5cdFxuXHR0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShjYW52YXMsIHgqdGhpcy5fc3BhY2luZ1gsIHkqdGhpcy5fc3BhY2luZ1kpO1xufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5fZHJhd05vQ2FjaGUgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHRpZiAoY2xlYXJCZWZvcmUpIHsgXG5cdFx0dmFyIGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoeCp0aGlzLl9zcGFjaW5nWCArIGIsIHkqdGhpcy5fc3BhY2luZ1kgKyBiLCB0aGlzLl9zcGFjaW5nWCAtIGIsIHRoaXMuX3NwYWNpbmdZIC0gYik7XG5cdH1cblx0XG5cdGlmICghY2gpIHsgcmV0dXJuOyB9XG5cblx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBmZztcblxuXHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRmb3IgKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsVGV4dChjaGFyc1tpXSwgKHgrMC41KSAqIHRoaXMuX3NwYWNpbmdYLCBNYXRoLmNlaWwoKHkrMC41KSAqIHRoaXMuX3NwYWNpbmdZKSk7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9zcGFjaW5nWCk7XG5cdHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fc3BhY2luZ1kpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgYm94V2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLndpZHRoKTtcblx0dmFyIGJveEhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG5cblx0LyogY29tcHV0ZSBjaGFyIHJhdGlvICovXG5cdHZhciBvbGRGb250ID0gdGhpcy5fY29udGV4dC5mb250O1xuXHR0aGlzLl9jb250ZXh0LmZvbnQgPSBcIjEwMHB4IFwiICsgdGhpcy5fb3B0aW9ucy5mb250RmFtaWx5O1xuXHR2YXIgd2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuXHR0aGlzLl9jb250ZXh0LmZvbnQgPSBvbGRGb250O1xuXHR2YXIgcmF0aW8gPSB3aWR0aCAvIDEwMDtcblx0XHRcblx0dmFyIHdpZHRoRnJhY3Rpb24gPSByYXRpbyAqIGJveEhlaWdodCAvIGJveFdpZHRoO1xuXHRpZiAod2lkdGhGcmFjdGlvbiA+IDEpIHsgLyogdG9vIHdpZGUgd2l0aCBjdXJyZW50IGFzcGVjdCByYXRpbyAqL1xuXHRcdGJveEhlaWdodCA9IE1hdGguZmxvb3IoYm94SGVpZ2h0IC8gd2lkdGhGcmFjdGlvbik7XG5cdH1cblx0cmV0dXJuIE1hdGguZmxvb3IoYm94SGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5zcGFjaW5nKTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gW01hdGguZmxvb3IoeC90aGlzLl9zcGFjaW5nWCksIE1hdGguZmxvb3IoeS90aGlzLl9zcGFjaW5nWSldO1xufVxuLyoqXG4gKiBAY2xhc3MgSGV4YWdvbmFsIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LkhleCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuQmFja2VuZC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXG5cdHRoaXMuX3NwYWNpbmdYID0gMDtcblx0dGhpcy5fc3BhY2luZ1kgPSAwO1xuXHR0aGlzLl9oZXhTaXplID0gMDtcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xufVxuUk9ULkRpc3BsYXkuSGV4LmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuXHQvKiBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzICovXG5cdHZhciBjaGFyV2lkdGggPSBNYXRoLmNlaWwodGhpcy5fY29udGV4dC5tZWFzdXJlVGV4dChcIldcIikud2lkdGgpO1xuXHR0aGlzLl9oZXhTaXplID0gTWF0aC5mbG9vcihvcHRpb25zLnNwYWNpbmcgKiAob3B0aW9ucy5mb250U2l6ZSArIGNoYXJXaWR0aC9NYXRoLnNxcnQoMykpIC8gMik7XG5cdHRoaXMuX3NwYWNpbmdYID0gdGhpcy5faGV4U2l6ZSAqIE1hdGguc3FydCgzKSAvIDI7XG5cdHRoaXMuX3NwYWNpbmdZID0gdGhpcy5faGV4U2l6ZSAqIDEuNTtcblxuXHRpZiAob3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHR2YXIgeHByb3AgPSBcImhlaWdodFwiO1xuXHRcdHZhciB5cHJvcCA9IFwid2lkdGhcIjtcblx0fSBlbHNlIHtcblx0XHR2YXIgeHByb3AgPSBcIndpZHRoXCI7XG5cdFx0dmFyIHlwcm9wID0gXCJoZWlnaHRcIjtcblx0fVxuXHR0aGlzLl9jb250ZXh0LmNhbnZhc1t4cHJvcF0gPSBNYXRoLmNlaWwoIChvcHRpb25zLndpZHRoICsgMSkgKiB0aGlzLl9zcGFjaW5nWCApO1xuXHR0aGlzLl9jb250ZXh0LmNhbnZhc1t5cHJvcF0gPSBNYXRoLmNlaWwoIChvcHRpb25zLmhlaWdodCAtIDEpICogdGhpcy5fc3BhY2luZ1kgKyAyKnRoaXMuX2hleFNpemUgKTtcbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0dmFyIHB4ID0gW1xuXHRcdCh4KzEpICogdGhpcy5fc3BhY2luZ1gsXG5cdFx0eSAqIHRoaXMuX3NwYWNpbmdZICsgdGhpcy5faGV4U2l6ZVxuXHRdO1xuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHsgcHgucmV2ZXJzZSgpOyB9XG5cblx0aWYgKGNsZWFyQmVmb3JlKSB7IFxuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0dGhpcy5fZmlsbChweFswXSwgcHhbMV0pO1xuXHR9XG5cdFxuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFRleHQoY2hhcnNbaV0sIHB4WzBdLCBNYXRoLmNlaWwocHhbMV0pKTtcblx0fVxufVxuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0YXZhaWxXaWR0aCArPSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbEhlaWdodCA9IGF2YWlsV2lkdGggLSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuXHR9XG5cblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fc3BhY2luZ1gpIC0gMTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoKGF2YWlsSGVpZ2h0IC0gMip0aGlzLl9oZXhTaXplKSAvIHRoaXMuX3NwYWNpbmdZICsgMSk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0YXZhaWxXaWR0aCArPSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbEhlaWdodCA9IGF2YWlsV2lkdGggLSBhdmFpbEhlaWdodDtcblx0XHRhdmFpbFdpZHRoIC09IGF2YWlsSGVpZ2h0O1xuXHR9XG5cblx0dmFyIGhleFNpemVXaWR0aCA9IDIqYXZhaWxXaWR0aCAvICgodGhpcy5fb3B0aW9ucy53aWR0aCsxKSAqIE1hdGguc3FydCgzKSkgLSAxO1xuXHR2YXIgaGV4U2l6ZUhlaWdodCA9IGF2YWlsSGVpZ2h0IC8gKDIgKyAxLjUqKHRoaXMuX29wdGlvbnMuaGVpZ2h0LTEpKTtcblx0dmFyIGhleFNpemUgPSBNYXRoLm1pbihoZXhTaXplV2lkdGgsIGhleFNpemVIZWlnaHQpO1xuXG5cdC8qIGNvbXB1dGUgY2hhciByYXRpbyAqL1xuXHR2YXIgb2xkRm9udCA9IHRoaXMuX2NvbnRleHQuZm9udDtcblx0dGhpcy5fY29udGV4dC5mb250ID0gXCIxMDBweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcblx0dmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fY29udGV4dC5mb250ID0gb2xkRm9udDtcblx0dmFyIHJhdGlvID0gd2lkdGggLyAxMDA7XG5cblx0aGV4U2l6ZSA9IE1hdGguZmxvb3IoaGV4U2l6ZSkrMTsgLyogY2xvc2VzdCBsYXJnZXIgaGV4U2l6ZSAqL1xuXG5cdC8qIEZJWE1FIGNoYXIgc2l6ZSBjb21wdXRhdGlvbiBkb2VzIG5vdCByZXNwZWN0IHRyYW5zcG9zZWQgaGV4ZXMgKi9cblx0dmFyIGZvbnRTaXplID0gMipoZXhTaXplIC8gKHRoaXMuX29wdGlvbnMuc3BhY2luZyAqICgxICsgcmF0aW8gLyBNYXRoLnNxcnQoMykpKTtcblxuXHQvKiBjbG9zZXN0IHNtYWxsZXIgZm9udFNpemUgKi9cblx0cmV0dXJuIE1hdGguY2VpbChmb250U2l6ZSktMTtcbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5ldmVudFRvUG9zaXRpb24gPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdHggKz0geTtcblx0XHR5ID0geC15O1xuXHRcdHggLT0geTtcblx0XHR2YXIgcHJvcCA9IFwid2lkdGhcIjtcblx0fSBlbHNlIHtcblx0XHR2YXIgcHJvcCA9IFwiaGVpZ2h0XCI7XG5cdH1cblx0dmFyIHNpemUgPSB0aGlzLl9jb250ZXh0LmNhbnZhc1twcm9wXSAvIHRoaXMuX29wdGlvbnNbcHJvcF07XG5cdHkgPSBNYXRoLmZsb29yKHkvc2l6ZSk7XG5cblx0aWYgKHkubW9kKDIpKSB7IC8qIG9kZCByb3cgKi9cblx0XHR4IC09IHRoaXMuX3NwYWNpbmdYO1xuXHRcdHggPSAxICsgMipNYXRoLmZsb29yKHgvKDIqdGhpcy5fc3BhY2luZ1gpKTtcblx0fSBlbHNlIHtcblx0XHR4ID0gMipNYXRoLmZsb29yKHgvKDIqdGhpcy5fc3BhY2luZ1gpKTtcblx0fVxuXHRcblx0cmV0dXJuIFt4LCB5XTtcbn1cblxuLyoqXG4gKiBBcmd1bWVudHMgYXJlIHBpeGVsIHZhbHVlcy4gSWYgXCJ0cmFuc3Bvc2VkXCIgbW9kZSBpcyBlbmFibGVkLCB0aGVuIHRoZXNlIHR3byBhcmUgYWxyZWFkeSBzd2FwcGVkLlxuICovXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLl9maWxsID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciBhID0gdGhpcy5faGV4U2l6ZTtcblx0dmFyIGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcblx0XG5cdHRoaXMuX2NvbnRleHQuYmVnaW5QYXRoKCk7XG5cblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0dGhpcy5fY29udGV4dC5tb3ZlVG8oY3gtYStiLFx0Y3kpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LWEvMitiLFx0Y3krdGhpcy5fc3BhY2luZ1gtYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grYS8yLWIsXHRjeSt0aGlzLl9zcGFjaW5nWC1iKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCthLWIsXHRjeSk7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grYS8yLWIsXHRjeS10aGlzLl9zcGFjaW5nWCtiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hLzIrYixcdGN5LXRoaXMuX3NwYWNpbmdYK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LWErYixcdGN5KTtcblx0fSBlbHNlIHtcblx0XHR0aGlzLl9jb250ZXh0Lm1vdmVUbyhjeCxcdFx0XHRcdFx0Y3ktYStiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCt0aGlzLl9zcGFjaW5nWC1iLFx0Y3ktYS8yK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K3RoaXMuX3NwYWNpbmdYLWIsXHRjeSthLzItYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gsXHRcdFx0XHRcdGN5K2EtYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtdGhpcy5fc3BhY2luZ1grYixcdGN5K2EvMi1iKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC10aGlzLl9zcGFjaW5nWCtiLFx0Y3ktYS8yK2IpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LFx0XHRcdFx0XHRjeS1hK2IpO1xuXHR9XG5cdHRoaXMuX2NvbnRleHQuZmlsbCgpO1xufVxuLyoqXG4gKiBAY2xhc3MgVGlsZSBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5UaWxlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRST1QuRGlzcGxheS5SZWN0LmNhbGwodGhpcywgY29udGV4dCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge307XG5cdHRoaXMuX2NvbG9yQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbn1cblJPVC5EaXNwbGF5LlRpbGUuZXh0ZW5kKFJPVC5EaXNwbGF5LlJlY3QpO1xuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblx0dGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggPSBvcHRpb25zLndpZHRoICogb3B0aW9ucy50aWxlV2lkdGg7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy50aWxlSGVpZ2h0O1xuXHR0aGlzLl9jb2xvckNhbnZhcy53aWR0aCA9IG9wdGlvbnMudGlsZVdpZHRoO1xuXHR0aGlzLl9jb2xvckNhbnZhcy5oZWlnaHQgPSBvcHRpb25zLnRpbGVIZWlnaHQ7XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHR2YXIgdGlsZVdpZHRoID0gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGg7XG5cdHZhciB0aWxlSGVpZ2h0ID0gdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0O1xuXG5cdGlmIChjbGVhckJlZm9yZSkge1xuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRpbGVDb2xvcml6ZSkge1xuXHRcdFx0dGhpcy5fY29udGV4dC5jbGVhclJlY3QoeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0XHRcdHRoaXMuX2NvbnRleHQuZmlsbFJlY3QoeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgdGlsZSA9IHRoaXMuX29wdGlvbnMudGlsZU1hcFtjaGFyc1tpXV07XG5cdFx0aWYgKCF0aWxlKSB7IHRocm93IG5ldyBFcnJvcihcIkNoYXIgJ1wiICsgY2hhcnNbaV0gKyBcIicgbm90IGZvdW5kIGluIHRpbGVNYXBcIik7IH1cblx0XHRcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHsgLyogYXBwbHkgY29sb3JpemF0aW9uICovXG5cdFx0XHR2YXIgY2FudmFzID0gdGhpcy5fY29sb3JDYW52YXM7XG5cdFx0XHR2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0XHRjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXG5cdFx0XHRjb250ZXh0LmRyYXdJbWFnZShcblx0XHRcdFx0dGhpcy5fb3B0aW9ucy50aWxlU2V0LFxuXHRcdFx0XHR0aWxlWzBdLCB0aWxlWzFdLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQsXG5cdFx0XHRcdDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodFxuXHRcdFx0KTtcblxuXHRcdFx0aWYgKGZnICE9IFwidHJhbnNwYXJlbnRcIikge1xuXHRcdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXHRcdFx0XHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwic291cmNlLWF0b3BcIjtcblx0XHRcdFx0Y29udGV4dC5maWxsUmVjdCgwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmcgIT0gXCJ0cmFuc3BhcmVudFwiKSB7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0XHRcdGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gXCJkZXN0aW5hdGlvbi1vdmVyXCI7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzLCB4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHQpO1xuXG5cdFx0fSBlbHNlIHsgLyogbm8gY29sb3JpemluZywgZWFzeSAqL1xuXHRcdFx0dGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoXG5cdFx0XHRcdHRoaXMuX29wdGlvbnMudGlsZVNldCxcblx0XHRcdFx0dGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuXHRcdFx0XHR4KnRpbGVXaWR0aCwgeSp0aWxlSGVpZ2h0LCB0aWxlV2lkdGgsIHRpbGVIZWlnaHRcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMudGlsZUhlaWdodCk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMud2lkdGgpO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX29wdGlvbnMuaGVpZ2h0KTtcblx0cmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbn1cblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gW01hdGguZmxvb3IoeC90aGlzLl9vcHRpb25zLnRpbGVXaWR0aCksIE1hdGguZmxvb3IoeS90aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpXTtcbn1cbi8qKlxuICogQG5hbWVzcGFjZVxuICogVGhpcyBjb2RlIGlzIGFuIGltcGxlbWVudGF0aW9uIG9mIEFsZWEgYWxnb3JpdGhtOyAoQykgMjAxMCBKb2hhbm5lcyBCYWFnw7hlLlxuICogQWxlYSBpcyBsaWNlbnNlZCBhY2NvcmRpbmcgdG8gdGhlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTUlUX0xpY2Vuc2UuXG4gKi9cblJPVC5STkcgPSB7XG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyfSBcblx0ICovXG5cdGdldFNlZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLl9zZWVkO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge251bWJlcn0gc2VlZCBTZWVkIHRoZSBudW1iZXIgZ2VuZXJhdG9yXG5cdCAqL1xuXHRzZXRTZWVkOiBmdW5jdGlvbihzZWVkKSB7XG5cdFx0c2VlZCA9IChzZWVkIDwgMSA/IDEvc2VlZCA6IHNlZWQpO1xuXG5cdFx0dGhpcy5fc2VlZCA9IHNlZWQ7XG5cdFx0dGhpcy5fczAgPSAoc2VlZCA+Pj4gMCkgKiB0aGlzLl9mcmFjO1xuXG5cdFx0c2VlZCA9IChzZWVkKjY5MDY5ICsgMSkgPj4+IDA7XG5cdFx0dGhpcy5fczEgPSBzZWVkICogdGhpcy5fZnJhYztcblxuXHRcdHNlZWQgPSAoc2VlZCo2OTA2OSArIDEpID4+PiAwO1xuXHRcdHRoaXMuX3MyID0gc2VlZCAqIHRoaXMuX2ZyYWM7XG5cblx0XHR0aGlzLl9jID0gMTtcblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHQvKipcblx0ICogQHJldHVybnMge2Zsb2F0fSBQc2V1ZG9yYW5kb20gdmFsdWUgWzAsMSksIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuXHQgKi9cblx0Z2V0VW5pZm9ybTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHQgPSAyMDkxNjM5ICogdGhpcy5fczAgKyB0aGlzLl9jICogdGhpcy5fZnJhYztcblx0XHR0aGlzLl9zMCA9IHRoaXMuX3MxO1xuXHRcdHRoaXMuX3MxID0gdGhpcy5fczI7XG5cdFx0dGhpcy5fYyA9IHQgfCAwO1xuXHRcdHRoaXMuX3MyID0gdCAtIHRoaXMuX2M7XG5cdFx0cmV0dXJuIHRoaXMuX3MyO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ludH0gbG93ZXJCb3VuZCBUaGUgbG93ZXIgZW5kIG9mIHRoZSByYW5nZSB0byByZXR1cm4gYSB2YWx1ZSBmcm9tLCBpbmNsdXNpdmVcblx0ICogQHBhcmFtIHtpbnR9IHVwcGVyQm91bmQgVGhlIHVwcGVyIGVuZCBvZiB0aGUgcmFuZ2UgdG8gcmV0dXJuIGEgdmFsdWUgZnJvbSwgaW5jbHVzaXZlXG5cdCAqIEByZXR1cm5zIHtpbnR9IFBzZXVkb3JhbmRvbSB2YWx1ZSBbbG93ZXJCb3VuZCwgdXBwZXJCb3VuZF0sIHVzaW5nIFJPVC5STkcuZ2V0VW5pZm9ybSgpIHRvIGRpc3RyaWJ1dGUgdGhlIHZhbHVlXG5cdCAqL1xuXHRnZXRVbmlmb3JtSW50OiBmdW5jdGlvbihsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG5cdFx0dmFyIG1heCA9IE1hdGgubWF4KGxvd2VyQm91bmQsIHVwcGVyQm91bmQpO1xuXHRcdHZhciBtaW4gPSBNYXRoLm1pbihsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcih0aGlzLmdldFVuaWZvcm0oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47XG5cdH0sXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFttZWFuPTBdIE1lYW4gdmFsdWVcblx0ICogQHBhcmFtIHtmbG9hdH0gW3N0ZGRldj0xXSBTdGFuZGFyZCBkZXZpYXRpb24uIH45NSUgb2YgdGhlIGFic29sdXRlIHZhbHVlcyB3aWxsIGJlIGxvd2VyIHRoYW4gMipzdGRkZXYuXG5cdCAqIEByZXR1cm5zIHtmbG9hdH0gQSBub3JtYWxseSBkaXN0cmlidXRlZCBwc2V1ZG9yYW5kb20gdmFsdWVcblx0ICovXG5cdGdldE5vcm1hbDogZnVuY3Rpb24obWVhbiwgc3RkZGV2KSB7XG5cdFx0ZG8ge1xuXHRcdFx0dmFyIHUgPSAyKnRoaXMuZ2V0VW5pZm9ybSgpLTE7XG5cdFx0XHR2YXIgdiA9IDIqdGhpcy5nZXRVbmlmb3JtKCktMTtcblx0XHRcdHZhciByID0gdSp1ICsgdip2O1xuXHRcdH0gd2hpbGUgKHIgPiAxIHx8IHIgPT0gMCk7XG5cblx0XHR2YXIgZ2F1c3MgPSB1ICogTWF0aC5zcXJ0KC0yKk1hdGgubG9nKHIpL3IpO1xuXHRcdHJldHVybiAobWVhbiB8fCAwKSArIGdhdXNzKihzdGRkZXYgfHwgMSk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHtpbnR9IFBzZXVkb3JhbmRvbSB2YWx1ZSBbMSwxMDBdIGluY2x1c2l2ZSwgdW5pZm9ybWx5IGRpc3RyaWJ1dGVkXG5cdCAqL1xuXHRnZXRQZXJjZW50YWdlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gMSArIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkqMTAwKTtcblx0fSxcblx0XG5cdC8qKlxuXHQgKiBAcGFyYW0ge29iamVjdH0gZGF0YSBrZXk9d2hhdGV2ZXIsIHZhbHVlPXdlaWdodCAocmVsYXRpdmUgcHJvYmFiaWxpdHkpXG5cdCAqIEByZXR1cm5zIHtzdHJpbmd9IHdoYXRldmVyXG5cdCAqL1xuXHRnZXRXZWlnaHRlZFZhbHVlOiBmdW5jdGlvbihkYXRhKSB7XG5cdFx0dmFyIHRvdGFsID0gMDtcblx0XHRcblx0XHRmb3IgKHZhciBpZCBpbiBkYXRhKSB7XG5cdFx0XHR0b3RhbCArPSBkYXRhW2lkXTtcblx0XHR9XG5cdFx0dmFyIHJhbmRvbSA9IHRoaXMuZ2V0VW5pZm9ybSgpKnRvdGFsO1xuXHRcdFxuXHRcdHZhciBwYXJ0ID0gMDtcblx0XHRmb3IgKHZhciBpZCBpbiBkYXRhKSB7XG5cdFx0XHRwYXJ0ICs9IGRhdGFbaWRdO1xuXHRcdFx0aWYgKHJhbmRvbSA8IHBhcnQpIHsgcmV0dXJuIGlkOyB9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYnkgc29tZSBmbG9hdGluZy1wb2ludCBhbm5veWFuY2Ugd2UgaGF2ZVxuXHRcdC8vIHJhbmRvbSA+PSB0b3RhbCwganVzdCByZXR1cm4gdGhlIGxhc3QgaWQuXG5cdFx0cmV0dXJuIGlkO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBHZXQgUk5HIHN0YXRlLiBVc2VmdWwgZm9yIHN0b3JpbmcgdGhlIHN0YXRlIGFuZCByZS1zZXR0aW5nIGl0IHZpYSBzZXRTdGF0ZS5cblx0ICogQHJldHVybnMgez99IEludGVybmFsIHN0YXRlXG5cdCAqL1xuXHRnZXRTdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFt0aGlzLl9zMCwgdGhpcy5fczEsIHRoaXMuX3MyLCB0aGlzLl9jXTtcblx0fSxcblxuXHQvKipcblx0ICogU2V0IGEgcHJldmlvdXNseSByZXRyaWV2ZWQgc3RhdGUuXG5cdCAqIEBwYXJhbSB7P30gc3RhdGVcblx0ICovXG5cdHNldFN0YXRlOiBmdW5jdGlvbihzdGF0ZSkge1xuXHRcdHRoaXMuX3MwID0gc3RhdGVbMF07XG5cdFx0dGhpcy5fczEgPSBzdGF0ZVsxXTtcblx0XHR0aGlzLl9zMiA9IHN0YXRlWzJdO1xuXHRcdHRoaXMuX2MgID0gc3RhdGVbM107XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBjbG9uZWQgUk5HXG5cdCAqL1xuXHRjbG9uZTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNsb25lID0gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcblx0XHRjbG9uZS5zZXRTdGF0ZSh0aGlzLmdldFN0YXRlKCkpO1xuXHRcdHJldHVybiBjbG9uZTtcblx0fSxcblxuXHRfczA6IDAsXG5cdF9zMTogMCxcblx0X3MyOiAwLFxuXHRfYzogMCxcblx0X2ZyYWM6IDIuMzI4MzA2NDM2NTM4Njk2M2UtMTAgLyogMl4tMzIgKi9cbn1cblxuUk9ULlJORy5zZXRTZWVkKERhdGUubm93KCkpO1xuLyoqXG4gKiBAY2xhc3MgKE1hcmtvdiBwcm9jZXNzKS1iYXNlZCBzdHJpbmcgZ2VuZXJhdG9yLiBcbiAqIENvcGllZCBmcm9tIGEgPGEgaHJlZj1cImh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPU5hbWVzX2Zyb21fYV9oaWdoX29yZGVyX01hcmtvdl9Qcm9jZXNzX2FuZF9hX3NpbXBsaWZpZWRfS2F0el9iYWNrLW9mZl9zY2hlbWVcIj5Sb2d1ZUJhc2luIGFydGljbGU8L2E+LiBcbiAqIE9mZmVycyBjb25maWd1cmFibGUgb3JkZXIgYW5kIHByaW9yLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy53b3Jkcz1mYWxzZV0gVXNlIHdvcmQgbW9kZT9cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5vcmRlcj0zXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMucHJpb3I9MC4wMDFdXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0d29yZHM6IGZhbHNlLFxuXHRcdG9yZGVyOiAzLFxuXHRcdHByaW9yOiAwLjAwMVxuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXG5cdHRoaXMuX2JvdW5kYXJ5ID0gU3RyaW5nLmZyb21DaGFyQ29kZSgwKTtcblx0dGhpcy5fc3VmZml4ID0gdGhpcy5fYm91bmRhcnk7XG5cdHRoaXMuX3ByZWZpeCA9IFtdO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9vcHRpb25zLm9yZGVyO2krKykgeyB0aGlzLl9wcmVmaXgucHVzaCh0aGlzLl9ib3VuZGFyeSk7IH1cblxuXHR0aGlzLl9wcmlvclZhbHVlcyA9IHt9O1xuXHR0aGlzLl9wcmlvclZhbHVlc1t0aGlzLl9ib3VuZGFyeV0gPSB0aGlzLl9vcHRpb25zLnByaW9yO1xuXG5cdHRoaXMuX2RhdGEgPSB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxlYXJuaW5nIGRhdGFcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fZGF0YSA9IHt9O1xuXHR0aGlzLl9wcmlvclZhbHVlcyA9IHt9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEdlbmVyYXRlZCBzdHJpbmdcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbigpIHtcblx0dmFyIHJlc3VsdCA9IFt0aGlzLl9zYW1wbGUodGhpcy5fcHJlZml4KV07XG5cdHdoaWxlIChyZXN1bHRbcmVzdWx0Lmxlbmd0aC0xXSAhPSB0aGlzLl9ib3VuZGFyeSkge1xuXHRcdHJlc3VsdC5wdXNoKHRoaXMuX3NhbXBsZShyZXN1bHQpKTtcblx0fVxuXHRyZXR1cm4gdGhpcy5fam9pbihyZXN1bHQuc2xpY2UoMCwgLTEpKTtcbn1cblxuLyoqXG4gKiBPYnNlcnZlIChsZWFybikgYSBzdHJpbmcgZnJvbSBhIHRyYWluaW5nIHNldFxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24oc3RyaW5nKSB7XG5cdHZhciB0b2tlbnMgPSB0aGlzLl9zcGxpdChzdHJpbmcpO1xuXG5cdGZvciAodmFyIGk9MDsgaTx0b2tlbnMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzLl9wcmlvclZhbHVlc1t0b2tlbnNbaV1dID0gdGhpcy5fb3B0aW9ucy5wcmlvcjtcblx0fVxuXG5cdHRva2VucyA9IHRoaXMuX3ByZWZpeC5jb25jYXQodG9rZW5zKS5jb25jYXQodGhpcy5fc3VmZml4KTsgLyogYWRkIGJvdW5kYXJ5IHN5bWJvbHMgKi9cblxuXHRmb3IgKHZhciBpPXRoaXMuX29wdGlvbnMub3JkZXI7IGk8dG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGNvbnRleHQgPSB0b2tlbnMuc2xpY2UoaS10aGlzLl9vcHRpb25zLm9yZGVyLCBpKTtcblx0XHR2YXIgZXZlbnQgPSB0b2tlbnNbaV07XG5cdFx0Zm9yICh2YXIgaj0wOyBqPGNvbnRleHQubGVuZ3RoOyBqKyspIHtcblx0XHRcdHZhciBzdWJjb250ZXh0ID0gY29udGV4dC5zbGljZShqKTtcblx0XHRcdHRoaXMuX29ic2VydmVFdmVudChzdWJjb250ZXh0LCBldmVudCk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBwYXJ0cyA9IFtdO1xuXG5cdHZhciBwcmlvckNvdW50ID0gMDtcblx0Zm9yICh2YXIgcCBpbiB0aGlzLl9wcmlvclZhbHVlcykgeyBwcmlvckNvdW50Kys7IH1cblx0cHJpb3JDb3VudC0tOyAvKiBib3VuZGFyeSAqL1xuXHRwYXJ0cy5wdXNoKFwiZGlzdGluY3Qgc2FtcGxlczogXCIgKyBwcmlvckNvdW50KTtcblxuXHR2YXIgZGF0YUNvdW50ID0gMDtcblx0dmFyIGV2ZW50Q291bnQgPSAwO1xuXHRmb3IgKHZhciBwIGluIHRoaXMuX2RhdGEpIHsgXG5cdFx0ZGF0YUNvdW50Kys7IFxuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9kYXRhW3BdKSB7XG5cdFx0XHRldmVudENvdW50Kys7XG5cdFx0fVxuXHR9XG5cdHBhcnRzLnB1c2goXCJkaWN0aW9uYXJ5IHNpemUgKGNvbnRleHRzKTogXCIgKyBkYXRhQ291bnQpO1xuXHRwYXJ0cy5wdXNoKFwiZGljdGlvbmFyeSBzaXplIChldmVudHMpOiBcIiArIGV2ZW50Q291bnQpO1xuXG5cdHJldHVybiBwYXJ0cy5qb2luKFwiLCBcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9XG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9zcGxpdCA9IGZ1bmN0aW9uKHN0cikge1xuXHRyZXR1cm4gc3RyLnNwbGl0KHRoaXMuX29wdGlvbnMud29yZHMgPyAvXFxzKy8gOiBcIlwiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfVxuICogQHJldHVybnMge3N0cmluZ30gXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9qb2luID0gZnVuY3Rpb24oYXJyKSB7XG5cdHJldHVybiBhcnIuam9pbih0aGlzLl9vcHRpb25zLndvcmRzID8gXCIgXCIgOiBcIlwiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBjb250ZXh0XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUuX29ic2VydmVFdmVudCA9IGZ1bmN0aW9uKGNvbnRleHQsIGV2ZW50KSB7XG5cdHZhciBrZXkgPSB0aGlzLl9qb2luKGNvbnRleHQpO1xuXHRpZiAoIShrZXkgaW4gdGhpcy5fZGF0YSkpIHsgdGhpcy5fZGF0YVtrZXldID0ge307IH1cblx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhW2tleV07XG5cblx0aWYgKCEoZXZlbnQgaW4gZGF0YSkpIHsgZGF0YVtldmVudF0gPSAwOyB9XG5cdGRhdGFbZXZlbnRdKys7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX1cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9zYW1wbGUgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdGNvbnRleHQgPSB0aGlzLl9iYWNrb2ZmKGNvbnRleHQpO1xuXHR2YXIga2V5ID0gdGhpcy5fam9pbihjb250ZXh0KTtcblx0dmFyIGRhdGEgPSB0aGlzLl9kYXRhW2tleV07XG5cblx0dmFyIGF2YWlsYWJsZSA9IHt9O1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLnByaW9yKSB7XG5cdFx0Zm9yICh2YXIgZXZlbnQgaW4gdGhpcy5fcHJpb3JWYWx1ZXMpIHsgYXZhaWxhYmxlW2V2ZW50XSA9IHRoaXMuX3ByaW9yVmFsdWVzW2V2ZW50XTsgfVxuXHRcdGZvciAodmFyIGV2ZW50IGluIGRhdGEpIHsgYXZhaWxhYmxlW2V2ZW50XSArPSBkYXRhW2V2ZW50XTsgfVxuXHR9IGVsc2UgeyBcblx0XHRhdmFpbGFibGUgPSBkYXRhO1xuXHR9XG5cblx0cmV0dXJuIFJPVC5STkcuZ2V0V2VpZ2h0ZWRWYWx1ZShhdmFpbGFibGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119XG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9iYWNrb2ZmID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRpZiAoY29udGV4dC5sZW5ndGggPiB0aGlzLl9vcHRpb25zLm9yZGVyKSB7XG5cdFx0Y29udGV4dCA9IGNvbnRleHQuc2xpY2UoLXRoaXMuX29wdGlvbnMub3JkZXIpO1xuXHR9IGVsc2UgaWYgKGNvbnRleHQubGVuZ3RoIDwgdGhpcy5fb3B0aW9ucy5vcmRlcikge1xuXHRcdGNvbnRleHQgPSB0aGlzLl9wcmVmaXguc2xpY2UoMCwgdGhpcy5fb3B0aW9ucy5vcmRlciAtIGNvbnRleHQubGVuZ3RoKS5jb25jYXQoY29udGV4dCk7XG5cdH1cblxuXHR3aGlsZSAoISh0aGlzLl9qb2luKGNvbnRleHQpIGluIHRoaXMuX2RhdGEpICYmIGNvbnRleHQubGVuZ3RoID4gMCkgeyBjb250ZXh0ID0gY29udGV4dC5zbGljZSgxKTsgfVxuXG5cdHJldHVybiBjb250ZXh0O1xufVxuLyoqXG4gKiBAY2xhc3MgR2VuZXJpYyBldmVudCBxdWV1ZTogc3RvcmVzIGV2ZW50cyBhbmQgcmV0cmlldmVzIHRoZW0gYmFzZWQgb24gdGhlaXIgdGltZVxuICovXG5ST1QuRXZlbnRRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl90aW1lID0gMDtcblx0dGhpcy5fZXZlbnRzID0gW107XG5cdHRoaXMuX2V2ZW50VGltZXMgPSBbXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBFbGFwc2VkIHRpbWVcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLmdldFRpbWUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3RpbWU7XG59XG5cbi8qKlxuICogQ2xlYXIgYWxsIHNjaGVkdWxlZCBldmVudHNcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2V2ZW50cyA9IFtdO1xuXHR0aGlzLl9ldmVudFRpbWVzID0gW107XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7P30gZXZlbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihldmVudCwgdGltZSkge1xuXHR2YXIgaW5kZXggPSB0aGlzLl9ldmVudHMubGVuZ3RoO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9ldmVudFRpbWVzLmxlbmd0aDtpKyspIHtcblx0XHRpZiAodGhpcy5fZXZlbnRUaW1lc1tpXSA+IHRpbWUpIHtcblx0XHRcdGluZGV4ID0gaTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHRoaXMuX2V2ZW50cy5zcGxpY2UoaW5kZXgsIDAsIGV2ZW50KTtcblx0dGhpcy5fZXZlbnRUaW1lcy5zcGxpY2UoaW5kZXgsIDAsIHRpbWUpO1xufVxuXG4vKipcbiAqIExvY2F0ZXMgdGhlIG5lYXJlc3QgZXZlbnQsIGFkdmFuY2VzIHRpbWUgaWYgbmVjZXNzYXJ5LiBSZXR1cm5zIHRoYXQgZXZlbnQgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgcXVldWUuXG4gKiBAcmV0dXJucyB7PyB8fCBudWxsfSBUaGUgZXZlbnQgcHJldmlvdXNseSBhZGRlZCBieSBhZGRFdmVudCwgbnVsbCBpZiBubyBldmVudCBhdmFpbGFibGVcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIXRoaXMuX2V2ZW50cy5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH1cblxuXHR2YXIgdGltZSA9IHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKDAsIDEpWzBdO1xuXHRpZiAodGltZSA+IDApIHsgLyogYWR2YW5jZSAqL1xuXHRcdHRoaXMuX3RpbWUgKz0gdGltZTtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl9ldmVudFRpbWVzLmxlbmd0aDtpKyspIHsgdGhpcy5fZXZlbnRUaW1lc1tpXSAtPSB0aW1lOyB9XG5cdH1cblxuXHRyZXR1cm4gdGhpcy5fZXZlbnRzLnNwbGljZSgwLCAxKVswXTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYW4gZXZlbnQgZnJvbSB0aGUgcXVldWVcbiAqIEBwYXJhbSB7P30gZXZlbnRcbiAqIEByZXR1cm5zIHtib29sfSBzdWNjZXNzP1xuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0dmFyIGluZGV4ID0gdGhpcy5fZXZlbnRzLmluZGV4T2YoZXZlbnQpO1xuXHRpZiAoaW5kZXggPT0gLTEpIHsgcmV0dXJuIGZhbHNlIH1cblx0dGhpcy5fcmVtb3ZlKGluZGV4KTtcblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFuIGV2ZW50IGZyb20gdGhlIHF1ZXVlXG4gKiBAcGFyYW0ge2ludH0gaW5kZXhcbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLl9yZW1vdmUgPSBmdW5jdGlvbihpbmRleCkge1xuXHR0aGlzLl9ldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcblx0dGhpcy5fZXZlbnRUaW1lcy5zcGxpY2UoaW5kZXgsIDEpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3Qgc2NoZWR1bGVyXG4gKi9cblJPVC5TY2hlZHVsZXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fcXVldWUgPSBuZXcgUk9ULkV2ZW50UXVldWUoKTtcblx0dGhpcy5fcmVwZWF0ID0gW107XG5cdHRoaXMuX2N1cnJlbnQgPSBudWxsO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULkV2ZW50UXVldWUjZ2V0VGltZVxuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9xdWV1ZS5nZXRUaW1lKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHs/fSBpdGVtXG4gKiBAcGFyYW0ge2Jvb2x9IHJlcGVhdFxuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihpdGVtLCByZXBlYXQpIHtcblx0aWYgKHJlcGVhdCkgeyB0aGlzLl9yZXBlYXQucHVzaChpdGVtKTsgfVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDbGVhciBhbGwgaXRlbXNcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fcXVldWUuY2xlYXIoKTtcblx0dGhpcy5fcmVwZWF0ID0gW107XG5cdHRoaXMuX2N1cnJlbnQgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBwcmV2aW91c2x5IGFkZGVkIGl0ZW1cbiAqIEBwYXJhbSB7P30gaXRlbVxuICogQHJldHVybnMge2Jvb2x9IHN1Y2Nlc3NmdWw/XG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0dmFyIHJlc3VsdCA9IHRoaXMuX3F1ZXVlLnJlbW92ZShpdGVtKTtcblxuXHR2YXIgaW5kZXggPSB0aGlzLl9yZXBlYXQuaW5kZXhPZihpdGVtKTtcblx0aWYgKGluZGV4ICE9IC0xKSB7IHRoaXMuX3JlcGVhdC5zcGxpY2UoaW5kZXgsIDEpOyB9XG5cblx0aWYgKHRoaXMuX2N1cnJlbnQgPT0gaXRlbSkgeyB0aGlzLl9jdXJyZW50ID0gbnVsbDsgfVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGUgbmV4dCBpdGVtXG4gKiBAcmV0dXJucyB7P31cbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9jdXJyZW50ID0gdGhpcy5fcXVldWUuZ2V0KCk7XG5cdHJldHVybiB0aGlzLl9jdXJyZW50O1xufVxuLyoqXG4gKiBAY2xhc3MgU2ltcGxlIGZhaXIgc2NoZWR1bGVyIChyb3VuZC1yb2JpbiBzdHlsZSlcbiAqIEBhdWdtZW50cyBST1QuU2NoZWR1bGVyXG4gKi9cblJPVC5TY2hlZHVsZXIuU2ltcGxlID0gZnVuY3Rpb24oKSB7XG5cdFJPVC5TY2hlZHVsZXIuY2FsbCh0aGlzKTtcbn1cblJPVC5TY2hlZHVsZXIuU2ltcGxlLmV4dGVuZChST1QuU2NoZWR1bGVyKTtcblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjYWRkXG4gKi9cblJPVC5TY2hlZHVsZXIuU2ltcGxlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihpdGVtLCByZXBlYXQpIHtcblx0dGhpcy5fcXVldWUuYWRkKGl0ZW0sIDApO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjbmV4dFxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5fY3VycmVudCAmJiB0aGlzLl9yZXBlYXQuaW5kZXhPZih0aGlzLl9jdXJyZW50KSAhPSAtMSkge1xuXHRcdHRoaXMuX3F1ZXVlLmFkZCh0aGlzLl9jdXJyZW50LCAwKTtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuLyoqXG4gKiBAY2xhc3MgU3BlZWQtYmFzZWQgc2NoZWR1bGVyXG4gKiBAYXVnbWVudHMgUk9ULlNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyLlNwZWVkID0gZnVuY3Rpb24oKSB7XG5cdFJPVC5TY2hlZHVsZXIuY2FsbCh0aGlzKTtcbn1cblJPVC5TY2hlZHVsZXIuU3BlZWQuZXh0ZW5kKFJPVC5TY2hlZHVsZXIpO1xuXG4vKipcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIGFueXRoaW5nIHdpdGggXCJnZXRTcGVlZFwiIG1ldGhvZFxuICogQHBhcmFtIHtib29sfSByZXBlYXRcbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAqL1xuUk9ULlNjaGVkdWxlci5TcGVlZC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdHRoaXMuX3F1ZXVlLmFkZChpdGVtLCAxL2l0ZW0uZ2V0U3BlZWQoKSk7XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBpdGVtLCByZXBlYXQpO1xufVxuXG4vKipcbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNuZXh0XG4gKi9cblJPVC5TY2hlZHVsZXIuU3BlZWQucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgMS90aGlzLl9jdXJyZW50LmdldFNwZWVkKCkpO1xuXHR9XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyk7XG59XG4vKipcbiAqIEBjbGFzcyBBY3Rpb24tYmFzZWQgc2NoZWR1bGVyXG4gKiBAYXVnbWVudHMgUk9ULlNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyLkFjdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG5cdHRoaXMuX2RlZmF1bHREdXJhdGlvbiA9IDE7IC8qIGZvciBuZXdseSBhZGRlZCAqL1xuXHR0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjsgLyogZm9yIHRoaXMuX2N1cnJlbnQgKi9cbn1cblJPVC5TY2hlZHVsZXIuQWN0aW9uLmV4dGVuZChST1QuU2NoZWR1bGVyKTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaXRlbVxuICogQHBhcmFtIHtib29sfSByZXBlYXRcbiAqIEBwYXJhbSB7bnVtYmVyfSBbdGltZT0xXVxuICogQHNlZSBST1QuU2NoZWR1bGVyI2FkZFxuICovXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0LCB0aW1lKSB7XG5cdHRoaXMuX3F1ZXVlLmFkZChpdGVtLCB0aW1lIHx8IHRoaXMuX2RlZmF1bHREdXJhdGlvbik7XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBpdGVtLCByZXBlYXQpO1xufVxuXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5jbGVhci5jYWxsKHRoaXMpO1xufVxuXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oaXRlbSkge1xuXHRpZiAoaXRlbSA9PSB0aGlzLl9jdXJyZW50KSB7IHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uOyB9XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLCBpdGVtKTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjbmV4dFxuICovXG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAodGhpcy5fY3VycmVudCAmJiB0aGlzLl9yZXBlYXQuaW5kZXhPZih0aGlzLl9jdXJyZW50KSAhPSAtMSkge1xuXHRcdHRoaXMuX3F1ZXVlLmFkZCh0aGlzLl9jdXJyZW50LCB0aGlzLl9kdXJhdGlvbiB8fCB0aGlzLl9kZWZhdWx0RHVyYXRpb24pO1xuXHRcdHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uO1xuXHR9XG5cdHJldHVybiBST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyk7XG59XG5cbi8qKlxuICogU2V0IGR1cmF0aW9uIGZvciB0aGUgYWN0aXZlIGl0ZW1cbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLnNldER1cmF0aW9uID0gZnVuY3Rpb24odGltZSkge1xuXHRpZiAodGhpcy5fY3VycmVudCkgeyB0aGlzLl9kdXJhdGlvbiA9IHRpbWU7IH1cblx0cmV0dXJuIHRoaXM7XG59XG4vKipcbiAqIEBjbGFzcyBBc3luY2hyb25vdXMgbWFpbiBsb29wXG4gKiBAcGFyYW0ge1JPVC5TY2hlZHVsZXJ9IHNjaGVkdWxlclxuICovXG5ST1QuRW5naW5lID0gZnVuY3Rpb24oc2NoZWR1bGVyKSB7XG5cdHRoaXMuX3NjaGVkdWxlciA9IHNjaGVkdWxlcjtcblx0dGhpcy5fbG9jayA9IDE7XG59XG5cbi8qKlxuICogU3RhcnQgdGhlIG1haW4gbG9vcC4gV2hlbiB0aGlzIGNhbGwgcmV0dXJucywgdGhlIGxvb3AgaXMgbG9ja2VkLlxuICovXG5ST1QuRW5naW5lLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy51bmxvY2soKTtcbn1cblxuLyoqXG4gKiBJbnRlcnJ1cHQgdGhlIGVuZ2luZSBieSBhbiBhc3luY2hyb25vdXMgYWN0aW9uXG4gKi9cblJPVC5FbmdpbmUucHJvdG90eXBlLmxvY2sgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fbG9jaysrO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZXN1bWUgZXhlY3V0aW9uIChwYXVzZWQgYnkgYSBwcmV2aW91cyBsb2NrKVxuICovXG5ST1QuRW5naW5lLnByb3RvdHlwZS51bmxvY2sgPSBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLl9sb2NrKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1bmxvY2sgdW5sb2NrZWQgZW5naW5lXCIpOyB9XG5cdHRoaXMuX2xvY2stLTtcblxuXHR3aGlsZSAoIXRoaXMuX2xvY2spIHtcblx0XHR2YXIgYWN0b3IgPSB0aGlzLl9zY2hlZHVsZXIubmV4dCgpO1xuXHRcdGlmICghYWN0b3IpIHsgcmV0dXJuIHRoaXMubG9jaygpOyB9IC8qIG5vIGFjdG9ycyAqL1xuXHRcdHZhciByZXN1bHQgPSBhY3Rvci5hY3QoKTtcblx0XHRpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuKSB7IC8qIGFjdG9yIHJldHVybmVkIGEgXCJ0aGVuYWJsZVwiLCBsb29rcyBsaWtlIGEgUHJvbWlzZSAqL1xuXHRcdFx0dGhpcy5sb2NrKCk7XG5cdFx0XHRyZXN1bHQudGhlbih0aGlzLnVubG9jay5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cbi8qKlxuICogQGNsYXNzIEJhc2UgbWFwIGdlbmVyYXRvclxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqL1xuUk9ULk1hcCA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0dGhpcy5fd2lkdGggPSB3aWR0aCB8fCBST1QuREVGQVVMVF9XSURUSDtcblx0dGhpcy5faGVpZ2h0ID0gaGVpZ2h0IHx8IFJPVC5ERUZBVUxUX0hFSUdIVDtcbn07XG5cblJPVC5NYXAucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7fVxuXG5ST1QuTWFwLnByb3RvdHlwZS5fZmlsbE1hcCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdHZhciBtYXAgPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0bWFwLnB1c2goW10pO1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHsgbWFwW2ldLnB1c2godmFsdWUpOyB9XG5cdH1cblx0cmV0dXJuIG1hcDtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsZSBlbXB0eSByZWN0YW5ndWxhciByb29tXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkFyZW5hID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG59XG5ST1QuTWFwLkFyZW5hLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5BcmVuYS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHcgPSB0aGlzLl93aWR0aC0xO1xuXHR2YXIgaCA9IHRoaXMuX2hlaWdodC0xO1xuXHRmb3IgKHZhciBpPTA7aTw9dztpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajw9aDtqKyspIHtcblx0XHRcdHZhciBlbXB0eSA9IChpICYmIGogJiYgaTx3ICYmIGo8aCk7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCBlbXB0eSA/IDAgOiAxKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG4vKipcbiAqIEBjbGFzcyBSZWN1cnNpdmVseSBkaXZpZGVkIG1hemUsIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWF6ZV9nZW5lcmF0aW9uX2FsZ29yaXRobSNSZWN1cnNpdmVfZGl2aXNpb25fbWV0aG9kXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkRpdmlkZWRNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX3N0YWNrID0gW107XG59XG5ST1QuTWFwLkRpdmlkZWRNYXplLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHcgPSB0aGlzLl93aWR0aDtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQ7XG5cdFxuXHR0aGlzLl9tYXAgPSBbXTtcblx0XG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0dGhpcy5fbWFwLnB1c2goW10pO1xuXHRcdGZvciAodmFyIGo9MDtqPGg7aisrKSB7XG5cdFx0XHR2YXIgYm9yZGVyID0gKGkgPT0gMCB8fCBqID09IDAgfHwgaSsxID09IHcgfHwgaisxID09IGgpO1xuXHRcdFx0dGhpcy5fbWFwW2ldLnB1c2goYm9yZGVyID8gMSA6IDApO1xuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fc3RhY2sgPSBbXG5cdFx0WzEsIDEsIHctMiwgaC0yXVxuXHRdO1xuXHR0aGlzLl9wcm9jZXNzKCk7XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPGg7aisrKSB7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuXHRcdH1cblx0fVxuXHR0aGlzLl9tYXAgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5wcm90b3R5cGUuX3Byb2Nlc3MgPSBmdW5jdGlvbigpIHtcblx0d2hpbGUgKHRoaXMuX3N0YWNrLmxlbmd0aCkge1xuXHRcdHZhciByb29tID0gdGhpcy5fc3RhY2suc2hpZnQoKTsgLyogW2xlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbV0gKi9cblx0XHR0aGlzLl9wYXJ0aXRpb25Sb29tKHJvb20pO1xuXHR9XG59XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLl9wYXJ0aXRpb25Sb29tID0gZnVuY3Rpb24ocm9vbSkge1xuXHR2YXIgYXZhaWxYID0gW107XG5cdHZhciBhdmFpbFkgPSBbXTtcblx0XG5cdGZvciAodmFyIGk9cm9vbVswXSsxO2k8cm9vbVsyXTtpKyspIHtcblx0XHR2YXIgdG9wID0gdGhpcy5fbWFwW2ldW3Jvb21bMV0tMV07XG5cdFx0dmFyIGJvdHRvbSA9IHRoaXMuX21hcFtpXVtyb29tWzNdKzFdO1xuXHRcdGlmICh0b3AgJiYgYm90dG9tICYmICEoaSAlIDIpKSB7IGF2YWlsWC5wdXNoKGkpOyB9XG5cdH1cblx0XG5cdGZvciAodmFyIGo9cm9vbVsxXSsxO2o8cm9vbVszXTtqKyspIHtcblx0XHR2YXIgbGVmdCA9IHRoaXMuX21hcFtyb29tWzBdLTFdW2pdO1xuXHRcdHZhciByaWdodCA9IHRoaXMuX21hcFtyb29tWzJdKzFdW2pdO1xuXHRcdGlmIChsZWZ0ICYmIHJpZ2h0ICYmICEoaiAlIDIpKSB7IGF2YWlsWS5wdXNoKGopOyB9XG5cdH1cblxuXHRpZiAoIWF2YWlsWC5sZW5ndGggfHwgIWF2YWlsWS5sZW5ndGgpIHsgcmV0dXJuOyB9XG5cblx0dmFyIHggPSBhdmFpbFgucmFuZG9tKCk7XG5cdHZhciB5ID0gYXZhaWxZLnJhbmRvbSgpO1xuXHRcblx0dGhpcy5fbWFwW3hdW3ldID0gMTtcblx0XG5cdHZhciB3YWxscyA9IFtdO1xuXHRcblx0dmFyIHcgPSBbXTsgd2FsbHMucHVzaCh3KTsgLyogbGVmdCBwYXJ0ICovXG5cdGZvciAodmFyIGk9cm9vbVswXTsgaTx4OyBpKyspIHsgXG5cdFx0dGhpcy5fbWFwW2ldW3ldID0gMTtcblx0XHR3LnB1c2goW2ksIHldKTsgXG5cdH1cblx0XG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIHJpZ2h0IHBhcnQgKi9cblx0Zm9yICh2YXIgaT14KzE7IGk8PXJvb21bMl07IGkrKykgeyBcblx0XHR0aGlzLl9tYXBbaV1beV0gPSAxO1xuXHRcdHcucHVzaChbaSwgeV0pOyBcblx0fVxuXG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIHRvcCBwYXJ0ICovXG5cdGZvciAodmFyIGo9cm9vbVsxXTsgajx5OyBqKyspIHsgXG5cdFx0dGhpcy5fbWFwW3hdW2pdID0gMTtcblx0XHR3LnB1c2goW3gsIGpdKTsgXG5cdH1cblx0XG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIGJvdHRvbSBwYXJ0ICovXG5cdGZvciAodmFyIGo9eSsxOyBqPD1yb29tWzNdOyBqKyspIHsgXG5cdFx0dGhpcy5fbWFwW3hdW2pdID0gMTtcblx0XHR3LnB1c2goW3gsIGpdKTsgXG5cdH1cblx0XHRcblx0dmFyIHNvbGlkID0gd2FsbHMucmFuZG9tKCk7XG5cdGZvciAodmFyIGk9MDtpPHdhbGxzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgdyA9IHdhbGxzW2ldO1xuXHRcdGlmICh3ID09IHNvbGlkKSB7IGNvbnRpbnVlOyB9XG5cdFx0XG5cdFx0dmFyIGhvbGUgPSB3LnJhbmRvbSgpO1xuXHRcdHRoaXMuX21hcFtob2xlWzBdXVtob2xlWzFdXSA9IDA7XG5cdH1cblxuXHR0aGlzLl9zdGFjay5wdXNoKFtyb29tWzBdLCByb29tWzFdLCB4LTEsIHktMV0pOyAvKiBsZWZ0IHRvcCAqL1xuXHR0aGlzLl9zdGFjay5wdXNoKFt4KzEsIHJvb21bMV0sIHJvb21bMl0sIHktMV0pOyAvKiByaWdodCB0b3AgKi9cblx0dGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgeSsxLCB4LTEsIHJvb21bM11dKTsgLyogbGVmdCBib3R0b20gKi9cblx0dGhpcy5fc3RhY2sucHVzaChbeCsxLCB5KzEsIHJvb21bMl0sIHJvb21bM11dKTsgLyogcmlnaHQgYm90dG9tICovXG59XG4vKipcbiAqIEBjbGFzcyBJY2V5J3MgTWF6ZSBnZW5lcmF0b3JcbiAqIFNlZSBodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1TaW1wbGVfbWF6ZSBmb3IgZXhwbGFuYXRpb25cbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuSWNleU1hemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCByZWd1bGFyaXR5KSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0dGhpcy5fcmVndWxhcml0eSA9IHJlZ3VsYXJpdHkgfHwgMDtcbn1cblJPVC5NYXAuSWNleU1hemUuZXh0ZW5kKFJPVC5NYXApO1xuXG5ST1QuTWFwLkljZXlNYXplLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgd2lkdGggPSB0aGlzLl93aWR0aDtcblx0dmFyIGhlaWdodCA9IHRoaXMuX2hlaWdodDtcblx0XG5cdHZhciBtYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHRcblx0d2lkdGggLT0gKHdpZHRoICUgMiA/IDEgOiAyKTtcblx0aGVpZ2h0IC09IChoZWlnaHQgJSAyID8gMSA6IDIpO1xuXG5cdHZhciBjeCA9IDA7XG5cdHZhciBjeSA9IDA7XG5cdHZhciBueCA9IDA7XG5cdHZhciBueSA9IDA7XG5cblx0dmFyIGRvbmUgPSAwO1xuXHR2YXIgYmxvY2tlZCA9IGZhbHNlO1xuXHR2YXIgZGlycyA9IFtcblx0XHRbMCwgMF0sXG5cdFx0WzAsIDBdLFxuXHRcdFswLCAwXSxcblx0XHRbMCwgMF1cblx0XTtcblx0ZG8ge1xuXHRcdGN4ID0gMSArIDIqTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSood2lkdGgtMSkgLyAyKTtcblx0XHRjeSA9IDEgKyAyKk1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKGhlaWdodC0xKSAvIDIpO1xuXG5cdFx0aWYgKCFkb25lKSB7IG1hcFtjeF1bY3ldID0gMDsgfVxuXHRcdFxuXHRcdGlmICghbWFwW2N4XVtjeV0pIHtcblx0XHRcdHRoaXMuX3JhbmRvbWl6ZShkaXJzKTtcblx0XHRcdGRvIHtcblx0XHRcdFx0aWYgKE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKHRoaXMuX3JlZ3VsYXJpdHkrMSkpID09IDApIHsgdGhpcy5fcmFuZG9taXplKGRpcnMpOyB9XG5cdFx0XHRcdGJsb2NrZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7aTw0O2krKykge1xuXHRcdFx0XHRcdG54ID0gY3ggKyBkaXJzW2ldWzBdKjI7XG5cdFx0XHRcdFx0bnkgPSBjeSArIGRpcnNbaV1bMV0qMjtcblx0XHRcdFx0XHRpZiAodGhpcy5faXNGcmVlKG1hcCwgbngsIG55LCB3aWR0aCwgaGVpZ2h0KSkge1xuXHRcdFx0XHRcdFx0bWFwW254XVtueV0gPSAwO1xuXHRcdFx0XHRcdFx0bWFwW2N4ICsgZGlyc1tpXVswXV1bY3kgKyBkaXJzW2ldWzFdXSA9IDA7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGN4ID0gbng7XG5cdFx0XHRcdFx0XHRjeSA9IG55O1xuXHRcdFx0XHRcdFx0YmxvY2tlZCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0ZG9uZSsrO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IHdoaWxlICghYmxvY2tlZCk7XG5cdFx0fVxuXHR9IHdoaWxlIChkb25lKzEgPCB3aWR0aCpoZWlnaHQvNCk7XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRjYWxsYmFjayhpLCBqLCBtYXBbaV1bal0pO1xuXHRcdH1cblx0fVxuXHR0aGlzLl9tYXAgPSBudWxsO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5JY2V5TWF6ZS5wcm90b3R5cGUuX3JhbmRvbWl6ZSA9IGZ1bmN0aW9uKGRpcnMpIHtcblx0Zm9yICh2YXIgaT0wO2k8NDtpKyspIHtcblx0XHRkaXJzW2ldWzBdID0gMDtcblx0XHRkaXJzW2ldWzFdID0gMDtcblx0fVxuXHRcblx0c3dpdGNoIChNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKjQpKSB7XG5cdFx0Y2FzZSAwOlxuXHRcdFx0ZGlyc1swXVswXSA9IC0xOyBkaXJzWzFdWzBdID0gMTtcblx0XHRcdGRpcnNbMl1bMV0gPSAtMTsgZGlyc1szXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAxOlxuXHRcdFx0ZGlyc1szXVswXSA9IC0xOyBkaXJzWzJdWzBdID0gMTtcblx0XHRcdGRpcnNbMV1bMV0gPSAtMTsgZGlyc1swXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0ZGlyc1syXVswXSA9IC0xOyBkaXJzWzNdWzBdID0gMTtcblx0XHRcdGRpcnNbMF1bMV0gPSAtMTsgZGlyc1sxXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0ZGlyc1sxXVswXSA9IC0xOyBkaXJzWzBdWzBdID0gMTtcblx0XHRcdGRpcnNbM11bMV0gPSAtMTsgZGlyc1syXVsxXSA9IDE7XG5cdFx0YnJlYWs7XG5cdH1cbn1cblxuUk9ULk1hcC5JY2V5TWF6ZS5wcm90b3R5cGUuX2lzRnJlZSA9IGZ1bmN0aW9uKG1hcCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuXHRpZiAoeCA8IDEgfHwgeSA8IDEgfHwgeCA+PSB3aWR0aCB8fCB5ID49IGhlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuIG1hcFt4XVt5XTtcbn1cbi8qKlxuICogQGNsYXNzIE1hemUgZ2VuZXJhdG9yIC0gRWxsZXIncyBhbGdvcml0aG1cbiAqIFNlZSBodHRwOi8vaG9tZXBhZ2VzLmN3aS5ubC9+dHJvbXAvbWF6ZS5odG1sIGZvciBleHBsYW5hdGlvblxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5FbGxlck1hemUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcbn1cblJPVC5NYXAuRWxsZXJNYXplLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5FbGxlck1hemUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciBtYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHR2YXIgdyA9IE1hdGguY2VpbCgodGhpcy5fd2lkdGgtMikvMik7XG5cdFxuXHR2YXIgcmFuZCA9IDkvMjQ7XG5cdFxuXHR2YXIgTCA9IFtdO1xuXHR2YXIgUiA9IFtdO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHRMLnB1c2goaSk7XG5cdFx0Ui5wdXNoKGkpO1xuXHR9XG5cdEwucHVzaCh3LTEpOyAvKiBmYWtlIHN0b3AtYmxvY2sgYXQgdGhlIHJpZ2h0IHNpZGUgKi9cblxuXHRmb3IgKHZhciBqPTE7aiszPHRoaXMuX2hlaWdodDtqKz0yKSB7XG5cdFx0Lyogb25lIHJvdyAqL1xuXHRcdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0XHQvKiBjZWxsIGNvb3JkcyAod2lsbCBiZSBhbHdheXMgZW1wdHkpICovXG5cdFx0XHR2YXIgeCA9IDIqaSsxO1xuXHRcdFx0dmFyIHkgPSBqO1xuXHRcdFx0bWFwW3hdW3ldID0gMDtcblx0XHRcdFxuXHRcdFx0LyogcmlnaHQgY29ubmVjdGlvbiAqL1xuXHRcdFx0aWYgKGkgIT0gTFtpKzFdICYmIFJPVC5STkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkge1xuXHRcdFx0XHR0aGlzLl9hZGRUb0xpc3QoaSwgTCwgUik7XG5cdFx0XHRcdG1hcFt4KzFdW3ldID0gMDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0LyogYm90dG9tIGNvbm5lY3Rpb24gKi9cblx0XHRcdGlmIChpICE9IExbaV0gJiYgUk9ULlJORy5nZXRVbmlmb3JtKCkgPiByYW5kKSB7XG5cdFx0XHRcdC8qIHJlbW92ZSBjb25uZWN0aW9uICovXG5cdFx0XHRcdHRoaXMuX3JlbW92ZUZyb21MaXN0KGksIEwsIFIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0LyogY3JlYXRlIGNvbm5lY3Rpb24gKi9cblx0XHRcdFx0bWFwW3hdW3krMV0gPSAwO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qIGxhc3Qgcm93ICovXG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0LyogY2VsbCBjb29yZHMgKHdpbGwgYmUgYWx3YXlzIGVtcHR5KSAqL1xuXHRcdHZhciB4ID0gMippKzE7XG5cdFx0dmFyIHkgPSBqO1xuXHRcdG1hcFt4XVt5XSA9IDA7XG5cdFx0XG5cdFx0LyogcmlnaHQgY29ubmVjdGlvbiAqL1xuXHRcdGlmIChpICE9IExbaSsxXSAmJiAoaSA9PSBMW2ldIHx8IFJPVC5STkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkpIHtcblx0XHRcdC8qIGRpZyByaWdodCBhbHNvIGlmIHRoZSBjZWxsIGlzIHNlcGFyYXRlZCwgc28gaXQgZ2V0cyBjb25uZWN0ZWQgdG8gdGhlIHJlc3Qgb2YgbWF6ZSAqL1xuXHRcdFx0dGhpcy5fYWRkVG9MaXN0KGksIEwsIFIpO1xuXHRcdFx0bWFwW3grMV1beV0gPSAwO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLl9yZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcblx0fVxuXHRcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJlbW92ZSBcImlcIiBmcm9tIGl0cyBsaXN0XG4gKi9cblJPVC5NYXAuRWxsZXJNYXplLnByb3RvdHlwZS5fcmVtb3ZlRnJvbUxpc3QgPSBmdW5jdGlvbihpLCBMLCBSKSB7XG5cdFJbTFtpXV0gPSBSW2ldO1xuXHRMW1JbaV1dID0gTFtpXTtcblx0UltpXSA9IGk7XG5cdExbaV0gPSBpO1xufVxuXG4vKipcbiAqIEpvaW4gbGlzdHMgd2l0aCBcImlcIiBhbmQgXCJpKzFcIlxuICovXG5ST1QuTWFwLkVsbGVyTWF6ZS5wcm90b3R5cGUuX2FkZFRvTGlzdCA9IGZ1bmN0aW9uKGksIEwsIFIpIHtcblx0UltMW2krMV1dID0gUltpXTtcblx0TFtSW2ldXSA9IExbaSsxXTtcblx0UltpXSA9IGkrMTtcblx0TFtpKzFdID0gaTtcbn1cbi8qKlxuICogQGNsYXNzIENlbGx1bGFyIGF1dG9tYXRvbiBtYXAgZ2VuZXJhdG9yXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uc1xuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuYm9ybl0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGEgbmV3IGNlbGwgdG8gYmUgYm9ybiBpbiBlbXB0eSBzcGFjZVxuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuc3Vydml2ZV0gTGlzdCBvZiBuZWlnaGJvciBjb3VudHMgZm9yIGFuIGV4aXN0aW5nICBjZWxsIHRvIHN1cnZpdmVcbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neV0gVG9wb2xvZ3kgNCBvciA2IG9yIDhcbiAqL1xuUk9ULk1hcC5DZWxsdWxhciA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdGJvcm46IFs1LCA2LCA3LCA4XSxcblx0XHRzdXJ2aXZlOiBbNCwgNSwgNiwgNywgOF0sXG5cdFx0dG9wb2xvZ3k6IDgsXG5cdFx0Y29ubmVjdGVkOiBmYWxzZVxuXHR9O1xuXHR0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG5cdFxuXHR0aGlzLl9kaXJzID0gUk9ULkRJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG5cdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMCk7XG59XG5ST1QuTWFwLkNlbGx1bGFyLmV4dGVuZChST1QuTWFwKTtcblxuLyoqXG4gKiBGaWxsIHRoZSBtYXAgd2l0aCByYW5kb20gdmFsdWVzXG4gKiBAcGFyYW0ge2Zsb2F0fSBwcm9iYWJpbGl0eSBQcm9iYWJpbGl0eSBmb3IgYSBjZWxsIHRvIGJlY29tZSBhbGl2ZTsgMCA9IGFsbCBlbXB0eSwgMSA9IGFsbCBmdWxsXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLnJhbmRvbWl6ZSA9IGZ1bmN0aW9uKHByb2JhYmlsaXR5KSB7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdHRoaXMuX21hcFtpXVtqXSA9IChST1QuUk5HLmdldFVuaWZvcm0oKSA8IHByb2JhYmlsaXR5ID8gMSA6IDApO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGFuZ2Ugb3B0aW9ucy5cbiAqIEBzZWUgUk9ULk1hcC5DZWxsdWxhclxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oeCwgeSwgdmFsdWUpIHtcblx0dGhpcy5fbWFwW3hdW3ldID0gdmFsdWU7XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciBuZXdNYXAgPSB0aGlzLl9maWxsTWFwKDApO1xuXHR2YXIgYm9ybiA9IHRoaXMuX29wdGlvbnMuYm9ybjtcblx0dmFyIHN1cnZpdmUgPSB0aGlzLl9vcHRpb25zLnN1cnZpdmU7XG5cblxuXHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0dmFyIHdpZHRoU3RlcCA9IDE7XG5cdFx0dmFyIHdpZHRoU3RhcnQgPSAwO1xuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHsgXG5cdFx0XHR3aWR0aFN0ZXAgPSAyO1xuXHRcdFx0d2lkdGhTdGFydCA9IGolMjtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpPXdpZHRoU3RhcnQ7IGk8dGhpcy5fd2lkdGg7IGkrPXdpZHRoU3RlcCkge1xuXG5cdFx0XHR2YXIgY3VyID0gdGhpcy5fbWFwW2ldW2pdO1xuXHRcdFx0dmFyIG5jb3VudCA9IHRoaXMuX2dldE5laWdoYm9ycyhpLCBqKTtcblx0XHRcdFxuXHRcdFx0aWYgKGN1ciAmJiBzdXJ2aXZlLmluZGV4T2YobmNvdW50KSAhPSAtMSkgeyAvKiBzdXJ2aXZlICovXG5cdFx0XHRcdG5ld01hcFtpXVtqXSA9IDE7XG5cdFx0XHR9IGVsc2UgaWYgKCFjdXIgJiYgYm9ybi5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogYm9ybiAqL1xuXHRcdFx0XHRuZXdNYXBbaV1bal0gPSAxO1xuXHRcdFx0fVx0XHRcdFxuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fbWFwID0gbmV3TWFwO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLmNvbm5lY3RlZCkgeyB0aGlzLl9jb21wbGV0ZU1hemUoKTsgfSAvLyBvcHRpb25hbGx5IGNvbm5lY3QgZXZlcnkgc3BhY2VcblxuXHRpZiAoIWNhbGxiYWNrKSB7IHJldHVybjsgfVxuXG5cdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHR2YXIgd2lkdGhTdGVwID0gMTtcblx0XHR2YXIgd2lkdGhTdGFydCA9IDA7XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gNikgeyBcblx0XHRcdHdpZHRoU3RlcCA9IDI7XG5cdFx0XHR3aWR0aFN0YXJ0ID0gaiUyO1xuXHRcdH1cblx0XHRmb3IgKHZhciBpPXdpZHRoU3RhcnQ7IGk8dGhpcy5fd2lkdGg7IGkrPXdpZHRoU3RlcCkge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgbmV3TWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBHZXQgbmVpZ2hib3IgY291bnQgYXQgW2ksal0gaW4gdGhpcy5fbWFwXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9nZXROZWlnaGJvcnMgPSBmdW5jdGlvbihjeCwgY3kpIHtcblx0dmFyIHJlc3VsdCA9IDA7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX2RpcnMubGVuZ3RoO2krKykge1xuXHRcdHZhciBkaXIgPSB0aGlzLl9kaXJzW2ldO1xuXHRcdHZhciB4ID0gY3ggKyBkaXJbMF07XG5cdFx0dmFyIHkgPSBjeSArIGRpclsxXTtcblx0XHRcblx0XHRpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB4IDwgMCB8fCB5ID49IHRoaXMuX3dpZHRoKSB7IGNvbnRpbnVlOyB9XG5cdFx0cmVzdWx0ICs9ICh0aGlzLl9tYXBbeF1beV0gPT0gMSA/IDEgOiAwKTtcblx0fVxuXHRcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBNYWtlIHN1cmUgZXZlcnkgbm9uLXdhbGwgc3BhY2UgaXMgYWNjZXNzaWJsZS5cbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2NvbXBsZXRlTWF6ZSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgYWxsRnJlZVNwYWNlID0gW107XG5cdHZhciBub3RDb25uZWN0ZWQgPSB7fTtcblx0Ly8gZmluZCBhbGwgZnJlZSBzcGFjZVxuXHRmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMuX3dpZHRoOyB4KyspIHtcblx0XHRmb3IgKHZhciB5ID0gMDsgeSA8IHRoaXMuX2hlaWdodDsgeSsrKSB7XG5cdFx0XHRpZiAodGhpcy5fZnJlZVNwYWNlKHgsIHkpKSB7XG5cdFx0XHRcdHZhciBwID0gW3gsIHldO1xuXHRcdFx0XHRub3RDb25uZWN0ZWRbdGhpcy5fcG9pbnRLZXkocCldID0gcDtcblx0XHRcdFx0YWxsRnJlZVNwYWNlLnB1c2goW3gsIHldKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0dmFyIHN0YXJ0ID0gYWxsRnJlZVNwYWNlW1JPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBhbGxGcmVlU3BhY2UubGVuZ3RoIC0gMSldO1xuXG5cdHZhciBrZXkgPSB0aGlzLl9wb2ludEtleShzdGFydCk7XG5cdHZhciBjb25uZWN0ZWQgPSB7fTtcblx0Y29ubmVjdGVkW2tleV0gPSBzdGFydDtcblx0ZGVsZXRlIG5vdENvbm5lY3RlZFtrZXldXG5cblx0Ly8gZmluZCB3aGF0J3MgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuXHR0aGlzLl9maW5kQ29ubmVjdGVkKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBbc3RhcnRdKTtcblxuXHR3aGlsZSAoT2JqZWN0LmtleXMobm90Q29ubmVjdGVkKS5sZW5ndGggPiAwKSB7XG5cblx0XHQvLyBmaW5kIHR3byBwb2ludHMgZnJvbSBub3RDb25uZWN0ZWQgdG8gY29ubmVjdGVkXG5cdFx0dmFyIHAgPSB0aGlzLl9nZXRGcm9tVG8oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpO1xuXHRcdHZhciBmcm9tID0gcFswXTsgLy8gbm90Q29ubmVjdGVkXG5cdFx0dmFyIHRvID0gcFsxXTsgLy8gY29ubmVjdGVkXG5cblx0XHQvLyBmaW5kIGV2ZXJ5dGhpbmcgY29ubmVjdGVkIHRvIHRoZSBzdGFydGluZyBwb2ludFxuXHRcdHZhciBsb2NhbCA9IHt9O1xuXHRcdGxvY2FsW3RoaXMuX3BvaW50S2V5KGZyb20pXSA9IGZyb207XG5cdFx0dGhpcy5fZmluZENvbm5lY3RlZChsb2NhbCwgbm90Q29ubmVjdGVkLCBbZnJvbV0sIHRydWUpO1xuXG5cdFx0Ly8gY29ubmVjdCB0byBhIGNvbm5lY3RlZCBzcXVhcmVcblx0XHR0aGlzLl90dW5uZWxUb0Nvbm5lY3RlZCh0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpO1xuXG5cdFx0Ly8gbm93IGFsbCBvZiBsb2NhbCBpcyBjb25uZWN0ZWRcblx0XHRmb3IgKHZhciBrIGluIGxvY2FsKSB7XG5cdFx0XHR2YXIgcHAgPSBsb2NhbFtrXTtcblx0XHRcdHRoaXMuX21hcFtwcFswXV1bcHBbMV1dID0gMDtcblx0XHRcdGNvbm5lY3RlZFtrXSA9IHBwO1xuXHRcdFx0ZGVsZXRlIG5vdENvbm5lY3RlZFtrXTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBGaW5kIHJhbmRvbSBwb2ludHMgdG8gY29ubmVjdC4gU2VhcmNoIGZvciB0aGUgY2xvc2VzdCBwb2ludCBpbiB0aGUgbGFyZ2VyIHNwYWNlLiBcbiAqIFRoaXMgaXMgdG8gbWluaW1pemUgdGhlIGxlbmd0aCBvZiB0aGUgcGFzc2FnZSB3aGlsZSBtYWludGFpbmluZyBnb29kIHBlcmZvcm1hbmNlLlxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0RnJvbVRvID0gZnVuY3Rpb24oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpIHtcblx0dmFyIGZyb20sIHRvLCBkO1xuXHR2YXIgY29ubmVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGNvbm5lY3RlZCk7XG5cdHZhciBub3RDb25uZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMobm90Q29ubmVjdGVkKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0XHRpZiAoY29ubmVjdGVkS2V5cy5sZW5ndGggPCBub3RDb25uZWN0ZWRLZXlzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGtleXMgPSBjb25uZWN0ZWRLZXlzO1xuXHRcdFx0dG8gPSBjb25uZWN0ZWRba2V5c1tST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwga2V5cy5sZW5ndGggLSAxKV1dXG5cdFx0XHRmcm9tID0gdGhpcy5fZ2V0Q2xvc2VzdCh0bywgbm90Q29ubmVjdGVkKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGtleXMgPSBub3RDb25uZWN0ZWRLZXlzO1xuXHRcdFx0ZnJvbSA9IG5vdENvbm5lY3RlZFtrZXlzW1JPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBrZXlzLmxlbmd0aCAtIDEpXV1cblx0XHRcdHRvID0gdGhpcy5fZ2V0Q2xvc2VzdChmcm9tLCBjb25uZWN0ZWQpO1xuXHRcdH1cblx0XHRkID0gKGZyb21bMF0gLSB0b1swXSkgKiAoZnJvbVswXSAtIHRvWzBdKSArIChmcm9tWzFdIC0gdG9bMV0pICogKGZyb21bMV0gLSB0b1sxXSk7XG5cdFx0aWYgKGQgPCA2NCkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdC8vIGNvbnNvbGUubG9nKFwiPj4+IGNvbm5lY3RlZD1cIiArIHRvICsgXCIgbm90Q29ubmVjdGVkPVwiICsgZnJvbSArIFwiIGRpc3Q9XCIgKyBkKTtcblx0cmV0dXJuIFtmcm9tLCB0b107XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9nZXRDbG9zZXN0ID0gZnVuY3Rpb24ocG9pbnQsIHNwYWNlKSB7XG5cdHZhciBtaW5Qb2ludCA9IG51bGw7XG5cdHZhciBtaW5EaXN0ID0gbnVsbDtcblx0Zm9yIChrIGluIHNwYWNlKSB7XG5cdFx0dmFyIHAgPSBzcGFjZVtrXTtcblx0XHR2YXIgZCA9IChwWzBdIC0gcG9pbnRbMF0pICogKHBbMF0gLSBwb2ludFswXSkgKyAocFsxXSAtIHBvaW50WzFdKSAqIChwWzFdIC0gcG9pbnRbMV0pO1xuXHRcdGlmIChtaW5EaXN0ID09IG51bGwgfHwgZCA8IG1pbkRpc3QpIHtcblx0XHRcdG1pbkRpc3QgPSBkO1xuXHRcdFx0bWluUG9pbnQgPSBwO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWluUG9pbnQ7XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9maW5kQ29ubmVjdGVkID0gZnVuY3Rpb24oY29ubmVjdGVkLCBub3RDb25uZWN0ZWQsIHN0YWNrLCBrZWVwTm90Q29ubmVjdGVkKSB7XG5cdHdoaWxlKHN0YWNrLmxlbmd0aCA+IDApIHtcblx0XHR2YXIgcCA9IHN0YWNrLnNwbGljZSgwLCAxKVswXTtcblx0XHR2YXIgdGVzdHMgPSBbXG5cdFx0XHRbcFswXSArIDEsIHBbMV1dLFxuXHRcdFx0W3BbMF0gLSAxLCBwWzFdXSxcblx0XHRcdFtwWzBdLCAgICAgcFsxXSArIDFdLFxuXHRcdFx0W3BbMF0sICAgICBwWzFdIC0gMV1cblx0XHRdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBrZXkgPSB0aGlzLl9wb2ludEtleSh0ZXN0c1tpXSk7XG5cdFx0XHRpZiAoY29ubmVjdGVkW2tleV0gPT0gbnVsbCAmJiB0aGlzLl9mcmVlU3BhY2UodGVzdHNbaV1bMF0sIHRlc3RzW2ldWzFdKSkge1xuXHRcdFx0XHRjb25uZWN0ZWRba2V5XSA9IHRlc3RzW2ldO1xuXHRcdFx0XHRpZiAoIWtlZXBOb3RDb25uZWN0ZWQpIHtcblx0XHRcdFx0XHRkZWxldGUgbm90Q29ubmVjdGVkW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RhY2sucHVzaCh0ZXN0c1tpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl90dW5uZWxUb0Nvbm5lY3RlZCA9IGZ1bmN0aW9uKHRvLCBmcm9tLCBjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCkge1xuXHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkoZnJvbSk7XG5cdHZhciBhLCBiO1xuXHRpZiAoZnJvbVswXSA8IHRvWzBdKSB7XG5cdFx0YSA9IGZyb207XG5cdFx0YiA9IHRvO1xuXHR9IGVsc2Uge1xuXHRcdGEgPSB0bztcblx0XHRiID0gZnJvbTtcblx0fVxuXHRmb3IgKHZhciB4eCA9IGFbMF07IHh4IDw9IGJbMF07IHh4KyspIHtcblx0XHR0aGlzLl9tYXBbeHhdW2FbMV1dID0gMDtcblx0XHR2YXIgcCA9IFt4eCwgYVsxXV07XG5cdFx0dmFyIHBrZXkgPSB0aGlzLl9wb2ludEtleShwKTtcblx0XHRjb25uZWN0ZWRbcGtleV0gPSBwO1xuXHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG5cdH1cblxuXHQvLyB4IGlzIG5vdyBmaXhlZFxuXHR2YXIgeCA9IGJbMF07XG5cblx0aWYgKGZyb21bMV0gPCB0b1sxXSkge1xuXHRcdGEgPSBmcm9tO1xuXHRcdGIgPSB0bztcblx0fSBlbHNlIHtcblx0XHRhID0gdG87XG5cdFx0YiA9IGZyb207XG5cdH1cblx0Zm9yICh2YXIgeXkgPSBhWzFdOyB5eSA8IGJbMV07IHl5KyspIHtcblx0XHR0aGlzLl9tYXBbeF1beXldID0gMDtcblx0XHR2YXIgcCA9IFt4LCB5eV07XG5cdFx0dmFyIHBrZXkgPSB0aGlzLl9wb2ludEtleShwKTtcblx0XHRjb25uZWN0ZWRbcGtleV0gPSBwO1xuXHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRbcGtleV07XG5cdH1cbn1cblxuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2ZyZWVTcGFjZSA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIHggPj0gMCAmJiB4IDwgdGhpcy5fd2lkdGggJiYgeSA+PSAwICYmIHkgPCB0aGlzLl9oZWlnaHQgJiYgdGhpcy5fbWFwW3hdW3ldICE9IDE7XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9wb2ludEtleSA9IGZ1bmN0aW9uKHApIHtcblx0cmV0dXJuIHBbMF0gKyBcIi5cIiArIHBbMV07XG59XG5cbi8qKlxuICogQGNsYXNzIER1bmdlb24gbWFwOiBoYXMgcm9vbXMgYW5kIGNvcnJpZG9yc1xuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5EdW5nZW9uID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX3Jvb21zID0gW107IC8qIGxpc3Qgb2YgYWxsIHJvb21zICovXG5cdHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xufVxuUk9ULk1hcC5EdW5nZW9uLmV4dGVuZChST1QuTWFwKTtcblxuLyoqXG4gKiBHZXQgYWxsIGdlbmVyYXRlZCByb29tc1xuICogQHJldHVybnMge1JPVC5NYXAuRmVhdHVyZS5Sb29tW119XG4gKi9cblJPVC5NYXAuRHVuZ2Vvbi5wcm90b3R5cGUuZ2V0Um9vbXMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3Jvb21zO1xufVxuXG4vKipcbiAqIEdldCBhbGwgZ2VuZXJhdGVkIGNvcnJpZG9yc1xuICogQHJldHVybnMge1JPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcltdfVxuICovXG5ST1QuTWFwLkR1bmdlb24ucHJvdG90eXBlLmdldENvcnJpZG9ycyA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fY29ycmlkb3JzO1xufVxuLyoqXG4gKiBAY2xhc3MgUmFuZG9tIGR1bmdlb24gZ2VuZXJhdG9yIHVzaW5nIGh1bWFuLWxpa2UgZGlnZ2luZyBwYXR0ZXJucy5cbiAqIEhlYXZpbHkgYmFzZWQgb24gTWlrZSBBbmRlcnNvbidzIGlkZWFzIGZyb20gdGhlIFwiVHlyYW50XCIgYWxnbywgbWVudGlvbmVkIGF0IFxuICogaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9RHVuZ2Vvbi1CdWlsZGluZ19BbGdvcml0aG0uXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5EdW5nZW9uXG4gKi9cblJPVC5NYXAuRGlnZ2VyID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLkR1bmdlb24uY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0cm9vbVdpZHRoOiBbMywgOV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSB3aWR0aCAqL1xuXHRcdHJvb21IZWlnaHQ6IFszLCA1XSwgLyogcm9vbSBtaW5pbXVtIGFuZCBtYXhpbXVtIGhlaWdodCAqL1xuXHRcdGNvcnJpZG9yTGVuZ3RoOiBbMywgMTBdLCAvKiBjb3JyaWRvciBtaW5pbXVtIGFuZCBtYXhpbXVtIGxlbmd0aCAqL1xuXHRcdGR1Z1BlcmNlbnRhZ2U6IDAuMiwgLyogd2Ugc3RvcCBhZnRlciB0aGlzIHBlcmNlbnRhZ2Ugb2YgbGV2ZWwgYXJlYSBoYXMgYmVlbiBkdWcgb3V0ICovXG5cdFx0dGltZUxpbWl0OiAxMDAwIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBtdWNoIHRpbWUgaGFzIHBhc3NlZCAobXNlYykgKi9cblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0XG5cdHRoaXMuX2ZlYXR1cmVzID0ge1xuXHRcdFwiUm9vbVwiOiA0LFxuXHRcdFwiQ29ycmlkb3JcIjogNFxuXHR9XG5cdHRoaXMuX2ZlYXR1cmVBdHRlbXB0cyA9IDIwOyAvKiBob3cgbWFueSB0aW1lcyBkbyB3ZSB0cnkgdG8gY3JlYXRlIGEgZmVhdHVyZSBvbiBhIHN1aXRhYmxlIHdhbGwgKi9cblx0dGhpcy5fd2FsbHMgPSB7fTsgLyogdGhlc2UgYXJlIGF2YWlsYWJsZSBmb3IgZGlnZ2luZyAqL1xuXHRcblx0dGhpcy5fZGlnQ2FsbGJhY2sgPSB0aGlzLl9kaWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrID0gdGhpcy5fY2FuQmVEdWdDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9pc1dhbGxDYWxsYmFjayA9IHRoaXMuX2lzV2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrID0gdGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbn1cblJPVC5NYXAuRGlnZ2VyLmV4dGVuZChST1QuTWFwLkR1bmdlb24pO1xuXG4vKipcbiAqIENyZWF0ZSBhIG1hcFxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dGhpcy5fcm9vbXMgPSBbXTtcblx0dGhpcy5fY29ycmlkb3JzID0gW107XG5cdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdHRoaXMuX3dhbGxzID0ge307XG5cdHRoaXMuX2R1ZyA9IDA7XG5cdHZhciBhcmVhID0gKHRoaXMuX3dpZHRoLTIpICogKHRoaXMuX2hlaWdodC0yKTtcblxuXHR0aGlzLl9maXJzdFJvb20oKTtcblx0XG5cdHZhciB0MSA9IERhdGUubm93KCk7XG5cblx0ZG8ge1xuXHRcdHZhciB0MiA9IERhdGUubm93KCk7XG5cdFx0aWYgKHQyIC0gdDEgPiB0aGlzLl9vcHRpb25zLnRpbWVMaW1pdCkgeyBicmVhazsgfVxuXG5cdFx0LyogZmluZCBhIGdvb2Qgd2FsbCAqL1xuXHRcdHZhciB3YWxsID0gdGhpcy5fZmluZFdhbGwoKTtcblx0XHRpZiAoIXdhbGwpIHsgYnJlYWs7IH0gLyogbm8gbW9yZSB3YWxscyAqL1xuXHRcdFxuXHRcdHZhciBwYXJ0cyA9IHdhbGwuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdHZhciBkaXIgPSB0aGlzLl9nZXREaWdnaW5nRGlyZWN0aW9uKHgsIHkpO1xuXHRcdGlmICghZGlyKSB7IGNvbnRpbnVlOyB9IC8qIHRoaXMgd2FsbCBpcyBub3Qgc3VpdGFibGUgKi9cblx0XHRcbi8vXHRcdGNvbnNvbGUubG9nKFwid2FsbFwiLCB4LCB5KTtcblxuXHRcdC8qIHRyeSBhZGRpbmcgYSBmZWF0dXJlICovXG5cdFx0dmFyIGZlYXR1cmVBdHRlbXB0cyA9IDA7XG5cdFx0ZG8ge1xuXHRcdFx0ZmVhdHVyZUF0dGVtcHRzKys7XG5cdFx0XHRpZiAodGhpcy5fdHJ5RmVhdHVyZSh4LCB5LCBkaXJbMF0sIGRpclsxXSkpIHsgLyogZmVhdHVyZSBhZGRlZCAqL1xuXHRcdFx0XHQvL2lmICh0aGlzLl9yb29tcy5sZW5ndGggKyB0aGlzLl9jb3JyaWRvcnMubGVuZ3RoID09IDIpIHsgdGhpcy5fcm9vbXNbMF0uYWRkRG9vcih4LCB5KTsgfSAvKiBmaXJzdCByb29tIG9maWNpYWxseSBoYXMgZG9vcnMgKi9cblx0XHRcdFx0dGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4LCB5KTtcblx0XHRcdFx0dGhpcy5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyh4LWRpclswXSwgeS1kaXJbMV0pO1xuXHRcdFx0XHRicmVhazsgXG5cdFx0XHR9XG5cdFx0fSB3aGlsZSAoZmVhdHVyZUF0dGVtcHRzIDwgdGhpcy5fZmVhdHVyZUF0dGVtcHRzKTtcblx0XHRcblx0XHR2YXIgcHJpb3JpdHlXYWxscyA9IDA7XG5cdFx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fd2FsbHMpIHsgXG5cdFx0XHRpZiAodGhpcy5fd2FsbHNbaWRdID4gMSkgeyBwcmlvcml0eVdhbGxzKys7IH1cblx0XHR9XG5cblx0fSB3aGlsZSAodGhpcy5fZHVnL2FyZWEgPCB0aGlzLl9vcHRpb25zLmR1Z1BlcmNlbnRhZ2UgfHwgcHJpb3JpdHlXYWxscyk7IC8qIGZpeG1lIG51bWJlciBvZiBwcmlvcml0eSB3YWxscyAqL1xuXG5cdHRoaXMuX2FkZERvb3JzKCk7XG5cblx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHR0aGlzLl93YWxscyA9IHt9O1xuXHR0aGlzLl9tYXAgPSBudWxsO1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2RpZ0NhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSwgdmFsdWUpIHtcblx0aWYgKHZhbHVlID09IDAgfHwgdmFsdWUgPT0gMikgeyAvKiBlbXB0eSAqL1xuXHRcdHRoaXMuX21hcFt4XVt5XSA9IDA7XG5cdFx0dGhpcy5fZHVnKys7XG5cdH0gZWxzZSB7IC8qIHdhbGwgKi9cblx0XHR0aGlzLl93YWxsc1t4K1wiLFwiK3ldID0gMTtcblx0fVxufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2lzV2FsbENhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5ID49IHRoaXMuX2hlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fY2FuQmVEdWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHgrMSA+PSB0aGlzLl93aWR0aCB8fCB5KzEgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9wcmlvcml0eVdhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dGhpcy5fd2FsbHNbeCtcIixcIit5XSA9IDI7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fZmlyc3RSb29tID0gZnVuY3Rpb24oKSB7XG5cdHZhciBjeCA9IE1hdGguZmxvb3IodGhpcy5fd2lkdGgvMik7XG5cdHZhciBjeSA9IE1hdGguZmxvb3IodGhpcy5faGVpZ2h0LzIpO1xuXHR2YXIgcm9vbSA9IFJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbUNlbnRlcihjeCwgY3ksIHRoaXMuX29wdGlvbnMpO1xuXHR0aGlzLl9yb29tcy5wdXNoKHJvb20pO1xuXHRyb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG59XG5cbi8qKlxuICogR2V0IGEgc3VpdGFibGUgd2FsbFxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2ZpbmRXYWxsID0gZnVuY3Rpb24oKSB7XG5cdHZhciBwcmlvMSA9IFtdO1xuXHR2YXIgcHJpbzIgPSBbXTtcblx0Zm9yICh2YXIgaWQgaW4gdGhpcy5fd2FsbHMpIHtcblx0XHR2YXIgcHJpbyA9IHRoaXMuX3dhbGxzW2lkXTtcblx0XHRpZiAocHJpbyA9PSAyKSB7IFxuXHRcdFx0cHJpbzIucHVzaChpZCk7IFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcmlvMS5wdXNoKGlkKTtcblx0XHR9XG5cdH1cblx0XG5cdHZhciBhcnIgPSAocHJpbzIubGVuZ3RoID8gcHJpbzIgOiBwcmlvMSk7XG5cdGlmICghYXJyLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfSAvKiBubyB3YWxscyA6LyAqL1xuXHRcblx0dmFyIGlkID0gYXJyLnJhbmRvbSgpO1xuXHRkZWxldGUgdGhpcy5fd2FsbHNbaWRdO1xuXG5cdHJldHVybiBpZDtcbn1cblxuLyoqXG4gKiBUcmllcyBhZGRpbmcgYSBmZWF0dXJlXG4gKiBAcmV0dXJucyB7Ym9vbH0gd2FzIHRoaXMgYSBzdWNjZXNzZnVsIHRyeT9cbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl90cnlGZWF0dXJlID0gZnVuY3Rpb24oeCwgeSwgZHgsIGR5KSB7XG5cdHZhciBmZWF0dXJlID0gUk9ULlJORy5nZXRXZWlnaHRlZFZhbHVlKHRoaXMuX2ZlYXR1cmVzKTtcblx0ZmVhdHVyZSA9IFJPVC5NYXAuRmVhdHVyZVtmZWF0dXJlXS5jcmVhdGVSYW5kb21BdCh4LCB5LCBkeCwgZHksIHRoaXMuX29wdGlvbnMpO1xuXHRcblx0aWYgKCFmZWF0dXJlLmlzVmFsaWQodGhpcy5faXNXYWxsQ2FsbGJhY2ssIHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2spKSB7XG4vL1x0XHRjb25zb2xlLmxvZyhcIm5vdCB2YWxpZFwiKTtcbi8vXHRcdGZlYXR1cmUuZGVidWcoKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0XG5cdGZlYXR1cmUuY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcbi8vXHRmZWF0dXJlLmRlYnVnKCk7XG5cblx0aWYgKGZlYXR1cmUgaW5zdGFuY2VvZiBST1QuTWFwLkZlYXR1cmUuUm9vbSkgeyB0aGlzLl9yb29tcy5wdXNoKGZlYXR1cmUpOyB9XG5cdGlmIChmZWF0dXJlIGluc3RhbmNlb2YgUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yKSB7IFxuXHRcdGZlYXR1cmUuY3JlYXRlUHJpb3JpdHlXYWxscyh0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjayk7XG5cdFx0dGhpcy5fY29ycmlkb3JzLnB1c2goZmVhdHVyZSk7IFxuXHR9XG5cdFxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9yZW1vdmVTdXJyb3VuZGluZ1dhbGxzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciBkZWx0YXMgPSBST1QuRElSU1s0XTtcblxuXHRmb3IgKHZhciBpPTA7aTxkZWx0YXMubGVuZ3RoO2krKykge1xuXHRcdHZhciBkZWx0YSA9IGRlbHRhc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGVsdGFbMF07XG5cdFx0dmFyIHkgPSBjeSArIGRlbHRhWzFdO1xuXHRcdGRlbGV0ZSB0aGlzLl93YWxsc1t4K1wiLFwiK3ldO1xuXHRcdHZhciB4ID0gY3ggKyAyKmRlbHRhWzBdO1xuXHRcdHZhciB5ID0gY3kgKyAyKmRlbHRhWzFdO1xuXHRcdGRlbGV0ZSB0aGlzLl93YWxsc1t4K1wiLFwiK3ldO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB2ZWN0b3IgaW4gXCJkaWdnaW5nXCIgZGlyZWN0aW9uLCBvciBmYWxzZSwgaWYgdGhpcyBkb2VzIG5vdCBleGlzdCAob3IgaXMgbm90IHVuaXF1ZSlcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9nZXREaWdnaW5nRGlyZWN0aW9uID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdGlmIChjeCA8PSAwIHx8IGN5IDw9IDAgfHwgY3ggPj0gdGhpcy5fd2lkdGggLSAxIHx8IGN5ID49IHRoaXMuX2hlaWdodCAtIDEpIHsgcmV0dXJuIG51bGw7IH1cblxuXHR2YXIgcmVzdWx0ID0gbnVsbDtcblx0dmFyIGRlbHRhcyA9IFJPVC5ESVJTWzRdO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8ZGVsdGFzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGVsdGEgPSBkZWx0YXNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRlbHRhWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkZWx0YVsxXTtcblx0XHRcblx0XHRpZiAoIXRoaXMuX21hcFt4XVt5XSkgeyAvKiB0aGVyZSBhbHJlYWR5IGlzIGFub3RoZXIgZW1wdHkgbmVpZ2hib3IhICovXG5cdFx0XHRpZiAocmVzdWx0KSB7IHJldHVybiBudWxsOyB9XG5cdFx0XHRyZXN1bHQgPSBkZWx0YTtcblx0XHR9XG5cdH1cblx0XG5cdC8qIG5vIGVtcHR5IG5laWdoYm9yICovXG5cdGlmICghcmVzdWx0KSB7IHJldHVybiBudWxsOyB9XG5cdFxuXHRyZXR1cm4gWy1yZXN1bHRbMF0sIC1yZXN1bHRbMV1dO1xufVxuXG4vKipcbiAqIEZpbmQgZW1wdHkgc3BhY2VzIHN1cnJvdW5kaW5nIHJvb21zLCBhbmQgYXBwbHkgZG9vcnMuXG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fYWRkRG9vcnMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGRhdGEgPSB0aGlzLl9tYXA7XG5cdHZhciBpc1dhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0XHRyZXR1cm4gKGRhdGFbeF1beV0gPT0gMSk7XG5cdH1cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9yb29tcy5sZW5ndGg7IGkrKyApIHtcblx0XHR2YXIgcm9vbSA9IHRoaXMuX3Jvb21zW2ldO1xuXHRcdHJvb20uY2xlYXJEb29ycygpO1xuXHRcdHJvb20uYWRkRG9vcnMoaXNXYWxsQ2FsbGJhY2spO1xuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIGdlbmVyYXRvciB3aGljaCB0cmllcyB0byBmaWxsIHRoZSBzcGFjZSBldmVubHkuIEdlbmVyYXRlcyBpbmRlcGVuZGVudCByb29tcyBhbmQgdHJpZXMgdG8gY29ubmVjdCB0aGVtLlxuICogQGF1Z21lbnRzIFJPVC5NYXAuRHVuZ2VvblxuICovXG5ST1QuTWFwLlVuaWZvcm0gPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuRHVuZ2Vvbi5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0cm9vbVdpZHRoOiBbMywgOV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSB3aWR0aCAqL1xuXHRcdHJvb21IZWlnaHQ6IFszLCA1XSwgLyogcm9vbSBtaW5pbXVtIGFuZCBtYXhpbXVtIGhlaWdodCAqL1xuXHRcdHJvb21EdWdQZXJjZW50YWdlOiAwLjEsIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBwZXJjZW50YWdlIG9mIGxldmVsIGFyZWEgaGFzIGJlZW4gZHVnIG91dCBieSByb29tcyAqL1xuXHRcdHRpbWVMaW1pdDogMTAwMCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgbXVjaCB0aW1lIGhhcyBwYXNzZWQgKG1zZWMpICovXG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cblx0dGhpcy5fcm9vbUF0dGVtcHRzID0gMjA7IC8qIG5ldyByb29tIGlzIGNyZWF0ZWQgTi10aW1lcyB1bnRpbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gZ2VuZXJhdGUgKi9cblx0dGhpcy5fY29ycmlkb3JBdHRlbXB0cyA9IDIwOyAvKiBjb3JyaWRvcnMgYXJlIHRyaWVkIE4tdGltZXMgdW50aWwgdGhlIGxldmVsIGlzIGNvbnNpZGVyZWQgYXMgaW1wb3NzaWJsZSB0byBjb25uZWN0ICovXG5cblx0dGhpcy5fY29ubmVjdGVkID0gW107IC8qIGxpc3Qgb2YgYWxyZWFkeSBjb25uZWN0ZWQgcm9vbXMgKi9cblx0dGhpcy5fdW5jb25uZWN0ZWQgPSBbXTsgLyogbGlzdCBvZiByZW1haW5pbmcgdW5jb25uZWN0ZWQgcm9vbXMgKi9cblx0XG5cdHRoaXMuX2RpZ0NhbGxiYWNrID0gdGhpcy5fZGlnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5fY2FuQmVEdWdDYWxsYmFjayA9IHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5faXNXYWxsQ2FsbGJhY2sgPSB0aGlzLl9pc1dhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xufVxuUk9ULk1hcC5Vbmlmb3JtLmV4dGVuZChST1QuTWFwLkR1bmdlb24pO1xuXG4vKipcbiAqIENyZWF0ZSBhIG1hcC4gSWYgdGhlIHRpbWUgbGltaXQgaGFzIGJlZW4gaGl0LCByZXR1cm5zIG51bGwuXG4gKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHQxID0gRGF0ZS5ub3coKTtcblx0d2hpbGUgKDEpIHtcblx0XHR2YXIgdDIgPSBEYXRlLm5vdygpO1xuXHRcdGlmICh0MiAtIHQxID4gdGhpcy5fb3B0aW9ucy50aW1lTGltaXQpIHsgcmV0dXJuIG51bGw7IH0gLyogdGltZSBsaW1pdCEgKi9cblx0XG5cdFx0dGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XHR0aGlzLl9kdWcgPSAwO1xuXHRcdHRoaXMuX3Jvb21zID0gW107XG5cdFx0dGhpcy5fdW5jb25uZWN0ZWQgPSBbXTtcblx0XHR0aGlzLl9nZW5lcmF0ZVJvb21zKCk7XG5cdFx0aWYgKHRoaXMuX3Jvb21zLmxlbmd0aCA8IDIpIHsgY29udGludWU7IH1cblx0XHRpZiAodGhpcy5fZ2VuZXJhdGVDb3JyaWRvcnMoKSkgeyBicmVhazsgfVxuXHR9XG5cdFxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHN1aXRhYmxlIGFtb3VudCBvZiByb29tc1xuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZVJvb21zID0gZnVuY3Rpb24oKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGgtMjtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQtMjtcblxuXHRkbyB7XG5cdFx0dmFyIHJvb20gPSB0aGlzLl9nZW5lcmF0ZVJvb20oKTtcblx0XHRpZiAodGhpcy5fZHVnLyh3KmgpID4gdGhpcy5fb3B0aW9ucy5yb29tRHVnUGVyY2VudGFnZSkgeyBicmVhazsgfSAvKiBhY2hpZXZlZCByZXF1ZXN0ZWQgYW1vdW50IG9mIGZyZWUgc3BhY2UgKi9cblx0fSB3aGlsZSAocm9vbSk7XG5cblx0LyogZWl0aGVyIGVub3VnaCByb29tcywgb3Igbm90IGFibGUgdG8gZ2VuZXJhdGUgbW9yZSBvZiB0aGVtIDopICovXG59XG5cbi8qKlxuICogVHJ5IHRvIGdlbmVyYXRlIG9uZSByb29tXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2dlbmVyYXRlUm9vbSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY291bnQgPSAwO1xuXHR3aGlsZSAoY291bnQgPCB0aGlzLl9yb29tQXR0ZW1wdHMpIHtcblx0XHRjb3VudCsrO1xuXHRcdFxuXHRcdHZhciByb29tID0gUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tKHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQsIHRoaXMuX29wdGlvbnMpO1xuXHRcdGlmICghcm9vbS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkgeyBjb250aW51ZTsgfVxuXHRcdFxuXHRcdHJvb20uY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcblx0XHR0aGlzLl9yb29tcy5wdXNoKHJvb20pO1xuXHRcdHJldHVybiByb29tO1xuXHR9IFxuXG5cdC8qIG5vIHJvb20gd2FzIGdlbmVyYXRlZCBpbiBhIGdpdmVuIG51bWJlciBvZiBhdHRlbXB0cyAqL1xuXHRyZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgY29ubmVjdG9ycyBiZXdlZW4gcm9vbXNcbiAqIEByZXR1cm5zIHtib29sfSBzdWNjZXNzIFdhcyB0aGlzIGF0dGVtcHQgc3VjY2Vzc2Z1bGw/XG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2dlbmVyYXRlQ29ycmlkb3JzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBjbnQgPSAwO1xuXHR3aGlsZSAoY250IDwgdGhpcy5fY29ycmlkb3JBdHRlbXB0cykge1xuXHRcdGNudCsrO1xuXHRcdHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuXG5cdFx0LyogZGlnIHJvb21zIGludG8gYSBjbGVhciBtYXAgKi9cblx0XHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHRcdGZvciAodmFyIGk9MDtpPHRoaXMuX3Jvb21zLmxlbmd0aDtpKyspIHsgXG5cdFx0XHR2YXIgcm9vbSA9IHRoaXMuX3Jvb21zW2ldO1xuXHRcdFx0cm9vbS5jbGVhckRvb3JzKCk7XG5cdFx0XHRyb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7IFxuXHRcdH1cblxuXHRcdHRoaXMuX3VuY29ubmVjdGVkID0gdGhpcy5fcm9vbXMuc2xpY2UoKS5yYW5kb21pemUoKTtcblx0XHR0aGlzLl9jb25uZWN0ZWQgPSBbXTtcblx0XHRpZiAodGhpcy5fdW5jb25uZWN0ZWQubGVuZ3RoKSB7IHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHRoaXMuX3VuY29ubmVjdGVkLnBvcCgpKTsgfSAvKiBmaXJzdCBvbmUgaXMgYWx3YXlzIGNvbm5lY3RlZCAqL1xuXHRcdFxuXHRcdHdoaWxlICgxKSB7XG5cdFx0XHQvKiAxLiBwaWNrIHJhbmRvbSBjb25uZWN0ZWQgcm9vbSAqL1xuXHRcdFx0dmFyIGNvbm5lY3RlZCA9IHRoaXMuX2Nvbm5lY3RlZC5yYW5kb20oKTtcblx0XHRcdFxuXHRcdFx0LyogMi4gZmluZCBjbG9zZXN0IHVuY29ubmVjdGVkICovXG5cdFx0XHR2YXIgcm9vbTEgPSB0aGlzLl9jbG9zZXN0Um9vbSh0aGlzLl91bmNvbm5lY3RlZCwgY29ubmVjdGVkKTtcblx0XHRcdFxuXHRcdFx0LyogMy4gY29ubmVjdCBpdCB0byBjbG9zZXN0IGNvbm5lY3RlZCAqL1xuXHRcdFx0dmFyIHJvb20yID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fY29ubmVjdGVkLCByb29tMSk7XG5cdFx0XHRcblx0XHRcdHZhciBvayA9IHRoaXMuX2Nvbm5lY3RSb29tcyhyb29tMSwgcm9vbTIpO1xuXHRcdFx0aWYgKCFvaykgeyBicmVhazsgfSAvKiBzdG9wIGNvbm5lY3RpbmcsIHJlLXNodWZmbGUgKi9cblx0XHRcdFxuXHRcdFx0aWYgKCF0aGlzLl91bmNvbm5lY3RlZC5sZW5ndGgpIHsgcmV0dXJuIHRydWU7IH0gLyogZG9uZTsgbm8gcm9vbXMgcmVtYWluICovXG5cdFx0fVxuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBGb3IgYSBnaXZlbiByb29tLCBmaW5kIHRoZSBjbG9zZXN0IG9uZSBmcm9tIHRoZSBsaXN0XG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2Nsb3Nlc3RSb29tID0gZnVuY3Rpb24ocm9vbXMsIHJvb20pIHtcblx0dmFyIGRpc3QgPSBJbmZpbml0eTtcblx0dmFyIGNlbnRlciA9IHJvb20uZ2V0Q2VudGVyKCk7XG5cdHZhciByZXN1bHQgPSBudWxsO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8cm9vbXMubGVuZ3RoO2krKykge1xuXHRcdHZhciByID0gcm9vbXNbaV07XG5cdFx0dmFyIGMgPSByLmdldENlbnRlcigpO1xuXHRcdHZhciBkeCA9IGNbMF0tY2VudGVyWzBdO1xuXHRcdHZhciBkeSA9IGNbMV0tY2VudGVyWzFdO1xuXHRcdHZhciBkID0gZHgqZHgrZHkqZHk7XG5cdFx0XG5cdFx0aWYgKGQgPCBkaXN0KSB7XG5cdFx0XHRkaXN0ID0gZDtcblx0XHRcdHJlc3VsdCA9IHI7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9jb25uZWN0Um9vbXMgPSBmdW5jdGlvbihyb29tMSwgcm9vbTIpIHtcblx0Lypcblx0XHRyb29tMS5kZWJ1ZygpO1xuXHRcdHJvb20yLmRlYnVnKCk7XG5cdCovXG5cblx0dmFyIGNlbnRlcjEgPSByb29tMS5nZXRDZW50ZXIoKTtcblx0dmFyIGNlbnRlcjIgPSByb29tMi5nZXRDZW50ZXIoKTtcblxuXHR2YXIgZGlmZlggPSBjZW50ZXIyWzBdIC0gY2VudGVyMVswXTtcblx0dmFyIGRpZmZZID0gY2VudGVyMlsxXSAtIGNlbnRlcjFbMV07XG5cblx0aWYgKE1hdGguYWJzKGRpZmZYKSA8IE1hdGguYWJzKGRpZmZZKSkgeyAvKiBmaXJzdCB0cnkgY29ubmVjdGluZyBub3J0aC1zb3V0aCB3YWxscyAqL1xuXHRcdHZhciBkaXJJbmRleDEgPSAoZGlmZlkgPiAwID8gMiA6IDApO1xuXHRcdHZhciBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuXHRcdHZhciBtaW4gPSByb29tMi5nZXRMZWZ0KCk7XG5cdFx0dmFyIG1heCA9IHJvb20yLmdldFJpZ2h0KCk7XG5cdFx0dmFyIGluZGV4ID0gMDtcblx0fSBlbHNlIHsgLyogZmlyc3QgdHJ5IGNvbm5lY3RpbmcgZWFzdC13ZXN0IHdhbGxzICovXG5cdFx0dmFyIGRpckluZGV4MSA9IChkaWZmWCA+IDAgPyAxIDogMyk7XG5cdFx0dmFyIGRpckluZGV4MiA9IChkaXJJbmRleDEgKyAyKSAlIDQ7XG5cdFx0dmFyIG1pbiA9IHJvb20yLmdldFRvcCgpO1xuXHRcdHZhciBtYXggPSByb29tMi5nZXRCb3R0b20oKTtcblx0XHR2YXIgaW5kZXggPSAxO1xuXHR9XG5cblx0dmFyIHN0YXJ0ID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTEsIGRpckluZGV4MSk7IC8qIGNvcnJpZG9yIHdpbGwgc3RhcnQgaGVyZSAqL1xuXHRpZiAoIXN0YXJ0KSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdGlmIChzdGFydFtpbmRleF0gPj0gbWluICYmIHN0YXJ0W2luZGV4XSA8PSBtYXgpIHsgLyogcG9zc2libGUgdG8gY29ubmVjdCB3aXRoIHN0cmFpZ2h0IGxpbmUgKEktbGlrZSkgKi9cblx0XHR2YXIgZW5kID0gc3RhcnQuc2xpY2UoKTtcblx0XHR2YXIgdmFsdWUgPSBudWxsO1xuXHRcdHN3aXRjaCAoZGlySW5kZXgyKSB7XG5cdFx0XHRjYXNlIDA6IHZhbHVlID0gcm9vbTIuZ2V0VG9wKCktMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDE6IHZhbHVlID0gcm9vbTIuZ2V0UmlnaHQoKSsxOyBicmVhaztcblx0XHRcdGNhc2UgMjogdmFsdWUgPSByb29tMi5nZXRCb3R0b20oKSsxOyBicmVhaztcblx0XHRcdGNhc2UgMzogdmFsdWUgPSByb29tMi5nZXRMZWZ0KCktMTsgYnJlYWs7XG5cdFx0fVxuXHRcdGVuZFsoaW5kZXgrMSklMl0gPSB2YWx1ZTtcblx0XHR0aGlzLl9kaWdMaW5lKFtzdGFydCwgZW5kXSk7XG5cdFx0XG5cdH0gZWxzZSBpZiAoc3RhcnRbaW5kZXhdIDwgbWluLTEgfHwgc3RhcnRbaW5kZXhdID4gbWF4KzEpIHsgLyogbmVlZCB0byBzd2l0Y2ggdGFyZ2V0IHdhbGwgKEwtbGlrZSkgKi9cblxuXHRcdHZhciBkaWZmID0gc3RhcnRbaW5kZXhdIC0gY2VudGVyMltpbmRleF07XG5cdFx0c3dpdGNoIChkaXJJbmRleDIpIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdGNhc2UgMTpcdHZhciByb3RhdGlvbiA9IChkaWZmIDwgMCA/IDMgOiAxKTsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6XG5cdFx0XHRjYXNlIDM6XHR2YXIgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAxIDogMyk7IGJyZWFrO1xuXHRcdH1cblx0XHRkaXJJbmRleDIgPSAoZGlySW5kZXgyICsgcm90YXRpb24pICUgNDtcblx0XHRcblx0XHR2YXIgZW5kID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTIsIGRpckluZGV4Mik7XG5cdFx0aWYgKCFlbmQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0XHR2YXIgbWlkID0gWzAsIDBdO1xuXHRcdG1pZFtpbmRleF0gPSBzdGFydFtpbmRleF07XG5cdFx0dmFyIGluZGV4MiA9IChpbmRleCsxKSUyO1xuXHRcdG1pZFtpbmRleDJdID0gZW5kW2luZGV4Ml07XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIG1pZCwgZW5kXSk7XG5cdFx0XG5cdH0gZWxzZSB7IC8qIHVzZSBjdXJyZW50IHdhbGwgcGFpciwgYnV0IGFkanVzdCB0aGUgbGluZSBpbiB0aGUgbWlkZGxlIChTLWxpa2UpICovXG5cdFxuXHRcdHZhciBpbmRleDIgPSAoaW5kZXgrMSklMjtcblx0XHR2YXIgZW5kID0gdGhpcy5fcGxhY2VJbldhbGwocm9vbTIsIGRpckluZGV4Mik7XG5cdFx0aWYgKCFlbmQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0dmFyIG1pZCA9IE1hdGgucm91bmQoKGVuZFtpbmRleDJdICsgc3RhcnRbaW5kZXgyXSkvMik7XG5cblx0XHR2YXIgbWlkMSA9IFswLCAwXTtcblx0XHR2YXIgbWlkMiA9IFswLCAwXTtcblx0XHRtaWQxW2luZGV4XSA9IHN0YXJ0W2luZGV4XTtcblx0XHRtaWQxW2luZGV4Ml0gPSBtaWQ7XG5cdFx0bWlkMltpbmRleF0gPSBlbmRbaW5kZXhdO1xuXHRcdG1pZDJbaW5kZXgyXSA9IG1pZDtcblx0XHR0aGlzLl9kaWdMaW5lKFtzdGFydCwgbWlkMSwgbWlkMiwgZW5kXSk7XG5cdH1cblxuXHRyb29tMS5hZGREb29yKHN0YXJ0WzBdLCBzdGFydFsxXSk7XG5cdHJvb20yLmFkZERvb3IoZW5kWzBdLCBlbmRbMV0pO1xuXHRcblx0dmFyIGluZGV4ID0gdGhpcy5fdW5jb25uZWN0ZWQuaW5kZXhPZihyb29tMSk7XG5cdGlmIChpbmRleCAhPSAtMSkge1xuXHRcdHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG5cdFx0dGhpcy5fY29ubmVjdGVkLnB1c2gocm9vbTEpO1xuXHR9XG5cblx0dmFyIGluZGV4ID0gdGhpcy5fdW5jb25uZWN0ZWQuaW5kZXhPZihyb29tMik7XG5cdGlmIChpbmRleCAhPSAtMSkge1xuXHRcdHRoaXMuX3VuY29ubmVjdGVkLnNwbGljZShpbmRleCwgMSk7XG5cdFx0dGhpcy5fY29ubmVjdGVkLnB1c2gocm9vbTIpO1xuXHR9XG5cdFxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fcGxhY2VJbldhbGwgPSBmdW5jdGlvbihyb29tLCBkaXJJbmRleCkge1xuXHR2YXIgc3RhcnQgPSBbMCwgMF07XG5cdHZhciBkaXIgPSBbMCwgMF07XG5cdHZhciBsZW5ndGggPSAwO1xuXHRcblx0c3dpdGNoIChkaXJJbmRleCkge1xuXHRcdGNhc2UgMDpcblx0XHRcdGRpciA9IFsxLCAwXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLCByb29tLmdldFRvcCgpLTFdO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRSaWdodCgpLXJvb20uZ2V0TGVmdCgpKzE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAxOlxuXHRcdFx0ZGlyID0gWzAsIDFdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRSaWdodCgpKzEsIHJvb20uZ2V0VG9wKCldO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRCb3R0b20oKS1yb29tLmdldFRvcCgpKzE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0ZGlyID0gWzEsIDBdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCksIHJvb20uZ2V0Qm90dG9tKCkrMV07XG5cdFx0XHRsZW5ndGggPSByb29tLmdldFJpZ2h0KCktcm9vbS5nZXRMZWZ0KCkrMTtcblx0XHRicmVhaztcblx0XHRjYXNlIDM6XG5cdFx0XHRkaXIgPSBbMCwgMV07XG5cdFx0XHRzdGFydCA9IFtyb29tLmdldExlZnQoKS0xLCByb29tLmdldFRvcCgpXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0Qm90dG9tKCktcm9vbS5nZXRUb3AoKSsxO1xuXHRcdGJyZWFrO1xuXHR9XG5cdFxuXHR2YXIgYXZhaWwgPSBbXTtcblx0dmFyIGxhc3RCYWRJbmRleCA9IC0yO1xuXG5cdGZvciAodmFyIGk9MDtpPGxlbmd0aDtpKyspIHtcblx0XHR2YXIgeCA9IHN0YXJ0WzBdICsgaSpkaXJbMF07XG5cdFx0dmFyIHkgPSBzdGFydFsxXSArIGkqZGlyWzFdO1xuXHRcdGF2YWlsLnB1c2gobnVsbCk7XG5cdFx0XG5cdFx0dmFyIGlzV2FsbCA9ICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG5cdFx0aWYgKGlzV2FsbCkge1xuXHRcdFx0aWYgKGxhc3RCYWRJbmRleCAhPSBpLTEpIHsgYXZhaWxbaV0gPSBbeCwgeV07IH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGFzdEJhZEluZGV4ID0gaTtcblx0XHRcdGlmIChpKSB7IGF2YWlsW2ktMV0gPSBudWxsOyB9XG5cdFx0fVxuXHR9XG5cdFxuXHRmb3IgKHZhciBpPWF2YWlsLmxlbmd0aC0xOyBpPj0wOyBpLS0pIHtcblx0XHRpZiAoIWF2YWlsW2ldKSB7IGF2YWlsLnNwbGljZShpLCAxKTsgfVxuXHR9XG5cdHJldHVybiAoYXZhaWwubGVuZ3RoID8gYXZhaWwucmFuZG9tKCkgOiBudWxsKTtcbn1cblxuLyoqXG4gKiBEaWcgYSBwb2x5bGluZS5cbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZGlnTGluZSA9IGZ1bmN0aW9uKHBvaW50cykge1xuXHRmb3IgKHZhciBpPTE7aTxwb2ludHMubGVuZ3RoO2krKykge1xuXHRcdHZhciBzdGFydCA9IHBvaW50c1tpLTFdO1xuXHRcdHZhciBlbmQgPSBwb2ludHNbaV07XG5cdFx0dmFyIGNvcnJpZG9yID0gbmV3IFJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcihzdGFydFswXSwgc3RhcnRbMV0sIGVuZFswXSwgZW5kWzFdKTtcblx0XHRjb3JyaWRvci5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xuXHRcdHRoaXMuX2NvcnJpZG9ycy5wdXNoKGNvcnJpZG9yKTtcblx0fVxufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9kaWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlO1xuXHRpZiAodmFsdWUgPT0gMCkgeyB0aGlzLl9kdWcrKzsgfVxufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9pc1dhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9jYW5CZUR1Z0NhbGxiYWNrID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAoeCA8IDEgfHwgeSA8IDEgfHwgeCsxID49IHRoaXMuX3dpZHRoIHx8IHkrMSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG4vKipcbiAqIEBhdXRob3IgaHlha3VnZWlcbiAqIEBjbGFzcyBEdW5nZW9uIGdlbmVyYXRvciB3aGljaCB1c2VzIHRoZSBcIm9yZ2luYWxcIiBSb2d1ZSBkdW5nZW9uIGdlbmVyYXRpb24gYWxnb3JpdGhtLiBTZWUgaHR0cDovL2t1b2kuY29tL35rYW1pa2F6ZS9HYW1lRGVzaWduL2FydDA3X3JvZ3VlX2R1bmdlb24ucGhwXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICogQHBhcmFtIHtpbnR9IFt3aWR0aD1ST1QuREVGQVVMVF9XSURUSF1cbiAqIEBwYXJhbSB7aW50fSBbaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uc1xuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuY2VsbFdpZHRoPTNdIE51bWJlciBvZiBjZWxscyB0byBjcmVhdGUgb24gdGhlIGhvcml6b250YWwgKG51bWJlciBvZiByb29tcyBob3Jpem9udGFsbHkpXG4gKiBAcGFyYW0ge2ludFtdfSBbb3B0aW9ucy5jZWxsSGVpZ2h0PTNdIE51bWJlciBvZiBjZWxscyB0byBjcmVhdGUgb24gdGhlIHZlcnRpY2FsIChudW1iZXIgb2Ygcm9vbXMgdmVydGljYWxseSkgXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucm9vbVdpZHRoXSBSb29tIG1pbiBhbmQgbWF4IHdpZHRoIC0gbm9ybWFsbHkgc2V0IGF1dG8tbWFnaWNhbGx5IHZpYSB0aGUgY29uc3RydWN0b3IuXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucm9vbUhlaWdodF0gUm9vbSBtaW4gYW5kIG1heCBoZWlnaHQgLSBub3JtYWxseSBzZXQgYXV0by1tYWdpY2FsbHkgdmlhIHRoZSBjb25zdHJ1Y3Rvci4gXG4gKi9cblJPVC5NYXAuUm9ndWUgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0Y2VsbFdpZHRoOiAzLCAgLy8gTk9URSB0byBzZWxmLCB0aGVzZSBjb3VsZCBwcm9iYWJseSB3b3JrIHRoZSBzYW1lIGFzIHRoZSByb29tV2lkdGgvcm9vbSBIZWlnaHQgdmFsdWVzXG5cdFx0Y2VsbEhlaWdodDogMyAgLy8gICAgIGllLiBhcyBhbiBhcnJheSB3aXRoIG1pbi1tYXggdmFsdWVzIGZvciBlYWNoIGRpcmVjdGlvbi4uLi5cblx0fVxuXHRcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdFxuXHQvKlxuXHRTZXQgdGhlIHJvb20gc2l6ZXMgYWNjb3JkaW5nIHRvIHRoZSBvdmVyLWFsbCB3aWR0aCBvZiB0aGUgbWFwLCBcblx0YW5kIHRoZSBjZWxsIHNpemVzLiBcblx0Ki9cblx0XG5cdGlmICghdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcInJvb21XaWR0aFwiKSkge1xuXHRcdHRoaXMuX29wdGlvbnNbXCJyb29tV2lkdGhcIl0gPSB0aGlzLl9jYWxjdWxhdGVSb29tU2l6ZSh0aGlzLl93aWR0aCwgdGhpcy5fb3B0aW9uc1tcImNlbGxXaWR0aFwiXSk7XG5cdH1cblx0aWYgKCF0aGlzLl9vcHRpb25zLmhhc093blByb3BlcnR5KFwicm9vbUhlaWdodFwiKSkge1xuXHRcdHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdID0gdGhpcy5fY2FsY3VsYXRlUm9vbVNpemUodGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zW1wiY2VsbEhlaWdodFwiXSk7XG5cdH1cblx0XG59XG5cblJPVC5NYXAuUm9ndWUuZXh0ZW5kKFJPVC5NYXApOyBcblxuLyoqXG4gKiBAc2VlIFJPVC5NYXAjY3JlYXRlXG4gKi9cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHRoaXMubWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0dGhpcy5yb29tcyA9IFtdO1xuXHR0aGlzLmNvbm5lY3RlZENlbGxzID0gW107XG5cdFxuXHR0aGlzLl9pbml0Um9vbXMoKTtcblx0dGhpcy5fY29ubmVjdFJvb21zKCk7XG5cdHRoaXMuX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zKCk7XG5cdHRoaXMuX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucygpO1xuXHR0aGlzLl9jcmVhdGVSb29tcygpO1xuXHR0aGlzLl9jcmVhdGVDb3JyaWRvcnMoKTtcblx0XG5cdGlmIChjYWxsYmFjaykge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fd2lkdGg7IGkrKykge1xuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLl9oZWlnaHQ7IGorKykge1xuXHRcdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLm1hcFtpXVtqXSk7ICAgXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NhbGN1bGF0ZVJvb21TaXplID0gZnVuY3Rpb24oc2l6ZSwgY2VsbCkge1xuXHR2YXIgbWF4ID0gTWF0aC5mbG9vcigoc2l6ZS9jZWxsKSAqIDAuOCk7XG5cdHZhciBtaW4gPSBNYXRoLmZsb29yKChzaXplL2NlbGwpICogMC4yNSk7XG5cdGlmIChtaW4gPCAyKSBtaW4gPSAyO1xuXHRpZiAobWF4IDwgMikgbWF4ID0gMjtcblx0cmV0dXJuIFttaW4sIG1heF07XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9pbml0Um9vbXMgPSBmdW5jdGlvbiAoKSB7IFxuXHQvLyBjcmVhdGUgcm9vbXMgYXJyYXkuIFRoaXMgaXMgdGhlIFwiZ3JpZFwiIGxpc3QgZnJvbSB0aGUgYWxnby4gIFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHsgIFxuXHRcdHRoaXMucm9vbXMucHVzaChbXSk7XG5cdFx0Zm9yKHZhciBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSB7XG5cdFx0XHR0aGlzLnJvb21zW2ldLnB1c2goe1wieFwiOjAsIFwieVwiOjAsIFwid2lkdGhcIjowLCBcImhlaWdodFwiOjAsIFwiY29ubmVjdGlvbnNcIjpbXSwgXCJjZWxseFwiOmksIFwiY2VsbHlcIjpqfSk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jb25uZWN0Um9vbXMgPSBmdW5jdGlvbigpIHtcblx0Ly9waWNrIHJhbmRvbSBzdGFydGluZyBncmlkXG5cdHZhciBjZ3ggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGgtMSk7XG5cdHZhciBjZ3kgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0LTEpO1xuXHRcblx0dmFyIGlkeDtcblx0dmFyIG5jZ3g7XG5cdHZhciBuY2d5O1xuXHRcblx0dmFyIGZvdW5kID0gZmFsc2U7XG5cdHZhciByb29tO1xuXHR2YXIgb3RoZXJSb29tO1xuXHRcblx0Ly8gZmluZCAgdW5jb25uZWN0ZWQgbmVpZ2hib3VyIGNlbGxzXG5cdGRvIHtcblx0XG5cdFx0Ly92YXIgZGlyVG9DaGVjayA9IFswLDEsMiwzLDQsNSw2LDddO1xuXHRcdHZhciBkaXJUb0NoZWNrID0gWzAsMiw0LDZdO1xuXHRcdGRpclRvQ2hlY2sgPSBkaXJUb0NoZWNrLnJhbmRvbWl6ZSgpO1xuXHRcdFxuXHRcdGRvIHtcblx0XHRcdGZvdW5kID0gZmFsc2U7XG5cdFx0XHRpZHggPSBkaXJUb0NoZWNrLnBvcCgpO1xuXHRcdFx0XG5cdFx0XHRcblx0XHRcdG5jZ3ggPSBjZ3ggKyBST1QuRElSU1s4XVtpZHhdWzBdO1xuXHRcdFx0bmNneSA9IGNneSArIFJPVC5ESVJTWzhdW2lkeF1bMV07XG5cdFx0XHRcblx0XHRcdGlmKG5jZ3ggPCAwIHx8IG5jZ3ggPj0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGgpIGNvbnRpbnVlO1xuXHRcdFx0aWYobmNneSA8IDAgfHwgbmNneSA+PSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQpIGNvbnRpbnVlO1xuXHRcdFx0XG5cdFx0XHRyb29tID0gdGhpcy5yb29tc1tjZ3hdW2NneV07XG5cdFx0XHRcblx0XHRcdGlmKHJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPiAwKVxuXHRcdFx0e1xuXHRcdFx0XHQvLyBhcyBsb25nIGFzIHRoaXMgcm9vbSBkb2Vzbid0IGFscmVhZHkgY29vbmVjdCB0byBtZSwgd2UgYXJlIG9rIHdpdGggaXQuIFxuXHRcdFx0XHRpZihyb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMF0gPT0gbmNneCAmJlxuXHRcdFx0XHRyb29tW1wiY29ubmVjdGlvbnNcIl1bMF1bMV0gPT0gbmNneSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmNneF1bbmNneV07XG5cdFx0XHRcblx0XHRcdGlmIChvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPT0gMCkgeyBcblx0XHRcdFx0b3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaChbY2d4LGNneV0pO1xuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy5jb25uZWN0ZWRDZWxscy5wdXNoKFtuY2d4LCBuY2d5XSk7XG5cdFx0XHRcdGNneCA9IG5jZ3g7XG5cdFx0XHRcdGNneSA9IG5jZ3k7XG5cdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHR9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDAgJiYgZm91bmQgPT0gZmFsc2UpXG5cdFx0XG5cdH0gd2hpbGUgKGRpclRvQ2hlY2subGVuZ3RoID4gMClcblxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY29ubmVjdFVuY29ubmVjdGVkUm9vbXMgPSBmdW5jdGlvbigpIHtcblx0Ly9XaGlsZSB0aGVyZSBhcmUgdW5jb25uZWN0ZWQgcm9vbXMsIHRyeSB0byBjb25uZWN0IHRoZW0gdG8gYSByYW5kb20gY29ubmVjdGVkIG5laWdoYm9yIFxuXHQvLyhpZiBhIHJvb20gaGFzIG5vIGNvbm5lY3RlZCBuZWlnaGJvcnMgeWV0LCBqdXN0IGtlZXAgY3ljbGluZywgeW91J2xsIGZpbGwgb3V0IHRvIGl0IGV2ZW50dWFsbHkpLlxuXHR2YXIgY3cgPSB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDtcblx0dmFyIGNoID0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0O1xuXHRcblx0dmFyIHJhbmRvbUNvbm5lY3RlZENlbGw7XG5cdHRoaXMuY29ubmVjdGVkQ2VsbHMgPSB0aGlzLmNvbm5lY3RlZENlbGxzLnJhbmRvbWl6ZSgpO1xuXHR2YXIgcm9vbTtcblx0dmFyIG90aGVyUm9vbTtcblx0dmFyIHZhbGlkUm9vbTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7IGkrKykge1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0OyBqKyspICB7XG5cdFx0XHRcdFxuXHRcdFx0cm9vbSA9IHRoaXMucm9vbXNbaV1bal07XG5cdFx0XHRcblx0XHRcdGlmIChyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcblx0XHRcdFx0dmFyIGRpcmVjdGlvbnMgPSBbMCwyLDQsNl07XG5cdFx0XHRcdGRpcmVjdGlvbnMgPSBkaXJlY3Rpb25zLnJhbmRvbWl6ZSgpO1xuXHRcdFx0XHRcblx0XHRcdFx0dmFyIHZhbGlkUm9vbSA9IGZhbHNlO1xuXHRcdFx0XHRcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdHZhciBkaXJJZHggPSBkaXJlY3Rpb25zLnBvcCgpO1xuXHRcdFx0XHRcdHZhciBuZXdJID0gaSArIFJPVC5ESVJTWzhdW2RpcklkeF1bMF07XG5cdFx0XHRcdFx0dmFyIG5ld0ogPSBqICsgUk9ULkRJUlNbOF1bZGlySWR4XVsxXTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAobmV3SSA8IDAgfHwgbmV3SSA+PSBjdyB8fCBcblx0XHRcdFx0XHRuZXdKIDwgMCB8fCBuZXdKID49IGNoKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tuZXdJXVtuZXdKXTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR2YWxpZFJvb20gPSB0cnVlO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIChvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGggPT0gMCkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgb3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0XHRcdGlmKG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdWzBdID09IGkgJiYgXG5cdFx0XHRcdFx0XHRvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXVtrXVsxXSA9PSBqKSB7XG5cdFx0XHRcdFx0XHRcdHZhbGlkUm9vbSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKHZhbGlkUm9vbSkgYnJlYWs7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0gd2hpbGUgKGRpcmVjdGlvbnMubGVuZ3RoKVxuXHRcdFx0XHRcblx0XHRcdFx0aWYodmFsaWRSb29tKSB7IFxuXHRcdFx0XHRcdHJvb21bXCJjb25uZWN0aW9uc1wiXS5wdXNoKCBbb3RoZXJSb29tW1wiY2VsbHhcIl0sIG90aGVyUm9vbVtcImNlbGx5XCJdXSApOyAgXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCItLSBVbmFibGUgdG8gY29ubmVjdCByb29tLlwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY3JlYXRlUmFuZG9tUm9vbUNvbm5lY3Rpb25zID0gZnVuY3Rpb24oY29ubmVjdGlvbnMpIHtcblx0Ly8gRW1wdHkgZm9yIG5vdy4gXG59XG5cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZVJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vIENyZWF0ZSBSb29tcyBcblx0XG5cdHZhciB3ID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0O1xuXHRcblx0dmFyIGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG5cdHZhciBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcblx0XG5cdHZhciBjd3AgPSBNYXRoLmZsb29yKHRoaXMuX3dpZHRoIC8gY3cpO1xuXHR2YXIgY2hwID0gTWF0aC5mbG9vcih0aGlzLl9oZWlnaHQgLyBjaCk7XG5cdFxuXHR2YXIgcm9vbXc7XG5cdHZhciByb29taDtcblx0dmFyIHJvb21XaWR0aCA9IHRoaXMuX29wdGlvbnNbXCJyb29tV2lkdGhcIl07XG5cdHZhciByb29tSGVpZ2h0ID0gdGhpcy5fb3B0aW9uc1tcInJvb21IZWlnaHRcIl07XG5cdHZhciBzeDtcblx0dmFyIHN5O1xuXHR2YXIgdHg7XG5cdHZhciB0eTtcblx0dmFyIG90aGVyUm9vbTtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY3c7IGkrKykge1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2g7IGorKykge1xuXHRcdFx0c3ggPSBjd3AgKiBpO1xuXHRcdFx0c3kgPSBjaHAgKiBqO1xuXHRcdFx0XG5cdFx0XHRpZiAoc3ggPT0gMCkgc3ggPSAxO1xuXHRcdFx0aWYgKHN5ID09IDApIHN5ID0gMTtcblx0XHRcdFxuXHRcdFx0cm9vbXcgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQocm9vbVdpZHRoWzBdLCByb29tV2lkdGhbMV0pO1xuXHRcdFx0cm9vbWggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQocm9vbUhlaWdodFswXSwgcm9vbUhlaWdodFsxXSk7XG5cdFx0XHRcblx0XHRcdGlmIChqID4gMCkge1xuXHRcdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW2ldW2otMV07XG5cdFx0XHRcdHdoaWxlIChzeSAtIChvdGhlclJvb21bXCJ5XCJdICsgb3RoZXJSb29tW1wiaGVpZ2h0XCJdICkgPCAzKSB7XG5cdFx0XHRcdFx0c3krKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoaSA+IDApIHtcblx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tpLTFdW2pdO1xuXHRcdFx0XHR3aGlsZShzeCAtIChvdGhlclJvb21bXCJ4XCJdICsgb3RoZXJSb29tW1wid2lkdGhcIl0pIDwgMykge1xuXHRcdFx0XHRcdHN4Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dmFyIHN4T2Zmc2V0ID0gTWF0aC5yb3VuZChST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgY3dwLXJvb213KS8yKTtcblx0XHRcdHZhciBzeU9mZnNldCA9IE1hdGgucm91bmQoUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGNocC1yb29taCkvMik7XG5cdFx0XHRcblx0XHRcdHdoaWxlIChzeCArIHN4T2Zmc2V0ICsgcm9vbXcgPj0gdykge1xuXHRcdFx0XHRpZihzeE9mZnNldCkge1xuXHRcdFx0XHRcdHN4T2Zmc2V0LS07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cm9vbXctLTsgXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0d2hpbGUgKHN5ICsgc3lPZmZzZXQgKyByb29taCA+PSBoKSB7IFxuXHRcdFx0XHRpZihzeU9mZnNldCkge1xuXHRcdFx0XHRcdHN5T2Zmc2V0LS07XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cm9vbWgtLTsgXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0c3ggPSBzeCArIHN4T2Zmc2V0O1xuXHRcdFx0c3kgPSBzeSArIHN5T2Zmc2V0O1xuXHRcdFx0XG5cdFx0XHR0aGlzLnJvb21zW2ldW2pdW1wieFwiXSA9IHN4O1xuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcInlcIl0gPSBzeTtcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJ3aWR0aFwiXSA9IHJvb213O1xuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcImhlaWdodFwiXSA9IHJvb21oOyAgXG5cdFx0XHRcblx0XHRcdGZvciAodmFyIGlpID0gc3g7IGlpIDwgc3ggKyByb29tdzsgaWkrKykge1xuXHRcdFx0XHRmb3IgKHZhciBqaiA9IHN5OyBqaiA8IHN5ICsgcm9vbWg7IGpqKyspIHtcblx0XHRcdFx0XHR0aGlzLm1hcFtpaV1bampdID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fSAgXG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9nZXRXYWxsUG9zaXRpb24gPSBmdW5jdGlvbihhUm9vbSwgYURpcmVjdGlvbikge1xuXHR2YXIgcng7XG5cdHZhciByeTtcblx0dmFyIGRvb3I7XG5cdFxuXHRpZiAoYURpcmVjdGlvbiA9PSAxIHx8IGFEaXJlY3Rpb24gPT0gMykge1xuXHRcdHJ4ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KGFSb29tW1wieFwiXSArIDEsIGFSb29tW1wieFwiXSArIGFSb29tW1wid2lkdGhcIl0gLSAyKTtcblx0XHRpZiAoYURpcmVjdGlvbiA9PSAxKSB7XG5cdFx0XHRyeSA9IGFSb29tW1wieVwiXSAtIDI7XG5cdFx0XHRkb29yID0gcnkgKyAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyeSA9IGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdICsgMTtcblx0XHRcdGRvb3IgPSByeSAtMTtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5tYXBbcnhdW2Rvb3JdID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLiBcblx0XHRcblx0fSBlbHNlIGlmIChhRGlyZWN0aW9uID09IDIgfHwgYURpcmVjdGlvbiA9PSA0KSB7XG5cdFx0cnkgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQoYVJvb21bXCJ5XCJdICsgMSwgYVJvb21bXCJ5XCJdICsgYVJvb21bXCJoZWlnaHRcIl0gLSAyKTtcblx0XHRpZihhRGlyZWN0aW9uID09IDIpIHtcblx0XHRcdHJ4ID0gYVJvb21bXCJ4XCJdICsgYVJvb21bXCJ3aWR0aFwiXSArIDE7XG5cdFx0XHRkb29yID0gcnggLSAxO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyeCA9IGFSb29tW1wieFwiXSAtIDI7XG5cdFx0XHRkb29yID0gcnggKyAxO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLm1hcFtkb29yXVtyeV0gPSAwOyAvLyBpJ20gbm90IHNldHRpbmcgYSBzcGVjaWZpYyAnZG9vcicgdGlsZSB2YWx1ZSByaWdodCBub3csIGp1c3QgZW1wdHkgc3BhY2UuIFxuXHRcdFxuXHR9XG5cdHJldHVybiBbcngsIHJ5XTtcbn1cblxuLyoqKlxuKiBAcGFyYW0gc3RhcnRQb3NpdGlvbiBhIDIgZWxlbWVudCBhcnJheVxuKiBAcGFyYW0gZW5kUG9zaXRpb24gYSAyIGVsZW1lbnQgYXJyYXlcbiovXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fZHJhd0NvcnJpZG9yZSA9IGZ1bmN0aW9uIChzdGFydFBvc2l0aW9uLCBlbmRQb3NpdGlvbikge1xuXHR2YXIgeE9mZnNldCA9IGVuZFBvc2l0aW9uWzBdIC0gc3RhcnRQb3NpdGlvblswXTtcblx0dmFyIHlPZmZzZXQgPSBlbmRQb3NpdGlvblsxXSAtIHN0YXJ0UG9zaXRpb25bMV07XG5cdFxuXHR2YXIgeHBvcyA9IHN0YXJ0UG9zaXRpb25bMF07XG5cdHZhciB5cG9zID0gc3RhcnRQb3NpdGlvblsxXTtcblx0XG5cdHZhciB0ZW1wRGlzdDtcblx0dmFyIHhEaXI7XG5cdHZhciB5RGlyO1xuXHRcblx0dmFyIG1vdmU7IC8vIDIgZWxlbWVudCBhcnJheSwgZWxlbWVudCAwIGlzIHRoZSBkaXJlY3Rpb24sIGVsZW1lbnQgMSBpcyB0aGUgdG90YWwgdmFsdWUgdG8gbW92ZS4gXG5cdHZhciBtb3ZlcyA9IFtdOyAvLyBhIGxpc3Qgb2YgMiBlbGVtZW50IGFycmF5c1xuXHRcblx0dmFyIHhBYnMgPSBNYXRoLmFicyh4T2Zmc2V0KTtcblx0dmFyIHlBYnMgPSBNYXRoLmFicyh5T2Zmc2V0KTtcblx0XG5cdHZhciBwZXJjZW50ID0gUk9ULlJORy5nZXRVbmlmb3JtKCk7IC8vIHVzZWQgdG8gc3BsaXQgdGhlIG1vdmUgYXQgZGlmZmVyZW50IHBsYWNlcyBhbG9uZyB0aGUgbG9uZyBheGlzXG5cdHZhciBmaXJzdEhhbGYgPSBwZXJjZW50O1xuXHR2YXIgc2Vjb25kSGFsZiA9IDEgLSBwZXJjZW50O1xuXHRcblx0eERpciA9IHhPZmZzZXQgPiAwID8gMiA6IDY7XG5cdHlEaXIgPSB5T2Zmc2V0ID4gMCA/IDQgOiAwO1xuXHRcblx0aWYgKHhBYnMgPCB5QWJzKSB7XG5cdFx0Ly8gbW92ZSBmaXJzdEhhbGYgb2YgdGhlIHkgb2Zmc2V0XG5cdFx0dGVtcERpc3QgPSBNYXRoLmNlaWwoeUFicyAqIGZpcnN0SGFsZik7XG5cdFx0bW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcblx0XHQvLyBtb3ZlIGFsbCB0aGUgeCBvZmZzZXRcblx0XHRtb3Zlcy5wdXNoKFt4RGlyLCB4QWJzXSk7XG5cdFx0Ly8gbW92ZSBzZW5kSGFsZiBvZiB0aGUgIHkgb2Zmc2V0XG5cdFx0dGVtcERpc3QgPSBNYXRoLmZsb29yKHlBYnMgKiBzZWNvbmRIYWxmKTtcblx0XHRtb3Zlcy5wdXNoKFt5RGlyLCB0ZW1wRGlzdF0pO1xuXHR9IGVsc2Uge1xuXHRcdC8vICBtb3ZlIGZpcnN0SGFsZiBvZiB0aGUgeCBvZmZzZXRcblx0XHR0ZW1wRGlzdCA9IE1hdGguY2VpbCh4QWJzICogZmlyc3RIYWxmKTtcblx0XHRtb3Zlcy5wdXNoKFt4RGlyLCB0ZW1wRGlzdF0pO1xuXHRcdC8vIG1vdmUgYWxsIHRoZSB5IG9mZnNldFxuXHRcdG1vdmVzLnB1c2goW3lEaXIsIHlBYnNdKTtcblx0XHQvLyBtb3ZlIHNlY29uZEhhbGYgb2YgdGhlIHggb2Zmc2V0LlxuXHRcdHRlbXBEaXN0ID0gTWF0aC5mbG9vcih4QWJzICogc2Vjb25kSGFsZik7XG5cdFx0bW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTsgIFxuXHR9XG5cdFxuXHR0aGlzLm1hcFt4cG9zXVt5cG9zXSA9IDA7XG5cdFxuXHR3aGlsZSAobW92ZXMubGVuZ3RoID4gMCkge1xuXHRcdG1vdmUgPSBtb3Zlcy5wb3AoKTtcblx0XHR3aGlsZSAobW92ZVsxXSA+IDApIHtcblx0XHRcdHhwb3MgKz0gUk9ULkRJUlNbOF1bbW92ZVswXV1bMF07XG5cdFx0XHR5cG9zICs9IFJPVC5ESVJTWzhdW21vdmVbMF1dWzFdO1xuXHRcdFx0dGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuXHRcdFx0bW92ZVsxXSA9IG1vdmVbMV0gLSAxO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY3JlYXRlQ29ycmlkb3JzID0gZnVuY3Rpb24gKCkge1xuXHQvLyBEcmF3IENvcnJpZG9ycyBiZXR3ZWVuIGNvbm5lY3RlZCByb29tc1xuXHRcblx0dmFyIGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG5cdHZhciBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcblx0dmFyIHJvb207XG5cdHZhciBjb25uZWN0aW9uO1xuXHR2YXIgb3RoZXJSb29tO1xuXHR2YXIgd2FsbDtcblx0dmFyIG90aGVyV2FsbDtcblx0XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgY3c7IGkrKykge1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2g7IGorKykge1xuXHRcdFx0cm9vbSA9IHRoaXMucm9vbXNbaV1bal07XG5cdFx0XHRcblx0XHRcdGZvciAodmFyIGsgPSAwOyBrIDwgcm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdGNvbm5lY3Rpb24gPSByb29tW1wiY29ubmVjdGlvbnNcIl1ba107IFxuXHRcdFx0XHRcblx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tjb25uZWN0aW9uWzBdXVtjb25uZWN0aW9uWzFdXTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIHN0YXJ0IG9uZS5cblx0XHRcdFx0Ly8gZmlndXJlIG91dCB3aGF0IHdhbGwgb3VyIGNvcnJpZG9yIHdpbGwgZW5kIG9uLiBcblx0XHRcdFx0aWYgKG90aGVyUm9vbVtcImNlbGx4XCJdID4gcm9vbVtcImNlbGx4XCJdICkge1xuXHRcdFx0XHRcdHdhbGwgPSAyO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAob3RoZXJSb29tW1wiY2VsbHhcIl0gPCByb29tW1wiY2VsbHhcIl0gKSB7XG5cdFx0XHRcdFx0d2FsbCA9IDQ7XG5cdFx0XHRcdFx0b3RoZXJXYWxsID0gMjtcblx0XHRcdFx0fSBlbHNlIGlmKG90aGVyUm9vbVtcImNlbGx5XCJdID4gcm9vbVtcImNlbGx5XCJdKSB7XG5cdFx0XHRcdFx0d2FsbCA9IDM7XG5cdFx0XHRcdFx0b3RoZXJXYWxsID0gMTtcblx0XHRcdFx0fSBlbHNlIGlmKG90aGVyUm9vbVtcImNlbGx5XCJdIDwgcm9vbVtcImNlbGx5XCJdKSB7XG5cdFx0XHRcdFx0d2FsbCA9IDE7XG5cdFx0XHRcdFx0b3RoZXJXYWxsID0gMztcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy5fZHJhd0NvcnJpZG9yZSh0aGlzLl9nZXRXYWxsUG9zaXRpb24ocm9vbSwgd2FsbCksIHRoaXMuX2dldFdhbGxQb3NpdGlvbihvdGhlclJvb20sIG90aGVyV2FsbCkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBmZWF0dXJlOyBoYXMgb3duIC5jcmVhdGUoKSBtZXRob2RcbiAqL1xuUk9ULk1hcC5GZWF0dXJlID0gZnVuY3Rpb24oKSB7fVxuUk9ULk1hcC5GZWF0dXJlLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oY2FuQmVEdWdDYWxsYmFjaykge31cblJPVC5NYXAuRmVhdHVyZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oZGlnQ2FsbGJhY2spIHt9XG5ST1QuTWFwLkZlYXR1cmUucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24oKSB7fVxuUk9ULk1hcC5GZWF0dXJlLmNyZWF0ZVJhbmRvbUF0ID0gZnVuY3Rpb24oeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7fVxuXG4vKipcbiAqIEBjbGFzcyBSb29tXG4gKiBAYXVnbWVudHMgUk9ULk1hcC5GZWF0dXJlXG4gKiBAcGFyYW0ge2ludH0geDFcbiAqIEBwYXJhbSB7aW50fSB5MVxuICogQHBhcmFtIHtpbnR9IHgyXG4gKiBAcGFyYW0ge2ludH0geTJcbiAqIEBwYXJhbSB7aW50fSBbZG9vclhdXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JZXVxuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbSA9IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyLCBkb29yWCwgZG9vclkpIHtcblx0dGhpcy5feDEgPSB4MTtcblx0dGhpcy5feTEgPSB5MTtcblx0dGhpcy5feDIgPSB4Mjtcblx0dGhpcy5feTIgPSB5Mjtcblx0dGhpcy5fZG9vcnMgPSB7fTtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiA0KSB7IHRoaXMuYWRkRG9vcihkb29yWCwgZG9vclkpOyB9XG59XG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5leHRlbmQoUk9ULk1hcC5GZWF0dXJlKTtcblxuLyoqXG4gKiBSb29tIG9mIHJhbmRvbSBzaXplLCB3aXRoIGEgZ2l2ZW4gZG9vcnMgYW5kIGRpcmVjdGlvblxuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcblx0dmFyIHdpZHRoID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG5cdHZhciBoZWlnaHQgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0aWYgKGR4ID09IDEpIHsgLyogdG8gdGhlIHJpZ2h0ICovXG5cdFx0dmFyIHkyID0geSAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkgKiBoZWlnaHQpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh4KzEsIHkyLCB4K3dpZHRoLCB5MitoZWlnaHQtMSwgeCwgeSk7XG5cdH1cblx0XG5cdGlmIChkeCA9PSAtMSkgeyAvKiB0byB0aGUgbGVmdCAqL1xuXHRcdHZhciB5MiA9IHkgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeC13aWR0aCwgeTIsIHgtMSwgeTIraGVpZ2h0LTEsIHgsIHkpO1xuXHR9XG5cblx0aWYgKGR5ID09IDEpIHsgLyogdG8gdGhlIGJvdHRvbSAqL1xuXHRcdHZhciB4MiA9IHggLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh4MiwgeSsxLCB4Mit3aWR0aC0xLCB5K2hlaWdodCwgeCwgeSk7XG5cdH1cblxuXHRpZiAoZHkgPT0gLTEpIHsgLyogdG8gdGhlIHRvcCAqL1xuXHRcdHZhciB4MiA9IHggLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogd2lkdGgpO1xuXHRcdHJldHVybiBuZXcgdGhpcyh4MiwgeS1oZWlnaHQsIHgyK3dpZHRoLTEsIHktMSwgeCwgeSk7XG5cdH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkeCBvciBkeSBtdXN0IGJlIDEgb3IgLTFcIik7XG59XG5cbi8qKlxuICogUm9vbSBvZiByYW5kb20gc2l6ZSwgcG9zaXRpb25lZCBhcm91bmQgY2VudGVyIGNvb3Jkc1xuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb21DZW50ZXIgPSBmdW5jdGlvbihjeCwgY3ksIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblxuXHR2YXIgeDEgPSBjeCAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqd2lkdGgpO1xuXHR2YXIgeTEgPSBjeSAtIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqaGVpZ2h0KTtcblx0dmFyIHgyID0geDEgKyB3aWR0aCAtIDE7XG5cdHZhciB5MiA9IHkxICsgaGVpZ2h0IC0gMTtcblxuXHRyZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xufVxuXG4vKipcbiAqIFJvb20gb2YgcmFuZG9tIHNpemUgd2l0aGluIGEgZ2l2ZW4gZGltZW5zaW9uc1xuICovXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb20gPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tV2lkdGhbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21XaWR0aFsxXTtcblx0dmFyIHdpZHRoID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21IZWlnaHRbMF07XG5cdHZhciBtYXggPSBvcHRpb25zLnJvb21IZWlnaHRbMV07XG5cdHZhciBoZWlnaHQgPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0dmFyIGxlZnQgPSBhdmFpbFdpZHRoIC0gd2lkdGggLSAxO1xuXHR2YXIgdG9wID0gYXZhaWxIZWlnaHQgLSBoZWlnaHQgLSAxO1xuXG5cdHZhciB4MSA9IDEgKyBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKmxlZnQpO1xuXHR2YXIgeTEgPSAxICsgTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSp0b3ApO1xuXHR2YXIgeDIgPSB4MSArIHdpZHRoIC0gMTtcblx0dmFyIHkyID0geTEgKyBoZWlnaHQgLSAxO1xuXG5cdHJldHVybiBuZXcgdGhpcyh4MSwgeTEsIHgyLCB5Mik7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5hZGREb29yID0gZnVuY3Rpb24oeCwgeSkge1xuXHR0aGlzLl9kb29yc1t4K1wiLFwiK3ldID0gMTtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn1cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldERvb3JzID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0Zm9yICh2YXIga2V5IGluIHRoaXMuX2Rvb3JzKSB7XG5cdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHRjYWxsYmFjayhwYXJzZUludChwYXJ0c1swXSksIHBhcnNlSW50KHBhcnRzWzFdKSk7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5jbGVhckRvb3JzID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2Rvb3JzID0ge307XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuYWRkRG9vcnMgPSBmdW5jdGlvbihpc1dhbGxDYWxsYmFjaykge1xuXHR2YXIgbGVmdCA9IHRoaXMuX3gxLTE7XG5cdHZhciByaWdodCA9IHRoaXMuX3gyKzE7XG5cdHZhciB0b3AgPSB0aGlzLl95MS0xO1xuXHR2YXIgYm90dG9tID0gdGhpcy5feTIrMTtcblxuXHRmb3IgKHZhciB4PWxlZnQ7IHg8PXJpZ2h0OyB4KyspIHtcblx0XHRmb3IgKHZhciB5PXRvcDsgeTw9Ym90dG9tOyB5KyspIHtcblx0XHRcdGlmICh4ICE9IGxlZnQgJiYgeCAhPSByaWdodCAmJiB5ICE9IHRvcCAmJiB5ICE9IGJvdHRvbSkgeyBjb250aW51ZTsgfVxuXHRcdFx0aWYgKGlzV2FsbENhbGxiYWNrKHgsIHkpKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdHRoaXMuYWRkRG9vcih4LCB5KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKFwicm9vbVwiLCB0aGlzLl94MSwgdGhpcy5feTEsIHRoaXMuX3gyLCB0aGlzLl95Mik7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5pc1ZhbGlkID0gZnVuY3Rpb24oaXNXYWxsQ2FsbGJhY2ssIGNhbkJlRHVnQ2FsbGJhY2spIHsgXG5cdHZhciBsZWZ0ID0gdGhpcy5feDEtMTtcblx0dmFyIHJpZ2h0ID0gdGhpcy5feDIrMTtcblx0dmFyIHRvcCA9IHRoaXMuX3kxLTE7XG5cdHZhciBib3R0b20gPSB0aGlzLl95MisxO1xuXHRcblx0Zm9yICh2YXIgeD1sZWZ0OyB4PD1yaWdodDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeT10b3A7IHk8PWJvdHRvbTsgeSsrKSB7XG5cdFx0XHRpZiAoeCA9PSBsZWZ0IHx8IHggPT0gcmlnaHQgfHwgeSA9PSB0b3AgfHwgeSA9PSBib3R0b20pIHtcblx0XHRcdFx0aWYgKCFpc1dhbGxDYWxsYmFjayh4LCB5KSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghY2FuQmVEdWdDYWxsYmFjayh4LCB5KSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBkaWdDYWxsYmFjayBEaWcgY2FsbGJhY2sgd2l0aCBhIHNpZ25hdHVyZSAoeCwgeSwgdmFsdWUpLiBWYWx1ZXM6IDAgPSBlbXB0eSwgMSA9IHdhbGwsIDIgPSBkb29yLiBNdWx0aXBsZSBkb29ycyBhcmUgYWxsb3dlZC5cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7IFxuXHR2YXIgbGVmdCA9IHRoaXMuX3gxLTE7XG5cdHZhciByaWdodCA9IHRoaXMuX3gyKzE7XG5cdHZhciB0b3AgPSB0aGlzLl95MS0xO1xuXHR2YXIgYm90dG9tID0gdGhpcy5feTIrMTtcblx0XG5cdHZhciB2YWx1ZSA9IDA7XG5cdGZvciAodmFyIHg9bGVmdDsgeDw9cmlnaHQ7IHgrKykge1xuXHRcdGZvciAodmFyIHk9dG9wOyB5PD1ib3R0b207IHkrKykge1xuXHRcdFx0aWYgKHgrXCIsXCIreSBpbiB0aGlzLl9kb29ycykge1xuXHRcdFx0XHR2YWx1ZSA9IDI7XG5cdFx0XHR9IGVsc2UgaWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG5cdFx0XHRcdHZhbHVlID0gMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbHVlID0gMDtcblx0XHRcdH1cblx0XHRcdGRpZ0NhbGxiYWNrKHgsIHksIHZhbHVlKTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gW01hdGgucm91bmQoKHRoaXMuX3gxICsgdGhpcy5feDIpLzIpLCBNYXRoLnJvdW5kKCh0aGlzLl95MSArIHRoaXMuX3kyKS8yKV07XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRMZWZ0ID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl94MTtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldFJpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl94Mjtcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmdldFRvcCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feTE7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRCb3R0b20gPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3kyO1xufVxuXG4vKipcbiAqIEBjbGFzcyBDb3JyaWRvclxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WFxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WVxuICogQHBhcmFtIHtpbnR9IGVuZFhcbiAqIEBwYXJhbSB7aW50fSBlbmRZXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvciA9IGZ1bmN0aW9uKHN0YXJ0WCwgc3RhcnRZLCBlbmRYLCBlbmRZKSB7XG5cdHRoaXMuX3N0YXJ0WCA9IHN0YXJ0WDtcblx0dGhpcy5fc3RhcnRZID0gc3RhcnRZO1xuXHR0aGlzLl9lbmRYID0gZW5kWDsgXG5cdHRoaXMuX2VuZFkgPSBlbmRZO1xuXHR0aGlzLl9lbmRzV2l0aEFXYWxsID0gdHJ1ZTtcbn1cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5leHRlbmQoUk9ULk1hcC5GZWF0dXJlKTtcblxuUk9ULk1hcC5GZWF0dXJlLkNvcnJpZG9yLmNyZWF0ZVJhbmRvbUF0ID0gZnVuY3Rpb24oeCwgeSwgZHgsIGR5LCBvcHRpb25zKSB7XG5cdHZhciBtaW4gPSBvcHRpb25zLmNvcnJpZG9yTGVuZ3RoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFsxXTtcblx0dmFyIGxlbmd0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHRyZXR1cm4gbmV3IHRoaXMoeCwgeSwgeCArIGR4Kmxlbmd0aCwgeSArIGR5Kmxlbmd0aCk7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbigpIHtcblx0Y29uc29sZS5sb2coXCJjb3JyaWRvclwiLCB0aGlzLl9zdGFydFgsIHRoaXMuX3N0YXJ0WSwgdGhpcy5fZW5kWCwgdGhpcy5fZW5kWSk7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKXsgXG5cdHZhciBzeCA9IHRoaXMuX3N0YXJ0WDtcblx0dmFyIHN5ID0gdGhpcy5fc3RhcnRZO1xuXHR2YXIgZHggPSB0aGlzLl9lbmRYLXN4O1xuXHR2YXIgZHkgPSB0aGlzLl9lbmRZLXN5O1xuXHR2YXIgbGVuZ3RoID0gMSArIE1hdGgubWF4KE1hdGguYWJzKGR4KSwgTWF0aC5hYnMoZHkpKTtcblx0XG5cdGlmIChkeCkgeyBkeCA9IGR4L01hdGguYWJzKGR4KTsgfVxuXHRpZiAoZHkpIHsgZHkgPSBkeS9NYXRoLmFicyhkeSk7IH1cblx0dmFyIG54ID0gZHk7XG5cdHZhciBueSA9IC1keDtcblx0XG5cdHZhciBvayA9IHRydWU7XG5cdGZvciAodmFyIGk9MDsgaTxsZW5ndGg7IGkrKykge1xuXHRcdHZhciB4ID0gc3ggKyBpKmR4O1xuXHRcdHZhciB5ID0gc3kgKyBpKmR5O1xuXG5cdFx0aWYgKCFjYW5CZUR1Z0NhbGxiYWNrKCAgICAgeCwgICAgICB5KSkgeyBvayA9IGZhbHNlOyB9XG5cdFx0aWYgKCFpc1dhbGxDYWxsYmFjayAgKHggKyBueCwgeSArIG55KSkgeyBvayA9IGZhbHNlOyB9XG5cdFx0aWYgKCFpc1dhbGxDYWxsYmFjayAgKHggLSBueCwgeSAtIG55KSkgeyBvayA9IGZhbHNlOyB9XG5cdFx0XG5cdFx0aWYgKCFvaykge1xuXHRcdFx0bGVuZ3RoID0gaTtcblx0XHRcdHRoaXMuX2VuZFggPSB4LWR4O1xuXHRcdFx0dGhpcy5fZW5kWSA9IHktZHk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBJZiB0aGUgbGVuZ3RoIGRlZ2VuZXJhdGVkLCB0aGlzIGNvcnJpZG9yIG1pZ2h0IGJlIGludmFsaWRcblx0ICovXG5cdCBcblx0Lyogbm90IHN1cHBvcnRlZCAqL1xuXHRpZiAobGVuZ3RoID09IDApIHsgcmV0dXJuIGZhbHNlOyB9IFxuXHRcblx0IC8qIGxlbmd0aCAxIGFsbG93ZWQgb25seSBpZiB0aGUgbmV4dCBzcGFjZSBpcyBlbXB0eSAqL1xuXHRpZiAobGVuZ3RoID09IDEgJiYgaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcblx0LyoqXG5cdCAqIFdlIGRvIG5vdCB3YW50IHRoZSBjb3JyaWRvciB0byBjcmFzaCBpbnRvIGEgY29ybmVyIG9mIGEgcm9vbTtcblx0ICogaWYgYW55IG9mIHRoZSBlbmRpbmcgY29ybmVycyBpcyBlbXB0eSwgdGhlIE4rMXRoIGNlbGwgb2YgdGhpcyBjb3JyaWRvciBtdXN0IGJlIGVtcHR5IHRvby5cblx0ICogXG5cdCAqIFNpdHVhdGlvbjpcblx0ICogIyMjIyMjIzFcblx0ICogLi4uLi4uLj9cblx0ICogIyMjIyMjIzJcblx0ICogXG5cdCAqIFRoZSBjb3JyaWRvciB3YXMgZHVnIGZyb20gbGVmdCB0byByaWdodC5cblx0ICogMSwgMiAtIHByb2JsZW1hdGljIGNvcm5lcnMsID8gPSBOKzF0aCBjZWxsIChub3QgZHVnKVxuXHQgKi9cblx0dmFyIGZpcnN0Q29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCArIG54LCB0aGlzLl9lbmRZICsgZHkgKyBueSk7XG5cdHZhciBzZWNvbmRDb3JuZXJCYWQgPSAhaXNXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4IC0gbngsIHRoaXMuX2VuZFkgKyBkeSAtIG55KTtcblx0dGhpcy5fZW5kc1dpdGhBV2FsbCA9IGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcblx0aWYgKChmaXJzdENvcm5lckJhZCB8fCBzZWNvbmRDb3JuZXJCYWQpICYmIHRoaXMuX2VuZHNXaXRoQVdhbGwpIHsgcmV0dXJuIGZhbHNlOyB9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHkuXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oZGlnQ2FsbGJhY2spIHsgXG5cdHZhciBzeCA9IHRoaXMuX3N0YXJ0WDtcblx0dmFyIHN5ID0gdGhpcy5fc3RhcnRZO1xuXHR2YXIgZHggPSB0aGlzLl9lbmRYLXN4O1xuXHR2YXIgZHkgPSB0aGlzLl9lbmRZLXN5O1xuXHR2YXIgbGVuZ3RoID0gMStNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG5cdFxuXHRpZiAoZHgpIHsgZHggPSBkeC9NYXRoLmFicyhkeCk7IH1cblx0aWYgKGR5KSB7IGR5ID0gZHkvTWF0aC5hYnMoZHkpOyB9XG5cdHZhciBueCA9IGR5O1xuXHR2YXIgbnkgPSAtZHg7XG5cdFxuXHRmb3IgKHZhciBpPTA7IGk8bGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgeCA9IHN4ICsgaSpkeDtcblx0XHR2YXIgeSA9IHN5ICsgaSpkeTtcblx0XHRkaWdDYWxsYmFjayh4LCB5LCAwKTtcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5wcm90b3R5cGUuY3JlYXRlUHJpb3JpdHlXYWxscyA9IGZ1bmN0aW9uKHByaW9yaXR5V2FsbENhbGxiYWNrKSB7XG5cdGlmICghdGhpcy5fZW5kc1dpdGhBV2FsbCkgeyByZXR1cm47IH1cblxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblxuXHR2YXIgZHggPSB0aGlzLl9lbmRYLXN4O1xuXHR2YXIgZHkgPSB0aGlzLl9lbmRZLXN5O1xuXHRpZiAoZHgpIHsgZHggPSBkeC9NYXRoLmFicyhkeCk7IH1cblx0aWYgKGR5KSB7IGR5ID0gZHkvTWF0aC5hYnMoZHkpOyB9XG5cdHZhciBueCA9IGR5O1xuXHR2YXIgbnkgPSAtZHg7XG5cblx0cHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIGR4LCB0aGlzLl9lbmRZICsgZHkpO1xuXHRwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgbngsIHRoaXMuX2VuZFkgKyBueSk7XG5cdHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggLSBueCwgdGhpcy5fZW5kWSAtIG55KTtcbn1cbi8qKlxuICogQGNsYXNzIEJhc2Ugbm9pc2UgZ2VuZXJhdG9yXG4gKi9cblJPVC5Ob2lzZSA9IGZ1bmN0aW9uKCkge1xufTtcblxuUk9ULk5vaXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbih4LCB5KSB7fVxuLyoqXG4gKiBBIHNpbXBsZSAyZCBpbXBsZW1lbnRhdGlvbiBvZiBzaW1wbGV4IG5vaXNlIGJ5IE9uZHJlaiBaYXJhXG4gKlxuICogQmFzZWQgb24gYSBzcGVlZC1pbXByb3ZlZCBzaW1wbGV4IG5vaXNlIGFsZ29yaXRobSBmb3IgMkQsIDNEIGFuZCA0RCBpbiBKYXZhLlxuICogV2hpY2ggaXMgYmFzZWQgb24gZXhhbXBsZSBjb2RlIGJ5IFN0ZWZhbiBHdXN0YXZzb24gKHN0ZWd1QGl0bi5saXUuc2UpLlxuICogV2l0aCBPcHRpbWlzYXRpb25zIGJ5IFBldGVyIEVhc3RtYW4gKHBlYXN0bWFuQGRyaXp6bGUuc3RhbmZvcmQuZWR1KS5cbiAqIEJldHRlciByYW5rIG9yZGVyaW5nIG1ldGhvZCBieSBTdGVmYW4gR3VzdGF2c29uIGluIDIwMTIuXG4gKi9cblxuLyoqXG4gKiBAY2xhc3MgMkQgc2ltcGxleCBub2lzZSBnZW5lcmF0b3JcbiAqIEBwYXJhbSB7aW50fSBbZ3JhZGllbnRzPTI1Nl0gUmFuZG9tIGdyYWRpZW50c1xuICovXG5ST1QuTm9pc2UuU2ltcGxleCA9IGZ1bmN0aW9uKGdyYWRpZW50cykge1xuXHRST1QuTm9pc2UuY2FsbCh0aGlzKTtcblxuXHR0aGlzLl9GMiA9IDAuNSAqIChNYXRoLnNxcnQoMykgLSAxKTtcblx0dGhpcy5fRzIgPSAoMyAtIE1hdGguc3FydCgzKSkgLyA2O1xuXG5cdHRoaXMuX2dyYWRpZW50cyA9IFtcblx0XHRbIDAsIC0xXSxcblx0XHRbIDEsIC0xXSxcblx0XHRbIDEsICAwXSxcblx0XHRbIDEsICAxXSxcblx0XHRbIDAsICAxXSxcblx0XHRbLTEsICAxXSxcblx0XHRbLTEsICAwXSxcblx0XHRbLTEsIC0xXVxuXHRdO1xuXG5cdHZhciBwZXJtdXRhdGlvbnMgPSBbXTtcblx0dmFyIGNvdW50ID0gZ3JhZGllbnRzIHx8IDI1Njtcblx0Zm9yICh2YXIgaT0wO2k8Y291bnQ7aSsrKSB7IHBlcm11dGF0aW9ucy5wdXNoKGkpOyB9XG5cdHBlcm11dGF0aW9ucyA9IHBlcm11dGF0aW9ucy5yYW5kb21pemUoKTtcblxuXHR0aGlzLl9wZXJtcyA9IFtdO1xuXHR0aGlzLl9pbmRleGVzID0gW107XG5cblx0Zm9yICh2YXIgaT0wO2k8Mipjb3VudDtpKyspIHtcblx0XHR0aGlzLl9wZXJtcy5wdXNoKHBlcm11dGF0aW9uc1tpICUgY291bnRdKTtcblx0XHR0aGlzLl9pbmRleGVzLnB1c2godGhpcy5fcGVybXNbaV0gJSB0aGlzLl9ncmFkaWVudHMubGVuZ3RoKTtcblx0fVxuXG59O1xuUk9ULk5vaXNlLlNpbXBsZXguZXh0ZW5kKFJPVC5Ob2lzZSk7XG5cblJPVC5Ob2lzZS5TaW1wbGV4LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbih4aW4sIHlpbikge1xuXHR2YXIgcGVybXMgPSB0aGlzLl9wZXJtcztcblx0dmFyIGluZGV4ZXMgPSB0aGlzLl9pbmRleGVzO1xuXHR2YXIgY291bnQgPSBwZXJtcy5sZW5ndGgvMjtcblx0dmFyIEcyID0gdGhpcy5fRzI7XG5cblx0dmFyIG4wID0wLCBuMSA9IDAsIG4yID0gMCwgZ2k7IC8vIE5vaXNlIGNvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuXG5cdC8vIFNrZXcgdGhlIGlucHV0IHNwYWNlIHRvIGRldGVybWluZSB3aGljaCBzaW1wbGV4IGNlbGwgd2UncmUgaW5cblx0dmFyIHMgPSAoeGluICsgeWluKSAqIHRoaXMuX0YyOyAvLyBIYWlyeSBmYWN0b3IgZm9yIDJEXG5cdHZhciBpID0gTWF0aC5mbG9vcih4aW4gKyBzKTtcblx0dmFyIGogPSBNYXRoLmZsb29yKHlpbiArIHMpO1xuXHR2YXIgdCA9IChpICsgaikgKiBHMjtcblx0dmFyIFgwID0gaSAtIHQ7IC8vIFVuc2tldyB0aGUgY2VsbCBvcmlnaW4gYmFjayB0byAoeCx5KSBzcGFjZVxuXHR2YXIgWTAgPSBqIC0gdDtcblx0dmFyIHgwID0geGluIC0gWDA7IC8vIFRoZSB4LHkgZGlzdGFuY2VzIGZyb20gdGhlIGNlbGwgb3JpZ2luXG5cdHZhciB5MCA9IHlpbiAtIFkwO1xuXG5cdC8vIEZvciB0aGUgMkQgY2FzZSwgdGhlIHNpbXBsZXggc2hhcGUgaXMgYW4gZXF1aWxhdGVyYWwgdHJpYW5nbGUuXG5cdC8vIERldGVybWluZSB3aGljaCBzaW1wbGV4IHdlIGFyZSBpbi5cblx0dmFyIGkxLCBqMTsgLy8gT2Zmc2V0cyBmb3Igc2Vjb25kIChtaWRkbGUpIGNvcm5lciBvZiBzaW1wbGV4IGluIChpLGopIGNvb3Jkc1xuXHRpZiAoeDAgPiB5MCkge1xuXHRcdGkxID0gMTtcblx0XHRqMSA9IDA7XG5cdH0gZWxzZSB7IC8vIGxvd2VyIHRyaWFuZ2xlLCBYWSBvcmRlcjogKDAsMCktPigxLDApLT4oMSwxKVxuXHRcdGkxID0gMDtcblx0XHRqMSA9IDE7XG5cdH0gLy8gdXBwZXIgdHJpYW5nbGUsIFlYIG9yZGVyOiAoMCwwKS0+KDAsMSktPigxLDEpXG5cblx0Ly8gQSBzdGVwIG9mICgxLDApIGluIChpLGopIG1lYW5zIGEgc3RlcCBvZiAoMS1jLC1jKSBpbiAoeCx5KSwgYW5kXG5cdC8vIGEgc3RlcCBvZiAoMCwxKSBpbiAoaSxqKSBtZWFucyBhIHN0ZXAgb2YgKC1jLDEtYykgaW4gKHgseSksIHdoZXJlXG5cdC8vIGMgPSAoMy1zcXJ0KDMpKS82XG5cdHZhciB4MSA9IHgwIC0gaTEgKyBHMjsgLy8gT2Zmc2V0cyBmb3IgbWlkZGxlIGNvcm5lciBpbiAoeCx5KSB1bnNrZXdlZCBjb29yZHNcblx0dmFyIHkxID0geTAgLSBqMSArIEcyO1xuXHR2YXIgeDIgPSB4MCAtIDEgKyAyKkcyOyAvLyBPZmZzZXRzIGZvciBsYXN0IGNvcm5lciBpbiAoeCx5KSB1bnNrZXdlZCBjb29yZHNcblx0dmFyIHkyID0geTAgLSAxICsgMipHMjtcblxuXHQvLyBXb3JrIG91dCB0aGUgaGFzaGVkIGdyYWRpZW50IGluZGljZXMgb2YgdGhlIHRocmVlIHNpbXBsZXggY29ybmVyc1xuXHR2YXIgaWkgPSBpLm1vZChjb3VudCk7XG5cdHZhciBqaiA9IGoubW9kKGNvdW50KTtcblxuXHQvLyBDYWxjdWxhdGUgdGhlIGNvbnRyaWJ1dGlvbiBmcm9tIHRoZSB0aHJlZSBjb3JuZXJzXG5cdHZhciB0MCA9IDAuNSAtIHgwKngwIC0geTAqeTA7XG5cdGlmICh0MCA+PSAwKSB7XG5cdFx0dDAgKj0gdDA7XG5cdFx0Z2kgPSBpbmRleGVzW2lpK3Blcm1zW2pqXV07XG5cdFx0dmFyIGdyYWQgPSB0aGlzLl9ncmFkaWVudHNbZ2ldO1xuXHRcdG4wID0gdDAgKiB0MCAqIChncmFkWzBdICogeDAgKyBncmFkWzFdICogeTApO1xuXHR9XG5cdFxuXHR2YXIgdDEgPSAwLjUgLSB4MSp4MSAtIHkxKnkxO1xuXHRpZiAodDEgPj0gMCkge1xuXHRcdHQxICo9IHQxO1xuXHRcdGdpID0gaW5kZXhlc1tpaStpMStwZXJtc1tqaitqMV1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMSA9IHQxICogdDEgKiAoZ3JhZFswXSAqIHgxICsgZ3JhZFsxXSAqIHkxKTtcblx0fVxuXHRcblx0dmFyIHQyID0gMC41IC0geDIqeDIgLSB5Mip5Mjtcblx0aWYgKHQyID49IDApIHtcblx0XHR0MiAqPSB0Mjtcblx0XHRnaSA9IGluZGV4ZXNbaWkrMStwZXJtc1tqaisxXV07XG5cdFx0dmFyIGdyYWQgPSB0aGlzLl9ncmFkaWVudHNbZ2ldO1xuXHRcdG4yID0gdDIgKiB0MiAqIChncmFkWzBdICogeDIgKyBncmFkWzFdICogeTIpO1xuXHR9XG5cblx0Ly8gQWRkIGNvbnRyaWJ1dGlvbnMgZnJvbSBlYWNoIGNvcm5lciB0byBnZXQgdGhlIGZpbmFsIG5vaXNlIHZhbHVlLlxuXHQvLyBUaGUgcmVzdWx0IGlzIHNjYWxlZCB0byByZXR1cm4gdmFsdWVzIGluIHRoZSBpbnRlcnZhbCBbLTEsMV0uXG5cdHJldHVybiA3MCAqIChuMCArIG4xICsgbjIpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgRk9WIGFsZ29yaXRobVxuICogQHBhcmFtIHtmdW5jdGlvbn0gbGlnaHRQYXNzZXNDYWxsYmFjayBEb2VzIHRoZSBsaWdodCBwYXNzIHRocm91Z2ggeCx5P1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5PThdIDQvNi84XG4gKi9cblJPVC5GT1YgPSBmdW5jdGlvbihsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKSB7XG5cdHRoaXMuX2xpZ2h0UGFzc2VzID0gbGlnaHRQYXNzZXNDYWxsYmFjaztcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHR0b3BvbG9neTogOFxuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxufTtcblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMzYwLWRlZ3JlZSBjaXJjbGVcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKHgsIHksIFIsIGNhbGxiYWNrKSB7fVxuXG4vKipcbiAqIFJldHVybiBhbGwgbmVpZ2hib3JzIGluIGEgY29uY2VudHJpYyByaW5nXG4gKiBAcGFyYW0ge2ludH0gY3ggY2VudGVyLXhcbiAqIEBwYXJhbSB7aW50fSBjeSBjZW50ZXIteVxuICogQHBhcmFtIHtpbnR9IHIgcmFuZ2VcbiAqL1xuUk9ULkZPVi5wcm90b3R5cGUuX2dldENpcmNsZSA9IGZ1bmN0aW9uKGN4LCBjeSwgcikge1xuXHR2YXIgcmVzdWx0ID0gW107XG5cdHZhciBkaXJzLCBjb3VudEZhY3Rvciwgc3RhcnRPZmZzZXQ7XG5cblx0c3dpdGNoICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5KSB7XG5cdFx0Y2FzZSA0OlxuXHRcdFx0Y291bnRGYWN0b3IgPSAxO1xuXHRcdFx0c3RhcnRPZmZzZXQgPSBbMCwgMV07XG5cdFx0XHRkaXJzID0gW1xuXHRcdFx0XHRST1QuRElSU1s4XVs3XSxcblx0XHRcdFx0Uk9ULkRJUlNbOF1bMV0sXG5cdFx0XHRcdFJPVC5ESVJTWzhdWzNdLFxuXHRcdFx0XHRST1QuRElSU1s4XVs1XVxuXHRcdFx0XVxuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA2OlxuXHRcdFx0ZGlycyA9IFJPVC5ESVJTWzZdO1xuXHRcdFx0Y291bnRGYWN0b3IgPSAxO1xuXHRcdFx0c3RhcnRPZmZzZXQgPSBbLTEsIDFdO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA4OlxuXHRcdFx0ZGlycyA9IFJPVC5ESVJTWzRdO1xuXHRcdFx0Y291bnRGYWN0b3IgPSAyO1xuXHRcdFx0c3RhcnRPZmZzZXQgPSBbLTEsIDFdO1xuXHRcdGJyZWFrO1xuXHR9XG5cblx0Lyogc3RhcnRpbmcgbmVpZ2hib3IgKi9cblx0dmFyIHggPSBjeCArIHN0YXJ0T2Zmc2V0WzBdKnI7XG5cdHZhciB5ID0gY3kgKyBzdGFydE9mZnNldFsxXSpyO1xuXG5cdC8qIGNpcmNsZSAqL1xuXHRmb3IgKHZhciBpPTA7aTxkaXJzLmxlbmd0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajxyKmNvdW50RmFjdG9yO2orKykge1xuXHRcdFx0cmVzdWx0LnB1c2goW3gsIHldKTtcblx0XHRcdHggKz0gZGlyc1tpXVswXTtcblx0XHRcdHkgKz0gZGlyc1tpXVsxXTtcblxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEBjbGFzcyBEaXNjcmV0ZSBzaGFkb3djYXN0aW5nIGFsZ29yaXRobS4gT2Jzb2xldGVkIGJ5IFByZWNpc2Ugc2hhZG93Y2FzdGluZy5cbiAqIEBhdWdtZW50cyBST1QuRk9WXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLkRpc2NyZXRlU2hhZG93Y2FzdGluZy5leHRlbmQoUk9ULkZPVik7XG5cbi8qKlxuICogQHNlZSBST1QuRk9WI2NvbXB1dGVcbiAqL1xuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge1xuXHR2YXIgY2VudGVyID0gdGhpcy5fY29vcmRzO1xuXHR2YXIgbWFwID0gdGhpcy5fbWFwO1xuXG5cdC8qIHRoaXMgcGxhY2UgaXMgYWx3YXlzIHZpc2libGUgKi9cblx0Y2FsbGJhY2soeCwgeSwgMCwgMSk7XG5cblx0Lyogc3RhbmRpbmcgaW4gYSBkYXJrIHBsYWNlLiBGSVhNRSBpcyB0aGlzIGEgZ29vZCBpZGVhPyAgKi9cblx0aWYgKCF0aGlzLl9saWdodFBhc3Nlcyh4LCB5KSkgeyByZXR1cm47IH1cblx0XG5cdC8qIHN0YXJ0IGFuZCBlbmQgYW5nbGVzICovXG5cdHZhciBEQVRBID0gW107XG5cdFxuXHR2YXIgQSwgQiwgY3gsIGN5LCBibG9ja3M7XG5cblx0LyogYW5hbHl6ZSBzdXJyb3VuZGluZyBjZWxscyBpbiBjb25jZW50cmljIHJpbmdzLCBzdGFydGluZyBmcm9tIHRoZSBjZW50ZXIgKi9cblx0Zm9yICh2YXIgcj0xOyByPD1SOyByKyspIHtcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0Q2lyY2xlKHgsIHksIHIpO1xuXHRcdHZhciBhbmdsZSA9IDM2MCAvIG5laWdoYm9ycy5sZW5ndGg7XG5cblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvcnMubGVuZ3RoO2krKykge1xuXHRcdFx0Y3ggPSBuZWlnaGJvcnNbaV1bMF07XG5cdFx0XHRjeSA9IG5laWdoYm9yc1tpXVsxXTtcblx0XHRcdEEgPSBhbmdsZSAqIChpIC0gMC41KTtcblx0XHRcdEIgPSBBICsgYW5nbGU7XG5cdFx0XHRcblx0XHRcdGJsb2NrcyA9ICF0aGlzLl9saWdodFBhc3NlcyhjeCwgY3kpO1xuXHRcdFx0aWYgKHRoaXMuX3Zpc2libGVDb29yZHMoTWF0aC5mbG9vcihBKSwgTWF0aC5jZWlsKEIpLCBibG9ja3MsIERBVEEpKSB7IGNhbGxiYWNrKGN4LCBjeSwgciwgMSk7IH1cblx0XHRcdFxuXHRcdFx0aWYgKERBVEEubGVuZ3RoID09IDIgJiYgREFUQVswXSA9PSAwICYmIERBVEFbMV0gPT0gMzYwKSB7IHJldHVybjsgfSAvKiBjdXRvZmY/ICovXG5cblx0XHR9IC8qIGZvciBhbGwgY2VsbHMgaW4gdGhpcyByaW5nICovXG5cdH0gLyogZm9yIGFsbCByaW5ncyAqL1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW50fSBBIHN0YXJ0IGFuZ2xlXG4gKiBAcGFyYW0ge2ludH0gQiBlbmQgYW5nbGVcbiAqIEBwYXJhbSB7Ym9vbH0gYmxvY2tzIERvZXMgY3VycmVudCBjZWxsIGJsb2NrIHZpc2liaWxpdHk/XG4gKiBAcGFyYW0ge2ludFtdW119IERBVEEgc2hhZG93ZWQgYW5nbGUgcGFpcnNcbiAqL1xuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl92aXNpYmxlQ29vcmRzID0gZnVuY3Rpb24oQSwgQiwgYmxvY2tzLCBEQVRBKSB7XG5cdGlmIChBIDwgMCkgeyBcblx0XHR2YXIgdjEgPSBhcmd1bWVudHMuY2FsbGVlKDAsIEIsIGJsb2NrcywgREFUQSk7XG5cdFx0dmFyIHYyID0gYXJndW1lbnRzLmNhbGxlZSgzNjArQSwgMzYwLCBibG9ja3MsIERBVEEpO1xuXHRcdHJldHVybiB2MSB8fCB2Mjtcblx0fVxuXHRcblx0dmFyIGluZGV4ID0gMDtcblx0d2hpbGUgKGluZGV4IDwgREFUQS5sZW5ndGggJiYgREFUQVtpbmRleF0gPCBBKSB7IGluZGV4Kys7IH1cblx0XG5cdGlmIChpbmRleCA9PSBEQVRBLmxlbmd0aCkgeyAvKiBjb21wbGV0ZWx5IG5ldyBzaGFkb3cgKi9cblx0XHRpZiAoYmxvY2tzKSB7IERBVEEucHVzaChBLCBCKTsgfSBcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRcblx0dmFyIGNvdW50ID0gMDtcblx0XG5cdGlmIChpbmRleCAlIDIpIHsgLyogdGhpcyBzaGFkb3cgc3RhcnRzIGluIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2l0aGluIGl0cyBlbmRpbmcgYm91bmRhcnkgKi9cblx0XHR3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEIpIHtcblx0XHRcdGluZGV4Kys7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblx0XHRcblx0XHRpZiAoY291bnQgPT0gMCkgeyByZXR1cm4gZmFsc2U7IH1cblx0XHRcblx0XHRpZiAoYmxvY2tzKSB7IFxuXHRcdFx0aWYgKGNvdW50ICUgMikge1xuXHRcdFx0XHREQVRBLnNwbGljZShpbmRleC1jb3VudCwgY291bnQsIEIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIHRydWU7XG5cblx0fSBlbHNlIHsgLyogdGhpcyBzaGFkb3cgc3RhcnRzIG91dHNpZGUgYW4gZXhpc3Rpbmcgc2hhZG93LCBvciB3aXRoaW4gYSBzdGFydGluZyBib3VuZGFyeSAqL1xuXHRcdHdoaWxlIChpbmRleCA8IERBVEEubGVuZ3RoICYmIERBVEFbaW5kZXhdIDwgQikge1xuXHRcdFx0aW5kZXgrKztcblx0XHRcdGNvdW50Kys7XG5cdFx0fVxuXHRcdFxuXHRcdC8qIHZpc2libGUgd2hlbiBvdXRzaWRlIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2hlbiBvdmVybGFwcGluZyAqL1xuXHRcdGlmIChBID09IERBVEFbaW5kZXgtY291bnRdICYmIGNvdW50ID09IDEpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XG5cdFx0aWYgKGJsb2NrcykgeyBcblx0XHRcdGlmIChjb3VudCAlIDIpIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50LCBBKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCwgQSwgQik7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFx0XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn1cbi8qKlxuICogQGNsYXNzIFByZWNpc2Ugc2hhZG93Y2FzdGluZyBhbGdvcml0aG1cbiAqIEBhdWdtZW50cyBST1QuRk9WXG4gKi9cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcgPSBmdW5jdGlvbihsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5GT1YuY2FsbCh0aGlzLCBsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKTtcbn1cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKipcbiAqIEBzZWUgUk9ULkZPViNjb21wdXRlXG4gKi9cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge1xuXHQvKiB0aGlzIHBsYWNlIGlzIGFsd2F5cyB2aXNpYmxlICovXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXG5cdC8qIHN0YW5kaW5nIGluIGEgZGFyayBwbGFjZS4gRklYTUUgaXMgdGhpcyBhIGdvb2QgaWRlYT8gICovXG5cdGlmICghdGhpcy5fbGlnaHRQYXNzZXMoeCwgeSkpIHsgcmV0dXJuOyB9XG5cdFxuXHQvKiBsaXN0IG9mIGFsbCBzaGFkb3dzICovXG5cdHZhciBTSEFET1dTID0gW107XG5cdFxuXHR2YXIgY3gsIGN5LCBibG9ja3MsIEExLCBBMiwgdmlzaWJpbGl0eTtcblxuXHQvKiBhbmFseXplIHN1cnJvdW5kaW5nIGNlbGxzIGluIGNvbmNlbnRyaWMgcmluZ3MsIHN0YXJ0aW5nIGZyb20gdGhlIGNlbnRlciAqL1xuXHRmb3IgKHZhciByPTE7IHI8PVI7IHIrKykge1xuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXRDaXJjbGUoeCwgeSwgcik7XG5cdFx0dmFyIG5laWdoYm9yQ291bnQgPSBuZWlnaGJvcnMubGVuZ3RoO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JDb3VudDtpKyspIHtcblx0XHRcdGN4ID0gbmVpZ2hib3JzW2ldWzBdO1xuXHRcdFx0Y3kgPSBuZWlnaGJvcnNbaV1bMV07XG5cdFx0XHQvKiBzaGlmdCBoYWxmLWFuLWFuZ2xlIGJhY2t3YXJkcyB0byBtYWludGFpbiBjb25zaXN0ZW5jeSBvZiAwLXRoIGNlbGxzICovXG5cdFx0XHRBMSA9IFtpID8gMippLTEgOiAyKm5laWdoYm9yQ291bnQtMSwgMipuZWlnaGJvckNvdW50XTtcblx0XHRcdEEyID0gWzIqaSsxLCAyKm5laWdoYm9yQ291bnRdOyBcblx0XHRcdFxuXHRcdFx0YmxvY2tzID0gIXRoaXMuX2xpZ2h0UGFzc2VzKGN4LCBjeSk7XG5cdFx0XHR2aXNpYmlsaXR5ID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KEExLCBBMiwgYmxvY2tzLCBTSEFET1dTKTtcblx0XHRcdGlmICh2aXNpYmlsaXR5KSB7IGNhbGxiYWNrKGN4LCBjeSwgciwgdmlzaWJpbGl0eSk7IH1cblxuXHRcdFx0aWYgKFNIQURPV1MubGVuZ3RoID09IDIgJiYgU0hBRE9XU1swXVswXSA9PSAwICYmIFNIQURPV1NbMV1bMF0gPT0gU0hBRE9XU1sxXVsxXSkgeyByZXR1cm47IH0gLyogY3V0b2ZmPyAqL1xuXG5cdFx0fSAvKiBmb3IgYWxsIGNlbGxzIGluIHRoaXMgcmluZyAqL1xuXHR9IC8qIGZvciBhbGwgcmluZ3MgKi9cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ludFsyXX0gQTEgYXJjIHN0YXJ0XG4gKiBAcGFyYW0ge2ludFsyXX0gQTIgYXJjIGVuZFxuICogQHBhcmFtIHtib29sfSBibG9ja3MgRG9lcyBjdXJyZW50IGFyYyBibG9jayB2aXNpYmlsaXR5P1xuICogQHBhcmFtIHtpbnRbXVtdfSBTSEFET1dTIGxpc3Qgb2YgYWN0aXZlIHNoYWRvd3NcbiAqL1xuUk9ULkZPVi5QcmVjaXNlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuX2NoZWNrVmlzaWJpbGl0eSA9IGZ1bmN0aW9uKEExLCBBMiwgYmxvY2tzLCBTSEFET1dTKSB7XG5cdGlmIChBMVswXSA+IEEyWzBdKSB7IC8qIHNwbGl0IGludG8gdHdvIHN1Yi1hcmNzICovXG5cdFx0dmFyIHYxID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KEExLCBbQTFbMV0sIEExWzFdXSwgYmxvY2tzLCBTSEFET1dTKTtcblx0XHR2YXIgdjIgPSB0aGlzLl9jaGVja1Zpc2liaWxpdHkoWzAsIDFdLCBBMiwgYmxvY2tzLCBTSEFET1dTKTtcblx0XHRyZXR1cm4gKHYxK3YyKS8yO1xuXHR9XG5cblx0LyogaW5kZXgxOiBmaXJzdCBzaGFkb3cgPj0gQTEgKi9cblx0dmFyIGluZGV4MSA9IDAsIGVkZ2UxID0gZmFsc2U7XG5cdHdoaWxlIChpbmRleDEgPCBTSEFET1dTLmxlbmd0aCkge1xuXHRcdHZhciBvbGQgPSBTSEFET1dTW2luZGV4MV07XG5cdFx0dmFyIGRpZmYgPSBvbGRbMF0qQTFbMV0gLSBBMVswXSpvbGRbMV07XG5cdFx0aWYgKGRpZmYgPj0gMCkgeyAvKiBvbGQgPj0gQTEgKi9cblx0XHRcdGlmIChkaWZmID09IDAgJiYgIShpbmRleDEgJSAyKSkgeyBlZGdlMSA9IHRydWU7IH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRpbmRleDErKztcblx0fVxuXG5cdC8qIGluZGV4MjogbGFzdCBzaGFkb3cgPD0gQTIgKi9cblx0dmFyIGluZGV4MiA9IFNIQURPV1MubGVuZ3RoLCBlZGdlMiA9IGZhbHNlO1xuXHR3aGlsZSAoaW5kZXgyLS0pIHtcblx0XHR2YXIgb2xkID0gU0hBRE9XU1tpbmRleDJdO1xuXHRcdHZhciBkaWZmID0gQTJbMF0qb2xkWzFdIC0gb2xkWzBdKkEyWzFdO1xuXHRcdGlmIChkaWZmID49IDApIHsgLyogb2xkIDw9IEEyICovXG5cdFx0XHRpZiAoZGlmZiA9PSAwICYmIChpbmRleDIgJSAyKSkgeyBlZGdlMiA9IHRydWU7IH1cblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHZhciB2aXNpYmxlID0gdHJ1ZTtcblx0aWYgKGluZGV4MSA9PSBpbmRleDIgJiYgKGVkZ2UxIHx8IGVkZ2UyKSkgeyAgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgb25lIG9mIHRoZSBlZGdlcyBtYXRjaCAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTsgXG5cdH0gZWxzZSBpZiAoZWRnZTEgJiYgZWRnZTIgJiYgaW5kZXgxKzE9PWluZGV4MiAmJiAoaW5kZXgyICUgMikpIHsgLyogY29tcGxldGVseSBlcXVpdmFsZW50IHdpdGggZXhpc3Rpbmcgc2hhZG93ICovXG5cdFx0dmlzaWJsZSA9IGZhbHNlO1xuXHR9IGVsc2UgaWYgKGluZGV4MSA+IGluZGV4MiAmJiAoaW5kZXgxICUgMikpIHsgLyogc3Vic2V0IG9mIGV4aXN0aW5nIHNoYWRvdywgbm90IHRvdWNoaW5nICovXG5cdFx0dmlzaWJsZSA9IGZhbHNlO1xuXHR9XG5cdFxuXHRpZiAoIXZpc2libGUpIHsgcmV0dXJuIDA7IH0gLyogZmFzdCBjYXNlOiBub3QgdmlzaWJsZSAqL1xuXHRcblx0dmFyIHZpc2libGVMZW5ndGgsIFA7XG5cblx0LyogY29tcHV0ZSB0aGUgbGVuZ3RoIG9mIHZpc2libGUgYXJjLCBhZGp1c3QgbGlzdCBvZiBzaGFkb3dzIChpZiBibG9ja2luZykgKi9cblx0dmFyIHJlbW92ZSA9IGluZGV4Mi1pbmRleDErMTtcblx0aWYgKHJlbW92ZSAlIDIpIHtcblx0XHRpZiAoaW5kZXgxICUgMikgeyAvKiBmaXJzdCBlZGdlIHdpdGhpbiBleGlzdGluZyBzaGFkb3csIHNlY29uZCBvdXRzaWRlICovXG5cdFx0XHR2YXIgUCA9IFNIQURPV1NbaW5kZXgxXTtcblx0XHRcdHZpc2libGVMZW5ndGggPSAoQTJbMF0qUFsxXSAtIFBbMF0qQTJbMV0pIC8gKFBbMV0gKiBBMlsxXSk7XG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMik7IH1cblx0XHR9IGVsc2UgeyAvKiBzZWNvbmQgZWRnZSB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93LCBmaXJzdCBvdXRzaWRlICovXG5cdFx0XHR2YXIgUCA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHRcdHZpc2libGVMZW5ndGggPSAoUFswXSpBMVsxXSAtIEExWzBdKlBbMV0pIC8gKEExWzFdICogUFsxXSk7XG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSk7IH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0aWYgKGluZGV4MSAlIDIpIHsgLyogYm90aCBlZGdlcyB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93cyAqL1xuXHRcdFx0dmFyIFAxID0gU0hBRE9XU1tpbmRleDFdO1xuXHRcdFx0dmFyIFAyID0gU0hBRE9XU1tpbmRleDJdO1xuXHRcdFx0dmlzaWJsZUxlbmd0aCA9IChQMlswXSpQMVsxXSAtIFAxWzBdKlAyWzFdKSAvIChQMVsxXSAqIFAyWzFdKTtcblx0XHRcdGlmIChibG9ja3MpIHsgU0hBRE9XUy5zcGxpY2UoaW5kZXgxLCByZW1vdmUpOyB9XG5cdFx0fSBlbHNlIHsgLyogYm90aCBlZGdlcyBvdXRzaWRlIGV4aXN0aW5nIHNoYWRvd3MgKi9cblx0XHRcdGlmIChibG9ja3MpIHsgU0hBRE9XUy5zcGxpY2UoaW5kZXgxLCByZW1vdmUsIEExLCBBMik7IH1cblx0XHRcdHJldHVybiAxOyAvKiB3aG9sZSBhcmMgdmlzaWJsZSEgKi9cblx0XHR9XG5cdH1cblxuXHR2YXIgYXJjTGVuZ3RoID0gKEEyWzBdKkExWzFdIC0gQTFbMF0qQTJbMV0pIC8gKEExWzFdICogQTJbMV0pO1xuXG5cdHJldHVybiB2aXNpYmxlTGVuZ3RoL2FyY0xlbmd0aDtcbn1cbi8qKlxuICogQGNsYXNzIFJlY3Vyc2l2ZSBzaGFkb3djYXN0aW5nIGFsZ29yaXRobVxuICogQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgNC84IHRvcG9sb2dpZXMsIG5vdCBoZXhhZ29uYWwuXG4gKiBCYXNlZCBvbiBQZXRlciBIYXJraW5zJyBpbXBsZW1lbnRhdGlvbiBvZiBCasO2cm4gQmVyZ3N0csO2bSdzIGFsZ29yaXRobSBkZXNjcmliZWQgaGVyZTogaHR0cDovL3d3dy5yb2d1ZWJhc2luLmNvbS9pbmRleC5waHA/dGl0bGU9Rk9WX3VzaW5nX3JlY3Vyc2l2ZV9zaGFkb3djYXN0aW5nXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcgPSBmdW5jdGlvbihsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5GT1YuY2FsbCh0aGlzLCBsaWdodFBhc3Nlc0NhbGxiYWNrLCBvcHRpb25zKTtcbn1cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5leHRlbmQoUk9ULkZPVik7XG5cbi8qKiBPY3RhbnRzIHVzZWQgZm9yIHRyYW5zbGF0aW5nIHJlY3Vyc2l2ZSBzaGFkb3djYXN0aW5nIG9mZnNldHMgKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTID0gW1xuXHRbLTEsICAwLCAgMCwgIDFdLFxuXHRbIDAsIC0xLCAgMSwgIDBdLFxuXHRbIDAsIC0xLCAtMSwgIDBdLFxuXHRbLTEsICAwLCAgMCwgLTFdLFxuXHRbIDEsICAwLCAgMCwgLTFdLFxuXHRbIDAsICAxLCAtMSwgIDBdLFxuXHRbIDAsICAxLCAgMSwgIDBdLFxuXHRbIDEsICAwLCAgMCwgIDFdXG5dO1xuXG4vKipcbiAqIENvbXB1dGUgdmlzaWJpbGl0eSBmb3IgYSAzNjAtZGVncmVlIGNpcmNsZVxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge1xuXHQvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFMubGVuZ3RoOyBpKyspIHtcblx0XHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbaV0sIFIsIGNhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIENvbXB1dGUgdmlzaWJpbGl0eSBmb3IgYSAxODAtZGVncmVlIGFyY1xuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2ludH0gZGlyIERpcmVjdGlvbiB0byBsb29rIGluIChleHByZXNzZWQgaW4gYSBST1QuRElSUyB2YWx1ZSk7XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGUxODAgPSBmdW5jdGlvbih4LCB5LCBSLCBkaXIsIGNhbGxiYWNrKSB7XG5cdC8vWW91IGNhbiBhbHdheXMgc2VlIHlvdXIgb3duIHRpbGVcblx0Y2FsbGJhY2soeCwgeSwgMCwgMSk7XG5cdHZhciBwcmV2aW91c09jdGFudCA9IChkaXIgLSAxICsgOCkgJSA4OyAvL05lZWQgdG8gcmV0cmlldmUgdGhlIHByZXZpb3VzIG9jdGFudCB0byByZW5kZXIgYSBmdWxsIDE4MCBkZWdyZWVzXG5cdHZhciBuZXh0UHJldmlvdXNPY3RhbnQgPSAoZGlyIC0gMiArIDgpICUgODsgLy9OZWVkIHRvIHJldHJpZXZlIHRoZSBwcmV2aW91cyB0d28gb2N0YW50cyB0byByZW5kZXIgYSBmdWxsIDE4MCBkZWdyZWVzXG5cdHZhciBuZXh0T2N0YW50ID0gKGRpcisgMSArIDgpICUgODsgLy9OZWVkIHRvIGdyYWIgdG8gbmV4dCBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbbmV4dFByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbcHJldmlvdXNPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tkaXJdLCBSLCBjYWxsYmFjayk7XG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tuZXh0T2N0YW50XSwgUiwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdmlzaWJpbGl0eSBmb3IgYSA5MC1kZWdyZWUgYXJjXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7aW50fSBkaXIgRGlyZWN0aW9uIHRvIGxvb2sgaW4gKGV4cHJlc3NlZCBpbiBhIFJPVC5ESVJTIHZhbHVlKTtcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5wcm90b3R5cGUuY29tcHV0ZTkwID0gZnVuY3Rpb24oeCwgeSwgUiwgZGlyLCBjYWxsYmFjaykge1xuXHQvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXHR2YXIgcHJldmlvdXNPY3RhbnQgPSAoZGlyIC0gMSArIDgpICUgODsgLy9OZWVkIHRvIHJldHJpZXZlIHRoZSBwcmV2aW91cyBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCA5MCBkZWdyZWVzXG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1tkaXJdLCBSLCBjYWxsYmFjayk7XG5cdHRoaXMuX3JlbmRlck9jdGFudCh4LCB5LCBST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UU1twcmV2aW91c09jdGFudF0sIFIsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBSZW5kZXIgb25lIG9jdGFudCAoNDUtZGVncmVlIGFyYykgb2YgdGhlIHZpZXdzaGVkXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBvY3RhbnQgT2N0YW50IHRvIGJlIHJlbmRlcmVkXG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl9yZW5kZXJPY3RhbnQgPSBmdW5jdGlvbih4LCB5LCBvY3RhbnQsIFIsIGNhbGxiYWNrKSB7XG5cdC8vUmFkaXVzIGluY3JlbWVudGVkIGJ5IDEgdG8gcHJvdmlkZSBzYW1lIGNvdmVyYWdlIGFyZWEgYXMgb3RoZXIgc2hhZG93Y2FzdGluZyByYWRpdXNlc1xuXHR0aGlzLl9jYXN0VmlzaWJpbGl0eSh4LCB5LCAxLCAxLjAsIDAuMCwgUiArIDEsIG9jdGFudFswXSwgb2N0YW50WzFdLCBvY3RhbnRbMl0sIG9jdGFudFszXSwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEFjdHVhbGx5IGNhbGN1bGF0ZXMgdGhlIHZpc2liaWxpdHlcbiAqIEBwYXJhbSB7aW50fSBzdGFydFggVGhlIHN0YXJ0aW5nIFggY29vcmRpbmF0ZVxuICogQHBhcmFtIHtpbnR9IHN0YXJ0WSBUaGUgc3RhcnRpbmcgWSBjb29yZGluYXRlXG4gKiBAcGFyYW0ge2ludH0gcm93IFRoZSByb3cgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2Zsb2F0fSB2aXNTbG9wZVN0YXJ0IFRoZSBzbG9wZSB0byBzdGFydCBhdFxuICogQHBhcmFtIHtmbG9hdH0gdmlzU2xvcGVFbmQgVGhlIHNsb3BlIHRvIGVuZCBhdFxuICogQHBhcmFtIHtpbnR9IHJhZGl1cyBUaGUgcmFkaXVzIHRvIHJlYWNoIG91dCB0b1xuICogQHBhcmFtIHtpbnR9IHh4IFxuICogQHBhcmFtIHtpbnR9IHh5IFxuICogQHBhcmFtIHtpbnR9IHl4IFxuICogQHBhcmFtIHtpbnR9IHl5IFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHVzZSB3aGVuIHdlIGhpdCBhIGJsb2NrIHRoYXQgaXMgdmlzaWJsZVxuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl9jYXN0VmlzaWJpbGl0eSA9IGZ1bmN0aW9uKHN0YXJ0WCwgc3RhcnRZLCByb3csIHZpc1Nsb3BlU3RhcnQsIHZpc1Nsb3BlRW5kLCByYWRpdXMsIHh4LCB4eSwgeXgsIHl5LCBjYWxsYmFjaykge1xuXHRpZih2aXNTbG9wZVN0YXJ0IDwgdmlzU2xvcGVFbmQpIHsgcmV0dXJuOyB9XG5cdGZvcih2YXIgaSA9IHJvdzsgaSA8PSByYWRpdXM7IGkrKykge1xuXHRcdHZhciBkeCA9IC1pIC0gMTtcblx0XHR2YXIgZHkgPSAtaTtcblx0XHR2YXIgYmxvY2tlZCA9IGZhbHNlO1xuXHRcdHZhciBuZXdTdGFydCA9IDA7XG5cblx0XHQvLydSb3cnIGNvdWxkIGJlIGNvbHVtbiwgbmFtZXMgaGVyZSBhc3N1bWUgb2N0YW50IDAgYW5kIHdvdWxkIGJlIGZsaXBwZWQgZm9yIGhhbGYgdGhlIG9jdGFudHNcblx0XHR3aGlsZShkeCA8PSAwKSB7XG5cdFx0XHRkeCArPSAxO1xuXG5cdFx0XHQvL1RyYW5zbGF0ZSBmcm9tIHJlbGF0aXZlIGNvb3JkaW5hdGVzIHRvIG1hcCBjb29yZGluYXRlc1xuXHRcdFx0dmFyIG1hcFggPSBzdGFydFggKyBkeCAqIHh4ICsgZHkgKiB4eTtcblx0XHRcdHZhciBtYXBZID0gc3RhcnRZICsgZHggKiB5eCArIGR5ICogeXk7XG5cblx0XHRcdC8vUmFuZ2Ugb2YgdGhlIHJvd1xuXHRcdFx0dmFyIHNsb3BlU3RhcnQgPSAoZHggLSAwLjUpIC8gKGR5ICsgMC41KTtcblx0XHRcdHZhciBzbG9wZUVuZCA9IChkeCArIDAuNSkgLyAoZHkgLSAwLjUpO1xuXHRcdFxuXHRcdFx0Ly9JZ25vcmUgaWYgbm90IHlldCBhdCBsZWZ0IGVkZ2Ugb2YgT2N0YW50XG5cdFx0XHRpZihzbG9wZUVuZCA+IHZpc1Nsb3BlU3RhcnQpIHsgY29udGludWU7IH1cblx0XHRcdFxuXHRcdFx0Ly9Eb25lIGlmIHBhc3QgcmlnaHQgZWRnZVxuXHRcdFx0aWYoc2xvcGVTdGFydCA8IHZpc1Nsb3BlRW5kKSB7IGJyZWFrOyB9XG5cdFx0XHRcdFxuXHRcdFx0Ly9JZiBpdCdzIGluIHJhbmdlLCBpdCdzIHZpc2libGVcblx0XHRcdGlmKChkeCAqIGR4ICsgZHkgKiBkeSkgPCAocmFkaXVzICogcmFkaXVzKSkge1xuXHRcdFx0XHRjYWxsYmFjayhtYXBYLCBtYXBZLCBpLCAxKTtcblx0XHRcdH1cblx0XG5cdFx0XHRpZighYmxvY2tlZCkge1xuXHRcdFx0XHQvL0lmIHRpbGUgaXMgYSBibG9ja2luZyB0aWxlLCBjYXN0IGFyb3VuZCBpdFxuXHRcdFx0XHRpZighdGhpcy5fbGlnaHRQYXNzZXMobWFwWCwgbWFwWSkgJiYgaSA8IHJhZGl1cykge1xuXHRcdFx0XHRcdGJsb2NrZWQgPSB0cnVlO1xuXHRcdFx0XHRcdHRoaXMuX2Nhc3RWaXNpYmlsaXR5KHN0YXJ0WCwgc3RhcnRZLCBpICsgMSwgdmlzU2xvcGVTdGFydCwgc2xvcGVTdGFydCwgcmFkaXVzLCB4eCwgeHksIHl4LCB5eSwgY2FsbGJhY2spO1xuXHRcdFx0XHRcdG5ld1N0YXJ0ID0gc2xvcGVFbmQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vS2VlcCBuYXJyb3dpbmcgaWYgc2Nhbm5pbmcgYWNyb3NzIGEgYmxvY2tcblx0XHRcdFx0aWYoIXRoaXMuX2xpZ2h0UGFzc2VzKG1hcFgsIG1hcFkpKSB7XG5cdFx0XHRcdFx0bmV3U3RhcnQgPSBzbG9wZUVuZDtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRcdC8vQmxvY2sgaGFzIGVuZGVkXG5cdFx0XHRcdGJsb2NrZWQgPSBmYWxzZTtcblx0XHRcdFx0dmlzU2xvcGVTdGFydCA9IG5ld1N0YXJ0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihibG9ja2VkKSB7IGJyZWFrOyB9XG5cdH1cbn1cbi8qKlxuICogQG5hbWVzcGFjZSBDb2xvciBvcGVyYXRpb25zXG4gKi9cblJPVC5Db2xvciA9IHtcblx0ZnJvbVN0cmluZzogZnVuY3Rpb24oc3RyKSB7XG5cdFx0dmFyIGNhY2hlZCwgcjtcblx0XHRpZiAoc3RyIGluIHRoaXMuX2NhY2hlKSB7XG5cdFx0XHRjYWNoZWQgPSB0aGlzLl9jYWNoZVtzdHJdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoc3RyLmNoYXJBdCgwKSA9PSBcIiNcIikgeyAvKiBoZXggcmdiICovXG5cblx0XHRcdFx0dmFyIHZhbHVlcyA9IHN0ci5tYXRjaCgvWzAtOWEtZl0vZ2kpLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiBwYXJzZUludCh4LCAxNik7IH0pO1xuXHRcdFx0XHRpZiAodmFsdWVzLmxlbmd0aCA9PSAzKSB7XG5cdFx0XHRcdFx0Y2FjaGVkID0gdmFsdWVzLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiB4KjE3OyB9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0XHRcdFx0dmFsdWVzW2krMV0gKz0gMTYqdmFsdWVzW2ldO1xuXHRcdFx0XHRcdFx0dmFsdWVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2FjaGVkID0gdmFsdWVzO1xuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSBpZiAoKHIgPSBzdHIubWF0Y2goL3JnYlxcKChbMC05LCBdKylcXCkvaSkpKSB7IC8qIGRlY2ltYWwgcmdiICovXG5cdFx0XHRcdGNhY2hlZCA9IHJbMV0uc3BsaXQoL1xccyosXFxzKi8pLm1hcChmdW5jdGlvbih4KSB7IHJldHVybiBwYXJzZUludCh4KTsgfSk7XG5cdFx0XHR9IGVsc2UgeyAvKiBodG1sIG5hbWUgKi9cblx0XHRcdFx0Y2FjaGVkID0gWzAsIDAsIDBdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9jYWNoZVtzdHJdID0gY2FjaGVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBjYWNoZWQuc2xpY2UoKTtcblx0fSxcblxuXHQvKipcblx0ICogQWRkIHR3byBvciBtb3JlIGNvbG9yc1xuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGFkZDogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHR2YXIgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MTtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdHJlc3VsdFtpXSArPSBhcmd1bWVudHNbal1baV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEFkZCB0d28gb3IgbW9yZSBjb2xvcnMsIE1PRElGSUVTIEZJUlNUIEFSR1VNRU5UXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0YWRkXzogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0Y29sb3IxW2ldICs9IGFyZ3VtZW50c1tqXVtpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNvbG9yMTtcblx0fSxcblxuXHQvKipcblx0ICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0bXVsdGlwbHk6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRyZXN1bHRbaV0gKj0gYXJndW1lbnRzW2pdW2ldIC8gMjU1O1xuXHRcdFx0fVxuXHRcdFx0cmVzdWx0W2ldID0gTWF0aC5yb3VuZChyZXN1bHRbaV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBNdWx0aXBseSAobWl4KSB0d28gb3IgbW9yZSBjb2xvcnMsIE1PRElGSUVTIEZJUlNUIEFSR1VNRU5UXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0bXVsdGlwbHlfOiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRjb2xvcjFbaV0gKj0gYXJndW1lbnRzW2pdW2ldIC8gMjU1O1xuXHRcdFx0fVxuXHRcdFx0Y29sb3IxW2ldID0gTWF0aC5yb3VuZChjb2xvcjFbaV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gY29sb3IxO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBJbnRlcnBvbGF0ZSAoYmxlbmQpIHR3byBjb2xvcnMgd2l0aCBhIGdpdmVuIGZhY3RvclxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFtmYWN0b3I9MC41XSAwLi4xXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGludGVycG9sYXRlOiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMiwgZmFjdG9yKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7IGZhY3RvciA9IDAuNTsgfVxuXHRcdHZhciByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0cmVzdWx0W2ldID0gTWF0aC5yb3VuZChyZXN1bHRbaV0gKyBmYWN0b3IqKGNvbG9yMltpXS1jb2xvcjFbaV0pKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogSW50ZXJwb2xhdGUgKGJsZW5kKSB0d28gY29sb3JzIHdpdGggYSBnaXZlbiBmYWN0b3IgaW4gSFNMIG1vZGVcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbZmFjdG9yPTAuNV0gMC4uMVxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRpbnRlcnBvbGF0ZUhTTDogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIsIGZhY3Rvcikge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykgeyBmYWN0b3IgPSAwLjU7IH1cblx0XHR2YXIgaHNsMSA9IHRoaXMucmdiMmhzbChjb2xvcjEpO1xuXHRcdHZhciBoc2wyID0gdGhpcy5yZ2IyaHNsKGNvbG9yMik7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGhzbDFbaV0gKz0gZmFjdG9yKihoc2wyW2ldLWhzbDFbaV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5oc2wycmdiKGhzbDEpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgYSBuZXcgcmFuZG9tIGNvbG9yIGJhc2VkIG9uIHRoaXMgb25lXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGRpZmYgU2V0IG9mIHN0YW5kYXJkIGRldmlhdGlvbnNcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0cmFuZG9taXplOiBmdW5jdGlvbihjb2xvciwgZGlmZikge1xuXHRcdGlmICghKGRpZmYgaW5zdGFuY2VvZiBBcnJheSkpIHsgZGlmZiA9IE1hdGgucm91bmQoUk9ULlJORy5nZXROb3JtYWwoMCwgZGlmZikpOyB9XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHJlc3VsdFtpXSArPSAoZGlmZiBpbnN0YW5jZW9mIEFycmF5ID8gTWF0aC5yb3VuZChST1QuUk5HLmdldE5vcm1hbCgwLCBkaWZmW2ldKSkgOiBkaWZmKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTTC4gRXhwZWN0cyAwLi4yNTUgaW5wdXRzLCBwcm9kdWNlcyAwLi4xIG91dHB1dHMuXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdHJnYjJoc2w6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0dmFyIHIgPSBjb2xvclswXS8yNTU7XG5cdFx0dmFyIGcgPSBjb2xvclsxXS8yNTU7XG5cdFx0dmFyIGIgPSBjb2xvclsyXS8yNTU7XG5cblx0XHR2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYiksIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuXHRcdHZhciBoLCBzLCBsID0gKG1heCArIG1pbikgLyAyO1xuXG5cdFx0aWYgKG1heCA9PSBtaW4pIHtcblx0XHRcdGggPSBzID0gMDsgLy8gYWNocm9tYXRpY1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZCA9IG1heCAtIG1pbjtcblx0XHRcdHMgPSAobCA+IDAuNSA/IGQgLyAoMiAtIG1heCAtIG1pbikgOiBkIC8gKG1heCArIG1pbikpO1xuXHRcdFx0c3dpdGNoKG1heCkge1xuXHRcdFx0XHRjYXNlIHI6IGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgZzogaCA9IChiIC0gcikgLyBkICsgMjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgYjogaCA9IChyIC0gZykgLyBkICsgNDsgYnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRoIC89IDY7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFtoLCBzLCBsXTtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi4gRXhwZWN0cyAwLi4xIGlucHV0cywgcHJvZHVjZXMgMC4uMjU1IG91dHB1dHMuXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGhzbDJyZ2I6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0dmFyIGwgPSBjb2xvclsyXTtcblxuXHRcdGlmIChjb2xvclsxXSA9PSAwKSB7XG5cdFx0XHRsID0gTWF0aC5yb3VuZChsKjI1NSk7XG5cdFx0XHRyZXR1cm4gW2wsIGwsIGxdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgaHVlMnJnYiA9IGZ1bmN0aW9uKHAsIHEsIHQpIHtcblx0XHRcdFx0aWYgKHQgPCAwKSB0ICs9IDE7XG5cdFx0XHRcdGlmICh0ID4gMSkgdCAtPSAxO1xuXHRcdFx0XHRpZiAodCA8IDEvNikgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG5cdFx0XHRcdGlmICh0IDwgMS8yKSByZXR1cm4gcTtcblx0XHRcdFx0aWYgKHQgPCAyLzMpIHJldHVybiBwICsgKHEgLSBwKSAqICgyLzMgLSB0KSAqIDY7XG5cdFx0XHRcdHJldHVybiBwO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcyA9IGNvbG9yWzFdO1xuXHRcdFx0dmFyIHEgPSAobCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcyk7XG5cdFx0XHR2YXIgcCA9IDIgKiBsIC0gcTtcblx0XHRcdHZhciByID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSArIDEvMyk7XG5cdFx0XHR2YXIgZyA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0pO1xuXHRcdFx0dmFyIGIgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdIC0gMS8zKTtcblx0XHRcdHJldHVybiBbTWF0aC5yb3VuZChyKjI1NSksIE1hdGgucm91bmQoZyoyNTUpLCBNYXRoLnJvdW5kKGIqMjU1KV07XG5cdFx0fVxuXHR9LFxuXG5cdHRvUkdCOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHJldHVybiBcInJnYihcIiArIHRoaXMuX2NsYW1wKGNvbG9yWzBdKSArIFwiLFwiICsgdGhpcy5fY2xhbXAoY29sb3JbMV0pICsgXCIsXCIgKyB0aGlzLl9jbGFtcChjb2xvclsyXSkgKyBcIilcIjtcblx0fSxcblxuXHR0b0hleDogZnVuY3Rpb24oY29sb3IpIHtcblx0XHR2YXIgcGFydHMgPSBbXTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0cGFydHMucHVzaCh0aGlzLl9jbGFtcChjb2xvcltpXSkudG9TdHJpbmcoMTYpLmxwYWQoXCIwXCIsIDIpKTtcblx0XHR9XG5cdFx0cmV0dXJuIFwiI1wiICsgcGFydHMuam9pbihcIlwiKTtcblx0fSxcblxuXHRfY2xhbXA6IGZ1bmN0aW9uKG51bSkge1xuXHRcdGlmIChudW0gPCAwKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9IGVsc2UgaWYgKG51bSA+IDI1NSkge1xuXHRcdFx0cmV0dXJuIDI1NTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG51bTtcblx0XHR9XG5cdH0sXG5cblx0X2NhY2hlOiB7XG5cdFx0XCJibGFja1wiOiBbMCwwLDBdLFxuXHRcdFwibmF2eVwiOiBbMCwwLDEyOF0sXG5cdFx0XCJkYXJrYmx1ZVwiOiBbMCwwLDEzOV0sXG5cdFx0XCJtZWRpdW1ibHVlXCI6IFswLDAsMjA1XSxcblx0XHRcImJsdWVcIjogWzAsMCwyNTVdLFxuXHRcdFwiZGFya2dyZWVuXCI6IFswLDEwMCwwXSxcblx0XHRcImdyZWVuXCI6IFswLDEyOCwwXSxcblx0XHRcInRlYWxcIjogWzAsMTI4LDEyOF0sXG5cdFx0XCJkYXJrY3lhblwiOiBbMCwxMzksMTM5XSxcblx0XHRcImRlZXBza3libHVlXCI6IFswLDE5MSwyNTVdLFxuXHRcdFwiZGFya3R1cnF1b2lzZVwiOiBbMCwyMDYsMjA5XSxcblx0XHRcIm1lZGl1bXNwcmluZ2dyZWVuXCI6IFswLDI1MCwxNTRdLFxuXHRcdFwibGltZVwiOiBbMCwyNTUsMF0sXG5cdFx0XCJzcHJpbmdncmVlblwiOiBbMCwyNTUsMTI3XSxcblx0XHRcImFxdWFcIjogWzAsMjU1LDI1NV0sXG5cdFx0XCJjeWFuXCI6IFswLDI1NSwyNTVdLFxuXHRcdFwibWlkbmlnaHRibHVlXCI6IFsyNSwyNSwxMTJdLFxuXHRcdFwiZG9kZ2VyYmx1ZVwiOiBbMzAsMTQ0LDI1NV0sXG5cdFx0XCJmb3Jlc3RncmVlblwiOiBbMzQsMTM5LDM0XSxcblx0XHRcInNlYWdyZWVuXCI6IFs0NiwxMzksODddLFxuXHRcdFwiZGFya3NsYXRlZ3JheVwiOiBbNDcsNzksNzldLFxuXHRcdFwiZGFya3NsYXRlZ3JleVwiOiBbNDcsNzksNzldLFxuXHRcdFwibGltZWdyZWVuXCI6IFs1MCwyMDUsNTBdLFxuXHRcdFwibWVkaXVtc2VhZ3JlZW5cIjogWzYwLDE3OSwxMTNdLFxuXHRcdFwidHVycXVvaXNlXCI6IFs2NCwyMjQsMjA4XSxcblx0XHRcInJveWFsYmx1ZVwiOiBbNjUsMTA1LDIyNV0sXG5cdFx0XCJzdGVlbGJsdWVcIjogWzcwLDEzMCwxODBdLFxuXHRcdFwiZGFya3NsYXRlYmx1ZVwiOiBbNzIsNjEsMTM5XSxcblx0XHRcIm1lZGl1bXR1cnF1b2lzZVwiOiBbNzIsMjA5LDIwNF0sXG5cdFx0XCJpbmRpZ29cIjogWzc1LDAsMTMwXSxcblx0XHRcImRhcmtvbGl2ZWdyZWVuXCI6IFs4NSwxMDcsNDddLFxuXHRcdFwiY2FkZXRibHVlXCI6IFs5NSwxNTgsMTYwXSxcblx0XHRcImNvcm5mbG93ZXJibHVlXCI6IFsxMDAsMTQ5LDIzN10sXG5cdFx0XCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsMjA1LDE3MF0sXG5cdFx0XCJkaW1ncmF5XCI6IFsxMDUsMTA1LDEwNV0sXG5cdFx0XCJkaW1ncmV5XCI6IFsxMDUsMTA1LDEwNV0sXG5cdFx0XCJzbGF0ZWJsdWVcIjogWzEwNiw5MCwyMDVdLFxuXHRcdFwib2xpdmVkcmFiXCI6IFsxMDcsMTQyLDM1XSxcblx0XHRcInNsYXRlZ3JheVwiOiBbMTEyLDEyOCwxNDRdLFxuXHRcdFwic2xhdGVncmV5XCI6IFsxMTIsMTI4LDE0NF0sXG5cdFx0XCJsaWdodHNsYXRlZ3JheVwiOiBbMTE5LDEzNiwxNTNdLFxuXHRcdFwibGlnaHRzbGF0ZWdyZXlcIjogWzExOSwxMzYsMTUzXSxcblx0XHRcIm1lZGl1bXNsYXRlYmx1ZVwiOiBbMTIzLDEwNCwyMzhdLFxuXHRcdFwibGF3bmdyZWVuXCI6IFsxMjQsMjUyLDBdLFxuXHRcdFwiY2hhcnRyZXVzZVwiOiBbMTI3LDI1NSwwXSxcblx0XHRcImFxdWFtYXJpbmVcIjogWzEyNywyNTUsMjEyXSxcblx0XHRcIm1hcm9vblwiOiBbMTI4LDAsMF0sXG5cdFx0XCJwdXJwbGVcIjogWzEyOCwwLDEyOF0sXG5cdFx0XCJvbGl2ZVwiOiBbMTI4LDEyOCwwXSxcblx0XHRcImdyYXlcIjogWzEyOCwxMjgsMTI4XSxcblx0XHRcImdyZXlcIjogWzEyOCwxMjgsMTI4XSxcblx0XHRcInNreWJsdWVcIjogWzEzNSwyMDYsMjM1XSxcblx0XHRcImxpZ2h0c2t5Ymx1ZVwiOiBbMTM1LDIwNiwyNTBdLFxuXHRcdFwiYmx1ZXZpb2xldFwiOiBbMTM4LDQzLDIyNl0sXG5cdFx0XCJkYXJrcmVkXCI6IFsxMzksMCwwXSxcblx0XHRcImRhcmttYWdlbnRhXCI6IFsxMzksMCwxMzldLFxuXHRcdFwic2FkZGxlYnJvd25cIjogWzEzOSw2OSwxOV0sXG5cdFx0XCJkYXJrc2VhZ3JlZW5cIjogWzE0MywxODgsMTQzXSxcblx0XHRcImxpZ2h0Z3JlZW5cIjogWzE0NCwyMzgsMTQ0XSxcblx0XHRcIm1lZGl1bXB1cnBsZVwiOiBbMTQ3LDExMiwyMTZdLFxuXHRcdFwiZGFya3Zpb2xldFwiOiBbMTQ4LDAsMjExXSxcblx0XHRcInBhbGVncmVlblwiOiBbMTUyLDI1MSwxNTJdLFxuXHRcdFwiZGFya29yY2hpZFwiOiBbMTUzLDUwLDIwNF0sXG5cdFx0XCJ5ZWxsb3dncmVlblwiOiBbMTU0LDIwNSw1MF0sXG5cdFx0XCJzaWVubmFcIjogWzE2MCw4Miw0NV0sXG5cdFx0XCJicm93blwiOiBbMTY1LDQyLDQyXSxcblx0XHRcImRhcmtncmF5XCI6IFsxNjksMTY5LDE2OV0sXG5cdFx0XCJkYXJrZ3JleVwiOiBbMTY5LDE2OSwxNjldLFxuXHRcdFwibGlnaHRibHVlXCI6IFsxNzMsMjE2LDIzMF0sXG5cdFx0XCJncmVlbnllbGxvd1wiOiBbMTczLDI1NSw0N10sXG5cdFx0XCJwYWxldHVycXVvaXNlXCI6IFsxNzUsMjM4LDIzOF0sXG5cdFx0XCJsaWdodHN0ZWVsYmx1ZVwiOiBbMTc2LDE5NiwyMjJdLFxuXHRcdFwicG93ZGVyYmx1ZVwiOiBbMTc2LDIyNCwyMzBdLFxuXHRcdFwiZmlyZWJyaWNrXCI6IFsxNzgsMzQsMzRdLFxuXHRcdFwiZGFya2dvbGRlbnJvZFwiOiBbMTg0LDEzNCwxMV0sXG5cdFx0XCJtZWRpdW1vcmNoaWRcIjogWzE4Niw4NSwyMTFdLFxuXHRcdFwicm9zeWJyb3duXCI6IFsxODgsMTQzLDE0M10sXG5cdFx0XCJkYXJra2hha2lcIjogWzE4OSwxODMsMTA3XSxcblx0XHRcInNpbHZlclwiOiBbMTkyLDE5MiwxOTJdLFxuXHRcdFwibWVkaXVtdmlvbGV0cmVkXCI6IFsxOTksMjEsMTMzXSxcblx0XHRcImluZGlhbnJlZFwiOiBbMjA1LDkyLDkyXSxcblx0XHRcInBlcnVcIjogWzIwNSwxMzMsNjNdLFxuXHRcdFwiY2hvY29sYXRlXCI6IFsyMTAsMTA1LDMwXSxcblx0XHRcInRhblwiOiBbMjEwLDE4MCwxNDBdLFxuXHRcdFwibGlnaHRncmF5XCI6IFsyMTEsMjExLDIxMV0sXG5cdFx0XCJsaWdodGdyZXlcIjogWzIxMSwyMTEsMjExXSxcblx0XHRcInBhbGV2aW9sZXRyZWRcIjogWzIxNiwxMTIsMTQ3XSxcblx0XHRcInRoaXN0bGVcIjogWzIxNiwxOTEsMjE2XSxcblx0XHRcIm9yY2hpZFwiOiBbMjE4LDExMiwyMTRdLFxuXHRcdFwiZ29sZGVucm9kXCI6IFsyMTgsMTY1LDMyXSxcblx0XHRcImNyaW1zb25cIjogWzIyMCwyMCw2MF0sXG5cdFx0XCJnYWluc2Jvcm9cIjogWzIyMCwyMjAsMjIwXSxcblx0XHRcInBsdW1cIjogWzIyMSwxNjAsMjIxXSxcblx0XHRcImJ1cmx5d29vZFwiOiBbMjIyLDE4NCwxMzVdLFxuXHRcdFwibGlnaHRjeWFuXCI6IFsyMjQsMjU1LDI1NV0sXG5cdFx0XCJsYXZlbmRlclwiOiBbMjMwLDIzMCwyNTBdLFxuXHRcdFwiZGFya3NhbG1vblwiOiBbMjMzLDE1MCwxMjJdLFxuXHRcdFwidmlvbGV0XCI6IFsyMzgsMTMwLDIzOF0sXG5cdFx0XCJwYWxlZ29sZGVucm9kXCI6IFsyMzgsMjMyLDE3MF0sXG5cdFx0XCJsaWdodGNvcmFsXCI6IFsyNDAsMTI4LDEyOF0sXG5cdFx0XCJraGFraVwiOiBbMjQwLDIzMCwxNDBdLFxuXHRcdFwiYWxpY2VibHVlXCI6IFsyNDAsMjQ4LDI1NV0sXG5cdFx0XCJob25leWRld1wiOiBbMjQwLDI1NSwyNDBdLFxuXHRcdFwiYXp1cmVcIjogWzI0MCwyNTUsMjU1XSxcblx0XHRcInNhbmR5YnJvd25cIjogWzI0NCwxNjQsOTZdLFxuXHRcdFwid2hlYXRcIjogWzI0NSwyMjIsMTc5XSxcblx0XHRcImJlaWdlXCI6IFsyNDUsMjQ1LDIyMF0sXG5cdFx0XCJ3aGl0ZXNtb2tlXCI6IFsyNDUsMjQ1LDI0NV0sXG5cdFx0XCJtaW50Y3JlYW1cIjogWzI0NSwyNTUsMjUwXSxcblx0XHRcImdob3N0d2hpdGVcIjogWzI0OCwyNDgsMjU1XSxcblx0XHRcInNhbG1vblwiOiBbMjUwLDEyOCwxMTRdLFxuXHRcdFwiYW50aXF1ZXdoaXRlXCI6IFsyNTAsMjM1LDIxNV0sXG5cdFx0XCJsaW5lblwiOiBbMjUwLDI0MCwyMzBdLFxuXHRcdFwibGlnaHRnb2xkZW5yb2R5ZWxsb3dcIjogWzI1MCwyNTAsMjEwXSxcblx0XHRcIm9sZGxhY2VcIjogWzI1MywyNDUsMjMwXSxcblx0XHRcInJlZFwiOiBbMjU1LDAsMF0sXG5cdFx0XCJmdWNoc2lhXCI6IFsyNTUsMCwyNTVdLFxuXHRcdFwibWFnZW50YVwiOiBbMjU1LDAsMjU1XSxcblx0XHRcImRlZXBwaW5rXCI6IFsyNTUsMjAsMTQ3XSxcblx0XHRcIm9yYW5nZXJlZFwiOiBbMjU1LDY5LDBdLFxuXHRcdFwidG9tYXRvXCI6IFsyNTUsOTksNzFdLFxuXHRcdFwiaG90cGlua1wiOiBbMjU1LDEwNSwxODBdLFxuXHRcdFwiY29yYWxcIjogWzI1NSwxMjcsODBdLFxuXHRcdFwiZGFya29yYW5nZVwiOiBbMjU1LDE0MCwwXSxcblx0XHRcImxpZ2h0c2FsbW9uXCI6IFsyNTUsMTYwLDEyMl0sXG5cdFx0XCJvcmFuZ2VcIjogWzI1NSwxNjUsMF0sXG5cdFx0XCJsaWdodHBpbmtcIjogWzI1NSwxODIsMTkzXSxcblx0XHRcInBpbmtcIjogWzI1NSwxOTIsMjAzXSxcblx0XHRcImdvbGRcIjogWzI1NSwyMTUsMF0sXG5cdFx0XCJwZWFjaHB1ZmZcIjogWzI1NSwyMTgsMTg1XSxcblx0XHRcIm5hdmFqb3doaXRlXCI6IFsyNTUsMjIyLDE3M10sXG5cdFx0XCJtb2NjYXNpblwiOiBbMjU1LDIyOCwxODFdLFxuXHRcdFwiYmlzcXVlXCI6IFsyNTUsMjI4LDE5Nl0sXG5cdFx0XCJtaXN0eXJvc2VcIjogWzI1NSwyMjgsMjI1XSxcblx0XHRcImJsYW5jaGVkYWxtb25kXCI6IFsyNTUsMjM1LDIwNV0sXG5cdFx0XCJwYXBheWF3aGlwXCI6IFsyNTUsMjM5LDIxM10sXG5cdFx0XCJsYXZlbmRlcmJsdXNoXCI6IFsyNTUsMjQwLDI0NV0sXG5cdFx0XCJzZWFzaGVsbFwiOiBbMjU1LDI0NSwyMzhdLFxuXHRcdFwiY29ybnNpbGtcIjogWzI1NSwyNDgsMjIwXSxcblx0XHRcImxlbW9uY2hpZmZvblwiOiBbMjU1LDI1MCwyMDVdLFxuXHRcdFwiZmxvcmFsd2hpdGVcIjogWzI1NSwyNTAsMjQwXSxcblx0XHRcInNub3dcIjogWzI1NSwyNTAsMjUwXSxcblx0XHRcInllbGxvd1wiOiBbMjU1LDI1NSwwXSxcblx0XHRcImxpZ2h0eWVsbG93XCI6IFsyNTUsMjU1LDIyNF0sXG5cdFx0XCJpdm9yeVwiOiBbMjU1LDI1NSwyNDBdLFxuXHRcdFwid2hpdGVcIjogWzI1NSwyNTUsMjU1XVxuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBMaWdodGluZyBjb21wdXRhdGlvbiwgYmFzZWQgb24gYSB0cmFkaXRpb25hbCBGT1YgZm9yIG11bHRpcGxlIGxpZ2h0IHNvdXJjZXMgYW5kIG11bHRpcGxlIHBhc3Nlcy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlZmxlY3Rpdml0eUNhbGxiYWNrIENhbGxiYWNrIHRvIHJldHJpZXZlIGNlbGwgcmVmbGVjdGl2aXR5ICgwLi4xKVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnBhc3Nlcz0xXSBOdW1iZXIgb2YgcGFzc2VzLiAxIGVxdWFscyB0byBzaW1wbGUgRk9WIG9mIGFsbCBsaWdodCBzb3VyY2VzLCA+MSBtZWFucyBhICpoaWdobHkgc2ltcGxpZmllZCogcmFkaW9zaXR5LWxpa2UgYWxnb3JpdGhtLlxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLmVtaXNzaW9uVGhyZXNob2xkPTEwMF0gQ2VsbHMgd2l0aCBlbWlzc2l2aXR5ID4gdGhyZXNob2xkIHdpbGwgYmUgdHJlYXRlZCBhcyBsaWdodCBzb3VyY2UgaW4gdGhlIG5leHQgcGFzcy5cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5yYW5nZT0xMF0gTWF4IGxpZ2h0IHJhbmdlXG4gKi9cblJPVC5MaWdodGluZyA9IGZ1bmN0aW9uKHJlZmxlY3Rpdml0eUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdHRoaXMuX3JlZmxlY3Rpdml0eUNhbGxiYWNrID0gcmVmbGVjdGl2aXR5Q2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0cGFzc2VzOiAxLFxuXHRcdGVtaXNzaW9uVGhyZXNob2xkOiAxMDAsXG5cdFx0cmFuZ2U6IDEwXG5cdH07XG5cdHRoaXMuX2ZvdiA9IG51bGw7XG5cblx0dGhpcy5fbGlnaHRzID0ge307XG5cdHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlID0ge307XG5cdHRoaXMuX2ZvdkNhY2hlID0ge307XG5cblx0dGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEFkanVzdCBvcHRpb25zIGF0IHJ1bnRpbWVcbiAqIEBzZWUgUk9ULkxpZ2h0aW5nXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdGlmIChvcHRpb25zICYmIG9wdGlvbnMucmFuZ2UpIHsgdGhpcy5yZXNldCgpOyB9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFNldCB0aGUgdXNlZCBGaWVsZC1PZi1WaWV3IGFsZ29cbiAqIEBwYXJhbSB7Uk9ULkZPVn0gZm92XG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuc2V0Rk9WID0gZnVuY3Rpb24oZm92KSB7XG5cdHRoaXMuX2ZvdiA9IGZvdjtcblx0dGhpcy5fZm92Q2FjaGUgPSB7fTtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogU2V0IChvciByZW1vdmUpIGEgbGlnaHQgc291cmNlXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7bnVsbCB8fCBzdHJpbmcgfHwgbnVtYmVyWzNdfSBjb2xvclxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldExpZ2h0ID0gZnVuY3Rpb24oeCwgeSwgY29sb3IpIHtcblx0dmFyIGtleSA9IHgrXCIsXCIreTtcblxuXHRpZiAoY29sb3IpIHtcblx0XHR0aGlzLl9saWdodHNba2V5XSA9ICh0eXBlb2YoY29sb3IpID09IFwic3RyaW5nXCIgPyBST1QuQ29sb3IuZnJvbVN0cmluZyhjb2xvcikgOiBjb2xvcik7XG5cdH0gZWxzZSB7XG5cdFx0ZGVsZXRlIHRoaXMuX2xpZ2h0c1trZXldO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlnaHQgc291cmNlc1xuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLmNsZWFyTGlnaHRzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fbGlnaHRzID0ge307XG59XG5cbi8qKlxuICogUmVzZXQgdGhlIHByZS1jb21wdXRlZCB0b3BvbG9neSB2YWx1ZXMuIENhbGwgd2hlbmV2ZXIgdGhlIHVuZGVybHlpbmcgbWFwIGNoYW5nZXMgaXRzIGxpZ2h0LXBhc3NhYmlsaXR5LlxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlID0ge307XG5cdHRoaXMuX2ZvdkNhY2hlID0ge307XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbGlnaHRpbmdcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpZ2h0aW5nQ2FsbGJhY2sgV2lsbCBiZSBjYWxsZWQgd2l0aCAoeCwgeSwgY29sb3IpIGZvciBldmVyeSBsaXQgY2VsbFxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihsaWdodGluZ0NhbGxiYWNrKSB7XG5cdHZhciBkb25lQ2VsbHMgPSB7fTtcblx0dmFyIGVtaXR0aW5nQ2VsbHMgPSB7fTtcblx0dmFyIGxpdENlbGxzID0ge307XG5cblx0Zm9yICh2YXIga2V5IGluIHRoaXMuX2xpZ2h0cykgeyAvKiBwcmVwYXJlIGVtaXR0ZXJzIGZvciBmaXJzdCBwYXNzICovXG5cdFx0dmFyIGxpZ2h0ID0gdGhpcy5fbGlnaHRzW2tleV07XG5cdFx0ZW1pdHRpbmdDZWxsc1trZXldID0gWzAsIDAsIDBdO1xuXHRcdFJPVC5Db2xvci5hZGRfKGVtaXR0aW5nQ2VsbHNba2V5XSwgbGlnaHQpO1xuXHR9XG5cblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fb3B0aW9ucy5wYXNzZXM7aSsrKSB7IC8qIG1haW4gbG9vcCAqL1xuXHRcdHRoaXMuX2VtaXRMaWdodChlbWl0dGluZ0NlbGxzLCBsaXRDZWxscywgZG9uZUNlbGxzKTtcblx0XHRpZiAoaSsxID09IHRoaXMuX29wdGlvbnMucGFzc2VzKSB7IGNvbnRpbnVlOyB9IC8qIG5vdCBmb3IgdGhlIGxhc3QgcGFzcyAqL1xuXHRcdGVtaXR0aW5nQ2VsbHMgPSB0aGlzLl9jb21wdXRlRW1pdHRlcnMobGl0Q2VsbHMsIGRvbmVDZWxscyk7XG5cdH1cblxuXHRmb3IgKHZhciBsaXRLZXkgaW4gbGl0Q2VsbHMpIHsgLyogbGV0IHRoZSB1c2VyIGtub3cgd2hhdCBhbmQgaG93IGlzIGxpdCAqL1xuXHRcdHZhciBwYXJ0cyA9IGxpdEtleS5zcGxpdChcIixcIik7XG5cdFx0dmFyIHggPSBwYXJzZUludChwYXJ0c1swXSk7XG5cdFx0dmFyIHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG5cdFx0bGlnaHRpbmdDYWxsYmFjayh4LCB5LCBsaXRDZWxsc1tsaXRLZXldKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgb25lIGl0ZXJhdGlvbiBmcm9tIGFsbCBlbWl0dGluZyBjZWxsc1xuICogQHBhcmFtIHtvYmplY3R9IGVtaXR0aW5nQ2VsbHMgVGhlc2UgZW1pdCBsaWdodFxuICogQHBhcmFtIHtvYmplY3R9IGxpdENlbGxzIEFkZCBwcm9qZWN0ZWQgbGlnaHQgdG8gdGhlc2VcbiAqIEBwYXJhbSB7b2JqZWN0fSBkb25lQ2VsbHMgVGhlc2UgYWxyZWFkeSBlbWl0dGVkLCBmb3JiaWQgdGhlbSBmcm9tIGZ1cnRoZXIgY2FsY3VsYXRpb25zXG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX2VtaXRMaWdodCA9IGZ1bmN0aW9uKGVtaXR0aW5nQ2VsbHMsIGxpdENlbGxzLCBkb25lQ2VsbHMpIHtcblx0Zm9yICh2YXIga2V5IGluIGVtaXR0aW5nQ2VsbHMpIHtcblx0XHR2YXIgcGFydHMgPSBrZXkuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdHRoaXMuX2VtaXRMaWdodEZyb21DZWxsKHgsIHksIGVtaXR0aW5nQ2VsbHNba2V5XSwgbGl0Q2VsbHMpO1xuXHRcdGRvbmVDZWxsc1trZXldID0gMTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBQcmVwYXJlIGEgbGlzdCBvZiBlbWl0dGVycyBmb3IgbmV4dCBwYXNzXG4gKiBAcGFyYW0ge29iamVjdH0gbGl0Q2VsbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBkb25lQ2VsbHNcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX2NvbXB1dGVFbWl0dGVycyA9IGZ1bmN0aW9uKGxpdENlbGxzLCBkb25lQ2VsbHMpIHtcblx0dmFyIHJlc3VsdCA9IHt9O1xuXG5cdGZvciAodmFyIGtleSBpbiBsaXRDZWxscykge1xuXHRcdGlmIChrZXkgaW4gZG9uZUNlbGxzKSB7IGNvbnRpbnVlOyB9IC8qIGFscmVhZHkgZW1pdHRlZCAqL1xuXG5cdFx0dmFyIGNvbG9yID0gbGl0Q2VsbHNba2V5XTtcblxuXHRcdGlmIChrZXkgaW4gdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGUpIHtcblx0XHRcdHZhciByZWZsZWN0aXZpdHkgPSB0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZVtrZXldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBrZXkuc3BsaXQoXCIsXCIpO1xuXHRcdFx0dmFyIHggPSBwYXJzZUludChwYXJ0c1swXSk7XG5cdFx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHRcdHZhciByZWZsZWN0aXZpdHkgPSB0aGlzLl9yZWZsZWN0aXZpdHlDYWxsYmFjayh4LCB5KTtcblx0XHRcdHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlW2tleV0gPSByZWZsZWN0aXZpdHk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlZmxlY3Rpdml0eSA9PSAwKSB7IGNvbnRpbnVlOyB9IC8qIHdpbGwgbm90IHJlZmxlY3QgYXQgYWxsICovXG5cblx0XHQvKiBjb21wdXRlIGVtaXNzaW9uIGNvbG9yICovXG5cdFx0dmFyIGVtaXNzaW9uID0gW107XG5cdFx0dmFyIGludGVuc2l0eSA9IDA7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHZhciBwYXJ0ID0gTWF0aC5yb3VuZChjb2xvcltpXSpyZWZsZWN0aXZpdHkpO1xuXHRcdFx0ZW1pc3Npb25baV0gPSBwYXJ0O1xuXHRcdFx0aW50ZW5zaXR5ICs9IHBhcnQ7XG5cdFx0fVxuXHRcdGlmIChpbnRlbnNpdHkgPiB0aGlzLl9vcHRpb25zLmVtaXNzaW9uVGhyZXNob2xkKSB7IHJlc3VsdFtrZXldID0gZW1pc3Npb247IH1cblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ29tcHV0ZSBvbmUgaXRlcmF0aW9uIGZyb20gb25lIGNlbGxcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaXRDZWxscyBDZWxsIGRhdGEgdG8gYnkgdXBkYXRlZFxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9lbWl0TGlnaHRGcm9tQ2VsbCA9IGZ1bmN0aW9uKHgsIHksIGNvbG9yLCBsaXRDZWxscykge1xuXHR2YXIga2V5ID0geCtcIixcIit5O1xuXHRpZiAoa2V5IGluIHRoaXMuX2ZvdkNhY2hlKSB7XG5cdFx0dmFyIGZvdiA9IHRoaXMuX2ZvdkNhY2hlW2tleV07XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGZvdiA9IHRoaXMuX3VwZGF0ZUZPVih4LCB5KTtcblx0fVxuXG5cdGZvciAodmFyIGZvdktleSBpbiBmb3YpIHtcblx0XHR2YXIgZm9ybUZhY3RvciA9IGZvdltmb3ZLZXldO1xuXG5cdFx0aWYgKGZvdktleSBpbiBsaXRDZWxscykgeyAvKiBhbHJlYWR5IGxpdCAqL1xuXHRcdFx0dmFyIHJlc3VsdCA9IGxpdENlbGxzW2ZvdktleV07XG5cdFx0fSBlbHNlIHsgLyogbmV3bHkgbGl0ICovXG5cdFx0XHR2YXIgcmVzdWx0ID0gWzAsIDAsIDBdO1xuXHRcdFx0bGl0Q2VsbHNbZm92S2V5XSA9IHJlc3VsdDtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykgeyByZXN1bHRbaV0gKz0gTWF0aC5yb3VuZChjb2xvcltpXSpmb3JtRmFjdG9yKTsgfSAvKiBhZGQgbGlnaHQgY29sb3IgKi9cblx0fVxuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgRk9WIChcImZvcm0gZmFjdG9yXCIpIGZvciBhIHBvdGVudGlhbCBsaWdodCBzb3VyY2UgYXQgW3gseV1cbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5fdXBkYXRlRk9WID0gZnVuY3Rpb24oeCwgeSkge1xuXHR2YXIga2V5MSA9IHgrXCIsXCIreTtcblx0dmFyIGNhY2hlID0ge307XG5cdHRoaXMuX2ZvdkNhY2hlW2tleTFdID0gY2FjaGU7XG5cdHZhciByYW5nZSA9IHRoaXMuX29wdGlvbnMucmFuZ2U7XG5cdHZhciBjYiA9IGZ1bmN0aW9uKHgsIHksIHIsIHZpcykge1xuXHRcdHZhciBrZXkyID0geCtcIixcIit5O1xuXHRcdHZhciBmb3JtRmFjdG9yID0gdmlzICogKDEtci9yYW5nZSk7XG5cdFx0aWYgKGZvcm1GYWN0b3IgPT0gMCkgeyByZXR1cm47IH1cblx0XHRjYWNoZVtrZXkyXSA9IGZvcm1GYWN0b3I7XG5cdH1cblx0dGhpcy5fZm92LmNvbXB1dGUoeCwgeSwgcmFuZ2UsIGNiLmJpbmQodGhpcykpO1xuXG5cdHJldHVybiBjYWNoZTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHBhdGhmaW5kZXJcbiAqIEBwYXJhbSB7aW50fSB0b1ggVGFyZ2V0IFggY29vcmRcbiAqIEBwYXJhbSB7aW50fSB0b1kgVGFyZ2V0IFkgY29vcmRcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhc3NhYmxlQ2FsbGJhY2sgQ2FsbGJhY2sgdG8gZGV0ZXJtaW5lIG1hcCBwYXNzYWJpbGl0eVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRvcG9sb2d5PThdXG4gKi9cblJPVC5QYXRoID0gZnVuY3Rpb24odG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0dGhpcy5fdG9YID0gdG9YO1xuXHR0aGlzLl90b1kgPSB0b1k7XG5cdHRoaXMuX2Zyb21YID0gbnVsbDtcblx0dGhpcy5fZnJvbVkgPSBudWxsO1xuXHR0aGlzLl9wYXNzYWJsZUNhbGxiYWNrID0gcGFzc2FibGVDYWxsYmFjaztcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHR0b3BvbG9neTogOFxuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXG5cdHRoaXMuX2RpcnMgPSBST1QuRElSU1t0aGlzLl9vcHRpb25zLnRvcG9sb2d5XTtcblx0aWYgKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kgPT0gOCkgeyAvKiByZW9yZGVyIGRpcnMgZm9yIG1vcmUgYWVzdGhldGljIHJlc3VsdCAodmVydGljYWwvaG9yaXpvbnRhbCBmaXJzdCkgKi9cblx0XHR0aGlzLl9kaXJzID0gW1xuXHRcdFx0dGhpcy5fZGlyc1swXSxcblx0XHRcdHRoaXMuX2RpcnNbMl0sXG5cdFx0XHR0aGlzLl9kaXJzWzRdLFxuXHRcdFx0dGhpcy5fZGlyc1s2XSxcblx0XHRcdHRoaXMuX2RpcnNbMV0sXG5cdFx0XHR0aGlzLl9kaXJzWzNdLFxuXHRcdFx0dGhpcy5fZGlyc1s1XSxcblx0XHRcdHRoaXMuX2RpcnNbN11cblx0XHRdXG5cdH1cbn1cblxuLyoqXG4gKiBDb21wdXRlIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gcG9pbnRcbiAqIEBwYXJhbSB7aW50fSBmcm9tWFxuICogQHBhcmFtIHtpbnR9IGZyb21ZXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBXaWxsIGJlIGNhbGxlZCBmb3IgZXZlcnkgcGF0aCBpdGVtIHdpdGggYXJndW1lbnRzIFwieFwiIGFuZCBcInlcIlxuICovXG5ST1QuUGF0aC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSwgY2FsbGJhY2spIHtcbn1cblxuUk9ULlBhdGgucHJvdG90eXBlLl9nZXROZWlnaGJvcnMgPSBmdW5jdGlvbihjeCwgY3kpIHtcblx0dmFyIHJlc3VsdCA9IFtdO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9kaXJzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGlyID0gdGhpcy5fZGlyc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGlyWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkaXJbMV07XG5cdFx0XG5cdFx0aWYgKCF0aGlzLl9wYXNzYWJsZUNhbGxiYWNrKHgsIHkpKSB7IGNvbnRpbnVlOyB9XG5cdFx0cmVzdWx0LnB1c2goW3gsIHldKTtcblx0fVxuXHRcblx0cmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgRGlqa3N0cmEncyBhbGdvcml0aG06IGFsbCBlZGdlcyBoYXZlIGEgdmFsdWUgb2YgMVxuICogQGF1Z21lbnRzIFJPVC5QYXRoXG4gKiBAc2VlIFJPVC5QYXRoXG4gKi9cblJPVC5QYXRoLkRpamtzdHJhID0gZnVuY3Rpb24odG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULlBhdGguY2FsbCh0aGlzLCB0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucyk7XG5cblx0dGhpcy5fY29tcHV0ZWQgPSB7fTtcblx0dGhpcy5fdG9kbyA9IFtdO1xuXHR0aGlzLl9hZGQodG9YLCB0b1ksIG51bGwpO1xufVxuUk9ULlBhdGguRGlqa3N0cmEuZXh0ZW5kKFJPVC5QYXRoKTtcblxuLyoqXG4gKiBDb21wdXRlIGEgcGF0aCBmcm9tIGEgZ2l2ZW4gcG9pbnRcbiAqIEBzZWUgUk9ULlBhdGgjY29tcHV0ZVxuICovXG5ST1QuUGF0aC5EaWprc3RyYS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSwgY2FsbGJhY2spIHtcblx0dmFyIGtleSA9IGZyb21YK1wiLFwiK2Zyb21ZO1xuXHRpZiAoIShrZXkgaW4gdGhpcy5fY29tcHV0ZWQpKSB7IHRoaXMuX2NvbXB1dGUoZnJvbVgsIGZyb21ZKTsgfVxuXHRpZiAoIShrZXkgaW4gdGhpcy5fY29tcHV0ZWQpKSB7IHJldHVybjsgfVxuXHRcblx0dmFyIGl0ZW0gPSB0aGlzLl9jb21wdXRlZFtrZXldO1xuXHR3aGlsZSAoaXRlbSkge1xuXHRcdGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRpdGVtID0gaXRlbS5wcmV2O1xuXHR9XG59XG5cbi8qKlxuICogQ29tcHV0ZSBhIG5vbi1jYWNoZWQgdmFsdWVcbiAqL1xuUk9ULlBhdGguRGlqa3N0cmEucHJvdG90eXBlLl9jb21wdXRlID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZKSB7XG5cdHdoaWxlICh0aGlzLl90b2RvLmxlbmd0aCkge1xuXHRcdHZhciBpdGVtID0gdGhpcy5fdG9kby5zaGlmdCgpO1xuXHRcdGlmIChpdGVtLnggPT0gZnJvbVggJiYgaXRlbS55ID09IGZyb21ZKSB7IHJldHVybjsgfVxuXHRcdFxuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuXHRcdFxuXHRcdGZvciAodmFyIGk9MDtpPG5laWdoYm9ycy5sZW5ndGg7aSsrKSB7XG5cdFx0XHR2YXIgbmVpZ2hib3IgPSBuZWlnaGJvcnNbaV07XG5cdFx0XHR2YXIgeCA9IG5laWdoYm9yWzBdO1xuXHRcdFx0dmFyIHkgPSBuZWlnaGJvclsxXTtcblx0XHRcdHZhciBpZCA9IHgrXCIsXCIreTtcblx0XHRcdGlmIChpZCBpbiB0aGlzLl9jb21wdXRlZCkgeyBjb250aW51ZTsgfSAvKiBhbHJlYWR5IGRvbmUgKi9cdFxuXHRcdFx0dGhpcy5fYWRkKHgsIHksIGl0ZW0pOyBcblx0XHR9XG5cdH1cbn1cblxuUk9ULlBhdGguRGlqa3N0cmEucHJvdG90eXBlLl9hZGQgPSBmdW5jdGlvbih4LCB5LCBwcmV2KSB7XG5cdHZhciBvYmogPSB7XG5cdFx0eDogeCxcblx0XHR5OiB5LFxuXHRcdHByZXY6IHByZXZcblx0fVxuXHR0aGlzLl9jb21wdXRlZFt4K1wiLFwiK3ldID0gb2JqO1xuXHR0aGlzLl90b2RvLnB1c2gob2JqKTtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsaWZpZWQgQSogYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5ST1QuUGF0aC5BU3RhciA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5QYXRoLmNhbGwodGhpcywgdG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuXG5cdHRoaXMuX3RvZG8gPSBbXTtcblx0dGhpcy5fZG9uZSA9IHt9O1xuXHR0aGlzLl9mcm9tWCA9IG51bGw7XG5cdHRoaXMuX2Zyb21ZID0gbnVsbDtcbn1cblJPVC5QYXRoLkFTdGFyLmV4dGVuZChST1QuUGF0aCk7XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAc2VlIFJPVC5QYXRoI2NvbXB1dGVcbiAqL1xuUk9ULlBhdGguQVN0YXIucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG5cdHRoaXMuX3RvZG8gPSBbXTtcblx0dGhpcy5fZG9uZSA9IHt9O1xuXHR0aGlzLl9mcm9tWCA9IGZyb21YO1xuXHR0aGlzLl9mcm9tWSA9IGZyb21ZO1xuXHR0aGlzLl9hZGQodGhpcy5fdG9YLCB0aGlzLl90b1ksIG51bGwpO1xuXG5cdHdoaWxlICh0aGlzLl90b2RvLmxlbmd0aCkge1xuXHRcdHZhciBpdGVtID0gdGhpcy5fdG9kby5zaGlmdCgpO1xuXHRcdGlmIChpdGVtLnggPT0gZnJvbVggJiYgaXRlbS55ID09IGZyb21ZKSB7IGJyZWFrOyB9XG5cdFx0dmFyIG5laWdoYm9ycyA9IHRoaXMuX2dldE5laWdoYm9ycyhpdGVtLngsIGl0ZW0ueSk7XG5cblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvcnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuXHRcdFx0dmFyIHggPSBuZWlnaGJvclswXTtcblx0XHRcdHZhciB5ID0gbmVpZ2hib3JbMV07XG5cdFx0XHR2YXIgaWQgPSB4K1wiLFwiK3k7XG5cdFx0XHRpZiAoaWQgaW4gdGhpcy5fZG9uZSkgeyBjb250aW51ZTsgfVxuXHRcdFx0dGhpcy5fYWRkKHgsIHksIGl0ZW0pOyBcblx0XHR9XG5cdH1cblx0XG5cdHZhciBpdGVtID0gdGhpcy5fZG9uZVtmcm9tWCtcIixcIitmcm9tWV07XG5cdGlmICghaXRlbSkgeyByZXR1cm47IH1cblx0XG5cdHdoaWxlIChpdGVtKSB7XG5cdFx0Y2FsbGJhY2soaXRlbS54LCBpdGVtLnkpO1xuXHRcdGl0ZW0gPSBpdGVtLnByZXY7XG5cdH1cbn1cblxuUk9ULlBhdGguQVN0YXIucHJvdG90eXBlLl9hZGQgPSBmdW5jdGlvbih4LCB5LCBwcmV2KSB7XG5cdHZhciBvYmogPSB7XG5cdFx0eDogeCxcblx0XHR5OiB5LFxuXHRcdHByZXY6IHByZXYsXG5cdFx0ZzogKHByZXYgPyBwcmV2LmcrMSA6IDApLFxuXHRcdGg6IHRoaXMuX2Rpc3RhbmNlKHgsIHkpXG5cdH1cblx0dGhpcy5fZG9uZVt4K1wiLFwiK3ldID0gb2JqO1xuXHRcblx0LyogaW5zZXJ0IGludG8gcHJpb3JpdHkgcXVldWUgKi9cblx0XG5cdHZhciBmID0gb2JqLmcgKyBvYmouaDtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fdG9kby5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSB0aGlzLl90b2RvW2ldO1xuXHRcdGlmIChmIDwgaXRlbS5nICsgaXRlbS5oKSB7XG5cdFx0XHR0aGlzLl90b2RvLnNwbGljZShpLCAwLCBvYmopO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fdG9kby5wdXNoKG9iaik7XG59XG5cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5fZGlzdGFuY2UgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHN3aXRjaCAodGhpcy5fb3B0aW9ucy50b3BvbG9neSkge1xuXHRcdGNhc2UgNDpcblx0XHRcdHJldHVybiAoTWF0aC5hYnMoeC10aGlzLl9mcm9tWCkgKyBNYXRoLmFicyh5LXRoaXMuX2Zyb21ZKSk7XG5cdFx0YnJlYWs7XG5cblx0XHRjYXNlIDY6XG5cdFx0XHR2YXIgZHggPSBNYXRoLmFicyh4IC0gdGhpcy5fZnJvbVgpO1xuXHRcdFx0dmFyIGR5ID0gTWF0aC5hYnMoeSAtIHRoaXMuX2Zyb21ZKTtcblx0XHRcdHJldHVybiBkeSArIE1hdGgubWF4KDAsIChkeC1keSkvMik7XG5cdFx0YnJlYWs7XG5cblx0XHRjYXNlIDg6IFxuXHRcdFx0cmV0dXJuIE1hdGgubWF4KE1hdGguYWJzKHgtdGhpcy5fZnJvbVgpLCBNYXRoLmFicyh5LXRoaXMuX2Zyb21ZKSk7XG5cdFx0YnJlYWs7XG5cdH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIHRvcG9sb2d5XCIpO1xufVxuLyoqXG4gKiBAY2xhc3MgVGVybWluYWwgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuQmFja2VuZC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXHR0aGlzLl9jeCA9IC0xO1xuXHR0aGlzLl9jeSA9IC0xO1xuXHR0aGlzLl9sYXN0Q29sb3IgPSBcIlwiO1xuXHR0aGlzLl9vcHRpb25zID0ge307XG5cdHRoaXMuX294ID0gMDtcblx0dGhpcy5fb3kgPSAwO1xuXHR0aGlzLl90ZXJtY29sb3IgPSB7fTtcbn1cblJPVC5EaXNwbGF5LlRlcm0uZXh0ZW5kKFJPVC5EaXNwbGF5LkJhY2tlbmQpO1xuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblx0dGhpcy5fb3ggPSBNYXRoLmZsb29yKChwcm9jZXNzLnN0ZG91dC5jb2x1bW5zIC0gb3B0aW9ucy53aWR0aCkgLyAyKTtcblx0dGhpcy5fb3kgPSBNYXRoLmZsb29yKChwcm9jZXNzLnN0ZG91dC5yb3dzIC0gb3B0aW9ucy5oZWlnaHQpIC8gMik7XG5cdHRoaXMuX3Rlcm1jb2xvciA9IG5ldyBST1QuRGlzcGxheS5UZXJtW29wdGlvbnMudGVybUNvbG9yLmNhcGl0YWxpemUoKV0odGhpcy5fY29udGV4dCk7XG5cdHRoaXMuX2NvbnRleHQuX3Rlcm1jb2xvciA9IHRoaXMuX3Rlcm1jb2xvcjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdC8vIGRldGVybWluZSB3aGVyZSB0byBkcmF3IHdoYXQgd2l0aCB3aGF0IGNvbG9yc1xuXHR2YXIgeCA9IGRhdGFbMF07XG5cdHZhciB5ID0gZGF0YVsxXTtcblx0dmFyIGNoID0gZGF0YVsyXTtcblx0dmFyIGZnID0gZGF0YVszXTtcblx0dmFyIGJnID0gZGF0YVs0XTtcblxuXHQvLyBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byBtb3ZlIHRoZSB0ZXJtaW5hbCBjdXJzb3Jcblx0dmFyIGR4ID0gdGhpcy5fb3ggKyB4O1xuXHR2YXIgZHkgPSB0aGlzLl9veSArIHk7XG5cdGlmIChkeCA8IDAgfHwgZHggPj0gcHJvY2Vzcy5zdGRvdXQuY29sdW1ucykgeyByZXR1cm47IH1cblx0aWYgKGR5IDwgMCB8fCBkeSA+PSBwcm9jZXNzLnN0ZG91dC5yb3dzKSB7IHJldHVybjsgfVxuXHRpZiAoZHggIT09IHRoaXMuX2N4IHx8IGR5ICE9PSB0aGlzLl9jeSkge1xuXHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKHRoaXMuX3Rlcm1jb2xvci5wb3NpdGlvblRvQW5zaShkeCxkeSkpO1xuXHRcdHRoaXMuX2N4ID0gZHg7XG5cdFx0dGhpcy5fY3kgPSBkeTtcblx0fVxuXG5cdC8vIHRlcm1pbmFscyBhdXRvbWF0aWNhbGx5IGNsZWFyLCBidXQgaWYgd2UncmUgY2xlYXJpbmcgd2hlbiB3ZSdyZVxuXHQvLyBub3Qgb3RoZXJ3aXNlIHByb3ZpZGVkIHdpdGggYSBjaGFyYWN0ZXIsIGp1c3QgdXNlIGEgc3BhY2UgaW5zdGVhZFxuXHRpZiAoY2xlYXJCZWZvcmUpIHtcblx0XHRpZiAoIWNoKSB7XG5cdFx0XHRjaCA9IFwiIFwiO1xuXHRcdH1cblx0fVxuXHRcdFxuXHQvLyBpZiB3ZSdyZSBub3QgY2xlYXJpbmcgYW5kIG5vdCBwcm92aWRlZCB3aXRoIGEgY2hhcmFjdGVyLCBkbyBub3RoaW5nXG5cdGlmICghY2gpIHsgcmV0dXJuOyB9XG5cblx0Ly8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gY2hhbmdlIGNvbG9yc1xuXHR2YXIgbmV3Q29sb3IgPSB0aGlzLl90ZXJtY29sb3IuY29sb3JUb0Fuc2koZmcsYmcpO1xuXHRpZiAobmV3Q29sb3IgIT09IHRoaXMuX2xhc3RDb2xvcikge1xuXHRcdHByb2Nlc3Muc3Rkb3V0LndyaXRlKG5ld0NvbG9yKTtcblx0XHR0aGlzLl9sYXN0Q29sb3IgPSBuZXdDb2xvcjtcblx0fVxuXG5cdC8vIHdyaXRlIHRoZSBwcm92aWRlZCBzeW1ib2wgdG8gdGhlIGRpc3BsYXlcblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0cHJvY2Vzcy5zdGRvdXQud3JpdGUoY2hhcnNbMF0pO1xuXG5cdC8vIHVwZGF0ZSBvdXIgcG9zaXRpb24sIGdpdmVuIHRoYXQgd2Ugd3JvdGUgYSBjaGFyYWN0ZXJcblx0dGhpcy5fY3grKztcblx0aWYgKHRoaXMuX2N4ID49IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMpIHtcblx0XHR0aGlzLl9jeCA9IDA7XG5cdFx0dGhpcy5fY3krKztcblx0fVxufVxuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiBbcHJvY2Vzcy5zdGRvdXQuY29sdW1ucywgcHJvY2Vzcy5zdGRvdXQucm93c107XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiAxMjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gW3gseV1cbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHRlcm1pbmFsIGNvZGUgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5UZXJtLkNvbG9yID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHR0aGlzLl9jb250ZXh0ID0gY29udGV4dDtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUuY2xlYXJUb0Fuc2kgPSBmdW5jdGlvbihiZykge1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLkNvbG9yLnByb3RvdHlwZS5jb2xvclRvQW5zaSA9IGZ1bmN0aW9uKGZnLCBiZykge1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLkNvbG9yLnByb3RvdHlwZS5wb3NpdGlvblRvQW5zaSA9IGZ1bmN0aW9uKHgsIHkpIHtcbn1cbi8qKlxuICogQGNsYXNzIHh0ZXJtIHRlcm1pbmFsIGNvZGUgbW9kdWxlXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRST1QuRGlzcGxheS5UZXJtLkNvbG9yLmNhbGwodGhpcywgY29udGV4dCk7XG59XG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLmV4dGVuZChST1QuRGlzcGxheS5UZXJtLkNvbG9yKTtcblxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5wcm90b3R5cGUuY2xlYXJUb0Fuc2kgPSBmdW5jdGlvbihiZykge1xuXHRyZXR1cm4gXCJcXHgxYlswOzQ4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihiZylcblx0XHQrIFwibVxceDFiWzJKXCI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLmNvbG9yVG9BbnNpID0gZnVuY3Rpb24oZmcsIGJnKSB7XG5cdHJldHVybiBcIlxceDFiWzA7Mzg7NTtcIlxuXHRcdCsgdGhpcy5fdGVybWNvbG9yKGZnKVxuXHRcdCsgXCI7NDg7NTtcIlxuXHRcdCsgdGhpcy5fdGVybWNvbG9yKGJnKVxuXHRcdCsgXCJtXCI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLnBvc2l0aW9uVG9BbnNpID0gZnVuY3Rpb24oeCwgeSkge1xuXHRyZXR1cm4gXCJcXHgxYltcIiArICh5KzEpICsgXCI7XCIgKyAoeCsxKSArIFwiSFwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5fdGVybWNvbG9yID0gZnVuY3Rpb24oY29sb3IpIHtcblx0dmFyIFNSQ19DT0xPUlMgPSAyNTYuMDtcblx0dmFyIERTVF9DT0xPUlMgPSA2LjA7XG5cdHZhciBDT0xPUl9SQVRJTyA9IERTVF9DT0xPUlMgLyBTUkNfQ09MT1JTO1xuXHR2YXIgcmdiID0gUk9ULkNvbG9yLmZyb21TdHJpbmcoY29sb3IpO1xuXHR2YXIgciA9IE1hdGguZmxvb3IocmdiWzBdICogQ09MT1JfUkFUSU8pO1xuXHR2YXIgZyA9IE1hdGguZmxvb3IocmdiWzFdICogQ09MT1JfUkFUSU8pO1xuXHR2YXIgYiA9IE1hdGguZmxvb3IocmdiWzJdICogQ09MT1JfUkFUSU8pO1xuXHRyZXR1cm4gciozNiArIGcqNiArIGIqMSArIDE2O1xufVxuLyoqXG4gKiBFeHBvcnQgdG8gTm9kZS5qcyBtb2R1bGVcbiAqL1xuZm9yICh2YXIgcCBpbiBST1QpIHtcblx0ZXhwb3J0c1twXSA9IFJPVFtwXTtcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoJ19wcm9jZXNzJyksdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcblxufSx7XCJfcHJvY2Vzc1wiOjF9XSwzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbih3aW5kb3cpIHtcbiAgICB2YXIgcmUgPSB7XG4gICAgICAgIG5vdF9zdHJpbmc6IC9bXnNdLyxcbiAgICAgICAgbnVtYmVyOiAvW2RpZWZnXS8sXG4gICAgICAgIGpzb246IC9bal0vLFxuICAgICAgICBub3RfanNvbjogL1teal0vLFxuICAgICAgICB0ZXh0OiAvXlteXFx4MjVdKy8sXG4gICAgICAgIG1vZHVsbzogL15cXHgyNXsyfS8sXG4gICAgICAgIHBsYWNlaG9sZGVyOiAvXlxceDI1KD86KFsxLTldXFxkKilcXCR8XFwoKFteXFwpXSspXFwpKT8oXFwrKT8oMHwnW14kXSk/KC0pPyhcXGQrKT8oPzpcXC4oXFxkKykpPyhbYi1naWpvc3V4WF0pLyxcbiAgICAgICAga2V5OiAvXihbYS16X11bYS16X1xcZF0qKS9pLFxuICAgICAgICBrZXlfYWNjZXNzOiAvXlxcLihbYS16X11bYS16X1xcZF0qKS9pLFxuICAgICAgICBpbmRleF9hY2Nlc3M6IC9eXFxbKFxcZCspXFxdLyxcbiAgICAgICAgc2lnbjogL15bXFwrXFwtXS9cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzcHJpbnRmKCkge1xuICAgICAgICB2YXIga2V5ID0gYXJndW1lbnRzWzBdLCBjYWNoZSA9IHNwcmludGYuY2FjaGVcbiAgICAgICAgaWYgKCEoY2FjaGVba2V5XSAmJiBjYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSkge1xuICAgICAgICAgICAgY2FjaGVba2V5XSA9IHNwcmludGYucGFyc2Uoa2V5KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcHJpbnRmLmZvcm1hdC5jYWxsKG51bGwsIGNhY2hlW2tleV0sIGFyZ3VtZW50cylcbiAgICB9XG5cbiAgICBzcHJpbnRmLmZvcm1hdCA9IGZ1bmN0aW9uKHBhcnNlX3RyZWUsIGFyZ3YpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IDEsIHRyZWVfbGVuZ3RoID0gcGFyc2VfdHJlZS5sZW5ndGgsIG5vZGVfdHlwZSA9IFwiXCIsIGFyZywgb3V0cHV0ID0gW10sIGksIGssIG1hdGNoLCBwYWQsIHBhZF9jaGFyYWN0ZXIsIHBhZF9sZW5ndGgsIGlzX3Bvc2l0aXZlID0gdHJ1ZSwgc2lnbiA9IFwiXCJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRyZWVfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5vZGVfdHlwZSA9IGdldF90eXBlKHBhcnNlX3RyZWVbaV0pXG4gICAgICAgICAgICBpZiAobm9kZV90eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0W291dHB1dC5sZW5ndGhdID0gcGFyc2VfdHJlZVtpXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZV90eXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgICAgICBtYXRjaCA9IHBhcnNlX3RyZWVbaV0gLy8gY29udmVuaWVuY2UgcHVycG9zZXMgb25seVxuICAgICAgICAgICAgICAgIGlmIChtYXRjaFsyXSkgeyAvLyBrZXl3b3JkIGFyZ3VtZW50XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3ZbY3Vyc29yXVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgbWF0Y2hbMl0ubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYXJnLmhhc093blByb3BlcnR5KG1hdGNoWzJdW2tdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzcHJpbnRmKFwiW3NwcmludGZdIHByb3BlcnR5ICclcycgZG9lcyBub3QgZXhpc3RcIiwgbWF0Y2hbMl1ba10pKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnW21hdGNoWzJdW2tdXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1hdGNoWzFdKSB7IC8vIHBvc2l0aW9uYWwgYXJndW1lbnQgKGV4cGxpY2l0KVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd2W21hdGNoWzFdXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gcG9zaXRpb25hbCBhcmd1bWVudCAoaW1wbGljaXQpXG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3ZbY3Vyc29yKytdXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdldF90eXBlKGFyZykgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZygpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlLm5vdF9zdHJpbmcudGVzdChtYXRjaFs4XSkgJiYgcmUubm90X2pzb24udGVzdChtYXRjaFs4XSkgJiYgKGdldF90eXBlKGFyZykgIT0gXCJudW1iZXJcIiAmJiBpc05hTihhcmcpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHNwcmludGYoXCJbc3ByaW50Zl0gZXhwZWN0aW5nIG51bWJlciBidXQgZm91bmQgJXNcIiwgZ2V0X3R5cGUoYXJnKSkpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlLm51bWJlci50ZXN0KG1hdGNoWzhdKSkge1xuICAgICAgICAgICAgICAgICAgICBpc19wb3NpdGl2ZSA9IGFyZyA+PSAwXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaFs4XSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDIpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGFyZylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IHBhcnNlSW50KGFyZywgMTApXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJqXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBKU09OLnN0cmluZ2lmeShhcmcsIG51bGwsIG1hdGNoWzZdID8gcGFyc2VJbnQobWF0Y2hbNl0pIDogMClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IG1hdGNoWzddID8gYXJnLnRvRXhwb25lbnRpYWwobWF0Y2hbN10pIDogYXJnLnRvRXhwb25lbnRpYWwoKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gbWF0Y2hbN10gPyBwYXJzZUZsb2F0KGFyZykudG9GaXhlZChtYXRjaFs3XSkgOiBwYXJzZUZsb2F0KGFyZylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IG1hdGNoWzddID8gcGFyc2VGbG9hdChhcmcpLnRvUHJlY2lzaW9uKG1hdGNoWzddKSA6IHBhcnNlRmxvYXQoYXJnKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSAoKGFyZyA9IFN0cmluZyhhcmcpKSAmJiBtYXRjaFs3XSA/IGFyZy5zdWJzdHJpbmcoMCwgbWF0Y2hbN10pIDogYXJnKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnID4+PiAwXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcudG9TdHJpbmcoMTYpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJYXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlLmpzb24udGVzdChtYXRjaFs4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W291dHB1dC5sZW5ndGhdID0gYXJnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmUubnVtYmVyLnRlc3QobWF0Y2hbOF0pICYmICghaXNfcG9zaXRpdmUgfHwgbWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gaXNfcG9zaXRpdmUgPyBcIitcIiA6IFwiLVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcudG9TdHJpbmcoKS5yZXBsYWNlKHJlLnNpZ24sIFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gXCJcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhZF9jaGFyYWN0ZXIgPSBtYXRjaFs0XSA/IG1hdGNoWzRdID09PSBcIjBcIiA/IFwiMFwiIDogbWF0Y2hbNF0uY2hhckF0KDEpIDogXCIgXCJcbiAgICAgICAgICAgICAgICAgICAgcGFkX2xlbmd0aCA9IG1hdGNoWzZdIC0gKHNpZ24gKyBhcmcpLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICBwYWQgPSBtYXRjaFs2XSA/IChwYWRfbGVuZ3RoID4gMCA/IHN0cl9yZXBlYXQocGFkX2NoYXJhY3RlciwgcGFkX2xlbmd0aCkgOiBcIlwiKSA6IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W291dHB1dC5sZW5ndGhdID0gbWF0Y2hbNV0gPyBzaWduICsgYXJnICsgcGFkIDogKHBhZF9jaGFyYWN0ZXIgPT09IFwiMFwiID8gc2lnbiArIHBhZCArIGFyZyA6IHBhZCArIHNpZ24gKyBhcmcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQuam9pbihcIlwiKVxuICAgIH1cblxuICAgIHNwcmludGYuY2FjaGUgPSB7fVxuXG4gICAgc3ByaW50Zi5wYXJzZSA9IGZ1bmN0aW9uKGZtdCkge1xuICAgICAgICB2YXIgX2ZtdCA9IGZtdCwgbWF0Y2ggPSBbXSwgcGFyc2VfdHJlZSA9IFtdLCBhcmdfbmFtZXMgPSAwXG4gICAgICAgIHdoaWxlIChfZm10KSB7XG4gICAgICAgICAgICBpZiAoKG1hdGNoID0gcmUudGV4dC5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcnNlX3RyZWVbcGFyc2VfdHJlZS5sZW5ndGhdID0gbWF0Y2hbMF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChtYXRjaCA9IHJlLm1vZHVsby5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcnNlX3RyZWVbcGFyc2VfdHJlZS5sZW5ndGhdID0gXCIlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChtYXRjaCA9IHJlLnBsYWNlaG9sZGVyLmV4ZWMoX2ZtdCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoWzJdKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ19uYW1lcyB8PSAxXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZF9saXN0ID0gW10sIHJlcGxhY2VtZW50X2ZpZWxkID0gbWF0Y2hbMl0sIGZpZWxkX21hdGNoID0gW11cbiAgICAgICAgICAgICAgICAgICAgaWYgKChmaWVsZF9tYXRjaCA9IHJlLmtleS5leGVjKHJlcGxhY2VtZW50X2ZpZWxkKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgocmVwbGFjZW1lbnRfZmllbGQgPSByZXBsYWNlbWVudF9maWVsZC5zdWJzdHJpbmcoZmllbGRfbWF0Y2hbMF0ubGVuZ3RoKSkgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZpZWxkX21hdGNoID0gcmUua2V5X2FjY2Vzcy5leGVjKHJlcGxhY2VtZW50X2ZpZWxkKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRfbGlzdFtmaWVsZF9saXN0Lmxlbmd0aF0gPSBmaWVsZF9tYXRjaFsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoZmllbGRfbWF0Y2ggPSByZS5pbmRleF9hY2Nlc3MuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIltzcHJpbnRmXSBmYWlsZWQgdG8gcGFyc2UgbmFtZWQgYXJndW1lbnQga2V5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiW3NwcmludGZdIGZhaWxlZCB0byBwYXJzZSBuYW1lZCBhcmd1bWVudCBrZXlcIilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXRjaFsyXSA9IGZpZWxkX2xpc3RcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ19uYW1lcyB8PSAyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhcmdfbmFtZXMgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZFwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJzZV90cmVlW3BhcnNlX3RyZWUubGVuZ3RoXSA9IG1hdGNoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJbc3ByaW50Zl0gdW5leHBlY3RlZCBwbGFjZWhvbGRlclwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZtdCA9IF9mbXQuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VfdHJlZVxuICAgIH1cblxuICAgIHZhciB2c3ByaW50ZiA9IGZ1bmN0aW9uKGZtdCwgYXJndiwgX2FyZ3YpIHtcbiAgICAgICAgX2FyZ3YgPSAoYXJndiB8fCBbXSkuc2xpY2UoMClcbiAgICAgICAgX2FyZ3Yuc3BsaWNlKDAsIDAsIGZtdClcbiAgICAgICAgcmV0dXJuIHNwcmludGYuYXBwbHkobnVsbCwgX2FyZ3YpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogaGVscGVyc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldF90eXBlKHZhcmlhYmxlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFyaWFibGUpLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RyX3JlcGVhdChpbnB1dCwgbXVsdGlwbGllcikge1xuICAgICAgICByZXR1cm4gQXJyYXkobXVsdGlwbGllciArIDEpLmpvaW4oaW5wdXQpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZXhwb3J0IHRvIGVpdGhlciBicm93c2VyIG9yIG5vZGUuanNcbiAgICAgKi9cbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgZXhwb3J0cy5zcHJpbnRmID0gc3ByaW50ZlxuICAgICAgICBleHBvcnRzLnZzcHJpbnRmID0gdnNwcmludGZcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHdpbmRvdy5zcHJpbnRmID0gc3ByaW50ZlxuICAgICAgICB3aW5kb3cudnNwcmludGYgPSB2c3ByaW50ZlxuXG4gICAgICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNwcmludGY6IHNwcmludGYsXG4gICAgICAgICAgICAgICAgICAgIHZzcHJpbnRmOiB2c3ByaW50ZlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59KSh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gdGhpcyA6IHdpbmRvdyk7XG5cbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2dhbWUgPSByZXF1aXJlKCcuL2dhbWUnKTtcblxudmFyIF9nYW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dhbWUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbihmdW5jdGlvbiAod2luZG93LCBjb25zb2xlKSB7XG4gIC8vIHdpbmRvdy5TVEFURSA9IGNyZWF0ZVN0b3JlKFxuICAvLyAgIGdhbWVSZWR1Y2VyLFxuICAvLyAgIGluaXRpYWxTdGF0ZSxcbiAgLy8gICBhcHBseU1pZGRsZXdhcmUoY3JlYXRlTG9nZ2VyKCkpXG4gIC8vICk7XG5cbiAgX2dhbWUyWydkZWZhdWx0J10uc3dpdGNoU2NyZWVuKF9nYW1lMlsnZGVmYXVsdCddLlNjcmVlbi5TdGFydFNjcmVlbik7XG5cbiAgdmFyIG1haW5EaXNwbGF5ID0gX2dhbWUyWydkZWZhdWx0J10uZ2V0RGlzcGxheSgpO1xuICAvLyBjb25zdCBnYW1lQ29uc29sZSA9IG5ldyBST1QuRGlzcGxheSh7XG4gIC8vICAgd2lkdGg6IDQ1LFxuICAvLyAgIGhlaWdodDogMTAsXG4gIC8vICAgZm9udFNpemU6IDE1LFxuICAvLyAgIGZvcmNlU3F1YXJlUmF0aW86IHRydWUsXG4gIC8vIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLWRpc3BsYXknKS5hcHBlbmRDaGlsZChtYWluRGlzcGxheS5nZXRDb250YWluZXIoKSk7XG4gIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb25zb2xlJykuYXBwZW5kQ2hpbGQoZ2FtZUNvbnNvbGUuZ2V0Q29udGFpbmVyKCkpO1xuXG4gIC8vIHdpbmRvdy5TVEFURS5kaXNwYXRjaCh7XG4gIC8vICAgdHlwZTogJ0FERF9NRVNTQUdFJyxcbiAgLy8gICBtZXNzYWdlOiB7IHRleHQ6ICdoZWxsbywgd29ybGQhJyB9LFxuICAvLyB9KTtcbn0pKHdpbmRvdywgd2luZG93LmNvbnNvbGUpOyAvLyBpbXBvcnQgeyBhcHBseU1pZGRsZXdhcmUsIGNyZWF0ZVN0b3JlIH0gZnJvbSAncmVkdXgnO1xuLy8gaW1wb3J0IGNyZWF0ZUxvZ2dlciBmcm9tICdyZWR1eC1sb2dnZXInO1xuLy8gaW1wb3J0IFJPVCBmcm9tICdyb3QtanMnO1xuXG4vLyBpbXBvcnQgZ2FtZVJlZHVjZXIgZnJvbSAnLi9yZWR1Y2Vycyc7XG4vLyBpbXBvcnQgaW5pdGlhbFN0YXRlIGZyb20gJy4vaW5pdGlhbFN0YXRlJztcblxufSx7XCIuL2dhbWVcIjo3fV0sNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nbHlwaCA9IHJlcXVpcmUoJy4vZ2x5cGgnKTtcblxudmFyIF9nbHlwaDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nbHlwaCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRW50aXR5ID0gZnVuY3Rpb24gKF9HbHlwaCkge1xuICBfaW5oZXJpdHMoRW50aXR5LCBfR2x5cGgpO1xuXG4gIGZ1bmN0aW9uIEVudGl0eSgpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW50aXR5KTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChFbnRpdHkuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihFbnRpdHkpKS5jYWxsKHRoaXMsIHByb3BlcnRpZXMpKTtcblxuICAgIF90aGlzLl9uYW1lID0gcHJvcGVydGllcy5uYW1lIHx8ICcnO1xuICAgIF90aGlzLl94ID0gcHJvcGVydGllcy54IHx8IDA7XG4gICAgX3RoaXMuX3kgPSBwcm9wZXJ0aWVzLnkgfHwgMDtcbiAgICBfdGhpcy5fbWFwID0gbnVsbDtcblxuICAgIF90aGlzLl9hdHRhY2hlZE1peGlucyA9IHt9O1xuICAgIF90aGlzLl9hdHRhY2hlZE1peGluR3JvdXBzID0ge307XG4gICAgdmFyIG1peGlucyA9IHByb3BlcnRpZXMubWl4aW5zIHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbWl4aW4gPSBtaXhpbnNbaV07XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG1peGluKTtcblxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2tdO1xuXG4gICAgICAgIGlmIChrZXkgIT09ICdpbml0JyAmJiBrZXkgIT09ICduYW1lJyAmJiBrZXkgIT09ICdncm91cE5hbWUnICYmICFfdGhpcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgX3RoaXNba2V5XSA9IG1peGluW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5fYXR0YWNoZWRNaXhpbnNbbWl4aW4ubmFtZV0gPSB0cnVlO1xuICAgICAgICBpZiAobWl4aW4uZ3JvdXBOYW1lKSB7XG4gICAgICAgICAgX3RoaXMuX2F0dGFjaGVkTWl4aW5Hcm91cHNbbWl4aW4uZ3JvdXBOYW1lXSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWl4aW4uaW5pdCkge1xuICAgICAgICAgIG1peGluLmluaXQuY2FsbChfdGhpcywgcHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEVudGl0eSwgW3tcbiAgICBrZXk6ICdoYXNNaXhpbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGhhc01peGluKG9iaikge1xuICAgICAgICB2YXIgbWl4aW4gPSAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob2JqKSkgPT09ICdvYmplY3QnID8gb2JqLm5hbWUgOiBvYmo7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdHRhY2hlZE1peGluR3JvdXBzW21peGluXSB8fCB0aGlzLl9hdHRhY2hlZE1peGluc1ttaXhpbl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoYXNNaXhpbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3NldE5hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXROYW1lKG5hbWUpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXROYW1lO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0WCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFgoeCkge1xuICAgICAgICB0aGlzLl94ID0geDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldFg7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRZJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0WSh5KSB7XG4gICAgICAgIHRoaXMuX3kgPSB5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0WTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldE5hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE5hbWU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRYJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0WCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3g7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRYO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0WScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldFkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl95O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0WTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3NldE1hcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldE1hcChtYXApIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbWFwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0TWFwO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TWFwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0TWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWFwO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0TWFwO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIEVudGl0eTtcbn0oX2dseXBoMlsnZGVmYXVsdCddKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gRW50aXR5O1xuXG59LHtcIi4vZ2x5cGhcIjo2fV0sNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBHbHlwaCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gR2x5cGgoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdseXBoKTtcblxuICAgIHRoaXMuX2NoYXIgPSBwcm9wZXJ0aWVzLmNoYXIgfHwgJyAnO1xuICAgIHRoaXMuX2ZnID0gcHJvcGVydGllcy5mZyB8fCAnd2hpdGUnO1xuICAgIHRoaXMuX2JnID0gcHJvcGVydGllcy5iZyB8fCAnYmxhY2snO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEdseXBoLCBbe1xuICAgIGtleTogJ2dldENoYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRDaGFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldENoYXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRCYWNrZ3JvdW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0QmFja2dyb3VuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0QmFja2dyb3VuZDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldEZvcmVncm91bmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRGb3JlZ3JvdW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRGb3JlZ3JvdW5kO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIEdseXBoO1xufSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBHbHlwaDtcblxufSx7fV0sNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLkdhbWUgPSB1bmRlZmluZWQ7XG5cbnZhciBfcm90SnMgPSByZXF1aXJlKCdyb3QtanMnKTtcblxudmFyIF9yb3RKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yb3RKcyk7XG5cbnZhciBfc3ByaW50ZkpzID0gcmVxdWlyZSgnc3ByaW50Zi1qcycpO1xuXG52YXIgX3NjcmVlbiA9IHJlcXVpcmUoJy4vc2NyZWVuJyk7XG5cbnZhciBfc2NyZWVuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NjcmVlbik7XG5cbnZhciBfbWl4aW5zID0gcmVxdWlyZSgnLi9taXhpbnMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgZGlzcGxheURlZmF1bHRzID0ge1xuICB3aWR0aDogODAsXG4gIGhlaWdodDogMjQsXG4gIGZvbnRTaXplOiAxNSxcbiAgZm9yY2VTcXVhcmVSYXRpbzogdHJ1ZVxufTtcblxudmFyIEdhbWUgPSBleHBvcnRzLkdhbWUgPSB7XG4gIFNjcmVlbjogX3NjcmVlbjJbJ2RlZmF1bHQnXSxcblxuICBfZGlzcGxheTogbnVsbCxcbiAgX2N1cnJlbnRTY3JlZW46IG51bGwsXG4gIF9zY3JlZW5XaWR0aDogZGlzcGxheURlZmF1bHRzLndpZHRoLFxuICBfc2NyZWVuSGVpZ2h0OiBkaXNwbGF5RGVmYXVsdHMuaGVpZ2h0LFxuXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuX2Rpc3BsYXkgPSBuZXcgX3JvdEpzMlsnZGVmYXVsdCddLkRpc3BsYXkoT2JqZWN0LmFzc2lnbih7fSwgZGlzcGxheURlZmF1bHRzLCBvcHRpb25zKSk7XG4gICAgICB2YXIgX2dhbWUgPSB0aGlzO1xuICAgICAgdmFyIGJpbmRFdmVudFRvU2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBiaW5kRXZlbnRUb1NjcmVlbihldmVudCkge1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKF9nYW1lLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIF9nYW1lLl9jdXJyZW50U2NyZWVuLmhhbmRsZUlucHV0KGV2ZW50LCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiaW5kRXZlbnRUb1NjcmVlbjtcbiAgICAgIH0oKTtcbiAgICAgIFsna2V5ZG93bicsICdrZXl1cCcsICdrZXlwcmVzcyddLmZvckVhY2goYmluZEV2ZW50VG9TY3JlZW4pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXQ7XG4gIH0oKSxcbiAgcmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XG4gICAgICB0aGlzLl9jdXJyZW50U2NyZWVuLnJlbmRlcih0aGlzLl9kaXNwbGF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaDtcbiAgfSgpLFxuICBnZXREaXNwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0RGlzcGxheSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kaXNwbGF5O1xuICAgIH1cblxuICAgIHJldHVybiBnZXREaXNwbGF5O1xuICB9KCksXG4gIGdldFNjcmVlbldpZHRoOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0U2NyZWVuV2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2NyZWVuV2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFNjcmVlbldpZHRoO1xuICB9KCksXG4gIGdldFNjcmVlbkhlaWdodDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldFNjcmVlbkhlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5IZWlnaHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFNjcmVlbkhlaWdodDtcbiAgfSgpLFxuICBzd2l0Y2hTY3JlZW46IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBzd2l0Y2hTY3JlZW4oc2NyZWVuKSB7XG4gICAgICBjb25zb2xlLmxvZygnc3dpdGNoU2NyZWVuJywgc2NyZWVuKTtcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRTY3JlZW4uZXhpdCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdldERpc3BsYXkoKS5jbGVhcigpO1xuXG4gICAgICB0aGlzLl9jdXJyZW50U2NyZWVuID0gc2NyZWVuO1xuXG4gICAgICBpZiAoIXRoaXMuX2N1cnJlbnRTY3JlZW4gIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFNjcmVlbi5lbnRlcigpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3dpdGNoU2NyZWVuO1xuICB9KCksXG4gIHNlbmRNZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UocmVjaXBpZW50LCBtZXNzYWdlLCBhcmdzKSB7XG4gICAgICB2YXIgbXNnID0gdm9pZCAwO1xuICAgICAgaWYgKHJlY2lwaWVudC5oYXNNaXhpbihfbWl4aW5zLk1lc3NhZ2VSZWNpcGllbnQpKSB7XG4gICAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgICAgbXNnID0gKDAsIF9zcHJpbnRmSnMudnNwcmludGYpKG1lc3NhZ2UsIGFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1zZyA9IG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgcmVjaXBpZW50LnJlY2VpdmVNZXNzYWdlKG1zZyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbmRNZXNzYWdlO1xuICB9KCksXG4gIHNlbmRNZXNzYWdlTmVhcmJ5OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2VOZWFyYnkobWFwLCB4LCB5LCBtZXNzYWdlLCBhcmdzKSB7XG4gICAgICB2YXIgbXNnID0gbWVzc2FnZTtcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIG1zZyA9ICgwLCBfc3ByaW50ZkpzLnZzcHJpbnRmKShtZXNzYWdlLCBhcmdzKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudGl0aWVzID0gbWFwLmdldEVudGl0aWVzV2l0aGluUmFkaXVzKHgsIHksIDUpO1xuICAgICAgZW50aXRpZXMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZS5oYXNNaXhpbihfbWl4aW5zLk1lc3NhZ2VSZWNpcGllbnQpKSB7XG4gICAgICAgICAgZS5yZWNlaXZlTWVzc2FnZShtc2cpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VuZE1lc3NhZ2VOZWFyYnk7XG4gIH0oKVxufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gR2FtZS5pbml0KCk7XG5cbn0se1wiLi9taXhpbnNcIjo5LFwiLi9zY3JlZW5cIjoxMCxcInJvdC1qc1wiOjIsXCJzcHJpbnRmLWpzXCI6M31dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JvdEpzID0gcmVxdWlyZSgncm90LWpzJyk7XG5cbnZhciBfcm90SnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcm90SnMpO1xuXG52YXIgX3RlbXBsYXRlcyA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzJyk7XG5cbnZhciBfZW50aXR5ID0gcmVxdWlyZSgnLi9lbnRpdHknKTtcblxudmFyIF9lbnRpdHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZW50aXR5KTtcblxudmFyIF90aWxlID0gcmVxdWlyZSgnLi90aWxlJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIE1hcCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWFwKHRpbGVzLCBwbGF5ZXIpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFwKTtcblxuICAgIC8vIHRpbGVzXG4gICAgdGhpcy5fdGlsZXMgPSB0aWxlcztcbiAgICB0aGlzLl93aWR0aCA9IHRpbGVzLmxlbmd0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSB0aWxlc1swXS5sZW5ndGg7XG5cbiAgICAvLyBlbnRpdGllc1xuICAgIHRoaXMuX2VudGl0aWVzID0gW107XG4gICAgdGhpcy5fc2NoZWR1bGVyID0gbmV3IF9yb3RKczJbJ2RlZmF1bHQnXS5TY2hlZHVsZXIuU2ltcGxlKCk7XG4gICAgdGhpcy5fZW5naW5lID0gbmV3IF9yb3RKczJbJ2RlZmF1bHQnXS5FbmdpbmUodGhpcy5fc2NoZWR1bGVyKTtcblxuICAgIHRoaXMuYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihwbGF5ZXIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1MDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24obmV3IF9lbnRpdHkyWydkZWZhdWx0J10oX3RlbXBsYXRlcy5GdW5ndXNUZW1wbGF0ZSkpO1xuICAgIH1cbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNYXAsIFt7XG4gICAga2V5OiAnZ2V0V2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0V2lkdGg7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRIZWlnaHQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUaWxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0VGlsZSh4LCB5KSB7XG4gICAgICAgIHZhciByZXQgPSBfdGlsZS5OdWxsVGlsZTtcbiAgICAgICAgaWYgKCEoeCA8IDAgfHwgeCA+PSB0aGlzLl93aWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuaGVpZ2h0KSkge1xuICAgICAgICAgIHJldCA9IHRoaXMuX3RpbGVzW3hdW3ldIHx8IHJldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0VGlsZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2RpZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGRpZyh4LCB5KSB7XG4gICAgICAgIGlmICh0aGlzLmdldFRpbGUoeCwgeSkuaXNEaWdnYWJsZSgpKSB7XG4gICAgICAgICAgdGhpcy5fdGlsZXNbeF1beV0gPSBfdGlsZS5GbG9vclRpbGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpZztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldFJhbmRvbUZsb29yUG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRSYW5kb21GbG9vclBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgeCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIHkgPSB2b2lkIDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fd2lkdGgpO1xuICAgICAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9oZWlnaHQpO1xuICAgICAgICB9IHdoaWxlICghdGhpcy5pc0VtcHR5Rmxvb3IoeCwgeSkpO1xuICAgICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRSYW5kb21GbG9vclBvc2l0aW9uO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RW5naW5lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0RW5naW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5naW5lO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RW5naW5lO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RW50aXRpZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRFbnRpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudGl0aWVzO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RW50aXRpZXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFbnRpdHlBdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldEVudGl0eUF0KHgsIHkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBlbnRpdHkgPSB0aGlzLl9lbnRpdGllc1tpXTtcbiAgICAgICAgICBpZiAoZW50aXR5LmdldFgoKSA9PSB4ICYmIGVudGl0eS5nZXRZKCkgPT0geSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRFbnRpdHlBdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldEVudGl0aWVzV2l0aGluUmFkaXVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0RW50aXRpZXNXaXRoaW5SYWRpdXMoY2VudGVyWCwgY2VudGVyWSwgcmFkaXVzKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIHZhciBsZWZ0WCA9IGNlbnRlclggLSByYWRpdXM7XG4gICAgICAgIHZhciByaWdodFggPSBjZW50ZXJYICsgcmFkaXVzO1xuICAgICAgICB2YXIgdG9wWSA9IGNlbnRlclkgLSByYWRpdXM7XG4gICAgICAgIHZhciBib3R0b21ZID0gY2VudGVyWSArIHJhZGl1cztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2VudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGVudGl0eSA9IHRoaXMuX2VudGl0aWVzW2ldO1xuICAgICAgICAgIGlmIChlbnRpdHkuZ2V0WCgpID49IGxlZnRYICYmIGVudGl0eS5nZXRYKCkgPD0gcmlnaHRYICYmIGVudGl0eS5nZXRZKCkgPj0gdG9wWSAmJiBlbnRpdHkuZ2V0WSgpIDw9IGJvdHRvbVkpIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChlbnRpdHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEVudGl0aWVzV2l0aGluUmFkaXVzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnYWRkRW50aXR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gYWRkRW50aXR5KGVudGl0eSkge1xuICAgICAgICBpZiAoZW50aXR5LmdldFgoKSA8IDAgfHwgZW50aXR5LmdldFgoKSA+PSB0aGlzLl93aWR0aCB8fCBlbnRpdHkuZ2V0WSgpIDwgMCB8fCBlbnRpdHkuZ2V0WSgpID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWRkaW5nIGVudGl0eSBvdXQgb2YgYm91bmRzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZW50aXR5LnNldE1hcCh0aGlzKTtcbiAgICAgICAgdGhpcy5fZW50aXRpZXMucHVzaChlbnRpdHkpO1xuXG4gICAgICAgIGlmIChlbnRpdHkuaGFzTWl4aW4oJ0FjdG9yJykpIHtcbiAgICAgICAgICB0aGlzLl9zY2hlZHVsZXIuYWRkKGVudGl0eSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZEVudGl0eTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2FkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBhZGRFbnRpdHlBdFJhbmRvbVBvc2l0aW9uKGVudGl0eSkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSB0aGlzLmdldFJhbmRvbUZsb29yUG9zaXRpb24oKTtcbiAgICAgICAgZW50aXR5LnNldFgocG9zaXRpb24ueCk7XG4gICAgICAgIGVudGl0eS5zZXRZKHBvc2l0aW9uLnkpO1xuICAgICAgICB0aGlzLmFkZEVudGl0eShlbnRpdHkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZUVudGl0eScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbW92ZUVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0aGlzLl9lbnRpdGllc1tpXSA9PSBlbnRpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2VudGl0aWVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50aXR5Lmhhc01peGluKCdBY3RvcicpKSB7XG4gICAgICAgICAgdGhpcy5fc2NoZWR1bGVyLnJlbW92ZShlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVFbnRpdHk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0VtcHR5Rmxvb3InLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc0VtcHR5Rmxvb3IoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUaWxlKHgsIHkpID09IF90aWxlLkZsb29yVGlsZSAmJiAhdGhpcy5nZXRFbnRpdHlBdCh4LCB5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzRW1wdHlGbG9vcjtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBNYXA7XG59KCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IE1hcDtcblxufSx7XCIuL2VudGl0eVwiOjUsXCIuL3RlbXBsYXRlc1wiOjExLFwiLi90aWxlXCI6MTIsXCJyb3QtanNcIjoyfV0sOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLk1lc3NhZ2VSZWNpcGllbnQgPSBleHBvcnRzLkF0dGFja2VyID0gZXhwb3J0cy5EaWdnZXIgPSBleHBvcnRzLkRlc3RydWN0aWJsZSA9IGV4cG9ydHMuRnVuZ3VzQWN0b3IgPSBleHBvcnRzLlBsYXllckFjdG9yID0gZXhwb3J0cy5Nb3ZlYWJsZSA9IHVuZGVmaW5lZDtcblxudmFyIF9lbnRpdHkgPSByZXF1aXJlKCcuL2VudGl0eScpO1xuXG52YXIgX2VudGl0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbnRpdHkpO1xuXG52YXIgX3RlbXBsYXRlcyA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzJyk7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuL2luZGV4Jyk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBNb3ZlYWJsZSA9IGV4cG9ydHMuTW92ZWFibGUgPSB7XG4gIG5hbWU6ICdNb3ZlYWJsZScsXG4gIHRyeU1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB0cnlNb3ZlKHgsIHksIG1hcCkge1xuICAgICAgdmFyIHRpbGUgPSBtYXAuZ2V0VGlsZSh4LCB5KTtcbiAgICAgIHZhciB0YXJnZXQgPSBtYXAuZ2V0RW50aXR5QXQoeCwgeSk7XG5cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzTWl4aW4oJ0F0dGFja2VyJykpIHtcbiAgICAgICAgICB0aGlzLmF0dGFjayh0YXJnZXQpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRpbGUuaXNXYWxrYWJsZSgpKSB7XG4gICAgICAgIHRoaXMuX3ggPSB4O1xuICAgICAgICB0aGlzLl95ID0geTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRpbGUuaXNEaWdnYWJsZSgpKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc01peGluKCdEaWdnZXInKSkge1xuICAgICAgICAgIHRoaXMuZGlnKHgsIHksIG1hcCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ5TW92ZTtcbiAgfSgpXG59O1xuXG52YXIgUGxheWVyQWN0b3IgPSBleHBvcnRzLlBsYXllckFjdG9yID0ge1xuICBuYW1lOiAnUGxheWVyQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG5cbiAgYWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYWN0KCkge1xuICAgICAgX2luZGV4MlsnZGVmYXVsdCddLnJlZnJlc2goKTtcbiAgICAgIHRoaXMuZ2V0TWFwKCkuZ2V0RW5naW5lKCkubG9jaygpO1xuICAgICAgdGhpcy5jbGVhck1lc3NhZ2VzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdDtcbiAgfSgpXG59O1xuXG52YXIgRnVuZ3VzQWN0b3IgPSBleHBvcnRzLkZ1bmd1c0FjdG9yID0ge1xuICBuYW1lOiAnRnVuZ3VzQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgdGhpcy5fZ3Jvd3Roc1JlbWFpbmluZyA9IDU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXQ7XG4gIH0oKSxcbiAgYWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYWN0KCkge1xuICAgICAgaWYgKHRoaXMuX2dyb3d0aHNSZW1haW5pbmcgPiAwKSB7XG4gICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDw9IDAuMDIpIHtcbiAgICAgICAgICB2YXIgeE9mZnNldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTtcbiAgICAgICAgICB2YXIgeU9mZnNldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTtcbiAgICAgICAgICBpZiAoeE9mZnNldCAhPT0gMCB8fCB5T2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRNYXAoKS5pc0VtcHR5Rmxvb3IodGhpcy5nZXRYKCkgKyB4T2Zmc2V0LCB0aGlzLmdldFkoKSArIHlPZmZzZXQpKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBuZXcgX2VudGl0eTJbJ2RlZmF1bHQnXShfdGVtcGxhdGVzLkZ1bmd1c1RlbXBsYXRlKTtcbiAgICAgICAgICAgICAgZW50aXR5LnNldFgodGhpcy5nZXRYKCkgKyB4T2Zmc2V0KTtcbiAgICAgICAgICAgICAgZW50aXR5LnNldFkodGhpcy5nZXRZKCkgKyB5T2Zmc2V0KTtcbiAgICAgICAgICAgICAgdGhpcy5nZXRNYXAoKS5hZGRFbnRpdHkoZW50aXR5KTtcbiAgICAgICAgICAgICAgdGhpcy5fZ3Jvd3Roc1JlbWFpbmluZy0tO1xuXG4gICAgICAgICAgICAgIF9pbmRleDJbJ2RlZmF1bHQnXS5zZW5kTWVzc2FnZU5lYXJieSh0aGlzLmdldE1hcCgpLCBlbnRpdHkuZ2V0WCgpLCBlbnRpdHkuZ2V0WSgpLCAnVGhlIGZ1bmd1cyBpcyBzcHJlYWRpbmchJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdDtcbiAgfSgpXG59O1xuXG52YXIgRGVzdHJ1Y3RpYmxlID0gZXhwb3J0cy5EZXN0cnVjdGlibGUgPSB7XG4gIG5hbWU6ICdEZXN0cnVjdGlibGUnLFxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaW5pdCh0ZW1wbGF0ZSkge1xuICAgICAgdGhpcy5fbWF4SFAgPSB0ZW1wbGF0ZS5tYXhIUCB8fCAxMDtcbiAgICAgIHRoaXMuX0hQID0gdGVtcGxhdGUuSFAgfHwgdGhpcy5fbWF4SFA7XG5cbiAgICAgIHRoaXMuX2RlZmVuc2VWYWx1ZSA9IHRlbXBsYXRlLmRlZmVuc2VWYWx1ZSB8fCAwO1xuICAgIH1cblxuICAgIHJldHVybiBpbml0O1xuICB9KCksXG4gIGdldEhQOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0SFAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fSFA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldEhQO1xuICB9KCksXG4gIGdldE1heEhQOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0TWF4SFAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWF4SFA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE1heEhQO1xuICB9KCksXG4gIGdldERlZmVuc2VWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldERlZmVuc2VWYWx1ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9kZWZlbnNlVmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldERlZmVuc2VWYWx1ZTtcbiAgfSgpLFxuICB0YWtlRGFtYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdGFrZURhbWFnZShhdHRhY2tlciwgZGFtYWdlKSB7XG4gICAgICB0aGlzLl9IUCAtPSBkYW1hZ2U7XG5cbiAgICAgIGlmICh0aGlzLl9IUCA8PSAwKSB7XG4gICAgICAgIF9pbmRleDJbJ2RlZmF1bHQnXS5zZW5kTWVzc2FnZShhdHRhY2tlciwgJ1lvdSBraWxsIHRoZSAlcyEnLCBbdGhpcy5nZXROYW1lKCldKTtcbiAgICAgICAgX2luZGV4MlsnZGVmYXVsdCddLnNlbmRNZXNzYWdlKHRoaXMsICdZb3UgZGllIScpO1xuXG4gICAgICAgIHRoaXMuZ2V0TWFwKCkucmVtb3ZlRW50aXR5KHRoaXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YWtlRGFtYWdlO1xuICB9KClcbn07XG5cbnZhciBEaWdnZXIgPSBleHBvcnRzLkRpZ2dlciA9IHtcbiAgbmFtZTogJ1NpbXBsZURpZ2dlcicsXG4gIGdyb3VwTmFtZTogJ0RpZ2dlcicsXG4gIGRpZzogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRpZyh4LCB5LCBtYXApIHtcbiAgICAgIG1hcC5kaWcoeCwgeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZztcbiAgfSgpXG59O1xuXG52YXIgQXR0YWNrZXIgPSBleHBvcnRzLkF0dGFja2VyID0ge1xuICBuYW1lOiAnQXR0YWNrZXInLFxuICBncm91cE5hbWU6ICdBdHRhY2tlcicsXG4gIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpbml0KHRlbXBsYXRlKSB7XG4gICAgICB0aGlzLl9hdHRhY2tWYWx1ZSA9IHRlbXBsYXRlLmF0dGFja1ZhbHVlIHx8IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXQ7XG4gIH0oKSxcbiAgZ2V0QXR0YWNrVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXRBdHRhY2tWYWx1ZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hdHRhY2tWYWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0QXR0YWNrVmFsdWU7XG4gIH0oKSxcbiAgYXR0YWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYXR0YWNrKHRhcmdldCkge1xuICAgICAgaWYgKHRhcmdldC5oYXNNaXhpbignRGVzdHJ1Y3RpYmxlJykpIHtcbiAgICAgICAgdmFyIGF0dGFjayA9IHRoaXMuZ2V0QXR0YWNrVmFsdWUoKTtcbiAgICAgICAgdmFyIGRlZmVuc2UgPSB0YXJnZXQuZ2V0RGVmZW5zZVZhbHVlKCk7XG4gICAgICAgIHZhciBtYXggPSBNYXRoLm1heCgwLCBhdHRhY2sgLSBkZWZlbnNlKTtcbiAgICAgICAgdmFyIGRhbWFnZSA9IDEgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpO1xuXG4gICAgICAgIF9pbmRleDJbJ2RlZmF1bHQnXS5zZW5kTWVzc2FnZSh0aGlzLCAnWW91IHN0cmlrZSB0aGUgJXMgZm9yICVkIGRhbWFnZSEnLCBbdGFyZ2V0LmdldE5hbWUoKSwgZGFtYWdlXSk7XG4gICAgICAgIF9pbmRleDJbJ2RlZmF1bHQnXS5zZW5kTWVzc2FnZSh0YXJnZXQsICdUaGUgJXMgc3RyaWtlcyB5b3UgZm9yICVkIGRhbWFnZSEnLCBbdGhpcy5nZXROYW1lKCksIGRhbWFnZV0pO1xuXG4gICAgICAgIHRhcmdldC50YWtlRGFtYWdlKHRoaXMsIGRhbWFnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dGFjaztcbiAgfSgpXG59O1xuXG52YXIgTWVzc2FnZVJlY2lwaWVudCA9IGV4cG9ydHMuTWVzc2FnZVJlY2lwaWVudCA9IHtcbiAgbmFtZTogJ01lc3NhZ2VSZWNpcGllbnQnLFxuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaW5pdCh0ZW1wbGF0ZSkge1xuICAgICAgdGhpcy5fbWVzc2FnZXMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5pdDtcbiAgfSgpLFxuICByZWNlaXZlTWVzc2FnZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuX21lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY2VpdmVNZXNzYWdlO1xuICB9KCksXG4gIGdldE1lc3NhZ2VzOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0TWVzc2FnZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE1lc3NhZ2VzO1xuICB9KCksXG4gIGNsZWFyTWVzc2FnZXM6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjbGVhck1lc3NhZ2VzKCkge1xuICAgICAgdGhpcy5fbWVzc2FnZXMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYXJNZXNzYWdlcztcbiAgfSgpXG59O1xuXG59LHtcIi4vZW50aXR5XCI6NSxcIi4vaW5kZXhcIjo3LFwiLi90ZW1wbGF0ZXNcIjoxMX1dLDEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yb3RKcyA9IHJlcXVpcmUoJ3JvdC1qcycpO1xuXG52YXIgX3JvdEpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JvdEpzKTtcblxudmFyIF90aWxlID0gcmVxdWlyZSgnLi90aWxlJyk7XG5cbnZhciBfbWFwID0gcmVxdWlyZSgnLi9tYXAnKTtcblxudmFyIF9tYXAyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWFwKTtcblxudmFyIF9lbnRpdHkgPSByZXF1aXJlKCcuL2VudGl0eScpO1xuXG52YXIgX2VudGl0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9lbnRpdHkpO1xuXG52YXIgX3RlbXBsYXRlcyA9IHJlcXVpcmUoJy4vdGVtcGxhdGVzJyk7XG5cbnZhciBfaW5kZXggPSByZXF1aXJlKCcuL2luZGV4Jyk7XG5cbnZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5kZXgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBTdGFydFNjcmVlbiA9IHtcbiAgZW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBlbnRlcigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRW50ZXJlZCBTdGFydFNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBlbnRlcjtcbiAgfSgpLFxuICBleGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZXhpdCgpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRXhpdGVkIFN0YXJ0U2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXQ7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIGRpc3BsYXkuZHJhd1RleHQoMSwgMSwgJyVje3llbGxvd31KYXZhc2NyaXB0IFJvZ3VlbGlrZScpO1xuICAgICAgZGlzcGxheS5kcmF3VGV4dCgxLCAyLCAnUHJlc3MgW0VudGVyXSB0byBzdGFydCEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyO1xuICB9KCksXG4gIGhhbmRsZUlucHV0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlSW5wdXQodHlwZSwgZXZlbnQpIHtcbiAgICAgIGlmICh0eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19SRVRVUk4pIHtcbiAgICAgICAgICBfaW5kZXgyWydkZWZhdWx0J10uc3dpdGNoU2NyZWVuKFBsYXlTY3JlZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhbmRsZUlucHV0O1xuICB9KClcbn07XG5cbnZhciBQbGF5U2NyZWVuID0ge1xuICBfbWFwOiBudWxsLFxuICBfcGxheWVyOiBudWxsLFxuXG4gIGVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZW50ZXIoKSB7XG4gICAgICB2YXIgbWFwV2lkdGggPSAxMDA7XG4gICAgICB2YXIgbWFwSGVpZ2h0ID0gNDg7XG4gICAgICB2YXIgZ2VuZXJhdG9yID0gbmV3IF9yb3RKczJbJ2RlZmF1bHQnXS5NYXAuQ2VsbHVsYXIobWFwV2lkdGgsIG1hcEhlaWdodCk7XG4gICAgICB2YXIgdG90YWxJdGVyYXRpb25zID0gMztcbiAgICAgIHZhciBtYXAgPSBbXTtcbiAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbWFwV2lkdGg7IHgrKykge1xuICAgICAgICBtYXAucHVzaChbXSk7XG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWFwSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgICBtYXBbeF0ucHVzaChfdGlsZS5OdWxsVGlsZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGdlbmVyYXRvci5yYW5kb21pemUoMC41KTtcbiAgICAgIC8vIEl0ZXJhdGl2ZWx5IHNtb290aGVuIHRoZSBtYXBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxJdGVyYXRpb25zIC0gMTsgaSsrKSB7XG4gICAgICAgIGdlbmVyYXRvci5jcmVhdGUoKTtcbiAgICAgIH1cbiAgICAgIC8vIFNtb290aGVuIGl0IG9uZSBsYXN0IHRpbWUgYW5kIHRoZW4gdXBkYXRlIG91ciBtYXBcbiAgICAgIGdlbmVyYXRvci5jcmVhdGUoZnVuY3Rpb24gKHgsIHksIHYpIHtcbiAgICAgICAgaWYgKHYgPT09IDEpIHtcbiAgICAgICAgICBtYXBbeF1beV0gPSBfdGlsZS5GbG9vclRpbGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFwW3hdW3ldID0gX3RpbGUuV2FsbFRpbGU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9wbGF5ZXIgPSBuZXcgX2VudGl0eTJbJ2RlZmF1bHQnXShfdGVtcGxhdGVzLlBsYXllclRlbXBsYXRlKTtcbiAgICAgIHRoaXMuX21hcCA9IG5ldyBfbWFwMlsnZGVmYXVsdCddKG1hcCwgdGhpcy5fcGxheWVyKTtcbiAgICAgIHRoaXMuX21hcC5nZXRFbmdpbmUoKS5zdGFydCgpO1xuICAgIH1cblxuICAgIHJldHVybiBlbnRlcjtcbiAgfSgpLFxuICBtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gbW92ZShkWCwgZFkpIHtcbiAgICAgIHZhciBuZXdYID0gdGhpcy5fcGxheWVyLmdldFgoKSArIGRYO1xuICAgICAgdmFyIG5ld1kgPSB0aGlzLl9wbGF5ZXIuZ2V0WSgpICsgZFk7XG5cbiAgICAgIHRoaXMuX3BsYXllci50cnlNb3ZlKG5ld1gsIG5ld1ksIHRoaXMuX21hcCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vdmU7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIHZhciBzY3JlZW5XaWR0aCA9IF9pbmRleDJbJ2RlZmF1bHQnXS5nZXRTY3JlZW5XaWR0aCgpO1xuICAgICAgdmFyIHNjcmVlbkhlaWdodCA9IF9pbmRleDJbJ2RlZmF1bHQnXS5nZXRTY3JlZW5IZWlnaHQoKTtcblxuICAgICAgdmFyIHRvcExlZnRYID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgdGhpcy5fcGxheWVyLmdldFgoKSAtIHNjcmVlbldpZHRoIC8gMiksIHRoaXMuX21hcC5nZXRXaWR0aCgpIC0gc2NyZWVuV2lkdGgpO1xuICAgICAgdmFyIHRvcExlZnRZID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgdGhpcy5fcGxheWVyLmdldFkoKSAtIHNjcmVlbkhlaWdodCAvIDIpLCB0aGlzLl9tYXAuZ2V0SGVpZ2h0KCkgLSBzY3JlZW5IZWlnaHQpO1xuXG4gICAgICBmb3IgKHZhciB4ID0gdG9wTGVmdFg7IHggPCB0b3BMZWZ0WCArIHNjcmVlbldpZHRoOyB4KyspIHtcbiAgICAgICAgZm9yICh2YXIgeSA9IHRvcExlZnRZOyB5IDwgdG9wTGVmdFkgKyBzY3JlZW5IZWlnaHQ7IHkrKykge1xuICAgICAgICAgIHZhciB0aWxlID0gdGhpcy5fbWFwLmdldFRpbGUoeCwgeSk7XG4gICAgICAgICAgZGlzcGxheS5kcmF3KHggLSB0b3BMZWZ0WCwgeSAtIHRvcExlZnRZLCB0aWxlLmdldENoYXIoKSwgdGlsZS5nZXRGb3JlZ3JvdW5kKCksIHRpbGUuZ2V0QmFja2dyb3VuZCgpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGVudGl0aWVzID0gdGhpcy5fbWFwLmdldEVudGl0aWVzKCk7XG4gICAgICBlbnRpdGllcy5mb3JFYWNoKGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgICAgaWYgKGVudGl0eS5nZXRYKCkgPj0gdG9wTGVmdFggJiYgZW50aXR5LmdldFkoKSA+PSB0b3BMZWZ0WSAmJiBlbnRpdHkuZ2V0WCgpIDwgdG9wTGVmdFggKyBzY3JlZW5XaWR0aCAmJiBlbnRpdHkuZ2V0WSgpIDwgdG9wTGVmdFkgKyBzY3JlZW5IZWlnaHQpIHtcbiAgICAgICAgICBkaXNwbGF5LmRyYXcoZW50aXR5LmdldFgoKSAtIHRvcExlZnRYLCBlbnRpdHkuZ2V0WSgpIC0gdG9wTGVmdFksIGVudGl0eS5nZXRDaGFyKCksIGVudGl0eS5nZXRGb3JlZ3JvdW5kKCksIGVudGl0eS5nZXRCYWNrZ3JvdW5kKCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIG1lc3NhZ2VzID0gdGhpcy5fcGxheWVyLmdldE1lc3NhZ2VzKCk7XG4gICAgICB2YXIgbWVzc2FnZVkgPSAwO1xuICAgICAgbWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlWSArPSBkaXNwbGF5LmRyYXdUZXh0KDAsIG1lc3NhZ2VZLCAnJWN7d2hpdGV9JWJ7YmxhY2t9JyArIFN0cmluZyhtZXNzYWdlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVuZGVyO1xuICB9KCksXG4gIGhhbmRsZUlucHV0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaGFuZGxlSW5wdXQodHlwZSwgZXZlbnQpIHtcbiAgICAgIGlmICh0eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19SRVRVUk4pIHtcbiAgICAgICAgICBfaW5kZXgyWydkZWZhdWx0J10uc3dpdGNoU2NyZWVuKFdpblNjcmVlbik7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX3JvdEpzMlsnZGVmYXVsdCddLlZLX0VTQ0FQRSkge1xuICAgICAgICAgIF9pbmRleDJbJ2RlZmF1bHQnXS5zd2l0Y2hTY3JlZW4oTG9zZVNjcmVlbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbW92ZW1lbnRcbiAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gX3JvdEpzMlsnZGVmYXVsdCddLlZLX0xFRlQpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZSgtMSwgMCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBfcm90SnMyWydkZWZhdWx0J10uVktfUklHSFQpIHtcbiAgICAgICAgICAgIHRoaXMubW92ZSgxLCAwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19VUCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlKDAsIC0xKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IF9yb3RKczJbJ2RlZmF1bHQnXS5WS19ET1dOKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmUoMCwgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX21hcC5nZXRFbmdpbmUoKS51bmxvY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBoYW5kbGVJbnB1dDtcbiAgfSgpLFxuICBleGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZXhpdCgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFeGl0ZWQgUGxheVNjcmVlbicpO1xuICAgIH1cblxuICAgIHJldHVybiBleGl0O1xuICB9KClcbn07XG5cbnZhciBXaW5TY3JlZW4gPSB7XG4gIGVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZW50ZXIoKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0VudGVyZWQgV2luU2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVudGVyO1xuICB9KCksXG4gIGV4aXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBleGl0KCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdFeGl0ZWQgV2luU2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXQ7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjI7IGkrKykge1xuICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gYmFja2dyb3VuZCBjb2xvcnNcbiAgICAgICAgdmFyIHIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpO1xuICAgICAgICB2YXIgZyA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1NSk7XG4gICAgICAgIHZhciBiID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KTtcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBfcm90SnMyWydkZWZhdWx0J10uQ29sb3IudG9SR0IoW3IsIGcsIGJdKTtcbiAgICAgICAgZGlzcGxheS5kcmF3VGV4dCgyLCBpICsgMSwgJyVieycgKyBTdHJpbmcoYmFja2dyb3VuZCkgKyAnfVlvdSB3aW4hJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlcjtcbiAgfSgpLFxuICBoYW5kbGVJbnB1dDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUlucHV0KHR5cGUsIGV2ZW50KSB7fVxuXG4gICAgcmV0dXJuIGhhbmRsZUlucHV0O1xuICB9KClcbn07XG5cbnZhciBMb3NlU2NyZWVuID0ge1xuICBlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGVudGVyKCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdFbnRlcmVkIExvc2VTY3JlZW4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW50ZXI7XG4gIH0oKSxcbiAgZXhpdDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGV4aXQoKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0V4aXRlZCBMb3NlU2NyZWVuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGV4aXQ7XG4gIH0oKSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVuZGVyKGRpc3BsYXkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjI7IGkrKykge1xuICAgICAgICBkaXNwbGF5LmRyYXdUZXh0KDIsIGkgKyAxLCAnJWJ7cmVkfVlvdSBsb3NlISA6KCcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZW5kZXI7XG4gIH0oKSxcbiAgaGFuZGxlSW5wdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVJbnB1dCh0eXBlLCBldmVudCkge31cblxuICAgIHJldHVybiBoYW5kbGVJbnB1dDtcbiAgfSgpXG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSB7XG4gIFN0YXJ0U2NyZWVuOiBTdGFydFNjcmVlbixcbiAgUGxheVNjcmVlbjogUGxheVNjcmVlbixcbiAgV2luU2NyZWVuOiBXaW5TY3JlZW4sXG4gIExvc2VTY3JlZW46IExvc2VTY3JlZW5cbn07XG5cbn0se1wiLi9lbnRpdHlcIjo1LFwiLi9pbmRleFwiOjcsXCIuL21hcFwiOjgsXCIuL3RlbXBsYXRlc1wiOjExLFwiLi90aWxlXCI6MTIsXCJyb3QtanNcIjoyfV0sMTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5GdW5ndXNUZW1wbGF0ZSA9IGV4cG9ydHMuUGxheWVyVGVtcGxhdGUgPSB1bmRlZmluZWQ7XG5cbnZhciBfbWl4aW5zID0gcmVxdWlyZSgnLi9taXhpbnMnKTtcblxudmFyIFBsYXllclRlbXBsYXRlID0gZXhwb3J0cy5QbGF5ZXJUZW1wbGF0ZSA9IHtcbiAgY2hhcjogJ0AnLFxuICBmZzogJ3doaXRlJyxcbiAgbWF4SFA6IDQwLFxuICBhdHRhY2tWYWx1ZTogMTAsXG4gIG1peGluczogW19taXhpbnMuTW92ZWFibGUsIF9taXhpbnMuUGxheWVyQWN0b3IsIF9taXhpbnMuQXR0YWNrZXIsIF9taXhpbnMuRGlnZ2VyLCBfbWl4aW5zLkRlc3RydWN0aWJsZSwgX21peGlucy5NZXNzYWdlUmVjaXBpZW50XVxufTtcblxudmFyIEZ1bmd1c1RlbXBsYXRlID0gZXhwb3J0cy5GdW5ndXNUZW1wbGF0ZSA9IHtcbiAgbmFtZTogJ2Z1bmd1cycsXG4gIGNoYXI6ICdGJyxcbiAgZmc6ICdncmVlbicsXG4gIG1heEhQOiAxMCxcbiAgbWl4aW5zOiBbX21peGlucy5GdW5ndXNBY3RvciwgX21peGlucy5EZXN0cnVjdGlibGVdXG59O1xuXG59LHtcIi4vbWl4aW5zXCI6OX1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuV2FsbFRpbGUgPSBleHBvcnRzLkZsb29yVGlsZSA9IGV4cG9ydHMuTnVsbFRpbGUgPSB1bmRlZmluZWQ7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2x5cGggPSByZXF1aXJlKCcuL2dseXBoJyk7XG5cbnZhciBfZ2x5cGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2x5cGgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRpbGUgPSBmdW5jdGlvbiAoX0dseXBoKSB7XG4gIF9pbmhlcml0cyhUaWxlLCBfR2x5cGgpO1xuXG4gIGZ1bmN0aW9uIFRpbGUoKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpbGUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRpbGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaWxlKSkuY2FsbCh0aGlzLCBwcm9wZXJ0aWVzKSk7XG5cbiAgICBfdGhpcy5faXNXYWxrYWJsZSA9IHByb3BlcnRpZXMuaXNXYWxrYWJsZSB8fCBmYWxzZTtcbiAgICBfdGhpcy5faXNEaWdnYWJsZSA9IHByb3BlcnRpZXMuaXNEaWdnYWJsZSB8fCBmYWxzZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoVGlsZSwgW3tcbiAgICBrZXk6ICdpc1dhbGthYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNXYWxrYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzV2Fsa2FibGU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc1dhbGthYmxlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNEaWdnYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzRGlnZ2FibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RpZ2dhYmxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNEaWdnYWJsZTtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBUaWxlO1xufShfZ2x5cGgyWydkZWZhdWx0J10pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBUaWxlO1xudmFyIE51bGxUaWxlID0gZXhwb3J0cy5OdWxsVGlsZSA9IG5ldyBUaWxlKHt9KTtcbnZhciBGbG9vclRpbGUgPSBleHBvcnRzLkZsb29yVGlsZSA9IG5ldyBUaWxlKHtcbiAgY2hhcjogJy4nLFxuICBpc1dhbGthYmxlOiB0cnVlXG59KTtcbnZhciBXYWxsVGlsZSA9IGV4cG9ydHMuV2FsbFRpbGUgPSBuZXcgVGlsZSh7XG4gIGNoYXI6ICcjJyxcbiAgZmc6ICdnb2xkZW5yb2QnLFxuICBpc0RpZ2dhYmxlOiB0cnVlXG59KTtcblxufSx7XCIuL2dseXBoXCI6Nn1dfSx7fSxbNF0pXG5cbiIsIi8qXG5cdFRoaXMgaXMgcm90LmpzLCB0aGUgUk9ndWVsaWtlIFRvb2xraXQgaW4gSmF2YVNjcmlwdC5cblx0VmVyc2lvbiAwLjZ+ZGV2LCBnZW5lcmF0ZWQgb24gTW9uIE5vdiAzMCAxMDozNDo0MiBDRVQgMjAxNS5cbiovXG4vKipcbiAqIEFkZCBvYmplY3RzIGZvciBOb2RlLmpzIGVudmlyb25tZW50XG4gKi9cbmdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYikge1xuXHRyZXR1cm4gc2V0VGltZW91dChjYiwgMTAwMC82MCk7XG59O1xuXG5nbG9iYWwuZG9jdW1lbnQgPSB7XG5cdGJvZHk6IHtcblx0XHRhcHBlbmRDaGlsZDogZnVuY3Rpb24oY2hpbGQpIHt9LFxuXHRcdHNjcm9sbExlZnQ6IDAsXG5cdFx0c2Nyb2xsVG9wOiAwXG5cdH0sXG5cdGNyZWF0ZUVsZW1lbnQ6IGZ1bmN0aW9uKHR5cGUpIHtcblx0XHR2YXIgY2FudmFzO1xuXHRcdHJldHVybiBjYW52YXMgPSB7XG5cdFx0XHRnZXRCb3VuZGluZ0NsaWVudFJlY3Q6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgcmVjdDtcblx0XHRcdFx0cmV0dXJuIHJlY3QgPSB7XG5cdFx0XHRcdFx0bGVmdDogMCxcblx0XHRcdFx0XHR0b3A6IDBcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRnZXRDb250ZXh0OiBmdW5jdGlvbih0eXBlKSB7XG5cdFx0XHRcdHZhciBjb250ZXh0O1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dCA9IHtcblx0XHRcdFx0XHRfdGVybWNvbG9yOiBudWxsLFxuXHRcdFx0XHRcdGJlZ2luUGF0aDogZnVuY3Rpb24oKSB7fSxcblx0XHRcdFx0XHRjYW52YXM6IGNhbnZhcyxcblx0XHRcdFx0XHRjbGVhclJlY3Q6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRcdFx0XHRcdGlmKHRoaXMuX3Rlcm1jb2xvciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgY2xlYXJDbWQgPSB0aGlzLl90ZXJtY29sb3IuY2xlYXJUb0Fuc2kodGhpcy5maWxsU3R5bGUpO1xuXHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShjbGVhckNtZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRkcmF3SW1hZ2U6IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYsIGcsIGgsIGkpIHt9LFxuXHRcdFx0XHRcdGZpbGw6IGZ1bmN0aW9uKCkge30sXG5cdFx0XHRcdFx0ZmlsbFJlY3Q6IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcblx0XHRcdFx0XHRcdGlmKHRoaXMuX3Rlcm1jb2xvciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgY2xlYXJDbWQgPSB0aGlzLl90ZXJtY29sb3IuY2xlYXJUb0Fuc2kodGhpcy5maWxsU3R5bGUpO1xuXHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShjbGVhckNtZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmaWxsU3R5bGU6IFwiIzAwMFwiLFxuXHRcdFx0XHRcdGZpbGxUZXh0OiBmdW5jdGlvbihjaHMsIHgsIHkpIHt9LFxuXHRcdFx0XHRcdGZvbnQ6IFwibW9ub3NwYWNlXCIsXG5cdFx0XHRcdFx0bGluZVRvOiBmdW5jdGlvbih4LCB5KSB7fSxcblx0XHRcdFx0XHRtZWFzdXJlVGV4dDogZnVuY3Rpb24oY2gpIHtcblx0XHRcdFx0XHRcdHZhciByZXN1bHQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0ID0ge1xuXHRcdFx0XHRcdFx0XHR3aWR0aDogMTJcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtb3ZlVG86IGZ1bmN0aW9uKHgsIHkpIHt9LFxuXHRcdFx0XHRcdHRleHRBbGlnbjogXCJjZW50ZXJcIixcblx0XHRcdFx0XHR0ZXh0QmFzZWxpbmU6IFwibWlkZGxlXCJcblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cdFx0XHRoZWlnaHQ6IDAsXG5cdFx0XHRzdHlsZToge1xuXHRcdFx0XHRsZWZ0OiBcIjEwMHB4XCIsXG5cdFx0XHRcdHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG5cdFx0XHRcdHRvcDogXCIxMDBweFwiLFxuXHRcdFx0XHR2aXNpYmlsaXR5OiBcImhpZGRlblwiXG5cdFx0XHR9LFxuXHRcdFx0d2lkdGg6IDBcblx0XHR9O1xuXHR9LFxuXHRkb2N1bWVudEVsZW1lbnQ6IHtcblx0XHRzY3JvbGxMZWZ0OiAwLFxuXHRcdHNjcm9sbFRvcDogMFxuXHR9XG59O1xuLyoqXG4gKiBAbmFtZXNwYWNlIFRvcC1sZXZlbCBST1QgbmFtZXNwYWNlXG4gKi9cbnZhciBST1QgPSB7XG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7Ym9vbH0gSXMgcm90LmpzIHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXI/XG5cdCAqL1xuXHRpc1N1cHBvcnRlZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuICEhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dCAmJiBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCk7XG5cdH0sXG5cblx0LyoqIERlZmF1bHQgd2l0aCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cblx0REVGQVVMVF9XSURUSDogODAsXG5cdC8qKiBEZWZhdWx0IGhlaWdodCBmb3IgZGlzcGxheSBhbmQgbWFwIGdlbmVyYXRvcnMgKi9cblx0REVGQVVMVF9IRUlHSFQ6IDI1LFxuXG5cdC8qKiBEaXJlY3Rpb25hbCBjb25zdGFudHMuIE9yZGVyaW5nIGlzIGltcG9ydGFudCEgKi9cblx0RElSUzoge1xuXHRcdFwiNFwiOiBbXG5cdFx0XHRbIDAsIC0xXSxcblx0XHRcdFsgMSwgIDBdLFxuXHRcdFx0WyAwLCAgMV0sXG5cdFx0XHRbLTEsICAwXVxuXHRcdF0sXG5cdFx0XCI4XCI6IFtcblx0XHRcdFsgMCwgLTFdLFxuXHRcdFx0WyAxLCAtMV0sXG5cdFx0XHRbIDEsICAwXSxcblx0XHRcdFsgMSwgIDFdLFxuXHRcdFx0WyAwLCAgMV0sXG5cdFx0XHRbLTEsICAxXSxcblx0XHRcdFstMSwgIDBdLFxuXHRcdFx0Wy0xLCAtMV1cblx0XHRdLFxuXHRcdFwiNlwiOiBbXG5cdFx0XHRbLTEsIC0xXSxcblx0XHRcdFsgMSwgLTFdLFxuXHRcdFx0WyAyLCAgMF0sXG5cdFx0XHRbIDEsICAxXSxcblx0XHRcdFstMSwgIDFdLFxuXHRcdFx0Wy0yLCAgMF1cblx0XHRdXG5cdH0sXG5cblx0LyoqIENhbmNlbCBrZXkuICovXG5cdFZLX0NBTkNFTDogMywgXG5cdC8qKiBIZWxwIGtleS4gKi9cblx0VktfSEVMUDogNiwgXG5cdC8qKiBCYWNrc3BhY2Uga2V5LiAqL1xuXHRWS19CQUNLX1NQQUNFOiA4LCBcblx0LyoqIFRhYiBrZXkuICovXG5cdFZLX1RBQjogOSwgXG5cdC8qKiA1IGtleSBvbiBOdW1wYWQgd2hlbiBOdW1Mb2NrIGlzIHVubG9ja2VkLiBPciBvbiBNYWMsIGNsZWFyIGtleSB3aGljaCBpcyBwb3NpdGlvbmVkIGF0IE51bUxvY2sga2V5LiAqL1xuXHRWS19DTEVBUjogMTIsIFxuXHQvKiogUmV0dXJuL2VudGVyIGtleSBvbiB0aGUgbWFpbiBrZXlib2FyZC4gKi9cblx0VktfUkVUVVJOOiAxMywgXG5cdC8qKiBSZXNlcnZlZCwgYnV0IG5vdCB1c2VkLiAqL1xuXHRWS19FTlRFUjogMTQsIFxuXHQvKiogU2hpZnQga2V5LiAqL1xuXHRWS19TSElGVDogMTYsIFxuXHQvKiogQ29udHJvbCBrZXkuICovXG5cdFZLX0NPTlRST0w6IDE3LCBcblx0LyoqIEFsdCAoT3B0aW9uIG9uIE1hYykga2V5LiAqL1xuXHRWS19BTFQ6IDE4LCBcblx0LyoqIFBhdXNlIGtleS4gKi9cblx0VktfUEFVU0U6IDE5LCBcblx0LyoqIENhcHMgbG9jay4gKi9cblx0VktfQ0FQU19MT0NLOiAyMCwgXG5cdC8qKiBFc2NhcGUga2V5LiAqL1xuXHRWS19FU0NBUEU6IDI3LCBcblx0LyoqIFNwYWNlIGJhci4gKi9cblx0VktfU1BBQ0U6IDMyLCBcblx0LyoqIFBhZ2UgVXAga2V5LiAqL1xuXHRWS19QQUdFX1VQOiAzMywgXG5cdC8qKiBQYWdlIERvd24ga2V5LiAqL1xuXHRWS19QQUdFX0RPV046IDM0LCBcblx0LyoqIEVuZCBrZXkuICovXG5cdFZLX0VORDogMzUsIFxuXHQvKiogSG9tZSBrZXkuICovXG5cdFZLX0hPTUU6IDM2LCBcblx0LyoqIExlZnQgYXJyb3cuICovXG5cdFZLX0xFRlQ6IDM3LCBcblx0LyoqIFVwIGFycm93LiAqL1xuXHRWS19VUDogMzgsIFxuXHQvKiogUmlnaHQgYXJyb3cuICovXG5cdFZLX1JJR0hUOiAzOSwgXG5cdC8qKiBEb3duIGFycm93LiAqL1xuXHRWS19ET1dOOiA0MCwgXG5cdC8qKiBQcmludCBTY3JlZW4ga2V5LiAqL1xuXHRWS19QUklOVFNDUkVFTjogNDQsIFxuXHQvKiogSW5zKGVydCkga2V5LiAqL1xuXHRWS19JTlNFUlQ6IDQ1LCBcblx0LyoqIERlbChldGUpIGtleS4gKi9cblx0VktfREVMRVRFOiA0NiwgXG5cdC8qKiovXG5cdFZLXzA6IDQ4LFxuXHQvKioqL1xuXHRWS18xOiA0OSxcblx0LyoqKi9cblx0VktfMjogNTAsXG5cdC8qKiovXG5cdFZLXzM6IDUxLFxuXHQvKioqL1xuXHRWS180OiA1Mixcblx0LyoqKi9cblx0VktfNTogNTMsXG5cdC8qKiovXG5cdFZLXzY6IDU0LFxuXHQvKioqL1xuXHRWS183OiA1NSxcblx0LyoqKi9cblx0VktfODogNTYsXG5cdC8qKiovXG5cdFZLXzk6IDU3LFxuXHQvKiogQ29sb24gKDopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DT0xPTjogNTgsIFxuXHQvKiogU2VtaWNvbG9uICg7KSBrZXkuICovXG5cdFZLX1NFTUlDT0xPTjogNTksIFxuXHQvKiogTGVzcy10aGFuICg8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfTEVTU19USEFOOiA2MCwgXG5cdC8qKiBFcXVhbHMgKD0pIGtleS4gKi9cblx0VktfRVFVQUxTOiA2MSwgXG5cdC8qKiBHcmVhdGVyLXRoYW4gKD4pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19HUkVBVEVSX1RIQU46IDYyLCBcblx0LyoqIFF1ZXN0aW9uIG1hcmsgKD8pIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19RVUVTVElPTl9NQVJLOiA2MywgXG5cdC8qKiBBdG1hcmsgKEApIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BVDogNjQsIFxuXHQvKioqL1xuXHRWS19BOiA2NSxcblx0LyoqKi9cblx0VktfQjogNjYsXG5cdC8qKiovXG5cdFZLX0M6IDY3LFxuXHQvKioqL1xuXHRWS19EOiA2OCxcblx0LyoqKi9cblx0VktfRTogNjksXG5cdC8qKiovXG5cdFZLX0Y6IDcwLFxuXHQvKioqL1xuXHRWS19HOiA3MSxcblx0LyoqKi9cblx0VktfSDogNzIsXG5cdC8qKiovXG5cdFZLX0k6IDczLFxuXHQvKioqL1xuXHRWS19KOiA3NCxcblx0LyoqKi9cblx0VktfSzogNzUsXG5cdC8qKiovXG5cdFZLX0w6IDc2LFxuXHQvKioqL1xuXHRWS19NOiA3Nyxcblx0LyoqKi9cblx0VktfTjogNzgsXG5cdC8qKiovXG5cdFZLX086IDc5LFxuXHQvKioqL1xuXHRWS19QOiA4MCxcblx0LyoqKi9cblx0VktfUTogODEsXG5cdC8qKiovXG5cdFZLX1I6IDgyLFxuXHQvKioqL1xuXHRWS19TOiA4Myxcblx0LyoqKi9cblx0VktfVDogODQsXG5cdC8qKiovXG5cdFZLX1U6IDg1LFxuXHQvKioqL1xuXHRWS19WOiA4Nixcblx0LyoqKi9cblx0VktfVzogODcsXG5cdC8qKiovXG5cdFZLX1g6IDg4LFxuXHQvKioqL1xuXHRWS19ZOiA4OSxcblx0LyoqKi9cblx0VktfWjogOTAsXG5cdC8qKiovXG5cdFZLX0NPTlRFWFRfTUVOVTogOTMsXG5cdC8qKiAwIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMDogOTYsIFxuXHQvKiogMSBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDE6IDk3LCBcblx0LyoqIDIgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQyOiA5OCwgXG5cdC8qKiAzIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEMzogOTksIFxuXHQvKiogNCBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDQ6IDEwMCwgXG5cdC8qKiA1IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFENTogMTAxLCBcblx0LyoqIDYgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ2OiAxMDIsIFxuXHQvKiogNyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX05VTVBBRDc6IDEwMywgXG5cdC8qKiA4IG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfTlVNUEFEODogMTA0LCBcblx0LyoqIDkgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19OVU1QQUQ5OiAxMDUsIFxuXHQvKiogKiBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX01VTFRJUExZOiAxMDYsXG5cdC8qKiArIG9uIHRoZSBudW1lcmljIGtleXBhZC4gKi9cblx0VktfQUREOiAxMDcsIFxuXHQvKioqL1xuXHRWS19TRVBBUkFUT1I6IDEwOCxcblx0LyoqIC0gb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19TVUJUUkFDVDogMTA5LCBcblx0LyoqIERlY2ltYWwgcG9pbnQgb24gdGhlIG51bWVyaWMga2V5cGFkLiAqL1xuXHRWS19ERUNJTUFMOiAxMTAsIFxuXHQvKiogLyBvbiB0aGUgbnVtZXJpYyBrZXlwYWQuICovXG5cdFZLX0RJVklERTogMTExLCBcblx0LyoqIEYxIGtleS4gKi9cblx0VktfRjE6IDExMiwgXG5cdC8qKiBGMiBrZXkuICovXG5cdFZLX0YyOiAxMTMsIFxuXHQvKiogRjMga2V5LiAqL1xuXHRWS19GMzogMTE0LCBcblx0LyoqIEY0IGtleS4gKi9cblx0VktfRjQ6IDExNSwgXG5cdC8qKiBGNSBrZXkuICovXG5cdFZLX0Y1OiAxMTYsIFxuXHQvKiogRjYga2V5LiAqL1xuXHRWS19GNjogMTE3LCBcblx0LyoqIEY3IGtleS4gKi9cblx0VktfRjc6IDExOCwgXG5cdC8qKiBGOCBrZXkuICovXG5cdFZLX0Y4OiAxMTksIFxuXHQvKiogRjkga2V5LiAqL1xuXHRWS19GOTogMTIwLCBcblx0LyoqIEYxMCBrZXkuICovXG5cdFZLX0YxMDogMTIxLCBcblx0LyoqIEYxMSBrZXkuICovXG5cdFZLX0YxMTogMTIyLCBcblx0LyoqIEYxMiBrZXkuICovXG5cdFZLX0YxMjogMTIzLCBcblx0LyoqIEYxMyBrZXkuICovXG5cdFZLX0YxMzogMTI0LCBcblx0LyoqIEYxNCBrZXkuICovXG5cdFZLX0YxNDogMTI1LCBcblx0LyoqIEYxNSBrZXkuICovXG5cdFZLX0YxNTogMTI2LCBcblx0LyoqIEYxNiBrZXkuICovXG5cdFZLX0YxNjogMTI3LCBcblx0LyoqIEYxNyBrZXkuICovXG5cdFZLX0YxNzogMTI4LCBcblx0LyoqIEYxOCBrZXkuICovXG5cdFZLX0YxODogMTI5LCBcblx0LyoqIEYxOSBrZXkuICovXG5cdFZLX0YxOTogMTMwLCBcblx0LyoqIEYyMCBrZXkuICovXG5cdFZLX0YyMDogMTMxLCBcblx0LyoqIEYyMSBrZXkuICovXG5cdFZLX0YyMTogMTMyLCBcblx0LyoqIEYyMiBrZXkuICovXG5cdFZLX0YyMjogMTMzLCBcblx0LyoqIEYyMyBrZXkuICovXG5cdFZLX0YyMzogMTM0LCBcblx0LyoqIEYyNCBrZXkuICovXG5cdFZLX0YyNDogMTM1LCBcblx0LyoqIE51bSBMb2NrIGtleS4gKi9cblx0VktfTlVNX0xPQ0s6IDE0NCwgXG5cdC8qKiBTY3JvbGwgTG9jayBrZXkuICovXG5cdFZLX1NDUk9MTF9MT0NLOiAxNDUsIFxuXHQvKiogQ2lyY3VtZmxleCAoXikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NJUkNVTUZMRVg6IDE2MCwgXG5cdC8qKiBFeGNsYW1hdGlvbiAoISkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0VYQ0xBTUFUSU9OOiAxNjEsIFxuXHQvKiogRG91YmxlIHF1b3RlICgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19ET1VCTEVfUVVPVEU6IDE2MiwgXG5cdC8qKiBIYXNoICgjKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfSEFTSDogMTYzLCBcblx0LyoqIERvbGxhciBzaWduICgkKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfRE9MTEFSOiAxNjQsIFxuXHQvKiogUGVyY2VudCAoJSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1BFUkNFTlQ6IDE2NSwgXG5cdC8qKiBBbXBlcnNhbmQgKCYpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BTVBFUlNBTkQ6IDE2NiwgXG5cdC8qKiBVbmRlcnNjb3JlIChfKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfVU5ERVJTQ09SRTogMTY3LCBcblx0LyoqIE9wZW4gcGFyZW50aGVzaXMgKCgpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19PUEVOX1BBUkVOOiAxNjgsIFxuXHQvKiogQ2xvc2UgcGFyZW50aGVzaXMgKCkpIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19DTE9TRV9QQVJFTjogMTY5LCBcblx0LyogQXN0ZXJpc2sgKCopIGtleS4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BU1RFUklTSzogMTcwLFxuXHQvKiogUGx1cyAoKykga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1BMVVM6IDE3MSwgXG5cdC8qKiBQaXBlICh8KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfUElQRTogMTcyLCBcblx0LyoqIEh5cGhlbi1VUy9kb2NzL01pbnVzICgtKSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfSFlQSEVOX01JTlVTOiAxNzMsIFxuXHQvKiogT3BlbiBjdXJseSBicmFja2V0ICh7KSBrZXkuIFJlcXVpcmVzIEdlY2tvIDE1LjAgKi9cblx0VktfT1BFTl9DVVJMWV9CUkFDS0VUOiAxNzQsIFxuXHQvKiogQ2xvc2UgY3VybHkgYnJhY2tldCAofSkga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0NMT1NFX0NVUkxZX0JSQUNLRVQ6IDE3NSwgXG5cdC8qKiBUaWxkZSAofikga2V5LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1RJTERFOiAxNzYsIFxuXHQvKiogQ29tbWEgKCwpIGtleS4gKi9cblx0VktfQ09NTUE6IDE4OCwgXG5cdC8qKiBQZXJpb2QgKC4pIGtleS4gKi9cblx0VktfUEVSSU9EOiAxOTAsIFxuXHQvKiogU2xhc2ggKC8pIGtleS4gKi9cblx0VktfU0xBU0g6IDE5MSwgXG5cdC8qKiBCYWNrIHRpY2sgKGApIGtleS4gKi9cblx0VktfQkFDS19RVU9URTogMTkyLCBcblx0LyoqIE9wZW4gc3F1YXJlIGJyYWNrZXQgKFspIGtleS4gKi9cblx0VktfT1BFTl9CUkFDS0VUOiAyMTksIFxuXHQvKiogQmFjayBzbGFzaCAoXFwpIGtleS4gKi9cblx0VktfQkFDS19TTEFTSDogMjIwLCBcblx0LyoqIENsb3NlIHNxdWFyZSBicmFja2V0IChdKSBrZXkuICovXG5cdFZLX0NMT1NFX0JSQUNLRVQ6IDIyMSwgXG5cdC8qKiBRdW90ZSAoJycnKSBrZXkuICovXG5cdFZLX1FVT1RFOiAyMjIsIFxuXHQvKiogTWV0YSBrZXkgb24gTGludXgsIENvbW1hbmQga2V5IG9uIE1hYy4gKi9cblx0VktfTUVUQTogMjI0LCBcblx0LyoqIEFsdEdyIGtleSBvbiBMaW51eC4gUmVxdWlyZXMgR2Vja28gMTUuMCAqL1xuXHRWS19BTFRHUjogMjI1LCBcblx0LyoqIFdpbmRvd3MgbG9nbyBrZXkgb24gV2luZG93cy4gT3IgU3VwZXIgb3IgSHlwZXIga2V5IG9uIExpbnV4LiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX1dJTjogOTEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0tBTkE6IDIxLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19IQU5HVUw6IDIxLCBcblx0LyoqIOiLseaVsCBrZXkgb24gSmFwYW5lc2UgTWFjIGtleWJvYXJkLiBSZXF1aXJlcyBHZWNrbyAxNS4wICovXG5cdFZLX0VJU1U6IDIyLCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19KVU5KQTogMjMsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0ZJTkFMOiAyNCwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfSEFOSkE6IDI1LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19LQU5KSTogMjUsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX0NPTlZFUlQ6IDI4LCBcblx0LyoqIExpbnV4IHN1cHBvcnQgZm9yIHRoaXMga2V5Y29kZSB3YXMgYWRkZWQgaW4gR2Vja28gNC4wLiAqL1xuXHRWS19OT05DT05WRVJUOiAyOSwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfQUNDRVBUOiAzMCwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfTU9ERUNIQU5HRTogMzEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX1NFTEVDVDogNDEsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuICovXG5cdFZLX1BSSU5UOiA0MiwgXG5cdC8qKiBMaW51eCBzdXBwb3J0IGZvciB0aGlzIGtleWNvZGUgd2FzIGFkZGVkIGluIEdlY2tvIDQuMC4gKi9cblx0VktfRVhFQ1VURTogNDMsIFxuXHQvKiogTGludXggc3VwcG9ydCBmb3IgdGhpcyBrZXljb2RlIHdhcyBhZGRlZCBpbiBHZWNrbyA0LjAuXHQgKi9cblx0VktfU0xFRVA6IDk1IFxufTtcbi8qKlxuICogQG5hbWVzcGFjZVxuICogQ29udGFpbnMgdGV4dCB0b2tlbml6YXRpb24gYW5kIGJyZWFraW5nIHJvdXRpbmVzXG4gKi9cblJPVC5UZXh0ID0ge1xuXHRSRV9DT0xPUlM6IC8lKFtiY10peyhbXn1dKil9L2csXG5cblx0LyogdG9rZW4gdHlwZXMgKi9cblx0VFlQRV9URVhUOlx0XHQwLFxuXHRUWVBFX05FV0xJTkU6XHQxLFxuXHRUWVBFX0ZHOlx0XHQyLFxuXHRUWVBFX0JHOlx0XHQzLFxuXG5cdC8qKlxuXHQgKiBNZWFzdXJlIHNpemUgb2YgYSByZXN1bHRpbmcgdGV4dCBibG9ja1xuXHQgKi9cblx0bWVhc3VyZTogZnVuY3Rpb24oc3RyLCBtYXhXaWR0aCkge1xuXHRcdHZhciByZXN1bHQgPSB7d2lkdGg6MCwgaGVpZ2h0OjF9O1xuXHRcdHZhciB0b2tlbnMgPSB0aGlzLnRva2VuaXplKHN0ciwgbWF4V2lkdGgpO1xuXHRcdHZhciBsaW5lV2lkdGggPSAwO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8dG9rZW5zLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0XHRjYXNlIHRoaXMuVFlQRV9URVhUOlxuXHRcdFx0XHRcdGxpbmVXaWR0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdGNhc2UgdGhpcy5UWVBFX05FV0xJTkU6XG5cdFx0XHRcdFx0cmVzdWx0LmhlaWdodCsrO1xuXHRcdFx0XHRcdHJlc3VsdC53aWR0aCA9IE1hdGgubWF4KHJlc3VsdC53aWR0aCwgbGluZVdpZHRoKTtcblx0XHRcdFx0XHRsaW5lV2lkdGggPSAwO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVzdWx0LndpZHRoID0gTWF0aC5tYXgocmVzdWx0LndpZHRoLCBsaW5lV2lkdGgpO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogQ29udmVydCBzdHJpbmcgdG8gYSBzZXJpZXMgb2YgYSBmb3JtYXR0aW5nIGNvbW1hbmRzXG5cdCAqL1xuXHR0b2tlbml6ZTogZnVuY3Rpb24oc3RyLCBtYXhXaWR0aCkge1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblxuXHRcdC8qIGZpcnN0IHRva2VuaXphdGlvbiBwYXNzIC0gc3BsaXQgdGV4dHMgYW5kIGNvbG9yIGZvcm1hdHRpbmcgY29tbWFuZHMgKi9cblx0XHR2YXIgb2Zmc2V0ID0gMDtcblx0XHRzdHIucmVwbGFjZSh0aGlzLlJFX0NPTE9SUywgZnVuY3Rpb24obWF0Y2gsIHR5cGUsIG5hbWUsIGluZGV4KSB7XG5cdFx0XHQvKiBzdHJpbmcgYmVmb3JlICovXG5cdFx0XHR2YXIgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0LCBpbmRleCk7XG5cdFx0XHRpZiAocGFydC5sZW5ndGgpIHtcblx0XHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHRcdHR5cGU6IFJPVC5UZXh0LlRZUEVfVEVYVCxcblx0XHRcdFx0XHR2YWx1ZTogcGFydFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0LyogY29sb3IgY29tbWFuZCAqL1xuXHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHR0eXBlOiAodHlwZSA9PSBcImNcIiA/IFJPVC5UZXh0LlRZUEVfRkcgOiBST1QuVGV4dC5UWVBFX0JHKSxcblx0XHRcdFx0dmFsdWU6IG5hbWUudHJpbSgpXG5cdFx0XHR9KTtcblxuXHRcdFx0b2Zmc2V0ID0gaW5kZXggKyBtYXRjaC5sZW5ndGg7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9KTtcblxuXHRcdC8qIGxhc3QgcmVtYWluaW5nIHBhcnQgKi9cblx0XHR2YXIgcGFydCA9IHN0ci5zdWJzdHJpbmcob2Zmc2V0KTtcblx0XHRpZiAocGFydC5sZW5ndGgpIHtcblx0XHRcdHJlc3VsdC5wdXNoKHtcblx0XHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9URVhULFxuXHRcdFx0XHR2YWx1ZTogcGFydFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX2JyZWFrTGluZXMocmVzdWx0LCBtYXhXaWR0aCk7XG5cdH0sXG5cblx0LyogaW5zZXJ0IGxpbmUgYnJlYWtzIGludG8gZmlyc3QtcGFzcyB0b2tlbml6ZWQgZGF0YSAqL1xuXHRfYnJlYWtMaW5lczogZnVuY3Rpb24odG9rZW5zLCBtYXhXaWR0aCkge1xuXHRcdGlmICghbWF4V2lkdGgpIHsgbWF4V2lkdGggPSBJbmZpbml0eTsgfTtcblxuXHRcdHZhciBpID0gMDtcblx0XHR2YXIgbGluZUxlbmd0aCA9IDA7XG5cdFx0dmFyIGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuXG5cdFx0d2hpbGUgKGkgPCB0b2tlbnMubGVuZ3RoKSB7IC8qIHRha2UgYWxsIHRleHQgdG9rZW5zLCByZW1vdmUgc3BhY2UsIGFwcGx5IGxpbmVicmVha3MgKi9cblx0XHRcdHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblx0XHRcdGlmICh0b2tlbi50eXBlID09IFJPVC5UZXh0LlRZUEVfTkVXTElORSkgeyAvKiByZXNldCAqL1xuXHRcdFx0XHRsaW5lTGVuZ3RoID0gMDsgXG5cdFx0XHRcdGxhc3RUb2tlbldpdGhTcGFjZSA9IC0xO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHRva2VuLnR5cGUgIT0gUk9ULlRleHQuVFlQRV9URVhUKSB7IC8qIHNraXAgbm9uLXRleHQgdG9rZW5zICovXG5cdFx0XHRcdGkrKztcblx0XHRcdFx0Y29udGludWU7IFxuXHRcdFx0fVxuXG5cdFx0XHQvKiByZW1vdmUgc3BhY2VzIGF0IHRoZSBiZWdpbm5pbmcgb2YgbGluZSAqL1xuXHRcdFx0d2hpbGUgKGxpbmVMZW5ndGggPT0gMCAmJiB0b2tlbi52YWx1ZS5jaGFyQXQoMCkgPT0gXCIgXCIpIHsgdG9rZW4udmFsdWUgPSB0b2tlbi52YWx1ZS5zdWJzdHJpbmcoMSk7IH1cblxuXHRcdFx0LyogZm9yY2VkIG5ld2xpbmU/IGluc2VydCB0d28gbmV3IHRva2VucyBhZnRlciB0aGlzIG9uZSAqL1xuXHRcdFx0dmFyIGluZGV4ID0gdG9rZW4udmFsdWUuaW5kZXhPZihcIlxcblwiKTtcblx0XHRcdGlmIChpbmRleCAhPSAtMSkgeyBcblx0XHRcdFx0dG9rZW4udmFsdWUgPSB0aGlzLl9icmVha0luc2lkZVRva2VuKHRva2VucywgaSwgaW5kZXgsIHRydWUpOyBcblxuXHRcdFx0XHQvKiBpZiB0aGVyZSBhcmUgc3BhY2VzIGF0IHRoZSBlbmQsIHdlIG11c3QgcmVtb3ZlIHRoZW0gKHdlIGRvIG5vdCB3YW50IHRoZSBsaW5lIHRvbyBsb25nKSAqL1xuXHRcdFx0XHR2YXIgYXJyID0gdG9rZW4udmFsdWUuc3BsaXQoXCJcIik7XG5cdFx0XHRcdHdoaWxlIChhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoLTFdID09IFwiIFwiKSB7IGFyci5wb3AoKTsgfVxuXHRcdFx0XHR0b2tlbi52YWx1ZSA9IGFyci5qb2luKFwiXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiB0b2tlbiBkZWdlbmVyYXRlZD8gKi9cblx0XHRcdGlmICghdG9rZW4udmFsdWUubGVuZ3RoKSB7XG5cdFx0XHRcdHRva2Vucy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAobGluZUxlbmd0aCArIHRva2VuLnZhbHVlLmxlbmd0aCA+IG1heFdpZHRoKSB7IC8qIGxpbmUgdG9vIGxvbmcsIGZpbmQgYSBzdWl0YWJsZSBicmVha2luZyBzcG90ICovXG5cblx0XHRcdFx0LyogaXMgaXQgcG9zc2libGUgdG8gYnJlYWsgd2l0aGluIHRoaXMgdG9rZW4/ICovXG5cdFx0XHRcdHZhciBpbmRleCA9IC0xO1xuXHRcdFx0XHR3aGlsZSAoMSkge1xuXHRcdFx0XHRcdHZhciBuZXh0SW5kZXggPSB0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiLCBpbmRleCsxKTtcblx0XHRcdFx0XHRpZiAobmV4dEluZGV4ID09IC0xKSB7IGJyZWFrOyB9XG5cdFx0XHRcdFx0aWYgKGxpbmVMZW5ndGggKyBuZXh0SW5kZXggPiBtYXhXaWR0aCkgeyBicmVhazsgfVxuXHRcdFx0XHRcdGluZGV4ID0gbmV4dEluZGV4O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGluZGV4ICE9IC0xKSB7IC8qIGJyZWFrIGF0IHNwYWNlIHdpdGhpbiB0aGlzIG9uZSAqL1xuXHRcdFx0XHRcdHRva2VuLnZhbHVlID0gdGhpcy5fYnJlYWtJbnNpZGVUb2tlbih0b2tlbnMsIGksIGluZGV4LCB0cnVlKTtcblx0XHRcdFx0fSBlbHNlIGlmIChsYXN0VG9rZW5XaXRoU3BhY2UgIT0gLTEpIHsgLyogaXMgdGhlcmUgYSBwcmV2aW91cyB0b2tlbiB3aGVyZSBhIGJyZWFrIGNhbiBvY2N1cj8gKi9cblx0XHRcdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbbGFzdFRva2VuV2l0aFNwYWNlXTtcblx0XHRcdFx0XHR2YXIgYnJlYWtJbmRleCA9IHRva2VuLnZhbHVlLmxhc3RJbmRleE9mKFwiIFwiKTtcblx0XHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBsYXN0VG9rZW5XaXRoU3BhY2UsIGJyZWFrSW5kZXgsIHRydWUpO1xuXHRcdFx0XHRcdGkgPSBsYXN0VG9rZW5XaXRoU3BhY2U7XG5cdFx0XHRcdH0gZWxzZSB7IC8qIGZvcmNlIGJyZWFrIGluIHRoaXMgdG9rZW4gKi9cblx0XHRcdFx0XHR0b2tlbi52YWx1ZSA9IHRoaXMuX2JyZWFrSW5zaWRlVG9rZW4odG9rZW5zLCBpLCBtYXhXaWR0aC1saW5lTGVuZ3RoLCBmYWxzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHsgLyogbGluZSBub3QgbG9uZywgY29udGludWUgKi9cblx0XHRcdFx0bGluZUxlbmd0aCArPSB0b2tlbi52YWx1ZS5sZW5ndGg7XG5cdFx0XHRcdGlmICh0b2tlbi52YWx1ZS5pbmRleE9mKFwiIFwiKSAhPSAtMSkgeyBsYXN0VG9rZW5XaXRoU3BhY2UgPSBpOyB9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGkrKzsgLyogYWR2YW5jZSB0byBuZXh0IHRva2VuICovXG5cdFx0fVxuXG5cblx0XHR0b2tlbnMucHVzaCh7dHlwZTogUk9ULlRleHQuVFlQRV9ORVdMSU5FfSk7IC8qIGluc2VydCBmYWtlIG5ld2xpbmUgdG8gZml4IHRoZSBsYXN0IHRleHQgbGluZSAqL1xuXG5cdFx0LyogcmVtb3ZlIHRyYWlsaW5nIHNwYWNlIGZyb20gdGV4dCB0b2tlbnMgYmVmb3JlIG5ld2xpbmVzICovXG5cdFx0dmFyIGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuXHRcdGZvciAodmFyIGk9MDtpPHRva2Vucy5sZW5ndGg7aSsrKSB7XG5cdFx0XHR2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG5cdFx0XHRzd2l0Y2ggKHRva2VuLnR5cGUpIHtcblx0XHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX1RFWFQ6IGxhc3RUZXh0VG9rZW4gPSB0b2tlbjsgYnJlYWs7XG5cdFx0XHRcdGNhc2UgUk9ULlRleHQuVFlQRV9ORVdMSU5FOiBcblx0XHRcdFx0XHRpZiAobGFzdFRleHRUb2tlbikgeyAvKiByZW1vdmUgdHJhaWxpbmcgc3BhY2UgKi9cblx0XHRcdFx0XHRcdHZhciBhcnIgPSBsYXN0VGV4dFRva2VuLnZhbHVlLnNwbGl0KFwiXCIpO1xuXHRcdFx0XHRcdFx0d2hpbGUgKGFyci5sZW5ndGggJiYgYXJyW2Fyci5sZW5ndGgtMV0gPT0gXCIgXCIpIHsgYXJyLnBvcCgpOyB9XG5cdFx0XHRcdFx0XHRsYXN0VGV4dFRva2VuLnZhbHVlID0gYXJyLmpvaW4oXCJcIik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGxhc3RUZXh0VG9rZW4gPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0b2tlbnMucG9wKCk7IC8qIHJlbW92ZSBmYWtlIHRva2VuICovXG5cblx0XHRyZXR1cm4gdG9rZW5zO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBDcmVhdGUgbmV3IHRva2VucyBhbmQgaW5zZXJ0IHRoZW0gaW50byB0aGUgc3RyZWFtXG5cdCAqIEBwYXJhbSB7b2JqZWN0W119IHRva2Vuc1xuXHQgKiBAcGFyYW0ge2ludH0gdG9rZW5JbmRleCBUb2tlbiBiZWluZyBwcm9jZXNzZWRcblx0ICogQHBhcmFtIHtpbnR9IGJyZWFrSW5kZXggSW5kZXggd2l0aGluIGN1cnJlbnQgdG9rZW4ncyB2YWx1ZVxuXHQgKiBAcGFyYW0ge2Jvb2x9IHJlbW92ZUJyZWFrQ2hhciBEbyB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgYnJlYWtpbmcgY2hhcmFjdGVyP1xuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSByZW1haW5pbmcgdW5icm9rZW4gdG9rZW4gdmFsdWVcblx0ICovXG5cdF9icmVha0luc2lkZVRva2VuOiBmdW5jdGlvbih0b2tlbnMsIHRva2VuSW5kZXgsIGJyZWFrSW5kZXgsIHJlbW92ZUJyZWFrQ2hhcikge1xuXHRcdHZhciBuZXdCcmVha1Rva2VuID0ge1xuXHRcdFx0dHlwZTogUk9ULlRleHQuVFlQRV9ORVdMSU5FXG5cdFx0fVxuXHRcdHZhciBuZXdUZXh0VG9rZW4gPSB7XG5cdFx0XHR0eXBlOiBST1QuVGV4dC5UWVBFX1RFWFQsXG5cdFx0XHR2YWx1ZTogdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlLnN1YnN0cmluZyhicmVha0luZGV4ICsgKHJlbW92ZUJyZWFrQ2hhciA/IDEgOiAwKSlcblx0XHR9XG5cdFx0dG9rZW5zLnNwbGljZSh0b2tlbkluZGV4KzEsIDAsIG5ld0JyZWFrVG9rZW4sIG5ld1RleHRUb2tlbik7XG5cdFx0cmV0dXJuIHRva2Vuc1t0b2tlbkluZGV4XS52YWx1ZS5zdWJzdHJpbmcoMCwgYnJlYWtJbmRleCk7XG5cdH1cbn1cbi8qKlxuICogQHJldHVybnMge2FueX0gUmFuZG9tbHkgcGlja2VkIGl0ZW0sIG51bGwgd2hlbiBsZW5ndGg9MFxuICovXG5BcnJheS5wcm90b3R5cGUucmFuZG9tID0gQXJyYXkucHJvdG90eXBlLnJhbmRvbSB8fCBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLmxlbmd0aCkgeyByZXR1cm4gbnVsbDsgfVxuXHRyZXR1cm4gdGhpc1tNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogdGhpcy5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7YXJyYXl9IE5ldyBhcnJheSB3aXRoIHJhbmRvbWl6ZWQgaXRlbXNcbiAqIEZJWE1FIGRlc3Ryb3lzIHRoaXMhXG4gKi9cbkFycmF5LnByb3RvdHlwZS5yYW5kb21pemUgPSBBcnJheS5wcm90b3R5cGUucmFuZG9taXplIHx8IGZ1bmN0aW9uKCkge1xuXHR2YXIgcmVzdWx0ID0gW107XG5cdHdoaWxlICh0aGlzLmxlbmd0aCkge1xuXHRcdHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZih0aGlzLnJhbmRvbSgpKTtcblx0XHRyZXN1bHQucHVzaCh0aGlzLnNwbGljZShpbmRleCwgMSlbMF0pO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEFsd2F5cyBwb3NpdGl2ZSBtb2R1bHVzXG4gKiBAcGFyYW0ge2ludH0gbiBNb2R1bHVzXG4gKiBAcmV0dXJucyB7aW50fSB0aGlzIG1vZHVsbyBuXG4gKi9cbk51bWJlci5wcm90b3R5cGUubW9kID0gTnVtYmVyLnByb3RvdHlwZS5tb2QgfHwgZnVuY3Rpb24obikge1xuXHRyZXR1cm4gKCh0aGlzJW4pK24pJW47XG59XG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZpcnN0IGxldHRlciBjYXBpdGFsaXplZFxuICovXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgPSBTdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgfHwgZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGhpcy5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKiBcbiAqIExlZnQgcGFkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJhY3Rlcj1cIjBcIl1cbiAqIEBwYXJhbSB7aW50fSBbY291bnQ9Ml1cbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5scGFkID0gU3RyaW5nLnByb3RvdHlwZS5scGFkIHx8IGZ1bmN0aW9uKGNoYXJhY3RlciwgY291bnQpIHtcblx0dmFyIGNoID0gY2hhcmFjdGVyIHx8IFwiMFwiO1xuXHR2YXIgY250ID0gY291bnQgfHwgMjtcblxuXHR2YXIgcyA9IFwiXCI7XG5cdHdoaWxlIChzLmxlbmd0aCA8IChjbnQgLSB0aGlzLmxlbmd0aCkpIHsgcyArPSBjaDsgfVxuXHRzID0gcy5zdWJzdHJpbmcoMCwgY250LXRoaXMubGVuZ3RoKTtcblx0cmV0dXJuIHMrdGhpcztcbn1cblxuLyoqIFxuICogUmlnaHQgcGFkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJhY3Rlcj1cIjBcIl1cbiAqIEBwYXJhbSB7aW50fSBbY291bnQ9Ml1cbiAqL1xuU3RyaW5nLnByb3RvdHlwZS5ycGFkID0gU3RyaW5nLnByb3RvdHlwZS5ycGFkIHx8IGZ1bmN0aW9uKGNoYXJhY3RlciwgY291bnQpIHtcblx0dmFyIGNoID0gY2hhcmFjdGVyIHx8IFwiMFwiO1xuXHR2YXIgY250ID0gY291bnQgfHwgMjtcblxuXHR2YXIgcyA9IFwiXCI7XG5cdHdoaWxlIChzLmxlbmd0aCA8IChjbnQgLSB0aGlzLmxlbmd0aCkpIHsgcyArPSBjaDsgfVxuXHRzID0gcy5zdWJzdHJpbmcoMCwgY250LXRoaXMubGVuZ3RoKTtcblx0cmV0dXJuIHRoaXMrcztcbn1cblxuLyoqXG4gKiBGb3JtYXQgYSBzdHJpbmcgaW4gYSBmbGV4aWJsZSB3YXkuIFNjYW5zIGZvciAlcyBzdHJpbmdzIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggYXJndW1lbnRzLiBMaXN0IG9mIHBhdHRlcm5zIGlzIG1vZGlmaWFibGUgdmlhIFN0cmluZy5mb3JtYXQubWFwLlxuICogQHBhcmFtIHtzdHJpbmd9IHRlbXBsYXRlXG4gKiBAcGFyYW0ge2FueX0gW2FyZ3ZdXG4gKi9cblN0cmluZy5mb3JtYXQgPSBTdHJpbmcuZm9ybWF0IHx8IGZ1bmN0aW9uKHRlbXBsYXRlKSB7XG5cdHZhciBtYXAgPSBTdHJpbmcuZm9ybWF0Lm1hcDtcblx0dmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG5cdHZhciByZXBsYWNlciA9IGZ1bmN0aW9uKG1hdGNoLCBncm91cDEsIGdyb3VwMiwgaW5kZXgpIHtcblx0XHRpZiAodGVtcGxhdGUuY2hhckF0KGluZGV4LTEpID09IFwiJVwiKSB7IHJldHVybiBtYXRjaC5zdWJzdHJpbmcoMSk7IH1cblx0XHRpZiAoIWFyZ3MubGVuZ3RoKSB7IHJldHVybiBtYXRjaDsgfVxuXHRcdHZhciBvYmogPSBhcmdzWzBdO1xuXG5cdFx0dmFyIGdyb3VwID0gZ3JvdXAxIHx8IGdyb3VwMjtcblx0XHR2YXIgcGFydHMgPSBncm91cC5zcGxpdChcIixcIik7XG5cdFx0dmFyIG5hbWUgPSBwYXJ0cy5zaGlmdCgpO1xuXHRcdHZhciBtZXRob2QgPSBtYXBbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblx0XHRpZiAoIW1ldGhvZCkgeyByZXR1cm4gbWF0Y2g7IH1cblxuXHRcdHZhciBvYmogPSBhcmdzLnNoaWZ0KCk7XG5cdFx0dmFyIHJlcGxhY2VkID0gb2JqW21ldGhvZF0uYXBwbHkob2JqLCBwYXJ0cyk7XG5cblx0XHR2YXIgZmlyc3QgPSBuYW1lLmNoYXJBdCgwKTtcblx0XHRpZiAoZmlyc3QgIT0gZmlyc3QudG9Mb3dlckNhc2UoKSkgeyByZXBsYWNlZCA9IHJlcGxhY2VkLmNhcGl0YWxpemUoKTsgfVxuXG5cdFx0cmV0dXJuIHJlcGxhY2VkO1xuXHR9XG5cdHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KFthLXpdKyl8KD86eyhbXn1dKyl9KSkvZ2ksIHJlcGxhY2VyKTtcbn1cblxuU3RyaW5nLmZvcm1hdC5tYXAgPSBTdHJpbmcuZm9ybWF0Lm1hcCB8fCB7XG5cdFwic1wiOiBcInRvU3RyaW5nXCJcbn1cblxuLyoqXG4gKiBDb252ZW5pZW5jZSBzaG9ydGN1dCB0byBTdHJpbmcuZm9ybWF0KHRoaXMpXG4gKi9cblN0cmluZy5wcm90b3R5cGUuZm9ybWF0ID0gU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQgfHwgZnVuY3Rpb24oKSB7XG5cdHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblx0YXJncy51bnNoaWZ0KHRoaXMpO1xuXHRyZXR1cm4gU3RyaW5nLmZvcm1hdC5hcHBseShTdHJpbmcsIGFyZ3MpO1xufVxuXG5pZiAoIU9iamVjdC5jcmVhdGUpIHsgIFxuXHQvKipcblx0ICogRVM1IE9iamVjdC5jcmVhdGVcblx0ICovXG5cdE9iamVjdC5jcmVhdGUgPSBmdW5jdGlvbihvKSB7ICBcblx0XHR2YXIgdG1wID0gZnVuY3Rpb24oKSB7fTtcblx0XHR0bXAucHJvdG90eXBlID0gbztcblx0XHRyZXR1cm4gbmV3IHRtcCgpO1xuXHR9OyAgXG59ICBcbi8qKlxuICogU2V0cyBwcm90b3R5cGUgb2YgdGhpcyBmdW5jdGlvbiB0byBhbiBpbnN0YW5jZSBvZiBwYXJlbnQgZnVuY3Rpb25cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHBhcmVudFxuICovXG5GdW5jdGlvbi5wcm90b3R5cGUuZXh0ZW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmV4dGVuZCB8fCBmdW5jdGlvbihwYXJlbnQpIHtcblx0dGhpcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpO1xuXHR0aGlzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHRoaXM7XG5cdHJldHVybiB0aGlzO1xufVxuaWYgKHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIikge1xuXHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID1cblx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5cdFx0fHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVxuXHRcdHx8IGZ1bmN0aW9uKGNiKSB7IHJldHVybiBzZXRUaW1lb3V0KGNiLCAxMDAwLzYwKTsgfTtcblxuXHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPVxuXHRcdHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IHdpbmRvdy5vQ2FuY2VsQW5pbWF0aW9uRnJhbWVcblx0XHR8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZVxuXHRcdHx8IGZ1bmN0aW9uKGlkKSB7IHJldHVybiBjbGVhclRpbWVvdXQoaWQpOyB9O1xufVxuLyoqXG4gKiBAY2xhc3MgVmlzdWFsIG1hcCBkaXNwbGF5XG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMud2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMuaGVpZ2h0PVJPVC5ERUZBVUxUX0hFSUdIVF1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5mb250U2l6ZT0xNV1cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5mb250RmFtaWx5PVwibW9ub3NwYWNlXCJdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuZm9udFN0eWxlPVwiXCJdIGJvbGQvaXRhbGljL25vbmUvYm90aFxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmZnPVwiI2NjY1wiXVxuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLmJnPVwiIzAwMFwiXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMuc3BhY2luZz0xXVxuICogQHBhcmFtIHtmbG9hdH0gW29wdGlvbnMuYm9yZGVyPTBdXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMubGF5b3V0PVwicmVjdFwiXVxuICogQHBhcmFtIHtib29sfSBbb3B0aW9ucy5mb3JjZVNxdWFyZVJhdGlvPWZhbHNlXVxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnRpbGVXaWR0aD0zMl1cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50aWxlSGVpZ2h0PTMyXVxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLnRpbGVNYXA9e31dXG4gKiBAcGFyYW0ge2ltYWdlfSBbb3B0aW9ucy50aWxlU2V0PW51bGxdXG4gKiBAcGFyYW0ge2ltYWdlfSBbb3B0aW9ucy50aWxlQ29sb3JpemU9ZmFsc2VdXG4gKi9cblJPVC5EaXNwbGF5ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0dGhpcy5fY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fZGlydHkgPSBmYWxzZTsgLyogZmFsc2UgPSBub3RoaW5nLCB0cnVlID0gYWxsLCBvYmplY3QgPSBkaXJ0eSBjZWxscyAqL1xuXHR0aGlzLl9vcHRpb25zID0ge307XG5cdHRoaXMuX2JhY2tlbmQgPSBudWxsO1xuXHRcblx0dmFyIGRlZmF1bHRPcHRpb25zID0ge1xuXHRcdHdpZHRoOiBST1QuREVGQVVMVF9XSURUSCxcblx0XHRoZWlnaHQ6IFJPVC5ERUZBVUxUX0hFSUdIVCxcblx0XHR0cmFuc3Bvc2U6IGZhbHNlLFxuXHRcdGxheW91dDogXCJyZWN0XCIsXG5cdFx0Zm9udFNpemU6IDE1LFxuXHRcdHNwYWNpbmc6IDEsXG5cdFx0Ym9yZGVyOiAwLFxuXHRcdGZvcmNlU3F1YXJlUmF0aW86IGZhbHNlLFxuXHRcdGZvbnRGYW1pbHk6IFwibW9ub3NwYWNlXCIsXG5cdFx0Zm9udFN0eWxlOiBcIlwiLFxuXHRcdGZnOiBcIiNjY2NcIixcblx0XHRiZzogXCIjMDAwXCIsXG5cdFx0dGlsZVdpZHRoOiAzMixcblx0XHR0aWxlSGVpZ2h0OiAzMixcblx0XHR0aWxlTWFwOiB7fSxcblx0XHR0aWxlU2V0OiBudWxsLFxuXHRcdHRpbGVDb2xvcml6ZTogZmFsc2UsXG5cdFx0dGVybUNvbG9yOiBcInh0ZXJtXCJcblx0fTtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IGRlZmF1bHRPcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHR0aGlzLnNldE9wdGlvbnMoZGVmYXVsdE9wdGlvbnMpO1xuXHR0aGlzLkRFQlVHID0gdGhpcy5ERUJVRy5iaW5kKHRoaXMpO1xuXG5cdHRoaXMuX3RpY2sgPSB0aGlzLl90aWNrLmJpbmQodGhpcyk7XG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLl90aWNrKTtcbn1cblxuLyoqXG4gKiBEZWJ1ZyBoZWxwZXIsIGlkZWFsIGFzIGEgbWFwIGdlbmVyYXRvciBjYWxsYmFjay4gQWx3YXlzIGJvdW5kIHRvIHRoaXMuXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSB3aGF0XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5ERUJVRyA9IGZ1bmN0aW9uKHgsIHksIHdoYXQpIHtcblx0dmFyIGNvbG9ycyA9IFt0aGlzLl9vcHRpb25zLmJnLCB0aGlzLl9vcHRpb25zLmZnXTtcblx0dGhpcy5kcmF3KHgsIHksIG51bGwsIG51bGwsIGNvbG9yc1t3aGF0ICUgY29sb3JzLmxlbmd0aF0pO1xufVxuXG4vKipcbiAqIENsZWFyIHRoZSB3aG9sZSBkaXNwbGF5IChjb3ZlciBpdCB3aXRoIGJhY2tncm91bmQgY29sb3IpXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kYXRhID0ge307XG5cdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5EaXNwbGF5XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5zZXRPcHRpb25zID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblx0aWYgKG9wdGlvbnMud2lkdGggfHwgb3B0aW9ucy5oZWlnaHQgfHwgb3B0aW9ucy5mb250U2l6ZSB8fCBvcHRpb25zLmZvbnRGYW1pbHkgfHwgb3B0aW9ucy5zcGFjaW5nIHx8IG9wdGlvbnMubGF5b3V0KSB7XG5cdFx0aWYgKG9wdGlvbnMubGF5b3V0KSB7IFxuXHRcdFx0dGhpcy5fYmFja2VuZCA9IG5ldyBST1QuRGlzcGxheVtvcHRpb25zLmxheW91dC5jYXBpdGFsaXplKCldKHRoaXMuX2NvbnRleHQpO1xuXHRcdH1cblxuXHRcdHZhciBmb250ID0gKHRoaXMuX29wdGlvbnMuZm9udFN0eWxlID8gdGhpcy5fb3B0aW9ucy5mb250U3R5bGUgKyBcIiBcIiA6IFwiXCIpICsgdGhpcy5fb3B0aW9ucy5mb250U2l6ZSArIFwicHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG5cdFx0dGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcblx0XHR0aGlzLl9iYWNrZW5kLmNvbXB1dGUodGhpcy5fb3B0aW9ucyk7XG5cdFx0dGhpcy5fY29udGV4dC5mb250ID0gZm9udDtcblx0XHR0aGlzLl9jb250ZXh0LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cdFx0dGhpcy5fY29udGV4dC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiO1xuXHRcdHRoaXMuX2RpcnR5ID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGN1cnJlbnRseSBzZXQgb3B0aW9uc1xuICogQHJldHVybnMge29iamVjdH0gQ3VycmVudCBvcHRpb25zIG9iamVjdCBcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX29wdGlvbnM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgRE9NIG5vZGUgb2YgdGhpcyBkaXNwbGF5XG4gKiBAcmV0dXJucyB7bm9kZX0gRE9NIG5vZGVcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmdldENvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fY29udGV4dC5jYW52YXM7XG59XG5cbi8qKlxuICogQ29tcHV0ZSB0aGUgbWF4aW11bSB3aWR0aC9oZWlnaHQgdG8gZml0IGludG8gYSBzZXQgb2YgZ2l2ZW4gY29uc3RyYWludHNcbiAqIEBwYXJhbSB7aW50fSBhdmFpbFdpZHRoIE1heGltdW0gYWxsb3dlZCBwaXhlbCB3aWR0aFxuICogQHBhcmFtIHtpbnR9IGF2YWlsSGVpZ2h0IE1heGltdW0gYWxsb3dlZCBwaXhlbCBoZWlnaHRcbiAqIEByZXR1cm5zIHtpbnRbMl19IGNlbGxXaWR0aCxjZWxsSGVpZ2h0XG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmNvbXB1dGVTaXplKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHRoZSBtYXhpbXVtIGZvbnQgc2l6ZSB0byBmaXQgaW50byBhIHNldCBvZiBnaXZlbiBjb25zdHJhaW50c1xuICogQHBhcmFtIHtpbnR9IGF2YWlsV2lkdGggTWF4aW11bSBhbGxvd2VkIHBpeGVsIHdpZHRoXG4gKiBAcGFyYW0ge2ludH0gYXZhaWxIZWlnaHQgTWF4aW11bSBhbGxvd2VkIHBpeGVsIGhlaWdodFxuICogQHJldHVybnMge2ludH0gZm9udFNpemVcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHJldHVybiB0aGlzLl9iYWNrZW5kLmNvbXB1dGVGb250U2l6ZShhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCwgdGhpcy5fb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQ29udmVydCBhIERPTSBldmVudCAobW91c2Ugb3IgdG91Y2gpIHRvIG1hcCBjb29yZGluYXRlcy4gVXNlcyBmaXJzdCB0b3VjaCBmb3IgbXVsdGktdG91Y2guXG4gKiBAcGFyYW0ge0V2ZW50fSBlIGV2ZW50XG4gKiBAcmV0dXJucyB7aW50WzJdfSAtMSBmb3IgdmFsdWVzIG91dHNpZGUgb2YgdGhlIGNhbnZhc1xuICovXG5ST1QuRGlzcGxheS5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oZSkge1xuXHRpZiAoZS50b3VjaGVzKSB7XG5cdFx0dmFyIHggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcblx0XHR2YXIgeSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuXHR9IGVsc2Uge1xuXHRcdHZhciB4ID0gZS5jbGllbnRYO1xuXHRcdHZhciB5ID0gZS5jbGllbnRZO1xuXHR9XG5cblx0dmFyIHJlY3QgPSB0aGlzLl9jb250ZXh0LmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0eCAtPSByZWN0LmxlZnQ7XG5cdHkgLT0gcmVjdC50b3A7XG5cdFxuXHRpZiAoeCA8IDAgfHwgeSA8IDAgfHwgeCA+PSB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCB8fCB5ID49IHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCkgeyByZXR1cm4gWy0xLCAtMV07IH1cblxuXHRyZXR1cm4gdGhpcy5fYmFja2VuZC5ldmVudFRvUG9zaXRpb24oeCwgeSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge3N0cmluZyB8fCBzdHJpbmdbXX0gY2ggT25lIG9yIG1vcmUgY2hhcnMgKHdpbGwgYmUgb3ZlcmxhcHBpbmcgdGhlbXNlbHZlcylcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZmddIGZvcmVncm91bmQgY29sb3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmddIGJhY2tncm91bmQgY29sb3JcbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbih4LCB5LCBjaCwgZmcsIGJnKSB7XG5cdGlmICghZmcpIHsgZmcgPSB0aGlzLl9vcHRpb25zLmZnOyB9XG5cdGlmICghYmcpIHsgYmcgPSB0aGlzLl9vcHRpb25zLmJnOyB9XG5cdHRoaXMuX2RhdGFbeCtcIixcIit5XSA9IFt4LCB5LCBjaCwgZmcsIGJnXTtcblx0XG5cdGlmICh0aGlzLl9kaXJ0eSA9PT0gdHJ1ZSkgeyByZXR1cm47IH0gLyogd2lsbCBhbHJlYWR5IHJlZHJhdyBldmVyeXRoaW5nICovXG5cdGlmICghdGhpcy5fZGlydHkpIHsgdGhpcy5fZGlydHkgPSB7fTsgfSAvKiBmaXJzdCEgKi9cblx0dGhpcy5fZGlydHlbeCtcIixcIit5XSA9IHRydWU7XG59XG5cbi8qKlxuICogRHJhd3MgYSB0ZXh0IGF0IGdpdmVuIHBvc2l0aW9uLiBPcHRpb25hbGx5IHdyYXBzIGF0IGEgbWF4aW11bSBsZW5ndGguIEN1cnJlbnRseSBkb2VzIG5vdCB3b3JrIHdpdGggaGV4IGxheW91dC5cbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgTWF5IGNvbnRhaW4gY29sb3IvYmFja2dyb3VuZCBmb3JtYXQgc3BlY2lmaWVycywgJWN7bmFtZX0vJWJ7bmFtZX0sIGJvdGggb3B0aW9uYWwuICVje30vJWJ7fSByZXNldHMgdG8gZGVmYXVsdC5cbiAqIEBwYXJhbSB7aW50fSBbbWF4V2lkdGhdIHdyYXAgYXQgd2hhdCB3aWR0aD9cbiAqIEByZXR1cm5zIHtpbnR9IGxpbmVzIGRyYXduXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5kcmF3VGV4dCA9IGZ1bmN0aW9uKHgsIHksIHRleHQsIG1heFdpZHRoKSB7XG5cdHZhciBmZyA9IG51bGw7XG5cdHZhciBiZyA9IG51bGw7XG5cdHZhciBjeCA9IHg7XG5cdHZhciBjeSA9IHk7XG5cdHZhciBsaW5lcyA9IDE7XG5cdGlmICghbWF4V2lkdGgpIHsgbWF4V2lkdGggPSB0aGlzLl9vcHRpb25zLndpZHRoLXg7IH1cblxuXHR2YXIgdG9rZW5zID0gUk9ULlRleHQudG9rZW5pemUodGV4dCwgbWF4V2lkdGgpO1xuXG5cdHdoaWxlICh0b2tlbnMubGVuZ3RoKSB7IC8qIGludGVycHJldCB0b2tlbml6ZWQgb3Bjb2RlIHN0cmVhbSAqL1xuXHRcdHZhciB0b2tlbiA9IHRva2Vucy5zaGlmdCgpO1xuXHRcdHN3aXRjaCAodG9rZW4udHlwZSkge1xuXHRcdFx0Y2FzZSBST1QuVGV4dC5UWVBFX1RFWFQ6XG5cdFx0XHRcdHZhciBpc1NwYWNlID0gZmFsc2UsIGlzUHJldlNwYWNlID0gZmFsc2UsIGlzRnVsbFdpZHRoID0gZmFsc2UsIGlzUHJldkZ1bGxXaWR0aCA9IGZhbHNlO1xuXHRcdFx0XHRmb3IgKHZhciBpPTA7aTx0b2tlbi52YWx1ZS5sZW5ndGg7aSsrKSB7XG5cdFx0XHRcdFx0dmFyIGNjID0gdG9rZW4udmFsdWUuY2hhckNvZGVBdChpKTtcblx0XHRcdFx0XHR2YXIgYyA9IHRva2VuLnZhbHVlLmNoYXJBdChpKTtcblx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gYHRydWVgIHdoZW4gdGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoLlxuXHRcdFx0XHRcdGlzRnVsbFdpZHRoID0gKGNjID4gMHhmZiAmJiBjYyA8IDB4ZmY2MSkgfHwgKGNjID4gMHhmZmRjICYmIGNjIDwgMHhmZmU4KSAmJiBjYyA+IDB4ZmZlZTtcblx0XHRcdFx0XHQvLyBDdXJyZW50IGNoYXIgaXMgc3BhY2UsIHdoYXRldmVyIGZ1bGwtd2lkdGggb3IgaGFsZi13aWR0aCBib3RoIGFyZSBPSy5cblx0XHRcdFx0XHRpc1NwYWNlID0gKGMuY2hhckNvZGVBdCgwKSA9PSAweDIwIHx8IGMuY2hhckNvZGVBdCgwKSA9PSAweDMwMDApO1xuXHRcdFx0XHRcdC8vIFRoZSBwcmV2aW91cyBjaGFyIGlzIGZ1bGwtd2lkdGggYW5kXG5cdFx0XHRcdFx0Ly8gY3VycmVudCBjaGFyIGlzIG5ldGhlciBoYWxmLXdpZHRoIG5vciBhIHNwYWNlLlxuXHRcdFx0XHRcdGlmIChpc1ByZXZGdWxsV2lkdGggJiYgIWlzRnVsbFdpZHRoICYmICFpc1NwYWNlKSB7IGN4Kys7IH0gLy8gYWRkIGFuIGV4dHJhIHBvc2l0aW9uXG5cdFx0XHRcdFx0Ly8gVGhlIGN1cnJlbnQgY2hhciBpcyBmdWxsLXdpZHRoIGFuZFxuXHRcdFx0XHRcdC8vIHRoZSBwcmV2aW91cyBjaGFyIGlzIG5vdCBhIHNwYWNlLlxuXHRcdFx0XHRcdGlmKGlzRnVsbFdpZHRoICYmICFpc1ByZXZTcGFjZSkgeyBjeCsrOyB9IC8vIGFkZCBhbiBleHRyYSBwb3NpdGlvblxuXHRcdFx0XHRcdHRoaXMuZHJhdyhjeCsrLCBjeSwgYywgZmcsIGJnKTtcblx0XHRcdFx0XHRpc1ByZXZTcGFjZSA9IGlzU3BhY2U7XG5cdFx0XHRcdFx0aXNQcmV2RnVsbFdpZHRoID0gaXNGdWxsV2lkdGg7XG5cdFx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfRkc6XG5cdFx0XHRcdGZnID0gdG9rZW4udmFsdWUgfHwgbnVsbDtcblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfQkc6XG5cdFx0XHRcdGJnID0gdG9rZW4udmFsdWUgfHwgbnVsbDtcblx0XHRcdGJyZWFrO1xuXG5cdFx0XHRjYXNlIFJPVC5UZXh0LlRZUEVfTkVXTElORTpcblx0XHRcdFx0Y3ggPSB4O1xuXHRcdFx0XHRjeSsrO1xuXHRcdFx0XHRsaW5lcysrXG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbGluZXM7XG59XG5cbi8qKlxuICogVGltZXIgdGljazogdXBkYXRlIGRpcnR5IHBhcnRzXG4gKi9cblJPVC5EaXNwbGF5LnByb3RvdHlwZS5fdGljayA9IGZ1bmN0aW9uKCkge1xuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fdGljayk7XG5cblx0aWYgKCF0aGlzLl9kaXJ0eSkgeyByZXR1cm47IH1cblxuXHRpZiAodGhpcy5fZGlydHkgPT09IHRydWUpIHsgLyogZHJhdyBhbGwgKi9cblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuX29wdGlvbnMuYmc7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jb250ZXh0LmNhbnZhcy53aWR0aCwgdGhpcy5fY29udGV4dC5jYW52YXMuaGVpZ2h0KTtcblxuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX2RhdGEpIHsgLyogcmVkcmF3IGNhY2hlZCBkYXRhICovXG5cdFx0XHR0aGlzLl9kcmF3KGlkLCBmYWxzZSk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7IC8qIGRyYXcgb25seSBkaXJ0eSAqL1xuXHRcdGZvciAodmFyIGtleSBpbiB0aGlzLl9kaXJ0eSkge1xuXHRcdFx0dGhpcy5fZHJhdyhrZXksIHRydWUpO1xuXHRcdH1cblx0fVxuXG5cdHRoaXMuX2RpcnR5ID0gZmFsc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBXaGF0IHRvIGRyYXdcbiAqIEBwYXJhbSB7Ym9vbH0gY2xlYXJCZWZvcmUgSXMgaXQgbmVjZXNzYXJ5IHRvIGNsZWFuIGJlZm9yZT9cbiAqL1xuUk9ULkRpc3BsYXkucHJvdG90eXBlLl9kcmF3ID0gZnVuY3Rpb24oa2V5LCBjbGVhckJlZm9yZSkge1xuXHR2YXIgZGF0YSA9IHRoaXMuX2RhdGFba2V5XTtcblx0aWYgKGRhdGFbNF0gIT0gdGhpcy5fb3B0aW9ucy5iZykgeyBjbGVhckJlZm9yZSA9IHRydWU7IH1cblxuXHR0aGlzLl9iYWNrZW5kLmRyYXcoZGF0YSwgY2xlYXJCZWZvcmUpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWJzdHJhY3QgZGlzcGxheSBiYWNrZW5kIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuQmFja2VuZCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xufVxuXG5ST1QuRGlzcGxheS5CYWNrZW5kLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG59XG5cblJPVC5EaXNwbGF5LkJhY2tlbmQucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcbn1cbi8qKlxuICogQGNsYXNzIFJlY3Rhbmd1bGFyIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlJlY3QgPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblx0XG5cdHRoaXMuX3NwYWNpbmdYID0gMDtcblx0dGhpcy5fc3BhY2luZ1kgPSAwO1xuXHR0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuXHR0aGlzLl9vcHRpb25zID0ge307XG59XG5ST1QuRGlzcGxheS5SZWN0LmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuUmVjdC5jYWNoZSA9IGZhbHNlO1xuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9jYW52YXNDYWNoZSA9IHt9O1xuXHR0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcblxuXHR2YXIgY2hhcldpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fc3BhY2luZ1ggPSBNYXRoLmNlaWwob3B0aW9ucy5zcGFjaW5nICogY2hhcldpZHRoKTtcblx0dGhpcy5fc3BhY2luZ1kgPSBNYXRoLmNlaWwob3B0aW9ucy5zcGFjaW5nICogb3B0aW9ucy5mb250U2l6ZSk7XG5cblx0aWYgKHRoaXMuX29wdGlvbnMuZm9yY2VTcXVhcmVSYXRpbykge1xuXHRcdHRoaXMuX3NwYWNpbmdYID0gdGhpcy5fc3BhY2luZ1kgPSBNYXRoLm1heCh0aGlzLl9zcGFjaW5nWCwgdGhpcy5fc3BhY2luZ1kpO1xuXHR9XG5cblx0dGhpcy5fY29udGV4dC5jYW52YXMud2lkdGggPSBvcHRpb25zLndpZHRoICogdGhpcy5fc3BhY2luZ1g7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICogdGhpcy5fc3BhY2luZ1k7XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHRpZiAodGhpcy5jb25zdHJ1Y3Rvci5jYWNoZSkge1xuXHRcdHRoaXMuX2RyYXdXaXRoQ2FjaGUoZGF0YSwgY2xlYXJCZWZvcmUpO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMuX2RyYXdOb0NhY2hlKGRhdGEsIGNsZWFyQmVmb3JlKTtcblx0fVxufVxuXG5ST1QuRGlzcGxheS5SZWN0LnByb3RvdHlwZS5fZHJhd1dpdGhDYWNoZSA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdHZhciBoYXNoID0gXCJcIitjaCtmZytiZztcblx0aWYgKGhhc2ggaW4gdGhpcy5fY2FudmFzQ2FjaGUpIHtcblx0XHR2YXIgY2FudmFzID0gdGhpcy5fY2FudmFzQ2FjaGVbaGFzaF07XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGIgPSB0aGlzLl9vcHRpb25zLmJvcmRlcjtcblx0XHR2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0XHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRjYW52YXMud2lkdGggPSB0aGlzLl9zcGFjaW5nWDtcblx0XHRjYW52YXMuaGVpZ2h0ID0gdGhpcy5fc3BhY2luZ1k7XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IGJnO1xuXHRcdGN0eC5maWxsUmVjdChiLCBiLCBjYW52YXMud2lkdGgtYiwgY2FudmFzLmhlaWdodC1iKTtcblx0XHRcblx0XHRpZiAoY2gpIHtcblx0XHRcdGN0eC5maWxsU3R5bGUgPSBmZztcblx0XHRcdGN0eC5mb250ID0gdGhpcy5fY29udGV4dC5mb250O1xuXHRcdFx0Y3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cdFx0XHRjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcblxuXHRcdFx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0XHRcdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHRcdFx0Y3R4LmZpbGxUZXh0KGNoYXJzW2ldLCB0aGlzLl9zcGFjaW5nWC8yLCBNYXRoLmNlaWwodGhpcy5fc3BhY2luZ1kvMikpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLl9jYW52YXNDYWNoZVtoYXNoXSA9IGNhbnZhcztcblx0fVxuXHRcblx0dGhpcy5fY29udGV4dC5kcmF3SW1hZ2UoY2FudmFzLCB4KnRoaXMuX3NwYWNpbmdYLCB5KnRoaXMuX3NwYWNpbmdZKTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuX2RyYXdOb0NhY2hlID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0aWYgKGNsZWFyQmVmb3JlKSB7IFxuXHRcdHZhciBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG5cdFx0dGhpcy5fY29udGV4dC5maWxsU3R5bGUgPSBiZztcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KHgqdGhpcy5fc3BhY2luZ1ggKyBiLCB5KnRoaXMuX3NwYWNpbmdZICsgYiwgdGhpcy5fc3BhY2luZ1ggLSBiLCB0aGlzLl9zcGFjaW5nWSAtIGIpO1xuXHR9XG5cdFxuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gZmc7XG5cblx0dmFyIGNoYXJzID0gW10uY29uY2F0KGNoKTtcblx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKykge1xuXHRcdHRoaXMuX2NvbnRleHQuZmlsbFRleHQoY2hhcnNbaV0sICh4KzAuNSkgKiB0aGlzLl9zcGFjaW5nWCwgTWF0aC5jZWlsKCh5KzAuNSkgKiB0aGlzLl9zcGFjaW5nWSkpO1xuXHR9XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmNvbXB1dGVTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIHdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fc3BhY2luZ1gpO1xuXHR2YXIgaGVpZ2h0ID0gTWF0aC5mbG9vcihhdmFpbEhlaWdodCAvIHRoaXMuX3NwYWNpbmdZKTtcblx0cmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcbn1cblxuUk9ULkRpc3BsYXkuUmVjdC5wcm90b3R5cGUuY29tcHV0ZUZvbnRTaXplID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQpIHtcblx0dmFyIGJveFdpZHRoID0gTWF0aC5mbG9vcihhdmFpbFdpZHRoIC8gdGhpcy5fb3B0aW9ucy53aWR0aCk7XG5cdHZhciBib3hIZWlnaHQgPSBNYXRoLmZsb29yKGF2YWlsSGVpZ2h0IC8gdGhpcy5fb3B0aW9ucy5oZWlnaHQpO1xuXG5cdC8qIGNvbXB1dGUgY2hhciByYXRpbyAqL1xuXHR2YXIgb2xkRm9udCA9IHRoaXMuX2NvbnRleHQuZm9udDtcblx0dGhpcy5fY29udGV4dC5mb250ID0gXCIxMDBweCBcIiArIHRoaXMuX29wdGlvbnMuZm9udEZhbWlseTtcblx0dmFyIHdpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5fY29udGV4dC5mb250ID0gb2xkRm9udDtcblx0dmFyIHJhdGlvID0gd2lkdGggLyAxMDA7XG5cdFx0XG5cdHZhciB3aWR0aEZyYWN0aW9uID0gcmF0aW8gKiBib3hIZWlnaHQgLyBib3hXaWR0aDtcblx0aWYgKHdpZHRoRnJhY3Rpb24gPiAxKSB7IC8qIHRvbyB3aWRlIHdpdGggY3VycmVudCBhc3BlY3QgcmF0aW8gKi9cblx0XHRib3hIZWlnaHQgPSBNYXRoLmZsb29yKGJveEhlaWdodCAvIHdpZHRoRnJhY3Rpb24pO1xuXHR9XG5cdHJldHVybiBNYXRoLmZsb29yKGJveEhlaWdodCAvIHRoaXMuX29wdGlvbnMuc3BhY2luZyk7XG59XG5cblJPVC5EaXNwbGF5LlJlY3QucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFtNYXRoLmZsb29yKHgvdGhpcy5fc3BhY2luZ1gpLCBNYXRoLmZsb29yKHkvdGhpcy5fc3BhY2luZ1kpXTtcbn1cbi8qKlxuICogQGNsYXNzIEhleGFnb25hbCBiYWNrZW5kXG4gKiBAcHJpdmF0ZVxuICovXG5ST1QuRGlzcGxheS5IZXggPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblxuXHR0aGlzLl9zcGFjaW5nWCA9IDA7XG5cdHRoaXMuX3NwYWNpbmdZID0gMDtcblx0dGhpcy5faGV4U2l6ZSA9IDA7XG5cdHRoaXMuX29wdGlvbnMgPSB7fTtcbn1cblJPVC5EaXNwbGF5LkhleC5leHRlbmQoUk9ULkRpc3BsYXkuQmFja2VuZCk7XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cblx0LyogRklYTUUgY2hhciBzaXplIGNvbXB1dGF0aW9uIGRvZXMgbm90IHJlc3BlY3QgdHJhbnNwb3NlZCBoZXhlcyAqL1xuXHR2YXIgY2hhcldpZHRoID0gTWF0aC5jZWlsKHRoaXMuX2NvbnRleHQubWVhc3VyZVRleHQoXCJXXCIpLndpZHRoKTtcblx0dGhpcy5faGV4U2l6ZSA9IE1hdGguZmxvb3Iob3B0aW9ucy5zcGFjaW5nICogKG9wdGlvbnMuZm9udFNpemUgKyBjaGFyV2lkdGgvTWF0aC5zcXJ0KDMpKSAvIDIpO1xuXHR0aGlzLl9zcGFjaW5nWCA9IHRoaXMuX2hleFNpemUgKiBNYXRoLnNxcnQoMykgLyAyO1xuXHR0aGlzLl9zcGFjaW5nWSA9IHRoaXMuX2hleFNpemUgKiAxLjU7XG5cblx0aWYgKG9wdGlvbnMudHJhbnNwb3NlKSB7XG5cdFx0dmFyIHhwcm9wID0gXCJoZWlnaHRcIjtcblx0XHR2YXIgeXByb3AgPSBcIndpZHRoXCI7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHhwcm9wID0gXCJ3aWR0aFwiO1xuXHRcdHZhciB5cHJvcCA9IFwiaGVpZ2h0XCI7XG5cdH1cblx0dGhpcy5fY29udGV4dC5jYW52YXNbeHByb3BdID0gTWF0aC5jZWlsKCAob3B0aW9ucy53aWR0aCArIDEpICogdGhpcy5fc3BhY2luZ1ggKTtcblx0dGhpcy5fY29udGV4dC5jYW52YXNbeXByb3BdID0gTWF0aC5jZWlsKCAob3B0aW9ucy5oZWlnaHQgLSAxKSAqIHRoaXMuX3NwYWNpbmdZICsgMip0aGlzLl9oZXhTaXplICk7XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGRhdGEsIGNsZWFyQmVmb3JlKSB7XG5cdHZhciB4ID0gZGF0YVswXTtcblx0dmFyIHkgPSBkYXRhWzFdO1xuXHR2YXIgY2ggPSBkYXRhWzJdO1xuXHR2YXIgZmcgPSBkYXRhWzNdO1xuXHR2YXIgYmcgPSBkYXRhWzRdO1xuXG5cdHZhciBweCA9IFtcblx0XHQoeCsxKSAqIHRoaXMuX3NwYWNpbmdYLFxuXHRcdHkgKiB0aGlzLl9zcGFjaW5nWSArIHRoaXMuX2hleFNpemVcblx0XTtcblx0aWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3NlKSB7IHB4LnJldmVyc2UoKTsgfVxuXG5cdGlmIChjbGVhckJlZm9yZSkgeyBcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdHRoaXMuX2ZpbGwocHhbMF0sIHB4WzFdKTtcblx0fVxuXHRcblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHR0aGlzLl9jb250ZXh0LmZpbGxTdHlsZSA9IGZnO1xuXG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspIHtcblx0XHR0aGlzLl9jb250ZXh0LmZpbGxUZXh0KGNoYXJzW2ldLCBweFswXSwgTWF0aC5jZWlsKHB4WzFdKSk7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdGF2YWlsV2lkdGggKz0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcblx0fVxuXG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX3NwYWNpbmdYKSAtIDE7XG5cdHZhciBoZWlnaHQgPSBNYXRoLmZsb29yKChhdmFpbEhlaWdodCAtIDIqdGhpcy5faGV4U2l6ZSkgLyB0aGlzLl9zcGFjaW5nWSArIDEpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5IZXgucHJvdG90eXBlLmNvbXB1dGVGb250U2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdGF2YWlsV2lkdGggKz0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxIZWlnaHQgPSBhdmFpbFdpZHRoIC0gYXZhaWxIZWlnaHQ7XG5cdFx0YXZhaWxXaWR0aCAtPSBhdmFpbEhlaWdodDtcblx0fVxuXG5cdHZhciBoZXhTaXplV2lkdGggPSAyKmF2YWlsV2lkdGggLyAoKHRoaXMuX29wdGlvbnMud2lkdGgrMSkgKiBNYXRoLnNxcnQoMykpIC0gMTtcblx0dmFyIGhleFNpemVIZWlnaHQgPSBhdmFpbEhlaWdodCAvICgyICsgMS41Kih0aGlzLl9vcHRpb25zLmhlaWdodC0xKSk7XG5cdHZhciBoZXhTaXplID0gTWF0aC5taW4oaGV4U2l6ZVdpZHRoLCBoZXhTaXplSGVpZ2h0KTtcblxuXHQvKiBjb21wdXRlIGNoYXIgcmF0aW8gKi9cblx0dmFyIG9sZEZvbnQgPSB0aGlzLl9jb250ZXh0LmZvbnQ7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IFwiMTAwcHggXCIgKyB0aGlzLl9vcHRpb25zLmZvbnRGYW1pbHk7XG5cdHZhciB3aWR0aCA9IE1hdGguY2VpbCh0aGlzLl9jb250ZXh0Lm1lYXN1cmVUZXh0KFwiV1wiKS53aWR0aCk7XG5cdHRoaXMuX2NvbnRleHQuZm9udCA9IG9sZEZvbnQ7XG5cdHZhciByYXRpbyA9IHdpZHRoIC8gMTAwO1xuXG5cdGhleFNpemUgPSBNYXRoLmZsb29yKGhleFNpemUpKzE7IC8qIGNsb3Nlc3QgbGFyZ2VyIGhleFNpemUgKi9cblxuXHQvKiBGSVhNRSBjaGFyIHNpemUgY29tcHV0YXRpb24gZG9lcyBub3QgcmVzcGVjdCB0cmFuc3Bvc2VkIGhleGVzICovXG5cdHZhciBmb250U2l6ZSA9IDIqaGV4U2l6ZSAvICh0aGlzLl9vcHRpb25zLnNwYWNpbmcgKiAoMSArIHJhdGlvIC8gTWF0aC5zcXJ0KDMpKSk7XG5cblx0LyogY2xvc2VzdCBzbWFsbGVyIGZvbnRTaXplICovXG5cdHJldHVybiBNYXRoLmNlaWwoZm9udFNpemUpLTE7XG59XG5cblJPVC5EaXNwbGF5LkhleC5wcm90b3R5cGUuZXZlbnRUb1Bvc2l0aW9uID0gZnVuY3Rpb24oeCwgeSkge1xuXHRpZiAodGhpcy5fb3B0aW9ucy50cmFuc3Bvc2UpIHtcblx0XHR4ICs9IHk7XG5cdFx0eSA9IHgteTtcblx0XHR4IC09IHk7XG5cdFx0dmFyIHByb3AgPSBcIndpZHRoXCI7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIHByb3AgPSBcImhlaWdodFwiO1xuXHR9XG5cdHZhciBzaXplID0gdGhpcy5fY29udGV4dC5jYW52YXNbcHJvcF0gLyB0aGlzLl9vcHRpb25zW3Byb3BdO1xuXHR5ID0gTWF0aC5mbG9vcih5L3NpemUpO1xuXG5cdGlmICh5Lm1vZCgyKSkgeyAvKiBvZGQgcm93ICovXG5cdFx0eCAtPSB0aGlzLl9zcGFjaW5nWDtcblx0XHR4ID0gMSArIDIqTWF0aC5mbG9vcih4LygyKnRoaXMuX3NwYWNpbmdYKSk7XG5cdH0gZWxzZSB7XG5cdFx0eCA9IDIqTWF0aC5mbG9vcih4LygyKnRoaXMuX3NwYWNpbmdYKSk7XG5cdH1cblx0XG5cdHJldHVybiBbeCwgeV07XG59XG5cbi8qKlxuICogQXJndW1lbnRzIGFyZSBwaXhlbCB2YWx1ZXMuIElmIFwidHJhbnNwb3NlZFwiIG1vZGUgaXMgZW5hYmxlZCwgdGhlbiB0aGVzZSB0d28gYXJlIGFscmVhZHkgc3dhcHBlZC5cbiAqL1xuUk9ULkRpc3BsYXkuSGV4LnByb3RvdHlwZS5fZmlsbCA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgYSA9IHRoaXMuX2hleFNpemU7XG5cdHZhciBiID0gdGhpcy5fb3B0aW9ucy5ib3JkZXI7XG5cdFxuXHR0aGlzLl9jb250ZXh0LmJlZ2luUGF0aCgpO1xuXG5cdGlmICh0aGlzLl9vcHRpb25zLnRyYW5zcG9zZSkge1xuXHRcdHRoaXMuX2NvbnRleHQubW92ZVRvKGN4LWErYixcdGN5KTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hLzIrYixcdGN5K3RoaXMuX3NwYWNpbmdYLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K2EvMi1iLFx0Y3krdGhpcy5fc3BhY2luZ1gtYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grYS1iLFx0Y3kpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4K2EvMi1iLFx0Y3ktdGhpcy5fc3BhY2luZ1grYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtYS8yK2IsXHRjeS10aGlzLl9zcGFjaW5nWCtiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeC1hK2IsXHRjeSk7XG5cdH0gZWxzZSB7XG5cdFx0dGhpcy5fY29udGV4dC5tb3ZlVG8oY3gsXHRcdFx0XHRcdGN5LWErYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3grdGhpcy5fc3BhY2luZ1gtYixcdGN5LWEvMitiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCt0aGlzLl9zcGFjaW5nWC1iLFx0Y3krYS8yLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LFx0XHRcdFx0XHRjeSthLWIpO1xuXHRcdHRoaXMuX2NvbnRleHQubGluZVRvKGN4LXRoaXMuX3NwYWNpbmdYK2IsXHRjeSthLzItYik7XG5cdFx0dGhpcy5fY29udGV4dC5saW5lVG8oY3gtdGhpcy5fc3BhY2luZ1grYixcdGN5LWEvMitiKTtcblx0XHR0aGlzLl9jb250ZXh0LmxpbmVUbyhjeCxcdFx0XHRcdFx0Y3ktYStiKTtcblx0fVxuXHR0aGlzLl9jb250ZXh0LmZpbGwoKTtcbn1cbi8qKlxuICogQGNsYXNzIFRpbGUgYmFja2VuZFxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGlsZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuUmVjdC5jYWxsKHRoaXMsIGNvbnRleHQpO1xuXHRcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xuXHR0aGlzLl9jb2xvckNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG59XG5ST1QuRGlzcGxheS5UaWxlLmV4dGVuZChST1QuRGlzcGxheS5SZWN0KTtcblxuUk9ULkRpc3BsYXkuVGlsZS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cdHRoaXMuX2NvbnRleHQuY2FudmFzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIG9wdGlvbnMudGlsZVdpZHRoO1xuXHR0aGlzLl9jb250ZXh0LmNhbnZhcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCAqIG9wdGlvbnMudGlsZUhlaWdodDtcblx0dGhpcy5fY29sb3JDYW52YXMud2lkdGggPSBvcHRpb25zLnRpbGVXaWR0aDtcblx0dGhpcy5fY29sb3JDYW52YXMuaGVpZ2h0ID0gb3B0aW9ucy50aWxlSGVpZ2h0O1xufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oZGF0YSwgY2xlYXJCZWZvcmUpIHtcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0dmFyIHRpbGVXaWR0aCA9IHRoaXMuX29wdGlvbnMudGlsZVdpZHRoO1xuXHR2YXIgdGlsZUhlaWdodCA9IHRoaXMuX29wdGlvbnMudGlsZUhlaWdodDtcblxuXHRpZiAoY2xlYXJCZWZvcmUpIHtcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50aWxlQ29sb3JpemUpIHtcblx0XHRcdHRoaXMuX2NvbnRleHQuY2xlYXJSZWN0KHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuX2NvbnRleHQuZmlsbFN0eWxlID0gYmc7XG5cdFx0XHR0aGlzLl9jb250ZXh0LmZpbGxSZWN0KHgqdGlsZVdpZHRoLCB5KnRpbGVIZWlnaHQsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCFjaCkgeyByZXR1cm47IH1cblxuXHR2YXIgY2hhcnMgPSBbXS5jb25jYXQoY2gpO1xuXHRmb3IgKHZhciBpPTA7aTxjaGFycy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHRpbGUgPSB0aGlzLl9vcHRpb25zLnRpbGVNYXBbY2hhcnNbaV1dO1xuXHRcdGlmICghdGlsZSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJDaGFyICdcIiArIGNoYXJzW2ldICsgXCInIG5vdCBmb3VuZCBpbiB0aWxlTWFwXCIpOyB9XG5cdFx0XG5cdFx0aWYgKHRoaXMuX29wdGlvbnMudGlsZUNvbG9yaXplKSB7IC8qIGFwcGx5IGNvbG9yaXphdGlvbiAqL1xuXHRcdFx0dmFyIGNhbnZhcyA9IHRoaXMuX2NvbG9yQ2FudmFzO1xuXHRcdFx0dmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdFx0Y29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblxuXHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoXG5cdFx0XHRcdHRoaXMuX29wdGlvbnMudGlsZVNldCxcblx0XHRcdFx0dGlsZVswXSwgdGlsZVsxXSwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0LFxuXHRcdFx0XHQwLCAwLCB0aWxlV2lkdGgsIHRpbGVIZWlnaHRcblx0XHRcdCk7XG5cblx0XHRcdGlmIChmZyAhPSBcInRyYW5zcGFyZW50XCIpIHtcblx0XHRcdFx0Y29udGV4dC5maWxsU3R5bGUgPSBmZztcblx0XHRcdFx0Y29udGV4dC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcInNvdXJjZS1hdG9wXCI7XG5cdFx0XHRcdGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJnICE9IFwidHJhbnNwYXJlbnRcIikge1xuXHRcdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9IGJnO1xuXHRcdFx0XHRjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tb3ZlclwiO1xuXHRcdFx0XHRjb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRpbGVXaWR0aCwgdGlsZUhlaWdodCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKGNhbnZhcywgeCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0KTtcblxuXHRcdH0gZWxzZSB7IC8qIG5vIGNvbG9yaXppbmcsIGVhc3kgKi9cblx0XHRcdHRoaXMuX2NvbnRleHQuZHJhd0ltYWdlKFxuXHRcdFx0XHR0aGlzLl9vcHRpb25zLnRpbGVTZXQsXG5cdFx0XHRcdHRpbGVbMF0sIHRpbGVbMV0sIHRpbGVXaWR0aCwgdGlsZUhlaWdodCxcblx0XHRcdFx0eCp0aWxlV2lkdGgsIHkqdGlsZUhlaWdodCwgdGlsZVdpZHRoLCB0aWxlSGVpZ2h0XG5cdFx0XHQpO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlU2l6ZSA9IGZ1bmN0aW9uKGF2YWlsV2lkdGgsIGF2YWlsSGVpZ2h0KSB7XG5cdHZhciB3aWR0aCA9IE1hdGguZmxvb3IoYXZhaWxXaWR0aCAvIHRoaXMuX29wdGlvbnMudGlsZVdpZHRoKTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLnRpbGVIZWlnaHQpO1xuXHRyZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xufVxuXG5ST1QuRGlzcGxheS5UaWxlLnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHR2YXIgd2lkdGggPSBNYXRoLmZsb29yKGF2YWlsV2lkdGggLyB0aGlzLl9vcHRpb25zLndpZHRoKTtcblx0dmFyIGhlaWdodCA9IE1hdGguZmxvb3IoYXZhaWxIZWlnaHQgLyB0aGlzLl9vcHRpb25zLmhlaWdodCk7XG5cdHJldHVybiBbd2lkdGgsIGhlaWdodF07XG59XG5cblJPVC5EaXNwbGF5LlRpbGUucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFtNYXRoLmZsb29yKHgvdGhpcy5fb3B0aW9ucy50aWxlV2lkdGgpLCBNYXRoLmZsb29yKHkvdGhpcy5fb3B0aW9ucy50aWxlSGVpZ2h0KV07XG59XG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqIFRoaXMgY29kZSBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBBbGVhIGFsZ29yaXRobTsgKEMpIDIwMTAgSm9oYW5uZXMgQmFhZ8O4ZS5cbiAqIEFsZWEgaXMgbGljZW5zZWQgYWNjb3JkaW5nIHRvIHRoZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01JVF9MaWNlbnNlLlxuICovXG5ST1QuUk5HID0ge1xuXHQvKipcblx0ICogQHJldHVybnMge251bWJlcn0gXG5cdCAqL1xuXHRnZXRTZWVkOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5fc2VlZDtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNlZWQgU2VlZCB0aGUgbnVtYmVyIGdlbmVyYXRvclxuXHQgKi9cblx0c2V0U2VlZDogZnVuY3Rpb24oc2VlZCkge1xuXHRcdHNlZWQgPSAoc2VlZCA8IDEgPyAxL3NlZWQgOiBzZWVkKTtcblxuXHRcdHRoaXMuX3NlZWQgPSBzZWVkO1xuXHRcdHRoaXMuX3MwID0gKHNlZWQgPj4+IDApICogdGhpcy5fZnJhYztcblxuXHRcdHNlZWQgPSAoc2VlZCo2OTA2OSArIDEpID4+PiAwO1xuXHRcdHRoaXMuX3MxID0gc2VlZCAqIHRoaXMuX2ZyYWM7XG5cblx0XHRzZWVkID0gKHNlZWQqNjkwNjkgKyAxKSA+Pj4gMDtcblx0XHR0aGlzLl9zMiA9IHNlZWQgKiB0aGlzLl9mcmFjO1xuXG5cdFx0dGhpcy5fYyA9IDE7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHtmbG9hdH0gUHNldWRvcmFuZG9tIHZhbHVlIFswLDEpLCB1bmlmb3JtbHkgZGlzdHJpYnV0ZWRcblx0ICovXG5cdGdldFVuaWZvcm06IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB0ID0gMjA5MTYzOSAqIHRoaXMuX3MwICsgdGhpcy5fYyAqIHRoaXMuX2ZyYWM7XG5cdFx0dGhpcy5fczAgPSB0aGlzLl9zMTtcblx0XHR0aGlzLl9zMSA9IHRoaXMuX3MyO1xuXHRcdHRoaXMuX2MgPSB0IHwgMDtcblx0XHR0aGlzLl9zMiA9IHQgLSB0aGlzLl9jO1xuXHRcdHJldHVybiB0aGlzLl9zMjtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtpbnR9IGxvd2VyQm91bmQgVGhlIGxvd2VyIGVuZCBvZiB0aGUgcmFuZ2UgdG8gcmV0dXJuIGEgdmFsdWUgZnJvbSwgaW5jbHVzaXZlXG5cdCAqIEBwYXJhbSB7aW50fSB1cHBlckJvdW5kIFRoZSB1cHBlciBlbmQgb2YgdGhlIHJhbmdlIHRvIHJldHVybiBhIHZhbHVlIGZyb20sIGluY2x1c2l2ZVxuXHQgKiBAcmV0dXJucyB7aW50fSBQc2V1ZG9yYW5kb20gdmFsdWUgW2xvd2VyQm91bmQsIHVwcGVyQm91bmRdLCB1c2luZyBST1QuUk5HLmdldFVuaWZvcm0oKSB0byBkaXN0cmlidXRlIHRoZSB2YWx1ZVxuXHQgKi9cblx0Z2V0VW5pZm9ybUludDogZnVuY3Rpb24obG93ZXJCb3VuZCwgdXBwZXJCb3VuZCkge1xuXHRcdHZhciBtYXggPSBNYXRoLm1heChsb3dlckJvdW5kLCB1cHBlckJvdW5kKTtcblx0XHR2YXIgbWluID0gTWF0aC5taW4obG93ZXJCb3VuZCwgdXBwZXJCb3VuZCk7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IodGhpcy5nZXRVbmlmb3JtKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbbWVhbj0wXSBNZWFuIHZhbHVlXG5cdCAqIEBwYXJhbSB7ZmxvYXR9IFtzdGRkZXY9MV0gU3RhbmRhcmQgZGV2aWF0aW9uLiB+OTUlIG9mIHRoZSBhYnNvbHV0ZSB2YWx1ZXMgd2lsbCBiZSBsb3dlciB0aGFuIDIqc3RkZGV2LlxuXHQgKiBAcmV0dXJucyB7ZmxvYXR9IEEgbm9ybWFsbHkgZGlzdHJpYnV0ZWQgcHNldWRvcmFuZG9tIHZhbHVlXG5cdCAqL1xuXHRnZXROb3JtYWw6IGZ1bmN0aW9uKG1lYW4sIHN0ZGRldikge1xuXHRcdGRvIHtcblx0XHRcdHZhciB1ID0gMip0aGlzLmdldFVuaWZvcm0oKS0xO1xuXHRcdFx0dmFyIHYgPSAyKnRoaXMuZ2V0VW5pZm9ybSgpLTE7XG5cdFx0XHR2YXIgciA9IHUqdSArIHYqdjtcblx0XHR9IHdoaWxlIChyID4gMSB8fCByID09IDApO1xuXG5cdFx0dmFyIGdhdXNzID0gdSAqIE1hdGguc3FydCgtMipNYXRoLmxvZyhyKS9yKTtcblx0XHRyZXR1cm4gKG1lYW4gfHwgMCkgKyBnYXVzcyooc3RkZGV2IHx8IDEpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7aW50fSBQc2V1ZG9yYW5kb20gdmFsdWUgWzEsMTAwXSBpbmNsdXNpdmUsIHVuaWZvcm1seSBkaXN0cmlidXRlZFxuXHQgKi9cblx0Z2V0UGVyY2VudGFnZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIDEgKyBNYXRoLmZsb29yKHRoaXMuZ2V0VW5pZm9ybSgpKjEwMCk7XG5cdH0sXG5cdFxuXHQvKipcblx0ICogQHBhcmFtIHtvYmplY3R9IGRhdGEga2V5PXdoYXRldmVyLCB2YWx1ZT13ZWlnaHQgKHJlbGF0aXZlIHByb2JhYmlsaXR5KVxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSB3aGF0ZXZlclxuXHQgKi9cblx0Z2V0V2VpZ2h0ZWRWYWx1ZTogZnVuY3Rpb24oZGF0YSkge1xuXHRcdHZhciB0b3RhbCA9IDA7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaWQgaW4gZGF0YSkge1xuXHRcdFx0dG90YWwgKz0gZGF0YVtpZF07XG5cdFx0fVxuXHRcdHZhciByYW5kb20gPSB0aGlzLmdldFVuaWZvcm0oKSp0b3RhbDtcblx0XHRcblx0XHR2YXIgcGFydCA9IDA7XG5cdFx0Zm9yICh2YXIgaWQgaW4gZGF0YSkge1xuXHRcdFx0cGFydCArPSBkYXRhW2lkXTtcblx0XHRcdGlmIChyYW5kb20gPCBwYXJ0KSB7IHJldHVybiBpZDsgfVxuXHRcdH1cblxuXHRcdC8vIElmIGJ5IHNvbWUgZmxvYXRpbmctcG9pbnQgYW5ub3lhbmNlIHdlIGhhdmVcblx0XHQvLyByYW5kb20gPj0gdG90YWwsIGp1c3QgcmV0dXJuIHRoZSBsYXN0IGlkLlxuXHRcdHJldHVybiBpZDtcblx0fSxcblxuXHQvKipcblx0ICogR2V0IFJORyBzdGF0ZS4gVXNlZnVsIGZvciBzdG9yaW5nIHRoZSBzdGF0ZSBhbmQgcmUtc2V0dGluZyBpdCB2aWEgc2V0U3RhdGUuXG5cdCAqIEByZXR1cm5zIHs/fSBJbnRlcm5hbCBzdGF0ZVxuXHQgKi9cblx0Z2V0U3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBbdGhpcy5fczAsIHRoaXMuX3MxLCB0aGlzLl9zMiwgdGhpcy5fY107XG5cdH0sXG5cblx0LyoqXG5cdCAqIFNldCBhIHByZXZpb3VzbHkgcmV0cmlldmVkIHN0YXRlLlxuXHQgKiBAcGFyYW0gez99IHN0YXRlXG5cdCAqL1xuXHRzZXRTdGF0ZTogZnVuY3Rpb24oc3RhdGUpIHtcblx0XHR0aGlzLl9zMCA9IHN0YXRlWzBdO1xuXHRcdHRoaXMuX3MxID0gc3RhdGVbMV07XG5cdFx0dGhpcy5fczIgPSBzdGF0ZVsyXTtcblx0XHR0aGlzLl9jICA9IHN0YXRlWzNdO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgY2xvbmVkIFJOR1xuXHQgKi9cblx0Y2xvbmU6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjbG9uZSA9IE9iamVjdC5jcmVhdGUodGhpcyk7XG5cdFx0Y2xvbmUuc2V0U3RhdGUodGhpcy5nZXRTdGF0ZSgpKTtcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0X3MwOiAwLFxuXHRfczE6IDAsXG5cdF9zMjogMCxcblx0X2M6IDAsXG5cdF9mcmFjOiAyLjMyODMwNjQzNjUzODY5NjNlLTEwIC8qIDJeLTMyICovXG59XG5cblJPVC5STkcuc2V0U2VlZChEYXRlLm5vdygpKTtcbi8qKlxuICogQGNsYXNzIChNYXJrb3YgcHJvY2VzcyktYmFzZWQgc3RyaW5nIGdlbmVyYXRvci4gXG4gKiBDb3BpZWQgZnJvbSBhIDxhIGhyZWY9XCJodHRwOi8vd3d3LnJvZ3VlYmFzaW4ucm9ndWVsaWtlZGV2ZWxvcG1lbnQub3JnL2luZGV4LnBocD90aXRsZT1OYW1lc19mcm9tX2FfaGlnaF9vcmRlcl9NYXJrb3ZfUHJvY2Vzc19hbmRfYV9zaW1wbGlmaWVkX0thdHpfYmFjay1vZmZfc2NoZW1lXCI+Um9ndWVCYXNpbiBhcnRpY2xlPC9hPi4gXG4gKiBPZmZlcnMgY29uZmlndXJhYmxlIG9yZGVyIGFuZCBwcmlvci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7Ym9vbH0gW29wdGlvbnMud29yZHM9ZmFsc2VdIFVzZSB3b3JkIG1vZGU/XG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMub3JkZXI9M11cbiAqIEBwYXJhbSB7ZmxvYXR9IFtvcHRpb25zLnByaW9yPTAuMDAxXVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yID0gZnVuY3Rpb24ob3B0aW9ucykge1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHdvcmRzOiBmYWxzZSxcblx0XHRvcmRlcjogMyxcblx0XHRwcmlvcjogMC4wMDFcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblxuXHR0aGlzLl9ib3VuZGFyeSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMCk7XG5cdHRoaXMuX3N1ZmZpeCA9IHRoaXMuX2JvdW5kYXJ5O1xuXHR0aGlzLl9wcmVmaXggPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fb3B0aW9ucy5vcmRlcjtpKyspIHsgdGhpcy5fcHJlZml4LnB1c2godGhpcy5fYm91bmRhcnkpOyB9XG5cblx0dGhpcy5fcHJpb3JWYWx1ZXMgPSB7fTtcblx0dGhpcy5fcHJpb3JWYWx1ZXNbdGhpcy5fYm91bmRhcnldID0gdGhpcy5fb3B0aW9ucy5wcmlvcjtcblxuXHR0aGlzLl9kYXRhID0ge307XG59XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBsZWFybmluZyBkYXRhXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2RhdGEgPSB7fTtcblx0dGhpcy5fcHJpb3JWYWx1ZXMgPSB7fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBHZW5lcmF0ZWQgc3RyaW5nXG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24oKSB7XG5cdHZhciByZXN1bHQgPSBbdGhpcy5fc2FtcGxlKHRoaXMuX3ByZWZpeCldO1xuXHR3aGlsZSAocmVzdWx0W3Jlc3VsdC5sZW5ndGgtMV0gIT0gdGhpcy5fYm91bmRhcnkpIHtcblx0XHRyZXN1bHQucHVzaCh0aGlzLl9zYW1wbGUocmVzdWx0KSk7XG5cdH1cblx0cmV0dXJuIHRoaXMuX2pvaW4ocmVzdWx0LnNsaWNlKDAsIC0xKSk7XG59XG5cbi8qKlxuICogT2JzZXJ2ZSAobGVhcm4pIGEgc3RyaW5nIGZyb20gYSB0cmFpbmluZyBzZXRcbiAqL1xuUk9ULlN0cmluZ0dlbmVyYXRvci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHR2YXIgdG9rZW5zID0gdGhpcy5fc3BsaXQoc3RyaW5nKTtcblxuXHRmb3IgKHZhciBpPTA7IGk8dG9rZW5zLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5fcHJpb3JWYWx1ZXNbdG9rZW5zW2ldXSA9IHRoaXMuX29wdGlvbnMucHJpb3I7XG5cdH1cblxuXHR0b2tlbnMgPSB0aGlzLl9wcmVmaXguY29uY2F0KHRva2VucykuY29uY2F0KHRoaXMuX3N1ZmZpeCk7IC8qIGFkZCBib3VuZGFyeSBzeW1ib2xzICovXG5cblx0Zm9yICh2YXIgaT10aGlzLl9vcHRpb25zLm9yZGVyOyBpPHRva2Vucy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjb250ZXh0ID0gdG9rZW5zLnNsaWNlKGktdGhpcy5fb3B0aW9ucy5vcmRlciwgaSk7XG5cdFx0dmFyIGV2ZW50ID0gdG9rZW5zW2ldO1xuXHRcdGZvciAodmFyIGo9MDsgajxjb250ZXh0Lmxlbmd0aDsgaisrKSB7XG5cdFx0XHR2YXIgc3ViY29udGV4dCA9IGNvbnRleHQuc2xpY2Uoaik7XG5cdFx0XHR0aGlzLl9vYnNlcnZlRXZlbnQoc3ViY29udGV4dCwgZXZlbnQpO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcGFydHMgPSBbXTtcblxuXHR2YXIgcHJpb3JDb3VudCA9IDA7XG5cdGZvciAodmFyIHAgaW4gdGhpcy5fcHJpb3JWYWx1ZXMpIHsgcHJpb3JDb3VudCsrOyB9XG5cdHByaW9yQ291bnQtLTsgLyogYm91bmRhcnkgKi9cblx0cGFydHMucHVzaChcImRpc3RpbmN0IHNhbXBsZXM6IFwiICsgcHJpb3JDb3VudCk7XG5cblx0dmFyIGRhdGFDb3VudCA9IDA7XG5cdHZhciBldmVudENvdW50ID0gMDtcblx0Zm9yICh2YXIgcCBpbiB0aGlzLl9kYXRhKSB7IFxuXHRcdGRhdGFDb3VudCsrOyBcblx0XHRmb3IgKHZhciBrZXkgaW4gdGhpcy5fZGF0YVtwXSkge1xuXHRcdFx0ZXZlbnRDb3VudCsrO1xuXHRcdH1cblx0fVxuXHRwYXJ0cy5wdXNoKFwiZGljdGlvbmFyeSBzaXplIChjb250ZXh0cyk6IFwiICsgZGF0YUNvdW50KTtcblx0cGFydHMucHVzaChcImRpY3Rpb25hcnkgc2l6ZSAoZXZlbnRzKTogXCIgKyBldmVudENvdW50KTtcblxuXHRyZXR1cm4gcGFydHMuam9pbihcIiwgXCIpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfVxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fc3BsaXQgPSBmdW5jdGlvbihzdHIpIHtcblx0cmV0dXJuIHN0ci5zcGxpdCh0aGlzLl9vcHRpb25zLndvcmRzID8gL1xccysvIDogXCJcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX1cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fam9pbiA9IGZ1bmN0aW9uKGFycikge1xuXHRyZXR1cm4gYXJyLmpvaW4odGhpcy5fb3B0aW9ucy53b3JkcyA/IFwiIFwiIDogXCJcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmdbXX0gY29udGV4dFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50XG4gKi9cblJPVC5TdHJpbmdHZW5lcmF0b3IucHJvdG90eXBlLl9vYnNlcnZlRXZlbnQgPSBmdW5jdGlvbihjb250ZXh0LCBldmVudCkge1xuXHR2YXIga2V5ID0gdGhpcy5fam9pbihjb250ZXh0KTtcblx0aWYgKCEoa2V5IGluIHRoaXMuX2RhdGEpKSB7IHRoaXMuX2RhdGFba2V5XSA9IHt9OyB9XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXG5cdGlmICghKGV2ZW50IGluIGRhdGEpKSB7IGRhdGFbZXZlbnRdID0gMDsgfVxuXHRkYXRhW2V2ZW50XSsrO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nW119XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fc2FtcGxlID0gZnVuY3Rpb24oY29udGV4dCkge1xuXHRjb250ZXh0ID0gdGhpcy5fYmFja29mZihjb250ZXh0KTtcblx0dmFyIGtleSA9IHRoaXMuX2pvaW4oY29udGV4dCk7XG5cdHZhciBkYXRhID0gdGhpcy5fZGF0YVtrZXldO1xuXG5cdHZhciBhdmFpbGFibGUgPSB7fTtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5wcmlvcikge1xuXHRcdGZvciAodmFyIGV2ZW50IGluIHRoaXMuX3ByaW9yVmFsdWVzKSB7IGF2YWlsYWJsZVtldmVudF0gPSB0aGlzLl9wcmlvclZhbHVlc1tldmVudF07IH1cblx0XHRmb3IgKHZhciBldmVudCBpbiBkYXRhKSB7IGF2YWlsYWJsZVtldmVudF0gKz0gZGF0YVtldmVudF07IH1cblx0fSBlbHNlIHsgXG5cdFx0YXZhaWxhYmxlID0gZGF0YTtcblx0fVxuXG5cdHJldHVybiBST1QuUk5HLmdldFdlaWdodGVkVmFsdWUoYXZhaWxhYmxlKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfVxuICogQHJldHVybnMge3N0cmluZ1tdfVxuICovXG5ST1QuU3RyaW5nR2VuZXJhdG9yLnByb3RvdHlwZS5fYmFja29mZiA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0aWYgKGNvbnRleHQubGVuZ3RoID4gdGhpcy5fb3B0aW9ucy5vcmRlcikge1xuXHRcdGNvbnRleHQgPSBjb250ZXh0LnNsaWNlKC10aGlzLl9vcHRpb25zLm9yZGVyKTtcblx0fSBlbHNlIGlmIChjb250ZXh0Lmxlbmd0aCA8IHRoaXMuX29wdGlvbnMub3JkZXIpIHtcblx0XHRjb250ZXh0ID0gdGhpcy5fcHJlZml4LnNsaWNlKDAsIHRoaXMuX29wdGlvbnMub3JkZXIgLSBjb250ZXh0Lmxlbmd0aCkuY29uY2F0KGNvbnRleHQpO1xuXHR9XG5cblx0d2hpbGUgKCEodGhpcy5fam9pbihjb250ZXh0KSBpbiB0aGlzLl9kYXRhKSAmJiBjb250ZXh0Lmxlbmd0aCA+IDApIHsgY29udGV4dCA9IGNvbnRleHQuc2xpY2UoMSk7IH1cblxuXHRyZXR1cm4gY29udGV4dDtcbn1cbi8qKlxuICogQGNsYXNzIEdlbmVyaWMgZXZlbnQgcXVldWU6IHN0b3JlcyBldmVudHMgYW5kIHJldHJpZXZlcyB0aGVtIGJhc2VkIG9uIHRoZWlyIHRpbWVcbiAqL1xuUk9ULkV2ZW50UXVldWUgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fdGltZSA9IDA7XG5cdHRoaXMuX2V2ZW50cyA9IFtdO1xuXHR0aGlzLl9ldmVudFRpbWVzID0gW107XG59XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn0gRWxhcHNlZCB0aW1lXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl90aW1lO1xufVxuXG4vKipcbiAqIENsZWFyIGFsbCBzY2hlZHVsZWQgZXZlbnRzXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9ldmVudHMgPSBbXTtcblx0dGhpcy5fZXZlbnRUaW1lcyA9IFtdO1xuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcGFyYW0ge251bWJlcn0gdGltZVxuICovXG5ST1QuRXZlbnRRdWV1ZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZXZlbnQsIHRpbWUpIHtcblx0dmFyIGluZGV4ID0gdGhpcy5fZXZlbnRzLmxlbmd0aDtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZXZlbnRUaW1lcy5sZW5ndGg7aSsrKSB7XG5cdFx0aWYgKHRoaXMuX2V2ZW50VGltZXNbaV0gPiB0aW1lKSB7XG5cdFx0XHRpbmRleCA9IGk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHR0aGlzLl9ldmVudHMuc3BsaWNlKGluZGV4LCAwLCBldmVudCk7XG5cdHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKGluZGV4LCAwLCB0aW1lKTtcbn1cblxuLyoqXG4gKiBMb2NhdGVzIHRoZSBuZWFyZXN0IGV2ZW50LCBhZHZhbmNlcyB0aW1lIGlmIG5lY2Vzc2FyeS4gUmV0dXJucyB0aGF0IGV2ZW50IGFuZCByZW1vdmVzIGl0IGZyb20gdGhlIHF1ZXVlLlxuICogQHJldHVybnMgez8gfHwgbnVsbH0gVGhlIGV2ZW50IHByZXZpb3VzbHkgYWRkZWQgYnkgYWRkRXZlbnQsIG51bGwgaWYgbm8gZXZlbnQgYXZhaWxhYmxlXG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbigpIHtcblx0aWYgKCF0aGlzLl9ldmVudHMubGVuZ3RoKSB7IHJldHVybiBudWxsOyB9XG5cblx0dmFyIHRpbWUgPSB0aGlzLl9ldmVudFRpbWVzLnNwbGljZSgwLCAxKVswXTtcblx0aWYgKHRpbWUgPiAwKSB7IC8qIGFkdmFuY2UgKi9cblx0XHR0aGlzLl90aW1lICs9IHRpbWU7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZXZlbnRUaW1lcy5sZW5ndGg7aSsrKSB7IHRoaXMuX2V2ZW50VGltZXNbaV0gLT0gdGltZTsgfVxuXHR9XG5cblx0cmV0dXJuIHRoaXMuX2V2ZW50cy5zcGxpY2UoMCwgMSlbMF07XG59XG5cbi8qKlxuICogUmVtb3ZlIGFuIGV2ZW50IGZyb20gdGhlIHF1ZXVlXG4gKiBAcGFyYW0gez99IGV2ZW50XG4gKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2Vzcz9cbiAqL1xuUk9ULkV2ZW50UXVldWUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdHZhciBpbmRleCA9IHRoaXMuX2V2ZW50cy5pbmRleE9mKGV2ZW50KTtcblx0aWYgKGluZGV4ID09IC0xKSB7IHJldHVybiBmYWxzZSB9XG5cdHRoaXMuX3JlbW92ZShpbmRleCk7XG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbiBldmVudCBmcm9tIHRoZSBxdWV1ZVxuICogQHBhcmFtIHtpbnR9IGluZGV4XG4gKi9cblJPVC5FdmVudFF1ZXVlLnByb3RvdHlwZS5fcmVtb3ZlID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0dGhpcy5fZXZlbnRzLnNwbGljZShpbmRleCwgMSk7XG5cdHRoaXMuX2V2ZW50VGltZXMuc3BsaWNlKGluZGV4LCAxKTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IHNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3F1ZXVlID0gbmV3IFJPVC5FdmVudFF1ZXVlKCk7XG5cdHRoaXMuX3JlcGVhdCA9IFtdO1xuXHR0aGlzLl9jdXJyZW50ID0gbnVsbDtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5FdmVudFF1ZXVlI2dldFRpbWVcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuZ2V0VGltZSA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5fcXVldWUuZ2V0VGltZSgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7P30gaXRlbVxuICogQHBhcmFtIHtib29sfSByZXBlYXRcbiAqL1xuUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdGlmIChyZXBlYXQpIHsgdGhpcy5fcmVwZWF0LnB1c2goaXRlbSk7IH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2xlYXIgYWxsIGl0ZW1zXG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX3F1ZXVlLmNsZWFyKCk7XG5cdHRoaXMuX3JlcGVhdCA9IFtdO1xuXHR0aGlzLl9jdXJyZW50ID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgcHJldmlvdXNseSBhZGRlZCBpdGVtXG4gKiBAcGFyYW0gez99IGl0ZW1cbiAqIEByZXR1cm5zIHtib29sfSBzdWNjZXNzZnVsP1xuICovXG5ST1QuU2NoZWR1bGVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihpdGVtKSB7XG5cdHZhciByZXN1bHQgPSB0aGlzLl9xdWV1ZS5yZW1vdmUoaXRlbSk7XG5cblx0dmFyIGluZGV4ID0gdGhpcy5fcmVwZWF0LmluZGV4T2YoaXRlbSk7XG5cdGlmIChpbmRleCAhPSAtMSkgeyB0aGlzLl9yZXBlYXQuc3BsaWNlKGluZGV4LCAxKTsgfVxuXG5cdGlmICh0aGlzLl9jdXJyZW50ID09IGl0ZW0pIHsgdGhpcy5fY3VycmVudCA9IG51bGw7IH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFNjaGVkdWxlIG5leHQgaXRlbVxuICogQHJldHVybnMgez99XG4gKi9cblJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5fY3VycmVudCA9IHRoaXMuX3F1ZXVlLmdldCgpO1xuXHRyZXR1cm4gdGhpcy5fY3VycmVudDtcbn1cbi8qKlxuICogQGNsYXNzIFNpbXBsZSBmYWlyIHNjaGVkdWxlciAocm91bmQtcm9iaW4gc3R5bGUpXG4gKiBAYXVnbWVudHMgUk9ULlNjaGVkdWxlclxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZSA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG59XG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5leHRlbmQoUk9ULlNjaGVkdWxlcik7XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI2FkZFxuICovXG5ST1QuU2NoZWR1bGVyLlNpbXBsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oaXRlbSwgcmVwZWF0KSB7XG5cdHRoaXMuX3F1ZXVlLmFkZChpdGVtLCAwKTtcblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIGl0ZW0sIHJlcGVhdCk7XG59XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAqL1xuUk9ULlNjaGVkdWxlci5TaW1wbGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgMCk7XG5cdH1cblx0cmV0dXJuIFJPVC5TY2hlZHVsZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzKTtcbn1cbi8qKlxuICogQGNsYXNzIFNwZWVkLWJhc2VkIHNjaGVkdWxlclxuICogQGF1Z21lbnRzIFJPVC5TY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlci5TcGVlZCA9IGZ1bmN0aW9uKCkge1xuXHRST1QuU2NoZWR1bGVyLmNhbGwodGhpcyk7XG59XG5ST1QuU2NoZWR1bGVyLlNwZWVkLmV4dGVuZChST1QuU2NoZWR1bGVyKTtcblxuLyoqXG4gKiBAcGFyYW0ge29iamVjdH0gaXRlbSBhbnl0aGluZyB3aXRoIFwiZ2V0U3BlZWRcIiBtZXRob2RcbiAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjYWRkXG4gKi9cblJPVC5TY2hlZHVsZXIuU3BlZWQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCkge1xuXHR0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgMS9pdGVtLmdldFNwZWVkKCkpO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuLyoqXG4gKiBAc2VlIFJPVC5TY2hlZHVsZXIjbmV4dFxuICovXG5ST1QuU2NoZWR1bGVyLlNwZWVkLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICh0aGlzLl9jdXJyZW50ICYmIHRoaXMuX3JlcGVhdC5pbmRleE9mKHRoaXMuX2N1cnJlbnQpICE9IC0xKSB7XG5cdFx0dGhpcy5fcXVldWUuYWRkKHRoaXMuX2N1cnJlbnQsIDEvdGhpcy5fY3VycmVudC5nZXRTcGVlZCgpKTtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuLyoqXG4gKiBAY2xhc3MgQWN0aW9uLWJhc2VkIHNjaGVkdWxlclxuICogQGF1Z21lbnRzIFJPVC5TY2hlZHVsZXJcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24gPSBmdW5jdGlvbigpIHtcblx0Uk9ULlNjaGVkdWxlci5jYWxsKHRoaXMpO1xuXHR0aGlzLl9kZWZhdWx0RHVyYXRpb24gPSAxOyAvKiBmb3IgbmV3bHkgYWRkZWQgKi9cblx0dGhpcy5fZHVyYXRpb24gPSB0aGlzLl9kZWZhdWx0RHVyYXRpb247IC8qIGZvciB0aGlzLl9jdXJyZW50ICovXG59XG5ST1QuU2NoZWR1bGVyLkFjdGlvbi5leHRlbmQoUk9ULlNjaGVkdWxlcik7XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IGl0ZW1cbiAqIEBwYXJhbSB7Ym9vbH0gcmVwZWF0XG4gKiBAcGFyYW0ge251bWJlcn0gW3RpbWU9MV1cbiAqIEBzZWUgUk9ULlNjaGVkdWxlciNhZGRcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGl0ZW0sIHJlcGVhdCwgdGltZSkge1xuXHR0aGlzLl9xdWV1ZS5hZGQoaXRlbSwgdGltZSB8fCB0aGlzLl9kZWZhdWx0RHVyYXRpb24pO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgaXRlbSwgcmVwZWF0KTtcbn1cblxuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2R1cmF0aW9uID0gdGhpcy5fZGVmYXVsdER1cmF0aW9uO1xuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUuY2xlYXIuY2FsbCh0aGlzKTtcbn1cblxuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGl0ZW0pIHtcblx0aWYgKGl0ZW0gPT0gdGhpcy5fY3VycmVudCkgeyB0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjsgfVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcywgaXRlbSk7XG59XG5cbi8qKlxuICogQHNlZSBST1QuU2NoZWR1bGVyI25leHRcbiAqL1xuUk9ULlNjaGVkdWxlci5BY3Rpb24ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQgJiYgdGhpcy5fcmVwZWF0LmluZGV4T2YodGhpcy5fY3VycmVudCkgIT0gLTEpIHtcblx0XHR0aGlzLl9xdWV1ZS5hZGQodGhpcy5fY3VycmVudCwgdGhpcy5fZHVyYXRpb24gfHwgdGhpcy5fZGVmYXVsdER1cmF0aW9uKTtcblx0XHR0aGlzLl9kdXJhdGlvbiA9IHRoaXMuX2RlZmF1bHREdXJhdGlvbjtcblx0fVxuXHRyZXR1cm4gUk9ULlNjaGVkdWxlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMpO1xufVxuXG4vKipcbiAqIFNldCBkdXJhdGlvbiBmb3IgdGhlIGFjdGl2ZSBpdGVtXG4gKi9cblJPVC5TY2hlZHVsZXIuQWN0aW9uLnByb3RvdHlwZS5zZXREdXJhdGlvbiA9IGZ1bmN0aW9uKHRpbWUpIHtcblx0aWYgKHRoaXMuX2N1cnJlbnQpIHsgdGhpcy5fZHVyYXRpb24gPSB0aW1lOyB9XG5cdHJldHVybiB0aGlzO1xufVxuLyoqXG4gKiBAY2xhc3MgQXN5bmNocm9ub3VzIG1haW4gbG9vcFxuICogQHBhcmFtIHtST1QuU2NoZWR1bGVyfSBzY2hlZHVsZXJcbiAqL1xuUk9ULkVuZ2luZSA9IGZ1bmN0aW9uKHNjaGVkdWxlcikge1xuXHR0aGlzLl9zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG5cdHRoaXMuX2xvY2sgPSAxO1xufVxuXG4vKipcbiAqIFN0YXJ0IHRoZSBtYWluIGxvb3AuIFdoZW4gdGhpcyBjYWxsIHJldHVybnMsIHRoZSBsb29wIGlzIGxvY2tlZC5cbiAqL1xuUk9ULkVuZ2luZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMudW5sb2NrKCk7XG59XG5cbi8qKlxuICogSW50ZXJydXB0IHRoZSBlbmdpbmUgYnkgYW4gYXN5bmNocm9ub3VzIGFjdGlvblxuICovXG5ST1QuRW5naW5lLnByb3RvdHlwZS5sb2NrID0gZnVuY3Rpb24oKSB7XG5cdHRoaXMuX2xvY2srKztcblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUmVzdW1lIGV4ZWN1dGlvbiAocGF1c2VkIGJ5IGEgcHJldmlvdXMgbG9jaylcbiAqL1xuUk9ULkVuZ2luZS5wcm90b3R5cGUudW5sb2NrID0gZnVuY3Rpb24oKSB7XG5cdGlmICghdGhpcy5fbG9jaykgeyB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdW5sb2NrIHVubG9ja2VkIGVuZ2luZVwiKTsgfVxuXHR0aGlzLl9sb2NrLS07XG5cblx0d2hpbGUgKCF0aGlzLl9sb2NrKSB7XG5cdFx0dmFyIGFjdG9yID0gdGhpcy5fc2NoZWR1bGVyLm5leHQoKTtcblx0XHRpZiAoIWFjdG9yKSB7IHJldHVybiB0aGlzLmxvY2soKTsgfSAvKiBubyBhY3RvcnMgKi9cblx0XHR2YXIgcmVzdWx0ID0gYWN0b3IuYWN0KCk7XG5cdFx0aWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbikgeyAvKiBhY3RvciByZXR1cm5lZCBhIFwidGhlbmFibGVcIiwgbG9va3MgbGlrZSBhIFByb21pc2UgKi9cblx0XHRcdHRoaXMubG9jaygpO1xuXHRcdFx0cmVzdWx0LnRoZW4odGhpcy51bmxvY2suYmluZCh0aGlzKSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG4vKipcbiAqIEBjbGFzcyBCYXNlIG1hcCBnZW5lcmF0b3JcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKi9cblJPVC5NYXAgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG5cdHRoaXMuX3dpZHRoID0gd2lkdGggfHwgUk9ULkRFRkFVTFRfV0lEVEg7XG5cdHRoaXMuX2hlaWdodCA9IGhlaWdodCB8fCBST1QuREVGQVVMVF9IRUlHSFQ7XG59O1xuXG5ST1QuTWFwLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge31cblxuUk9ULk1hcC5wcm90b3R5cGUuX2ZpbGxNYXAgPSBmdW5jdGlvbih2YWx1ZSkge1xuXHR2YXIgbWFwID0gW107XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdG1hcC5wdXNoKFtdKTtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7IG1hcFtpXS5wdXNoKHZhbHVlKTsgfVxuXHR9XG5cdHJldHVybiBtYXA7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGUgZW1wdHkgcmVjdGFuZ3VsYXIgcm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5BcmVuYSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xufVxuUk9ULk1hcC5BcmVuYS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuQXJlbmEucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGgtMTtcblx0dmFyIGggPSB0aGlzLl9oZWlnaHQtMTtcblx0Zm9yICh2YXIgaT0wO2k8PXc7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8PWg7aisrKSB7XG5cdFx0XHR2YXIgZW1wdHkgPSAoaSAmJiBqICYmIGk8dyAmJiBqPGgpO1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgZW1wdHkgPyAwIDogMSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuLyoqXG4gKiBAY2xhc3MgUmVjdXJzaXZlbHkgZGl2aWRlZCBtYXplLCBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hemVfZ2VuZXJhdGlvbl9hbGdvcml0aG0jUmVjdXJzaXZlX2RpdmlzaW9uX21ldGhvZFxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqL1xuUk9ULk1hcC5EaXZpZGVkTWF6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9zdGFjayA9IFtdO1xufVxuUk9ULk1hcC5EaXZpZGVkTWF6ZS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB3ID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0O1xuXHRcblx0dGhpcy5fbWFwID0gW107XG5cdFxuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdHRoaXMuX21hcC5wdXNoKFtdKTtcblx0XHRmb3IgKHZhciBqPTA7ajxoO2orKykge1xuXHRcdFx0dmFyIGJvcmRlciA9IChpID09IDAgfHwgaiA9PSAwIHx8IGkrMSA9PSB3IHx8IGorMSA9PSBoKTtcblx0XHRcdHRoaXMuX21hcFtpXS5wdXNoKGJvcmRlciA/IDEgOiAwKTtcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX3N0YWNrID0gW1xuXHRcdFsxLCAxLCB3LTIsIGgtMl1cblx0XTtcblx0dGhpcy5fcHJvY2VzcygpO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dztpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajxoO2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5fbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0dGhpcy5fbWFwID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRGl2aWRlZE1hemUucHJvdG90eXBlLl9wcm9jZXNzID0gZnVuY3Rpb24oKSB7XG5cdHdoaWxlICh0aGlzLl9zdGFjay5sZW5ndGgpIHtcblx0XHR2YXIgcm9vbSA9IHRoaXMuX3N0YWNrLnNoaWZ0KCk7IC8qIFtsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b21dICovXG5cdFx0dGhpcy5fcGFydGl0aW9uUm9vbShyb29tKTtcblx0fVxufVxuXG5ST1QuTWFwLkRpdmlkZWRNYXplLnByb3RvdHlwZS5fcGFydGl0aW9uUm9vbSA9IGZ1bmN0aW9uKHJvb20pIHtcblx0dmFyIGF2YWlsWCA9IFtdO1xuXHR2YXIgYXZhaWxZID0gW107XG5cdFxuXHRmb3IgKHZhciBpPXJvb21bMF0rMTtpPHJvb21bMl07aSsrKSB7XG5cdFx0dmFyIHRvcCA9IHRoaXMuX21hcFtpXVtyb29tWzFdLTFdO1xuXHRcdHZhciBib3R0b20gPSB0aGlzLl9tYXBbaV1bcm9vbVszXSsxXTtcblx0XHRpZiAodG9wICYmIGJvdHRvbSAmJiAhKGkgJSAyKSkgeyBhdmFpbFgucHVzaChpKTsgfVxuXHR9XG5cdFxuXHRmb3IgKHZhciBqPXJvb21bMV0rMTtqPHJvb21bM107aisrKSB7XG5cdFx0dmFyIGxlZnQgPSB0aGlzLl9tYXBbcm9vbVswXS0xXVtqXTtcblx0XHR2YXIgcmlnaHQgPSB0aGlzLl9tYXBbcm9vbVsyXSsxXVtqXTtcblx0XHRpZiAobGVmdCAmJiByaWdodCAmJiAhKGogJSAyKSkgeyBhdmFpbFkucHVzaChqKTsgfVxuXHR9XG5cblx0aWYgKCFhdmFpbFgubGVuZ3RoIHx8ICFhdmFpbFkubGVuZ3RoKSB7IHJldHVybjsgfVxuXG5cdHZhciB4ID0gYXZhaWxYLnJhbmRvbSgpO1xuXHR2YXIgeSA9IGF2YWlsWS5yYW5kb20oKTtcblx0XG5cdHRoaXMuX21hcFt4XVt5XSA9IDE7XG5cdFxuXHR2YXIgd2FsbHMgPSBbXTtcblx0XG5cdHZhciB3ID0gW107IHdhbGxzLnB1c2godyk7IC8qIGxlZnQgcGFydCAqL1xuXHRmb3IgKHZhciBpPXJvb21bMF07IGk8eDsgaSsrKSB7IFxuXHRcdHRoaXMuX21hcFtpXVt5XSA9IDE7XG5cdFx0dy5wdXNoKFtpLCB5XSk7IFxuXHR9XG5cdFxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiByaWdodCBwYXJ0ICovXG5cdGZvciAodmFyIGk9eCsxOyBpPD1yb29tWzJdOyBpKyspIHsgXG5cdFx0dGhpcy5fbWFwW2ldW3ldID0gMTtcblx0XHR3LnB1c2goW2ksIHldKTsgXG5cdH1cblxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiB0b3AgcGFydCAqL1xuXHRmb3IgKHZhciBqPXJvb21bMV07IGo8eTsgaisrKSB7IFxuXHRcdHRoaXMuX21hcFt4XVtqXSA9IDE7XG5cdFx0dy5wdXNoKFt4LCBqXSk7IFxuXHR9XG5cdFxuXHR2YXIgdyA9IFtdOyB3YWxscy5wdXNoKHcpOyAvKiBib3R0b20gcGFydCAqL1xuXHRmb3IgKHZhciBqPXkrMTsgajw9cm9vbVszXTsgaisrKSB7IFxuXHRcdHRoaXMuX21hcFt4XVtqXSA9IDE7XG5cdFx0dy5wdXNoKFt4LCBqXSk7IFxuXHR9XG5cdFx0XG5cdHZhciBzb2xpZCA9IHdhbGxzLnJhbmRvbSgpO1xuXHRmb3IgKHZhciBpPTA7aTx3YWxscy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHcgPSB3YWxsc1tpXTtcblx0XHRpZiAodyA9PSBzb2xpZCkgeyBjb250aW51ZTsgfVxuXHRcdFxuXHRcdHZhciBob2xlID0gdy5yYW5kb20oKTtcblx0XHR0aGlzLl9tYXBbaG9sZVswXV1baG9sZVsxXV0gPSAwO1xuXHR9XG5cblx0dGhpcy5fc3RhY2sucHVzaChbcm9vbVswXSwgcm9vbVsxXSwgeC0xLCB5LTFdKTsgLyogbGVmdCB0b3AgKi9cblx0dGhpcy5fc3RhY2sucHVzaChbeCsxLCByb29tWzFdLCByb29tWzJdLCB5LTFdKTsgLyogcmlnaHQgdG9wICovXG5cdHRoaXMuX3N0YWNrLnB1c2goW3Jvb21bMF0sIHkrMSwgeC0xLCByb29tWzNdXSk7IC8qIGxlZnQgYm90dG9tICovXG5cdHRoaXMuX3N0YWNrLnB1c2goW3grMSwgeSsxLCByb29tWzJdLCByb29tWzNdXSk7IC8qIHJpZ2h0IGJvdHRvbSAqL1xufVxuLyoqXG4gKiBAY2xhc3MgSWNleSdzIE1hemUgZ2VuZXJhdG9yXG4gKiBTZWUgaHR0cDovL3d3dy5yb2d1ZWJhc2luLnJvZ3VlbGlrZWRldmVsb3BtZW50Lm9yZy9pbmRleC5waHA/dGl0bGU9U2ltcGxlX21hemUgZm9yIGV4cGxhbmF0aW9uXG4gKiBAYXVnbWVudHMgUk9ULk1hcFxuICovXG5ST1QuTWFwLkljZXlNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgcmVndWxhcml0eSkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdHRoaXMuX3JlZ3VsYXJpdHkgPSByZWd1bGFyaXR5IHx8IDA7XG59XG5ST1QuTWFwLkljZXlNYXplLmV4dGVuZChST1QuTWFwKTtcblxuUk9ULk1hcC5JY2V5TWF6ZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcblx0dmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG5cdHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG5cdFxuXHR2YXIgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XG5cdHdpZHRoIC09ICh3aWR0aCAlIDIgPyAxIDogMik7XG5cdGhlaWdodCAtPSAoaGVpZ2h0ICUgMiA/IDEgOiAyKTtcblxuXHR2YXIgY3ggPSAwO1xuXHR2YXIgY3kgPSAwO1xuXHR2YXIgbnggPSAwO1xuXHR2YXIgbnkgPSAwO1xuXG5cdHZhciBkb25lID0gMDtcblx0dmFyIGJsb2NrZWQgPSBmYWxzZTtcblx0dmFyIGRpcnMgPSBbXG5cdFx0WzAsIDBdLFxuXHRcdFswLCAwXSxcblx0XHRbMCwgMF0sXG5cdFx0WzAsIDBdXG5cdF07XG5cdGRvIHtcblx0XHRjeCA9IDEgKyAyKk1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqKHdpZHRoLTEpIC8gMik7XG5cdFx0Y3kgPSAxICsgMipNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKihoZWlnaHQtMSkgLyAyKTtcblxuXHRcdGlmICghZG9uZSkgeyBtYXBbY3hdW2N5XSA9IDA7IH1cblx0XHRcblx0XHRpZiAoIW1hcFtjeF1bY3ldKSB7XG5cdFx0XHR0aGlzLl9yYW5kb21pemUoZGlycyk7XG5cdFx0XHRkbyB7XG5cdFx0XHRcdGlmIChNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKih0aGlzLl9yZWd1bGFyaXR5KzEpKSA9PSAwKSB7IHRoaXMuX3JhbmRvbWl6ZShkaXJzKTsgfVxuXHRcdFx0XHRibG9ja2VkID0gdHJ1ZTtcblx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8NDtpKyspIHtcblx0XHRcdFx0XHRueCA9IGN4ICsgZGlyc1tpXVswXSoyO1xuXHRcdFx0XHRcdG55ID0gY3kgKyBkaXJzW2ldWzFdKjI7XG5cdFx0XHRcdFx0aWYgKHRoaXMuX2lzRnJlZShtYXAsIG54LCBueSwgd2lkdGgsIGhlaWdodCkpIHtcblx0XHRcdFx0XHRcdG1hcFtueF1bbnldID0gMDtcblx0XHRcdFx0XHRcdG1hcFtjeCArIGRpcnNbaV1bMF1dW2N5ICsgZGlyc1tpXVsxXV0gPSAwO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRjeCA9IG54O1xuXHRcdFx0XHRcdFx0Y3kgPSBueTtcblx0XHRcdFx0XHRcdGJsb2NrZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGRvbmUrKztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSB3aGlsZSAoIWJsb2NrZWQpO1xuXHRcdH1cblx0fSB3aGlsZSAoZG9uZSsxIDwgd2lkdGgqaGVpZ2h0LzQpO1xuXHRcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0Y2FsbGJhY2soaSwgaiwgbWFwW2ldW2pdKTtcblx0XHR9XG5cdH1cblx0dGhpcy5fbWFwID0gbnVsbDtcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuSWNleU1hemUucHJvdG90eXBlLl9yYW5kb21pemUgPSBmdW5jdGlvbihkaXJzKSB7XG5cdGZvciAodmFyIGk9MDtpPDQ7aSsrKSB7XG5cdFx0ZGlyc1tpXVswXSA9IDA7XG5cdFx0ZGlyc1tpXVsxXSA9IDA7XG5cdH1cblx0XG5cdHN3aXRjaCAoTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSo0KSkge1xuXHRcdGNhc2UgMDpcblx0XHRcdGRpcnNbMF1bMF0gPSAtMTsgZGlyc1sxXVswXSA9IDE7XG5cdFx0XHRkaXJzWzJdWzFdID0gLTE7IGRpcnNbM11bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdGRpcnNbM11bMF0gPSAtMTsgZGlyc1syXVswXSA9IDE7XG5cdFx0XHRkaXJzWzFdWzFdID0gLTE7IGRpcnNbMF1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGRpcnNbMl1bMF0gPSAtMTsgZGlyc1szXVswXSA9IDE7XG5cdFx0XHRkaXJzWzBdWzFdID0gLTE7IGRpcnNbMV1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMzpcblx0XHRcdGRpcnNbMV1bMF0gPSAtMTsgZGlyc1swXVswXSA9IDE7XG5cdFx0XHRkaXJzWzNdWzFdID0gLTE7IGRpcnNbMl1bMV0gPSAxO1xuXHRcdGJyZWFrO1xuXHR9XG59XG5cblJPVC5NYXAuSWNleU1hemUucHJvdG90eXBlLl9pc0ZyZWUgPSBmdW5jdGlvbihtYXAsIHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHggPj0gd2lkdGggfHwgeSA+PSBoZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiBtYXBbeF1beV07XG59XG4vKipcbiAqIEBjbGFzcyBNYXplIGdlbmVyYXRvciAtIEVsbGVyJ3MgYWxnb3JpdGhtXG4gKiBTZWUgaHR0cDovL2hvbWVwYWdlcy5jd2kubmwvfnRyb21wL21hemUuaHRtbCBmb3IgZXhwbGFuYXRpb25cbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuRWxsZXJNYXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG59XG5ST1QuTWFwLkVsbGVyTWF6ZS5leHRlbmQoUk9ULk1hcCk7XG5cblJPVC5NYXAuRWxsZXJNYXplLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0dmFyIHcgPSBNYXRoLmNlaWwoKHRoaXMuX3dpZHRoLTIpLzIpO1xuXHRcblx0dmFyIHJhbmQgPSA5LzI0O1xuXHRcblx0dmFyIEwgPSBbXTtcblx0dmFyIFIgPSBbXTtcblx0XG5cdGZvciAodmFyIGk9MDtpPHc7aSsrKSB7XG5cdFx0TC5wdXNoKGkpO1xuXHRcdFIucHVzaChpKTtcblx0fVxuXHRMLnB1c2gody0xKTsgLyogZmFrZSBzdG9wLWJsb2NrIGF0IHRoZSByaWdodCBzaWRlICovXG5cblx0Zm9yICh2YXIgaj0xO2orMzx0aGlzLl9oZWlnaHQ7ais9Mikge1xuXHRcdC8qIG9uZSByb3cgKi9cblx0XHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdFx0LyogY2VsbCBjb29yZHMgKHdpbGwgYmUgYWx3YXlzIGVtcHR5KSAqL1xuXHRcdFx0dmFyIHggPSAyKmkrMTtcblx0XHRcdHZhciB5ID0gajtcblx0XHRcdG1hcFt4XVt5XSA9IDA7XG5cdFx0XHRcblx0XHRcdC8qIHJpZ2h0IGNvbm5lY3Rpb24gKi9cblx0XHRcdGlmIChpICE9IExbaSsxXSAmJiBST1QuUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpIHtcblx0XHRcdFx0dGhpcy5fYWRkVG9MaXN0KGksIEwsIFIpO1xuXHRcdFx0XHRtYXBbeCsxXVt5XSA9IDA7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8qIGJvdHRvbSBjb25uZWN0aW9uICovXG5cdFx0XHRpZiAoaSAhPSBMW2ldICYmIFJPVC5STkcuZ2V0VW5pZm9ybSgpID4gcmFuZCkge1xuXHRcdFx0XHQvKiByZW1vdmUgY29ubmVjdGlvbiAqL1xuXHRcdFx0XHR0aGlzLl9yZW1vdmVGcm9tTGlzdChpLCBMLCBSKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8qIGNyZWF0ZSBjb25uZWN0aW9uICovXG5cdFx0XHRcdG1hcFt4XVt5KzFdID0gMDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKiBsYXN0IHJvdyAqL1xuXHRmb3IgKHZhciBpPTA7aTx3O2krKykge1xuXHRcdC8qIGNlbGwgY29vcmRzICh3aWxsIGJlIGFsd2F5cyBlbXB0eSkgKi9cblx0XHR2YXIgeCA9IDIqaSsxO1xuXHRcdHZhciB5ID0gajtcblx0XHRtYXBbeF1beV0gPSAwO1xuXHRcdFxuXHRcdC8qIHJpZ2h0IGNvbm5lY3Rpb24gKi9cblx0XHRpZiAoaSAhPSBMW2krMV0gJiYgKGkgPT0gTFtpXSB8fCBST1QuUk5HLmdldFVuaWZvcm0oKSA+IHJhbmQpKSB7XG5cdFx0XHQvKiBkaWcgcmlnaHQgYWxzbyBpZiB0aGUgY2VsbCBpcyBzZXBhcmF0ZWQsIHNvIGl0IGdldHMgY29ubmVjdGVkIHRvIHRoZSByZXN0IG9mIG1hemUgKi9cblx0XHRcdHRoaXMuX2FkZFRvTGlzdChpLCBMLCBSKTtcblx0XHRcdG1hcFt4KzFdW3ldID0gMDtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5fcmVtb3ZlRnJvbUxpc3QoaSwgTCwgUik7XG5cdH1cblx0XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdGZvciAodmFyIGo9MDtqPHRoaXMuX2hlaWdodDtqKyspIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIG1hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgXCJpXCIgZnJvbSBpdHMgbGlzdFxuICovXG5ST1QuTWFwLkVsbGVyTWF6ZS5wcm90b3R5cGUuX3JlbW92ZUZyb21MaXN0ID0gZnVuY3Rpb24oaSwgTCwgUikge1xuXHRSW0xbaV1dID0gUltpXTtcblx0TFtSW2ldXSA9IExbaV07XG5cdFJbaV0gPSBpO1xuXHRMW2ldID0gaTtcbn1cblxuLyoqXG4gKiBKb2luIGxpc3RzIHdpdGggXCJpXCIgYW5kIFwiaSsxXCJcbiAqL1xuUk9ULk1hcC5FbGxlck1hemUucHJvdG90eXBlLl9hZGRUb0xpc3QgPSBmdW5jdGlvbihpLCBMLCBSKSB7XG5cdFJbTFtpKzFdXSA9IFJbaV07XG5cdExbUltpXV0gPSBMW2krMV07XG5cdFJbaV0gPSBpKzE7XG5cdExbaSsxXSA9IGk7XG59XG4vKipcbiAqIEBjbGFzcyBDZWxsdWxhciBhdXRvbWF0b24gbWFwIGdlbmVyYXRvclxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmJvcm5dIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhIG5ldyBjZWxsIHRvIGJlIGJvcm4gaW4gZW1wdHkgc3BhY2VcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLnN1cnZpdmVdIExpc3Qgb2YgbmVpZ2hib3IgY291bnRzIGZvciBhbiBleGlzdGluZyAgY2VsbCB0byBzdXJ2aXZlXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMudG9wb2xvZ3ldIFRvcG9sb2d5IDQgb3IgNiBvciA4XG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIgPSBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG5cdFJPVC5NYXAuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblx0dGhpcy5fb3B0aW9ucyA9IHtcblx0XHRib3JuOiBbNSwgNiwgNywgOF0sXG5cdFx0c3Vydml2ZTogWzQsIDUsIDYsIDcsIDhdLFxuXHRcdHRvcG9sb2d5OiA4LFxuXHRcdGNvbm5lY3RlZDogZmFsc2Vcblx0fTtcblx0dGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuXHRcblx0dGhpcy5fZGlycyA9IFJPVC5ESVJTW3RoaXMuX29wdGlvbnMudG9wb2xvZ3ldO1xuXHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDApO1xufVxuUk9ULk1hcC5DZWxsdWxhci5leHRlbmQoUk9ULk1hcCk7XG5cbi8qKlxuICogRmlsbCB0aGUgbWFwIHdpdGggcmFuZG9tIHZhbHVlc1xuICogQHBhcmFtIHtmbG9hdH0gcHJvYmFiaWxpdHkgUHJvYmFiaWxpdHkgZm9yIGEgY2VsbCB0byBiZWNvbWUgYWxpdmU7IDAgPSBhbGwgZW1wdHksIDEgPSBhbGwgZnVsbFxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5yYW5kb21pemUgPSBmdW5jdGlvbihwcm9iYWJpbGl0eSkge1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl93aWR0aDtpKyspIHtcblx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHR0aGlzLl9tYXBbaV1bal0gPSAoUk9ULlJORy5nZXRVbmlmb3JtKCkgPCBwcm9iYWJpbGl0eSA/IDEgOiAwKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogQ2hhbmdlIG9wdGlvbnMuXG4gKiBAc2VlIFJPVC5NYXAuQ2VsbHVsYXJcbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdHRoaXMuX21hcFt4XVt5XSA9IHZhbHVlO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR2YXIgbmV3TWFwID0gdGhpcy5fZmlsbE1hcCgwKTtcblx0dmFyIGJvcm4gPSB0aGlzLl9vcHRpb25zLmJvcm47XG5cdHZhciBzdXJ2aXZlID0gdGhpcy5fb3B0aW9ucy5zdXJ2aXZlO1xuXG5cblx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdHZhciB3aWR0aFN0ZXAgPSAxO1xuXHRcdHZhciB3aWR0aFN0YXJ0ID0gMDtcblx0XHRpZiAodGhpcy5fb3B0aW9ucy50b3BvbG9neSA9PSA2KSB7IFxuXHRcdFx0d2lkdGhTdGVwID0gMjtcblx0XHRcdHdpZHRoU3RhcnQgPSBqJTI7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaT13aWR0aFN0YXJ0OyBpPHRoaXMuX3dpZHRoOyBpKz13aWR0aFN0ZXApIHtcblxuXHRcdFx0dmFyIGN1ciA9IHRoaXMuX21hcFtpXVtqXTtcblx0XHRcdHZhciBuY291bnQgPSB0aGlzLl9nZXROZWlnaGJvcnMoaSwgaik7XG5cdFx0XHRcblx0XHRcdGlmIChjdXIgJiYgc3Vydml2ZS5pbmRleE9mKG5jb3VudCkgIT0gLTEpIHsgLyogc3Vydml2ZSAqL1xuXHRcdFx0XHRuZXdNYXBbaV1bal0gPSAxO1xuXHRcdFx0fSBlbHNlIGlmICghY3VyICYmIGJvcm4uaW5kZXhPZihuY291bnQpICE9IC0xKSB7IC8qIGJvcm4gKi9cblx0XHRcdFx0bmV3TWFwW2ldW2pdID0gMTtcblx0XHRcdH1cdFx0XHRcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX21hcCA9IG5ld01hcDtcblxuXHRpZiAodGhpcy5fb3B0aW9ucy5jb25uZWN0ZWQpIHsgdGhpcy5fY29tcGxldGVNYXplKCk7IH0gLy8gb3B0aW9uYWxseSBjb25uZWN0IGV2ZXJ5IHNwYWNlXG5cblx0aWYgKCFjYWxsYmFjaykgeyByZXR1cm47IH1cblxuXHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0dmFyIHdpZHRoU3RlcCA9IDE7XG5cdFx0dmFyIHdpZHRoU3RhcnQgPSAwO1xuXHRcdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDYpIHsgXG5cdFx0XHR3aWR0aFN0ZXAgPSAyO1xuXHRcdFx0d2lkdGhTdGFydCA9IGolMjtcblx0XHR9XG5cdFx0Zm9yICh2YXIgaT13aWR0aFN0YXJ0OyBpPHRoaXMuX3dpZHRoOyBpKz13aWR0aFN0ZXApIHtcblx0XHRcdGNhbGxiYWNrKGksIGosIG5ld01hcFtpXVtqXSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogR2V0IG5laWdoYm9yIGNvdW50IGF0IFtpLGpdIGluIHRoaXMuX21hcFxuICovXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciByZXN1bHQgPSAwO1xuXHRmb3IgKHZhciBpPTA7aTx0aGlzLl9kaXJzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGlyID0gdGhpcy5fZGlyc1tpXTtcblx0XHR2YXIgeCA9IGN4ICsgZGlyWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkaXJbMV07XG5cdFx0XG5cdFx0aWYgKHggPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeCA8IDAgfHwgeSA+PSB0aGlzLl93aWR0aCkgeyBjb250aW51ZTsgfVxuXHRcdHJlc3VsdCArPSAodGhpcy5fbWFwW3hdW3ldID09IDEgPyAxIDogMCk7XG5cdH1cblx0XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogTWFrZSBzdXJlIGV2ZXJ5IG5vbi13YWxsIHNwYWNlIGlzIGFjY2Vzc2libGUuXG4gKi9cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9jb21wbGV0ZU1hemUgPSBmdW5jdGlvbigpIHtcblx0dmFyIGFsbEZyZWVTcGFjZSA9IFtdO1xuXHR2YXIgbm90Q29ubmVjdGVkID0ge307XG5cdC8vIGZpbmQgYWxsIGZyZWUgc3BhY2Vcblx0Zm9yICh2YXIgeCA9IDA7IHggPCB0aGlzLl93aWR0aDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLl9oZWlnaHQ7IHkrKykge1xuXHRcdFx0aWYgKHRoaXMuX2ZyZWVTcGFjZSh4LCB5KSkge1xuXHRcdFx0XHR2YXIgcCA9IFt4LCB5XTtcblx0XHRcdFx0bm90Q29ubmVjdGVkW3RoaXMuX3BvaW50S2V5KHApXSA9IHA7XG5cdFx0XHRcdGFsbEZyZWVTcGFjZS5wdXNoKFt4LCB5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHZhciBzdGFydCA9IGFsbEZyZWVTcGFjZVtST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwgYWxsRnJlZVNwYWNlLmxlbmd0aCAtIDEpXTtcblxuXHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkoc3RhcnQpO1xuXHR2YXIgY29ubmVjdGVkID0ge307XG5cdGNvbm5lY3RlZFtrZXldID0gc3RhcnQ7XG5cdGRlbGV0ZSBub3RDb25uZWN0ZWRba2V5XVxuXG5cdC8vIGZpbmQgd2hhdCdzIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcblx0dGhpcy5fZmluZENvbm5lY3RlZChjb25uZWN0ZWQsIG5vdENvbm5lY3RlZCwgW3N0YXJ0XSk7XG5cblx0d2hpbGUgKE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCkubGVuZ3RoID4gMCkge1xuXG5cdFx0Ly8gZmluZCB0d28gcG9pbnRzIGZyb20gbm90Q29ubmVjdGVkIHRvIGNvbm5lY3RlZFxuXHRcdHZhciBwID0gdGhpcy5fZ2V0RnJvbVRvKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKTtcblx0XHR2YXIgZnJvbSA9IHBbMF07IC8vIG5vdENvbm5lY3RlZFxuXHRcdHZhciB0byA9IHBbMV07IC8vIGNvbm5lY3RlZFxuXG5cdFx0Ly8gZmluZCBldmVyeXRoaW5nIGNvbm5lY3RlZCB0byB0aGUgc3RhcnRpbmcgcG9pbnRcblx0XHR2YXIgbG9jYWwgPSB7fTtcblx0XHRsb2NhbFt0aGlzLl9wb2ludEtleShmcm9tKV0gPSBmcm9tO1xuXHRcdHRoaXMuX2ZpbmRDb25uZWN0ZWQobG9jYWwsIG5vdENvbm5lY3RlZCwgW2Zyb21dLCB0cnVlKTtcblxuXHRcdC8vIGNvbm5lY3QgdG8gYSBjb25uZWN0ZWQgc3F1YXJlXG5cdFx0dGhpcy5fdHVubmVsVG9Db25uZWN0ZWQodG8sIGZyb20sIGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKTtcblxuXHRcdC8vIG5vdyBhbGwgb2YgbG9jYWwgaXMgY29ubmVjdGVkXG5cdFx0Zm9yICh2YXIgayBpbiBsb2NhbCkge1xuXHRcdFx0dmFyIHBwID0gbG9jYWxba107XG5cdFx0XHR0aGlzLl9tYXBbcHBbMF1dW3BwWzFdXSA9IDA7XG5cdFx0XHRjb25uZWN0ZWRba10gPSBwcDtcblx0XHRcdGRlbGV0ZSBub3RDb25uZWN0ZWRba107XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogRmluZCByYW5kb20gcG9pbnRzIHRvIGNvbm5lY3QuIFNlYXJjaCBmb3IgdGhlIGNsb3Nlc3QgcG9pbnQgaW4gdGhlIGxhcmdlciBzcGFjZS4gXG4gKiBUaGlzIGlzIHRvIG1pbmltaXplIHRoZSBsZW5ndGggb2YgdGhlIHBhc3NhZ2Ugd2hpbGUgbWFpbnRhaW5pbmcgZ29vZCBwZXJmb3JtYW5jZS5cbiAqL1xuUk9ULk1hcC5DZWxsdWxhci5wcm90b3R5cGUuX2dldEZyb21UbyA9IGZ1bmN0aW9uKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkKSB7XG5cdHZhciBmcm9tLCB0bywgZDtcblx0dmFyIGNvbm5lY3RlZEtleXMgPSBPYmplY3Qua2V5cyhjb25uZWN0ZWQpO1xuXHR2YXIgbm90Q29ubmVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKG5vdENvbm5lY3RlZCk7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdFx0aWYgKGNvbm5lY3RlZEtleXMubGVuZ3RoIDwgbm90Q29ubmVjdGVkS2V5cy5sZW5ndGgpIHtcblx0XHRcdHZhciBrZXlzID0gY29ubmVjdGVkS2V5cztcblx0XHRcdHRvID0gY29ubmVjdGVkW2tleXNbUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGtleXMubGVuZ3RoIC0gMSldXVxuXHRcdFx0ZnJvbSA9IHRoaXMuX2dldENsb3Nlc3QodG8sIG5vdENvbm5lY3RlZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBrZXlzID0gbm90Q29ubmVjdGVkS2V5cztcblx0XHRcdGZyb20gPSBub3RDb25uZWN0ZWRba2V5c1tST1QuUk5HLmdldFVuaWZvcm1JbnQoMCwga2V5cy5sZW5ndGggLSAxKV1dXG5cdFx0XHR0byA9IHRoaXMuX2dldENsb3Nlc3QoZnJvbSwgY29ubmVjdGVkKTtcblx0XHR9XG5cdFx0ZCA9IChmcm9tWzBdIC0gdG9bMF0pICogKGZyb21bMF0gLSB0b1swXSkgKyAoZnJvbVsxXSAtIHRvWzFdKSAqIChmcm9tWzFdIC0gdG9bMV0pO1xuXHRcdGlmIChkIDwgNjQpIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHQvLyBjb25zb2xlLmxvZyhcIj4+PiBjb25uZWN0ZWQ9XCIgKyB0byArIFwiIG5vdENvbm5lY3RlZD1cIiArIGZyb20gKyBcIiBkaXN0PVwiICsgZCk7XG5cdHJldHVybiBbZnJvbSwgdG9dO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZ2V0Q2xvc2VzdCA9IGZ1bmN0aW9uKHBvaW50LCBzcGFjZSkge1xuXHR2YXIgbWluUG9pbnQgPSBudWxsO1xuXHR2YXIgbWluRGlzdCA9IG51bGw7XG5cdGZvciAoayBpbiBzcGFjZSkge1xuXHRcdHZhciBwID0gc3BhY2Vba107XG5cdFx0dmFyIGQgPSAocFswXSAtIHBvaW50WzBdKSAqIChwWzBdIC0gcG9pbnRbMF0pICsgKHBbMV0gLSBwb2ludFsxXSkgKiAocFsxXSAtIHBvaW50WzFdKTtcblx0XHRpZiAobWluRGlzdCA9PSBudWxsIHx8IGQgPCBtaW5EaXN0KSB7XG5cdFx0XHRtaW5EaXN0ID0gZDtcblx0XHRcdG1pblBvaW50ID0gcDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIG1pblBvaW50O1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fZmluZENvbm5lY3RlZCA9IGZ1bmN0aW9uKGNvbm5lY3RlZCwgbm90Q29ubmVjdGVkLCBzdGFjaywga2VlcE5vdENvbm5lY3RlZCkge1xuXHR3aGlsZShzdGFjay5sZW5ndGggPiAwKSB7XG5cdFx0dmFyIHAgPSBzdGFjay5zcGxpY2UoMCwgMSlbMF07XG5cdFx0dmFyIHRlc3RzID0gW1xuXHRcdFx0W3BbMF0gKyAxLCBwWzFdXSxcblx0XHRcdFtwWzBdIC0gMSwgcFsxXV0sXG5cdFx0XHRbcFswXSwgICAgIHBbMV0gKyAxXSxcblx0XHRcdFtwWzBdLCAgICAgcFsxXSAtIDFdXG5cdFx0XTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIga2V5ID0gdGhpcy5fcG9pbnRLZXkodGVzdHNbaV0pO1xuXHRcdFx0aWYgKGNvbm5lY3RlZFtrZXldID09IG51bGwgJiYgdGhpcy5fZnJlZVNwYWNlKHRlc3RzW2ldWzBdLCB0ZXN0c1tpXVsxXSkpIHtcblx0XHRcdFx0Y29ubmVjdGVkW2tleV0gPSB0ZXN0c1tpXTtcblx0XHRcdFx0aWYgKCFrZWVwTm90Q29ubmVjdGVkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIG5vdENvbm5lY3RlZFtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0YWNrLnB1c2godGVzdHNbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fdHVubmVsVG9Db25uZWN0ZWQgPSBmdW5jdGlvbih0bywgZnJvbSwgY29ubmVjdGVkLCBub3RDb25uZWN0ZWQpIHtcblx0dmFyIGtleSA9IHRoaXMuX3BvaW50S2V5KGZyb20pO1xuXHR2YXIgYSwgYjtcblx0aWYgKGZyb21bMF0gPCB0b1swXSkge1xuXHRcdGEgPSBmcm9tO1xuXHRcdGIgPSB0bztcblx0fSBlbHNlIHtcblx0XHRhID0gdG87XG5cdFx0YiA9IGZyb207XG5cdH1cblx0Zm9yICh2YXIgeHggPSBhWzBdOyB4eCA8PSBiWzBdOyB4eCsrKSB7XG5cdFx0dGhpcy5fbWFwW3h4XVthWzFdXSA9IDA7XG5cdFx0dmFyIHAgPSBbeHgsIGFbMV1dO1xuXHRcdHZhciBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG5cdFx0Y29ubmVjdGVkW3BrZXldID0gcDtcblx0XHRkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuXHR9XG5cblx0Ly8geCBpcyBub3cgZml4ZWRcblx0dmFyIHggPSBiWzBdO1xuXG5cdGlmIChmcm9tWzFdIDwgdG9bMV0pIHtcblx0XHRhID0gZnJvbTtcblx0XHRiID0gdG87XG5cdH0gZWxzZSB7XG5cdFx0YSA9IHRvO1xuXHRcdGIgPSBmcm9tO1xuXHR9XG5cdGZvciAodmFyIHl5ID0gYVsxXTsgeXkgPCBiWzFdOyB5eSsrKSB7XG5cdFx0dGhpcy5fbWFwW3hdW3l5XSA9IDA7XG5cdFx0dmFyIHAgPSBbeCwgeXldO1xuXHRcdHZhciBwa2V5ID0gdGhpcy5fcG9pbnRLZXkocCk7XG5cdFx0Y29ubmVjdGVkW3BrZXldID0gcDtcblx0XHRkZWxldGUgbm90Q29ubmVjdGVkW3BrZXldO1xuXHR9XG59XG5cblJPVC5NYXAuQ2VsbHVsYXIucHJvdG90eXBlLl9mcmVlU3BhY2UgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHJldHVybiB4ID49IDAgJiYgeCA8IHRoaXMuX3dpZHRoICYmIHkgPj0gMCAmJiB5IDwgdGhpcy5faGVpZ2h0ICYmIHRoaXMuX21hcFt4XVt5XSAhPSAxO1xufVxuXG5ST1QuTWFwLkNlbGx1bGFyLnByb3RvdHlwZS5fcG9pbnRLZXkgPSBmdW5jdGlvbihwKSB7XG5cdHJldHVybiBwWzBdICsgXCIuXCIgKyBwWzFdO1xufVxuXG4vKipcbiAqIEBjbGFzcyBEdW5nZW9uIG1hcDogaGFzIHJvb21zIGFuZCBjb3JyaWRvcnNcbiAqIEBhdWdtZW50cyBST1QuTWFwXG4gKi9cblJPVC5NYXAuRHVuZ2VvbiA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcblx0Uk9ULk1hcC5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXHR0aGlzLl9yb29tcyA9IFtdOyAvKiBsaXN0IG9mIGFsbCByb29tcyAqL1xuXHR0aGlzLl9jb3JyaWRvcnMgPSBbXTtcbn1cblJPVC5NYXAuRHVuZ2Vvbi5leHRlbmQoUk9ULk1hcCk7XG5cbi8qKlxuICogR2V0IGFsbCBnZW5lcmF0ZWQgcm9vbXNcbiAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuUm9vbVtdfVxuICovXG5ST1QuTWFwLkR1bmdlb24ucHJvdG90eXBlLmdldFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl9yb29tcztcbn1cblxuLyoqXG4gKiBHZXQgYWxsIGdlbmVyYXRlZCBjb3JyaWRvcnNcbiAqIEByZXR1cm5zIHtST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3JbXX1cbiAqL1xuUk9ULk1hcC5EdW5nZW9uLnByb3RvdHlwZS5nZXRDb3JyaWRvcnMgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX2NvcnJpZG9ycztcbn1cbi8qKlxuICogQGNsYXNzIFJhbmRvbSBkdW5nZW9uIGdlbmVyYXRvciB1c2luZyBodW1hbi1saWtlIGRpZ2dpbmcgcGF0dGVybnMuXG4gKiBIZWF2aWx5IGJhc2VkIG9uIE1pa2UgQW5kZXJzb24ncyBpZGVhcyBmcm9tIHRoZSBcIlR5cmFudFwiIGFsZ28sIG1lbnRpb25lZCBhdCBcbiAqIGh0dHA6Ly93d3cucm9ndWViYXNpbi5yb2d1ZWxpa2VkZXZlbG9wbWVudC5vcmcvaW5kZXgucGhwP3RpdGxlPUR1bmdlb24tQnVpbGRpbmdfQWxnb3JpdGhtLlxuICogQGF1Z21lbnRzIFJPVC5NYXAuRHVuZ2VvblxuICovXG5ST1QuTWFwLkRpZ2dlciA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpIHtcblx0Uk9ULk1hcC5EdW5nZW9uLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHJvb21XaWR0aDogWzMsIDldLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gd2lkdGggKi9cblx0XHRyb29tSGVpZ2h0OiBbMywgNV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSBoZWlnaHQgKi9cblx0XHRjb3JyaWRvckxlbmd0aDogWzMsIDEwXSwgLyogY29ycmlkb3IgbWluaW11bSBhbmQgbWF4aW11bSBsZW5ndGggKi9cblx0XHRkdWdQZXJjZW50YWdlOiAwLjIsIC8qIHdlIHN0b3AgYWZ0ZXIgdGhpcyBwZXJjZW50YWdlIG9mIGxldmVsIGFyZWEgaGFzIGJlZW4gZHVnIG91dCAqL1xuXHRcdHRpbWVMaW1pdDogMTAwMCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgbXVjaCB0aW1lIGhhcyBwYXNzZWQgKG1zZWMpICovXG5cdH1cblx0Zm9yICh2YXIgcCBpbiBvcHRpb25zKSB7IHRoaXMuX29wdGlvbnNbcF0gPSBvcHRpb25zW3BdOyB9XG5cdFxuXHR0aGlzLl9mZWF0dXJlcyA9IHtcblx0XHRcIlJvb21cIjogNCxcblx0XHRcIkNvcnJpZG9yXCI6IDRcblx0fVxuXHR0aGlzLl9mZWF0dXJlQXR0ZW1wdHMgPSAyMDsgLyogaG93IG1hbnkgdGltZXMgZG8gd2UgdHJ5IHRvIGNyZWF0ZSBhIGZlYXR1cmUgb24gYSBzdWl0YWJsZSB3YWxsICovXG5cdHRoaXMuX3dhbGxzID0ge307IC8qIHRoZXNlIGFyZSBhdmFpbGFibGUgZm9yIGRpZ2dpbmcgKi9cblx0XG5cdHRoaXMuX2RpZ0NhbGxiYWNrID0gdGhpcy5fZGlnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5fY2FuQmVEdWdDYWxsYmFjayA9IHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2suYmluZCh0aGlzKTtcblx0dGhpcy5faXNXYWxsQ2FsbGJhY2sgPSB0aGlzLl9pc1dhbGxDYWxsYmFjay5iaW5kKHRoaXMpO1xuXHR0aGlzLl9wcmlvcml0eVdhbGxDYWxsYmFjayA9IHRoaXMuX3ByaW9yaXR5V2FsbENhbGxiYWNrLmJpbmQodGhpcyk7XG59XG5ST1QuTWFwLkRpZ2dlci5leHRlbmQoUk9ULk1hcC5EdW5nZW9uKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtYXBcbiAqIEBzZWUgUk9ULk1hcCNjcmVhdGVcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHRoaXMuX3Jvb21zID0gW107XG5cdHRoaXMuX2NvcnJpZG9ycyA9IFtdO1xuXHR0aGlzLl9tYXAgPSB0aGlzLl9maWxsTWFwKDEpO1xuXHR0aGlzLl93YWxscyA9IHt9O1xuXHR0aGlzLl9kdWcgPSAwO1xuXHR2YXIgYXJlYSA9ICh0aGlzLl93aWR0aC0yKSAqICh0aGlzLl9oZWlnaHQtMik7XG5cblx0dGhpcy5fZmlyc3RSb29tKCk7XG5cdFxuXHR2YXIgdDEgPSBEYXRlLm5vdygpO1xuXG5cdGRvIHtcblx0XHR2YXIgdDIgPSBEYXRlLm5vdygpO1xuXHRcdGlmICh0MiAtIHQxID4gdGhpcy5fb3B0aW9ucy50aW1lTGltaXQpIHsgYnJlYWs7IH1cblxuXHRcdC8qIGZpbmQgYSBnb29kIHdhbGwgKi9cblx0XHR2YXIgd2FsbCA9IHRoaXMuX2ZpbmRXYWxsKCk7XG5cdFx0aWYgKCF3YWxsKSB7IGJyZWFrOyB9IC8qIG5vIG1vcmUgd2FsbHMgKi9cblx0XHRcblx0XHR2YXIgcGFydHMgPSB3YWxsLnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHR2YXIgZGlyID0gdGhpcy5fZ2V0RGlnZ2luZ0RpcmVjdGlvbih4LCB5KTtcblx0XHRpZiAoIWRpcikgeyBjb250aW51ZTsgfSAvKiB0aGlzIHdhbGwgaXMgbm90IHN1aXRhYmxlICovXG5cdFx0XG4vL1x0XHRjb25zb2xlLmxvZyhcIndhbGxcIiwgeCwgeSk7XG5cblx0XHQvKiB0cnkgYWRkaW5nIGEgZmVhdHVyZSAqL1xuXHRcdHZhciBmZWF0dXJlQXR0ZW1wdHMgPSAwO1xuXHRcdGRvIHtcblx0XHRcdGZlYXR1cmVBdHRlbXB0cysrO1xuXHRcdFx0aWYgKHRoaXMuX3RyeUZlYXR1cmUoeCwgeSwgZGlyWzBdLCBkaXJbMV0pKSB7IC8qIGZlYXR1cmUgYWRkZWQgKi9cblx0XHRcdFx0Ly9pZiAodGhpcy5fcm9vbXMubGVuZ3RoICsgdGhpcy5fY29ycmlkb3JzLmxlbmd0aCA9PSAyKSB7IHRoaXMuX3Jvb21zWzBdLmFkZERvb3IoeCwgeSk7IH0gLyogZmlyc3Qgcm9vbSBvZmljaWFsbHkgaGFzIGRvb3JzICovXG5cdFx0XHRcdHRoaXMuX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoeCwgeSk7XG5cdFx0XHRcdHRoaXMuX3JlbW92ZVN1cnJvdW5kaW5nV2FsbHMoeC1kaXJbMF0sIHktZGlyWzFdKTtcblx0XHRcdFx0YnJlYWs7IFxuXHRcdFx0fVxuXHRcdH0gd2hpbGUgKGZlYXR1cmVBdHRlbXB0cyA8IHRoaXMuX2ZlYXR1cmVBdHRlbXB0cyk7XG5cdFx0XG5cdFx0dmFyIHByaW9yaXR5V2FsbHMgPSAwO1xuXHRcdGZvciAodmFyIGlkIGluIHRoaXMuX3dhbGxzKSB7IFxuXHRcdFx0aWYgKHRoaXMuX3dhbGxzW2lkXSA+IDEpIHsgcHJpb3JpdHlXYWxscysrOyB9XG5cdFx0fVxuXG5cdH0gd2hpbGUgKHRoaXMuX2R1Zy9hcmVhIDwgdGhpcy5fb3B0aW9ucy5kdWdQZXJjZW50YWdlIHx8IHByaW9yaXR5V2FsbHMpOyAvKiBmaXhtZSBudW1iZXIgb2YgcHJpb3JpdHkgd2FsbHMgKi9cblxuXHR0aGlzLl9hZGREb29ycygpO1xuXG5cdGlmIChjYWxsYmFjaykge1xuXHRcdGZvciAodmFyIGk9MDtpPHRoaXMuX3dpZHRoO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0wO2o8dGhpcy5faGVpZ2h0O2orKykge1xuXHRcdFx0XHRjYWxsYmFjayhpLCBqLCB0aGlzLl9tYXBbaV1bal0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0dGhpcy5fd2FsbHMgPSB7fTtcblx0dGhpcy5fbWFwID0gbnVsbDtcblxuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9kaWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHksIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSAwIHx8IHZhbHVlID09IDIpIHsgLyogZW1wdHkgKi9cblx0XHR0aGlzLl9tYXBbeF1beV0gPSAwO1xuXHRcdHRoaXMuX2R1ZysrO1xuXHR9IGVsc2UgeyAvKiB3YWxsICovXG5cdFx0dGhpcy5fd2FsbHNbeCtcIixcIit5XSA9IDE7XG5cdH1cbn1cblxuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9pc1dhbGxDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAwIHx8IHkgPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA+PSB0aGlzLl9oZWlnaHQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdHJldHVybiAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2NhbkJlRHVnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMSB8fCB5IDwgMSB8fCB4KzEgPj0gdGhpcy5fd2lkdGggfHwgeSsxID49IHRoaXMuX2hlaWdodCkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuICh0aGlzLl9tYXBbeF1beV0gPT0gMSk7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fcHJpb3JpdHlXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdHRoaXMuX3dhbGxzW3grXCIsXCIreV0gPSAyO1xufVxuXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2ZpcnN0Um9vbSA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY3ggPSBNYXRoLmZsb29yKHRoaXMuX3dpZHRoLzIpO1xuXHR2YXIgY3kgPSBNYXRoLmZsb29yKHRoaXMuX2hlaWdodC8yKTtcblx0dmFyIHJvb20gPSBST1QuTWFwLkZlYXR1cmUuUm9vbS5jcmVhdGVSYW5kb21DZW50ZXIoY3gsIGN5LCB0aGlzLl9vcHRpb25zKTtcblx0dGhpcy5fcm9vbXMucHVzaChyb29tKTtcblx0cm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spO1xufVxuXG4vKipcbiAqIEdldCBhIHN1aXRhYmxlIHdhbGxcbiAqL1xuUk9ULk1hcC5EaWdnZXIucHJvdG90eXBlLl9maW5kV2FsbCA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcHJpbzEgPSBbXTtcblx0dmFyIHByaW8yID0gW107XG5cdGZvciAodmFyIGlkIGluIHRoaXMuX3dhbGxzKSB7XG5cdFx0dmFyIHByaW8gPSB0aGlzLl93YWxsc1tpZF07XG5cdFx0aWYgKHByaW8gPT0gMikgeyBcblx0XHRcdHByaW8yLnB1c2goaWQpOyBcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJpbzEucHVzaChpZCk7XG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgYXJyID0gKHByaW8yLmxlbmd0aCA/IHByaW8yIDogcHJpbzEpO1xuXHRpZiAoIWFyci5sZW5ndGgpIHsgcmV0dXJuIG51bGw7IH0gLyogbm8gd2FsbHMgOi8gKi9cblx0XG5cdHZhciBpZCA9IGFyci5yYW5kb20oKTtcblx0ZGVsZXRlIHRoaXMuX3dhbGxzW2lkXTtcblxuXHRyZXR1cm4gaWQ7XG59XG5cbi8qKlxuICogVHJpZXMgYWRkaW5nIGEgZmVhdHVyZVxuICogQHJldHVybnMge2Jvb2x9IHdhcyB0aGlzIGEgc3VjY2Vzc2Z1bCB0cnk/XG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fdHJ5RmVhdHVyZSA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSkge1xuXHR2YXIgZmVhdHVyZSA9IFJPVC5STkcuZ2V0V2VpZ2h0ZWRWYWx1ZSh0aGlzLl9mZWF0dXJlcyk7XG5cdGZlYXR1cmUgPSBST1QuTWFwLkZlYXR1cmVbZmVhdHVyZV0uY3JlYXRlUmFuZG9tQXQoeCwgeSwgZHgsIGR5LCB0aGlzLl9vcHRpb25zKTtcblx0XG5cdGlmICghZmVhdHVyZS5pc1ZhbGlkKHRoaXMuX2lzV2FsbENhbGxiYWNrLCB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrKSkge1xuLy9cdFx0Y29uc29sZS5sb2coXCJub3QgdmFsaWRcIik7XG4vL1x0XHRmZWF0dXJlLmRlYnVnKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdFxuXHRmZWF0dXJlLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG4vL1x0ZmVhdHVyZS5kZWJ1ZygpO1xuXG5cdGlmIChmZWF0dXJlIGluc3RhbmNlb2YgUk9ULk1hcC5GZWF0dXJlLlJvb20pIHsgdGhpcy5fcm9vbXMucHVzaChmZWF0dXJlKTsgfVxuXHRpZiAoZmVhdHVyZSBpbnN0YW5jZW9mIFJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvcikgeyBcblx0XHRmZWF0dXJlLmNyZWF0ZVByaW9yaXR5V2FsbHModGhpcy5fcHJpb3JpdHlXYWxsQ2FsbGJhY2spO1xuXHRcdHRoaXMuX2NvcnJpZG9ycy5wdXNoKGZlYXR1cmUpOyBcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fcmVtb3ZlU3Vycm91bmRpbmdXYWxscyA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHR2YXIgZGVsdGFzID0gUk9ULkRJUlNbNF07XG5cblx0Zm9yICh2YXIgaT0wO2k8ZGVsdGFzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgZGVsdGEgPSBkZWx0YXNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRlbHRhWzBdO1xuXHRcdHZhciB5ID0gY3kgKyBkZWx0YVsxXTtcblx0XHRkZWxldGUgdGhpcy5fd2FsbHNbeCtcIixcIit5XTtcblx0XHR2YXIgeCA9IGN4ICsgMipkZWx0YVswXTtcblx0XHR2YXIgeSA9IGN5ICsgMipkZWx0YVsxXTtcblx0XHRkZWxldGUgdGhpcy5fd2FsbHNbeCtcIixcIit5XTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdmVjdG9yIGluIFwiZGlnZ2luZ1wiIGRpcmVjdGlvbiwgb3IgZmFsc2UsIGlmIHRoaXMgZG9lcyBub3QgZXhpc3QgKG9yIGlzIG5vdCB1bmlxdWUpXG4gKi9cblJPVC5NYXAuRGlnZ2VyLnByb3RvdHlwZS5fZ2V0RGlnZ2luZ0RpcmVjdGlvbiA9IGZ1bmN0aW9uKGN4LCBjeSkge1xuXHRpZiAoY3ggPD0gMCB8fCBjeSA8PSAwIHx8IGN4ID49IHRoaXMuX3dpZHRoIC0gMSB8fCBjeSA+PSB0aGlzLl9oZWlnaHQgLSAxKSB7IHJldHVybiBudWxsOyB9XG5cblx0dmFyIHJlc3VsdCA9IG51bGw7XG5cdHZhciBkZWx0YXMgPSBST1QuRElSU1s0XTtcblx0XG5cdGZvciAodmFyIGk9MDtpPGRlbHRhcy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRlbHRhID0gZGVsdGFzW2ldO1xuXHRcdHZhciB4ID0gY3ggKyBkZWx0YVswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGVsdGFbMV07XG5cdFx0XG5cdFx0aWYgKCF0aGlzLl9tYXBbeF1beV0pIHsgLyogdGhlcmUgYWxyZWFkeSBpcyBhbm90aGVyIGVtcHR5IG5laWdoYm9yISAqL1xuXHRcdFx0aWYgKHJlc3VsdCkgeyByZXR1cm4gbnVsbDsgfVxuXHRcdFx0cmVzdWx0ID0gZGVsdGE7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKiBubyBlbXB0eSBuZWlnaGJvciAqL1xuXHRpZiAoIXJlc3VsdCkgeyByZXR1cm4gbnVsbDsgfVxuXHRcblx0cmV0dXJuIFstcmVzdWx0WzBdLCAtcmVzdWx0WzFdXTtcbn1cblxuLyoqXG4gKiBGaW5kIGVtcHR5IHNwYWNlcyBzdXJyb3VuZGluZyByb29tcywgYW5kIGFwcGx5IGRvb3JzLlxuICovXG5ST1QuTWFwLkRpZ2dlci5wcm90b3R5cGUuX2FkZERvb3JzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBkYXRhID0gdGhpcy5fbWFwO1xuXHR2YXIgaXNXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdFx0cmV0dXJuIChkYXRhW3hdW3ldID09IDEpO1xuXHR9XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5fcm9vbXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0dmFyIHJvb20gPSB0aGlzLl9yb29tc1tpXTtcblx0XHRyb29tLmNsZWFyRG9vcnMoKTtcblx0XHRyb29tLmFkZERvb3JzKGlzV2FsbENhbGxiYWNrKTtcblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgRHVuZ2VvbiBnZW5lcmF0b3Igd2hpY2ggdHJpZXMgdG8gZmlsbCB0aGUgc3BhY2UgZXZlbmx5LiBHZW5lcmF0ZXMgaW5kZXBlbmRlbnQgcm9vbXMgYW5kIHRyaWVzIHRvIGNvbm5lY3QgdGhlbS5cbiAqIEBhdWdtZW50cyBST1QuTWFwLkR1bmdlb25cbiAqL1xuUk9ULk1hcC5Vbmlmb3JtID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLkR1bmdlb24uY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KTtcblxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHJvb21XaWR0aDogWzMsIDldLCAvKiByb29tIG1pbmltdW0gYW5kIG1heGltdW0gd2lkdGggKi9cblx0XHRyb29tSGVpZ2h0OiBbMywgNV0sIC8qIHJvb20gbWluaW11bSBhbmQgbWF4aW11bSBoZWlnaHQgKi9cblx0XHRyb29tRHVnUGVyY2VudGFnZTogMC4xLCAvKiB3ZSBzdG9wIGFmdGVyIHRoaXMgcGVyY2VudGFnZSBvZiBsZXZlbCBhcmVhIGhhcyBiZWVuIGR1ZyBvdXQgYnkgcm9vbXMgKi9cblx0XHR0aW1lTGltaXQ6IDEwMDAgLyogd2Ugc3RvcCBhZnRlciB0aGlzIG11Y2ggdGltZSBoYXMgcGFzc2VkIChtc2VjKSAqL1xuXHR9XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXG5cdHRoaXMuX3Jvb21BdHRlbXB0cyA9IDIwOyAvKiBuZXcgcm9vbSBpcyBjcmVhdGVkIE4tdGltZXMgdW50aWwgaXMgY29uc2lkZXJlZCBhcyBpbXBvc3NpYmxlIHRvIGdlbmVyYXRlICovXG5cdHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMgPSAyMDsgLyogY29ycmlkb3JzIGFyZSB0cmllZCBOLXRpbWVzIHVudGlsIHRoZSBsZXZlbCBpcyBjb25zaWRlcmVkIGFzIGltcG9zc2libGUgdG8gY29ubmVjdCAqL1xuXG5cdHRoaXMuX2Nvbm5lY3RlZCA9IFtdOyAvKiBsaXN0IG9mIGFscmVhZHkgY29ubmVjdGVkIHJvb21zICovXG5cdHRoaXMuX3VuY29ubmVjdGVkID0gW107IC8qIGxpc3Qgb2YgcmVtYWluaW5nIHVuY29ubmVjdGVkIHJvb21zICovXG5cdFxuXHR0aGlzLl9kaWdDYWxsYmFjayA9IHRoaXMuX2RpZ0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2NhbkJlRHVnQ2FsbGJhY2sgPSB0aGlzLl9jYW5CZUR1Z0NhbGxiYWNrLmJpbmQodGhpcyk7XG5cdHRoaXMuX2lzV2FsbENhbGxiYWNrID0gdGhpcy5faXNXYWxsQ2FsbGJhY2suYmluZCh0aGlzKTtcbn1cblJPVC5NYXAuVW5pZm9ybS5leHRlbmQoUk9ULk1hcC5EdW5nZW9uKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBtYXAuIElmIHRoZSB0aW1lIGxpbWl0IGhhcyBiZWVuIGhpdCwgcmV0dXJucyBudWxsLlxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciB0MSA9IERhdGUubm93KCk7XG5cdHdoaWxlICgxKSB7XG5cdFx0dmFyIHQyID0gRGF0ZS5ub3coKTtcblx0XHRpZiAodDIgLSB0MSA+IHRoaXMuX29wdGlvbnMudGltZUxpbWl0KSB7IHJldHVybiBudWxsOyB9IC8qIHRpbWUgbGltaXQhICovXG5cdFxuXHRcdHRoaXMuX21hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdFx0dGhpcy5fZHVnID0gMDtcblx0XHR0aGlzLl9yb29tcyA9IFtdO1xuXHRcdHRoaXMuX3VuY29ubmVjdGVkID0gW107XG5cdFx0dGhpcy5fZ2VuZXJhdGVSb29tcygpO1xuXHRcdGlmICh0aGlzLl9yb29tcy5sZW5ndGggPCAyKSB7IGNvbnRpbnVlOyB9XG5cdFx0aWYgKHRoaXMuX2dlbmVyYXRlQ29ycmlkb3JzKCkpIHsgYnJlYWs7IH1cblx0fVxuXHRcblx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fd2lkdGg7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTA7ajx0aGlzLl9oZWlnaHQ7aisrKSB7XG5cdFx0XHRcdGNhbGxiYWNrKGksIGosIHRoaXMuX21hcFtpXVtqXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBzdWl0YWJsZSBhbW91bnQgb2Ygcm9vbXNcbiAqL1xuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZ2VuZXJhdGVSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdyA9IHRoaXMuX3dpZHRoLTI7XG5cdHZhciBoID0gdGhpcy5faGVpZ2h0LTI7XG5cblx0ZG8ge1xuXHRcdHZhciByb29tID0gdGhpcy5fZ2VuZXJhdGVSb29tKCk7XG5cdFx0aWYgKHRoaXMuX2R1Zy8odypoKSA+IHRoaXMuX29wdGlvbnMucm9vbUR1Z1BlcmNlbnRhZ2UpIHsgYnJlYWs7IH0gLyogYWNoaWV2ZWQgcmVxdWVzdGVkIGFtb3VudCBvZiBmcmVlIHNwYWNlICovXG5cdH0gd2hpbGUgKHJvb20pO1xuXG5cdC8qIGVpdGhlciBlbm91Z2ggcm9vbXMsIG9yIG5vdCBhYmxlIHRvIGdlbmVyYXRlIG1vcmUgb2YgdGhlbSA6KSAqL1xufVxuXG4vKipcbiAqIFRyeSB0byBnZW5lcmF0ZSBvbmUgcm9vbVxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZVJvb20gPSBmdW5jdGlvbigpIHtcblx0dmFyIGNvdW50ID0gMDtcblx0d2hpbGUgKGNvdW50IDwgdGhpcy5fcm9vbUF0dGVtcHRzKSB7XG5cdFx0Y291bnQrKztcblx0XHRcblx0XHR2YXIgcm9vbSA9IFJPVC5NYXAuRmVhdHVyZS5Sb29tLmNyZWF0ZVJhbmRvbSh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLl9vcHRpb25zKTtcblx0XHRpZiAoIXJvb20uaXNWYWxpZCh0aGlzLl9pc1dhbGxDYWxsYmFjaywgdGhpcy5fY2FuQmVEdWdDYWxsYmFjaykpIHsgY29udGludWU7IH1cblx0XHRcblx0XHRyb29tLmNyZWF0ZSh0aGlzLl9kaWdDYWxsYmFjayk7XG5cdFx0dGhpcy5fcm9vbXMucHVzaChyb29tKTtcblx0XHRyZXR1cm4gcm9vbTtcblx0fSBcblxuXHQvKiBubyByb29tIHdhcyBnZW5lcmF0ZWQgaW4gYSBnaXZlbiBudW1iZXIgb2YgYXR0ZW1wdHMgKi9cblx0cmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGNvbm5lY3RvcnMgYmV3ZWVuIHJvb21zXG4gKiBAcmV0dXJucyB7Ym9vbH0gc3VjY2VzcyBXYXMgdGhpcyBhdHRlbXB0IHN1Y2Nlc3NmdWxsP1xuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9nZW5lcmF0ZUNvcnJpZG9ycyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgY250ID0gMDtcblx0d2hpbGUgKGNudCA8IHRoaXMuX2NvcnJpZG9yQXR0ZW1wdHMpIHtcblx0XHRjbnQrKztcblx0XHR0aGlzLl9jb3JyaWRvcnMgPSBbXTtcblxuXHRcdC8qIGRpZyByb29tcyBpbnRvIGEgY2xlYXIgbWFwICovXG5cdFx0dGhpcy5fbWFwID0gdGhpcy5fZmlsbE1hcCgxKTtcblx0XHRmb3IgKHZhciBpPTA7aTx0aGlzLl9yb29tcy5sZW5ndGg7aSsrKSB7IFxuXHRcdFx0dmFyIHJvb20gPSB0aGlzLl9yb29tc1tpXTtcblx0XHRcdHJvb20uY2xlYXJEb29ycygpO1xuXHRcdFx0cm9vbS5jcmVhdGUodGhpcy5fZGlnQ2FsbGJhY2spOyBcblx0XHR9XG5cblx0XHR0aGlzLl91bmNvbm5lY3RlZCA9IHRoaXMuX3Jvb21zLnNsaWNlKCkucmFuZG9taXplKCk7XG5cdFx0dGhpcy5fY29ubmVjdGVkID0gW107XG5cdFx0aWYgKHRoaXMuX3VuY29ubmVjdGVkLmxlbmd0aCkgeyB0aGlzLl9jb25uZWN0ZWQucHVzaCh0aGlzLl91bmNvbm5lY3RlZC5wb3AoKSk7IH0gLyogZmlyc3Qgb25lIGlzIGFsd2F5cyBjb25uZWN0ZWQgKi9cblx0XHRcblx0XHR3aGlsZSAoMSkge1xuXHRcdFx0LyogMS4gcGljayByYW5kb20gY29ubmVjdGVkIHJvb20gKi9cblx0XHRcdHZhciBjb25uZWN0ZWQgPSB0aGlzLl9jb25uZWN0ZWQucmFuZG9tKCk7XG5cdFx0XHRcblx0XHRcdC8qIDIuIGZpbmQgY2xvc2VzdCB1bmNvbm5lY3RlZCAqL1xuXHRcdFx0dmFyIHJvb20xID0gdGhpcy5fY2xvc2VzdFJvb20odGhpcy5fdW5jb25uZWN0ZWQsIGNvbm5lY3RlZCk7XG5cdFx0XHRcblx0XHRcdC8qIDMuIGNvbm5lY3QgaXQgdG8gY2xvc2VzdCBjb25uZWN0ZWQgKi9cblx0XHRcdHZhciByb29tMiA9IHRoaXMuX2Nsb3Nlc3RSb29tKHRoaXMuX2Nvbm5lY3RlZCwgcm9vbTEpO1xuXHRcdFx0XG5cdFx0XHR2YXIgb2sgPSB0aGlzLl9jb25uZWN0Um9vbXMocm9vbTEsIHJvb20yKTtcblx0XHRcdGlmICghb2spIHsgYnJlYWs7IH0gLyogc3RvcCBjb25uZWN0aW5nLCByZS1zaHVmZmxlICovXG5cdFx0XHRcblx0XHRcdGlmICghdGhpcy5fdW5jb25uZWN0ZWQubGVuZ3RoKSB7IHJldHVybiB0cnVlOyB9IC8qIGRvbmU7IG5vIHJvb21zIHJlbWFpbiAqL1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRm9yIGEgZ2l2ZW4gcm9vbSwgZmluZCB0aGUgY2xvc2VzdCBvbmUgZnJvbSB0aGUgbGlzdFxuICovXG5ST1QuTWFwLlVuaWZvcm0ucHJvdG90eXBlLl9jbG9zZXN0Um9vbSA9IGZ1bmN0aW9uKHJvb21zLCByb29tKSB7XG5cdHZhciBkaXN0ID0gSW5maW5pdHk7XG5cdHZhciBjZW50ZXIgPSByb29tLmdldENlbnRlcigpO1xuXHR2YXIgcmVzdWx0ID0gbnVsbDtcblx0XG5cdGZvciAodmFyIGk9MDtpPHJvb21zLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgciA9IHJvb21zW2ldO1xuXHRcdHZhciBjID0gci5nZXRDZW50ZXIoKTtcblx0XHR2YXIgZHggPSBjWzBdLWNlbnRlclswXTtcblx0XHR2YXIgZHkgPSBjWzFdLWNlbnRlclsxXTtcblx0XHR2YXIgZCA9IGR4KmR4K2R5KmR5O1xuXHRcdFxuXHRcdGlmIChkIDwgZGlzdCkge1xuXHRcdFx0ZGlzdCA9IGQ7XG5cdFx0XHRyZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fY29ubmVjdFJvb21zID0gZnVuY3Rpb24ocm9vbTEsIHJvb20yKSB7XG5cdC8qXG5cdFx0cm9vbTEuZGVidWcoKTtcblx0XHRyb29tMi5kZWJ1ZygpO1xuXHQqL1xuXG5cdHZhciBjZW50ZXIxID0gcm9vbTEuZ2V0Q2VudGVyKCk7XG5cdHZhciBjZW50ZXIyID0gcm9vbTIuZ2V0Q2VudGVyKCk7XG5cblx0dmFyIGRpZmZYID0gY2VudGVyMlswXSAtIGNlbnRlcjFbMF07XG5cdHZhciBkaWZmWSA9IGNlbnRlcjJbMV0gLSBjZW50ZXIxWzFdO1xuXG5cdGlmIChNYXRoLmFicyhkaWZmWCkgPCBNYXRoLmFicyhkaWZmWSkpIHsgLyogZmlyc3QgdHJ5IGNvbm5lY3Rpbmcgbm9ydGgtc291dGggd2FsbHMgKi9cblx0XHR2YXIgZGlySW5kZXgxID0gKGRpZmZZID4gMCA/IDIgOiAwKTtcblx0XHR2YXIgZGlySW5kZXgyID0gKGRpckluZGV4MSArIDIpICUgNDtcblx0XHR2YXIgbWluID0gcm9vbTIuZ2V0TGVmdCgpO1xuXHRcdHZhciBtYXggPSByb29tMi5nZXRSaWdodCgpO1xuXHRcdHZhciBpbmRleCA9IDA7XG5cdH0gZWxzZSB7IC8qIGZpcnN0IHRyeSBjb25uZWN0aW5nIGVhc3Qtd2VzdCB3YWxscyAqL1xuXHRcdHZhciBkaXJJbmRleDEgPSAoZGlmZlggPiAwID8gMSA6IDMpO1xuXHRcdHZhciBkaXJJbmRleDIgPSAoZGlySW5kZXgxICsgMikgJSA0O1xuXHRcdHZhciBtaW4gPSByb29tMi5nZXRUb3AoKTtcblx0XHR2YXIgbWF4ID0gcm9vbTIuZ2V0Qm90dG9tKCk7XG5cdFx0dmFyIGluZGV4ID0gMTtcblx0fVxuXG5cdHZhciBzdGFydCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20xLCBkaXJJbmRleDEpOyAvKiBjb3JyaWRvciB3aWxsIHN0YXJ0IGhlcmUgKi9cblx0aWYgKCFzdGFydCkgeyByZXR1cm4gZmFsc2U7IH1cblxuXHRpZiAoc3RhcnRbaW5kZXhdID49IG1pbiAmJiBzdGFydFtpbmRleF0gPD0gbWF4KSB7IC8qIHBvc3NpYmxlIHRvIGNvbm5lY3Qgd2l0aCBzdHJhaWdodCBsaW5lIChJLWxpa2UpICovXG5cdFx0dmFyIGVuZCA9IHN0YXJ0LnNsaWNlKCk7XG5cdFx0dmFyIHZhbHVlID0gbnVsbDtcblx0XHRzd2l0Y2ggKGRpckluZGV4Mikge1xuXHRcdFx0Y2FzZSAwOiB2YWx1ZSA9IHJvb20yLmdldFRvcCgpLTE7IGJyZWFrO1xuXHRcdFx0Y2FzZSAxOiB2YWx1ZSA9IHJvb20yLmdldFJpZ2h0KCkrMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDI6IHZhbHVlID0gcm9vbTIuZ2V0Qm90dG9tKCkrMTsgYnJlYWs7XG5cdFx0XHRjYXNlIDM6IHZhbHVlID0gcm9vbTIuZ2V0TGVmdCgpLTE7IGJyZWFrO1xuXHRcdH1cblx0XHRlbmRbKGluZGV4KzEpJTJdID0gdmFsdWU7XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIGVuZF0pO1xuXHRcdFxuXHR9IGVsc2UgaWYgKHN0YXJ0W2luZGV4XSA8IG1pbi0xIHx8IHN0YXJ0W2luZGV4XSA+IG1heCsxKSB7IC8qIG5lZWQgdG8gc3dpdGNoIHRhcmdldCB3YWxsIChMLWxpa2UpICovXG5cblx0XHR2YXIgZGlmZiA9IHN0YXJ0W2luZGV4XSAtIGNlbnRlcjJbaW5kZXhdO1xuXHRcdHN3aXRjaCAoZGlySW5kZXgyKSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRjYXNlIDE6XHR2YXIgcm90YXRpb24gPSAoZGlmZiA8IDAgPyAzIDogMSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAyOlxuXHRcdFx0Y2FzZSAzOlx0dmFyIHJvdGF0aW9uID0gKGRpZmYgPCAwID8gMSA6IDMpOyBicmVhaztcblx0XHR9XG5cdFx0ZGlySW5kZXgyID0gKGRpckluZGV4MiArIHJvdGF0aW9uKSAlIDQ7XG5cdFx0XG5cdFx0dmFyIGVuZCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20yLCBkaXJJbmRleDIpO1xuXHRcdGlmICghZW5kKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdFx0dmFyIG1pZCA9IFswLCAwXTtcblx0XHRtaWRbaW5kZXhdID0gc3RhcnRbaW5kZXhdO1xuXHRcdHZhciBpbmRleDIgPSAoaW5kZXgrMSklMjtcblx0XHRtaWRbaW5kZXgyXSA9IGVuZFtpbmRleDJdO1xuXHRcdHRoaXMuX2RpZ0xpbmUoW3N0YXJ0LCBtaWQsIGVuZF0pO1xuXHRcdFxuXHR9IGVsc2UgeyAvKiB1c2UgY3VycmVudCB3YWxsIHBhaXIsIGJ1dCBhZGp1c3QgdGhlIGxpbmUgaW4gdGhlIG1pZGRsZSAoUy1saWtlKSAqL1xuXHRcblx0XHR2YXIgaW5kZXgyID0gKGluZGV4KzEpJTI7XG5cdFx0dmFyIGVuZCA9IHRoaXMuX3BsYWNlSW5XYWxsKHJvb20yLCBkaXJJbmRleDIpO1xuXHRcdGlmICghZW5kKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdHZhciBtaWQgPSBNYXRoLnJvdW5kKChlbmRbaW5kZXgyXSArIHN0YXJ0W2luZGV4Ml0pLzIpO1xuXG5cdFx0dmFyIG1pZDEgPSBbMCwgMF07XG5cdFx0dmFyIG1pZDIgPSBbMCwgMF07XG5cdFx0bWlkMVtpbmRleF0gPSBzdGFydFtpbmRleF07XG5cdFx0bWlkMVtpbmRleDJdID0gbWlkO1xuXHRcdG1pZDJbaW5kZXhdID0gZW5kW2luZGV4XTtcblx0XHRtaWQyW2luZGV4Ml0gPSBtaWQ7XG5cdFx0dGhpcy5fZGlnTGluZShbc3RhcnQsIG1pZDEsIG1pZDIsIGVuZF0pO1xuXHR9XG5cblx0cm9vbTEuYWRkRG9vcihzdGFydFswXSwgc3RhcnRbMV0pO1xuXHRyb29tMi5hZGREb29yKGVuZFswXSwgZW5kWzFdKTtcblx0XG5cdHZhciBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTEpO1xuXHRpZiAoaW5kZXggIT0gLTEpIHtcblx0XHR0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHJvb20xKTtcblx0fVxuXG5cdHZhciBpbmRleCA9IHRoaXMuX3VuY29ubmVjdGVkLmluZGV4T2Yocm9vbTIpO1xuXHRpZiAoaW5kZXggIT0gLTEpIHtcblx0XHR0aGlzLl91bmNvbm5lY3RlZC5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdHRoaXMuX2Nvbm5lY3RlZC5wdXNoKHJvb20yKTtcblx0fVxuXHRcblx0cmV0dXJuIHRydWU7XG59XG5cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX3BsYWNlSW5XYWxsID0gZnVuY3Rpb24ocm9vbSwgZGlySW5kZXgpIHtcblx0dmFyIHN0YXJ0ID0gWzAsIDBdO1xuXHR2YXIgZGlyID0gWzAsIDBdO1xuXHR2YXIgbGVuZ3RoID0gMDtcblx0XG5cdHN3aXRjaCAoZGlySW5kZXgpIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRkaXIgPSBbMSwgMF07XG5cdFx0XHRzdGFydCA9IFtyb29tLmdldExlZnQoKSwgcm9vbS5nZXRUb3AoKS0xXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0UmlnaHQoKS1yb29tLmdldExlZnQoKSsxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMTpcblx0XHRcdGRpciA9IFswLCAxXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0UmlnaHQoKSsxLCByb29tLmdldFRvcCgpXTtcblx0XHRcdGxlbmd0aCA9IHJvb20uZ2V0Qm90dG9tKCktcm9vbS5nZXRUb3AoKSsxO1xuXHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGRpciA9IFsxLCAwXTtcblx0XHRcdHN0YXJ0ID0gW3Jvb20uZ2V0TGVmdCgpLCByb29tLmdldEJvdHRvbSgpKzFdO1xuXHRcdFx0bGVuZ3RoID0gcm9vbS5nZXRSaWdodCgpLXJvb20uZ2V0TGVmdCgpKzE7XG5cdFx0YnJlYWs7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0ZGlyID0gWzAsIDFdO1xuXHRcdFx0c3RhcnQgPSBbcm9vbS5nZXRMZWZ0KCktMSwgcm9vbS5nZXRUb3AoKV07XG5cdFx0XHRsZW5ndGggPSByb29tLmdldEJvdHRvbSgpLXJvb20uZ2V0VG9wKCkrMTtcblx0XHRicmVhaztcblx0fVxuXHRcblx0dmFyIGF2YWlsID0gW107XG5cdHZhciBsYXN0QmFkSW5kZXggPSAtMjtcblxuXHRmb3IgKHZhciBpPTA7aTxsZW5ndGg7aSsrKSB7XG5cdFx0dmFyIHggPSBzdGFydFswXSArIGkqZGlyWzBdO1xuXHRcdHZhciB5ID0gc3RhcnRbMV0gKyBpKmRpclsxXTtcblx0XHRhdmFpbC5wdXNoKG51bGwpO1xuXHRcdFxuXHRcdHZhciBpc1dhbGwgPSAodGhpcy5fbWFwW3hdW3ldID09IDEpO1xuXHRcdGlmIChpc1dhbGwpIHtcblx0XHRcdGlmIChsYXN0QmFkSW5kZXggIT0gaS0xKSB7IGF2YWlsW2ldID0gW3gsIHldOyB9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxhc3RCYWRJbmRleCA9IGk7XG5cdFx0XHRpZiAoaSkgeyBhdmFpbFtpLTFdID0gbnVsbDsgfVxuXHRcdH1cblx0fVxuXHRcblx0Zm9yICh2YXIgaT1hdmFpbC5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG5cdFx0aWYgKCFhdmFpbFtpXSkgeyBhdmFpbC5zcGxpY2UoaSwgMSk7IH1cblx0fVxuXHRyZXR1cm4gKGF2YWlsLmxlbmd0aCA/IGF2YWlsLnJhbmRvbSgpIDogbnVsbCk7XG59XG5cbi8qKlxuICogRGlnIGEgcG9seWxpbmUuXG4gKi9cblJPVC5NYXAuVW5pZm9ybS5wcm90b3R5cGUuX2RpZ0xpbmUgPSBmdW5jdGlvbihwb2ludHMpIHtcblx0Zm9yICh2YXIgaT0xO2k8cG9pbnRzLmxlbmd0aDtpKyspIHtcblx0XHR2YXIgc3RhcnQgPSBwb2ludHNbaS0xXTtcblx0XHR2YXIgZW5kID0gcG9pbnRzW2ldO1xuXHRcdHZhciBjb3JyaWRvciA9IG5ldyBST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3Ioc3RhcnRbMF0sIHN0YXJ0WzFdLCBlbmRbMF0sIGVuZFsxXSk7XG5cdFx0Y29ycmlkb3IuY3JlYXRlKHRoaXMuX2RpZ0NhbGxiYWNrKTtcblx0XHR0aGlzLl9jb3JyaWRvcnMucHVzaChjb3JyaWRvcik7XG5cdH1cbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fZGlnQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5LCB2YWx1ZSkge1xuXHR0aGlzLl9tYXBbeF1beV0gPSB2YWx1ZTtcblx0aWYgKHZhbHVlID09IDApIHsgdGhpcy5fZHVnKys7IH1cbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5faXNXYWxsQ2FsbGJhY2sgPSBmdW5jdGlvbih4LCB5KSB7XG5cdGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID49IHRoaXMuX3dpZHRoIHx8IHkgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuUk9ULk1hcC5Vbmlmb3JtLnByb3RvdHlwZS5fY2FuQmVEdWdDYWxsYmFjayA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0aWYgKHggPCAxIHx8IHkgPCAxIHx8IHgrMSA+PSB0aGlzLl93aWR0aCB8fCB5KzEgPj0gdGhpcy5faGVpZ2h0KSB7IHJldHVybiBmYWxzZTsgfVxuXHRyZXR1cm4gKHRoaXMuX21hcFt4XVt5XSA9PSAxKTtcbn1cblxuLyoqXG4gKiBAYXV0aG9yIGh5YWt1Z2VpXG4gKiBAY2xhc3MgRHVuZ2VvbiBnZW5lcmF0b3Igd2hpY2ggdXNlcyB0aGUgXCJvcmdpbmFsXCIgUm9ndWUgZHVuZ2VvbiBnZW5lcmF0aW9uIGFsZ29yaXRobS4gU2VlIGh0dHA6Ly9rdW9pLmNvbS9+a2FtaWthemUvR2FtZURlc2lnbi9hcnQwN19yb2d1ZV9kdW5nZW9uLnBocFxuICogQGF1Z21lbnRzIFJPVC5NYXBcbiAqIEBwYXJhbSB7aW50fSBbd2lkdGg9Uk9ULkRFRkFVTFRfV0lEVEhdXG4gKiBAcGFyYW0ge2ludH0gW2hlaWdodD1ST1QuREVGQVVMVF9IRUlHSFRdXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAqIEBwYXJhbSB7aW50W119IFtvcHRpb25zLmNlbGxXaWR0aD0zXSBOdW1iZXIgb2YgY2VsbHMgdG8gY3JlYXRlIG9uIHRoZSBob3Jpem9udGFsIChudW1iZXIgb2Ygcm9vbXMgaG9yaXpvbnRhbGx5KVxuICogQHBhcmFtIHtpbnRbXX0gW29wdGlvbnMuY2VsbEhlaWdodD0zXSBOdW1iZXIgb2YgY2VsbHMgdG8gY3JlYXRlIG9uIHRoZSB2ZXJ0aWNhbCAobnVtYmVyIG9mIHJvb21zIHZlcnRpY2FsbHkpIFxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnJvb21XaWR0aF0gUm9vbSBtaW4gYW5kIG1heCB3aWR0aCAtIG5vcm1hbGx5IHNldCBhdXRvLW1hZ2ljYWxseSB2aWEgdGhlIGNvbnN0cnVjdG9yLlxuICogQHBhcmFtIHtpbnR9IFtvcHRpb25zLnJvb21IZWlnaHRdIFJvb20gbWluIGFuZCBtYXggaGVpZ2h0IC0gbm9ybWFsbHkgc2V0IGF1dG8tbWFnaWNhbGx5IHZpYSB0aGUgY29uc3RydWN0b3IuIFxuICovXG5ST1QuTWFwLlJvZ3VlID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgb3B0aW9ucykge1xuXHRST1QuTWFwLmNhbGwodGhpcywgd2lkdGgsIGhlaWdodCk7XG5cdFxuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdGNlbGxXaWR0aDogMywgIC8vIE5PVEUgdG8gc2VsZiwgdGhlc2UgY291bGQgcHJvYmFibHkgd29yayB0aGUgc2FtZSBhcyB0aGUgcm9vbVdpZHRoL3Jvb20gSGVpZ2h0IHZhbHVlc1xuXHRcdGNlbGxIZWlnaHQ6IDMgIC8vICAgICBpZS4gYXMgYW4gYXJyYXkgd2l0aCBtaW4tbWF4IHZhbHVlcyBmb3IgZWFjaCBkaXJlY3Rpb24uLi4uXG5cdH1cblx0XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRcblx0Lypcblx0U2V0IHRoZSByb29tIHNpemVzIGFjY29yZGluZyB0byB0aGUgb3Zlci1hbGwgd2lkdGggb2YgdGhlIG1hcCwgXG5cdGFuZCB0aGUgY2VsbCBzaXplcy4gXG5cdCovXG5cdFxuXHRpZiAoIXRoaXMuX29wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJyb29tV2lkdGhcIikpIHtcblx0XHR0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdID0gdGhpcy5fY2FsY3VsYXRlUm9vbVNpemUodGhpcy5fd2lkdGgsIHRoaXMuX29wdGlvbnNbXCJjZWxsV2lkdGhcIl0pO1xuXHR9XG5cdGlmICghdGhpcy5fb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcInJvb21IZWlnaHRcIikpIHtcblx0XHR0aGlzLl9vcHRpb25zW1wicm9vbUhlaWdodFwiXSA9IHRoaXMuX2NhbGN1bGF0ZVJvb21TaXplKHRoaXMuX2hlaWdodCwgdGhpcy5fb3B0aW9uc1tcImNlbGxIZWlnaHRcIl0pO1xuXHR9XG5cdFxufVxuXG5ST1QuTWFwLlJvZ3VlLmV4dGVuZChST1QuTWFwKTsgXG5cbi8qKlxuICogQHNlZSBST1QuTWFwI2NyZWF0ZVxuICovXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuXHR0aGlzLm1hcCA9IHRoaXMuX2ZpbGxNYXAoMSk7XG5cdHRoaXMucm9vbXMgPSBbXTtcblx0dGhpcy5jb25uZWN0ZWRDZWxscyA9IFtdO1xuXHRcblx0dGhpcy5faW5pdFJvb21zKCk7XG5cdHRoaXMuX2Nvbm5lY3RSb29tcygpO1xuXHR0aGlzLl9jb25uZWN0VW5jb25uZWN0ZWRSb29tcygpO1xuXHR0aGlzLl9jcmVhdGVSYW5kb21Sb29tQ29ubmVjdGlvbnMoKTtcblx0dGhpcy5fY3JlYXRlUm9vbXMoKTtcblx0dGhpcy5fY3JlYXRlQ29ycmlkb3JzKCk7XG5cdFxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3dpZHRoOyBpKyspIHtcblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5faGVpZ2h0OyBqKyspIHtcblx0XHRcdFx0Y2FsbGJhY2soaSwgaiwgdGhpcy5tYXBbaV1bal0pOyAgIFxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRcblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jYWxjdWxhdGVSb29tU2l6ZSA9IGZ1bmN0aW9uKHNpemUsIGNlbGwpIHtcblx0dmFyIG1heCA9IE1hdGguZmxvb3IoKHNpemUvY2VsbCkgKiAwLjgpO1xuXHR2YXIgbWluID0gTWF0aC5mbG9vcigoc2l6ZS9jZWxsKSAqIDAuMjUpO1xuXHRpZiAobWluIDwgMikgbWluID0gMjtcblx0aWYgKG1heCA8IDIpIG1heCA9IDI7XG5cdHJldHVybiBbbWluLCBtYXhdO1xufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5faW5pdFJvb21zID0gZnVuY3Rpb24gKCkgeyBcblx0Ly8gY3JlYXRlIHJvb21zIGFycmF5LiBUaGlzIGlzIHRoZSBcImdyaWRcIiBsaXN0IGZyb20gdGhlIGFsZ28uICBcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9vcHRpb25zLmNlbGxXaWR0aDsgaSsrKSB7ICBcblx0XHR0aGlzLnJvb21zLnB1c2goW10pO1xuXHRcdGZvcih2YXIgaiA9IDA7IGogPCB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7IGorKykge1xuXHRcdFx0dGhpcy5yb29tc1tpXS5wdXNoKHtcInhcIjowLCBcInlcIjowLCBcIndpZHRoXCI6MCwgXCJoZWlnaHRcIjowLCBcImNvbm5lY3Rpb25zXCI6W10sIFwiY2VsbHhcIjppLCBcImNlbGx5XCI6an0pO1xuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fY29ubmVjdFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vcGljayByYW5kb20gc3RhcnRpbmcgZ3JpZFxuXHR2YXIgY2d4ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoLTEpO1xuXHR2YXIgY2d5ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodC0xKTtcblx0XG5cdHZhciBpZHg7XG5cdHZhciBuY2d4O1xuXHR2YXIgbmNneTtcblx0XG5cdHZhciBmb3VuZCA9IGZhbHNlO1xuXHR2YXIgcm9vbTtcblx0dmFyIG90aGVyUm9vbTtcblx0XG5cdC8vIGZpbmQgIHVuY29ubmVjdGVkIG5laWdoYm91ciBjZWxsc1xuXHRkbyB7XG5cdFxuXHRcdC8vdmFyIGRpclRvQ2hlY2sgPSBbMCwxLDIsMyw0LDUsNiw3XTtcblx0XHR2YXIgZGlyVG9DaGVjayA9IFswLDIsNCw2XTtcblx0XHRkaXJUb0NoZWNrID0gZGlyVG9DaGVjay5yYW5kb21pemUoKTtcblx0XHRcblx0XHRkbyB7XG5cdFx0XHRmb3VuZCA9IGZhbHNlO1xuXHRcdFx0aWR4ID0gZGlyVG9DaGVjay5wb3AoKTtcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRuY2d4ID0gY2d4ICsgUk9ULkRJUlNbOF1baWR4XVswXTtcblx0XHRcdG5jZ3kgPSBjZ3kgKyBST1QuRElSU1s4XVtpZHhdWzFdO1xuXHRcdFx0XG5cdFx0XHRpZihuY2d4IDwgMCB8fCBuY2d4ID49IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoKSBjb250aW51ZTtcblx0XHRcdGlmKG5jZ3kgPCAwIHx8IG5jZ3kgPj0gdGhpcy5fb3B0aW9ucy5jZWxsSGVpZ2h0KSBjb250aW51ZTtcblx0XHRcdFxuXHRcdFx0cm9vbSA9IHRoaXMucm9vbXNbY2d4XVtjZ3ldO1xuXHRcdFx0XG5cdFx0XHRpZihyb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID4gMClcblx0XHRcdHtcblx0XHRcdFx0Ly8gYXMgbG9uZyBhcyB0aGlzIHJvb20gZG9lc24ndCBhbHJlYWR5IGNvb25lY3QgdG8gbWUsIHdlIGFyZSBvayB3aXRoIGl0LiBcblx0XHRcdFx0aWYocm9vbVtcImNvbm5lY3Rpb25zXCJdWzBdWzBdID09IG5jZ3ggJiZcblx0XHRcdFx0cm9vbVtcImNvbm5lY3Rpb25zXCJdWzBdWzFdID09IG5jZ3kpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRvdGhlclJvb20gPSB0aGlzLnJvb21zW25jZ3hdW25jZ3ldO1xuXHRcdFx0XG5cdFx0XHRpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHsgXG5cdFx0XHRcdG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLnB1c2goW2NneCxjZ3ldKTtcblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuY29ubmVjdGVkQ2VsbHMucHVzaChbbmNneCwgbmNneV0pO1xuXHRcdFx0XHRjZ3ggPSBuY2d4O1xuXHRcdFx0XHRjZ3kgPSBuY2d5O1xuXHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRcdFx0XG5cdFx0fSB3aGlsZSAoZGlyVG9DaGVjay5sZW5ndGggPiAwICYmIGZvdW5kID09IGZhbHNlKVxuXHRcdFxuXHR9IHdoaWxlIChkaXJUb0NoZWNrLmxlbmd0aCA+IDApXG5cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2Nvbm5lY3RVbmNvbm5lY3RlZFJvb21zID0gZnVuY3Rpb24oKSB7XG5cdC8vV2hpbGUgdGhlcmUgYXJlIHVuY29ubmVjdGVkIHJvb21zLCB0cnkgdG8gY29ubmVjdCB0aGVtIHRvIGEgcmFuZG9tIGNvbm5lY3RlZCBuZWlnaGJvciBcblx0Ly8oaWYgYSByb29tIGhhcyBubyBjb25uZWN0ZWQgbmVpZ2hib3JzIHlldCwganVzdCBrZWVwIGN5Y2xpbmcsIHlvdSdsbCBmaWxsIG91dCB0byBpdCBldmVudHVhbGx5KS5cblx0dmFyIGN3ID0gdGhpcy5fb3B0aW9ucy5jZWxsV2lkdGg7XG5cdHZhciBjaCA9IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDtcblx0XG5cdHZhciByYW5kb21Db25uZWN0ZWRDZWxsO1xuXHR0aGlzLmNvbm5lY3RlZENlbGxzID0gdGhpcy5jb25uZWN0ZWRDZWxscy5yYW5kb21pemUoKTtcblx0dmFyIHJvb207XG5cdHZhciBvdGhlclJvb207XG5cdHZhciB2YWxpZFJvb207XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoOyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX29wdGlvbnMuY2VsbEhlaWdodDsgaisrKSAge1xuXHRcdFx0XHRcblx0XHRcdHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuXHRcdFx0XG5cdFx0XHRpZiAocm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRcdHZhciBkaXJlY3Rpb25zID0gWzAsMiw0LDZdO1xuXHRcdFx0XHRkaXJlY3Rpb25zID0gZGlyZWN0aW9ucy5yYW5kb21pemUoKTtcblx0XHRcdFx0XG5cdFx0XHRcdHZhciB2YWxpZFJvb20gPSBmYWxzZTtcblx0XHRcdFx0XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHR2YXIgZGlySWR4ID0gZGlyZWN0aW9ucy5wb3AoKTtcblx0XHRcdFx0XHR2YXIgbmV3SSA9IGkgKyBST1QuRElSU1s4XVtkaXJJZHhdWzBdO1xuXHRcdFx0XHRcdHZhciBuZXdKID0gaiArIFJPVC5ESVJTWzhdW2RpcklkeF1bMV07XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgKG5ld0kgPCAwIHx8IG5ld0kgPj0gY3cgfHwgXG5cdFx0XHRcdFx0bmV3SiA8IDAgfHwgbmV3SiA+PSBjaCkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbbmV3SV1bbmV3Sl07XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0dmFsaWRSb29tID0gdHJ1ZTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiAob3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl0ubGVuZ3RoID09IDApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IG90aGVyUm9vbVtcImNvbm5lY3Rpb25zXCJdLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHRpZihvdGhlclJvb21bXCJjb25uZWN0aW9uc1wiXVtrXVswXSA9PSBpICYmIFxuXHRcdFx0XHRcdFx0b3RoZXJSb29tW1wiY29ubmVjdGlvbnNcIl1ba11bMV0gPT0gaikge1xuXHRcdFx0XHRcdFx0XHR2YWxpZFJvb20gPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmICh2YWxpZFJvb20pIGJyZWFrO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHR9IHdoaWxlIChkaXJlY3Rpb25zLmxlbmd0aClcblx0XHRcdFx0XG5cdFx0XHRcdGlmKHZhbGlkUm9vbSkgeyBcblx0XHRcdFx0XHRyb29tW1wiY29ubmVjdGlvbnNcIl0ucHVzaCggW290aGVyUm9vbVtcImNlbGx4XCJdLCBvdGhlclJvb21bXCJjZWxseVwiXV0gKTsgIFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiLS0gVW5hYmxlIHRvIGNvbm5lY3Qgcm9vbS5cIik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZVJhbmRvbVJvb21Db25uZWN0aW9ucyA9IGZ1bmN0aW9uKGNvbm5lY3Rpb25zKSB7XG5cdC8vIEVtcHR5IGZvciBub3cuIFxufVxuXG5cblJPVC5NYXAuUm9ndWUucHJvdG90eXBlLl9jcmVhdGVSb29tcyA9IGZ1bmN0aW9uKCkge1xuXHQvLyBDcmVhdGUgUm9vbXMgXG5cdFxuXHR2YXIgdyA9IHRoaXMuX3dpZHRoO1xuXHR2YXIgaCA9IHRoaXMuX2hlaWdodDtcblx0XG5cdHZhciBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuXHR2YXIgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG5cdFxuXHR2YXIgY3dwID0gTWF0aC5mbG9vcih0aGlzLl93aWR0aCAvIGN3KTtcblx0dmFyIGNocCA9IE1hdGguZmxvb3IodGhpcy5faGVpZ2h0IC8gY2gpO1xuXHRcblx0dmFyIHJvb213O1xuXHR2YXIgcm9vbWg7XG5cdHZhciByb29tV2lkdGggPSB0aGlzLl9vcHRpb25zW1wicm9vbVdpZHRoXCJdO1xuXHR2YXIgcm9vbUhlaWdodCA9IHRoaXMuX29wdGlvbnNbXCJyb29tSGVpZ2h0XCJdO1xuXHR2YXIgc3g7XG5cdHZhciBzeTtcblx0dmFyIHR4O1xuXHR2YXIgdHk7XG5cdHZhciBvdGhlclJvb207XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGN3OyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNoOyBqKyspIHtcblx0XHRcdHN4ID0gY3dwICogaTtcblx0XHRcdHN5ID0gY2hwICogajtcblx0XHRcdFxuXHRcdFx0aWYgKHN4ID09IDApIHN4ID0gMTtcblx0XHRcdGlmIChzeSA9PSAwKSBzeSA9IDE7XG5cdFx0XHRcblx0XHRcdHJvb213ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KHJvb21XaWR0aFswXSwgcm9vbVdpZHRoWzFdKTtcblx0XHRcdHJvb21oID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KHJvb21IZWlnaHRbMF0sIHJvb21IZWlnaHRbMV0pO1xuXHRcdFx0XG5cdFx0XHRpZiAoaiA+IDApIHtcblx0XHRcdFx0b3RoZXJSb29tID0gdGhpcy5yb29tc1tpXVtqLTFdO1xuXHRcdFx0XHR3aGlsZSAoc3kgLSAob3RoZXJSb29tW1wieVwiXSArIG90aGVyUm9vbVtcImhlaWdodFwiXSApIDwgMykge1xuXHRcdFx0XHRcdHN5Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGkgPiAwKSB7XG5cdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbaS0xXVtqXTtcblx0XHRcdFx0d2hpbGUoc3ggLSAob3RoZXJSb29tW1wieFwiXSArIG90aGVyUm9vbVtcIndpZHRoXCJdKSA8IDMpIHtcblx0XHRcdFx0XHRzeCsrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHZhciBzeE9mZnNldCA9IE1hdGgucm91bmQoUk9ULlJORy5nZXRVbmlmb3JtSW50KDAsIGN3cC1yb29tdykvMik7XG5cdFx0XHR2YXIgc3lPZmZzZXQgPSBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0VW5pZm9ybUludCgwLCBjaHAtcm9vbWgpLzIpO1xuXHRcdFx0XG5cdFx0XHR3aGlsZSAoc3ggKyBzeE9mZnNldCArIHJvb213ID49IHcpIHtcblx0XHRcdFx0aWYoc3hPZmZzZXQpIHtcblx0XHRcdFx0XHRzeE9mZnNldC0tO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJvb213LS07IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHdoaWxlIChzeSArIHN5T2Zmc2V0ICsgcm9vbWggPj0gaCkgeyBcblx0XHRcdFx0aWYoc3lPZmZzZXQpIHtcblx0XHRcdFx0XHRzeU9mZnNldC0tO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJvb21oLS07IFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHN4ID0gc3ggKyBzeE9mZnNldDtcblx0XHRcdHN5ID0gc3kgKyBzeU9mZnNldDtcblx0XHRcdFxuXHRcdFx0dGhpcy5yb29tc1tpXVtqXVtcInhcIl0gPSBzeDtcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJ5XCJdID0gc3k7XG5cdFx0XHR0aGlzLnJvb21zW2ldW2pdW1wid2lkdGhcIl0gPSByb29tdztcblx0XHRcdHRoaXMucm9vbXNbaV1bal1bXCJoZWlnaHRcIl0gPSByb29taDsgIFxuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciBpaSA9IHN4OyBpaSA8IHN4ICsgcm9vbXc7IGlpKyspIHtcblx0XHRcdFx0Zm9yICh2YXIgamogPSBzeTsgamogPCBzeSArIHJvb21oOyBqaisrKSB7XG5cdFx0XHRcdFx0dGhpcy5tYXBbaWldW2pqXSA9IDA7XG5cdFx0XHRcdH1cblx0XHRcdH0gIFxuXHRcdH1cblx0fVxufVxuXG5ST1QuTWFwLlJvZ3VlLnByb3RvdHlwZS5fZ2V0V2FsbFBvc2l0aW9uID0gZnVuY3Rpb24oYVJvb20sIGFEaXJlY3Rpb24pIHtcblx0dmFyIHJ4O1xuXHR2YXIgcnk7XG5cdHZhciBkb29yO1xuXHRcblx0aWYgKGFEaXJlY3Rpb24gPT0gMSB8fCBhRGlyZWN0aW9uID09IDMpIHtcblx0XHRyeCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChhUm9vbVtcInhcIl0gKyAxLCBhUm9vbVtcInhcIl0gKyBhUm9vbVtcIndpZHRoXCJdIC0gMik7XG5cdFx0aWYgKGFEaXJlY3Rpb24gPT0gMSkge1xuXHRcdFx0cnkgPSBhUm9vbVtcInlcIl0gLSAyO1xuXHRcdFx0ZG9vciA9IHJ5ICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cnkgPSBhUm9vbVtcInlcIl0gKyBhUm9vbVtcImhlaWdodFwiXSArIDE7XG5cdFx0XHRkb29yID0gcnkgLTE7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMubWFwW3J4XVtkb29yXSA9IDA7IC8vIGknbSBub3Qgc2V0dGluZyBhIHNwZWNpZmljICdkb29yJyB0aWxlIHZhbHVlIHJpZ2h0IG5vdywganVzdCBlbXB0eSBzcGFjZS4gXG5cdFx0XG5cdH0gZWxzZSBpZiAoYURpcmVjdGlvbiA9PSAyIHx8IGFEaXJlY3Rpb24gPT0gNCkge1xuXHRcdHJ5ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KGFSb29tW1wieVwiXSArIDEsIGFSb29tW1wieVwiXSArIGFSb29tW1wiaGVpZ2h0XCJdIC0gMik7XG5cdFx0aWYoYURpcmVjdGlvbiA9PSAyKSB7XG5cdFx0XHRyeCA9IGFSb29tW1wieFwiXSArIGFSb29tW1wid2lkdGhcIl0gKyAxO1xuXHRcdFx0ZG9vciA9IHJ4IC0gMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cnggPSBhUm9vbVtcInhcIl0gLSAyO1xuXHRcdFx0ZG9vciA9IHJ4ICsgMTtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5tYXBbZG9vcl1bcnldID0gMDsgLy8gaSdtIG5vdCBzZXR0aW5nIGEgc3BlY2lmaWMgJ2Rvb3InIHRpbGUgdmFsdWUgcmlnaHQgbm93LCBqdXN0IGVtcHR5IHNwYWNlLiBcblx0XHRcblx0fVxuXHRyZXR1cm4gW3J4LCByeV07XG59XG5cbi8qKipcbiogQHBhcmFtIHN0YXJ0UG9zaXRpb24gYSAyIGVsZW1lbnQgYXJyYXlcbiogQHBhcmFtIGVuZFBvc2l0aW9uIGEgMiBlbGVtZW50IGFycmF5XG4qL1xuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2RyYXdDb3JyaWRvcmUgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbiwgZW5kUG9zaXRpb24pIHtcblx0dmFyIHhPZmZzZXQgPSBlbmRQb3NpdGlvblswXSAtIHN0YXJ0UG9zaXRpb25bMF07XG5cdHZhciB5T2Zmc2V0ID0gZW5kUG9zaXRpb25bMV0gLSBzdGFydFBvc2l0aW9uWzFdO1xuXHRcblx0dmFyIHhwb3MgPSBzdGFydFBvc2l0aW9uWzBdO1xuXHR2YXIgeXBvcyA9IHN0YXJ0UG9zaXRpb25bMV07XG5cdFxuXHR2YXIgdGVtcERpc3Q7XG5cdHZhciB4RGlyO1xuXHR2YXIgeURpcjtcblx0XG5cdHZhciBtb3ZlOyAvLyAyIGVsZW1lbnQgYXJyYXksIGVsZW1lbnQgMCBpcyB0aGUgZGlyZWN0aW9uLCBlbGVtZW50IDEgaXMgdGhlIHRvdGFsIHZhbHVlIHRvIG1vdmUuIFxuXHR2YXIgbW92ZXMgPSBbXTsgLy8gYSBsaXN0IG9mIDIgZWxlbWVudCBhcnJheXNcblx0XG5cdHZhciB4QWJzID0gTWF0aC5hYnMoeE9mZnNldCk7XG5cdHZhciB5QWJzID0gTWF0aC5hYnMoeU9mZnNldCk7XG5cdFxuXHR2YXIgcGVyY2VudCA9IFJPVC5STkcuZ2V0VW5pZm9ybSgpOyAvLyB1c2VkIHRvIHNwbGl0IHRoZSBtb3ZlIGF0IGRpZmZlcmVudCBwbGFjZXMgYWxvbmcgdGhlIGxvbmcgYXhpc1xuXHR2YXIgZmlyc3RIYWxmID0gcGVyY2VudDtcblx0dmFyIHNlY29uZEhhbGYgPSAxIC0gcGVyY2VudDtcblx0XG5cdHhEaXIgPSB4T2Zmc2V0ID4gMCA/IDIgOiA2O1xuXHR5RGlyID0geU9mZnNldCA+IDAgPyA0IDogMDtcblx0XG5cdGlmICh4QWJzIDwgeUFicykge1xuXHRcdC8vIG1vdmUgZmlyc3RIYWxmIG9mIHRoZSB5IG9mZnNldFxuXHRcdHRlbXBEaXN0ID0gTWF0aC5jZWlsKHlBYnMgKiBmaXJzdEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3lEaXIsIHRlbXBEaXN0XSk7XG5cdFx0Ly8gbW92ZSBhbGwgdGhlIHggb2Zmc2V0XG5cdFx0bW92ZXMucHVzaChbeERpciwgeEFic10pO1xuXHRcdC8vIG1vdmUgc2VuZEhhbGYgb2YgdGhlICB5IG9mZnNldFxuXHRcdHRlbXBEaXN0ID0gTWF0aC5mbG9vcih5QWJzICogc2Vjb25kSGFsZik7XG5cdFx0bW92ZXMucHVzaChbeURpciwgdGVtcERpc3RdKTtcblx0fSBlbHNlIHtcblx0XHQvLyAgbW92ZSBmaXJzdEhhbGYgb2YgdGhlIHggb2Zmc2V0XG5cdFx0dGVtcERpc3QgPSBNYXRoLmNlaWwoeEFicyAqIGZpcnN0SGFsZik7XG5cdFx0bW92ZXMucHVzaChbeERpciwgdGVtcERpc3RdKTtcblx0XHQvLyBtb3ZlIGFsbCB0aGUgeSBvZmZzZXRcblx0XHRtb3Zlcy5wdXNoKFt5RGlyLCB5QWJzXSk7XG5cdFx0Ly8gbW92ZSBzZWNvbmRIYWxmIG9mIHRoZSB4IG9mZnNldC5cblx0XHR0ZW1wRGlzdCA9IE1hdGguZmxvb3IoeEFicyAqIHNlY29uZEhhbGYpO1xuXHRcdG1vdmVzLnB1c2goW3hEaXIsIHRlbXBEaXN0XSk7ICBcblx0fVxuXHRcblx0dGhpcy5tYXBbeHBvc11beXBvc10gPSAwO1xuXHRcblx0d2hpbGUgKG1vdmVzLmxlbmd0aCA+IDApIHtcblx0XHRtb3ZlID0gbW92ZXMucG9wKCk7XG5cdFx0d2hpbGUgKG1vdmVbMV0gPiAwKSB7XG5cdFx0XHR4cG9zICs9IFJPVC5ESVJTWzhdW21vdmVbMF1dWzBdO1xuXHRcdFx0eXBvcyArPSBST1QuRElSU1s4XVttb3ZlWzBdXVsxXTtcblx0XHRcdHRoaXMubWFwW3hwb3NdW3lwb3NdID0gMDtcblx0XHRcdG1vdmVbMV0gPSBtb3ZlWzFdIC0gMTtcblx0XHR9XG5cdH1cbn1cblxuUk9ULk1hcC5Sb2d1ZS5wcm90b3R5cGUuX2NyZWF0ZUNvcnJpZG9ycyA9IGZ1bmN0aW9uICgpIHtcblx0Ly8gRHJhdyBDb3JyaWRvcnMgYmV0d2VlbiBjb25uZWN0ZWQgcm9vbXNcblx0XG5cdHZhciBjdyA9IHRoaXMuX29wdGlvbnMuY2VsbFdpZHRoO1xuXHR2YXIgY2ggPSB0aGlzLl9vcHRpb25zLmNlbGxIZWlnaHQ7XG5cdHZhciByb29tO1xuXHR2YXIgY29ubmVjdGlvbjtcblx0dmFyIG90aGVyUm9vbTtcblx0dmFyIHdhbGw7XG5cdHZhciBvdGhlcldhbGw7XG5cdFxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGN3OyBpKyspIHtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNoOyBqKyspIHtcblx0XHRcdHJvb20gPSB0aGlzLnJvb21zW2ldW2pdO1xuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciBrID0gMDsgayA8IHJvb21bXCJjb25uZWN0aW9uc1wiXS5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRjb25uZWN0aW9uID0gcm9vbVtcImNvbm5lY3Rpb25zXCJdW2tdOyBcblx0XHRcdFx0XG5cdFx0XHRcdG90aGVyUm9vbSA9IHRoaXMucm9vbXNbY29ubmVjdGlvblswXV1bY29ubmVjdGlvblsxXV07XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBmaWd1cmUgb3V0IHdoYXQgd2FsbCBvdXIgY29ycmlkb3Igd2lsbCBzdGFydCBvbmUuXG5cdFx0XHRcdC8vIGZpZ3VyZSBvdXQgd2hhdCB3YWxsIG91ciBjb3JyaWRvciB3aWxsIGVuZCBvbi4gXG5cdFx0XHRcdGlmIChvdGhlclJvb21bXCJjZWxseFwiXSA+IHJvb21bXCJjZWxseFwiXSApIHtcblx0XHRcdFx0XHR3YWxsID0gMjtcblx0XHRcdFx0XHRvdGhlcldhbGwgPSA0O1xuXHRcdFx0XHR9IGVsc2UgaWYgKG90aGVyUm9vbVtcImNlbGx4XCJdIDwgcm9vbVtcImNlbGx4XCJdICkge1xuXHRcdFx0XHRcdHdhbGwgPSA0O1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDI7XG5cdFx0XHRcdH0gZWxzZSBpZihvdGhlclJvb21bXCJjZWxseVwiXSA+IHJvb21bXCJjZWxseVwiXSkge1xuXHRcdFx0XHRcdHdhbGwgPSAzO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDE7XG5cdFx0XHRcdH0gZWxzZSBpZihvdGhlclJvb21bXCJjZWxseVwiXSA8IHJvb21bXCJjZWxseVwiXSkge1xuXHRcdFx0XHRcdHdhbGwgPSAxO1xuXHRcdFx0XHRcdG90aGVyV2FsbCA9IDM7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdHRoaXMuX2RyYXdDb3JyaWRvcmUodGhpcy5fZ2V0V2FsbFBvc2l0aW9uKHJvb20sIHdhbGwpLCB0aGlzLl9nZXRXYWxsUG9zaXRpb24ob3RoZXJSb29tLCBvdGhlcldhbGwpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbi8qKlxuICogQGNsYXNzIER1bmdlb24gZmVhdHVyZTsgaGFzIG93biAuY3JlYXRlKCkgbWV0aG9kXG4gKi9cblJPVC5NYXAuRmVhdHVyZSA9IGZ1bmN0aW9uKCkge31cblJPVC5NYXAuRmVhdHVyZS5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGNhbkJlRHVnQ2FsbGJhY2spIHt9XG5ST1QuTWFwLkZlYXR1cmUucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7fVxuUk9ULk1hcC5GZWF0dXJlLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uKCkge31cblJPVC5NYXAuRmVhdHVyZS5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge31cblxuLyoqXG4gKiBAY2xhc3MgUm9vbVxuICogQGF1Z21lbnRzIFJPVC5NYXAuRmVhdHVyZVxuICogQHBhcmFtIHtpbnR9IHgxXG4gKiBAcGFyYW0ge2ludH0geTFcbiAqIEBwYXJhbSB7aW50fSB4MlxuICogQHBhcmFtIHtpbnR9IHkyXG4gKiBAcGFyYW0ge2ludH0gW2Rvb3JYXVxuICogQHBhcmFtIHtpbnR9IFtkb29yWV1cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20gPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgZG9vclgsIGRvb3JZKSB7XG5cdHRoaXMuX3gxID0geDE7XG5cdHRoaXMuX3kxID0geTE7XG5cdHRoaXMuX3gyID0geDI7XG5cdHRoaXMuX3kyID0geTI7XG5cdHRoaXMuX2Rvb3JzID0ge307XG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gNCkgeyB0aGlzLmFkZERvb3IoZG9vclgsIGRvb3JZKTsgfVxufVxuUk9ULk1hcC5GZWF0dXJlLlJvb20uZXh0ZW5kKFJPVC5NYXAuRmVhdHVyZSk7XG5cbi8qKlxuICogUm9vbSBvZiByYW5kb20gc2l6ZSwgd2l0aCBhIGdpdmVuIGRvb3JzIGFuZCBkaXJlY3Rpb25cbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tQXQgPSBmdW5jdGlvbih4LCB5LCBkeCwgZHksIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdGlmIChkeCA9PSAxKSB7IC8qIHRvIHRoZSByaWdodCAqL1xuXHRcdHZhciB5MiA9IHkgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpICogaGVpZ2h0KTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeCsxLCB5MiwgeCt3aWR0aCwgeTIraGVpZ2h0LTEsIHgsIHkpO1xuXHR9XG5cdFxuXHRpZiAoZHggPT0gLTEpIHsgLyogdG8gdGhlIGxlZnQgKi9cblx0XHR2YXIgeTIgPSB5IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIGhlaWdodCk7XG5cdFx0cmV0dXJuIG5ldyB0aGlzKHgtd2lkdGgsIHkyLCB4LTEsIHkyK2hlaWdodC0xLCB4LCB5KTtcblx0fVxuXG5cdGlmIChkeSA9PSAxKSB7IC8qIHRvIHRoZSBib3R0b20gKi9cblx0XHR2YXIgeDIgPSB4IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeDIsIHkrMSwgeDIrd2lkdGgtMSwgeStoZWlnaHQsIHgsIHkpO1xuXHR9XG5cblx0aWYgKGR5ID09IC0xKSB7IC8qIHRvIHRoZSB0b3AgKi9cblx0XHR2YXIgeDIgPSB4IC0gTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSAqIHdpZHRoKTtcblx0XHRyZXR1cm4gbmV3IHRoaXMoeDIsIHktaGVpZ2h0LCB4Mit3aWR0aC0xLCB5LTEsIHgsIHkpO1xuXHR9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZHggb3IgZHkgbXVzdCBiZSAxIG9yIC0xXCIpO1xufVxuXG4vKipcbiAqIFJvb20gb2YgcmFuZG9tIHNpemUsIHBvc2l0aW9uZWQgYXJvdW5kIGNlbnRlciBjb29yZHNcbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tQ2VudGVyID0gZnVuY3Rpb24oY3gsIGN5LCBvcHRpb25zKSB7XG5cdHZhciBtaW4gPSBvcHRpb25zLnJvb21XaWR0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbVdpZHRoWzFdO1xuXHR2YXIgd2lkdGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbUhlaWdodFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMucm9vbUhlaWdodFsxXTtcblx0dmFyIGhlaWdodCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cblx0dmFyIHgxID0gY3ggLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKndpZHRoKTtcblx0dmFyIHkxID0gY3kgLSBNYXRoLmZsb29yKFJPVC5STkcuZ2V0VW5pZm9ybSgpKmhlaWdodCk7XG5cdHZhciB4MiA9IHgxICsgd2lkdGggLSAxO1xuXHR2YXIgeTIgPSB5MSArIGhlaWdodCAtIDE7XG5cblx0cmV0dXJuIG5ldyB0aGlzKHgxLCB5MSwgeDIsIHkyKTtcbn1cblxuLyoqXG4gKiBSb29tIG9mIHJhbmRvbSBzaXplIHdpdGhpbiBhIGdpdmVuIGRpbWVuc2lvbnNcbiAqL1xuUk9ULk1hcC5GZWF0dXJlLlJvb20uY3JlYXRlUmFuZG9tID0gZnVuY3Rpb24oYXZhaWxXaWR0aCwgYXZhaWxIZWlnaHQsIG9wdGlvbnMpIHtcblx0dmFyIG1pbiA9IG9wdGlvbnMucm9vbVdpZHRoWzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tV2lkdGhbMV07XG5cdHZhciB3aWR0aCA9IFJPVC5STkcuZ2V0VW5pZm9ybUludChtaW4sIG1heCk7XG5cdFxuXHR2YXIgbWluID0gb3B0aW9ucy5yb29tSGVpZ2h0WzBdO1xuXHR2YXIgbWF4ID0gb3B0aW9ucy5yb29tSGVpZ2h0WzFdO1xuXHR2YXIgaGVpZ2h0ID0gUk9ULlJORy5nZXRVbmlmb3JtSW50KG1pbiwgbWF4KTtcblx0XG5cdHZhciBsZWZ0ID0gYXZhaWxXaWR0aCAtIHdpZHRoIC0gMTtcblx0dmFyIHRvcCA9IGF2YWlsSGVpZ2h0IC0gaGVpZ2h0IC0gMTtcblxuXHR2YXIgeDEgPSAxICsgTWF0aC5mbG9vcihST1QuUk5HLmdldFVuaWZvcm0oKSpsZWZ0KTtcblx0dmFyIHkxID0gMSArIE1hdGguZmxvb3IoUk9ULlJORy5nZXRVbmlmb3JtKCkqdG9wKTtcblx0dmFyIHgyID0geDEgKyB3aWR0aCAtIDE7XG5cdHZhciB5MiA9IHkxICsgaGVpZ2h0IC0gMTtcblxuXHRyZXR1cm4gbmV3IHRoaXMoeDEsIHkxLCB4MiwgeTIpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuYWRkRG9vciA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dGhpcy5fZG9vcnNbeCtcIixcIit5XSA9IDE7XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259XG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXREb29ycyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGZvciAodmFyIGtleSBpbiB0aGlzLl9kb29ycykge1xuXHRcdHZhciBwYXJ0cyA9IGtleS5zcGxpdChcIixcIik7XG5cdFx0Y2FsbGJhY2socGFyc2VJbnQocGFydHNbMF0pLCBwYXJzZUludChwYXJ0c1sxXSkpO1xuXHR9XG5cdHJldHVybiB0aGlzO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuY2xlYXJEb29ycyA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9kb29ycyA9IHt9O1xuXHRyZXR1cm4gdGhpcztcbn1cblxuUk9ULk1hcC5GZWF0dXJlLlJvb20ucHJvdG90eXBlLmFkZERvb3JzID0gZnVuY3Rpb24oaXNXYWxsQ2FsbGJhY2spIHtcblx0dmFyIGxlZnQgPSB0aGlzLl94MS0xO1xuXHR2YXIgcmlnaHQgPSB0aGlzLl94MisxO1xuXHR2YXIgdG9wID0gdGhpcy5feTEtMTtcblx0dmFyIGJvdHRvbSA9IHRoaXMuX3kyKzE7XG5cblx0Zm9yICh2YXIgeD1sZWZ0OyB4PD1yaWdodDsgeCsrKSB7XG5cdFx0Zm9yICh2YXIgeT10b3A7IHk8PWJvdHRvbTsgeSsrKSB7XG5cdFx0XHRpZiAoeCAhPSBsZWZ0ICYmIHggIT0gcmlnaHQgJiYgeSAhPSB0b3AgJiYgeSAhPSBib3R0b20pIHsgY29udGludWU7IH1cblx0XHRcdGlmIChpc1dhbGxDYWxsYmFjayh4LCB5KSkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHR0aGlzLmFkZERvb3IoeCwgeSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRoaXM7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uKCkge1xuXHRjb25zb2xlLmxvZyhcInJvb21cIiwgdGhpcy5feDEsIHRoaXMuX3kxLCB0aGlzLl94MiwgdGhpcy5feTIpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuaXNWYWxpZCA9IGZ1bmN0aW9uKGlzV2FsbENhbGxiYWNrLCBjYW5CZUR1Z0NhbGxiYWNrKSB7IFxuXHR2YXIgbGVmdCA9IHRoaXMuX3gxLTE7XG5cdHZhciByaWdodCA9IHRoaXMuX3gyKzE7XG5cdHZhciB0b3AgPSB0aGlzLl95MS0xO1xuXHR2YXIgYm90dG9tID0gdGhpcy5feTIrMTtcblx0XG5cdGZvciAodmFyIHg9bGVmdDsgeDw9cmlnaHQ7IHgrKykge1xuXHRcdGZvciAodmFyIHk9dG9wOyB5PD1ib3R0b207IHkrKykge1xuXHRcdFx0aWYgKHggPT0gbGVmdCB8fCB4ID09IHJpZ2h0IHx8IHkgPT0gdG9wIHx8IHkgPT0gYm90dG9tKSB7XG5cdFx0XHRcdGlmICghaXNXYWxsQ2FsbGJhY2soeCwgeSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIWNhbkJlRHVnQ2FsbGJhY2soeCwgeSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gZGlnQ2FsbGJhY2sgRGlnIGNhbGxiYWNrIHdpdGggYSBzaWduYXR1cmUgKHgsIHksIHZhbHVlKS4gVmFsdWVzOiAwID0gZW1wdHksIDEgPSB3YWxsLCAyID0gZG9vci4gTXVsdGlwbGUgZG9vcnMgYXJlIGFsbG93ZWQuXG4gKi9cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihkaWdDYWxsYmFjaykgeyBcblx0dmFyIGxlZnQgPSB0aGlzLl94MS0xO1xuXHR2YXIgcmlnaHQgPSB0aGlzLl94MisxO1xuXHR2YXIgdG9wID0gdGhpcy5feTEtMTtcblx0dmFyIGJvdHRvbSA9IHRoaXMuX3kyKzE7XG5cdFxuXHR2YXIgdmFsdWUgPSAwO1xuXHRmb3IgKHZhciB4PWxlZnQ7IHg8PXJpZ2h0OyB4KyspIHtcblx0XHRmb3IgKHZhciB5PXRvcDsgeTw9Ym90dG9tOyB5KyspIHtcblx0XHRcdGlmICh4K1wiLFwiK3kgaW4gdGhpcy5fZG9vcnMpIHtcblx0XHRcdFx0dmFsdWUgPSAyO1xuXHRcdFx0fSBlbHNlIGlmICh4ID09IGxlZnQgfHwgeCA9PSByaWdodCB8fCB5ID09IHRvcCB8fCB5ID09IGJvdHRvbSkge1xuXHRcdFx0XHR2YWx1ZSA9IDE7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWx1ZSA9IDA7XG5cdFx0XHR9XG5cdFx0XHRkaWdDYWxsYmFjayh4LCB5LCB2YWx1ZSk7XG5cdFx0fVxuXHR9XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRDZW50ZXIgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIFtNYXRoLnJvdW5kKCh0aGlzLl94MSArIHRoaXMuX3gyKS8yKSwgTWF0aC5yb3VuZCgodGhpcy5feTEgKyB0aGlzLl95MikvMildO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0TGVmdCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feDE7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRSaWdodCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcy5feDI7XG59XG5cblJPVC5NYXAuRmVhdHVyZS5Sb29tLnByb3RvdHlwZS5nZXRUb3AgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMuX3kxO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuUm9vbS5wcm90b3R5cGUuZ2V0Qm90dG9tID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzLl95Mjtcbn1cblxuLyoqXG4gKiBAY2xhc3MgQ29ycmlkb3JcbiAqIEBhdWdtZW50cyBST1QuTWFwLkZlYXR1cmVcbiAqIEBwYXJhbSB7aW50fSBzdGFydFhcbiAqIEBwYXJhbSB7aW50fSBzdGFydFlcbiAqIEBwYXJhbSB7aW50fSBlbmRYXG4gKiBAcGFyYW0ge2ludH0gZW5kWVxuICovXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IgPSBmdW5jdGlvbihzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuXHR0aGlzLl9zdGFydFggPSBzdGFydFg7XG5cdHRoaXMuX3N0YXJ0WSA9IHN0YXJ0WTtcblx0dGhpcy5fZW5kWCA9IGVuZFg7IFxuXHR0aGlzLl9lbmRZID0gZW5kWTtcblx0dGhpcy5fZW5kc1dpdGhBV2FsbCA9IHRydWU7XG59XG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IuZXh0ZW5kKFJPVC5NYXAuRmVhdHVyZSk7XG5cblJPVC5NYXAuRmVhdHVyZS5Db3JyaWRvci5jcmVhdGVSYW5kb21BdCA9IGZ1bmN0aW9uKHgsIHksIGR4LCBkeSwgb3B0aW9ucykge1xuXHR2YXIgbWluID0gb3B0aW9ucy5jb3JyaWRvckxlbmd0aFswXTtcblx0dmFyIG1heCA9IG9wdGlvbnMuY29ycmlkb3JMZW5ndGhbMV07XG5cdHZhciBsZW5ndGggPSBST1QuUk5HLmdldFVuaWZvcm1JbnQobWluLCBtYXgpO1xuXHRcblx0cmV0dXJuIG5ldyB0aGlzKHgsIHksIHggKyBkeCpsZW5ndGgsIHkgKyBkeSpsZW5ndGgpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKFwiY29ycmlkb3JcIiwgdGhpcy5fc3RhcnRYLCB0aGlzLl9zdGFydFksIHRoaXMuX2VuZFgsIHRoaXMuX2VuZFkpO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmlzVmFsaWQgPSBmdW5jdGlvbihpc1dhbGxDYWxsYmFjaywgY2FuQmVEdWdDYWxsYmFjayl7IFxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0dmFyIGxlbmd0aCA9IDEgKyBNYXRoLm1heChNYXRoLmFicyhkeCksIE1hdGguYWJzKGR5KSk7XG5cdFxuXHRpZiAoZHgpIHsgZHggPSBkeC9NYXRoLmFicyhkeCk7IH1cblx0aWYgKGR5KSB7IGR5ID0gZHkvTWF0aC5hYnMoZHkpOyB9XG5cdHZhciBueCA9IGR5O1xuXHR2YXIgbnkgPSAtZHg7XG5cdFxuXHR2YXIgb2sgPSB0cnVlO1xuXHRmb3IgKHZhciBpPTA7IGk8bGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgeCA9IHN4ICsgaSpkeDtcblx0XHR2YXIgeSA9IHN5ICsgaSpkeTtcblxuXHRcdGlmICghY2FuQmVEdWdDYWxsYmFjayggICAgIHgsICAgICAgeSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdGlmICghaXNXYWxsQ2FsbGJhY2sgICh4ICsgbngsIHkgKyBueSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdGlmICghaXNXYWxsQ2FsbGJhY2sgICh4IC0gbngsIHkgLSBueSkpIHsgb2sgPSBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmICghb2spIHtcblx0XHRcdGxlbmd0aCA9IGk7XG5cdFx0XHR0aGlzLl9lbmRYID0geC1keDtcblx0XHRcdHRoaXMuX2VuZFkgPSB5LWR5O1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogSWYgdGhlIGxlbmd0aCBkZWdlbmVyYXRlZCwgdGhpcyBjb3JyaWRvciBtaWdodCBiZSBpbnZhbGlkXG5cdCAqL1xuXHQgXG5cdC8qIG5vdCBzdXBwb3J0ZWQgKi9cblx0aWYgKGxlbmd0aCA9PSAwKSB7IHJldHVybiBmYWxzZTsgfSBcblx0XG5cdCAvKiBsZW5ndGggMSBhbGxvd2VkIG9ubHkgaWYgdGhlIG5leHQgc3BhY2UgaXMgZW1wdHkgKi9cblx0aWYgKGxlbmd0aCA9PSAxICYmIGlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KSkgeyByZXR1cm4gZmFsc2U7IH1cblx0XG5cdC8qKlxuXHQgKiBXZSBkbyBub3Qgd2FudCB0aGUgY29ycmlkb3IgdG8gY3Jhc2ggaW50byBhIGNvcm5lciBvZiBhIHJvb207XG5cdCAqIGlmIGFueSBvZiB0aGUgZW5kaW5nIGNvcm5lcnMgaXMgZW1wdHksIHRoZSBOKzF0aCBjZWxsIG9mIHRoaXMgY29ycmlkb3IgbXVzdCBiZSBlbXB0eSB0b28uXG5cdCAqIFxuXHQgKiBTaXR1YXRpb246XG5cdCAqICMjIyMjIyMxXG5cdCAqIC4uLi4uLi4/XG5cdCAqICMjIyMjIyMyXG5cdCAqIFxuXHQgKiBUaGUgY29ycmlkb3Igd2FzIGR1ZyBmcm9tIGxlZnQgdG8gcmlnaHQuXG5cdCAqIDEsIDIgLSBwcm9ibGVtYXRpYyBjb3JuZXJzLCA/ID0gTisxdGggY2VsbCAobm90IGR1Zylcblx0ICovXG5cdHZhciBmaXJzdENvcm5lckJhZCA9ICFpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHggKyBueCwgdGhpcy5fZW5kWSArIGR5ICsgbnkpO1xuXHR2YXIgc2Vjb25kQ29ybmVyQmFkID0gIWlzV2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCAtIG54LCB0aGlzLl9lbmRZICsgZHkgLSBueSk7XG5cdHRoaXMuX2VuZHNXaXRoQVdhbGwgPSBpc1dhbGxDYWxsYmFjayh0aGlzLl9lbmRYICsgZHgsIHRoaXMuX2VuZFkgKyBkeSk7XG5cdGlmICgoZmlyc3RDb3JuZXJCYWQgfHwgc2Vjb25kQ29ybmVyQmFkKSAmJiB0aGlzLl9lbmRzV2l0aEFXYWxsKSB7IHJldHVybiBmYWxzZTsgfVxuXG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpZ0NhbGxiYWNrIERpZyBjYWxsYmFjayB3aXRoIGEgc2lnbmF0dXJlICh4LCB5LCB2YWx1ZSkuIFZhbHVlczogMCA9IGVtcHR5LlxuICovXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKGRpZ0NhbGxiYWNrKSB7IFxuXHR2YXIgc3ggPSB0aGlzLl9zdGFydFg7XG5cdHZhciBzeSA9IHRoaXMuX3N0YXJ0WTtcblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0dmFyIGxlbmd0aCA9IDErTWF0aC5tYXgoTWF0aC5hYnMoZHgpLCBNYXRoLmFicyhkeSkpO1xuXHRcblx0aWYgKGR4KSB7IGR4ID0gZHgvTWF0aC5hYnMoZHgpOyB9XG5cdGlmIChkeSkgeyBkeSA9IGR5L01hdGguYWJzKGR5KTsgfVxuXHR2YXIgbnggPSBkeTtcblx0dmFyIG55ID0gLWR4O1xuXHRcblx0Zm9yICh2YXIgaT0wOyBpPGxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIHggPSBzeCArIGkqZHg7XG5cdFx0dmFyIHkgPSBzeSArIGkqZHk7XG5cdFx0ZGlnQ2FsbGJhY2soeCwgeSwgMCk7XG5cdH1cblx0XG5cdHJldHVybiB0cnVlO1xufVxuXG5ST1QuTWFwLkZlYXR1cmUuQ29ycmlkb3IucHJvdG90eXBlLmNyZWF0ZVByaW9yaXR5V2FsbHMgPSBmdW5jdGlvbihwcmlvcml0eVdhbGxDYWxsYmFjaykge1xuXHRpZiAoIXRoaXMuX2VuZHNXaXRoQVdhbGwpIHsgcmV0dXJuOyB9XG5cblx0dmFyIHN4ID0gdGhpcy5fc3RhcnRYO1xuXHR2YXIgc3kgPSB0aGlzLl9zdGFydFk7XG5cblx0dmFyIGR4ID0gdGhpcy5fZW5kWC1zeDtcblx0dmFyIGR5ID0gdGhpcy5fZW5kWS1zeTtcblx0aWYgKGR4KSB7IGR4ID0gZHgvTWF0aC5hYnMoZHgpOyB9XG5cdGlmIChkeSkgeyBkeSA9IGR5L01hdGguYWJzKGR5KTsgfVxuXHR2YXIgbnggPSBkeTtcblx0dmFyIG55ID0gLWR4O1xuXG5cdHByaW9yaXR5V2FsbENhbGxiYWNrKHRoaXMuX2VuZFggKyBkeCwgdGhpcy5fZW5kWSArIGR5KTtcblx0cHJpb3JpdHlXYWxsQ2FsbGJhY2sodGhpcy5fZW5kWCArIG54LCB0aGlzLl9lbmRZICsgbnkpO1xuXHRwcmlvcml0eVdhbGxDYWxsYmFjayh0aGlzLl9lbmRYIC0gbngsIHRoaXMuX2VuZFkgLSBueSk7XG59XG4vKipcbiAqIEBjbGFzcyBCYXNlIG5vaXNlIGdlbmVyYXRvclxuICovXG5ST1QuTm9pc2UgPSBmdW5jdGlvbigpIHtcbn07XG5cblJPVC5Ob2lzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oeCwgeSkge31cbi8qKlxuICogQSBzaW1wbGUgMmQgaW1wbGVtZW50YXRpb24gb2Ygc2ltcGxleCBub2lzZSBieSBPbmRyZWogWmFyYVxuICpcbiAqIEJhc2VkIG9uIGEgc3BlZWQtaW1wcm92ZWQgc2ltcGxleCBub2lzZSBhbGdvcml0aG0gZm9yIDJELCAzRCBhbmQgNEQgaW4gSmF2YS5cbiAqIFdoaWNoIGlzIGJhc2VkIG9uIGV4YW1wbGUgY29kZSBieSBTdGVmYW4gR3VzdGF2c29uIChzdGVndUBpdG4ubGl1LnNlKS5cbiAqIFdpdGggT3B0aW1pc2F0aW9ucyBieSBQZXRlciBFYXN0bWFuIChwZWFzdG1hbkBkcml6emxlLnN0YW5mb3JkLmVkdSkuXG4gKiBCZXR0ZXIgcmFuayBvcmRlcmluZyBtZXRob2QgYnkgU3RlZmFuIEd1c3RhdnNvbiBpbiAyMDEyLlxuICovXG5cbi8qKlxuICogQGNsYXNzIDJEIHNpbXBsZXggbm9pc2UgZ2VuZXJhdG9yXG4gKiBAcGFyYW0ge2ludH0gW2dyYWRpZW50cz0yNTZdIFJhbmRvbSBncmFkaWVudHNcbiAqL1xuUk9ULk5vaXNlLlNpbXBsZXggPSBmdW5jdGlvbihncmFkaWVudHMpIHtcblx0Uk9ULk5vaXNlLmNhbGwodGhpcyk7XG5cblx0dGhpcy5fRjIgPSAwLjUgKiAoTWF0aC5zcXJ0KDMpIC0gMSk7XG5cdHRoaXMuX0cyID0gKDMgLSBNYXRoLnNxcnQoMykpIC8gNjtcblxuXHR0aGlzLl9ncmFkaWVudHMgPSBbXG5cdFx0WyAwLCAtMV0sXG5cdFx0WyAxLCAtMV0sXG5cdFx0WyAxLCAgMF0sXG5cdFx0WyAxLCAgMV0sXG5cdFx0WyAwLCAgMV0sXG5cdFx0Wy0xLCAgMV0sXG5cdFx0Wy0xLCAgMF0sXG5cdFx0Wy0xLCAtMV1cblx0XTtcblxuXHR2YXIgcGVybXV0YXRpb25zID0gW107XG5cdHZhciBjb3VudCA9IGdyYWRpZW50cyB8fCAyNTY7XG5cdGZvciAodmFyIGk9MDtpPGNvdW50O2krKykgeyBwZXJtdXRhdGlvbnMucHVzaChpKTsgfVxuXHRwZXJtdXRhdGlvbnMgPSBwZXJtdXRhdGlvbnMucmFuZG9taXplKCk7XG5cblx0dGhpcy5fcGVybXMgPSBbXTtcblx0dGhpcy5faW5kZXhlcyA9IFtdO1xuXG5cdGZvciAodmFyIGk9MDtpPDIqY291bnQ7aSsrKSB7XG5cdFx0dGhpcy5fcGVybXMucHVzaChwZXJtdXRhdGlvbnNbaSAlIGNvdW50XSk7XG5cdFx0dGhpcy5faW5kZXhlcy5wdXNoKHRoaXMuX3Blcm1zW2ldICUgdGhpcy5fZ3JhZGllbnRzLmxlbmd0aCk7XG5cdH1cblxufTtcblJPVC5Ob2lzZS5TaW1wbGV4LmV4dGVuZChST1QuTm9pc2UpO1xuXG5ST1QuTm9pc2UuU2ltcGxleC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oeGluLCB5aW4pIHtcblx0dmFyIHBlcm1zID0gdGhpcy5fcGVybXM7XG5cdHZhciBpbmRleGVzID0gdGhpcy5faW5kZXhlcztcblx0dmFyIGNvdW50ID0gcGVybXMubGVuZ3RoLzI7XG5cdHZhciBHMiA9IHRoaXMuX0cyO1xuXG5cdHZhciBuMCA9MCwgbjEgPSAwLCBuMiA9IDAsIGdpOyAvLyBOb2lzZSBjb250cmlidXRpb25zIGZyb20gdGhlIHRocmVlIGNvcm5lcnNcblxuXHQvLyBTa2V3IHRoZSBpbnB1dCBzcGFjZSB0byBkZXRlcm1pbmUgd2hpY2ggc2ltcGxleCBjZWxsIHdlJ3JlIGluXG5cdHZhciBzID0gKHhpbiArIHlpbikgKiB0aGlzLl9GMjsgLy8gSGFpcnkgZmFjdG9yIGZvciAyRFxuXHR2YXIgaSA9IE1hdGguZmxvb3IoeGluICsgcyk7XG5cdHZhciBqID0gTWF0aC5mbG9vcih5aW4gKyBzKTtcblx0dmFyIHQgPSAoaSArIGopICogRzI7XG5cdHZhciBYMCA9IGkgLSB0OyAvLyBVbnNrZXcgdGhlIGNlbGwgb3JpZ2luIGJhY2sgdG8gKHgseSkgc3BhY2Vcblx0dmFyIFkwID0gaiAtIHQ7XG5cdHZhciB4MCA9IHhpbiAtIFgwOyAvLyBUaGUgeCx5IGRpc3RhbmNlcyBmcm9tIHRoZSBjZWxsIG9yaWdpblxuXHR2YXIgeTAgPSB5aW4gLSBZMDtcblxuXHQvLyBGb3IgdGhlIDJEIGNhc2UsIHRoZSBzaW1wbGV4IHNoYXBlIGlzIGFuIGVxdWlsYXRlcmFsIHRyaWFuZ2xlLlxuXHQvLyBEZXRlcm1pbmUgd2hpY2ggc2ltcGxleCB3ZSBhcmUgaW4uXG5cdHZhciBpMSwgajE7IC8vIE9mZnNldHMgZm9yIHNlY29uZCAobWlkZGxlKSBjb3JuZXIgb2Ygc2ltcGxleCBpbiAoaSxqKSBjb29yZHNcblx0aWYgKHgwID4geTApIHtcblx0XHRpMSA9IDE7XG5cdFx0ajEgPSAwO1xuXHR9IGVsc2UgeyAvLyBsb3dlciB0cmlhbmdsZSwgWFkgb3JkZXI6ICgwLDApLT4oMSwwKS0+KDEsMSlcblx0XHRpMSA9IDA7XG5cdFx0ajEgPSAxO1xuXHR9IC8vIHVwcGVyIHRyaWFuZ2xlLCBZWCBvcmRlcjogKDAsMCktPigwLDEpLT4oMSwxKVxuXG5cdC8vIEEgc3RlcCBvZiAoMSwwKSBpbiAoaSxqKSBtZWFucyBhIHN0ZXAgb2YgKDEtYywtYykgaW4gKHgseSksIGFuZFxuXHQvLyBhIHN0ZXAgb2YgKDAsMSkgaW4gKGksaikgbWVhbnMgYSBzdGVwIG9mICgtYywxLWMpIGluICh4LHkpLCB3aGVyZVxuXHQvLyBjID0gKDMtc3FydCgzKSkvNlxuXHR2YXIgeDEgPSB4MCAtIGkxICsgRzI7IC8vIE9mZnNldHMgZm9yIG1pZGRsZSBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG5cdHZhciB5MSA9IHkwIC0gajEgKyBHMjtcblx0dmFyIHgyID0geDAgLSAxICsgMipHMjsgLy8gT2Zmc2V0cyBmb3IgbGFzdCBjb3JuZXIgaW4gKHgseSkgdW5za2V3ZWQgY29vcmRzXG5cdHZhciB5MiA9IHkwIC0gMSArIDIqRzI7XG5cblx0Ly8gV29yayBvdXQgdGhlIGhhc2hlZCBncmFkaWVudCBpbmRpY2VzIG9mIHRoZSB0aHJlZSBzaW1wbGV4IGNvcm5lcnNcblx0dmFyIGlpID0gaS5tb2QoY291bnQpO1xuXHR2YXIgamogPSBqLm1vZChjb3VudCk7XG5cblx0Ly8gQ2FsY3VsYXRlIHRoZSBjb250cmlidXRpb24gZnJvbSB0aGUgdGhyZWUgY29ybmVyc1xuXHR2YXIgdDAgPSAwLjUgLSB4MCp4MCAtIHkwKnkwO1xuXHRpZiAodDAgPj0gMCkge1xuXHRcdHQwICo9IHQwO1xuXHRcdGdpID0gaW5kZXhlc1tpaStwZXJtc1tqal1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMCA9IHQwICogdDAgKiAoZ3JhZFswXSAqIHgwICsgZ3JhZFsxXSAqIHkwKTtcblx0fVxuXHRcblx0dmFyIHQxID0gMC41IC0geDEqeDEgLSB5MSp5MTtcblx0aWYgKHQxID49IDApIHtcblx0XHR0MSAqPSB0MTtcblx0XHRnaSA9IGluZGV4ZXNbaWkraTErcGVybXNbamorajFdXTtcblx0XHR2YXIgZ3JhZCA9IHRoaXMuX2dyYWRpZW50c1tnaV07XG5cdFx0bjEgPSB0MSAqIHQxICogKGdyYWRbMF0gKiB4MSArIGdyYWRbMV0gKiB5MSk7XG5cdH1cblx0XG5cdHZhciB0MiA9IDAuNSAtIHgyKngyIC0geTIqeTI7XG5cdGlmICh0MiA+PSAwKSB7XG5cdFx0dDIgKj0gdDI7XG5cdFx0Z2kgPSBpbmRleGVzW2lpKzErcGVybXNbamorMV1dO1xuXHRcdHZhciBncmFkID0gdGhpcy5fZ3JhZGllbnRzW2dpXTtcblx0XHRuMiA9IHQyICogdDIgKiAoZ3JhZFswXSAqIHgyICsgZ3JhZFsxXSAqIHkyKTtcblx0fVxuXG5cdC8vIEFkZCBjb250cmlidXRpb25zIGZyb20gZWFjaCBjb3JuZXIgdG8gZ2V0IHRoZSBmaW5hbCBub2lzZSB2YWx1ZS5cblx0Ly8gVGhlIHJlc3VsdCBpcyBzY2FsZWQgdG8gcmV0dXJuIHZhbHVlcyBpbiB0aGUgaW50ZXJ2YWwgWy0xLDFdLlxuXHRyZXR1cm4gNzAgKiAobjAgKyBuMSArIG4yKTtcbn1cbi8qKlxuICogQGNsYXNzIEFic3RyYWN0IEZPViBhbGdvcml0aG1cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpZ2h0UGFzc2VzQ2FsbGJhY2sgRG9lcyB0aGUgbGlnaHQgcGFzcyB0aHJvdWdoIHgseT9cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XSA0LzYvOFxuICovXG5ST1QuRk9WID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHR0aGlzLl9saWdodFBhc3NlcyA9IGxpZ2h0UGFzc2VzQ2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0dG9wb2xvZ3k6IDhcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cbn07XG5cbi8qKlxuICogQ29tcHV0ZSB2aXNpYmlsaXR5IGZvciBhIDM2MC1kZWdyZWUgY2lyY2xlXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7aW50fSBSIE1heGltdW0gdmlzaWJpbGl0eSByYWRpdXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cblJPVC5GT1YucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbih4LCB5LCBSLCBjYWxsYmFjaykge31cblxuLyoqXG4gKiBSZXR1cm4gYWxsIG5laWdoYm9ycyBpbiBhIGNvbmNlbnRyaWMgcmluZ1xuICogQHBhcmFtIHtpbnR9IGN4IGNlbnRlci14XG4gKiBAcGFyYW0ge2ludH0gY3kgY2VudGVyLXlcbiAqIEBwYXJhbSB7aW50fSByIHJhbmdlXG4gKi9cblJPVC5GT1YucHJvdG90eXBlLl9nZXRDaXJjbGUgPSBmdW5jdGlvbihjeCwgY3ksIHIpIHtcblx0dmFyIHJlc3VsdCA9IFtdO1xuXHR2YXIgZGlycywgY291bnRGYWN0b3IsIHN0YXJ0T2Zmc2V0O1xuXG5cdHN3aXRjaCAodGhpcy5fb3B0aW9ucy50b3BvbG9neSkge1xuXHRcdGNhc2UgNDpcblx0XHRcdGNvdW50RmFjdG9yID0gMTtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWzAsIDFdO1xuXHRcdFx0ZGlycyA9IFtcblx0XHRcdFx0Uk9ULkRJUlNbOF1bN10sXG5cdFx0XHRcdFJPVC5ESVJTWzhdWzFdLFxuXHRcdFx0XHRST1QuRElSU1s4XVszXSxcblx0XHRcdFx0Uk9ULkRJUlNbOF1bNV1cblx0XHRcdF1cblx0XHRicmVhaztcblxuXHRcdGNhc2UgNjpcblx0XHRcdGRpcnMgPSBST1QuRElSU1s2XTtcblx0XHRcdGNvdW50RmFjdG9yID0gMTtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWy0xLCAxXTtcblx0XHRicmVhaztcblxuXHRcdGNhc2UgODpcblx0XHRcdGRpcnMgPSBST1QuRElSU1s0XTtcblx0XHRcdGNvdW50RmFjdG9yID0gMjtcblx0XHRcdHN0YXJ0T2Zmc2V0ID0gWy0xLCAxXTtcblx0XHRicmVhaztcblx0fVxuXG5cdC8qIHN0YXJ0aW5nIG5laWdoYm9yICovXG5cdHZhciB4ID0gY3ggKyBzdGFydE9mZnNldFswXSpyO1xuXHR2YXIgeSA9IGN5ICsgc3RhcnRPZmZzZXRbMV0qcjtcblxuXHQvKiBjaXJjbGUgKi9cblx0Zm9yICh2YXIgaT0wO2k8ZGlycy5sZW5ndGg7aSsrKSB7XG5cdFx0Zm9yICh2YXIgaj0wO2o8cipjb3VudEZhY3RvcjtqKyspIHtcblx0XHRcdHJlc3VsdC5wdXNoKFt4LCB5XSk7XG5cdFx0XHR4ICs9IGRpcnNbaV1bMF07XG5cdFx0XHR5ICs9IGRpcnNbaV1bMV07XG5cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBAY2xhc3MgRGlzY3JldGUgc2hhZG93Y2FzdGluZyBhbGdvcml0aG0uIE9ic29sZXRlZCBieSBQcmVjaXNlIHNoYWRvd2Nhc3RpbmcuXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLkRpc2NyZXRlU2hhZG93Y2FzdGluZyA9IGZ1bmN0aW9uKGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0Uk9ULkZPVi5jYWxsKHRoaXMsIGxpZ2h0UGFzc2VzQ2FsbGJhY2ssIG9wdGlvbnMpO1xufVxuUk9ULkZPVi5EaXNjcmV0ZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKipcbiAqIEBzZWUgUk9ULkZPViNjb21wdXRlXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0dmFyIGNlbnRlciA9IHRoaXMuX2Nvb3Jkcztcblx0dmFyIG1hcCA9IHRoaXMuX21hcDtcblxuXHQvKiB0aGlzIHBsYWNlIGlzIGFsd2F5cyB2aXNpYmxlICovXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXG5cdC8qIHN0YW5kaW5nIGluIGEgZGFyayBwbGFjZS4gRklYTUUgaXMgdGhpcyBhIGdvb2QgaWRlYT8gICovXG5cdGlmICghdGhpcy5fbGlnaHRQYXNzZXMoeCwgeSkpIHsgcmV0dXJuOyB9XG5cdFxuXHQvKiBzdGFydCBhbmQgZW5kIGFuZ2xlcyAqL1xuXHR2YXIgREFUQSA9IFtdO1xuXHRcblx0dmFyIEEsIEIsIGN4LCBjeSwgYmxvY2tzO1xuXG5cdC8qIGFuYWx5emUgc3Vycm91bmRpbmcgY2VsbHMgaW4gY29uY2VudHJpYyByaW5ncywgc3RhcnRpbmcgZnJvbSB0aGUgY2VudGVyICovXG5cdGZvciAodmFyIHI9MTsgcjw9UjsgcisrKSB7XG5cdFx0dmFyIG5laWdoYm9ycyA9IHRoaXMuX2dldENpcmNsZSh4LCB5LCByKTtcblx0XHR2YXIgYW5nbGUgPSAzNjAgLyBuZWlnaGJvcnMubGVuZ3RoO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JzLmxlbmd0aDtpKyspIHtcblx0XHRcdGN4ID0gbmVpZ2hib3JzW2ldWzBdO1xuXHRcdFx0Y3kgPSBuZWlnaGJvcnNbaV1bMV07XG5cdFx0XHRBID0gYW5nbGUgKiAoaSAtIDAuNSk7XG5cdFx0XHRCID0gQSArIGFuZ2xlO1xuXHRcdFx0XG5cdFx0XHRibG9ja3MgPSAhdGhpcy5fbGlnaHRQYXNzZXMoY3gsIGN5KTtcblx0XHRcdGlmICh0aGlzLl92aXNpYmxlQ29vcmRzKE1hdGguZmxvb3IoQSksIE1hdGguY2VpbChCKSwgYmxvY2tzLCBEQVRBKSkgeyBjYWxsYmFjayhjeCwgY3ksIHIsIDEpOyB9XG5cdFx0XHRcblx0XHRcdGlmIChEQVRBLmxlbmd0aCA9PSAyICYmIERBVEFbMF0gPT0gMCAmJiBEQVRBWzFdID09IDM2MCkgeyByZXR1cm47IH0gLyogY3V0b2ZmPyAqL1xuXG5cdFx0fSAvKiBmb3IgYWxsIGNlbGxzIGluIHRoaXMgcmluZyAqL1xuXHR9IC8qIGZvciBhbGwgcmluZ3MgKi9cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ludH0gQSBzdGFydCBhbmdsZVxuICogQHBhcmFtIHtpbnR9IEIgZW5kIGFuZ2xlXG4gKiBAcGFyYW0ge2Jvb2x9IGJsb2NrcyBEb2VzIGN1cnJlbnQgY2VsbCBibG9jayB2aXNpYmlsaXR5P1xuICogQHBhcmFtIHtpbnRbXVtdfSBEQVRBIHNoYWRvd2VkIGFuZ2xlIHBhaXJzXG4gKi9cblJPVC5GT1YuRGlzY3JldGVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fdmlzaWJsZUNvb3JkcyA9IGZ1bmN0aW9uKEEsIEIsIGJsb2NrcywgREFUQSkge1xuXHRpZiAoQSA8IDApIHsgXG5cdFx0dmFyIHYxID0gYXJndW1lbnRzLmNhbGxlZSgwLCBCLCBibG9ja3MsIERBVEEpO1xuXHRcdHZhciB2MiA9IGFyZ3VtZW50cy5jYWxsZWUoMzYwK0EsIDM2MCwgYmxvY2tzLCBEQVRBKTtcblx0XHRyZXR1cm4gdjEgfHwgdjI7XG5cdH1cblx0XG5cdHZhciBpbmRleCA9IDA7XG5cdHdoaWxlIChpbmRleCA8IERBVEEubGVuZ3RoICYmIERBVEFbaW5kZXhdIDwgQSkgeyBpbmRleCsrOyB9XG5cdFxuXHRpZiAoaW5kZXggPT0gREFUQS5sZW5ndGgpIHsgLyogY29tcGxldGVseSBuZXcgc2hhZG93ICovXG5cdFx0aWYgKGJsb2NrcykgeyBEQVRBLnB1c2goQSwgQik7IH0gXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblx0XG5cdHZhciBjb3VudCA9IDA7XG5cdFxuXHRpZiAoaW5kZXggJSAyKSB7IC8qIHRoaXMgc2hhZG93IHN0YXJ0cyBpbiBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdpdGhpbiBpdHMgZW5kaW5nIGJvdW5kYXJ5ICovXG5cdFx0d2hpbGUgKGluZGV4IDwgREFUQS5sZW5ndGggJiYgREFUQVtpbmRleF0gPCBCKSB7XG5cdFx0XHRpbmRleCsrO1xuXHRcdFx0Y291bnQrKztcblx0XHR9XG5cdFx0XG5cdFx0aWYgKGNvdW50ID09IDApIHsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0XG5cdFx0aWYgKGJsb2NrcykgeyBcblx0XHRcdGlmIChjb3VudCAlIDIpIHtcblx0XHRcdFx0REFUQS5zcGxpY2UoaW5kZXgtY291bnQsIGNvdW50LCBCKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiB0cnVlO1xuXG5cdH0gZWxzZSB7IC8qIHRoaXMgc2hhZG93IHN0YXJ0cyBvdXRzaWRlIGFuIGV4aXN0aW5nIHNoYWRvdywgb3Igd2l0aGluIGEgc3RhcnRpbmcgYm91bmRhcnkgKi9cblx0XHR3aGlsZSAoaW5kZXggPCBEQVRBLmxlbmd0aCAmJiBEQVRBW2luZGV4XSA8IEIpIHtcblx0XHRcdGluZGV4Kys7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblx0XHRcblx0XHQvKiB2aXNpYmxlIHdoZW4gb3V0c2lkZSBhbiBleGlzdGluZyBzaGFkb3csIG9yIHdoZW4gb3ZlcmxhcHBpbmcgKi9cblx0XHRpZiAoQSA9PSBEQVRBW2luZGV4LWNvdW50XSAmJiBjb3VudCA9PSAxKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdFxuXHRcdGlmIChibG9ja3MpIHsgXG5cdFx0XHRpZiAoY291bnQgJSAyKSB7XG5cdFx0XHRcdERBVEEuc3BsaWNlKGluZGV4LWNvdW50LCBjb3VudCwgQSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHREQVRBLnNwbGljZShpbmRleC1jb3VudCwgY291bnQsIEEsIEIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcdFxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG59XG4vKipcbiAqIEBjbGFzcyBQcmVjaXNlIHNoYWRvd2Nhc3RpbmcgYWxnb3JpdGhtXG4gKiBAYXVnbWVudHMgUk9ULkZPVlxuICovXG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nLmV4dGVuZChST1QuRk9WKTtcblxuLyoqXG4gKiBAc2VlIFJPVC5GT1YjY29tcHV0ZVxuICovXG5ST1QuRk9WLlByZWNpc2VTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0LyogdGhpcyBwbGFjZSBpcyBhbHdheXMgdmlzaWJsZSAqL1xuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblxuXHQvKiBzdGFuZGluZyBpbiBhIGRhcmsgcGxhY2UuIEZJWE1FIGlzIHRoaXMgYSBnb29kIGlkZWE/ICAqL1xuXHRpZiAoIXRoaXMuX2xpZ2h0UGFzc2VzKHgsIHkpKSB7IHJldHVybjsgfVxuXHRcblx0LyogbGlzdCBvZiBhbGwgc2hhZG93cyAqL1xuXHR2YXIgU0hBRE9XUyA9IFtdO1xuXHRcblx0dmFyIGN4LCBjeSwgYmxvY2tzLCBBMSwgQTIsIHZpc2liaWxpdHk7XG5cblx0LyogYW5hbHl6ZSBzdXJyb3VuZGluZyBjZWxscyBpbiBjb25jZW50cmljIHJpbmdzLCBzdGFydGluZyBmcm9tIHRoZSBjZW50ZXIgKi9cblx0Zm9yICh2YXIgcj0xOyByPD1SOyByKyspIHtcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0Q2lyY2xlKHgsIHksIHIpO1xuXHRcdHZhciBuZWlnaGJvckNvdW50ID0gbmVpZ2hib3JzLmxlbmd0aDtcblxuXHRcdGZvciAodmFyIGk9MDtpPG5laWdoYm9yQ291bnQ7aSsrKSB7XG5cdFx0XHRjeCA9IG5laWdoYm9yc1tpXVswXTtcblx0XHRcdGN5ID0gbmVpZ2hib3JzW2ldWzFdO1xuXHRcdFx0Lyogc2hpZnQgaGFsZi1hbi1hbmdsZSBiYWNrd2FyZHMgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3kgb2YgMC10aCBjZWxscyAqL1xuXHRcdFx0QTEgPSBbaSA/IDIqaS0xIDogMipuZWlnaGJvckNvdW50LTEsIDIqbmVpZ2hib3JDb3VudF07XG5cdFx0XHRBMiA9IFsyKmkrMSwgMipuZWlnaGJvckNvdW50XTsgXG5cdFx0XHRcblx0XHRcdGJsb2NrcyA9ICF0aGlzLl9saWdodFBhc3NlcyhjeCwgY3kpO1xuXHRcdFx0dmlzaWJpbGl0eSA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShBMSwgQTIsIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0XHRpZiAodmlzaWJpbGl0eSkgeyBjYWxsYmFjayhjeCwgY3ksIHIsIHZpc2liaWxpdHkpOyB9XG5cblx0XHRcdGlmIChTSEFET1dTLmxlbmd0aCA9PSAyICYmIFNIQURPV1NbMF1bMF0gPT0gMCAmJiBTSEFET1dTWzFdWzBdID09IFNIQURPV1NbMV1bMV0pIHsgcmV0dXJuOyB9IC8qIGN1dG9mZj8gKi9cblxuXHRcdH0gLyogZm9yIGFsbCBjZWxscyBpbiB0aGlzIHJpbmcgKi9cblx0fSAvKiBmb3IgYWxsIHJpbmdzICovXG59XG5cbi8qKlxuICogQHBhcmFtIHtpbnRbMl19IEExIGFyYyBzdGFydFxuICogQHBhcmFtIHtpbnRbMl19IEEyIGFyYyBlbmRcbiAqIEBwYXJhbSB7Ym9vbH0gYmxvY2tzIERvZXMgY3VycmVudCBhcmMgYmxvY2sgdmlzaWJpbGl0eT9cbiAqIEBwYXJhbSB7aW50W11bXX0gU0hBRE9XUyBsaXN0IG9mIGFjdGl2ZSBzaGFkb3dzXG4gKi9cblJPVC5GT1YuUHJlY2lzZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLl9jaGVja1Zpc2liaWxpdHkgPSBmdW5jdGlvbihBMSwgQTIsIGJsb2NrcywgU0hBRE9XUykge1xuXHRpZiAoQTFbMF0gPiBBMlswXSkgeyAvKiBzcGxpdCBpbnRvIHR3byBzdWItYXJjcyAqL1xuXHRcdHZhciB2MSA9IHRoaXMuX2NoZWNrVmlzaWJpbGl0eShBMSwgW0ExWzFdLCBBMVsxXV0sIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0dmFyIHYyID0gdGhpcy5fY2hlY2tWaXNpYmlsaXR5KFswLCAxXSwgQTIsIGJsb2NrcywgU0hBRE9XUyk7XG5cdFx0cmV0dXJuICh2MSt2MikvMjtcblx0fVxuXG5cdC8qIGluZGV4MTogZmlyc3Qgc2hhZG93ID49IEExICovXG5cdHZhciBpbmRleDEgPSAwLCBlZGdlMSA9IGZhbHNlO1xuXHR3aGlsZSAoaW5kZXgxIDwgU0hBRE9XUy5sZW5ndGgpIHtcblx0XHR2YXIgb2xkID0gU0hBRE9XU1tpbmRleDFdO1xuXHRcdHZhciBkaWZmID0gb2xkWzBdKkExWzFdIC0gQTFbMF0qb2xkWzFdO1xuXHRcdGlmIChkaWZmID49IDApIHsgLyogb2xkID49IEExICovXG5cdFx0XHRpZiAoZGlmZiA9PSAwICYmICEoaW5kZXgxICUgMikpIHsgZWRnZTEgPSB0cnVlOyB9XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0aW5kZXgxKys7XG5cdH1cblxuXHQvKiBpbmRleDI6IGxhc3Qgc2hhZG93IDw9IEEyICovXG5cdHZhciBpbmRleDIgPSBTSEFET1dTLmxlbmd0aCwgZWRnZTIgPSBmYWxzZTtcblx0d2hpbGUgKGluZGV4Mi0tKSB7XG5cdFx0dmFyIG9sZCA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHR2YXIgZGlmZiA9IEEyWzBdKm9sZFsxXSAtIG9sZFswXSpBMlsxXTtcblx0XHRpZiAoZGlmZiA+PSAwKSB7IC8qIG9sZCA8PSBBMiAqL1xuXHRcdFx0aWYgKGRpZmYgPT0gMCAmJiAoaW5kZXgyICUgMikpIHsgZWRnZTIgPSB0cnVlOyB9XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHR2YXIgdmlzaWJsZSA9IHRydWU7XG5cdGlmIChpbmRleDEgPT0gaW5kZXgyICYmIChlZGdlMSB8fCBlZGdlMikpIHsgIC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG9uZSBvZiB0aGUgZWRnZXMgbWF0Y2ggKi9cblx0XHR2aXNpYmxlID0gZmFsc2U7IFxuXHR9IGVsc2UgaWYgKGVkZ2UxICYmIGVkZ2UyICYmIGluZGV4MSsxPT1pbmRleDIgJiYgKGluZGV4MiAlIDIpKSB7IC8qIGNvbXBsZXRlbHkgZXF1aXZhbGVudCB3aXRoIGV4aXN0aW5nIHNoYWRvdyAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTtcblx0fSBlbHNlIGlmIChpbmRleDEgPiBpbmRleDIgJiYgKGluZGV4MSAlIDIpKSB7IC8qIHN1YnNldCBvZiBleGlzdGluZyBzaGFkb3csIG5vdCB0b3VjaGluZyAqL1xuXHRcdHZpc2libGUgPSBmYWxzZTtcblx0fVxuXHRcblx0aWYgKCF2aXNpYmxlKSB7IHJldHVybiAwOyB9IC8qIGZhc3QgY2FzZTogbm90IHZpc2libGUgKi9cblx0XG5cdHZhciB2aXNpYmxlTGVuZ3RoLCBQO1xuXG5cdC8qIGNvbXB1dGUgdGhlIGxlbmd0aCBvZiB2aXNpYmxlIGFyYywgYWRqdXN0IGxpc3Qgb2Ygc2hhZG93cyAoaWYgYmxvY2tpbmcpICovXG5cdHZhciByZW1vdmUgPSBpbmRleDItaW5kZXgxKzE7XG5cdGlmIChyZW1vdmUgJSAyKSB7XG5cdFx0aWYgKGluZGV4MSAlIDIpIHsgLyogZmlyc3QgZWRnZSB3aXRoaW4gZXhpc3Rpbmcgc2hhZG93LCBzZWNvbmQgb3V0c2lkZSAqL1xuXHRcdFx0dmFyIFAgPSBTSEFET1dTW2luZGV4MV07XG5cdFx0XHR2aXNpYmxlTGVuZ3RoID0gKEEyWzBdKlBbMV0gLSBQWzBdKkEyWzFdKSAvIChQWzFdICogQTJbMV0pO1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTIpOyB9XG5cdFx0fSBlbHNlIHsgLyogc2Vjb25kIGVkZ2Ugd2l0aGluIGV4aXN0aW5nIHNoYWRvdywgZmlyc3Qgb3V0c2lkZSAqL1xuXHRcdFx0dmFyIFAgPSBTSEFET1dTW2luZGV4Ml07XG5cdFx0XHR2aXNpYmxlTGVuZ3RoID0gKFBbMF0qQTFbMV0gLSBBMVswXSpQWzFdKSAvIChBMVsxXSAqIFBbMV0pO1xuXHRcdFx0aWYgKGJsb2NrcykgeyBTSEFET1dTLnNwbGljZShpbmRleDEsIHJlbW92ZSwgQTEpOyB9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdGlmIChpbmRleDEgJSAyKSB7IC8qIGJvdGggZWRnZXMgd2l0aGluIGV4aXN0aW5nIHNoYWRvd3MgKi9cblx0XHRcdHZhciBQMSA9IFNIQURPV1NbaW5kZXgxXTtcblx0XHRcdHZhciBQMiA9IFNIQURPV1NbaW5kZXgyXTtcblx0XHRcdHZpc2libGVMZW5ndGggPSAoUDJbMF0qUDFbMV0gLSBQMVswXSpQMlsxXSkgLyAoUDFbMV0gKiBQMlsxXSk7XG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlKTsgfVxuXHRcdH0gZWxzZSB7IC8qIGJvdGggZWRnZXMgb3V0c2lkZSBleGlzdGluZyBzaGFkb3dzICovXG5cdFx0XHRpZiAoYmxvY2tzKSB7IFNIQURPV1Muc3BsaWNlKGluZGV4MSwgcmVtb3ZlLCBBMSwgQTIpOyB9XG5cdFx0XHRyZXR1cm4gMTsgLyogd2hvbGUgYXJjIHZpc2libGUhICovXG5cdFx0fVxuXHR9XG5cblx0dmFyIGFyY0xlbmd0aCA9IChBMlswXSpBMVsxXSAtIEExWzBdKkEyWzFdKSAvIChBMVsxXSAqIEEyWzFdKTtcblxuXHRyZXR1cm4gdmlzaWJsZUxlbmd0aC9hcmNMZW5ndGg7XG59XG4vKipcbiAqIEBjbGFzcyBSZWN1cnNpdmUgc2hhZG93Y2FzdGluZyBhbGdvcml0aG1cbiAqIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRzIDQvOCB0b3BvbG9naWVzLCBub3QgaGV4YWdvbmFsLlxuICogQmFzZWQgb24gUGV0ZXIgSGFya2lucycgaW1wbGVtZW50YXRpb24gb2YgQmrDtnJuIEJlcmdzdHLDtm0ncyBhbGdvcml0aG0gZGVzY3JpYmVkIGhlcmU6IGh0dHA6Ly93d3cucm9ndWViYXNpbi5jb20vaW5kZXgucGhwP3RpdGxlPUZPVl91c2luZ19yZWN1cnNpdmVfc2hhZG93Y2FzdGluZ1xuICogQGF1Z21lbnRzIFJPVC5GT1ZcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nID0gZnVuY3Rpb24obGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuRk9WLmNhbGwodGhpcywgbGlnaHRQYXNzZXNDYWxsYmFjaywgb3B0aW9ucyk7XG59XG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuZXh0ZW5kKFJPVC5GT1YpO1xuXG4vKiogT2N0YW50cyB1c2VkIGZvciB0cmFuc2xhdGluZyByZWN1cnNpdmUgc2hhZG93Y2FzdGluZyBvZmZzZXRzICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcuT0NUQU5UUyA9IFtcblx0Wy0xLCAgMCwgIDAsICAxXSxcblx0WyAwLCAtMSwgIDEsICAwXSxcblx0WyAwLCAtMSwgLTEsICAwXSxcblx0Wy0xLCAgMCwgIDAsIC0xXSxcblx0WyAxLCAgMCwgIDAsIC0xXSxcblx0WyAwLCAgMSwgLTEsICAwXSxcblx0WyAwLCAgMSwgIDEsICAwXSxcblx0WyAxLCAgMCwgIDAsICAxXVxuXTtcblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMzYwLWRlZ3JlZSBjaXJjbGVcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oeCwgeSwgUiwgY2FsbGJhY2spIHtcblx0Ly9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblx0Zm9yKHZhciBpID0gMDsgaSA8IFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTLmxlbmd0aDsgaSsrKSB7XG5cdFx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW2ldLCBSLCBjYWxsYmFjayk7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgMTgwLWRlZ3JlZSBhcmNcbiAqIEBwYXJhbSB7aW50fSB4XG4gKiBAcGFyYW0ge2ludH0geVxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtpbnR9IGRpciBEaXJlY3Rpb24gdG8gbG9vayBpbiAoZXhwcmVzc2VkIGluIGEgUk9ULkRJUlMgdmFsdWUpO1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5jb21wdXRlMTgwID0gZnVuY3Rpb24oeCwgeSwgUiwgZGlyLCBjYWxsYmFjaykge1xuXHQvL1lvdSBjYW4gYWx3YXlzIHNlZSB5b3VyIG93biB0aWxlXG5cdGNhbGxiYWNrKHgsIHksIDAsIDEpO1xuXHR2YXIgcHJldmlvdXNPY3RhbnQgPSAoZGlyIC0gMSArIDgpICUgODsgLy9OZWVkIHRvIHJldHJpZXZlIHRoZSBwcmV2aW91cyBvY3RhbnQgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR2YXIgbmV4dFByZXZpb3VzT2N0YW50ID0gKGRpciAtIDIgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgdHdvIG9jdGFudHMgdG8gcmVuZGVyIGEgZnVsbCAxODAgZGVncmVlc1xuXHR2YXIgbmV4dE9jdGFudCA9IChkaXIrIDEgKyA4KSAlIDg7IC8vTmVlZCB0byBncmFiIHRvIG5leHQgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgMTgwIGRlZ3JlZXNcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW25leHRQcmV2aW91c09jdGFudF0sIFIsIGNhbGxiYWNrKTtcblx0dGhpcy5fcmVuZGVyT2N0YW50KHgsIHksIFJPVC5GT1YuUmVjdXJzaXZlU2hhZG93Y2FzdGluZy5PQ1RBTlRTW3ByZXZpb3VzT2N0YW50XSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbZGlyXSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbbmV4dE9jdGFudF0sIFIsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBDb21wdXRlIHZpc2liaWxpdHkgZm9yIGEgOTAtZGVncmVlIGFyY1xuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gUiBNYXhpbXVtIHZpc2liaWxpdHkgcmFkaXVzXG4gKiBAcGFyYW0ge2ludH0gZGlyIERpcmVjdGlvbiB0byBsb29rIGluIChleHByZXNzZWQgaW4gYSBST1QuRElSUyB2YWx1ZSk7XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICovXG5ST1QuRk9WLlJlY3Vyc2l2ZVNoYWRvd2Nhc3RpbmcucHJvdG90eXBlLmNvbXB1dGU5MCA9IGZ1bmN0aW9uKHgsIHksIFIsIGRpciwgY2FsbGJhY2spIHtcblx0Ly9Zb3UgY2FuIGFsd2F5cyBzZWUgeW91ciBvd24gdGlsZVxuXHRjYWxsYmFjayh4LCB5LCAwLCAxKTtcblx0dmFyIHByZXZpb3VzT2N0YW50ID0gKGRpciAtIDEgKyA4KSAlIDg7IC8vTmVlZCB0byByZXRyaWV2ZSB0aGUgcHJldmlvdXMgb2N0YW50IHRvIHJlbmRlciBhIGZ1bGwgOTAgZGVncmVlc1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbZGlyXSwgUiwgY2FsbGJhY2spO1xuXHR0aGlzLl9yZW5kZXJPY3RhbnQoeCwgeSwgUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLk9DVEFOVFNbcHJldmlvdXNPY3RhbnRdLCBSLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogUmVuZGVyIG9uZSBvY3RhbnQgKDQ1LWRlZ3JlZSBhcmMpIG9mIHRoZSB2aWV3c2hlZFxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge2ludH0gb2N0YW50IE9jdGFudCB0byBiZSByZW5kZXJlZFxuICogQHBhcmFtIHtpbnR9IFIgTWF4aW11bSB2aXNpYmlsaXR5IHJhZGl1c1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fcmVuZGVyT2N0YW50ID0gZnVuY3Rpb24oeCwgeSwgb2N0YW50LCBSLCBjYWxsYmFjaykge1xuXHQvL1JhZGl1cyBpbmNyZW1lbnRlZCBieSAxIHRvIHByb3ZpZGUgc2FtZSBjb3ZlcmFnZSBhcmVhIGFzIG90aGVyIHNoYWRvd2Nhc3RpbmcgcmFkaXVzZXNcblx0dGhpcy5fY2FzdFZpc2liaWxpdHkoeCwgeSwgMSwgMS4wLCAwLjAsIFIgKyAxLCBvY3RhbnRbMF0sIG9jdGFudFsxXSwgb2N0YW50WzJdLCBvY3RhbnRbM10sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBBY3R1YWxseSBjYWxjdWxhdGVzIHRoZSB2aXNpYmlsaXR5XG4gKiBAcGFyYW0ge2ludH0gc3RhcnRYIFRoZSBzdGFydGluZyBYIGNvb3JkaW5hdGVcbiAqIEBwYXJhbSB7aW50fSBzdGFydFkgVGhlIHN0YXJ0aW5nIFkgY29vcmRpbmF0ZVxuICogQHBhcmFtIHtpbnR9IHJvdyBUaGUgcm93IHRvIHJlbmRlclxuICogQHBhcmFtIHtmbG9hdH0gdmlzU2xvcGVTdGFydCBUaGUgc2xvcGUgdG8gc3RhcnQgYXRcbiAqIEBwYXJhbSB7ZmxvYXR9IHZpc1Nsb3BlRW5kIFRoZSBzbG9wZSB0byBlbmQgYXRcbiAqIEBwYXJhbSB7aW50fSByYWRpdXMgVGhlIHJhZGl1cyB0byByZWFjaCBvdXQgdG9cbiAqIEBwYXJhbSB7aW50fSB4eCBcbiAqIEBwYXJhbSB7aW50fSB4eSBcbiAqIEBwYXJhbSB7aW50fSB5eCBcbiAqIEBwYXJhbSB7aW50fSB5eSBcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byB1c2Ugd2hlbiB3ZSBoaXQgYSBibG9jayB0aGF0IGlzIHZpc2libGVcbiAqL1xuUk9ULkZPVi5SZWN1cnNpdmVTaGFkb3djYXN0aW5nLnByb3RvdHlwZS5fY2FzdFZpc2liaWxpdHkgPSBmdW5jdGlvbihzdGFydFgsIHN0YXJ0WSwgcm93LCB2aXNTbG9wZVN0YXJ0LCB2aXNTbG9wZUVuZCwgcmFkaXVzLCB4eCwgeHksIHl4LCB5eSwgY2FsbGJhY2spIHtcblx0aWYodmlzU2xvcGVTdGFydCA8IHZpc1Nsb3BlRW5kKSB7IHJldHVybjsgfVxuXHRmb3IodmFyIGkgPSByb3c7IGkgPD0gcmFkaXVzOyBpKyspIHtcblx0XHR2YXIgZHggPSAtaSAtIDE7XG5cdFx0dmFyIGR5ID0gLWk7XG5cdFx0dmFyIGJsb2NrZWQgPSBmYWxzZTtcblx0XHR2YXIgbmV3U3RhcnQgPSAwO1xuXG5cdFx0Ly8nUm93JyBjb3VsZCBiZSBjb2x1bW4sIG5hbWVzIGhlcmUgYXNzdW1lIG9jdGFudCAwIGFuZCB3b3VsZCBiZSBmbGlwcGVkIGZvciBoYWxmIHRoZSBvY3RhbnRzXG5cdFx0d2hpbGUoZHggPD0gMCkge1xuXHRcdFx0ZHggKz0gMTtcblxuXHRcdFx0Ly9UcmFuc2xhdGUgZnJvbSByZWxhdGl2ZSBjb29yZGluYXRlcyB0byBtYXAgY29vcmRpbmF0ZXNcblx0XHRcdHZhciBtYXBYID0gc3RhcnRYICsgZHggKiB4eCArIGR5ICogeHk7XG5cdFx0XHR2YXIgbWFwWSA9IHN0YXJ0WSArIGR4ICogeXggKyBkeSAqIHl5O1xuXG5cdFx0XHQvL1JhbmdlIG9mIHRoZSByb3dcblx0XHRcdHZhciBzbG9wZVN0YXJ0ID0gKGR4IC0gMC41KSAvIChkeSArIDAuNSk7XG5cdFx0XHR2YXIgc2xvcGVFbmQgPSAoZHggKyAwLjUpIC8gKGR5IC0gMC41KTtcblx0XHRcblx0XHRcdC8vSWdub3JlIGlmIG5vdCB5ZXQgYXQgbGVmdCBlZGdlIG9mIE9jdGFudFxuXHRcdFx0aWYoc2xvcGVFbmQgPiB2aXNTbG9wZVN0YXJ0KSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRcblx0XHRcdC8vRG9uZSBpZiBwYXN0IHJpZ2h0IGVkZ2Vcblx0XHRcdGlmKHNsb3BlU3RhcnQgPCB2aXNTbG9wZUVuZCkgeyBicmVhazsgfVxuXHRcdFx0XHRcblx0XHRcdC8vSWYgaXQncyBpbiByYW5nZSwgaXQncyB2aXNpYmxlXG5cdFx0XHRpZigoZHggKiBkeCArIGR5ICogZHkpIDwgKHJhZGl1cyAqIHJhZGl1cykpIHtcblx0XHRcdFx0Y2FsbGJhY2sobWFwWCwgbWFwWSwgaSwgMSk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYoIWJsb2NrZWQpIHtcblx0XHRcdFx0Ly9JZiB0aWxlIGlzIGEgYmxvY2tpbmcgdGlsZSwgY2FzdCBhcm91bmQgaXRcblx0XHRcdFx0aWYoIXRoaXMuX2xpZ2h0UGFzc2VzKG1hcFgsIG1hcFkpICYmIGkgPCByYWRpdXMpIHtcblx0XHRcdFx0XHRibG9ja2VkID0gdHJ1ZTtcblx0XHRcdFx0XHR0aGlzLl9jYXN0VmlzaWJpbGl0eShzdGFydFgsIHN0YXJ0WSwgaSArIDEsIHZpc1Nsb3BlU3RhcnQsIHNsb3BlU3RhcnQsIHJhZGl1cywgeHgsIHh5LCB5eCwgeXksIGNhbGxiYWNrKTtcblx0XHRcdFx0XHRuZXdTdGFydCA9IHNsb3BlRW5kO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvL0tlZXAgbmFycm93aW5nIGlmIHNjYW5uaW5nIGFjcm9zcyBhIGJsb2NrXG5cdFx0XHRcdGlmKCF0aGlzLl9saWdodFBhc3NlcyhtYXBYLCBtYXBZKSkge1xuXHRcdFx0XHRcdG5ld1N0YXJ0ID0gc2xvcGVFbmQ7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFxuXHRcdFx0XHQvL0Jsb2NrIGhhcyBlbmRlZFxuXHRcdFx0XHRibG9ja2VkID0gZmFsc2U7XG5cdFx0XHRcdHZpc1Nsb3BlU3RhcnQgPSBuZXdTdGFydDtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoYmxvY2tlZCkgeyBicmVhazsgfVxuXHR9XG59XG4vKipcbiAqIEBuYW1lc3BhY2UgQ29sb3Igb3BlcmF0aW9uc1xuICovXG5ST1QuQ29sb3IgPSB7XG5cdGZyb21TdHJpbmc6IGZ1bmN0aW9uKHN0cikge1xuXHRcdHZhciBjYWNoZWQsIHI7XG5cdFx0aWYgKHN0ciBpbiB0aGlzLl9jYWNoZSkge1xuXHRcdFx0Y2FjaGVkID0gdGhpcy5fY2FjaGVbc3RyXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHN0ci5jaGFyQXQoMCkgPT0gXCIjXCIpIHsgLyogaGV4IHJnYiAqL1xuXG5cdFx0XHRcdHZhciB2YWx1ZXMgPSBzdHIubWF0Y2goL1swLTlhLWZdL2dpKS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gcGFyc2VJbnQoeCwgMTYpOyB9KTtcblx0XHRcdFx0aWYgKHZhbHVlcy5sZW5ndGggPT0gMykge1xuXHRcdFx0XHRcdGNhY2hlZCA9IHZhbHVlcy5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4geCoxNzsgfSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdFx0XHRcdHZhbHVlc1tpKzFdICs9IDE2KnZhbHVlc1tpXTtcblx0XHRcdFx0XHRcdHZhbHVlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhY2hlZCA9IHZhbHVlcztcblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYgKChyID0gc3RyLm1hdGNoKC9yZ2JcXCgoWzAtOSwgXSspXFwpL2kpKSkgeyAvKiBkZWNpbWFsIHJnYiAqL1xuXHRcdFx0XHRjYWNoZWQgPSByWzFdLnNwbGl0KC9cXHMqLFxccyovKS5tYXAoZnVuY3Rpb24oeCkgeyByZXR1cm4gcGFyc2VJbnQoeCk7IH0pO1xuXHRcdFx0fSBlbHNlIHsgLyogaHRtbCBuYW1lICovXG5cdFx0XHRcdGNhY2hlZCA9IFswLCAwLCAwXTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fY2FjaGVbc3RyXSA9IGNhY2hlZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY2FjaGVkLnNsaWNlKCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEFkZCB0d28gb3IgbW9yZSBjb2xvcnNcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRhZGQ6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0dmFyIHJlc3VsdCA9IGNvbG9yMS5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRmb3IgKHZhciBqPTE7ajxhcmd1bWVudHMubGVuZ3RoO2orKykge1xuXHRcdFx0XHRyZXN1bHRbaV0gKz0gYXJndW1lbnRzW2pdW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBBZGQgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdGFkZF86IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyKSB7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdGZvciAodmFyIGo9MTtqPGFyZ3VtZW50cy5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdGNvbG9yMVtpXSArPSBhcmd1bWVudHNbal1baV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjb2xvcjE7XG5cdH0sXG5cblx0LyoqXG5cdCAqIE11bHRpcGx5IChtaXgpIHR3byBvciBtb3JlIGNvbG9yc1xuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdG11bHRpcGx5OiBmdW5jdGlvbihjb2xvcjEsIGNvbG9yMikge1xuXHRcdHZhciByZXN1bHQgPSBjb2xvcjEuc2xpY2UoKTtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0cmVzdWx0W2ldICo9IGFyZ3VtZW50c1tqXVtpXSAvIDI1NTtcblx0XHRcdH1cblx0XHRcdHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHQvKipcblx0ICogTXVsdGlwbHkgKG1peCkgdHdvIG9yIG1vcmUgY29sb3JzLCBNT0RJRklFUyBGSVJTVCBBUkdVTUVOVFxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjFcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdG11bHRpcGx5XzogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIpIHtcblx0XHRmb3IgKHZhciBpPTA7aTwzO2krKykge1xuXHRcdFx0Zm9yICh2YXIgaj0xO2o8YXJndW1lbnRzLmxlbmd0aDtqKyspIHtcblx0XHRcdFx0Y29sb3IxW2ldICo9IGFyZ3VtZW50c1tqXVtpXSAvIDI1NTtcblx0XHRcdH1cblx0XHRcdGNvbG9yMVtpXSA9IE1hdGgucm91bmQoY29sb3IxW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNvbG9yMTtcblx0fSxcblxuXHQvKipcblx0ICogSW50ZXJwb2xhdGUgKGJsZW5kKSB0d28gY29sb3JzIHdpdGggYSBnaXZlbiBmYWN0b3Jcblx0ICogQHBhcmFtIHtudW1iZXJbXX0gY29sb3IxXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMlxuXHQgKiBAcGFyYW0ge2Zsb2F0fSBbZmFjdG9yPTAuNV0gMC4uMVxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRpbnRlcnBvbGF0ZTogZnVuY3Rpb24oY29sb3IxLCBjb2xvcjIsIGZhY3Rvcikge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykgeyBmYWN0b3IgPSAwLjU7IH1cblx0XHR2YXIgcmVzdWx0ID0gY29sb3IxLnNsaWNlKCk7XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldICsgZmFjdG9yKihjb2xvcjJbaV0tY29sb3IxW2ldKSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEludGVycG9sYXRlIChibGVuZCkgdHdvIGNvbG9ycyB3aXRoIGEgZ2l2ZW4gZmFjdG9yIGluIEhTTCBtb2RlXG5cdCAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yMVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvcjJcblx0ICogQHBhcmFtIHtmbG9hdH0gW2ZhY3Rvcj0wLjVdIDAuLjFcblx0ICogQHJldHVybnMge251bWJlcltdfVxuXHQgKi9cblx0aW50ZXJwb2xhdGVIU0w6IGZ1bmN0aW9uKGNvbG9yMSwgY29sb3IyLCBmYWN0b3IpIHtcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHsgZmFjdG9yID0gMC41OyB9XG5cdFx0dmFyIGhzbDEgPSB0aGlzLnJnYjJoc2woY29sb3IxKTtcblx0XHR2YXIgaHNsMiA9IHRoaXMucmdiMmhzbChjb2xvcjIpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRoc2wxW2ldICs9IGZhY3RvciooaHNsMltpXS1oc2wxW2ldKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuaHNsMnJnYihoc2wxKTtcblx0fSxcblxuXHQvKipcblx0ICogQ3JlYXRlIGEgbmV3IHJhbmRvbSBjb2xvciBiYXNlZCBvbiB0aGlzIG9uZVxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBkaWZmIFNldCBvZiBzdGFuZGFyZCBkZXZpYXRpb25zXG5cdCAqIEByZXR1cm5zIHtudW1iZXJbXX1cblx0ICovXG5cdHJhbmRvbWl6ZTogZnVuY3Rpb24oY29sb3IsIGRpZmYpIHtcblx0XHRpZiAoIShkaWZmIGluc3RhbmNlb2YgQXJyYXkpKSB7IGRpZmYgPSBNYXRoLnJvdW5kKFJPVC5STkcuZ2V0Tm9ybWFsKDAsIGRpZmYpKTsgfVxuXHRcdHZhciByZXN1bHQgPSBjb2xvci5zbGljZSgpO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHRyZXN1bHRbaV0gKz0gKGRpZmYgaW5zdGFuY2VvZiBBcnJheSA/IE1hdGgucm91bmQoUk9ULlJORy5nZXROb3JtYWwoMCwgZGlmZltpXSkpIDogZGlmZik7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU0wuIEV4cGVjdHMgMC4uMjU1IGlucHV0cywgcHJvZHVjZXMgMC4uMSBvdXRwdXRzLlxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRyZ2IyaHNsOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHZhciByID0gY29sb3JbMF0vMjU1O1xuXHRcdHZhciBnID0gY29sb3JbMV0vMjU1O1xuXHRcdHZhciBiID0gY29sb3JbMl0vMjU1O1xuXG5cdFx0dmFyIG1heCA9IE1hdGgubWF4KHIsIGcsIGIpLCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcblx0XHR2YXIgaCwgcywgbCA9IChtYXggKyBtaW4pIC8gMjtcblxuXHRcdGlmIChtYXggPT0gbWluKSB7XG5cdFx0XHRoID0gcyA9IDA7IC8vIGFjaHJvbWF0aWNcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGQgPSBtYXggLSBtaW47XG5cdFx0XHRzID0gKGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pKTtcblx0XHRcdHN3aXRjaChtYXgpIHtcblx0XHRcdFx0Y2FzZSByOiBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGc6IGggPSAoYiAtIHIpIC8gZCArIDI7IGJyZWFrO1xuXHRcdFx0XHRjYXNlIGI6IGggPSAociAtIGcpIC8gZCArIDQ7IGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aCAvPSA2O1xuXHRcdH1cblxuXHRcdHJldHVybiBbaCwgcywgbF07XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGFuIEhTTCBjb2xvciB2YWx1ZSB0byBSR0IuIEV4cGVjdHMgMC4uMSBpbnB1dHMsIHByb2R1Y2VzIDAuLjI1NSBvdXRwdXRzLlxuXHQgKiBAcGFyYW0ge251bWJlcltdfSBjb2xvclxuXHQgKiBAcmV0dXJucyB7bnVtYmVyW119XG5cdCAqL1xuXHRoc2wycmdiOiBmdW5jdGlvbihjb2xvcikge1xuXHRcdHZhciBsID0gY29sb3JbMl07XG5cblx0XHRpZiAoY29sb3JbMV0gPT0gMCkge1xuXHRcdFx0bCA9IE1hdGgucm91bmQobCoyNTUpO1xuXHRcdFx0cmV0dXJuIFtsLCBsLCBsXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGh1ZTJyZ2IgPSBmdW5jdGlvbihwLCBxLCB0KSB7XG5cdFx0XHRcdGlmICh0IDwgMCkgdCArPSAxO1xuXHRcdFx0XHRpZiAodCA+IDEpIHQgLT0gMTtcblx0XHRcdFx0aWYgKHQgPCAxLzYpIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuXHRcdFx0XHRpZiAodCA8IDEvMikgcmV0dXJuIHE7XG5cdFx0XHRcdGlmICh0IDwgMi8zKSByZXR1cm4gcCArIChxIC0gcCkgKiAoMi8zIC0gdCkgKiA2O1xuXHRcdFx0XHRyZXR1cm4gcDtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHMgPSBjb2xvclsxXTtcblx0XHRcdHZhciBxID0gKGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHMpO1xuXHRcdFx0dmFyIHAgPSAyICogbCAtIHE7XG5cdFx0XHR2YXIgciA9IGh1ZTJyZ2IocCwgcSwgY29sb3JbMF0gKyAxLzMpO1xuXHRcdFx0dmFyIGcgPSBodWUycmdiKHAsIHEsIGNvbG9yWzBdKTtcblx0XHRcdHZhciBiID0gaHVlMnJnYihwLCBxLCBjb2xvclswXSAtIDEvMyk7XG5cdFx0XHRyZXR1cm4gW01hdGgucm91bmQocioyNTUpLCBNYXRoLnJvdW5kKGcqMjU1KSwgTWF0aC5yb3VuZChiKjI1NSldO1xuXHRcdH1cblx0fSxcblxuXHR0b1JHQjogZnVuY3Rpb24oY29sb3IpIHtcblx0XHRyZXR1cm4gXCJyZ2IoXCIgKyB0aGlzLl9jbGFtcChjb2xvclswXSkgKyBcIixcIiArIHRoaXMuX2NsYW1wKGNvbG9yWzFdKSArIFwiLFwiICsgdGhpcy5fY2xhbXAoY29sb3JbMl0pICsgXCIpXCI7XG5cdH0sXG5cblx0dG9IZXg6IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0dmFyIHBhcnRzID0gW107XG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHtcblx0XHRcdHBhcnRzLnB1c2godGhpcy5fY2xhbXAoY29sb3JbaV0pLnRvU3RyaW5nKDE2KS5scGFkKFwiMFwiLCAyKSk7XG5cdFx0fVxuXHRcdHJldHVybiBcIiNcIiArIHBhcnRzLmpvaW4oXCJcIik7XG5cdH0sXG5cblx0X2NsYW1wOiBmdW5jdGlvbihudW0pIHtcblx0XHRpZiAobnVtIDwgMCkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fSBlbHNlIGlmIChudW0gPiAyNTUpIHtcblx0XHRcdHJldHVybiAyNTU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudW07XG5cdFx0fVxuXHR9LFxuXG5cdF9jYWNoZToge1xuXHRcdFwiYmxhY2tcIjogWzAsMCwwXSxcblx0XHRcIm5hdnlcIjogWzAsMCwxMjhdLFxuXHRcdFwiZGFya2JsdWVcIjogWzAsMCwxMzldLFxuXHRcdFwibWVkaXVtYmx1ZVwiOiBbMCwwLDIwNV0sXG5cdFx0XCJibHVlXCI6IFswLDAsMjU1XSxcblx0XHRcImRhcmtncmVlblwiOiBbMCwxMDAsMF0sXG5cdFx0XCJncmVlblwiOiBbMCwxMjgsMF0sXG5cdFx0XCJ0ZWFsXCI6IFswLDEyOCwxMjhdLFxuXHRcdFwiZGFya2N5YW5cIjogWzAsMTM5LDEzOV0sXG5cdFx0XCJkZWVwc2t5Ymx1ZVwiOiBbMCwxOTEsMjU1XSxcblx0XHRcImRhcmt0dXJxdW9pc2VcIjogWzAsMjA2LDIwOV0sXG5cdFx0XCJtZWRpdW1zcHJpbmdncmVlblwiOiBbMCwyNTAsMTU0XSxcblx0XHRcImxpbWVcIjogWzAsMjU1LDBdLFxuXHRcdFwic3ByaW5nZ3JlZW5cIjogWzAsMjU1LDEyN10sXG5cdFx0XCJhcXVhXCI6IFswLDI1NSwyNTVdLFxuXHRcdFwiY3lhblwiOiBbMCwyNTUsMjU1XSxcblx0XHRcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsMjUsMTEyXSxcblx0XHRcImRvZGdlcmJsdWVcIjogWzMwLDE0NCwyNTVdLFxuXHRcdFwiZm9yZXN0Z3JlZW5cIjogWzM0LDEzOSwzNF0sXG5cdFx0XCJzZWFncmVlblwiOiBbNDYsMTM5LDg3XSxcblx0XHRcImRhcmtzbGF0ZWdyYXlcIjogWzQ3LDc5LDc5XSxcblx0XHRcImRhcmtzbGF0ZWdyZXlcIjogWzQ3LDc5LDc5XSxcblx0XHRcImxpbWVncmVlblwiOiBbNTAsMjA1LDUwXSxcblx0XHRcIm1lZGl1bXNlYWdyZWVuXCI6IFs2MCwxNzksMTEzXSxcblx0XHRcInR1cnF1b2lzZVwiOiBbNjQsMjI0LDIwOF0sXG5cdFx0XCJyb3lhbGJsdWVcIjogWzY1LDEwNSwyMjVdLFxuXHRcdFwic3RlZWxibHVlXCI6IFs3MCwxMzAsMTgwXSxcblx0XHRcImRhcmtzbGF0ZWJsdWVcIjogWzcyLDYxLDEzOV0sXG5cdFx0XCJtZWRpdW10dXJxdW9pc2VcIjogWzcyLDIwOSwyMDRdLFxuXHRcdFwiaW5kaWdvXCI6IFs3NSwwLDEzMF0sXG5cdFx0XCJkYXJrb2xpdmVncmVlblwiOiBbODUsMTA3LDQ3XSxcblx0XHRcImNhZGV0Ymx1ZVwiOiBbOTUsMTU4LDE2MF0sXG5cdFx0XCJjb3JuZmxvd2VyYmx1ZVwiOiBbMTAwLDE0OSwyMzddLFxuXHRcdFwibWVkaXVtYXF1YW1hcmluZVwiOiBbMTAyLDIwNSwxNzBdLFxuXHRcdFwiZGltZ3JheVwiOiBbMTA1LDEwNSwxMDVdLFxuXHRcdFwiZGltZ3JleVwiOiBbMTA1LDEwNSwxMDVdLFxuXHRcdFwic2xhdGVibHVlXCI6IFsxMDYsOTAsMjA1XSxcblx0XHRcIm9saXZlZHJhYlwiOiBbMTA3LDE0MiwzNV0sXG5cdFx0XCJzbGF0ZWdyYXlcIjogWzExMiwxMjgsMTQ0XSxcblx0XHRcInNsYXRlZ3JleVwiOiBbMTEyLDEyOCwxNDRdLFxuXHRcdFwibGlnaHRzbGF0ZWdyYXlcIjogWzExOSwxMzYsMTUzXSxcblx0XHRcImxpZ2h0c2xhdGVncmV5XCI6IFsxMTksMTM2LDE1M10sXG5cdFx0XCJtZWRpdW1zbGF0ZWJsdWVcIjogWzEyMywxMDQsMjM4XSxcblx0XHRcImxhd25ncmVlblwiOiBbMTI0LDI1MiwwXSxcblx0XHRcImNoYXJ0cmV1c2VcIjogWzEyNywyNTUsMF0sXG5cdFx0XCJhcXVhbWFyaW5lXCI6IFsxMjcsMjU1LDIxMl0sXG5cdFx0XCJtYXJvb25cIjogWzEyOCwwLDBdLFxuXHRcdFwicHVycGxlXCI6IFsxMjgsMCwxMjhdLFxuXHRcdFwib2xpdmVcIjogWzEyOCwxMjgsMF0sXG5cdFx0XCJncmF5XCI6IFsxMjgsMTI4LDEyOF0sXG5cdFx0XCJncmV5XCI6IFsxMjgsMTI4LDEyOF0sXG5cdFx0XCJza3libHVlXCI6IFsxMzUsMjA2LDIzNV0sXG5cdFx0XCJsaWdodHNreWJsdWVcIjogWzEzNSwyMDYsMjUwXSxcblx0XHRcImJsdWV2aW9sZXRcIjogWzEzOCw0MywyMjZdLFxuXHRcdFwiZGFya3JlZFwiOiBbMTM5LDAsMF0sXG5cdFx0XCJkYXJrbWFnZW50YVwiOiBbMTM5LDAsMTM5XSxcblx0XHRcInNhZGRsZWJyb3duXCI6IFsxMzksNjksMTldLFxuXHRcdFwiZGFya3NlYWdyZWVuXCI6IFsxNDMsMTg4LDE0M10sXG5cdFx0XCJsaWdodGdyZWVuXCI6IFsxNDQsMjM4LDE0NF0sXG5cdFx0XCJtZWRpdW1wdXJwbGVcIjogWzE0NywxMTIsMjE2XSxcblx0XHRcImRhcmt2aW9sZXRcIjogWzE0OCwwLDIxMV0sXG5cdFx0XCJwYWxlZ3JlZW5cIjogWzE1MiwyNTEsMTUyXSxcblx0XHRcImRhcmtvcmNoaWRcIjogWzE1Myw1MCwyMDRdLFxuXHRcdFwieWVsbG93Z3JlZW5cIjogWzE1NCwyMDUsNTBdLFxuXHRcdFwic2llbm5hXCI6IFsxNjAsODIsNDVdLFxuXHRcdFwiYnJvd25cIjogWzE2NSw0Miw0Ml0sXG5cdFx0XCJkYXJrZ3JheVwiOiBbMTY5LDE2OSwxNjldLFxuXHRcdFwiZGFya2dyZXlcIjogWzE2OSwxNjksMTY5XSxcblx0XHRcImxpZ2h0Ymx1ZVwiOiBbMTczLDIxNiwyMzBdLFxuXHRcdFwiZ3JlZW55ZWxsb3dcIjogWzE3MywyNTUsNDddLFxuXHRcdFwicGFsZXR1cnF1b2lzZVwiOiBbMTc1LDIzOCwyMzhdLFxuXHRcdFwibGlnaHRzdGVlbGJsdWVcIjogWzE3NiwxOTYsMjIyXSxcblx0XHRcInBvd2RlcmJsdWVcIjogWzE3NiwyMjQsMjMwXSxcblx0XHRcImZpcmVicmlja1wiOiBbMTc4LDM0LDM0XSxcblx0XHRcImRhcmtnb2xkZW5yb2RcIjogWzE4NCwxMzQsMTFdLFxuXHRcdFwibWVkaXVtb3JjaGlkXCI6IFsxODYsODUsMjExXSxcblx0XHRcInJvc3licm93blwiOiBbMTg4LDE0MywxNDNdLFxuXHRcdFwiZGFya2toYWtpXCI6IFsxODksMTgzLDEwN10sXG5cdFx0XCJzaWx2ZXJcIjogWzE5MiwxOTIsMTkyXSxcblx0XHRcIm1lZGl1bXZpb2xldHJlZFwiOiBbMTk5LDIxLDEzM10sXG5cdFx0XCJpbmRpYW5yZWRcIjogWzIwNSw5Miw5Ml0sXG5cdFx0XCJwZXJ1XCI6IFsyMDUsMTMzLDYzXSxcblx0XHRcImNob2NvbGF0ZVwiOiBbMjEwLDEwNSwzMF0sXG5cdFx0XCJ0YW5cIjogWzIxMCwxODAsMTQwXSxcblx0XHRcImxpZ2h0Z3JheVwiOiBbMjExLDIxMSwyMTFdLFxuXHRcdFwibGlnaHRncmV5XCI6IFsyMTEsMjExLDIxMV0sXG5cdFx0XCJwYWxldmlvbGV0cmVkXCI6IFsyMTYsMTEyLDE0N10sXG5cdFx0XCJ0aGlzdGxlXCI6IFsyMTYsMTkxLDIxNl0sXG5cdFx0XCJvcmNoaWRcIjogWzIxOCwxMTIsMjE0XSxcblx0XHRcImdvbGRlbnJvZFwiOiBbMjE4LDE2NSwzMl0sXG5cdFx0XCJjcmltc29uXCI6IFsyMjAsMjAsNjBdLFxuXHRcdFwiZ2FpbnNib3JvXCI6IFsyMjAsMjIwLDIyMF0sXG5cdFx0XCJwbHVtXCI6IFsyMjEsMTYwLDIyMV0sXG5cdFx0XCJidXJseXdvb2RcIjogWzIyMiwxODQsMTM1XSxcblx0XHRcImxpZ2h0Y3lhblwiOiBbMjI0LDI1NSwyNTVdLFxuXHRcdFwibGF2ZW5kZXJcIjogWzIzMCwyMzAsMjUwXSxcblx0XHRcImRhcmtzYWxtb25cIjogWzIzMywxNTAsMTIyXSxcblx0XHRcInZpb2xldFwiOiBbMjM4LDEzMCwyMzhdLFxuXHRcdFwicGFsZWdvbGRlbnJvZFwiOiBbMjM4LDIzMiwxNzBdLFxuXHRcdFwibGlnaHRjb3JhbFwiOiBbMjQwLDEyOCwxMjhdLFxuXHRcdFwia2hha2lcIjogWzI0MCwyMzAsMTQwXSxcblx0XHRcImFsaWNlYmx1ZVwiOiBbMjQwLDI0OCwyNTVdLFxuXHRcdFwiaG9uZXlkZXdcIjogWzI0MCwyNTUsMjQwXSxcblx0XHRcImF6dXJlXCI6IFsyNDAsMjU1LDI1NV0sXG5cdFx0XCJzYW5keWJyb3duXCI6IFsyNDQsMTY0LDk2XSxcblx0XHRcIndoZWF0XCI6IFsyNDUsMjIyLDE3OV0sXG5cdFx0XCJiZWlnZVwiOiBbMjQ1LDI0NSwyMjBdLFxuXHRcdFwid2hpdGVzbW9rZVwiOiBbMjQ1LDI0NSwyNDVdLFxuXHRcdFwibWludGNyZWFtXCI6IFsyNDUsMjU1LDI1MF0sXG5cdFx0XCJnaG9zdHdoaXRlXCI6IFsyNDgsMjQ4LDI1NV0sXG5cdFx0XCJzYWxtb25cIjogWzI1MCwxMjgsMTE0XSxcblx0XHRcImFudGlxdWV3aGl0ZVwiOiBbMjUwLDIzNSwyMTVdLFxuXHRcdFwibGluZW5cIjogWzI1MCwyNDAsMjMwXSxcblx0XHRcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsMjUwLDIxMF0sXG5cdFx0XCJvbGRsYWNlXCI6IFsyNTMsMjQ1LDIzMF0sXG5cdFx0XCJyZWRcIjogWzI1NSwwLDBdLFxuXHRcdFwiZnVjaHNpYVwiOiBbMjU1LDAsMjU1XSxcblx0XHRcIm1hZ2VudGFcIjogWzI1NSwwLDI1NV0sXG5cdFx0XCJkZWVwcGlua1wiOiBbMjU1LDIwLDE0N10sXG5cdFx0XCJvcmFuZ2VyZWRcIjogWzI1NSw2OSwwXSxcblx0XHRcInRvbWF0b1wiOiBbMjU1LDk5LDcxXSxcblx0XHRcImhvdHBpbmtcIjogWzI1NSwxMDUsMTgwXSxcblx0XHRcImNvcmFsXCI6IFsyNTUsMTI3LDgwXSxcblx0XHRcImRhcmtvcmFuZ2VcIjogWzI1NSwxNDAsMF0sXG5cdFx0XCJsaWdodHNhbG1vblwiOiBbMjU1LDE2MCwxMjJdLFxuXHRcdFwib3JhbmdlXCI6IFsyNTUsMTY1LDBdLFxuXHRcdFwibGlnaHRwaW5rXCI6IFsyNTUsMTgyLDE5M10sXG5cdFx0XCJwaW5rXCI6IFsyNTUsMTkyLDIwM10sXG5cdFx0XCJnb2xkXCI6IFsyNTUsMjE1LDBdLFxuXHRcdFwicGVhY2hwdWZmXCI6IFsyNTUsMjE4LDE4NV0sXG5cdFx0XCJuYXZham93aGl0ZVwiOiBbMjU1LDIyMiwxNzNdLFxuXHRcdFwibW9jY2FzaW5cIjogWzI1NSwyMjgsMTgxXSxcblx0XHRcImJpc3F1ZVwiOiBbMjU1LDIyOCwxOTZdLFxuXHRcdFwibWlzdHlyb3NlXCI6IFsyNTUsMjI4LDIyNV0sXG5cdFx0XCJibGFuY2hlZGFsbW9uZFwiOiBbMjU1LDIzNSwyMDVdLFxuXHRcdFwicGFwYXlhd2hpcFwiOiBbMjU1LDIzOSwyMTNdLFxuXHRcdFwibGF2ZW5kZXJibHVzaFwiOiBbMjU1LDI0MCwyNDVdLFxuXHRcdFwic2Vhc2hlbGxcIjogWzI1NSwyNDUsMjM4XSxcblx0XHRcImNvcm5zaWxrXCI6IFsyNTUsMjQ4LDIyMF0sXG5cdFx0XCJsZW1vbmNoaWZmb25cIjogWzI1NSwyNTAsMjA1XSxcblx0XHRcImZsb3JhbHdoaXRlXCI6IFsyNTUsMjUwLDI0MF0sXG5cdFx0XCJzbm93XCI6IFsyNTUsMjUwLDI1MF0sXG5cdFx0XCJ5ZWxsb3dcIjogWzI1NSwyNTUsMF0sXG5cdFx0XCJsaWdodHllbGxvd1wiOiBbMjU1LDI1NSwyMjRdLFxuXHRcdFwiaXZvcnlcIjogWzI1NSwyNTUsMjQwXSxcblx0XHRcIndoaXRlXCI6IFsyNTUsMjU1LDI1NV1cblx0fVxufVxuLyoqXG4gKiBAY2xhc3MgTGlnaHRpbmcgY29tcHV0YXRpb24sIGJhc2VkIG9uIGEgdHJhZGl0aW9uYWwgRk9WIGZvciBtdWx0aXBsZSBsaWdodCBzb3VyY2VzIGFuZCBtdWx0aXBsZSBwYXNzZXMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSByZWZsZWN0aXZpdHlDYWxsYmFjayBDYWxsYmFjayB0byByZXRyaWV2ZSBjZWxsIHJlZmxlY3Rpdml0eSAoMC4uMSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5wYXNzZXM9MV0gTnVtYmVyIG9mIHBhc3Nlcy4gMSBlcXVhbHMgdG8gc2ltcGxlIEZPViBvZiBhbGwgbGlnaHQgc291cmNlcywgPjEgbWVhbnMgYSAqaGlnaGx5IHNpbXBsaWZpZWQqIHJhZGlvc2l0eS1saWtlIGFsZ29yaXRobS5cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy5lbWlzc2lvblRocmVzaG9sZD0xMDBdIENlbGxzIHdpdGggZW1pc3Npdml0eSA+IHRocmVzaG9sZCB3aWxsIGJlIHRyZWF0ZWQgYXMgbGlnaHQgc291cmNlIGluIHRoZSBuZXh0IHBhc3MuXG4gKiBAcGFyYW0ge2ludH0gW29wdGlvbnMucmFuZ2U9MTBdIE1heCBsaWdodCByYW5nZVxuICovXG5ST1QuTGlnaHRpbmcgPSBmdW5jdGlvbihyZWZsZWN0aXZpdHlDYWxsYmFjaywgb3B0aW9ucykge1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWxsYmFjayA9IHJlZmxlY3Rpdml0eUNhbGxiYWNrO1xuXHR0aGlzLl9vcHRpb25zID0ge1xuXHRcdHBhc3NlczogMSxcblx0XHRlbWlzc2lvblRocmVzaG9sZDogMTAwLFxuXHRcdHJhbmdlOiAxMFxuXHR9O1xuXHR0aGlzLl9mb3YgPSBudWxsO1xuXG5cdHRoaXMuX2xpZ2h0cyA9IHt9O1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuXG5cdHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBBZGp1c3Qgb3B0aW9ucyBhdCBydW50aW1lXG4gKiBAc2VlIFJPVC5MaWdodGluZ1xuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdGZvciAodmFyIHAgaW4gb3B0aW9ucykgeyB0aGlzLl9vcHRpb25zW3BdID0gb3B0aW9uc1twXTsgfVxuXHRpZiAob3B0aW9ucyAmJiBvcHRpb25zLnJhbmdlKSB7IHRoaXMucmVzZXQoKTsgfVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBTZXQgdGhlIHVzZWQgRmllbGQtT2YtVmlldyBhbGdvXG4gKiBAcGFyYW0ge1JPVC5GT1Z9IGZvdlxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLnNldEZPViA9IGZ1bmN0aW9uKGZvdikge1xuXHR0aGlzLl9mb3YgPSBmb3Y7XG5cdHRoaXMuX2ZvdkNhY2hlID0ge307XG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIFNldCAob3IgcmVtb3ZlKSBhIGxpZ2h0IHNvdXJjZVxuICogQHBhcmFtIHtpbnR9IHhcbiAqIEBwYXJhbSB7aW50fSB5XG4gKiBAcGFyYW0ge251bGwgfHwgc3RyaW5nIHx8IG51bWJlclszXX0gY29sb3JcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5zZXRMaWdodCA9IGZ1bmN0aW9uKHgsIHksIGNvbG9yKSB7XG5cdHZhciBrZXkgPSB4K1wiLFwiK3k7XG5cblx0aWYgKGNvbG9yKSB7XG5cdFx0dGhpcy5fbGlnaHRzW2tleV0gPSAodHlwZW9mKGNvbG9yKSA9PSBcInN0cmluZ1wiID8gUk9ULkNvbG9yLmZyb21TdHJpbmcoY29sb3IpIDogY29sb3IpO1xuXHR9IGVsc2Uge1xuXHRcdGRlbGV0ZSB0aGlzLl9saWdodHNba2V5XTtcblx0fVxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpZ2h0IHNvdXJjZXNcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5jbGVhckxpZ2h0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2xpZ2h0cyA9IHt9O1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBwcmUtY29tcHV0ZWQgdG9wb2xvZ3kgdmFsdWVzLiBDYWxsIHdoZW5ldmVyIHRoZSB1bmRlcmx5aW5nIG1hcCBjaGFuZ2VzIGl0cyBsaWdodC1wYXNzYWJpbGl0eS5cbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZSA9IHt9O1xuXG5cdHJldHVybiB0aGlzO1xufVxuXG4vKipcbiAqIENvbXB1dGUgdGhlIGxpZ2h0aW5nXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBsaWdodGluZ0NhbGxiYWNrIFdpbGwgYmUgY2FsbGVkIHdpdGggKHgsIHksIGNvbG9yKSBmb3IgZXZlcnkgbGl0IGNlbGxcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24obGlnaHRpbmdDYWxsYmFjaykge1xuXHR2YXIgZG9uZUNlbGxzID0ge307XG5cdHZhciBlbWl0dGluZ0NlbGxzID0ge307XG5cdHZhciBsaXRDZWxscyA9IHt9O1xuXG5cdGZvciAodmFyIGtleSBpbiB0aGlzLl9saWdodHMpIHsgLyogcHJlcGFyZSBlbWl0dGVycyBmb3IgZmlyc3QgcGFzcyAqL1xuXHRcdHZhciBsaWdodCA9IHRoaXMuX2xpZ2h0c1trZXldO1xuXHRcdGVtaXR0aW5nQ2VsbHNba2V5XSA9IFswLCAwLCAwXTtcblx0XHRST1QuQ29sb3IuYWRkXyhlbWl0dGluZ0NlbGxzW2tleV0sIGxpZ2h0KTtcblx0fVxuXG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX29wdGlvbnMucGFzc2VzO2krKykgeyAvKiBtYWluIGxvb3AgKi9cblx0XHR0aGlzLl9lbWl0TGlnaHQoZW1pdHRpbmdDZWxscywgbGl0Q2VsbHMsIGRvbmVDZWxscyk7XG5cdFx0aWYgKGkrMSA9PSB0aGlzLl9vcHRpb25zLnBhc3NlcykgeyBjb250aW51ZTsgfSAvKiBub3QgZm9yIHRoZSBsYXN0IHBhc3MgKi9cblx0XHRlbWl0dGluZ0NlbGxzID0gdGhpcy5fY29tcHV0ZUVtaXR0ZXJzKGxpdENlbGxzLCBkb25lQ2VsbHMpO1xuXHR9XG5cblx0Zm9yICh2YXIgbGl0S2V5IGluIGxpdENlbGxzKSB7IC8qIGxldCB0aGUgdXNlciBrbm93IHdoYXQgYW5kIGhvdyBpcyBsaXQgKi9cblx0XHR2YXIgcGFydHMgPSBsaXRLZXkuc3BsaXQoXCIsXCIpO1xuXHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdHZhciB5ID0gcGFyc2VJbnQocGFydHNbMV0pO1xuXHRcdGxpZ2h0aW5nQ2FsbGJhY2soeCwgeSwgbGl0Q2VsbHNbbGl0S2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIG9uZSBpdGVyYXRpb24gZnJvbSBhbGwgZW1pdHRpbmcgY2VsbHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBlbWl0dGluZ0NlbGxzIFRoZXNlIGVtaXQgbGlnaHRcbiAqIEBwYXJhbSB7b2JqZWN0fSBsaXRDZWxscyBBZGQgcHJvamVjdGVkIGxpZ2h0IHRvIHRoZXNlXG4gKiBAcGFyYW0ge29iamVjdH0gZG9uZUNlbGxzIFRoZXNlIGFscmVhZHkgZW1pdHRlZCwgZm9yYmlkIHRoZW0gZnJvbSBmdXJ0aGVyIGNhbGN1bGF0aW9uc1xuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9lbWl0TGlnaHQgPSBmdW5jdGlvbihlbWl0dGluZ0NlbGxzLCBsaXRDZWxscywgZG9uZUNlbGxzKSB7XG5cdGZvciAodmFyIGtleSBpbiBlbWl0dGluZ0NlbGxzKSB7XG5cdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHR2YXIgeCA9IHBhcnNlSW50KHBhcnRzWzBdKTtcblx0XHR2YXIgeSA9IHBhcnNlSW50KHBhcnRzWzFdKTtcblx0XHR0aGlzLl9lbWl0TGlnaHRGcm9tQ2VsbCh4LCB5LCBlbWl0dGluZ0NlbGxzW2tleV0sIGxpdENlbGxzKTtcblx0XHRkb25lQ2VsbHNba2V5XSA9IDE7XG5cdH1cblx0cmV0dXJuIHRoaXM7XG59XG5cbi8qKlxuICogUHJlcGFyZSBhIGxpc3Qgb2YgZW1pdHRlcnMgZm9yIG5leHQgcGFzc1xuICogQHBhcmFtIHtvYmplY3R9IGxpdENlbGxzXG4gKiBAcGFyYW0ge29iamVjdH0gZG9uZUNlbGxzXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5ST1QuTGlnaHRpbmcucHJvdG90eXBlLl9jb21wdXRlRW1pdHRlcnMgPSBmdW5jdGlvbihsaXRDZWxscywgZG9uZUNlbGxzKSB7XG5cdHZhciByZXN1bHQgPSB7fTtcblxuXHRmb3IgKHZhciBrZXkgaW4gbGl0Q2VsbHMpIHtcblx0XHRpZiAoa2V5IGluIGRvbmVDZWxscykgeyBjb250aW51ZTsgfSAvKiBhbHJlYWR5IGVtaXR0ZWQgKi9cblxuXHRcdHZhciBjb2xvciA9IGxpdENlbGxzW2tleV07XG5cblx0XHRpZiAoa2V5IGluIHRoaXMuX3JlZmxlY3Rpdml0eUNhY2hlKSB7XG5cdFx0XHR2YXIgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FjaGVba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0ga2V5LnNwbGl0KFwiLFwiKTtcblx0XHRcdHZhciB4ID0gcGFyc2VJbnQocGFydHNbMF0pO1xuXHRcdFx0dmFyIHkgPSBwYXJzZUludChwYXJ0c1sxXSk7XG5cdFx0XHR2YXIgcmVmbGVjdGl2aXR5ID0gdGhpcy5fcmVmbGVjdGl2aXR5Q2FsbGJhY2soeCwgeSk7XG5cdFx0XHR0aGlzLl9yZWZsZWN0aXZpdHlDYWNoZVtrZXldID0gcmVmbGVjdGl2aXR5O1xuXHRcdH1cblxuXHRcdGlmIChyZWZsZWN0aXZpdHkgPT0gMCkgeyBjb250aW51ZTsgfSAvKiB3aWxsIG5vdCByZWZsZWN0IGF0IGFsbCAqL1xuXG5cdFx0LyogY29tcHV0ZSBlbWlzc2lvbiBjb2xvciAqL1xuXHRcdHZhciBlbWlzc2lvbiA9IFtdO1xuXHRcdHZhciBpbnRlbnNpdHkgPSAwO1xuXHRcdGZvciAodmFyIGk9MDtpPDM7aSsrKSB7XG5cdFx0XHR2YXIgcGFydCA9IE1hdGgucm91bmQoY29sb3JbaV0qcmVmbGVjdGl2aXR5KTtcblx0XHRcdGVtaXNzaW9uW2ldID0gcGFydDtcblx0XHRcdGludGVuc2l0eSArPSBwYXJ0O1xuXHRcdH1cblx0XHRpZiAoaW50ZW5zaXR5ID4gdGhpcy5fb3B0aW9ucy5lbWlzc2lvblRocmVzaG9sZCkgeyByZXN1bHRba2V5XSA9IGVtaXNzaW9uOyB9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbXB1dGUgb25lIGl0ZXJhdGlvbiBmcm9tIG9uZSBjZWxsXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IGNvbG9yXG4gKiBAcGFyYW0ge29iamVjdH0gbGl0Q2VsbHMgQ2VsbCBkYXRhIHRvIGJ5IHVwZGF0ZWRcbiAqL1xuUk9ULkxpZ2h0aW5nLnByb3RvdHlwZS5fZW1pdExpZ2h0RnJvbUNlbGwgPSBmdW5jdGlvbih4LCB5LCBjb2xvciwgbGl0Q2VsbHMpIHtcblx0dmFyIGtleSA9IHgrXCIsXCIreTtcblx0aWYgKGtleSBpbiB0aGlzLl9mb3ZDYWNoZSkge1xuXHRcdHZhciBmb3YgPSB0aGlzLl9mb3ZDYWNoZVtrZXldO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBmb3YgPSB0aGlzLl91cGRhdGVGT1YoeCwgeSk7XG5cdH1cblxuXHRmb3IgKHZhciBmb3ZLZXkgaW4gZm92KSB7XG5cdFx0dmFyIGZvcm1GYWN0b3IgPSBmb3ZbZm92S2V5XTtcblxuXHRcdGlmIChmb3ZLZXkgaW4gbGl0Q2VsbHMpIHsgLyogYWxyZWFkeSBsaXQgKi9cblx0XHRcdHZhciByZXN1bHQgPSBsaXRDZWxsc1tmb3ZLZXldO1xuXHRcdH0gZWxzZSB7IC8qIG5ld2x5IGxpdCAqL1xuXHRcdFx0dmFyIHJlc3VsdCA9IFswLCAwLCAwXTtcblx0XHRcdGxpdENlbGxzW2ZvdktleV0gPSByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaT0wO2k8MztpKyspIHsgcmVzdWx0W2ldICs9IE1hdGgucm91bmQoY29sb3JbaV0qZm9ybUZhY3Rvcik7IH0gLyogYWRkIGxpZ2h0IGNvbG9yICovXG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDb21wdXRlIEZPViAoXCJmb3JtIGZhY3RvclwiKSBmb3IgYSBwb3RlbnRpYWwgbGlnaHQgc291cmNlIGF0IFt4LHldXG4gKiBAcGFyYW0ge2ludH0geFxuICogQHBhcmFtIHtpbnR9IHlcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblJPVC5MaWdodGluZy5wcm90b3R5cGUuX3VwZGF0ZUZPViA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0dmFyIGtleTEgPSB4K1wiLFwiK3k7XG5cdHZhciBjYWNoZSA9IHt9O1xuXHR0aGlzLl9mb3ZDYWNoZVtrZXkxXSA9IGNhY2hlO1xuXHR2YXIgcmFuZ2UgPSB0aGlzLl9vcHRpb25zLnJhbmdlO1xuXHR2YXIgY2IgPSBmdW5jdGlvbih4LCB5LCByLCB2aXMpIHtcblx0XHR2YXIga2V5MiA9IHgrXCIsXCIreTtcblx0XHR2YXIgZm9ybUZhY3RvciA9IHZpcyAqICgxLXIvcmFuZ2UpO1xuXHRcdGlmIChmb3JtRmFjdG9yID09IDApIHsgcmV0dXJuOyB9XG5cdFx0Y2FjaGVba2V5Ml0gPSBmb3JtRmFjdG9yO1xuXHR9XG5cdHRoaXMuX2Zvdi5jb21wdXRlKHgsIHksIHJhbmdlLCBjYi5iaW5kKHRoaXMpKTtcblxuXHRyZXR1cm4gY2FjaGU7XG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCBwYXRoZmluZGVyXG4gKiBAcGFyYW0ge2ludH0gdG9YIFRhcmdldCBYIGNvb3JkXG4gKiBAcGFyYW0ge2ludH0gdG9ZIFRhcmdldCBZIGNvb3JkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYXNzYWJsZUNhbGxiYWNrIENhbGxiYWNrIHRvIGRldGVybWluZSBtYXAgcGFzc2FiaWxpdHlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7aW50fSBbb3B0aW9ucy50b3BvbG9neT04XVxuICovXG5ST1QuUGF0aCA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdHRoaXMuX3RvWCA9IHRvWDtcblx0dGhpcy5fdG9ZID0gdG9ZO1xuXHR0aGlzLl9mcm9tWCA9IG51bGw7XG5cdHRoaXMuX2Zyb21ZID0gbnVsbDtcblx0dGhpcy5fcGFzc2FibGVDYWxsYmFjayA9IHBhc3NhYmxlQ2FsbGJhY2s7XG5cdHRoaXMuX29wdGlvbnMgPSB7XG5cdFx0dG9wb2xvZ3k6IDhcblx0fVxuXHRmb3IgKHZhciBwIGluIG9wdGlvbnMpIHsgdGhpcy5fb3B0aW9uc1twXSA9IG9wdGlvbnNbcF07IH1cblxuXHR0aGlzLl9kaXJzID0gUk9ULkRJUlNbdGhpcy5fb3B0aW9ucy50b3BvbG9neV07XG5cdGlmICh0aGlzLl9vcHRpb25zLnRvcG9sb2d5ID09IDgpIHsgLyogcmVvcmRlciBkaXJzIGZvciBtb3JlIGFlc3RoZXRpYyByZXN1bHQgKHZlcnRpY2FsL2hvcml6b250YWwgZmlyc3QpICovXG5cdFx0dGhpcy5fZGlycyA9IFtcblx0XHRcdHRoaXMuX2RpcnNbMF0sXG5cdFx0XHR0aGlzLl9kaXJzWzJdLFxuXHRcdFx0dGhpcy5fZGlyc1s0XSxcblx0XHRcdHRoaXMuX2RpcnNbNl0sXG5cdFx0XHR0aGlzLl9kaXJzWzFdLFxuXHRcdFx0dGhpcy5fZGlyc1szXSxcblx0XHRcdHRoaXMuX2RpcnNbNV0sXG5cdFx0XHR0aGlzLl9kaXJzWzddXG5cdFx0XVxuXHR9XG59XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAcGFyYW0ge2ludH0gZnJvbVhcbiAqIEBwYXJhbSB7aW50fSBmcm9tWVxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgV2lsbCBiZSBjYWxsZWQgZm9yIGV2ZXJ5IHBhdGggaXRlbSB3aXRoIGFyZ3VtZW50cyBcInhcIiBhbmQgXCJ5XCJcbiAqL1xuUk9ULlBhdGgucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG59XG5cblJPVC5QYXRoLnByb3RvdHlwZS5fZ2V0TmVpZ2hib3JzID0gZnVuY3Rpb24oY3gsIGN5KSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5fZGlycy5sZW5ndGg7aSsrKSB7XG5cdFx0dmFyIGRpciA9IHRoaXMuX2RpcnNbaV07XG5cdFx0dmFyIHggPSBjeCArIGRpclswXTtcblx0XHR2YXIgeSA9IGN5ICsgZGlyWzFdO1xuXHRcdFxuXHRcdGlmICghdGhpcy5fcGFzc2FibGVDYWxsYmFjayh4LCB5KSkgeyBjb250aW51ZTsgfVxuXHRcdHJlc3VsdC5wdXNoKFt4LCB5XSk7XG5cdH1cblx0XG5cdHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIERpamtzdHJhJ3MgYWxnb3JpdGhtOiBhbGwgZWRnZXMgaGF2ZSBhIHZhbHVlIG9mIDFcbiAqIEBhdWdtZW50cyBST1QuUGF0aFxuICogQHNlZSBST1QuUGF0aFxuICovXG5ST1QuUGF0aC5EaWprc3RyYSA9IGZ1bmN0aW9uKHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFJPVC5QYXRoLmNhbGwodGhpcywgdG9YLCB0b1ksIHBhc3NhYmxlQ2FsbGJhY2ssIG9wdGlvbnMpO1xuXG5cdHRoaXMuX2NvbXB1dGVkID0ge307XG5cdHRoaXMuX3RvZG8gPSBbXTtcblx0dGhpcy5fYWRkKHRvWCwgdG9ZLCBudWxsKTtcbn1cblJPVC5QYXRoLkRpamtzdHJhLmV4dGVuZChST1QuUGF0aCk7XG5cbi8qKlxuICogQ29tcHV0ZSBhIHBhdGggZnJvbSBhIGdpdmVuIHBvaW50XG4gKiBAc2VlIFJPVC5QYXRoI2NvbXB1dGVcbiAqL1xuUk9ULlBhdGguRGlqa3N0cmEucHJvdG90eXBlLmNvbXB1dGUgPSBmdW5jdGlvbihmcm9tWCwgZnJvbVksIGNhbGxiYWNrKSB7XG5cdHZhciBrZXkgPSBmcm9tWCtcIixcIitmcm9tWTtcblx0aWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkgeyB0aGlzLl9jb21wdXRlKGZyb21YLCBmcm9tWSk7IH1cblx0aWYgKCEoa2V5IGluIHRoaXMuX2NvbXB1dGVkKSkgeyByZXR1cm47IH1cblx0XG5cdHZhciBpdGVtID0gdGhpcy5fY29tcHV0ZWRba2V5XTtcblx0d2hpbGUgKGl0ZW0pIHtcblx0XHRjYWxsYmFjayhpdGVtLngsIGl0ZW0ueSk7XG5cdFx0aXRlbSA9IGl0ZW0ucHJldjtcblx0fVxufVxuXG4vKipcbiAqIENvbXB1dGUgYSBub24tY2FjaGVkIHZhbHVlXG4gKi9cblJPVC5QYXRoLkRpamtzdHJhLnByb3RvdHlwZS5fY29tcHV0ZSA9IGZ1bmN0aW9uKGZyb21YLCBmcm9tWSkge1xuXHR3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcblx0XHRpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkgeyByZXR1cm47IH1cblx0XHRcblx0XHR2YXIgbmVpZ2hib3JzID0gdGhpcy5fZ2V0TmVpZ2hib3JzKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRcblx0XHRmb3IgKHZhciBpPTA7aTxuZWlnaGJvcnMubGVuZ3RoO2krKykge1xuXHRcdFx0dmFyIG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuXHRcdFx0dmFyIHggPSBuZWlnaGJvclswXTtcblx0XHRcdHZhciB5ID0gbmVpZ2hib3JbMV07XG5cdFx0XHR2YXIgaWQgPSB4K1wiLFwiK3k7XG5cdFx0XHRpZiAoaWQgaW4gdGhpcy5fY29tcHV0ZWQpIHsgY29udGludWU7IH0gLyogYWxyZWFkeSBkb25lICovXHRcblx0XHRcdHRoaXMuX2FkZCh4LCB5LCBpdGVtKTsgXG5cdFx0fVxuXHR9XG59XG5cblJPVC5QYXRoLkRpamtzdHJhLnByb3RvdHlwZS5fYWRkID0gZnVuY3Rpb24oeCwgeSwgcHJldikge1xuXHR2YXIgb2JqID0ge1xuXHRcdHg6IHgsXG5cdFx0eTogeSxcblx0XHRwcmV2OiBwcmV2XG5cdH1cblx0dGhpcy5fY29tcHV0ZWRbeCtcIixcIit5XSA9IG9iajtcblx0dGhpcy5fdG9kby5wdXNoKG9iaik7XG59XG4vKipcbiAqIEBjbGFzcyBTaW1wbGlmaWVkIEEqIGFsZ29yaXRobTogYWxsIGVkZ2VzIGhhdmUgYSB2YWx1ZSBvZiAxXG4gKiBAYXVnbWVudHMgUk9ULlBhdGhcbiAqIEBzZWUgUk9ULlBhdGhcbiAqL1xuUk9ULlBhdGguQVN0YXIgPSBmdW5jdGlvbih0b1gsIHRvWSwgcGFzc2FibGVDYWxsYmFjaywgb3B0aW9ucykge1xuXHRST1QuUGF0aC5jYWxsKHRoaXMsIHRvWCwgdG9ZLCBwYXNzYWJsZUNhbGxiYWNrLCBvcHRpb25zKTtcblxuXHR0aGlzLl90b2RvID0gW107XG5cdHRoaXMuX2RvbmUgPSB7fTtcblx0dGhpcy5fZnJvbVggPSBudWxsO1xuXHR0aGlzLl9mcm9tWSA9IG51bGw7XG59XG5ST1QuUGF0aC5BU3Rhci5leHRlbmQoUk9ULlBhdGgpO1xuXG4vKipcbiAqIENvbXB1dGUgYSBwYXRoIGZyb20gYSBnaXZlbiBwb2ludFxuICogQHNlZSBST1QuUGF0aCNjb21wdXRlXG4gKi9cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24oZnJvbVgsIGZyb21ZLCBjYWxsYmFjaykge1xuXHR0aGlzLl90b2RvID0gW107XG5cdHRoaXMuX2RvbmUgPSB7fTtcblx0dGhpcy5fZnJvbVggPSBmcm9tWDtcblx0dGhpcy5fZnJvbVkgPSBmcm9tWTtcblx0dGhpcy5fYWRkKHRoaXMuX3RvWCwgdGhpcy5fdG9ZLCBudWxsKTtcblxuXHR3aGlsZSAodGhpcy5fdG9kby5sZW5ndGgpIHtcblx0XHR2YXIgaXRlbSA9IHRoaXMuX3RvZG8uc2hpZnQoKTtcblx0XHRpZiAoaXRlbS54ID09IGZyb21YICYmIGl0ZW0ueSA9PSBmcm9tWSkgeyBicmVhazsgfVxuXHRcdHZhciBuZWlnaGJvcnMgPSB0aGlzLl9nZXROZWlnaGJvcnMoaXRlbS54LCBpdGVtLnkpO1xuXG5cdFx0Zm9yICh2YXIgaT0wO2k8bmVpZ2hib3JzLmxlbmd0aDtpKyspIHtcblx0XHRcdHZhciBuZWlnaGJvciA9IG5laWdoYm9yc1tpXTtcblx0XHRcdHZhciB4ID0gbmVpZ2hib3JbMF07XG5cdFx0XHR2YXIgeSA9IG5laWdoYm9yWzFdO1xuXHRcdFx0dmFyIGlkID0geCtcIixcIit5O1xuXHRcdFx0aWYgKGlkIGluIHRoaXMuX2RvbmUpIHsgY29udGludWU7IH1cblx0XHRcdHRoaXMuX2FkZCh4LCB5LCBpdGVtKTsgXG5cdFx0fVxuXHR9XG5cdFxuXHR2YXIgaXRlbSA9IHRoaXMuX2RvbmVbZnJvbVgrXCIsXCIrZnJvbVldO1xuXHRpZiAoIWl0ZW0pIHsgcmV0dXJuOyB9XG5cdFxuXHR3aGlsZSAoaXRlbSkge1xuXHRcdGNhbGxiYWNrKGl0ZW0ueCwgaXRlbS55KTtcblx0XHRpdGVtID0gaXRlbS5wcmV2O1xuXHR9XG59XG5cblJPVC5QYXRoLkFTdGFyLnByb3RvdHlwZS5fYWRkID0gZnVuY3Rpb24oeCwgeSwgcHJldikge1xuXHR2YXIgb2JqID0ge1xuXHRcdHg6IHgsXG5cdFx0eTogeSxcblx0XHRwcmV2OiBwcmV2LFxuXHRcdGc6IChwcmV2ID8gcHJldi5nKzEgOiAwKSxcblx0XHRoOiB0aGlzLl9kaXN0YW5jZSh4LCB5KVxuXHR9XG5cdHRoaXMuX2RvbmVbeCtcIixcIit5XSA9IG9iajtcblx0XG5cdC8qIGluc2VydCBpbnRvIHByaW9yaXR5IHF1ZXVlICovXG5cdFxuXHR2YXIgZiA9IG9iai5nICsgb2JqLmg7XG5cdGZvciAodmFyIGk9MDtpPHRoaXMuX3RvZG8ubGVuZ3RoO2krKykge1xuXHRcdHZhciBpdGVtID0gdGhpcy5fdG9kb1tpXTtcblx0XHRpZiAoZiA8IGl0ZW0uZyArIGl0ZW0uaCkge1xuXHRcdFx0dGhpcy5fdG9kby5zcGxpY2UoaSwgMCwgb2JqKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0XG5cdHRoaXMuX3RvZG8ucHVzaChvYmopO1xufVxuXG5ST1QuUGF0aC5BU3Rhci5wcm90b3R5cGUuX2Rpc3RhbmNlID0gZnVuY3Rpb24oeCwgeSkge1xuXHRzd2l0Y2ggKHRoaXMuX29wdGlvbnMudG9wb2xvZ3kpIHtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gKE1hdGguYWJzKHgtdGhpcy5fZnJvbVgpICsgTWF0aC5hYnMoeS10aGlzLl9mcm9tWSkpO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA2OlxuXHRcdFx0dmFyIGR4ID0gTWF0aC5hYnMoeCAtIHRoaXMuX2Zyb21YKTtcblx0XHRcdHZhciBkeSA9IE1hdGguYWJzKHkgLSB0aGlzLl9mcm9tWSk7XG5cdFx0XHRyZXR1cm4gZHkgKyBNYXRoLm1heCgwLCAoZHgtZHkpLzIpO1xuXHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSA4OiBcblx0XHRcdHJldHVybiBNYXRoLm1heChNYXRoLmFicyh4LXRoaXMuX2Zyb21YKSwgTWF0aC5hYnMoeS10aGlzLl9mcm9tWSkpO1xuXHRcdGJyZWFrO1xuXHR9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCB0b3BvbG9neVwiKTtcbn1cbi8qKlxuICogQGNsYXNzIFRlcm1pbmFsIGJhY2tlbmRcbiAqIEBwcml2YXRlXG4gKi9cblJPVC5EaXNwbGF5LlRlcm0gPSBmdW5jdGlvbihjb250ZXh0KSB7XG5cdFJPVC5EaXNwbGF5LkJhY2tlbmQuY2FsbCh0aGlzLCBjb250ZXh0KTtcblx0dGhpcy5fY3ggPSAtMTtcblx0dGhpcy5fY3kgPSAtMTtcblx0dGhpcy5fbGFzdENvbG9yID0gXCJcIjtcblx0dGhpcy5fb3B0aW9ucyA9IHt9O1xuXHR0aGlzLl9veCA9IDA7XG5cdHRoaXMuX295ID0gMDtcblx0dGhpcy5fdGVybWNvbG9yID0ge307XG59XG5ST1QuRGlzcGxheS5UZXJtLmV4dGVuZChST1QuRGlzcGxheS5CYWNrZW5kKTtcblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuY29tcHV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcblx0dGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG5cdHRoaXMuX294ID0gTWF0aC5mbG9vcigocHJvY2Vzcy5zdGRvdXQuY29sdW1ucyAtIG9wdGlvbnMud2lkdGgpIC8gMik7XG5cdHRoaXMuX295ID0gTWF0aC5mbG9vcigocHJvY2Vzcy5zdGRvdXQucm93cyAtIG9wdGlvbnMuaGVpZ2h0KSAvIDIpO1xuXHR0aGlzLl90ZXJtY29sb3IgPSBuZXcgUk9ULkRpc3BsYXkuVGVybVtvcHRpb25zLnRlcm1Db2xvci5jYXBpdGFsaXplKCldKHRoaXMuX2NvbnRleHQpO1xuXHR0aGlzLl9jb250ZXh0Ll90ZXJtY29sb3IgPSB0aGlzLl90ZXJtY29sb3I7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihkYXRhLCBjbGVhckJlZm9yZSkge1xuXHQvLyBkZXRlcm1pbmUgd2hlcmUgdG8gZHJhdyB3aGF0IHdpdGggd2hhdCBjb2xvcnNcblx0dmFyIHggPSBkYXRhWzBdO1xuXHR2YXIgeSA9IGRhdGFbMV07XG5cdHZhciBjaCA9IGRhdGFbMl07XG5cdHZhciBmZyA9IGRhdGFbM107XG5cdHZhciBiZyA9IGRhdGFbNF07XG5cblx0Ly8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gbW92ZSB0aGUgdGVybWluYWwgY3Vyc29yXG5cdHZhciBkeCA9IHRoaXMuX294ICsgeDtcblx0dmFyIGR5ID0gdGhpcy5fb3kgKyB5O1xuXHRpZiAoZHggPCAwIHx8IGR4ID49IHByb2Nlc3Muc3Rkb3V0LmNvbHVtbnMpIHsgcmV0dXJuOyB9XG5cdGlmIChkeSA8IDAgfHwgZHkgPj0gcHJvY2Vzcy5zdGRvdXQucm93cykgeyByZXR1cm47IH1cblx0aWYgKGR4ICE9PSB0aGlzLl9jeCB8fCBkeSAhPT0gdGhpcy5fY3kpIHtcblx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZSh0aGlzLl90ZXJtY29sb3IucG9zaXRpb25Ub0Fuc2koZHgsZHkpKTtcblx0XHR0aGlzLl9jeCA9IGR4O1xuXHRcdHRoaXMuX2N5ID0gZHk7XG5cdH1cblxuXHQvLyB0ZXJtaW5hbHMgYXV0b21hdGljYWxseSBjbGVhciwgYnV0IGlmIHdlJ3JlIGNsZWFyaW5nIHdoZW4gd2UncmVcblx0Ly8gbm90IG90aGVyd2lzZSBwcm92aWRlZCB3aXRoIGEgY2hhcmFjdGVyLCBqdXN0IHVzZSBhIHNwYWNlIGluc3RlYWRcblx0aWYgKGNsZWFyQmVmb3JlKSB7XG5cdFx0aWYgKCFjaCkge1xuXHRcdFx0Y2ggPSBcIiBcIjtcblx0XHR9XG5cdH1cblx0XHRcblx0Ly8gaWYgd2UncmUgbm90IGNsZWFyaW5nIGFuZCBub3QgcHJvdmlkZWQgd2l0aCBhIGNoYXJhY3RlciwgZG8gbm90aGluZ1xuXHRpZiAoIWNoKSB7IHJldHVybjsgfVxuXG5cdC8vIGRldGVybWluZSBpZiB3ZSBuZWVkIHRvIGNoYW5nZSBjb2xvcnNcblx0dmFyIG5ld0NvbG9yID0gdGhpcy5fdGVybWNvbG9yLmNvbG9yVG9BbnNpKGZnLGJnKTtcblx0aWYgKG5ld0NvbG9yICE9PSB0aGlzLl9sYXN0Q29sb3IpIHtcblx0XHRwcm9jZXNzLnN0ZG91dC53cml0ZShuZXdDb2xvcik7XG5cdFx0dGhpcy5fbGFzdENvbG9yID0gbmV3Q29sb3I7XG5cdH1cblxuXHQvLyB3cml0ZSB0aGUgcHJvdmlkZWQgc3ltYm9sIHRvIHRoZSBkaXNwbGF5XG5cdHZhciBjaGFycyA9IFtdLmNvbmNhdChjaCk7XG5cdHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNoYXJzWzBdKTtcblxuXHQvLyB1cGRhdGUgb3VyIHBvc2l0aW9uLCBnaXZlbiB0aGF0IHdlIHdyb3RlIGEgY2hhcmFjdGVyXG5cdHRoaXMuX2N4Kys7XG5cdGlmICh0aGlzLl9jeCA+PSBwcm9jZXNzLnN0ZG91dC5jb2x1bW5zKSB7XG5cdFx0dGhpcy5fY3ggPSAwO1xuXHRcdHRoaXMuX2N5Kys7XG5cdH1cbn1cblxuUk9ULkRpc3BsYXkuVGVybS5wcm90b3R5cGUuY29tcHV0ZVNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gW3Byb2Nlc3Muc3Rkb3V0LmNvbHVtbnMsIHByb2Nlc3Muc3Rkb3V0LnJvd3NdO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLnByb3RvdHlwZS5jb21wdXRlRm9udFNpemUgPSBmdW5jdGlvbihhdmFpbFdpZHRoLCBhdmFpbEhlaWdodCkge1xuXHRyZXR1cm4gMTI7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0ucHJvdG90eXBlLmV2ZW50VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFt4LHldXG59XG4vKipcbiAqIEBjbGFzcyBBYnN0cmFjdCB0ZXJtaW5hbCBjb2RlIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybS5Db2xvciA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0dGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG59XG5cblJPVC5EaXNwbGF5LlRlcm0uQ29sb3IucHJvdG90eXBlLmNsZWFyVG9BbnNpID0gZnVuY3Rpb24oYmcpIHtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUuY29sb3JUb0Fuc2kgPSBmdW5jdGlvbihmZywgYmcpIHtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5Db2xvci5wcm90b3R5cGUucG9zaXRpb25Ub0Fuc2kgPSBmdW5jdGlvbih4LCB5KSB7XG59XG4vKipcbiAqIEBjbGFzcyB4dGVybSB0ZXJtaW5hbCBjb2RlIG1vZHVsZVxuICogQHByaXZhdGVcbiAqL1xuUk9ULkRpc3BsYXkuVGVybS5YdGVybSA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcblx0Uk9ULkRpc3BsYXkuVGVybS5Db2xvci5jYWxsKHRoaXMsIGNvbnRleHQpO1xufVxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5leHRlbmQoUk9ULkRpc3BsYXkuVGVybS5Db2xvcik7XG5cblJPVC5EaXNwbGF5LlRlcm0uWHRlcm0ucHJvdG90eXBlLmNsZWFyVG9BbnNpID0gZnVuY3Rpb24oYmcpIHtcblx0cmV0dXJuIFwiXFx4MWJbMDs0ODs1O1wiXG5cdFx0KyB0aGlzLl90ZXJtY29sb3IoYmcpXG5cdFx0KyBcIm1cXHgxYlsySlwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5jb2xvclRvQW5zaSA9IGZ1bmN0aW9uKGZnLCBiZykge1xuXHRyZXR1cm4gXCJcXHgxYlswOzM4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihmZylcblx0XHQrIFwiOzQ4OzU7XCJcblx0XHQrIHRoaXMuX3Rlcm1jb2xvcihiZylcblx0XHQrIFwibVwiO1xufVxuXG5ST1QuRGlzcGxheS5UZXJtLlh0ZXJtLnByb3RvdHlwZS5wb3NpdGlvblRvQW5zaSA9IGZ1bmN0aW9uKHgsIHkpIHtcblx0cmV0dXJuIFwiXFx4MWJbXCIgKyAoeSsxKSArIFwiO1wiICsgKHgrMSkgKyBcIkhcIjtcbn1cblxuUk9ULkRpc3BsYXkuVGVybS5YdGVybS5wcm90b3R5cGUuX3Rlcm1jb2xvciA9IGZ1bmN0aW9uKGNvbG9yKSB7XG5cdHZhciBTUkNfQ09MT1JTID0gMjU2LjA7XG5cdHZhciBEU1RfQ09MT1JTID0gNi4wO1xuXHR2YXIgQ09MT1JfUkFUSU8gPSBEU1RfQ09MT1JTIC8gU1JDX0NPTE9SUztcblx0dmFyIHJnYiA9IFJPVC5Db2xvci5mcm9tU3RyaW5nKGNvbG9yKTtcblx0dmFyIHIgPSBNYXRoLmZsb29yKHJnYlswXSAqIENPTE9SX1JBVElPKTtcblx0dmFyIGcgPSBNYXRoLmZsb29yKHJnYlsxXSAqIENPTE9SX1JBVElPKTtcblx0dmFyIGIgPSBNYXRoLmZsb29yKHJnYlsyXSAqIENPTE9SX1JBVElPKTtcblx0cmV0dXJuIHIqMzYgKyBnKjYgKyBiKjEgKyAxNjtcbn1cbi8qKlxuICogRXhwb3J0IHRvIE5vZGUuanMgbW9kdWxlXG4gKi9cbmZvciAodmFyIHAgaW4gUk9UKSB7XG5cdGV4cG9ydHNbcF0gPSBST1RbcF07XG59XG4iLCIoZnVuY3Rpb24od2luZG93KSB7XG4gICAgdmFyIHJlID0ge1xuICAgICAgICBub3Rfc3RyaW5nOiAvW15zXS8sXG4gICAgICAgIG51bWJlcjogL1tkaWVmZ10vLFxuICAgICAgICBqc29uOiAvW2pdLyxcbiAgICAgICAgbm90X2pzb246IC9bXmpdLyxcbiAgICAgICAgdGV4dDogL15bXlxceDI1XSsvLFxuICAgICAgICBtb2R1bG86IC9eXFx4MjV7Mn0vLFxuICAgICAgICBwbGFjZWhvbGRlcjogL15cXHgyNSg/OihbMS05XVxcZCopXFwkfFxcKChbXlxcKV0rKVxcKSk/KFxcKyk/KDB8J1teJF0pPygtKT8oXFxkKyk/KD86XFwuKFxcZCspKT8oW2ItZ2lqb3N1eFhdKS8sXG4gICAgICAgIGtleTogL14oW2Etel9dW2Etel9cXGRdKikvaSxcbiAgICAgICAga2V5X2FjY2VzczogL15cXC4oW2Etel9dW2Etel9cXGRdKikvaSxcbiAgICAgICAgaW5kZXhfYWNjZXNzOiAvXlxcWyhcXGQrKVxcXS8sXG4gICAgICAgIHNpZ246IC9eW1xcK1xcLV0vXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3ByaW50ZigpIHtcbiAgICAgICAgdmFyIGtleSA9IGFyZ3VtZW50c1swXSwgY2FjaGUgPSBzcHJpbnRmLmNhY2hlXG4gICAgICAgIGlmICghKGNhY2hlW2tleV0gJiYgY2FjaGUuaGFzT3duUHJvcGVydHkoa2V5KSkpIHtcbiAgICAgICAgICAgIGNhY2hlW2tleV0gPSBzcHJpbnRmLnBhcnNlKGtleSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ByaW50Zi5mb3JtYXQuY2FsbChudWxsLCBjYWNoZVtrZXldLCBhcmd1bWVudHMpXG4gICAgfVxuXG4gICAgc3ByaW50Zi5mb3JtYXQgPSBmdW5jdGlvbihwYXJzZV90cmVlLCBhcmd2KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSAxLCB0cmVlX2xlbmd0aCA9IHBhcnNlX3RyZWUubGVuZ3RoLCBub2RlX3R5cGUgPSBcIlwiLCBhcmcsIG91dHB1dCA9IFtdLCBpLCBrLCBtYXRjaCwgcGFkLCBwYWRfY2hhcmFjdGVyLCBwYWRfbGVuZ3RoLCBpc19wb3NpdGl2ZSA9IHRydWUsIHNpZ24gPSBcIlwiXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0cmVlX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBub2RlX3R5cGUgPSBnZXRfdHlwZShwYXJzZV90cmVlW2ldKVxuICAgICAgICAgICAgaWYgKG5vZGVfdHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoXSA9IHBhcnNlX3RyZWVbaV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5vZGVfdHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2ggPSBwYXJzZV90cmVlW2ldIC8vIGNvbnZlbmllbmNlIHB1cnBvc2VzIG9ubHlcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hbMl0pIHsgLy8ga2V5d29yZCBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd2W2N1cnNvcl1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IG1hdGNoWzJdLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZy5oYXNPd25Qcm9wZXJ0eShtYXRjaFsyXVtrXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3ByaW50ZihcIltzcHJpbnRmXSBwcm9wZXJ0eSAnJXMnIGRvZXMgbm90IGV4aXN0XCIsIG1hdGNoWzJdW2tdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ1ttYXRjaFsyXVtrXV1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFsxXSkgeyAvLyBwb3NpdGlvbmFsIGFyZ3VtZW50IChleHBsaWNpdClcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndlttYXRjaFsxXV1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IC8vIHBvc2l0aW9uYWwgYXJndW1lbnQgKGltcGxpY2l0KVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd2W2N1cnNvcisrXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChnZXRfdHlwZShhcmcpID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcoKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZS5ub3Rfc3RyaW5nLnRlc3QobWF0Y2hbOF0pICYmIHJlLm5vdF9qc29uLnRlc3QobWF0Y2hbOF0pICYmIChnZXRfdHlwZShhcmcpICE9IFwibnVtYmVyXCIgJiYgaXNOYU4oYXJnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzcHJpbnRmKFwiW3NwcmludGZdIGV4cGVjdGluZyBudW1iZXIgYnV0IGZvdW5kICVzXCIsIGdldF90eXBlKGFyZykpKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZS5udW1iZXIudGVzdChtYXRjaFs4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNfcG9zaXRpdmUgPSBhcmcgPj0gMFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHN3aXRjaCAobWF0Y2hbOF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy50b1N0cmluZygyKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gU3RyaW5nLmZyb21DaGFyQ29kZShhcmcpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBwYXJzZUludChhcmcsIDEwKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwialwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gSlNPTi5zdHJpbmdpZnkoYXJnLCBudWxsLCBtYXRjaFs2XSA/IHBhcnNlSW50KG1hdGNoWzZdKSA6IDApXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBtYXRjaFs3XSA/IGFyZy50b0V4cG9uZW50aWFsKG1hdGNoWzddKSA6IGFyZy50b0V4cG9uZW50aWFsKClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IG1hdGNoWzddID8gcGFyc2VGbG9hdChhcmcpLnRvRml4ZWQobWF0Y2hbN10pIDogcGFyc2VGbG9hdChhcmcpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBtYXRjaFs3XSA/IHBhcnNlRmxvYXQoYXJnKS50b1ByZWNpc2lvbihtYXRjaFs3XSkgOiBwYXJzZUZsb2F0KGFyZylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm9cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy50b1N0cmluZyg4KVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gKChhcmcgPSBTdHJpbmcoYXJnKSkgJiYgbWF0Y2hbN10gPyBhcmcuc3Vic3RyaW5nKDAsIG1hdGNoWzddKSA6IGFyZylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZyA+Pj4gMFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiWFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZS5qc29uLnRlc3QobWF0Y2hbOF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoXSA9IGFyZ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlLm51bWJlci50ZXN0KG1hdGNoWzhdKSAmJiAoIWlzX3Bvc2l0aXZlIHx8IG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbiA9IGlzX3Bvc2l0aXZlID8gXCIrXCIgOiBcIi1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnRvU3RyaW5nKCkucmVwbGFjZShyZS5zaWduLCBcIlwiKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbiA9IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYWRfY2hhcmFjdGVyID0gbWF0Y2hbNF0gPyBtYXRjaFs0XSA9PT0gXCIwXCIgPyBcIjBcIiA6IG1hdGNoWzRdLmNoYXJBdCgxKSA6IFwiIFwiXG4gICAgICAgICAgICAgICAgICAgIHBhZF9sZW5ndGggPSBtYXRjaFs2XSAtIChzaWduICsgYXJnKS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgcGFkID0gbWF0Y2hbNl0gPyAocGFkX2xlbmd0aCA+IDAgPyBzdHJfcmVwZWF0KHBhZF9jaGFyYWN0ZXIsIHBhZF9sZW5ndGgpIDogXCJcIikgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFtvdXRwdXQubGVuZ3RoXSA9IG1hdGNoWzVdID8gc2lnbiArIGFyZyArIHBhZCA6IChwYWRfY2hhcmFjdGVyID09PSBcIjBcIiA/IHNpZ24gKyBwYWQgKyBhcmcgOiBwYWQgKyBzaWduICsgYXJnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIilcbiAgICB9XG5cbiAgICBzcHJpbnRmLmNhY2hlID0ge31cblxuICAgIHNwcmludGYucGFyc2UgPSBmdW5jdGlvbihmbXQpIHtcbiAgICAgICAgdmFyIF9mbXQgPSBmbXQsIG1hdGNoID0gW10sIHBhcnNlX3RyZWUgPSBbXSwgYXJnX25hbWVzID0gMFxuICAgICAgICB3aGlsZSAoX2ZtdCkge1xuICAgICAgICAgICAgaWYgKChtYXRjaCA9IHJlLnRleHQuZXhlYyhfZm10KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJzZV90cmVlW3BhcnNlX3RyZWUubGVuZ3RoXSA9IG1hdGNoWzBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgobWF0Y2ggPSByZS5tb2R1bG8uZXhlYyhfZm10KSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJzZV90cmVlW3BhcnNlX3RyZWUubGVuZ3RoXSA9IFwiJVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgobWF0Y2ggPSByZS5wbGFjZWhvbGRlci5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaFsyXSkge1xuICAgICAgICAgICAgICAgICAgICBhcmdfbmFtZXMgfD0gMVxuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRfbGlzdCA9IFtdLCByZXBsYWNlbWVudF9maWVsZCA9IG1hdGNoWzJdLCBmaWVsZF9tYXRjaCA9IFtdXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZmllbGRfbWF0Y2ggPSByZS5rZXkuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZF9saXN0W2ZpZWxkX2xpc3QubGVuZ3RoXSA9IGZpZWxkX21hdGNoWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKHJlcGxhY2VtZW50X2ZpZWxkID0gcmVwbGFjZW1lbnRfZmllbGQuc3Vic3RyaW5nKGZpZWxkX21hdGNoWzBdLmxlbmd0aCkpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChmaWVsZF9tYXRjaCA9IHJlLmtleV9hY2Nlc3MuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkX2xpc3RbZmllbGRfbGlzdC5sZW5ndGhdID0gZmllbGRfbWF0Y2hbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKGZpZWxkX21hdGNoID0gcmUuaW5kZXhfYWNjZXNzLmV4ZWMocmVwbGFjZW1lbnRfZmllbGQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZF9saXN0W2ZpZWxkX2xpc3QubGVuZ3RoXSA9IGZpZWxkX21hdGNoWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJbc3ByaW50Zl0gZmFpbGVkIHRvIHBhcnNlIG5hbWVkIGFyZ3VtZW50IGtleVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIltzcHJpbnRmXSBmYWlsZWQgdG8gcGFyc2UgbmFtZWQgYXJndW1lbnQga2V5XCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gPSBmaWVsZF9saXN0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcmdfbmFtZXMgfD0gMlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXJnX25hbWVzID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltzcHJpbnRmXSBtaXhpbmcgcG9zaXRpb25hbCBhbmQgbmFtZWQgcGxhY2Vob2xkZXJzIGlzIG5vdCAoeWV0KSBzdXBwb3J0ZWRcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyc2VfdHJlZVtwYXJzZV90cmVlLmxlbmd0aF0gPSBtYXRjaFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiW3NwcmludGZdIHVuZXhwZWN0ZWQgcGxhY2Vob2xkZXJcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9mbXQgPSBfZm10LnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlX3RyZWVcbiAgICB9XG5cbiAgICB2YXIgdnNwcmludGYgPSBmdW5jdGlvbihmbXQsIGFyZ3YsIF9hcmd2KSB7XG4gICAgICAgIF9hcmd2ID0gKGFyZ3YgfHwgW10pLnNsaWNlKDApXG4gICAgICAgIF9hcmd2LnNwbGljZSgwLCAwLCBmbXQpXG4gICAgICAgIHJldHVybiBzcHJpbnRmLmFwcGx5KG51bGwsIF9hcmd2KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGhlbHBlcnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRfdHlwZSh2YXJpYWJsZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhcmlhYmxlKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0cl9yZXBlYXQoaW5wdXQsIG11bHRpcGxpZXIpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5KG11bHRpcGxpZXIgKyAxKS5qb2luKGlucHV0KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGV4cG9ydCB0byBlaXRoZXIgYnJvd3NlciBvciBub2RlLmpzXG4gICAgICovXG4gICAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGV4cG9ydHMuc3ByaW50ZiA9IHNwcmludGZcbiAgICAgICAgZXhwb3J0cy52c3ByaW50ZiA9IHZzcHJpbnRmXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3aW5kb3cuc3ByaW50ZiA9IHNwcmludGZcbiAgICAgICAgd2luZG93LnZzcHJpbnRmID0gdnNwcmludGZcblxuICAgICAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzcHJpbnRmOiBzcHJpbnRmLFxuICAgICAgICAgICAgICAgICAgICB2c3ByaW50ZjogdnNwcmludGZcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxufSkodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiB3aW5kb3cpO1xuIiwiLy8gaW1wb3J0IHsgYXBwbHlNaWRkbGV3YXJlLCBjcmVhdGVTdG9yZSB9IGZyb20gJ3JlZHV4Jztcbi8vIGltcG9ydCBjcmVhdGVMb2dnZXIgZnJvbSAncmVkdXgtbG9nZ2VyJztcbi8vIGltcG9ydCBST1QgZnJvbSAncm90LWpzJztcblxuLy8gaW1wb3J0IGdhbWVSZWR1Y2VyIGZyb20gJy4vcmVkdWNlcnMnO1xuLy8gaW1wb3J0IGluaXRpYWxTdGF0ZSBmcm9tICcuL2luaXRpYWxTdGF0ZSc7XG5cbmltcG9ydCBHYW1lIGZyb20gJy4vZ2FtZSc7XG5cbigod2luZG93LCBjb25zb2xlKSA9PiB7XG4gIC8vIHdpbmRvdy5TVEFURSA9IGNyZWF0ZVN0b3JlKFxuICAvLyAgIGdhbWVSZWR1Y2VyLFxuICAvLyAgIGluaXRpYWxTdGF0ZSxcbiAgLy8gICBhcHBseU1pZGRsZXdhcmUoY3JlYXRlTG9nZ2VyKCkpXG4gIC8vICk7XG5cbiAgR2FtZS5zd2l0Y2hTY3JlZW4oR2FtZS5TY3JlZW4uU3RhcnRTY3JlZW4pO1xuXG4gIGNvbnN0IG1haW5EaXNwbGF5ID0gR2FtZS5nZXREaXNwbGF5KCk7XG4gIC8vIGNvbnN0IGdhbWVDb25zb2xlID0gbmV3IFJPVC5EaXNwbGF5KHtcbiAgLy8gICB3aWR0aDogNDUsXG4gIC8vICAgaGVpZ2h0OiAxMCxcbiAgLy8gICBmb250U2l6ZTogMTUsXG4gIC8vICAgZm9yY2VTcXVhcmVSYXRpbzogdHJ1ZSxcbiAgLy8gfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4tZGlzcGxheScpLmFwcGVuZENoaWxkKG1haW5EaXNwbGF5LmdldENvbnRhaW5lcigpKTtcbiAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnNvbGUnKS5hcHBlbmRDaGlsZChnYW1lQ29uc29sZS5nZXRDb250YWluZXIoKSk7XG5cbiAgLy8gd2luZG93LlNUQVRFLmRpc3BhdGNoKHtcbiAgLy8gICB0eXBlOiAnQUREX01FU1NBR0UnLFxuICAvLyAgIG1lc3NhZ2U6IHsgdGV4dDogJ2hlbGxvLCB3b3JsZCEnIH0sXG4gIC8vIH0pO1xufSkod2luZG93LCB3aW5kb3cuY29uc29sZSk7XG4iLCJpbXBvcnQgR2x5cGggZnJvbSAnLi9nbHlwaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVudGl0eSBleHRlbmRzIEdseXBoIHtcbiAgY29uc3RydWN0b3IocHJvcGVydGllcyA9IHt9KSB7XG4gICAgc3VwZXIocHJvcGVydGllcyk7XG5cbiAgICB0aGlzLl9uYW1lID0gcHJvcGVydGllcy5uYW1lIHx8ICcnO1xuICAgIHRoaXMuX3ggPSBwcm9wZXJ0aWVzLnggfHwgMDtcbiAgICB0aGlzLl95ID0gcHJvcGVydGllcy55IHx8IDA7XG4gICAgdGhpcy5fbWFwID0gbnVsbDtcblxuICAgIHRoaXMuX2F0dGFjaGVkTWl4aW5zID0ge307XG4gICAgdGhpcy5fYXR0YWNoZWRNaXhpbkdyb3VwcyA9IHt9O1xuICAgIGNvbnN0IG1peGlucyA9IHByb3BlcnRpZXMubWl4aW5zIHx8IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBtaXhpbiA9IG1peGluc1tpXTtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhtaXhpbik7XG5cbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2tdO1xuXG4gICAgICAgIGlmIChrZXkgIT09ICdpbml0JyAmJiBrZXkgIT09ICduYW1lJyAmJiBrZXkgIT09ICdncm91cE5hbWUnICYmICF0aGlzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICB0aGlzW2tleV0gPSBtaXhpbltrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYXR0YWNoZWRNaXhpbnNbbWl4aW4ubmFtZV0gPSB0cnVlO1xuICAgICAgICBpZiAobWl4aW4uZ3JvdXBOYW1lKSB7XG4gICAgICAgICAgdGhpcy5fYXR0YWNoZWRNaXhpbkdyb3Vwc1ttaXhpbi5ncm91cE5hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaXhpbi5pbml0KSB7XG4gICAgICAgICAgbWl4aW4uaW5pdC5jYWxsKHRoaXMsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFzTWl4aW4ob2JqKSB7XG4gICAgY29uc3QgbWl4aW4gPSAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpID8gb2JqLm5hbWUgOiBvYmo7XG4gICAgcmV0dXJuIHRoaXMuX2F0dGFjaGVkTWl4aW5Hcm91cHNbbWl4aW5dIHx8IHRoaXMuX2F0dGFjaGVkTWl4aW5zW21peGluXTtcbiAgfVxuXG4gIHNldE5hbWUobmFtZSkge1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICB9XG5cbiAgc2V0WCh4KSB7XG4gICAgdGhpcy5feCA9IHg7XG4gIH1cblxuICBzZXRZKHkpIHtcbiAgICB0aGlzLl95ID0geTtcbiAgfVxuXG4gIGdldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX25hbWU7XG4gIH1cblxuICBnZXRYKCkge1xuICAgIHJldHVybiB0aGlzLl94O1xuICB9XG5cbiAgZ2V0WSgpIHtcbiAgICByZXR1cm4gdGhpcy5feTtcbiAgfVxuXG4gIHNldE1hcChtYXApIHtcbiAgICB0aGlzLl9tYXAgPSBtYXA7XG4gIH1cblxuICBnZXRNYXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2x5cGgge1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzID0ge30pIHtcbiAgICB0aGlzLl9jaGFyID0gcHJvcGVydGllcy5jaGFyIHx8ICcgJztcbiAgICB0aGlzLl9mZyA9IHByb3BlcnRpZXMuZmcgfHwgJ3doaXRlJztcbiAgICB0aGlzLl9iZyA9IHByb3BlcnRpZXMuYmcgfHwgJ2JsYWNrJztcbiAgfVxuXG4gIGdldENoYXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NoYXI7XG4gIH1cblxuICBnZXRCYWNrZ3JvdW5kKCkge1xuICAgIHJldHVybiB0aGlzLl9iZztcbiAgfVxuXG4gIGdldEZvcmVncm91bmQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZnO1xuICB9XG59XG4iLCJpbXBvcnQgUk9UIGZyb20gJ3JvdC1qcyc7XG5pbXBvcnQgeyB2c3ByaW50ZiB9IGZyb20gJ3NwcmludGYtanMnO1xuXG5pbXBvcnQgU2NyZWVuIGZyb20gJy4vc2NyZWVuJztcbmltcG9ydCB7IE1lc3NhZ2VSZWNpcGllbnQgfSBmcm9tICcuL21peGlucyc7XG5cbmNvbnN0IGRpc3BsYXlEZWZhdWx0cyA9IHtcbiAgd2lkdGg6IDgwLFxuICBoZWlnaHQ6IDI0LFxuICBmb250U2l6ZTogMTUsXG4gIGZvcmNlU3F1YXJlUmF0aW86IHRydWUsXG59O1xuXG5leHBvcnQgY29uc3QgR2FtZSA9IHtcbiAgU2NyZWVuLFxuXG4gIF9kaXNwbGF5OiBudWxsLFxuICBfY3VycmVudFNjcmVlbjogbnVsbCxcbiAgX3NjcmVlbldpZHRoOiBkaXNwbGF5RGVmYXVsdHMud2lkdGgsXG4gIF9zY3JlZW5IZWlnaHQ6IGRpc3BsYXlEZWZhdWx0cy5oZWlnaHQsXG5cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgdGhpcy5fZGlzcGxheSA9IG5ldyBST1QuRGlzcGxheShPYmplY3QuYXNzaWduKHt9LCBkaXNwbGF5RGVmYXVsdHMsIG9wdGlvbnMpKTtcbiAgICBjb25zdCBfZ2FtZSA9IHRoaXM7XG4gICAgY29uc3QgYmluZEV2ZW50VG9TY3JlZW4gPSAoZXZlbnQpID0+IHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoZSkgPT4ge1xuICAgICAgICBpZiAoX2dhbWUuX2N1cnJlbnRTY3JlZW4gIT09IG51bGwpIHtcbiAgICAgICAgICBfZ2FtZS5fY3VycmVudFNjcmVlbi5oYW5kbGVJbnB1dChldmVudCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgWydrZXlkb3duJywgJ2tleXVwJywgJ2tleXByZXNzJ10uZm9yRWFjaChiaW5kRXZlbnRUb1NjcmVlbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgcmVmcmVzaCgpIHtcbiAgICB0aGlzLl9kaXNwbGF5LmNsZWFyKCk7XG4gICAgdGhpcy5fY3VycmVudFNjcmVlbi5yZW5kZXIodGhpcy5fZGlzcGxheSk7XG4gIH0sXG5cbiAgZ2V0RGlzcGxheSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGlzcGxheTtcbiAgfSxcblxuICBnZXRTY3JlZW5XaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2NyZWVuV2lkdGg7XG4gIH0sXG5cbiAgZ2V0U2NyZWVuSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLl9zY3JlZW5IZWlnaHQ7XG4gIH0sXG5cbiAgc3dpdGNoU2NyZWVuKHNjcmVlbikge1xuICAgIGNvbnNvbGUubG9nKCdzd2l0Y2hTY3JlZW4nLCBzY3JlZW4pO1xuICAgIGlmICh0aGlzLl9jdXJyZW50U2NyZWVuICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9jdXJyZW50U2NyZWVuLmV4aXQoKTtcbiAgICB9XG5cbiAgICB0aGlzLmdldERpc3BsYXkoKS5jbGVhcigpO1xuXG4gICAgdGhpcy5fY3VycmVudFNjcmVlbiA9IHNjcmVlbjtcblxuICAgIGlmICghdGhpcy5fY3VycmVudFNjcmVlbiAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5fY3VycmVudFNjcmVlbi5lbnRlcigpO1xuICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuICB9LFxuICBzZW5kTWVzc2FnZShyZWNpcGllbnQsIG1lc3NhZ2UsIGFyZ3MpIHtcbiAgICBsZXQgbXNnO1xuICAgIGlmIChyZWNpcGllbnQuaGFzTWl4aW4oTWVzc2FnZVJlY2lwaWVudCkpIHtcbiAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgIG1zZyA9IHZzcHJpbnRmKG1lc3NhZ2UsIGFyZ3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXNnID0gbWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlY2lwaWVudC5yZWNlaXZlTWVzc2FnZShtc2cpO1xuICAgIH1cbiAgfSxcbiAgc2VuZE1lc3NhZ2VOZWFyYnkobWFwLCB4LCB5LCBtZXNzYWdlLCBhcmdzKSB7XG4gICAgbGV0IG1zZyA9IG1lc3NhZ2U7XG4gICAgaWYgKGFyZ3MpIHtcbiAgICAgIG1zZyA9IHZzcHJpbnRmKG1lc3NhZ2UsIGFyZ3MpO1xuICAgIH1cblxuICAgIGNvbnN0IGVudGl0aWVzID0gbWFwLmdldEVudGl0aWVzV2l0aGluUmFkaXVzKHgsIHksIDUpO1xuICAgIGVudGl0aWVzLmZvckVhY2goZSA9PiB7XG4gICAgICBpZiAoZS5oYXNNaXhpbihNZXNzYWdlUmVjaXBpZW50KSkge1xuICAgICAgICBlLnJlY2VpdmVNZXNzYWdlKG1zZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBHYW1lLmluaXQoKTtcbiIsImltcG9ydCBST1QgZnJvbSAncm90LWpzJztcbmltcG9ydCB7IEZ1bmd1c1RlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZXMnO1xuaW1wb3J0IEVudGl0eSBmcm9tICcuL2VudGl0eSc7XG5pbXBvcnQgeyBOdWxsVGlsZSwgRmxvb3JUaWxlIH0gZnJvbSAnLi90aWxlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwIHtcbiAgY29uc3RydWN0b3IodGlsZXMsIHBsYXllcikge1xuICAgIC8vIHRpbGVzXG4gICAgdGhpcy5fdGlsZXMgPSB0aWxlcztcbiAgICB0aGlzLl93aWR0aCA9IHRpbGVzLmxlbmd0aDtcbiAgICB0aGlzLl9oZWlnaHQgPSB0aWxlc1swXS5sZW5ndGg7XG5cbiAgICAvLyBlbnRpdGllc1xuICAgIHRoaXMuX2VudGl0aWVzID0gW107XG4gICAgdGhpcy5fc2NoZWR1bGVyID0gbmV3IFJPVC5TY2hlZHVsZXIuU2ltcGxlKCk7XG4gICAgdGhpcy5fZW5naW5lID0gbmV3IFJPVC5FbmdpbmUodGhpcy5fc2NoZWR1bGVyKTtcblxuICAgIHRoaXMuYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihwbGF5ZXIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDsgaSsrKSB7XG4gICAgICB0aGlzLmFkZEVudGl0eUF0UmFuZG9tUG9zaXRpb24obmV3IEVudGl0eShGdW5ndXNUZW1wbGF0ZSkpO1xuICAgIH1cbiAgfVxuXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLl93aWR0aDtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG5cbiAgZ2V0VGlsZSh4LCB5KSB7XG4gICAgbGV0IHJldCA9IE51bGxUaWxlO1xuICAgIGlmICghKHggPCAwIHx8IHggPj0gdGhpcy5fd2lkdGggfHwgeSA8IDAgfHwgeSA+PSB0aGlzLmhlaWdodCkpIHtcbiAgICAgIHJldCA9IHRoaXMuX3RpbGVzW3hdW3ldIHx8IHJldDtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIGRpZyh4LCB5KSB7XG4gICAgaWYgKHRoaXMuZ2V0VGlsZSh4LCB5KS5pc0RpZ2dhYmxlKCkpIHtcbiAgICAgIHRoaXMuX3RpbGVzW3hdW3ldID0gRmxvb3JUaWxlO1xuICAgIH1cbiAgfVxuXG4gIGdldFJhbmRvbUZsb29yUG9zaXRpb24oKSB7XG4gICAgbGV0IHg7XG4gICAgbGV0IHk7XG4gICAgZG8ge1xuICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuX3dpZHRoKTtcbiAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLl9oZWlnaHQpO1xuICAgIH0gd2hpbGUgKCF0aGlzLmlzRW1wdHlGbG9vcih4LCB5KSk7XG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9XG5cbiAgZ2V0RW5naW5lKCkge1xuICAgIHJldHVybiB0aGlzLl9lbmdpbmU7XG4gIH1cblxuICBnZXRFbnRpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5fZW50aXRpZXM7XG4gIH1cblxuICBnZXRFbnRpdHlBdCh4LCB5KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGVudGl0eSA9IHRoaXMuX2VudGl0aWVzW2ldO1xuICAgICAgaWYgKGVudGl0eS5nZXRYKCkgPT0geCAmJiBlbnRpdHkuZ2V0WSgpID09IHkpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRFbnRpdGllc1dpdGhpblJhZGl1cyhjZW50ZXJYLCBjZW50ZXJZLCByYWRpdXMpIHtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgY29uc3QgbGVmdFggPSBjZW50ZXJYIC0gcmFkaXVzO1xuICAgIGNvbnN0IHJpZ2h0WCA9IGNlbnRlclggKyByYWRpdXM7XG4gICAgY29uc3QgdG9wWSA9IGNlbnRlclkgLSByYWRpdXM7XG4gICAgY29uc3QgYm90dG9tWSA9IGNlbnRlclkgKyByYWRpdXM7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2VudGl0aWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLl9lbnRpdGllc1tpXTtcbiAgICAgIGlmIChlbnRpdHkuZ2V0WCgpID49IGxlZnRYICYmXG4gICAgICAgIGVudGl0eS5nZXRYKCkgPD0gcmlnaHRYICYmXG4gICAgICAgIGVudGl0eS5nZXRZKCkgPj0gdG9wWSAmJlxuICAgICAgICBlbnRpdHkuZ2V0WSgpIDw9IGJvdHRvbVkpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goZW50aXR5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGFkZEVudGl0eShlbnRpdHkpIHtcbiAgICBpZiAoZW50aXR5LmdldFgoKSA8IDAgfHwgZW50aXR5LmdldFgoKSA+PSB0aGlzLl93aWR0aCB8fCBlbnRpdHkuZ2V0WSgpIDwgMCB8fCBlbnRpdHkuZ2V0WSgpID49IHRoaXMuX2hlaWdodCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZGRpbmcgZW50aXR5IG91dCBvZiBib3VuZHMuJyk7XG4gICAgfVxuXG4gICAgZW50aXR5LnNldE1hcCh0aGlzKTtcbiAgICB0aGlzLl9lbnRpdGllcy5wdXNoKGVudGl0eSk7XG5cbiAgICBpZiAoZW50aXR5Lmhhc01peGluKCdBY3RvcicpKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZXIuYWRkKGVudGl0eSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRW50aXR5QXRSYW5kb21Qb3NpdGlvbihlbnRpdHkpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuZ2V0UmFuZG9tRmxvb3JQb3NpdGlvbigpO1xuICAgIGVudGl0eS5zZXRYKHBvc2l0aW9uLngpO1xuICAgIGVudGl0eS5zZXRZKHBvc2l0aW9uLnkpO1xuICAgIHRoaXMuYWRkRW50aXR5KGVudGl0eSk7XG4gIH1cblxuICByZW1vdmVFbnRpdHkoZW50aXR5KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9lbnRpdGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX2VudGl0aWVzW2ldID09IGVudGl0eSkge1xuICAgICAgICB0aGlzLl9lbnRpdGllcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW50aXR5Lmhhc01peGluKCdBY3RvcicpKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZXIucmVtb3ZlKGVudGl0eSk7XG4gICAgfVxuICB9XG5cbiAgaXNFbXB0eUZsb29yKHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaWxlKHgsIHkpID09IEZsb29yVGlsZSAmJiAhdGhpcy5nZXRFbnRpdHlBdCh4LCB5KTtcbiAgfVxufVxuIiwiaW1wb3J0IEVudGl0eSBmcm9tICcuL2VudGl0eSc7XG5pbXBvcnQgeyBGdW5ndXNUZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGVzJztcblxuaW1wb3J0IEdhbWUgZnJvbSAnLi9pbmRleCc7XG5cbmV4cG9ydCBjb25zdCBNb3ZlYWJsZSA9IHtcbiAgbmFtZTogJ01vdmVhYmxlJyxcbiAgdHJ5TW92ZSh4LCB5LCBtYXApIHtcbiAgICBjb25zdCB0aWxlID0gbWFwLmdldFRpbGUoeCwgeSk7XG4gICAgY29uc3QgdGFyZ2V0ID0gbWFwLmdldEVudGl0eUF0KHgsIHkpO1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaWYgKHRoaXMuaGFzTWl4aW4oJ0F0dGFja2VyJykpIHtcbiAgICAgICAgdGhpcy5hdHRhY2sodGFyZ2V0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aWxlLmlzV2Fsa2FibGUoKSkge1xuICAgICAgdGhpcy5feCA9IHg7XG4gICAgICB0aGlzLl95ID0geTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGlsZS5pc0RpZ2dhYmxlKCkpIHtcbiAgICAgIGlmICh0aGlzLmhhc01peGluKCdEaWdnZXInKSkge1xuICAgICAgICB0aGlzLmRpZyh4LCB5LCBtYXApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IFBsYXllckFjdG9yID0ge1xuICBuYW1lOiAnUGxheWVyQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG5cbiAgYWN0KCkge1xuICAgIEdhbWUucmVmcmVzaCgpO1xuICAgIHRoaXMuZ2V0TWFwKCkuZ2V0RW5naW5lKCkubG9jaygpO1xuICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEZ1bmd1c0FjdG9yID0ge1xuICBuYW1lOiAnRnVuZ3VzQWN0b3InLFxuICBncm91cE5hbWU6ICdBY3RvcicsXG4gIGluaXQoKSB7XG4gICAgdGhpcy5fZ3Jvd3Roc1JlbWFpbmluZyA9IDU7XG4gIH0sXG4gIGFjdCgpIHtcbiAgICBpZiAodGhpcy5fZ3Jvd3Roc1JlbWFpbmluZyA+IDApIHtcbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDw9IDAuMDIpIHtcbiAgICAgICAgY29uc3QgeE9mZnNldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTtcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpIC0gMTtcbiAgICAgICAgaWYgKHhPZmZzZXQgIT09IDAgfHwgeU9mZnNldCAhPT0gMCkge1xuICAgICAgICAgIGlmICh0aGlzLmdldE1hcCgpLmlzRW1wdHlGbG9vcih0aGlzLmdldFgoKSArIHhPZmZzZXQsIHRoaXMuZ2V0WSgpICsgeU9mZnNldCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IG5ldyBFbnRpdHkoRnVuZ3VzVGVtcGxhdGUpO1xuICAgICAgICAgICAgZW50aXR5LnNldFgodGhpcy5nZXRYKCkgKyB4T2Zmc2V0KTtcbiAgICAgICAgICAgIGVudGl0eS5zZXRZKHRoaXMuZ2V0WSgpICsgeU9mZnNldCk7XG4gICAgICAgICAgICB0aGlzLmdldE1hcCgpLmFkZEVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgdGhpcy5fZ3Jvd3Roc1JlbWFpbmluZy0tO1xuXG4gICAgICAgICAgICBHYW1lLnNlbmRNZXNzYWdlTmVhcmJ5KHRoaXMuZ2V0TWFwKCksIGVudGl0eS5nZXRYKCksIGVudGl0eS5nZXRZKCksICdUaGUgZnVuZ3VzIGlzIHNwcmVhZGluZyEnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgRGVzdHJ1Y3RpYmxlID0ge1xuICBuYW1lOiAnRGVzdHJ1Y3RpYmxlJyxcbiAgaW5pdCh0ZW1wbGF0ZSkge1xuICAgIHRoaXMuX21heEhQID0gdGVtcGxhdGUubWF4SFAgfHwgMTA7XG4gICAgdGhpcy5fSFAgPSB0ZW1wbGF0ZS5IUCB8fCB0aGlzLl9tYXhIUDtcblxuICAgIHRoaXMuX2RlZmVuc2VWYWx1ZSA9IHRlbXBsYXRlLmRlZmVuc2VWYWx1ZSB8fCAwO1xuICB9LFxuICBnZXRIUCgpIHtcbiAgICByZXR1cm4gdGhpcy5fSFA7XG4gIH0sXG4gIGdldE1heEhQKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXhIUDtcbiAgfSxcbiAgZ2V0RGVmZW5zZVZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZlbnNlVmFsdWU7XG4gIH0sXG4gIHRha2VEYW1hZ2UoYXR0YWNrZXIsIGRhbWFnZSkge1xuICAgIHRoaXMuX0hQIC09IGRhbWFnZTtcblxuICAgIGlmICh0aGlzLl9IUCA8PSAwKSB7XG4gICAgICBHYW1lLnNlbmRNZXNzYWdlKGF0dGFja2VyLCAnWW91IGtpbGwgdGhlICVzIScsIFt0aGlzLmdldE5hbWUoKV0pO1xuICAgICAgR2FtZS5zZW5kTWVzc2FnZSh0aGlzLCAnWW91IGRpZSEnKTtcblxuICAgICAgdGhpcy5nZXRNYXAoKS5yZW1vdmVFbnRpdHkodGhpcyk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IERpZ2dlciA9IHtcbiAgbmFtZTogJ1NpbXBsZURpZ2dlcicsXG4gIGdyb3VwTmFtZTogJ0RpZ2dlcicsXG4gIGRpZyh4LCB5LCBtYXApIHtcbiAgICBtYXAuZGlnKHgsIHkpO1xuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IEF0dGFja2VyID0ge1xuICBuYW1lOiAnQXR0YWNrZXInLFxuICBncm91cE5hbWU6ICdBdHRhY2tlcicsXG4gIGluaXQodGVtcGxhdGUpIHtcbiAgICB0aGlzLl9hdHRhY2tWYWx1ZSA9IHRlbXBsYXRlLmF0dGFja1ZhbHVlIHx8IDE7XG4gIH0sXG4gIGdldEF0dGFja1ZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9hdHRhY2tWYWx1ZTtcbiAgfSxcbiAgYXR0YWNrKHRhcmdldCkge1xuICAgIGlmICh0YXJnZXQuaGFzTWl4aW4oJ0Rlc3RydWN0aWJsZScpKSB7XG4gICAgICBsZXQgYXR0YWNrID0gdGhpcy5nZXRBdHRhY2tWYWx1ZSgpO1xuICAgICAgbGV0IGRlZmVuc2UgPSB0YXJnZXQuZ2V0RGVmZW5zZVZhbHVlKCk7XG4gICAgICBsZXQgbWF4ID0gTWF0aC5tYXgoMCwgYXR0YWNrIC0gZGVmZW5zZSk7XG4gICAgICBsZXQgZGFtYWdlID0gMSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heCk7XG5cbiAgICAgIEdhbWUuc2VuZE1lc3NhZ2UodGhpcywgJ1lvdSBzdHJpa2UgdGhlICVzIGZvciAlZCBkYW1hZ2UhJywgW3RhcmdldC5nZXROYW1lKCksIGRhbWFnZV0pO1xuICAgICAgR2FtZS5zZW5kTWVzc2FnZSh0YXJnZXQsICdUaGUgJXMgc3RyaWtlcyB5b3UgZm9yICVkIGRhbWFnZSEnLCBbdGhpcy5nZXROYW1lKCksIGRhbWFnZV0pO1xuXG4gICAgICB0YXJnZXQudGFrZURhbWFnZSh0aGlzLCBkYW1hZ2UpO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBNZXNzYWdlUmVjaXBpZW50ID0ge1xuICBuYW1lOiAnTWVzc2FnZVJlY2lwaWVudCcsXG4gIGluaXQodGVtcGxhdGUpIHtcbiAgICB0aGlzLl9tZXNzYWdlcyA9IFtdO1xuICB9LFxuICByZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgdGhpcy5fbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgfSxcbiAgZ2V0TWVzc2FnZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VzO1xuICB9LFxuICBjbGVhck1lc3NhZ2VzKCkge1xuICAgIHRoaXMuX21lc3NhZ2VzID0gW107XG4gIH0sXG59O1xuIiwiaW1wb3J0IFJPVCBmcm9tICdyb3QtanMnO1xuaW1wb3J0IHsgTnVsbFRpbGUsIFdhbGxUaWxlLCBGbG9vclRpbGUgfSBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IE1hcCBmcm9tICcuL21hcCc7XG5pbXBvcnQgRW50aXR5IGZyb20gJy4vZW50aXR5JztcbmltcG9ydCB7IFBsYXllclRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZXMnO1xuaW1wb3J0IEdhbWUgZnJvbSAnLi9pbmRleCc7XG5cbmNvbnN0IFN0YXJ0U2NyZWVuID0ge1xuICBlbnRlcjogKCkgPT4gY29uc29sZS5sb2coJ0VudGVyZWQgU3RhcnRTY3JlZW4nKSxcbiAgZXhpdDogKCkgPT4gY29uc29sZS5sb2coJ0V4aXRlZCBTdGFydFNjcmVlbicpLFxuICByZW5kZXI6IChkaXNwbGF5KSA9PiB7XG4gICAgZGlzcGxheS5kcmF3VGV4dCgxLCAxLCAnJWN7eWVsbG93fUphdmFzY3JpcHQgUm9ndWVsaWtlJyk7XG4gICAgZGlzcGxheS5kcmF3VGV4dCgxLCAyLCAnUHJlc3MgW0VudGVyXSB0byBzdGFydCEnKTtcbiAgfSxcbiAgaGFuZGxlSW5wdXQ6ICh0eXBlLCBldmVudCkgPT4ge1xuICAgIGlmICh0eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfUkVUVVJOKSB7XG4gICAgICAgIEdhbWUuc3dpdGNoU2NyZWVuKFBsYXlTY3JlZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbn07XG5cbmNvbnN0IFBsYXlTY3JlZW4gPSB7XG4gIF9tYXA6IG51bGwsXG4gIF9wbGF5ZXI6IG51bGwsXG5cbiAgZW50ZXIoKSB7XG4gICAgY29uc3QgbWFwV2lkdGggPSAxMDA7XG4gICAgY29uc3QgbWFwSGVpZ2h0ID0gNDg7XG4gICAgY29uc3QgZ2VuZXJhdG9yID0gbmV3IFJPVC5NYXAuQ2VsbHVsYXIobWFwV2lkdGgsIG1hcEhlaWdodCk7XG4gICAgY29uc3QgdG90YWxJdGVyYXRpb25zID0gMztcbiAgICBjb25zdCBtYXAgPSBbXTtcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IG1hcFdpZHRoOyB4KyspIHtcbiAgICAgIG1hcC5wdXNoKFtdKTtcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgbWFwSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgbWFwW3hdLnB1c2goTnVsbFRpbGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBnZW5lcmF0b3IucmFuZG9taXplKDAuNSk7XG4gICAgLy8gSXRlcmF0aXZlbHkgc21vb3RoZW4gdGhlIG1hcFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG90YWxJdGVyYXRpb25zIC0gMTsgaSsrKSB7XG4gICAgICBnZW5lcmF0b3IuY3JlYXRlKCk7XG4gICAgfVxuICAgIC8vIFNtb290aGVuIGl0IG9uZSBsYXN0IHRpbWUgYW5kIHRoZW4gdXBkYXRlIG91ciBtYXBcbiAgICBnZW5lcmF0b3IuY3JlYXRlKCh4LCB5LCB2KSA9PiB7XG4gICAgICBpZiAodiA9PT0gMSkge1xuICAgICAgICBtYXBbeF1beV0gPSBGbG9vclRpbGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBbeF1beV0gPSBXYWxsVGlsZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3BsYXllciA9IG5ldyBFbnRpdHkoUGxheWVyVGVtcGxhdGUpO1xuICAgIHRoaXMuX21hcCA9IG5ldyBNYXAobWFwLCB0aGlzLl9wbGF5ZXIpO1xuICAgIHRoaXMuX21hcC5nZXRFbmdpbmUoKS5zdGFydCgpO1xuICB9LFxuXG4gIG1vdmUoZFgsIGRZKSB7XG4gICAgY29uc3QgbmV3WCA9IHRoaXMuX3BsYXllci5nZXRYKCkgKyBkWDtcbiAgICBjb25zdCBuZXdZID0gdGhpcy5fcGxheWVyLmdldFkoKSArIGRZO1xuXG4gICAgdGhpcy5fcGxheWVyLnRyeU1vdmUobmV3WCwgbmV3WSwgdGhpcy5fbWFwKTtcbiAgfSxcblxuICByZW5kZXIoZGlzcGxheSkge1xuICAgIGNvbnN0IHNjcmVlbldpZHRoID0gR2FtZS5nZXRTY3JlZW5XaWR0aCgpO1xuICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IEdhbWUuZ2V0U2NyZWVuSGVpZ2h0KCk7XG5cbiAgICBjb25zdCB0b3BMZWZ0WCA9IE1hdGgubWluKFxuICAgICAgTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMuX3BsYXllci5nZXRYKCkgLSAoc2NyZWVuV2lkdGggLyAyKVxuICAgICAgKSxcbiAgICAgIHRoaXMuX21hcC5nZXRXaWR0aCgpIC0gc2NyZWVuV2lkdGhcbiAgICApO1xuICAgIGNvbnN0IHRvcExlZnRZID0gTWF0aC5taW4oXG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5fcGxheWVyLmdldFkoKSAtIChzY3JlZW5IZWlnaHQgLyAyKVxuICAgICAgKSxcbiAgICAgIHRoaXMuX21hcC5nZXRIZWlnaHQoKSAtIHNjcmVlbkhlaWdodFxuICAgICk7XG5cbiAgICBmb3IgKGxldCB4ID0gdG9wTGVmdFg7IHggPCB0b3BMZWZ0WCArIHNjcmVlbldpZHRoOyB4KyspIHtcbiAgICAgIGZvciAobGV0IHkgPSB0b3BMZWZ0WTsgeSA8IHRvcExlZnRZICsgc2NyZWVuSGVpZ2h0OyB5KyspIHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuX21hcC5nZXRUaWxlKHgsIHkpO1xuICAgICAgICBkaXNwbGF5LmRyYXcoXG4gICAgICAgICAgeCAtIHRvcExlZnRYLFxuICAgICAgICAgIHkgLSB0b3BMZWZ0WSxcbiAgICAgICAgICB0aWxlLmdldENoYXIoKSxcbiAgICAgICAgICB0aWxlLmdldEZvcmVncm91bmQoKSxcbiAgICAgICAgICB0aWxlLmdldEJhY2tncm91bmQoKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBlbnRpdGllcyA9IHRoaXMuX21hcC5nZXRFbnRpdGllcygpO1xuICAgIGVudGl0aWVzLmZvckVhY2goZW50aXR5ID0+IHtcbiAgICAgIGlmIChlbnRpdHkuZ2V0WCgpID49IHRvcExlZnRYICYmIGVudGl0eS5nZXRZKCkgPj0gdG9wTGVmdFkgJiYgZW50aXR5LmdldFgoKSA8IHRvcExlZnRYICsgc2NyZWVuV2lkdGggJiYgZW50aXR5LmdldFkoKSA8IHRvcExlZnRZICsgc2NyZWVuSGVpZ2h0KSB7XG4gICAgICAgIGRpc3BsYXkuZHJhdyhcbiAgICAgICAgICBlbnRpdHkuZ2V0WCgpIC0gdG9wTGVmdFgsXG4gICAgICAgICAgZW50aXR5LmdldFkoKSAtIHRvcExlZnRZLFxuICAgICAgICAgIGVudGl0eS5nZXRDaGFyKCksXG4gICAgICAgICAgZW50aXR5LmdldEZvcmVncm91bmQoKSxcbiAgICAgICAgICBlbnRpdHkuZ2V0QmFja2dyb3VuZCgpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBtZXNzYWdlcyA9IHRoaXMuX3BsYXllci5nZXRNZXNzYWdlcygpO1xuICAgIGxldCBtZXNzYWdlWSA9IDA7XG4gICAgbWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAgIG1lc3NhZ2VZICs9IGRpc3BsYXkuZHJhd1RleHQoXG4gICAgICAgIDAsXG4gICAgICAgIG1lc3NhZ2VZLFxuICAgICAgICBgJWN7d2hpdGV9JWJ7YmxhY2t9JHttZXNzYWdlfWBcbiAgICAgICk7XG4gICAgfSk7XG4gIH0sXG5cbiAgaGFuZGxlSW5wdXQodHlwZSwgZXZlbnQpIHtcbiAgICBpZiAodHlwZSA9PT0gJ2tleWRvd24nKSB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gUk9ULlZLX1JFVFVSTikge1xuICAgICAgICBHYW1lLnN3aXRjaFNjcmVlbihXaW5TY3JlZW4pO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfRVNDQVBFKSB7XG4gICAgICAgIEdhbWUuc3dpdGNoU2NyZWVuKExvc2VTY3JlZW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbW92ZW1lbnRcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IFJPVC5WS19MRUZUKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlKC0xLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfUklHSFQpIHtcbiAgICAgICAgICB0aGlzLm1vdmUoMSwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gUk9ULlZLX1VQKSB7XG4gICAgICAgICAgdGhpcy5tb3ZlKDAsIC0xKTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBST1QuVktfRE9XTikge1xuICAgICAgICAgIHRoaXMubW92ZSgwLCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXAuZ2V0RW5naW5lKCkudW5sb2NrKCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGV4aXQoKSB7XG4gICAgY29uc29sZS5sb2coJ0V4aXRlZCBQbGF5U2NyZWVuJyk7XG4gIH0sXG59O1xuXG5jb25zdCBXaW5TY3JlZW4gPSB7XG4gIGVudGVyOiAoKSA9PiBjb25zb2xlLmxvZygnRW50ZXJlZCBXaW5TY3JlZW4nKSxcbiAgZXhpdDogKCkgPT4gY29uc29sZS5sb2coJ0V4aXRlZCBXaW5TY3JlZW4nKSxcbiAgcmVuZGVyOiAoZGlzcGxheSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjI7IGkrKykge1xuICAgICAgLy8gR2VuZXJhdGUgcmFuZG9tIGJhY2tncm91bmQgY29sb3JzXG4gICAgICBjb25zdCByID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KTtcbiAgICAgIGNvbnN0IGcgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpO1xuICAgICAgY29uc3QgYiA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDI1NSk7XG4gICAgICBjb25zdCBiYWNrZ3JvdW5kID0gUk9ULkNvbG9yLnRvUkdCKFtyLCBnLCBiXSk7XG4gICAgICBkaXNwbGF5LmRyYXdUZXh0KDIsIGkgKyAxLCBgJWJ7JHtiYWNrZ3JvdW5kfX1Zb3Ugd2luIWApO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlSW5wdXQ6ICh0eXBlLCBldmVudCkgPT4geyB9LFxufTtcblxuY29uc3QgTG9zZVNjcmVlbiA9IHtcbiAgZW50ZXI6ICgpID0+IGNvbnNvbGUubG9nKCdFbnRlcmVkIExvc2VTY3JlZW4nKSxcbiAgZXhpdDogKCkgPT4gY29uc29sZS5sb2coJ0V4aXRlZCBMb3NlU2NyZWVuJyksXG4gIHJlbmRlcjogKGRpc3BsYXkpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIyOyBpKyspIHtcbiAgICAgIGRpc3BsYXkuZHJhd1RleHQoMiwgaSArIDEsICclYntyZWR9WW91IGxvc2UhIDooJyk7XG4gICAgfVxuICB9LFxuICBoYW5kbGVJbnB1dDogKHR5cGUsIGV2ZW50KSA9PiB7IH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFN0YXJ0U2NyZWVuLFxuICBQbGF5U2NyZWVuLFxuICBXaW5TY3JlZW4sXG4gIExvc2VTY3JlZW4sXG59O1xuIiwiaW1wb3J0IHtcbiAgTW92ZWFibGUsXG4gIFBsYXllckFjdG9yLFxuICBGdW5ndXNBY3RvcixcbiAgQXR0YWNrZXIsXG4gIERlc3RydWN0aWJsZSxcbiAgRGlnZ2VyLFxuICBNZXNzYWdlUmVjaXBpZW50LFxufSBmcm9tICcuL21peGlucyc7XG5cbmV4cG9ydCBjb25zdCBQbGF5ZXJUZW1wbGF0ZSA9IHtcbiAgY2hhcjogJ0AnLFxuICBmZzogJ3doaXRlJyxcbiAgbWF4SFA6IDQwLFxuICBhdHRhY2tWYWx1ZTogMTAsXG4gIG1peGluczogW1xuICAgIE1vdmVhYmxlLFxuICAgIFBsYXllckFjdG9yLFxuICAgIEF0dGFja2VyLFxuICAgIERpZ2dlcixcbiAgICBEZXN0cnVjdGlibGUsXG4gICAgTWVzc2FnZVJlY2lwaWVudCxcbiAgXSxcbn07XG5cbmV4cG9ydCBjb25zdCBGdW5ndXNUZW1wbGF0ZSA9IHtcbiAgbmFtZTogJ2Z1bmd1cycsXG4gIGNoYXI6ICdGJyxcbiAgZmc6ICdncmVlbicsXG4gIG1heEhQOiAxMCxcbiAgbWl4aW5zOiBbXG4gICAgRnVuZ3VzQWN0b3IsXG4gICAgRGVzdHJ1Y3RpYmxlLFxuICBdLFxufTtcbiIsImltcG9ydCBHbHlwaCBmcm9tICcuL2dseXBoJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZSBleHRlbmRzIEdseXBoIHtcbiAgY29uc3RydWN0b3IocHJvcGVydGllcyA9IHt9KSB7XG4gICAgc3VwZXIocHJvcGVydGllcyk7XG5cbiAgICB0aGlzLl9pc1dhbGthYmxlID0gcHJvcGVydGllcy5pc1dhbGthYmxlIHx8IGZhbHNlO1xuICAgIHRoaXMuX2lzRGlnZ2FibGUgPSBwcm9wZXJ0aWVzLmlzRGlnZ2FibGUgfHwgZmFsc2U7XG4gIH1cblxuICBpc1dhbGthYmxlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1dhbGthYmxlO1xuICB9XG5cbiAgaXNEaWdnYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNEaWdnYWJsZTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgTnVsbFRpbGUgPSBuZXcgVGlsZSh7fSk7XG5leHBvcnQgY29uc3QgRmxvb3JUaWxlID0gbmV3IFRpbGUoe1xuICBjaGFyOiAnLicsXG4gIGlzV2Fsa2FibGU6IHRydWUsXG59KTtcbmV4cG9ydCBjb25zdCBXYWxsVGlsZSA9IG5ldyBUaWxlKHtcbiAgY2hhcjogJyMnLFxuICBmZzogJ2dvbGRlbnJvZCcsXG4gIGlzRGlnZ2FibGU6IHRydWUsXG59KTtcbiJdfQ==
